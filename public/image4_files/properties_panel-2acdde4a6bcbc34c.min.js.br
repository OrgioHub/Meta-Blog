"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1bfbb93c-40a3-5be7-b1e4-4b57ce446055")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7355],{567023:(e,t,n)=>{n.r(t),n.d(t,{PropertiesPanel:()=>mr});var l=n(411855),r=n(188507),i=n(598045),s=n(574310),a=n(693903),o=n(346124),c=n(629019),p=n.n(c),d=n(91408),u=n(966712),m=n(498750),h=n(153234),E=n(763658),_=n(448169),y=n(979441),g=n(906899),S=n(169231),P=n(259927),b=n(617453),f=n(279145),v=n(233890),w=n(656147),T=n(184027),I=n(766022),k=n(951158),N=n(776621),C=n(304783),A=n(30637),O=n(827586),M=n(271779),R=n(939863);function L(){return null}var x=n(293017),D=n(286954),F=n(103907),V=n(672517),K=n(798099),U=n(297336),B=n(697551),H=n(356390),G=n(369870),Y=n(848661),W=n(618056),Q=n(809511),$=n(147206),z=n(316081),X=n(239671),j=n(143678),Z=n(109388),J=n(459593),q=n(971612),ee=n(927457),et=n(243742),en=n(268537),el=n(46481),er=n(738269),ei=n(662275),es=n(763142),ea=n(330654),eo=n(574724),ec=n(287497),ep=n(341860);let ed=`
You are an expert component creator in Figma. You identify the text content within a new component that should be assigned to properties.

You are given a screenshot of a new component, and the code representation of that component. Here is the Figma JSX for the component:

\`\`\`jsx
{{jsx}}
\`\`\`

Given the submitted screenshot image, you will return the following information about the component:
- Suggest a component name.
- Suggest a component description.
- Identify the node IDs in the JSX above that should be replaced with references to text properties. Return the IDs along with the new property name in a key-value pair.

Guidelines:
- Every property name you suggest must correspond directly 1:1 to a node ID listed above. You cannot assign more than one property to the same node ID.
- Be judicious and only identify the most important elements to become properties. Only some text nodes deserve to be properties, others can be left static.

Return in the following JSON format:
\`\`\`json
{
  "componentName": <SuggestedComponentName>,
  "componentDescription": <SuggestedComponentDescription>,
  "nodeIdsToPropertyNames: {[id: string]: PropertyName},
}
\`\``,eu=`
You are an expert component creator in Figma. You identify the text content within components in a component set that should be assigned to properties.

You are given a screenshot of a new component set, which contains one or more components laid out in a 2D grid, and the code representation of that component set. Here is the Figma JSX for the component set:

\`\`\`jsx
{{jsx}}
\`\`\`

Given the submitted screenshot image, you will return the following information about the component set:
- Suggest a component set name.
- Suggest a component set description.
- Identify the node IDs in the JSX above that should be replaced with references to properties. Return the IDs along with the new property name in a key-value pair.

Guidelines:
- Every property name you suggest must correspond directly 1:1 to a node ID listed above. You cannot assign more than one property to the same node ID.
- Be judicious and only identify the most important elements to become properties. Only some text nodes deserve to be properties, others can be left static.
- Components in a component set are related (e.g. variants of a button). The properties you suggest should be consistent across all components in the set.

Return in the following JSON format:
\`\`\`json
{
  "componentName": <SuggestedComponentName>,
  "componentDescription": <SuggestedComponentDescription>,
  "nodeIdsToPropertyNames: {[id: string]: PropertyName},
}
\`\``;async function em(e){let t=await e.loadImagesAndExport([{imageType:"PNG",constraint:{type:"CONTENT_SCALE",value:1},contentsOnly:!0,useAbsoluteBounds:!1,colorProfile:"DOCUMENT"}]),n=`data:image/png;base64,${(0,es.lF)(t)}`,l=await (0,ec.YJ)({nodeIds:[e.guid],options:{skipNodeIds:!1,includeName:!0,detachInstances:!0,componentUsageOrDefinition:"DEFINITION"}});if(!l.jsxStr)throw Error(`Could not get node JSX for node ID: ${e.guid}`);return{base64:n,jsx:l.jsxStr}}let eh=ea.object({componentName:ea.string(),componentDescription:ea.string(),nodeIdsToPropertyNames:ea.record(ea.string())});var eE=n(662531),e_=n(284321),ey=n(498606),eg=n(420186),eS=n(405206),eP=n(720488),eb=n(965908),ef=n(995439),ev=n(900086),ew=n(7959),eT=n(690710),eI=n(939791),ek=n(767129),eN=n(31524),eC=n(404095),eA=n(522739),eO=n(574176),eM=n(865618),eR=n(907368),eL=n(215440),ex=n(227795),eD=n(893606),eF=(e=>(e[e.VERTICAL=0]="VERTICAL",e[e.MIDDLE_CHILD=1]="MIDDLE_CHILD",e[e.LAST_CHILD=2]="LAST_CHILD",e))(eF||{});function eV(e){let{lineConfiguration:t,hideLine:n,wideContainer:r}=e;return l.createElement("div",{className:r?"bubbled_props_line_styles--containerWide--csTgg bubbled_props_line_styles--container--XumJm":"bubbled_props_line_styles--container--XumJm"},!n&&l.createElement("div",{className:"bubbled_props_line_styles--lineContainer--pEgTS"},(()=>{switch(t){case 0:return l.createElement("div",{className:"bubbled_props_line_styles--vertical--pialf bubbled_props_line_styles--_line--Vhv8-"});case 1:return l.createElement(l.Fragment,null,l.createElement("div",{className:"bubbled_props_line_styles--middleChildVertical--PxRp- bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),l.createElement("div",{className:"bubbled_props_line_styles--middleChildHorizontal--ucsHZ bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}));case 2:return l.createElement(l.Fragment,null,l.createElement("div",{className:"bubbled_props_line_styles--lastChildVertical--83Los bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),l.createElement("div",{className:"bubbled_props_line_styles--lastChildHorizontal--kGsHC bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}))}})()),e.children)}let eK="bubbled_instances_list--minusIcon--dY8i-",eU="bubbled_instances_list--instanceIcon--aRlGl",eB="bubbled_instances_list--instanceName--09LuV",eH="bubbled_instances_list--instanceNameWide---L338 bubbled_instances_list--instanceName--09LuV",eG="bubbled_instances_list--ui3InstanceNameAndIcon--W4S9T component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g",eY="bubbled_instances_list--ui3LineContainer--OdBbV",eW="bubbled_instances_list--ui3Line--SIYpX";var eQ=n(968109),e$=n(349307);function ez(e){let{showUnbubbledPrimaryInstances:t,showNumHidden:n,wideContainer:s,scrollableContainer:a}=e,o=(0,r.d4)(eL.K4),c=(0,eD.R)(),[d,u]=(0,l.useState)(!1),m=t?o:o?.filter(e=>e.isBubbled),E=e=>{eE.l7.user("toggle-props-bubbled",()=>i.glU.togglePropsAreBubbled(e)),i.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},_=e=>{i.Ez5.canvasViewState().temporarilyHoveredNodes.set(e)},y=()=>{i.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},g=0,S=c&&!t&&!d&&null!=m&&m.length>5,P=S?m.slice(0,4):m;return S&&(g=m.length-4),l.createElement("div",{className:p()({"bubbled_instances_list--scrollableContainer--ob0LQ":a})},P?.map((r,i)=>{let a=r.connectedGUIDs.slice(0).sort();return l.createElement(eA.D8,{className:"bubbled_instances_list--instanceSection--tLYN0",key:i,onMouseEnter:()=>_(r.connectedGUIDs),onMouseLeave:y,recordingKey:h.Pt(e,a[0])},c?t?l.createElement(eJ,{data:r,showNumHidden:n,onUnbubbleInstance:E,recordingKey:h.Pt(e,"checkbox",a[0]),wideContainer:s}):l.createElement(ej,{data:r,onUnbubbleInstance:E,recordingKey:h.Pt(e,"unbubble",a[0]),wideContainer:s}):l.createElement(l.Fragment,null,l.createElement(eV,{lineConfiguration:eF.VERTICAL,hideLine:0===r.bubbledNestedInstances.length,wideContainer:s},t?l.createElement(eX,{data:r,onUnbubbleInstance:E,showNumHidden:n,wideContainer:s,recordingKey:h.Pt(e,"checkbox",a[0])}):l.createElement(l.Fragment,null,l.createElement(eO.B,{className:eU,svg:eQ.A}),l.createElement("p",{className:s?eH:eB},r.name),l.createElement(ex.K0,{className:eK,svg:e$.A,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":R.t("design_systems.component_properties.unbubble_instance"),onClick:()=>{E(r.connectedGUIDs[0])},recordingKey:h.Pt(e,"unbubble",a[0])}))),r.bubbledNestedInstances.map((e,t)=>l.createElement("div",{key:t},l.createElement(eV,{lineConfiguration:t===r.bubbledNestedInstances.length-1?eF.LAST_CHILD:eF.MIDDLE_CHILD,wideContainer:s},l.createElement("div",{className:s?eH:eB},e.name))))))}),c&&!d&&g>0&&l.createElement(eR.t8,{label:(0,R.t)("design_systems.component_properties.show_more_nested_instances_rows",{count:g}),onClick:()=>u(!0)}))}function eX({data:e,onUnbubbleInstance:t,showNumHidden:n,wideContainer:r,recordingKey:i}){return l.createElement("div",{className:r?"bubbled_instances_list--checkboxContainerWide--Kdd3u bubbled_instances_list--checkboxContainer--qm3X7":"bubbled_instances_list--checkboxContainer--qm3X7"},l.createElement(eM.S,{label:e.name,checked:e.isBubbled,onChange:()=>{t(e.connectedGUIDs[0])},truncateLabel:{truncate:"line-clamp",lineClamp:2},recordingKey:i}),n&&!!e.numHidden&&l.createElement("div",{className:"bubbled_instances_list--numHidden--fW-Sr"},(0,R.tx)("design_systems.component_properties.num_hidden",{num:e.numHidden})))}function ej({data:e,onUnbubbleInstance:t,recordingKey:n,wideContainer:r}){let{bubbledNestedInstances:i}=e,s=l.createElement(eI.DE,{label:null,input:l.createElement("div",{className:eG},l.createElement("div",{className:eU},l.createElement(eN.y,null)),l.createElement("p",{className:eB},e.name)),icon:l.createElement("div",{className:eK},l.createElement(ek.K,{"aria-label":(0,R.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{t(e.connectedGUIDs[0])},recordingKey:n,htmlAttributes:{"data-tooltip":(0,R.t)("design_systems.component_properties.unbubble_instance"),"data-tooltip-type":ey.Ib.TEXT,onMouseDown:K.dG}},l.createElement(eC.f,null)))});return 0===i.length?s:l.createElement(eZ,{data:e,row:s,wideContainer:r})}function eZ({data:e,row:t,wideContainer:n}){return l.createElement(eR.R$,{row:t,isCollapsedByDefault:!0},e.bubbledNestedInstances.map((e,t)=>l.createElement("div",{key:t},l.createElement(eI.DE,{label:null,input:l.createElement("div",{className:eG},l.createElement("div",{className:eY},l.createElement("div",{className:eW})),l.createElement("div",{className:n?eH:eB},e.name)),icon:null}))))}function eJ({data:e,onUnbubbleInstance:t,recordingKey:n,showNumHidden:r,wideContainer:i}){return l.createElement(l.Fragment,null,l.createElement(eI.Ad,{label:null,input:l.createElement(eX,{data:e,onUnbubbleInstance:t,showNumHidden:r,wideContainer:i,recordingKey:n})}),e.bubbledNestedInstances.map((e,t)=>l.createElement("div",{key:t},l.createElement(eI.Ad,{label:null,input:l.createElement("div",{className:"bubbled_instances_list--ui3CheckboxViewNestedInstance--YgTEc"},l.createElement("div",{className:eY},l.createElement("div",{className:eW})),l.createElement("div",{className:i?eH:eB},e.name))}))))}var eq=n(572206),e0=n(273226),e1=n(746806);function e5(){let e="bubbledPropsPicker",t=(0,r.d4)(e=>e.pickerShown),n=(0,r.wA)(),i=new eq.Mi(t?.initialX,t?.initialY);return t?.id!==e0.Dd?null:l.createElement(e1.vx,{title:(0,R.t)("design_systems.component_properties.expose_nested_instances"),initialPosition:i,initialWidth:e0.wh,headerSize:"small",onClose:()=>{n(x.XE())},recordingKey:e},l.createElement("div",{className:"bubbled_props_picker--container--I6VX-"},l.createElement(ez,{showUnbubbledPrimaryInstances:!0,showNumHidden:!0,wideContainer:!0,scrollableContainer:!0,recordingKey:e})))}var e4=n(208206),e3=n(25888),e2=n(107244),e6=n(322515);let e7="props_panel--addButtonContainer--a58gi",e8="props_panel--addButton--jAtAX draggable_list--addButton--D0q--",e9="props_panel--dropdownRowWithIcon--03FtD",te="props_panel--dropdownRowWithoutIcon--F8Ra-",tt="props_panel--bubbledInstancesHeading--C26v2";var tn=n(633779),tl=n(100562),tr=n(501191);function ti({recordingKey:e}){let t=(0,r.wA)(),{version:n}=(0,et.DP)(),s="ui3"===n,a=(0,r.d4)(eT.i$),o=(0,r.d4)(e2.od),c=!(0,r.d4)(e3.Jp),p=(0,r.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===e0.C4),d=(0,r.d4)(e=>!!e.modalShown&&e.modalShown.type===e4.n.type),{componentDescription:m}=(0,eb.z6)(),E=(0,r.d4)(e=>e.pickerShown),_=p||d||E?.id===e0.Dd,y=!!(0,r.d4)(eL.Z3).length,g=(0,r.d4)(eL.K4),S=!!g?.length,P=(0,r.d4)(e_.Dr),b=(0,r.d4)(e_.Ct),{submit:f,apply:v}={submit:l.useCallback(async e=>{if(!e)return;let t=await em(e),n=(e.isStateGroup?eu:ed).replace("{{jsx}}",t.jsx);return function(e){if(!e)throw Error("No content detected in GPT response");let t=e.match(/```json\n([\s\S]*?)```/g);if(!t?.length)return;let n=JSON.parse(t[0].replace(/```json\n|```/g,""));return eh.parse(n)}((await eo.Ay.openai.completeChat({model:"gpt-4o-2024-05-13",temperature:.5,n:1,messages:[{role:"system",content:n},{role:"user",content:[{type:"image_url",image_url:{url:t.base64}}]}],use_cache:!1})).choices[0].message.content)},[]),apply:l.useCallback((e,t)=>{if(e?.type==="SYMBOL"||e?.isStateGroup){for(let n of(e.name=t.componentName,e.description||(e.description=t.componentDescription),Object.keys(t.nodeIdsToPropertyNames))){let l=ep.q.instance.get(n);if(!l||"TEXT"!==l.type||l.isInstanceSublayer)continue;let r=e.componentPropertyDefinitions(),i=l.componentPropertyReferences();if(i?.characters)continue;let s=t.nodeIdsToPropertyNames[n],a=function(e,t){for(let n in e)if("VARIANT"!==e[n].type){let e=n.split("#");if(e.slice(0,e.length-1).join("#")===t)return n}else if(n===t)return n;return null}(r,s);a&&r[a]?.type==="TEXT"||(a=e.addComponentPropertyDefinition(s,"TEXT",l.characters,void 0)),l.setComponentPropertyReferences({...l.componentPropertyReferences(),characters:a})}H.Y5.commit()}},[])},w=l.useRef(null),T=l.useRef(null),I=l.useCallback(e=>{E&&t(x.XE()),p?t(er.oB()):t(er.j7({type:e0.C4}))},[t,E,p]),k=l.useCallback(e=>{(0,e0.Pp)(o,!1,e,e0.Fv.ICON),t(ei.to({type:e4.n,data:{propType:e}}))},[t,o]),N=l.useCallback(()=>{o&&(o.isLooseComponent?H.Y5.triggerActionInUserEditScope("create-state-group"):k(i.J0O.VARIANT))},[k,o]),C=l.useCallback(()=>{let e=Z.findDOMNode(T.current),n=e?(0,eg.cn)(e,e0.wh):{};t(x.u1({id:e0.Dd,initialX:n?.x,initialY:n?.y}))},[t]),A=l.useCallback(async()=>{let e=await f(o);e&&eE.l7.user("apply-suggested-props",()=>{v(o,e)})},[f,v,o]),O=[i.J0O.BOOL,i.J0O.INSTANCE_SWAP,i.J0O.TEXT,...(0,u.kc)().ds_variable_props_number_type_ui?[i.J0O.NUMBER]:[]];return o?l.createElement(ew.Zk,{ref:T},l.createElement(eb.QQ,null),s&&!c?l.createElement(ef.n,{description:m}):null,l.createElement(s?ta:ts,{isPanelEmpty:c,isAddPropButtonSelected:_,hasBubbledInstances:y,stateGroupSelectionMode:a,selectAddPropOptionRef:w,toggleAddPropDropdown:I,recordingKey:e}),p&&w.current&&l.createElement(eP.Cf,{targetRect:w.current.getBoundingClientRect(),propagateCloseClick:!0},l.createElement(en.c$,{disabled:!0,className:te},(0,R.tx)("design_systems.component_properties.create_new_property")),l.createElement(en.c$,{className:e9,onClick:N,recordingKey:h.Pt("openCreatePropModal",(0,e0.xb)(i.J0O.VARIANT))},l.createElement(eS.Nu,null,l.createElement(el.U,{svg:tl.A},l.createElement(J.m,null))),(0,R.tx)("design_systems.component_properties.across_variants")),O.map(e=>l.createElement(en.c$,{key:e,className:e9,onClick:()=>k(e),recordingKey:h.Pt("openCreatePropModal",(0,e0.xb)(e))},l.createElement(eS.Nu,null,l.createElement(el.U,{svg:(0,e0.qe)(e)},(0,e0.zn)(e,!0))),(0,e0.xb)(e))),S&&l.createElement(l.Fragment,null,l.createElement(en.wv,null),l.createElement(en.c$,{disabled:!0,className:te},(0,R.tx)("design_systems.component_properties.expose_nested_instances")),l.createElement(en.c$,{className:e9,onClick:C,recordingKey:"openBubbledPropPicker"},l.createElement(eS.Nu,null,l.createElement(el.U,{svg:tn.A},l.createElement(q.M,null))),(0,R.t)("design_systems.component_properties.choose_instances"))),(0,u.kc)().first_draft_link_to_component&&l.createElement(l.Fragment,null,l.createElement(en.wv,null),l.createElement(en.c$,{className:e9,onClick:A,recordingKey:"suggestProps"},l.createElement(eS.Nu,null,l.createElement(el.U,{svg:tn.A},l.createElement(q.M,null))),(0,R.t)("first_draft.suggest_properties")))),E?.id===e0.Dd&&l.createElement(e5,null),l.createElement(eR.e6,{containerWidth:s?e0.O2.RESIZABLE_SIDEBAR:e0.O2.REGULAR,propDimension:e0.OE.DEFINITION,guids:[o.guid],recordingKey:e,enableHidingOverflowRowsInUI3:!1,entrypointForInstanceSwapPicker:null}),y&&l.createElement(l.Fragment,null,l.createElement("p",{className:tt},(0,R.t)("design_systems.component_properties.bubbled_instances")),l.createElement(ez,{recordingKey:e})),s&&P&&b?l.createElement(eI.Ad,{label:null,input:l.createElement(ev.U,null)}):null):null}function ts({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:r,selectAddPropOptionRef:s,toggleAddPropDropdown:a}){return l.createElement(ew.fI,{className:!e||t||n?void 0:"props_panel--panelHeaderRowFaded--r4klF draggable_list--panelHeaderRowFaded--kETRR"},l.createElement(ew.xw,{className:"props_panel--panelTitleText--i7WqG draggable_list--panelTitleText--SwKez"},(0,R.tx)("design_systems.component_properties.properties")),r!==i.iCO.STATE&&l.createElement("div",{ref:s,className:e7},l.createElement(ew.YW,{className:e8,onClick:a,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("design_systems.component_panel.create_component_property"),svg:tr.A,recordingKey:"openCreatePropModalDropdown"})))}function ta({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:r,selectAddPropOptionRef:s,toggleAddPropDropdown:a}){let o=l.useRef(null),c=e&&!n,d=c?(0,R.tx)("design_systems.component_properties.add_property"):(0,R.tx)("design_systems.component_properties.properties");return l.createElement(eI.DE,{ref:o,input:d,label:null,appendedClassName:p()("props_panel--ui3PanelHeaderRow--Ab8Jz",{[e6.yf]:!t}),icon:r!==i.iCO.STATE?l.createElement("div",{ref:s,className:p()(e7,{"props_panel--ui3ShowIconOnHover--ovobs":!c})},l.createElement(ew.YW,{className:e8,onClick:a,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("design_systems.component_panel.create_component_property"),recordingKey:"openCreatePropModalDropdown"},l.createElement(ee.e,null))):void 0})}var to=n(507956),tc=n(236192),tp=n(776250),td=n(935283),tu=n(297666),tm=n(358145),th=n(886653),tE=n(437304),t_=n(286640),ty=n(347082),tg=n(395281),tS=n(452246),tP=n(226055),tb=n(29680),tf=n(335682),tv=n(416095),tw=n(237929),tT=n(444576),tI=n(945020),tk=n(173454),tN=n(602029),tC=n(463420),tA=n(96796),tO=n(912666),tM=n(255942),tR=n(860168);let tL="styles--contextMenu--C-hVT",tx="styles--showOnRowHover--OUqRT",tD="styles--showOnSelectedRowHover--Lcf7e styles--showOnRowHover--OUqRT",tF="styles--caret--DZmzh",tV="styles--rowSelectedExpanded--MGvUV",tK="styles--rowSelectedSecondaryLightBlue--S-zy- draggable_list--rowSelectedSecondary--yOI1g raw_components--rowSelectedSecondary---U7Us raw_components--rowSelected--M2Eip";function tU({childLeft:e,childRight:t,deleteSelectedItems:n,forceShowHoverBorder:r,hideStylePreview:i,index:s,inspectStyleSelected:a,isDragging:o,isEditable:c,isRenaming:d,isCollapsed:u=!0,isLastChildOfSelection:E=!1,isFirstChildOfSelection:_=!1,isFolder:y,level:g,name:S,nameRef:P,onChildLeftClick:b,onContextMenu:f,onCreateFolder:v,onDoubleClick:w,onHoverChange:T,onMouseDown:I,onMouseMove:k,recordingKey:N,rowRef:C,secondaryName:A,selected:O,selectedSecondary:M,stopRenamingItem:R,tooltipData:L}){let x=l.useRef(null),[D,F]=l.useState(S),[V,U]=l.useState(!1),B=(0,tP.GS)(),G=l.useCallback(e=>{if(e){let t=Z.findDOMNode(e);t&&t.select()}},[]);l.useEffect(()=>{F(S)},[S]);let Y=l.useCallback(e=>{""===e.trim()?(R(s,S),F(S)):R(s,e)},[s,S,R]),W=(0,h.AF)((0,h.Pt)(N,"text-input"),"change",l.useCallback(e=>{F(e.currentTarget.value)},[F])),Q=(0,h.v_)((0,h.Pt)(N,"text-input"),"keydown",e=>{e.keyCode===m.Uz.ESCAPE?(R(s,S),F(S)):e.keyCode===m.Uz.ENTER&&Y(e.currentTarget.value)},{recordMetadata:e=>({inputValue:e.currentTarget.value}),playbackMetadata:e=>({currentTarget:{value:e.inputValue}})}),$=(0,h.v_)(N,"keydown",e=>{c&&!d&&(e.keyCode===m.Uz.BACKSPACE||e.keyCode===m.Uz.DELETE)?n():c&&!d&&e.keyCode===m.Uz.G&&(0,m.Fo)(e)?(v(),e.preventDefault()):!d&&e.nativeEvent&&H.Y5.forwardKeyboardEvent(e.nativeEvent)}),z=l.useCallback(()=>{Y(D)},[Y,D]),X=(0,h.rf)(N,"contextmenu",e=>{f(e)}),j=(0,h.rf)(N,"mousemove",e=>{k(e)},{recordMetadata:e=>({bounds:e.currentTarget.getBoundingClientRect(),pageX:e.pageX,pageY:e.pageY}),playbackMetadata:e=>({currentTarget:{getBoundingClientRect:()=>e.bounds},pageX:e.pageX,pageY:e.pageY})}),J=(0,h.rf)(N,"mousedown",e=>{I(e),i()}),q=(0,h.rf)(N,"mouseenter",l.useCallback(()=>{U(!0),T?.(!0)},[U,T])),ee=l.useCallback(()=>{U(!1),T?.(!1)},[U,T]),et=(0,h.rf)(N,"dblclick",l.useCallback(e=>{w(e)},[w])),en=Math.min((g-1)*3,18),el=tR.jNX-4-en,er=el-(B?7:5),ei=V&&!d||a?er:el,es=O||M,ea=p()({[tV]:!u&&es,"styles--folderSecondarySelected--SL0JY":M||O&&!_,[tK]:M&&!B}),eo=p()({[tK]:es,[tV]:!E&&es}),ec=p()("styles--rowWithBorder--bphZ-",{[ea]:y,[eo]:!y,"styles--rowWithHover--RWNMH":!es&&(r||V&&!o)}),ep=l.createElement("div",{className:d?"styles--rowContentsRenaming--oDTtO styles--rowContents--37JBy":"styles--rowContents--37JBy",key:S,style:B?{width:"100%"}:{gridColumnEnd:`span ${ei}`}},d?l.createElement(ew.ks,{autoCapitalize:"off",autoCorrect:"off",autoFocus:!0,className:"styles--input--LbjR0",onBlur:z,onChange:W,onKeyDown:Q,ref:G,spellCheck:!1,value:D}):l.createElement(l.Fragment,null,l.createElement("div",{className:"styles--name--KWZ8d ellipsis--ellipsis--Tjyfa",ref:P,...L},S),A&&l.createElement("div",{className:"styles--textStyle--DiUv4"},A)));return l.createElement(tN.e,{className:ec,dragging:o,hideGrabber:!0,onContextMenu:X,onKeyDown:$,onMouseDown:J,onMouseEnter:q,onMouseLeave:ee,onMouseMove:j,onDoubleClick:et,ref:(0,tM.A)(x,C),selected:O,selectedSecondary:!1,tabIndex:0},en>0&&l.createElement("span",{style:{gridColumnEnd:`span ${en}`}}),l.createElement("div",{className:"styles--childLeftContainer--Hu61K",style:B?{gridColumnEnd:`span ${ei}`}:void 0},l.createElement("div",{onMouseDown:b&&K.dG,onClick:b},e),B&&ep),!B&&ep,t)}var tB=n(949207),tH=n(432023),tG=n(660164);function tY({deleteSelectedItems:e,folder:t,folderNameToNestUnder:n,hideStylePreview:i,index:s,isCollapsed:a,isDragging:o,isEditable:c,isRenaming:p,isTemporarilyExpanded:d,isFirstChildOfSelection:u,level:m,onContextMenu:E,onCreateFolder:_,onMouseDown:y,onMouseMove:S,onRenameItem:P,recordingKey:b,selected:f,selectedSecondary:v,stopRenamingItem:w,temporarilyExpandFolder:T,toggleFolder:I}){let k=(0,r.wA)(),[N,C]=l.useState(!1),A=l.useRef(null),O=N&&!p&&c;l.useEffect(()=>{if(N&&o&&a){let e=setTimeout(()=>{T(t.name)},1e3);return()=>clearTimeout(e)}},[N,o,a,T,t]);let M=l.useCallback(()=>{let e=(0,tO.Zk)(t.styleTypeSection),n=A.current?.getBoundingClientRect();e&&n&&k(g.Zs({rowLeft:n.left,rowTop:n.top,styleType:t.styleTypeSection,styleNameInputPrefix:`${t.name}/`,inheritStyleKeyField:e}))},[A,t.name,t.styleTypeSection,k]);return l.createElement(tU,{deleteSelectedItems:e,forceShowHoverBorder:n===t.name,hideStylePreview:i,index:s,isDragging:o,isEditable:c,isRenaming:p,isCollapsed:a,isFolder:!0,isFirstChildOfSelection:u,level:m,name:(0,tw.kH)(t.name),onChildLeftClick:function(){I(!a)},onContextMenu:E,onCreateFolder:_,onDoubleClick:function(){t.styleTypeSection&&P(t.name,!1,t.styleTypeSection)},onHoverChange:C,onMouseDown:y,onMouseMove:S,onRenameItem:P,recordingKey:b,selected:f,selectedSecondary:v,stopRenamingItem:w,rowRef:e=>{e&&(A.current=Z.findDOMNode(e))},childLeft:l.createElement(el.U,{svg:a&&!d?tH.A:tB.A,className:tF},a&&!d?l.createElement(tC.k,{className:tF}):l.createElement(tA.O,{className:tF})),childRight:O&&l.createElement(ew.$4,null,l.createElement(ew.K0,{className:f?tD:tx,recordingKey:h.Pt(b,"addButton"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("design_systems.styles.tooltips.create"),svg:tr.A,fallbackSvg:tG.A,onClick:M}))})}var tW=n(221768),tQ=n(378905),t$=n(44892),tz=n(991443),tX=n(720384),tj=n(162502);function tZ({deleteSelectedItems:e,hideStylePreview:t,index:n,isDragging:i,isEditable:s,isRenaming:a,isLastChildOfSelection:o,level:c,onContextMenu:p,onCreateFolder:u,onInspectStyle:m,onMouseDown:E,onMouseMove:_,onRenameItem:y,recordingKey:S,selected:P,selectedSecondary:b,stopRenamingItem:f,dsStyle:v,stylePreviewShown:w,updateContextMenuStyleRef:T,updateSelection:I,updateFocusRowRef:k}){let[N,C]=l.useState(!1),A=(0,r.wA)(),O=l.useRef(null),M=l.useRef(null),L=l.useCallback(()=>{s&&y(v.node_id,!0,v.style_type)},[y,v.node_id,v.style_type,s]),D=w.isShown&&!w.isCreating&&w.style.node_id===v.node_id&&(0,tQ.EF)(w.style,v),F=N&&!a||D,V=l.useCallback(function(){let e=M.current;if(e){let t=e.getBoundingClientRect();D?A(g.sw()):(A(g.rk({style:v,rowTop:t.top,rowLeft:t.left})),m(v),I({type:v.style_type,folderNames:new Set,styleIds:new Set(v.node_id)}))}A(x.XE())},[A,m,I,v,D]),U=l.useCallback(e=>{(2===e.button||e.ctrlKey)&&T(M.current),E(e),D&&V()},[V,E,D,T]),B=O.current,H=!!B&&B.offsetWidth<B.scrollWidth,G=l.useMemo(()=>!i&&v.description&&H?{"data-tooltip-type":ey.Ib.SPECIAL,"data-tooltip":tX.Z,"data-tooltip-style-name":(0,tw.kH)(v.name),"data-tooltip-style-description":v.description,"data-tooltip-max-width":tR.jNX*(0,d.hG)(tR.dGl)}:null,[H,i,v.name,v.description]),Y="TEXT"===v.style_type&&v.meta?.style_thumbnail?v.meta.style_thumbnail:null;return l.createElement(tU,{deleteSelectedItems:e,hideStylePreview:t,index:n,inspectStyleSelected:D,isDragging:i,isEditable:s,isRenaming:a,isFolder:!1,isLastChildOfSelection:o,level:c,name:(0,tw.kH)(v.name),nameRef:O,onContextMenu:p,onCreateFolder:u,onDoubleClick:L,onHoverChange:C,onMouseDown:U,onMouseMove:_,onRenameItem:y,recordingKey:S,rowRef:e=>{if(e){let t=Z.findDOMNode(e);k&&k(t),M.current=t}},secondaryName:Y&&(0,t$.P$)(Y),selected:P,selectedSecondary:b,stopRenamingItem:f,tooltipData:G,childLeft:l.createElement(l.Fragment,null,l.createElement(tz.zi,{dsStyle:v,disableTooltip:!0}),P&&"FILL"===v.style_type&&l.createElement("div",{className:"styles--selectedRing--UniEc"})),childRight:F&&l.createElement(ew.$4,null,l.createElement("div",{style:{gridColumnEnd:"span 1"}}),l.createElement(ex.YW,{className:P?tD:tx,recordingKey:h.Pt(S,"customButton"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":s?(0,R.t)("design_systems.styles.edit_style"):(0,R.t)("design_systems.styles.view_style"),selected:D,onMouseDown:K.dG,onClick:V},l.createElement(el.U,{svg:tj.A},l.createElement(tW.A,null))))})}function tJ({styleType:e,children:t}){let n=!(0,tb.p8)("isReadOnly");return l.createElement("div",{className:"styles--styleTypeSection--jPjTq component_tiles--section--qMua7"},n?l.createElement(tq,{styleType:e,recordingKey:`style-section-header-${e}`}):l.createElement("div",{className:"styles--styleTypeSectionHeader--224lA component_tiles--sectionHeader--eEC6d raw_components--panelTitle--VAQQA"},(0,tv.QT)(e)),t)}function tq({styleType:e,recordingKey:t}){let[n,i]=l.useState(!1),s=(0,r.wA)(),a=l.useRef(null),o=l.useCallback(()=>{let t=(0,tO.Zk)(e),n=a.current?.getBoundingClientRect();t&&n&&s(g.Zs({rowLeft:n.left,rowTop:n.top,styleType:e,inheritStyleKeyField:t}))},[a,e,s]);return l.createElement(eA.D8,{className:"styles--styleTypeSectionRow--wVTIO",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),recordingKey:t,forwardedRef:a},l.createElement(ew.JU,{className:"styles--styleTypeSectionRowLabel--PrKm-"},(0,tv.QT)(e)),n&&l.createElement(ex.K0,{className:"styles--styleTypeSectionRowButton--V4Co2 styles--showOnRowHover--OUqRT",recordingKey:h.Pt(t,"addButton"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("design_systems.styles.tooltips.create_style_from_section",{kind:(0,tv.XV)(e).toLowerCase()}),svg:tr.A,fallbackSvg:tG.A,onClick:o}))}tJ.displayName="StyleTypeSection";var t0=n(318812),t1=n(333370);let t5=en.ms,t4=en.c$,t3=en.wv,t2="styles-by-type-context-menu",t6=.75*(0,d.hG)(tR.uj0);function t7({styleRowRef:e,onEditStyle:t,onRenameItem:n,onCreateFolder:i,onDeleteItems:s,onCutItems:a,onPasteItems:o,styleType:c}){let p=(0,t0.Um)(),d=(0,r.d4)(e=>e.library.localStyleSelection),u=l.useMemo(()=>d&&d.type===c&&p?.type===t2?(0,t1.QA)(d,p.data.uiList):[],[d,p,c]),m=l.useMemo(()=>(0,t1.Ug)(u).map(e=>e.node_id),[u]),h=m.length;return p&&m.length?l.createElement(t8,{styleRowRef:e,selectedItems:u,numStyles:h,dropdownShown:p,onEditStyle:t,onRenameItem:n,onCreateFolder:i,onDeleteItems:s,onCutItems:a,onPasteItems:o}):l.createElement("div",null)}function t8({styleRowRef:e,selectedItems:t,numStyles:n,dropdownShown:s,onEditStyle:a,onRenameItem:o,onCreateFolder:c,onDeleteItems:p,onCutItems:d,onPasteItems:u}){let m=(0,r.wA)();l.useEffect(()=>(i.glU.computePastableStyleCount(),()=>{i.glU.clearPastableStyleCount()}),[]);let h=(0,r.d4)(e=>e.mirror.appModel.pastableStyleCount),E=!!tf.q5()?.canEdit,_=l.useCallback(()=>{if(!t.length||t[0].type!==tk.PW.STYLE)return;let n=t[0];if(e){let t=e.getBoundingClientRect();m(g.rk({style:n,rowTop:t.top,rowLeft:t.left})),m(x.XE())}a(n)},[m,t,a,e]),y=l.useCallback(()=>{if(!t.length||t[0].type===tk.PW.STYLE)return;let e=t[0];o(e.name,!1,e.styleTypeSection)},[o,t]);if(-1===h)return l.createElement("div",null);if(!E)return n>1?l.createElement("div",null):l.createElement(t5,{style:s.data.position,className:tL},l.createElement(t4,{recordingKey:"edit-style-option",onClick:_},(0,R.tx)("design_systems.styles.view_style")));let S=1===n&&(t[0].type===tk.PW.STYLE?l.createElement(t4,{recordingKey:"edit-style-option",onClick:_},(0,R.tx)("design_systems.styles.edit_style")):l.createElement(t4,{recordingKey:"rename-folder-option",onClick:y},(0,R.tx)("design_systems.styles.rename_folder")));return l.createElement(t5,{style:s.data.position,className:tL},l.createElement(t4,{recordingKey:"create-folder-option",onClick:c},(0,R.tx)("design_systems.styles.add_new_folder")),S,l.createElement(t4,{recordingKey:"delete-style-option",onClick:p},(0,R.tx)("design_systems.styles.delete_styles",{numStyles:n})),l.createElement(t3,null),l.createElement(t4,{recordingKey:"cut-style-option",onClick:d},(0,R.tx)("design_systems.styles.cut_styles",{numStyles:n})),!!h&&l.createElement(t4,{recordingKey:"paste-style-option",onClick:u},(0,R.tx)("design_systems.styles.paste_styles",{numStyles:h})))}var t9=n(710752),ne=n(582288),nt=n(884909),nn=n(304173),nl=n(608974),nr=n(257812),ni=n(319431),ns=n(914110);let na="local-style-creation-dropdown";function no(){let e=(0,r.wA)(),t=(0,l.useContext)(T.lk),n=!(0,tb.p8)("isReadOnly"),i=l.useRef(null),s=l.useRef(null),a=i.current,o=(0,t0.Um)(),c=o?.type===na,p=o?.data?.targetRect,d="localStyleHeader",u=0===(0,I.Bs)().length,m=(0,r.d4)(e=>e.stylePreviewShown.isShown&&e.stylePreviewShown.isCreating),E=l.useMemo(()=>p||(c&&a?a.getBoundingClientRect():null),[p,a,c]),_=()=>{e(er.oB())},y=()=>{e(er.j7({type:na}))},S=t=>{t.stopPropagation(),e(g.YG());let n=i.current;c?_():n&&((0,tp.sx)("editor-local-styles-dropdown-show"),y())},P=e=>{_();let n=(0,tO.Zk)(e),l=s.current?.getBoundingClientRect();n&&l&&t({styleType:e,inheritStyleKeyField:n,rowLeft:l.left,rowTop:l.top})},b=u&&!c&&!m;return l.createElement(ew.fI,{className:b?"styles--panelHeaderRowFaded--pfgKz styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO draggable_list--panelHeaderRowFaded--kETRR":"styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO",forwardedRef:s},l.createElement(ew.xw,{className:"styles--panelTitleText--v7gXm draggable_list--panelTitleText--SwKez",onMouseDown:e=>b&&S(e),onClick:e=>e.stopPropagation()},(0,R.tx)("design_systems.styles.local_styles")),n&&l.createElement(l.Fragment,null,l.createElement(ew.K0,{ref:i,onMouseDown:S,onClick:e=>e.stopPropagation(),className:c?"styles--stylesHeaderButtonHighlight--WTeWy raw_components--iconButtonSelected--bJibL raw_components--_iconButton---ybo6":"styles--stylesHeaderButton--jhpA5 draggable_list--addButton--D0q--","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("design_systems.create_style.create_style"),recordingKey:h.Pt(d,"addButton")},l.createElement(el.U,{svg:tr.A,fallbackSvg:tG.A},l.createElement(ee.e,null))),c&&E&&l.createElement(eP.Cf,{targetRect:E,minWidth:128,disableDropdownScrollContainer:!0,propagateCloseClick:!0},tv.og.map(e=>{let{icon:t,label:n}=function(e){switch(e){case"TEXT":return{icon:l.createElement(el.U,{svg:ns.A},l.createElement(t9.e,null)),label:(0,R.t)("design_systems.styles.dropdown.text")};case"FILL":return{icon:l.createElement(el.U,{svg:nr.A},l.createElement(ne.G,null)),label:(0,R.t)("design_systems.styles.dropdown.fill")};case"GRID":return{icon:l.createElement(el.U,{svg:ni.A},l.createElement(nt.E,null)),label:(0,R.t)("design_systems.styles.dropdown.grid")};case"EFFECT":return{icon:l.createElement(el.U,{svg:nl.A},l.createElement(nn.n,null)),label:(0,R.t)("design_systems.styles.dropdown.effect")};default:throw(0,td.j)(e),Error(`Invalid style type: ${e}`)}}(e),r=t=>{t.stopPropagation(),P(e)};return l.createElement(en.c$,{key:e,className:"styles--createStyleDropdownRow--7iCXQ",onClick:r,onPointerUp:r,recordingKey:h.Pt(d,`dropdown-option-${e}`)},l.createElement(eS.Nu,null,t),n)}))))}let nc="collapsed-style-folders";function np({scrollContainer:e,recordingKey:t}){let n=(0,I.Bs)(),r=(0,tb.p8)("isReadOnly");return 0===n.length&&r?null:l.createElement(ty.p,{name:"local_styles_panel"},l.createElement(ew.Zk,null,l.createElement(nd,{scrollContainer:e,recordingKey:t})))}function nd({scrollContainer:e,recordingKey:t}){let n=(0,r.wA)(),a=(0,r.d4)(e=>e.stylePreviewShown),o=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),c=(0,r.d4)(e=>e.mirror.appModel.currentTool),p=l.useRef(null),d=(0,I.Bs)(),u=(0,r.d4)(e=>e.library.localStyleSelection),[m,E]=l.useState(null),[_,y]=l.useState(null),S=l.useRef(null),[P,b]=l.useState(!1),f=o===i.m1T.GRADIENT||o===i.m1T.RASTER||c===i.NLJ.DROPPER_COLOR;l.useEffect(()=>{let e=()=>{!f&&(n(tg.Bn(null)),a.isShown&&(n(g.sw()),i.glU.selectStyle(s.StyleKey.INVALID,s.StyleVersion.INVALID)))},t=(0,K.ft)();return t?window.addEventListener("pointerdown",e):window.addEventListener("mousedown",e),()=>{t?window.removeEventListener("pointerdown",e):window.removeEventListener("mousedown",e)}},[n,a.isShown,f]);let{stylesByType:v,foldersAndStylesByType:w}=l.useMemo(()=>{let e=(0,tv.Kw)(d),t=new Map;return tv.og.map(n=>{let l=e.get(n);if(l){(0,tv.LX)(l);let e=(0,t1.lM)(l,n),r=(0,t1.l0)(e);t.set(n,r)}}),{stylesByType:e,foldersAndStylesByType:t}},[d]),T=l.useCallback(e=>{(0,td.KF)(null!=e.content_hash,"style does not have a hash"),i.glU.selectStyleByGuid(e.node_id),n(tg.ay({isRenaming:!1})),(0,tp.sx)("Style Inspected",{styleType:e.style_type,from:"styleListClick"})},[n]),k=l.useCallback((e,t,n)=>{E(t?e:null),y(t?null:{name:e,styleTypeSection:n})},[]),N=l.useCallback(e=>{if(!e){n(tg.Bn(null));return}let t=new Set;e.styleIds.forEach(n=>{let l=d.find(e=>e.type===tk.PW.STYLE&&e.node_id===n);if(!l)return;let r=(0,tw.In)(l.name);e.folderNames.has(r)||t.add(n)});let l={type:e.type,folderNames:e.folderNames,styleIds:t};n(tg.Bn(l))},[n,d]),C=l.useCallback((e,t,n)=>{if(!u)return;let l=e[t],r=(e,t)=>{let l=(0,tw.ke)(e.name),r=null!=t?t:l.length-1;l[r]=n;let s=(0,t1.Pc)(l.join("/"));eE.l7.user("rename-style",()=>i.glU.renameNode(e.node_id,s))};if(l.name!==n){if(l.type===tk.PW.STYLE)r(l);else{(0,t1.mx)(t,e).forEach(t=>{let n=e[t];n.type===tk.PW.STYLE&&r(n,l.level-1)});let i=new Set(u.folderNames);i.delete(l.name);let s=(0,tw.In)(l.name)+"/"+n;i.add(s),N({type:u.type,folderNames:i,styleIds:u.styleIds})}}H.Y5.triggerAction("commit"),E(null),y(null)},[u,N]),A=l.useCallback((e,t)=>{t.preventDefault(),t.stopPropagation(),n(er.j7({type:t2,data:{uiList:e,position:{top:t.clientY,left:Math.min(t.clientX,window.innerWidth-t6)}}}))},[n]),O=l.useCallback(e=>{S.current=e},[]),M=l.useCallback(()=>{b(!0)},[]),R=l.useCallback(()=>{b(!1)},[]);return l.createElement("div",{className:"styles--localStylesPanel--T4Gqs",ref:p},l.createElement(no,null),tv.og.map(n=>{let r=v.get(n);if(!r)return;let i=w.get(n);if(i)return l.createElement(nu,{key:n,recordingKey:h.Pt(t,`style-section-${n}`),styleType:n,storedStyleList:r,styleList:i,updateSelection:N,isDragging:P,onDragStart:M,onDragEnd:R,onInspectStyle:T,onContextMenu:A,updateContextMenuStyleRef:O,renamingStyleID:m,renamingFolder:_,onRenameItem:k,stopRenamingItem:C,styleRowRef:S.current,onEditStyle:T,scrollContainer:e})}))}function nu({styleType:e,storedStyleList:t,styleList:n,renamingStyleID:a,renamingFolder:c,onRenameItem:p,stopRenamingItem:d,onDragStart:u,onDragEnd:m,onInspectStyle:E,onContextMenu:_,updateContextMenuStyleRef:y,updateSelection:S,styleRowRef:P,scrollContainer:b,recordingKey:f}){let w=(0,tf.q5)(),T=!(0,tb.p8)("isReadOnly"),I=(0,r.wA)(),k=(0,r.d4)(e=>e.stylePreviewShown),N=(0,tP.GS)(),C=(0,r.d4)(t=>(0,tT.i4)(t,e)),A=(0,r.d4)(t=>(0,tT.A7)(t,e,n)),[O,M]=l.useState(()=>{if(t_.x4&&w){let t=JSON.parse(t_.x4.getItem(nc)||"{}");if(w.key in t){let n=t[w.key];if(e in n)return new Set(n[e])}else t[w.key]={},t_.x4.setItem(nc,JSON.stringify(t))}return new Set(n.filter(e=>"STYLE_FOLDER"===e.type).map(e=>e.name))}),[L,D]=l.useState([]),[F,V]=l.useState(null),[K,U]=l.useState(null),B=l.useMemo(()=>(0,tu.s)(()=>{I(tS.GT({styleType:e}))},200),[I,e]);l.useEffect(()=>{B()},[B,n]);let G=(0,tm.ZC)(O);l.useEffect(()=>{if(!G||!t_.x4||!w||(0,tE._f)(G,O))return;let t=JSON.parse(t_.x4.getItem(nc)||"{}"),n=t[w.key];n&&(n[e]=[...O],t_.x4.setItem(nc,JSON.stringify(t)))},[O,w,G,e]);let Y=l.useCallback(e=>!!e&&"STYLE_FOLDER"===e.type,[]),W=l.useCallback((e,t)=>{let l=new Set(e),r=[];n.forEach((e,t)=>{if(l.has(e)&&(r.push(t),"STYLE_FOLDER"===e.type)){let e=(0,t1.mx)(t,n);r.push(...e)}});let i=new Set(r),s=t?n.indexOf(t):n.length,a=[...(0,o.range)(s).filter(e=>!i.has(e)),...r,...(0,o.range)(s,n.length).filter(e=>!i.has(e))],c=new Map;return a.forEach((e,t)=>{e!==t&&c.set(e,t)}),c},[n]),Q=l.useCallback(()=>{k.isShown&&(I(g.sw()),I(x.XE()),i.glU.selectStyle(s.StyleKey.INVALID,s.StyleVersion.INVALID))},[I,k.isShown]),$=l.useMemo(()=>{if(!F)return null;if("in"===F.type){let e=n[F.index];return e?{folderNameToNestUnder:e.name,dividerStyles:{display:"none"}}:null}if(null==F.index||null==K||!C)return null;let e=(0,t1.QA)(C,n),t=e[0],l=null,r=null;if(0===F.index?r=n[F.index]:F.index===n.length?l=n[F.index-1]:(l=n[F.index-1],r=n[F.index]),l?.type==="STYLE_FOLDER"&&O.has(l.name)&&-1===L.indexOf(l.name))return{folderNameToNestUnder:l.name,dividerStyles:{display:"none"}};if(l?.type===tk.PW.STYLE){let e=(0,tw.In)(l.name).split("/");for(let n=0;n<e.length;n++){let l=e.slice(0,n+1).join("/");if(O.has(l)&&-1===L.indexOf(l)){if("STYLE_FOLDER"!==t.type)return{folderNameToNestUnder:l,dividerStyles:{display:"none"}};return{folderNameToNestUnder:(0,tw.In)(l),dividerStyles:{marginLeft:24*Math.min((0,tw.ke)(l).length,8)-8}}}}}let i=0,s=null,a=l?(0,t1.rM)(l):0,o=r?(0,t1.rM)(r):0;if(a<=o)i=o,s=l?l.type===tk.PW.STYLE?(0,tw.In)(l.name):l.name:"";else if((0,td.KF)(null!=l,"Dragging after an item that doesn't exist"),t.type===tk.PW.STYLE||K>=.5)i=a,s=(0,tw.In)(l.name);else{let e=Math.floor(K/.5*(0,t1.rM)(l));e=Math.max(o-1,e),s=(0,tw.ke)((0,tw.In)(l.name)).slice(0,e).join("/"),i=e+1}let c={marginLeft:24*Math.min(i,8)-8};return l&&e.includes(l)||!(0,t1.Md)(l,t,r)?{folderNameToNestUnder:null,dividerStyles:c}:{folderNameToNestUnder:s,dividerStyles:c}},[O,K,C,F,n,L]),z=l.useCallback((l,r,i,s)=>{if(!t||!r&&!i||!$)return;let a=$.folderNameToNestUnder;if(null===a)return;let o=[],c=[];l.forEach(e=>{(0,t1.Md)(r,e,i,a)&&("STYLE_FOLDER"===e.type?c.push(e):o.push(e))});let p=o.concat(c);if(!p.length)return;let d=eE.l7.user("reorder-styles",()=>(0,t1.VB)(p,r,i,a,n,t,s||!1)),u=new Set,m=new Set;p.forEach(e=>{let t=(0,t1.t_)(e),n=d?.get(t);n&&("STYLE_FOLDER"===e.type?u.add(n):m.add(t))}),S({type:e,folderNames:u,styleIds:m});let h=new Set;return O.forEach(e=>{if(a.startsWith(e))return;let t=d?.get(e);t?h.add(t):h.add(e)}),M(h),Q(),s||H.Y5.triggerAction("commit"),W(p,i)},[S,O,$,W,Q,t,n,e]),X=l.useCallback((e,t)=>{if("STYLE_FOLDER"!==t.type)return;let l=n.indexOf(t),r=(0,t1.dm)(t).filter(e=>(0,tw.In)(e.name)===t.name);if(!r.length)return z(e,t,n[l+1]);{let t=r[r.length-1],l=n.indexOf(t);return z(e,t,n[l+1])}},[z,n]),j=(0,th.xx)((e,t)=>{let l=new Map,r=t.map(e=>e.type===tk.PW.STYLE?e.node_id:e.name);return e.forEach(e=>{let i=r.indexOf(e);-1!==i&&(0,t1.mx)(i,n).forEach(e=>{let n=t[e],r="STYLE_FOLDER"===n.type?n.name:n.node_id,i=l.get(r);i||(i=0),l.set(r,i+1)})}),l}),Z=l.useCallback(()=>{if(!C)return;let t=(0,t1.QA)(C,n);if(0===t.length)return;let l=t[0],r=n.indexOf(l),s=r,a=r+1;if(l.type===tk.PW.STYLE&&n[a]&&n[a].type===tk.PW.STYLE){let e=(0,t1.rM)(l);for(let t=r+1;t<n.length;t++){let l=n[t];if("STYLE_FOLDER"===l.type&&l.level===e||(0,t1.rM)(l)<e){s=t-1,a=t;break}t===n.length-1&&(s=t,a=t+1)}}z(t,n[s],n[a],!0);let o=(0,tw.In)(l.name),c=N?(0,R.t)("design_systems.create_style.new_folder"):(0,R.t)("design_systems.create_style.untitled_folder");o&&(c=`${o}/${c}`);let d=(e,t)=>{if(e.type===tk.PW.STYLE){let n=c+"/"+t+(0,tw.kH)(e.name);eE.l7.user("rename-style",()=>{i.glU.renameNode(e.node_id,n)})}else{let n=t+(0,tw.kH)(e.name)+"/";e.styles.forEach(e=>{d(e,n)}),e.subfolders.forEach(e=>{d(e,n)})}};t.forEach(e=>{d(e,"")}),S({type:e,folderNames:new Set([c]),styleIds:new Set}),p(c,!1,e)},[S,z,N,C,p,n,e]),J=l.useCallback((e,t)=>{let l=n[e];"STYLE_FOLDER"===l.type&&M(e=>{let n=new Set(e);return t?n.add(l.name):n.delete(l.name),n})},[n]),q=l.useCallback((e,t)=>{M(l=>{let r=new Set(l),i=n[e];if("STYLE_FOLDER"===i.type){let e=(0,tw.In)(i.name),n=""===e?t:e+"/"+t;O.has(i.name)&&(O.delete(i.name),O.add(n)),(0,t1.KU)(i).forEach(e=>{if(O.has(e.name)){let t=e.name.replace(i.name,"");O.add(n+t),O.delete(e.name)}})}return r}),d(n,e,t)},[d,O,n]),ee=l.useCallback(e=>{_(n,e)},[_,n]),et=l.useCallback((e,t,n)=>{let l=t>.5?1:Math.round(1e3*t)/1e3;V({index:e,type:n?"in":"before"}),U(l)},[]),en=l.useCallback(()=>{M(e=>eE.l7.user("delete-styles",()=>{let t=new Set(e);return(C?(0,t1.QA)(C,n):[]).forEach(e=>{"STYLE_FOLDER"===e.type?((0,t1.a2)(e,w?.key||null),O.delete(e.name),(0,t1.KU)(e).forEach(e=>O.delete(e.name))):(0,t1.Nr)(e,w?.key||null)}),t})),H.Y5.triggerAction("commit"),k.isShown&&(I(g.sw()),I(x.XE()),i.glU.selectStyle(s.StyleKey.INVALID,s.StyleVersion.INVALID)),S(null)},[k.isShown,S,C,n,w?.key,O,I]),el=l.useMemo(()=>{let e=C?(0,t1.QA)(C,n):[];return(0,t1.Ug)(e).map(e=>e.node_id)},[C,n]),er=l.useCallback(()=>{eE.l7.user("cut-styles",()=>i.glU.cutStyles(el))},[el]),ei=l.useCallback((e,t)=>{t===tI.zy.PASTE?eE.l7.user("paste-styles",()=>i.glU.pasteStyles()):e.shouldPropagate=!0},[]);l.useEffect(()=>{if(!C)return;let e=e=>{e.target&&("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)||er()};return document.addEventListener("cut",e),()=>{document.removeEventListener("cut",e)}},[er,C]);let es=l.useCallback(()=>{i.glU.pasteStyles()},[]),ea=l.useCallback(e=>{D(t=>[...t,e])},[]),eo=l.useCallback(()=>{u()},[u]),ec=h.rf(f,"ondragend",l.useCallback(()=>{V(null),U(null),D([]),m()},[m])),ep=(0,tm.ZC)(C);l.useEffect(()=>{ep!==C&&C&&M(e=>{let n=new Set(e);for(let e of C.styleIds.values()){let l=t.find(t=>t.node_id===e);if(!l)continue;let r=(0,tw.ke)(l.name);for(let e=0;e<r.length;e++){let t=r.slice(0,e).join("/");n.delete(t)}}return n})},[C,ep,t]);let ed=l.useRef(null),eu=l.useCallback(e=>{ed.current=e},[ed]),em=l.useMemo(()=>C?(0,t1.h$)(C,n):[],[C,n]),eh=l.useMemo(()=>A?(0,t1.h$)(A,n):[],[A,n]),e_=l.useMemo(()=>[...em,...eh].sort((e,t)=>e-t),[em,eh]),ey=l.useCallback((e,t,r,i,s,o)=>{let d="STYLE_FOLDER"===e.type?e.name:e.node_id,u=!1,m=!1;for(let t of L)if("STYLE_FOLDER"===e.type){if(e.name===t){m=!0;break}e.name.startsWith(t)&&(u=!0)}else if((0,tw.In)(e.name)===t){u=!0;break}if(!m&&!u&&j(O,n).has(d))return null;let h=e_&&e_[e_.length-1]===t,_=e_&&e_[0]===t;if(e.type===tk.PW.STYLE){let n=(0,t1.rM)(e),c=null!=a&&a===e.node_id;return l.createElement(tZ,{hideStylePreview:Q,recordingKey:`style-row-${t}`,index:t,key:e.node_id,isDragging:i,dsStyle:e,selected:r,selectedSecondary:A?.styleIds.has(e.node_id)||!1,level:n,stylePreviewShown:k,onContextMenu:ee,updateContextMenuStyleRef:y,updateFocusRowRef:r?eu:null,onMouseDown:s,onMouseMove:o,onInspectStyle:E,updateSelection:S,isEditable:T,deleteSelectedItems:en,isRenaming:c,onRenameItem:p,stopRenamingItem:q,onCreateFolder:Z,isLastChildOfSelection:h})}{let n=null!=c&&c.name===e.name&&c.styleTypeSection===e.styleTypeSection,a=$?.folderNameToNestUnder||null;return l.createElement(tY,{recordingKey:`folder-section-${e.styleTypeSection}-row-${t}`,key:t,index:t,isDragging:i,folder:e,selected:r,selectedSecondary:A?.folderNames.has(e.name)||!1,isCollapsed:O.has(e.name),temporarilyExpandFolder:ea,isTemporarilyExpanded:m,isRenaming:n,folderNameToNestUnder:a,onRenameItem:p,stopRenamingItem:q,level:e.level,toggleFolder:e=>J(t,e),onContextMenu:ee,onCreateFolder:Z,onMouseDown:s,onMouseMove:o,isEditable:T,deleteSelectedItems:en,hideStylePreview:Q,isFirstChildOfSelection:_})}},[S,e_,O,en,$?.folderNameToNestUnder,j,Q,ee,Z,E,p,c,a,A?.folderNames,A?.styleIds,q,n,k,ea,L,J,y,T,eu]),eg=l.useCallback(t=>{let l=new Set,r=new Set;t.forEach(e=>{let t=n[e];"STYLE_FOLDER"===t.type?l.add(t.name):r.add(t.node_id)}),S({type:e,folderNames:l,styleIds:r})},[S,n,e]),eS=l.useRef(),eP=l.useRef();return l.useEffect(()=>{eS.current&&em.length?(eS.current(),ed.current&&!ed.current.contains(document.activeElement)&&ed.current.focus()):eP.current&&!em.length&&(eP.current(),ed.current=null)},[eS,em,ed]),l.createElement(v.vL,{name:"StyleDraggableList",handleClipboard:ei,focusFunctionRef:eS,blurFunctionRef:eP},l.createElement(tJ,{styleType:e},l.createElement(nm,{recordingKey:"style-draggable-list",listItems:n,onInsertItemsIn:X,canInsertItemsIn:Y,onInsertItemsBetweenValues:z,onDrag:et,onDragStart:eo,onDragEnd:ec,insertDividerStyle:$?.dividerStyles,selectedIndices:em,updateSelection:eg,renderListItem:ey,scrollContainer:b,isDragDisabled:!T}),l.createElement(t7,{styleRowRef:P,onDeleteItems:en,onCutItems:er,onPasteItems:es,onRenameItem:p,onEditStyle:E,onCreateFolder:Z,styleType:e})))}class nm extends tN.q{}var nh=n(987950),nE=n(875157),n_=n(535904),ny=n(520581),ng=n(869156),nS=n(635736);function nP(e){return e.modalShown?.type===nS.y.type||e.modalShown?.prevModal?.type===nS.y.type}function nb(){let e=(0,nS.m)(),t=(0,l.useCallback)(()=>{e()},[e]),n=(0,r.d4)(nP),i=0===(0,ng.Rb)().length&&!n;return l.createElement(ty.p,{name:"local_variables_panel"},l.createElement(ew.Zk,null,l.createElement(ew.fI,{className:i?"local_variables_panel--localVariablesPanelRowFaded--atToe local_variables_panel--localVariablesPanelRow--zR8nJ draggable_list--panelHeaderRowFaded--kETRR":"local_variables_panel--localVariablesPanelRow--zR8nJ"},l.createElement(ew.xw,{className:"local_variables_panel--titleText--7rdD7 draggable_list--panelTitleText--SwKez",onClick:t,"data-onboarding-key":"local-variables-panel-title"},(0,R.tx)("variables.local_variables_panel.local_variables_title")),l.createElement(ny.E,{name:"variables_modal_button"},(0,u.kc)().fpl_variables_button_migration?l.createElement(n_.d,{onClick:t,recordingKey:(0,h.Pt)("localVariablesPanel","variablesModalButton"),toggled:n,"aria-label":(0,R.t)("variables.local_variables_panel.open_variables_button_tooltip"),htmlAttributes:{"data-tooltip":(0,R.t)("variables.local_variables_panel.open_variables_button_tooltip"),"data-tooltip-type":ey.Ib.TEXT}},l.createElement(el.U,{svg:tj.A},l.createElement(tW.A,null))):l.createElement(ex.YW,{className:"local_variables_panel--openAuthoringModalButton--FiNXt draggable_list--addButton--D0q--",selected:n,recordingKey:(0,h.Pt)("localVariablesPanel","variablesModalButton"),"data-tooltip":(0,R.t)("variables.local_variables_panel.open_variables_button_tooltip"),"data-tooltip-type":ey.Ib.TEXT,onClick:t},l.createElement(el.U,{svg:tj.A},l.createElement(tW.A,null)))))))}var nf=n(19038);function nv({recordingKey:e}){let t=(0,r.wA)(),{version:n}=(0,et.DP)(),i=(0,r.d4)(e2._k),s=!(0,r.d4)(e3.Jp),a=(0,r.d4)(e=>!!e.dropdownShown&&e.dropdownShown.type===e0.C4),o=(0,r.d4)(e=>!!e.modalShown&&e.modalShown.type===e4.n.type),c=(0,r.d4)(e=>e.pickerShown),p=a||o||c?.id===e0.Dd,d=!!(0,r.d4)(eL.Z3).length,u=(0,r.d4)(eL.K4),m=!!u?.length,h=l.useRef(null),E=l.useRef(null),_=l.useCallback(()=>{c&&t(x.XE()),a?t(er.oB()):t(er.j7({type:e0.C4}))},[t,c,a]),y=l.useCallback(()=>{let e=Z.findDOMNode(E.current),n=e?(0,eg.cn)(e,e0.wh):{};t(x.u1({id:e0.Dd,initialX:n?.x,initialY:n?.y}))},[t]);return i&&m?l.createElement(ew.Zk,{ref:E},l.createElement("ui3"===n?ta:ts,{isPanelEmpty:s,isAddPropButtonSelected:p,hasBubbledInstances:d,selectAddPropOptionRef:h,toggleAddPropDropdown:_,stateGroupSelectionMode:void 0}),a&&h.current&&l.createElement(eP.Cf,{targetRect:h.current.getBoundingClientRect(),propagateCloseClick:!0},l.createElement(en.c$,{disabled:!0,className:te},(0,R.tx)("design_systems.component_properties.expose_nested_instances")),l.createElement(en.c$,{className:e9,onClick:y,recordingKey:"openBubbledPropPicker"},l.createElement(eS.Nu,null,l.createElement(el.U,{svg:tn.A},l.createElement(nf.r,null))),(0,R.t)("design_systems.component_properties.choose_instances"))),c?.id===e0.Dd&&l.createElement(e5,null),d&&l.createElement(l.Fragment,null,l.createElement("p",{className:tt},(0,R.t)("design_systems.component_properties.bubbled_instances")),l.createElement(ez,{recordingKey:e}))):null}var nw=n(324666),nT=n(872429),nI=n(753243),nk=n(871642),nN=n(662294);function nC({recordingKey:e}){let[t,n]=(0,nk.Xw)();return l.createElement(ew.Zk,{className:"slides_align_panel--panel--4jgTN",...n},l.createElement(nN.l,{isHoveringOverPanel:t,inSlidesPanel:!0,recordingKey:e}))}var nA=n(421757),nO=n(427113),nM=n(762638),nR=n(973149),nL=n(723081),nx=n(46878),nD=n(100197),nF=n(601607),nV=n(218973),nK=n(952675),nU=n(149658),nB=n(623711),nH=n(708918),nG=n(538697),nY=n(12519),nW=n(552901),nQ=n(683570),n$=n(343559),nz=n(983724),nX=n(195601),nj=n(366501);function nZ({panelClassName:e,children:t,hideBorderBottom:n}){return l.createElement("div",{className:p()("slides_panel--panel--lPYTn",{"slides_panel--withBorderBottom--CymRv":!n},e),"data-non-interactive":!0},t)}function nJ({titleTx:e,input:t}){return l.createElement(nZ,{panelClassName:"slides_panel--panelTitleInput--Paowl"},l.createElement(n$.s9,{titleTx:e,input:t}))}let nq="slides_animation_panel--row--cC8Np",n0="slides_animation_panel--rowInput--klQ98",n1="slides_animation_panel--rowWithPadding--CVhk5 slides_animation_panel--row--cC8Np",n5="slides_animation_panel--rowWithPaddingSpacer3--N0vBM slides_animation_panel--row--cC8Np",n4="slides_animation_panel--previewFrame--cO6cR transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce";var n3=n(579758);let n2=["SMART_ANIMATE","DISSOLVE","PUSH","SLIDE","SLIDE_OUT","MOVE","MOVE_OUT"],n6=["EASE_IN","EASE_OUT","EASE_IN_AND_OUT"],n7=["GENTLE","QUICK","BOUNCY","SLOW"],n8={EASE_IN:i.mgy.IN_CUBIC,EASE_OUT:i.mgy.OUT_CUBIC,EASE_IN_AND_OUT:i.mgy.INOUT_CUBIC,LINEAR:i.mgy.LINEAR,GENTLE:i.mgy.GENTLE_SPRING,QUICK:i.mgy.SPRING_PRESET_ONE,BOUNCY:i.mgy.SPRING_PRESET_TWO,SLOW:i.mgy.SPRING_PRESET_THREE},n9=e=>n7.includes(e),le=["ON_CLICK","AFTER_TIMEOUT"],lt={[i.v$l.NONE]:{behavior:"INSTANT"},[i.v$l.DISSOLVE]:{behavior:"DISSOLVE"},[i.v$l.SLIDE_FROM_LEFT]:{direction:"LEFT",behavior:"SLIDE"},[i.v$l.SLIDE_FROM_RIGHT]:{direction:"RIGHT",behavior:"SLIDE"},[i.v$l.SLIDE_FROM_TOP]:{direction:"TOP",behavior:"SLIDE"},[i.v$l.SLIDE_FROM_BOTTOM]:{direction:"BOTTOM",behavior:"SLIDE"},[i.v$l.SLIDE_OUT_TO_LEFT]:{direction:"LEFT",behavior:"SLIDE_OUT"},[i.v$l.SLIDE_OUT_TO_RIGHT]:{direction:"RIGHT",behavior:"SLIDE_OUT"},[i.v$l.SLIDE_OUT_TO_TOP]:{direction:"TOP",behavior:"SLIDE_OUT"},[i.v$l.SLIDE_OUT_TO_BOTTOM]:{direction:"BOTTOM",behavior:"SLIDE_OUT"},[i.v$l.PUSH_FROM_LEFT]:{direction:"LEFT",behavior:"PUSH"},[i.v$l.PUSH_FROM_RIGHT]:{direction:"RIGHT",behavior:"PUSH"},[i.v$l.PUSH_FROM_TOP]:{direction:"TOP",behavior:"PUSH"},[i.v$l.PUSH_FROM_BOTTOM]:{direction:"BOTTOM",behavior:"PUSH"},[i.v$l.MOVE_FROM_LEFT]:{direction:"LEFT",behavior:"MOVE"},[i.v$l.MOVE_FROM_RIGHT]:{direction:"RIGHT",behavior:"MOVE"},[i.v$l.MOVE_FROM_TOP]:{direction:"TOP",behavior:"MOVE"},[i.v$l.MOVE_FROM_BOTTOM]:{direction:"BOTTOM",behavior:"MOVE"},[i.v$l.MOVE_OUT_TO_LEFT]:{direction:"LEFT",behavior:"MOVE_OUT"},[i.v$l.MOVE_OUT_TO_RIGHT]:{direction:"RIGHT",behavior:"MOVE_OUT"},[i.v$l.MOVE_OUT_TO_TOP]:{direction:"TOP",behavior:"MOVE_OUT"},[i.v$l.MOVE_OUT_TO_BOTTOM]:{direction:"BOTTOM",behavior:"MOVE_OUT"},[i.v$l.SMART_ANIMATE]:{behavior:"SMART_ANIMATE"}},ln=new nL.el(!0),ll=new nL.VG,lr=new nU.Mk;function li({behavior:e,duration:t,direction:n,triggerType:l,triggerDelay:r,easingType:s}){return{type:function(e,t){for(let[n,{behavior:l,direction:r}]of Object.entries(lt))if(l===e&&r===t)return n;return i.v$l.NONE}(e,n),duration:n9(s)?(e=>{let t=ls(e);return(0,nH.J5)((0,nH.w_)(t))})(s):t,easingType:function(e){let t=n8[e||"EASE_OUT"];return void 0!==t?t:i.mgy.OUT_CUBIC}(s),trigger:{type:"AFTER_TIMEOUT"===l?i.tbx.AFTER_DELAY:i.tbx.ON_CLICK,delay:"AFTER_TIMEOUT"===l&&r?r:0}}}let ls=e=>{switch(e){case"GENTLE":return[1,100,15,0];case"QUICK":return[1,300,20,0];case"BOUNCY":return[1,600,15,0];default:return[1,80,20,0]}},la=[.1,.2,.3,.5,1,2];class lo extends nG.c${}let lc=[0,.05,.1,.2,.3,.5,1,2];class lp extends nG.c${}let ld=new nR.ag(nR.i5.MILLISECONDS,.01,10),lu=new nR.ag(nR.i5.MILLISECONDS,.001,30),lm=e=>{let t={type:i.v$l.NONE,duration:0,easingType:i.mgy.OUT_CUBIC,trigger:{type:i.tbx.ON_CLICK,delay:0}},n=a.invalidGUIDStr;return e.forEach(e=>{let l=i.Ez5.slideAnimationBindings().getSlideTransition(e);l&&t.type===i.v$l.NONE&&(t=l,n=e)}),{appliedTransition:t,slideGuid:n}},lh=(e,t,n)=>l=>{let r={...t};if("behavior"===e){let e=t.direction;"INSTANT"===l||"DISSOLVE"===l||"SMART_ANIMATE"===l?e=void 0:void 0===e&&(e="LEFT"),r.direction=e,"INSTANT"===l&&(r.triggerType="ON_CLICK")}"easingType"===e&&l&&!n9(l)&&n9(t.easingType)&&(r.duration=.3);let s=li({...r,[e]:l});eE.l7.user("slide-transition",()=>{n.forEach(e=>{i.Ez5.slideAnimationBindings().setSlideTransition(e,s)}),H.Y5.commit()})};function lE(){let e=(0,r.wA)(),t=(0,t0.Um)(),n=(0,nz.l5)(),{appliedTransition:s,slideGuid:a}=lm(n),o=(0,nF.Fk)((e,t)=>{if(e){let n=e.get(t);if(n)return n.name}return null},a),c=o?(0,R.t)("fullscreen.properties_panel.layer_header.node_type_slide",{slideNumber:o}):(0,R.t)("slides.properties_panel.slide_transition"),p=function(e){let{behavior:t,direction:n}=lt[e.type],l=function(e){for(let[t,n]of Object.entries(n8))if(n===e)return t;return"EASE_OUT"}(e.easingType),r=Math.round(1e3*e.duration)/1e3;if(n9(l)){let e=ls(l);r=(0,nB.xX)((0,nH.w_)(e))}let s=Math.round(1e3*e.trigger.delay)/1e3;return{behavior:t,direction:n,duration:r,easingType:l,triggerType:e.trigger.type===i.tbx.AFTER_DELAY?"AFTER_TIMEOUT":"ON_CLICK",triggerDelay:s}}(s),d=lh("triggerType",p,n),m=lh("triggerDelay",p,n),h=lh("behavior",p,n),E=lh("direction",p,n),_=lh("duration",p,n),y=lh("easingType",p,n),g=!("INSTANT"===p.behavior||"DISSOLVE"===p.behavior||"SMART_ANIMATE"===p.behavior),S="INSTANT"!==p.behavior,P="AFTER_TIMEOUT"===p.triggerType,b=l.createElement(el.U,{svg:n3.A},l.createElement(nO.A,null));return l.createElement(ty.p,{name:"slides_animation_panel"},l.createElement(nZ,null,(0,u.kc)().piper_transition_controls?l.createElement("p",{className:"slides_animation_panel--transitionTitle---2ON-"},c):l.createElement(n$.r,{titleTx:(0,R.tx)("slides.properties_panel.slide_transition")}),l.createElement("div",{className:(0,u.kc)().piper_transition_controls?n1:nq},l.createElement("label",null,(0,R.tx)("slides.properties_panel.slide_transition.style")),l.createElement(ny.E,{name:"slide_transition_style"},l.createElement(nG.l6,{formatter:ln,id:"slide-transitions-behavior-select",property:p.behavior,onChange:h,dispatch:e,dropdownShown:t},l.createElement(nG.c$,{value:"INSTANT",key:"INSTANT"}),l.createElement(nG.sK,null),n2.map(e=>l.createElement(nG.c$,{value:e,key:e}))))),g&&l.createElement("div",{className:nq},l.createElement("label",null,(0,R.tx)("slides.properties_panel.slide_transition.direction")),l.createElement(ny.E,{name:"slide_transition_direction"},l.createElement(nU.sP,{onChange:E,property:p.direction??null}))),(0,u.kc)().piper_transition_controls&&S&&l.createElement(l.Fragment,null,l.createElement(ny.E,{name:"slide_transition_easing"},l.createElement("div",{className:nq},l.createElement("label",null,(0,R.tx)("slides.properties_panel.slide_transition.curve")),l.createElement(nG.l6,{formatter:lr,id:"slide-transitions-easing-select",property:p.easingType,onChange:y,dispatch:e,dropdownShown:t},l.createElement(nG.c$,{value:"LINEAR",key:"LINEAR"}),l.createElement(nG.sK,null),n6.map(e=>l.createElement(nG.c$,{value:e,key:e})),l.createElement(nG.sK,null),n7.map(e=>l.createElement(nG.c$,{value:e,key:e}))))),l.createElement(ty.p,{name:"slides_duration"},l.createElement("div",{className:nq},l.createElement("label",null,(0,R.tx)("slides.properties_panel.slide_transition.duration")),l.createElement("div",{className:n0},l.createElement(ny.E,{name:"slides_duration_dropdown"},l.createElement(nK.ow,{value:{select:nY.pW,inputComponent:nY.gm}},l.createElement(nG.tV,{value:{chevron:nW.c9}},l.createElement(nV.W0,{id:"slide-animation-duration",disabled:n9(p.easingType),onValueChange:_,value:p.duration,dropdownShown:t,min:.01,max:10,icon:b,dispatch:e,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("slides.properties_panel.slide_transition.duration"),tooltipForScreenReadersOnly:!0,enablePreview:!0},la.map(e=>l.createElement(lo,{key:`duration-${e}`,value:e},ld.format(e)))))))))))),(0,u.kc)().piper_transition_controls&&S&&l.createElement(nZ,null,l.createElement("div",{className:n1},l.createElement("label",null,(0,R.tx)("slides.properties_panel.slide_transition.timing")),l.createElement(nG.l6,{formatter:ll,id:"slide-transitions-trigger-select",property:p.triggerType,onChange:d,dispatch:e,icon:(0,nx.e7)(p.triggerType),dropdownShown:t},le.map(e=>l.createElement(nG.c$,{icon:(0,nx.e7)(e),value:e,key:e})))),P&&l.createElement(ty.p,{name:"slides_delay"},l.createElement("div",{className:nq},l.createElement("label",null,(0,R.tx)("slides.properties_panel.slide_transition.delay")),l.createElement("div",{className:n0},l.createElement(ny.E,{name:"slides_delay_dropdown"},l.createElement(nK.ow,{value:{select:nY.pW,inputComponent:nY.gm}},l.createElement(nG.tV,{value:{chevron:nW.c9}},l.createElement(nV.W0,{id:"slide-animation-delay",onValueChange:m,value:p.triggerDelay,dropdownShown:t,min:.001,max:30,icon:b,dispatch:e,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("slides.properties_panel.slide_transition.delay"),tooltipForScreenReadersOnly:!0,enablePreview:!0},lc.map(e=>l.createElement(lp,{key:`delay-${e}`,value:e},lu.format(e))))))))))),S&&l.createElement("div",{className:n5},l.createElement("div",{style:{width:"100%"}},l.createElement(l_,{appliedProperties:p}))),l.createElement("div",{className:n5},l.createElement(nA.IK,{variant:"secondary",onClick:()=>{var e;return e=li(p),void eE.l7.user("slide-transition-all-slides",()=>{i.Ez5.slideAnimationBindings().setSlideTransitionForAll(e),H.Y5.commit()})}},(0,R.tx)("slides.properties_panel.slide_transition.apply_to_all"))))}function l_({appliedProperties:e}){let t=(0,nj.Jj)(),n=(0,nD.J2)(i.Ez5.slideDeck().slideGrid),r=(0,nj.Rn)(n,t),s="MOVE_OUT"===e.behavior||"SLIDE_OUT"===e.behavior,o=s?t:r??a.invalidGUIDStr,c=s?r??a.invalidGUIDStr:t,p=(0,nX.p)(o),d=(0,nX.p)(c),u=n9(e.easingType),m={behavior:e.behavior,direction:e.direction??null,shouldSmartAnimate:"SMART_ANIMATE"===e.behavior,duration:e.duration,easing:e.easingType,isSpringTransition:u,easingFunction:u?ls(e.easingType):[],preserveScroll:!1,resetVideoPosition:!1,openUrlInNewTab:!1,resetInteractiveComponents:!1,resetScrollPosition:!1};return u?l.createElement(nQ.SA,{transition:m,isUI3:!0}):l.createElement(ly,{transition:m,belowThumbnailUrl:d,aboveThumbnailUrl:p})}class ly extends nQ.ub{rectangleStateToCSSStyle(e,t,n,l){let r=this.cssEasingFunction(e),i=this.cssDuration(e);return{transition:n===nQ.H_.RETURN_TO_START?"all ease-out 200ms":n===nQ.H_.STATIC?"unset":`all ${i}s ${r}`,top:25.5+45*t.top,left:80+80*t.left,opacity:t.opacity,border:0}}renderSimpleScreenToScreenAnimationPreview(e,t,n,r,i,s,a){return l.createElement("div",{className:"slides_animation_panel--previewPanel--0XANz transition_preview--previewPanel--Gp-aI",onMouseEnter:this.onMouseEnterNew,onMouseLeave:this.onMouseLeaveNew},l.createElement("div",{className:p()(e,n4),style:t},l.createElement("img",{src:this.props.belowThumbnailUrl,alt:"",className:nM.cx.relative.wFull.hFull.$})),l.createElement("div",{className:p()(n,n4),style:r},l.createElement("img",{src:this.props.aboveThumbnailUrl,alt:"",className:nM.cx.relative.wFull.hFull.$})),l.createElement("div",{className:"slides_animation_panel--screenContainer--6eR6r transition_preview--screenContainer--iuLzq transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce slides_animation_panel--previewFrame--cO6cR transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce"}),l.createElement("div",{className:"slides_animation_panel--screenBorder--G7ZdP transition_preview--screenBorder--Fz-dz transition_preview--screenContainer--iuLzq transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce slides_animation_panel--screenContainer--6eR6r transition_preview--screenContainer--iuLzq transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce slides_animation_panel--previewFrame--cO6cR transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce"}))}}var lg=n(648598),lS=n(978783),lP=n(623402),lb=n(531664),lf=n(555074),lv=n(149988);function lw(e){return l.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},l.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M2.486 5.142a1 1 0 0 0 0 1.715L4.39 8 2.486 9.142a1 1 0 0 0 0 1.715L6.97 13.55a2 2 0 0 0 2.058 0l4.486-2.692a1 1 0 0 0 0-1.715L11.61 8l1.905-1.143a1 1 0 0 0 0-1.715l-4.486-2.69a2 2 0 0 0-2.058 0l-4.486 2.69ZM9.665 8l.973-.583 1.39-.834L13 6l-.972-.583-3.514-2.108a1 1 0 0 0-1.028 0L3.972 5.417 3 6l.972.583 1.39.834.971.583 1.152.691a1 1 0 0 0 1.03 0L9.666 8Zm-4.304.583 1.609.966a2 2 0 0 0 2.058 0l1.61-.966 1.39.834L13 10l-.972.583-3.514 2.108a1 1 0 0 1-1.028 0l-3.514-2.108L3 10l.972-.583 1.39-.834Z",clipRule:"evenodd"}))}var lT=n(505113),lI=n(775664),lk=n(241691),lN=n(750029),lC=n(892109),lA=n(478655);let lO=l.forwardRef(function({isOpen:e,onMouseDown:t,children:n,recordingKey:r},i){return l.createElement(eA.GG,{forwardedRef:i,className:p()("slides_flyout_input--input--cM6kp ellipsis--ellipsis--Tjyfa",{"slides_flyout_input--selected--CgFEs":e}),onMouseDown:t,recordingKey:r},n,l.createElement(tA.O,null))});var lM=n(742934),lR=n(173915),lL=n(998917),lx=n(860601),lD=n(750693),lF=n(99123);function lV({paint:e,onColorChange:t,openColorPicker:n,closeColorPicker:r,isPickerOpen:i,icon:s,recordingKey:a}){let[o,c]=l.useState(!1),d=l.useRef(null),u=()=>{i?(r(),d.current?.blur()):(n(),d.current?.focus(),d.current?.select())};return l.createElement("div",{className:p()(lF.oE,{[lF.in]:o})},l.createElement(lK,{onClick:u,recordingKey:h.Pt(a,"chit")},s),l.createElement(lD.So,{focusableRef:d,paint:e,onFocus:()=>{c(!0),n()},onBlur:()=>c(!1),onMouseDown:e=>{e.stopPropagation(),o&&r()},onColorChange:e=>{t(e),r()},onTypeMouseDown:lx.lQ,isUI3:!0,visible:!0,noBorderOnFocus:!0,recordingKey:a}),l.createElement(lK,{onClick:u,recordingKey:h.Pt(a,"chevron")},l.createElement(tA.O,null)))}function lK({onClick:e,recordingKey:t,children:n}){let r=(0,K.ft)()||(0,A.PN)(),i=t=>{t.stopPropagation(),t.preventDefault(),e()};return l.createElement(lL.E,{className:nM.cx.hFull.px4.bgTransparent.$,onClick:r?i:void 0,htmlAttributes:{onMouseDown:r?void 0:i},actionOnPointerDown:!0,recordingKey:t},n)}let lU={type:"SOLID",color:{r:1,g:1,b:1,a:1},opacity:1,blendMode:"NORMAL"};function lB({paint:e,onChange:t,inheritStyleKeyField:n,inheritStyleKey:s,inheritStyleName:a,pickerId:o,label:c,recordingKey:p,hideCustomColorPickerFillTypeToggle:d}){let u=(0,r.d4)(e=>e.pickerShown&&e.pickerShown.id===o?e.pickerShown:null),m=(0,l.useRef)(null),{openColorPicker:h,closeColorPicker:E,toggleColorPicker:_}=function(e,t,n,s){let a=(0,r.wA)(),o=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),c=(0,lM.jj)(e),p=l.useCallback(e=>{if(!n){if(s.current){let{x:n,y:l}=(0,eg.cn)(s.current,e?lR.jP:nI.pg);a(x.u1({id:t,initialX:n-16,initialY:l})),c()}else console.error("rowRef.current is null")}},[t,n,a,s,c]),d=l.useCallback(()=>{o===i.m1T.GRADIENT&&H.Y5.triggerAction("leave-edit-mode"),a(x.XE())},[a,o]),u=l.useCallback(e=>{n?d():p(e)},[n,d,p]);return{openColorPicker:p,closeColorPicker:d,toggleColorPicker:u}}(e,o,u,m),[y]=(0,lf.lJ)("slidesDividedSwatchColors"),g=(0,lM.Gc)(),S=!!e&&(0,Y.hS)(e)&&(0,W.bn)(e.type),P=!!e&&(0,Y.hS)(e)&&(0,W.sb)(e.type),b=(0,r.d4)(e=>(0,lk.b)(e,(0,Y._W)(s,null),null)),f=(0,l.useMemo)(()=>(0,Y.hS)(e)&&e&&e.color?[e.color]:Array.isArray(y)&&y.length>1?y:[{r:1,g:1,b:1,a:1}],[y,e]),v=(()=>{if((0,Y.gl)(e))return null;let t=e?.colorVar?.value?.alias;return t?lA.dI(t):null})(),w=()=>(0,Y.gl)(e)||(0,Y.gl)(a)?(0,R.t)("fullscreen.mixed"):a||(g?(0,R.t)("slides.properties_panel.color_picker.multiple"):S?(0,R.t)("slides.properties_panel.fill.fill_type_gradient"):lI.TI.format(f[0])),T=l.useMemo(()=>g?l.createElement(lw,null):b?l.createElement(tz.zi,{dsStyle:{...b?.data,style_type:"FILL"},disableTooltip:!0}):l.createElement(lG,{colors:f,paint:e}),[g,b,f,e]),I=!g&&P&&!e.colorVar,k=l.createElement(ny.E,{name:"slides_color_input"},I?l.createElement(lV,{paint:e,onColorChange:e=>t((0,lM.NQ)(e)),openColorPicker:h,closeColorPicker:E,isPickerOpen:!!u,icon:T,recordingKey:p}):l.createElement(lO,{isOpen:!!u,onMouseDown:e=>{e.stopPropagation(),_(S)},recordingKey:p},l.createElement("span",{className:nM.cx.pl4.inlineFlex.gap6.overflowHidden.$},T,!a&&v?l.createElement(lH,{variableId:v,fallbackText:w()}):l.createElement(lT.o,{text:w()})))),N=(0,lM.PG)(t),C=(0,lM.o9)(n);return l.createElement(l.Fragment,null,c?l.createElement(lC.No,{ref:m,label:c,input:k}):l.createElement("span",{ref:m},k),u&&e&&(S?l.createElement(lR.Ph,{paint:e,onPaintChange:t,onColorVariableChange:N,onApplyStyle:C,onClose:E,initialPosition:new eq.Mi(u.initialX,u.initialY),enableGradients:!0,recordingKey:"slidesCustomColorPicker",hideCustomColorPickerFillTypeToggle:d}):l.createElement(nI.GY,{paint:e,onChange:t,onClose:E,pickerShown:u,hideCustomColorPickerFillTypeToggle:d,inheritStyleKeyField:n})))}function lH({variableId:e,fallbackText:t}){let n=(0,ng.u)(e);return l.createElement(lT.o,{lastClassName:nM.cx.overflowHidden.noWrap.ellipsis.$,text:n?.name??t})}function lG({colors:e,paint:t}){if(!(e.length>1))return l.createElement(lN.J,{className:nM.cx.w14.h14.bRadius2.$,paint:t??lU,allowMouseDownPropagation:!0});{let t={type:"SOLID",color:e[0],opacity:1,blendMode:"NORMAL"},n={type:"SOLID",color:e[1],opacity:1,blendMode:"NORMAL"};return l.createElement("div",{className:nM.cx.relative.w14.h14.$},l.createElement("span",{className:nM.cx.absolute.w14.h14.left0.top0.$,style:{clipPath:"polygon(0% 0%, 100% 0%, 0% 100%)"}},l.createElement(lN.J,{className:nM.cx.w14.h14.bRadius2.$,paint:t,allowMouseDownPropagation:!0})),l.createElement("span",{className:nM.cx.absolute.w14.h14.left0.top0.$,style:{clipPath:"polygon(0% 100%, 100% 100%, 100% 0%)"}},l.createElement(lN.J,{className:nM.cx.w14.h14.bRadius2.$,paint:n,allowMouseDownPropagation:!0})))}}var lY=n(902237);function lW({legend:e,value:t,onChange:n,recordingKey:r,children:i}){return l.createElement("div",{className:nM.cx.py4.pr8.pl16.$},l.createElement(lg.I.Root,{legend:l.createElement(lY.q,null,e),value:t,onChange:n,recordingKey:r},i))}var lQ=n(26659),l$=n(344764);class lz extends nG.c${}let lX=[0,2,4,8,16,24],lj=["NONE","SOLID","DASHED_BIG","DASHED_SMALL"],lZ=lj.filter(e=>"NONE"!==e);function lJ({recordingKey:e}){let t=(0,r.wA)(),n=(0,t0.Um)(),{smallNudgeAmount:i,bigNudgeAmount:s}=(0,b.sT)(),[a,o]=(0,lf.lJ)("strokeWeight"),[c,p]=(0,lf.lJ)("dashPattern"),[d,u]=(0,lf.lJ)("strokePaints"),[m]=(0,lf.lJ)("inheritFillStyleKeyForStroke"),[E]=(0,lf.lJ)("inheritFillStyleNameForStroke"),_=d?(0,Y.hS)(d)?d[0]:Y.oV:void 0,y=(0,lf.kl)("numSelectedByType"),g=y&&(0,Y.hS)(y)&&(0,U.Kl)(y,["LINE","TABLE","CONNECTOR"]),S=y&&(0,Y.hS)(y)&&(0,U.vx)(y,"TABLE"),f=l.useMemo(()=>({NONE:{value:void 0,displayText:(0,R.t)("slides.properties_panel.border_panel.style_none"),icon:l.createElement(lS.t,null)},SOLID:{value:[],displayText:(0,R.t)("slides.properties_panel.border_panel.style_solid"),icon:l.createElement(lP.y,null)},DASHED_BIG:{value:[20,24],displayText:(0,R.t)("slides.properties_panel.border_panel.style_dashed_big"),icon:l.createElement(eO.B,{svg:lQ.A,className:nM.cx.colorIconSecondary.$})},DASHED_SMALL:{value:[8,10],displayText:(0,R.t)("slides.properties_panel.border_panel.style_dashed_small"),icon:l.createElement(eO.B,{svg:l$.A,className:nM.cx.colorIconSecondary.$})}}),[]),[v,w]=l.useState(()=>T(c));function T(e){if(!(0,Y.gl)(e))return e&&_?(0,lb.c2)(e,f.SOLID.value)?"SOLID":(0,lb.c2)(e,f.DASHED_BIG.value)?"DASHED_BIG":(0,lb.c2)(e,f.DASHED_SMALL.value)?"DASHED_SMALL":"NONE":"NONE"}return(0,tb.f4)(()=>{w(T(c))}),l.createElement(ty.p,{name:"slides_border_panel"},l.createElement(nZ,null,l.createElement(n$.r,{titleTx:(0,R.tx)("slides.properties_panel.border_panel.title")}),l.createElement(lW,{legend:(0,R.tx)("slides.properties_panel.border_panel.style_title"),value:v,onChange:e=>{let t=f[e].value;("NONE"===v||(0,Y.gl)(c))&&t&&H.Y5.triggerActionInUserEditScope("add-stroke-to-selection"),t?p(t):u([]),w(e)},recordingKey:h.Pt(e,"borderStyle")},(g?lZ:lj).map(e=>l.createElement(lg.I.Option,{key:e,value:e,icon:f[e].icon,"aria-label":f[e].displayText,htmlAttributes:{"data-onboarding-key":f[e].displayText}}))),"NONE"!==v&&_&&l.createElement(lv.g,{leftLabel:(0,R.tx)("slides.properties_panel.border_panel.color"),leftInput:l.createElement(lB,{paint:_,onChange:e=>{u([e])},inheritStyleKeyField:"inheritFillStyleKeyForStroke",inheritStyleKey:m,inheritStyleName:E,pickerId:`${P.Yr}-border`,recordingKey:h.Pt(e,"color"),hideCustomColorPickerFillTypeToggle:!1}),rightLabel:(0,R.tx)("slides.properties_panel.border_panel.width_slider_tooltip"),rightInput:l.createElement(ny.E,{name:"slides_corner_radius_dropdown"},l.createElement(nK.ow,{value:{select:nY.pW,inputComponent:nY.gm}},l.createElement(nG.tV,{value:{chevron:nW.c9}},l.createElement(nV.YZ,{id:"border-width-select",onValueChange:e=>{o(e)},value:void 0===a||(0,Y.gl)(a)?Y.oV:a,dropdownShown:n,willShowDropdown:()=>(H.Y5.commit(),Promise.resolve()),min:1,max:50,dispatch:t,recordingKey:h.Pt(e,"borderWidth"),smallNudgeAmount:i,bigNudgeAmount:s,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("slides.properties_panel.border_panel.width_slider_tooltip"),tooltipForScreenReadersOnly:!0,enablePreview:!0},lX.map(t=>l.createElement(lz,{key:`border-width-${t}`,value:t,disabled:S,recordingKey:h.Pt(e,"borderWidth","select",t)},t))))))})))}var lq=n(106075),l0=n(784940),l1=n(595869);class l5 extends nG.c${}let l4=[0,8,16,24,32,64,96];class l3 extends nR.X9{format(e){return 1e6===e?"Circular":`${e}`}}function l2({recordingKey:e}){let t=(0,r.wA)(),n=(0,t0.Um)(),{smallNudgeAmount:s,bigNudgeAmount:a}=(0,b.sT)(),o=(0,l.useMemo)(()=>new l3({min:0,smallNudgeAmount:s,bigNudgeAmount:a}),[s,a]),[c,p]=(0,lf.lJ)("cornerRadius");if(!(0,l0.Qr)(i.Sqb.CORNER_RADIUS))return null;let d=void 0===c||(0,Y.gl)(c)?Y.oV:c,u=l.createElement(el.U,{svg:l1.A},l.createElement(lq.a,null));return l.createElement(ty.p,{name:"slides_corner_panel"},l.createElement(nJ,{titleTx:(0,R.tx)("slides.properties_panel.corner"),input:l.createElement(ny.E,{name:"slides_corner_radius_dropdown"},l.createElement(nK.ow,{value:{select:nY.pW,inputComponent:nY.gm}},l.createElement(nG.tV,{value:{chevron:nW.c9}},l.createElement(nV.YZ,{id:"corner-radius-select",onValueChange:e=>{p(e)},value:d,icon:u,dropdownShown:n,willShowDropdown:()=>(H.Y5.commit(),Promise.resolve()),formatter:o,scrubbingDisabled:1e6===c,dispatch:t,recordingKey:h.Pt(e,"cornerRadius"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("slides.properties_panel.corner_radius"),tooltipForScreenReadersOnly:!1,enablePreview:!0},l4.map(t=>l.createElement(l5,{key:`corner-radius-${t}`,value:t,recordingKey:h.Pt(e,"cornerRadius","select",t)},t)),l.createElement(nG.sK,{key:"divider"}),l.createElement(l5,{key:"corner-radius-circular",value:1e6,recordingKey:h.Pt(e,"cornerRadius","select","circular")},(0,R.tx)("slides.properties_panel.corners_panel.circular"))))))}))}var l6=n(823223),l7=n(256296),l8=n(523099),l9=n(737947),re=n(934576),rt=n(276625);let rn="slides_flapp_prop_panel--panelSelectorRow--8JJYh";function rl({selection:e}){let t=(0,r.wA)(),n=(0,t0.Um)(),i=(0,l.useMemo)(()=>Object.keys(e),[e])[0],s=(0,nF.Fk)((e,t)=>{let n=e.get(t);return n?.interactiveSlideConfigData?n.interactiveSlideConfigData:void 0},i),a=(0,l.useMemo)(()=>(function(e){if(!e||!e.startingPointsData)return[];try{return JSON.parse(e.startingPointsData)}catch(e){return[]}})(s),[s]),o=(0,l.useMemo)(()=>new rs(a),[a]),c=(0,l.useCallback)(e=>{eE.l7.user("set_slides_embeddable_prototype_starting_point",()=>{let t=ep.q.instance;t.get(i)?.setInteractiveSlideConfigData("activeStartingPointNodeId",e)})},[i]),p=(0,l.useCallback)(e=>{eE.l7.user("set_slides_embeddable_prototype_show_device_frame",()=>{let t=ep.q.instance;t.get(i)?.setInteractiveSlideConfigData("deviceFrameShownOverride",e.toString())})},[i]);if(!s)return null;let d=s.activeStartingPointNodeId??"";return l.createElement(ty.p,{name:"slides_embeddable_prototype_panel"},l.createElement(ew.Zk,null,l.createElement(rr,{fileName:function(e){if(e.fileName)return e.pageName?`${e.fileName} - ${e.pageName}`:e.fileName}(s),baseUrl:s.url,activeStartingPointNodeId:s.activeStartingPointNodeId}),l.createElement("div",{className:rn},l.createElement("label",null,(0,R.tx)("slides.properties_panel.embeddable_prototype.flow_label")),l.createElement(ny.E,{name:"slide_embeddable_prototype_flow_selector"},l.createElement(nG.l6,{disabled:0===a.length,formatter:o,id:"slide-embeddable-prototype-flow-selector",property:d,onChange:e=>{c(e)},dispatch:t,dropdownShown:n},a.map(e=>l.createElement(nG.c$,{value:e.id,key:e.id}))))),void 0!==s.deviceFramePreset&&""!==s.deviceFramePreset?l.createElement(ri,{showDeviceFrame:(0,re.Wd)(s),onChange:p}):null))}function rr({fileName:e,baseUrl:t,activeStartingPointNodeId:n}){let r=(0,l.useCallback)(()=>{let e;if(t){try{e=new URL(t)}catch(e){return}n&&(0,rt.e)(e.searchParams,"starting-point-node-id",n),l9.Ay.redirect(e.toString(),"_blank")}},[t,n]);return l.createElement(n$.r,{titleTx:e?l.createElement("div",{className:nM.cx.textBodyMediumStrong.$},e):(0,R.tx)("slides.properties_panel.embeddable_prototype.default_title"),icon:l.createElement(ek.K,{"aria-label":(0,R.t)("slides.properties_panel.embeddable_prototype.open_prototype_label"),onClick:r,htmlAttributes:{"data-tooltip":(0,R.t)("slides.properties_panel.embeddable_prototype.open_prototype_label"),"data-tooltip-type":"text"}},l.createElement(l8.E,null))})}function ri({showDeviceFrame:e,onChange:t}){return l.createElement("div",{className:rn},l.createElement("label",null,(0,R.tx)("slides.properties_panel.embeddable_prototype.device_frame_label")),l.createElement(ny.E,{name:"slides_embeddable_prototype_device_frame_switch"},l.createElement(l6.d,{label:l.createElement(l7.h,null,(0,R.t)("slides.properties_panel.embeddable_prototype.device_frame_label")),checked:e,onChange:t})))}class rs{constructor(e){this.startingPointsData=e}format(e){return this.startingPointsData?.find(t=>t.id===e)?.name??""}}var ra=n(424928),ro=n(954625),rc=n(116226),rp=n(279702),rd=n(485463);function ru(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M11.5 8.5H9A3.5 3.5 0 0 0 5.5 12v0A3.5 3.5 0 0 0 9 15.5h.5m2-7-2-2m2 2-2 2m5-2h.5a3.5 3.5 0 0 1 3.5 3.5v0a3.5 3.5 0 0 1-3.5 3.5h-2.5m0 0 2-2m-2 2 2 2"}))}function rm(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.854 6.146a.5.5 0 1 0-.708.708L10.293 8H9a4 4 0 0 0-2.857 6.8.5.5 0 1 0 .714-.7A3 3 0 0 1 9 9h1.293l-1.147 1.146a.5.5 0 0 0 .708.708l2-2a.5.5 0 0 0 0-.708l-2-2Zm8.003 3.055a.5.5 0 1 0-.714.7A3 3 0 0 1 15 15h-1.293l1.147-1.147a.5.5 0 0 0-.708-.708l-2 2a.5.5 0 0 0 0 .708l2 2a.5.5 0 0 0 .708-.708L13.707 16H15a4 4 0 0 0 2.857-6.8Z",clipRule:"evenodd"}),l.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m6.5 17.5 11-11"}))}var rh=n(43604),rE=n(978488),r_=n(30090),ry=n(278733),rg=n(931770),rS=n(53119),rP=n(186126),rb=n(527718),rf=n(172834),rv=n(671209),rw=n(407058),rT=n(306143),rI=n(617398);function rk({value:e,onValueChange:t,dispatch:n,dataTooltipType:r=ey.Ib.TEXT,dataTooltip:i,recordingKey:s}){return l.createElement(nV.w2,{"data-tooltip-type":r,"data-tooltip":i,value:e,onValueChange:t,dispatch:n,decimals:0,tooltipForScreenReadersOnly:!1,hidePercentSign:!0,childrenAtEnd:!0,inputClassName:nM.cx.w64.br0.$,recordingKey:s},l.createElement("span",{className:nM.cx.flex.w100.justifyEnd.pr4.eventsNone.colorTextSecondary.$},(0,R.tx)("fullscreen.scrubbable.percent")))}var rN=n(752256);function rC({value:e,min:t,max:n,step:r,bigStep:i,hints:s,onChange:a,ariaLabel:o,numberInput:c,sliderTrackableName:p,recordingKey:d}){return l.createElement("div",{className:"slides_slider_input_row--sliderInputRow--Z9EzC ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu"},l.createElement("div",{className:"slides_slider_input_row--slider--M8t1y"},l.createElement(ny.E,{name:p},l.createElement(rN.A,{min:t,max:n,step:r,bigStep:i,hints:s,rangeAnchor:t,mixed:(0,Y.gl)(e),value:(0,Y.hS)(e)?e:0,onChange:a,"aria-label":o,recordingKey:h.Pt(d,"slider")}))),l.createElement("div",{className:"slides_slider_input_row--input--E4qTs"},c))}var rA=n(676938);function rO({rowRef:e,recordingKey:t}){let[n,r]=l.useState(!1),[i,s]=l.useState(null),a=l.useCallback(()=>{n?r(!1):e.current&&(s((0,eg.cn)(e.current,240)),r(!0))},[n,e]),o=l.useRef(null),c=l.useRef(null);return(0,rA.Y)(()=>r(!1),{closeOnEsc:!0,ignore:[o,c]}),l.createElement(l.Fragment,null,l.createElement(ny.E,{name:"slides_blur_input"},l.createElement(lO,{isOpen:n,onMouseDown:a,ref:o,recordingKey:t},l.createElement("div",{className:nM.cx.inlineFlex.itemsCenter.$},l.createElement(rI.V,null),(0,R.tx)("slides.properties_panel.blur.label")))),n&&i&&l.createElement("div",{ref:c},l.createElement(e1.vx,{title:(0,R.t)("slides.properties_panel.blur.title"),headerSize:"small",initialPosition:i,initialWidth:240,onClose:()=>r(!1),autoflowHeight:!0,recordingKey:t},l.createElement("div",{className:nM.cx.py12.pr8.$},l.createElement(rM,{recordingKey:t})))))}function rM({recordingKey:e}){let t=(0,r.wA)(),[n,i]=(0,lf.lJ)("blur"),s=l.useCallback(e=>i(100*e),[i]);return l.createElement(ty.p,{name:"slides_blur_controls"},l.createElement(rC,{min:0,max:1,step:.01,bigStep:.1,value:(0,Y.gl)(n)?Y.oV:(n||0)/100,onChange:s,ariaLabel:(0,R.t)("slides.properties_panel.blur.strength"),numberInput:l.createElement(ny.E,{name:"slides_blur_strength_input"},l.createElement(rk,{dataTooltip:(0,R.t)("slides.properties_panel.blur.strength"),value:(0,Y.gl)(n)?Y.oV:(n||0)/100,onValueChange:s,dispatch:t,recordingKey:h.Pt(e,"blurStrength","input")})),sliderTrackableName:"slides_blur_strength_slider",recordingKey:h.Pt(e,"blurStrength")}))}var rR=n(227944);let rL=`${P.Yr}-overlay`,rx={type:"SOLID",color:{r:0,g:0,b:0,a:1},opacity:.4,blendMode:"NORMAL",visible:!0};function rD({rowRef:e,recordingKey:t}){let[n,r]=l.useState(!1),[i,s]=l.useState(null),a=l.useCallback(()=>{n?r(!1):e.current&&(s((0,eg.cn)(e.current,240)),r(!0))},[n,e]),o=l.useRef(null),c=l.useRef(null);(0,rA.Y)(()=>r(!1),{closeOnEsc:!0,ignore:[o,c]});let p=(0,lf.kl)("imageOverlayPaint"),d=(0,Y.E7)(p??null)||rx;return l.createElement(l.Fragment,null,l.createElement(ny.E,{name:"slides_overlay_input"},l.createElement(lO,{isOpen:n,onMouseDown:a,ref:o,recordingKey:t},l.createElement("span",{className:nM.cx.inlineFlex.gap6.pl4.ellipsis.noWrap.overflowHidden.$},l.createElement(lG,{paint:d,colors:[]}),(0,R.tx)("slides.properties_panel.overlay")))),n&&i&&l.createElement("div",{ref:c},l.createElement(e1.vx,{title:(0,R.t)("slides.properties_panel.overlay"),headerSize:"small",initialPosition:i,initialWidth:240,onClose:()=>r(!1),autoflowHeight:!0,recordingKey:t},l.createElement("div",{className:nM.cx.py12.pr8.$},l.createElement(rF,{recordingKey:t})))))}function rF({recordingKey:e}){let t=(0,r.wA)(),n=(0,rR.Zr)("add-image-overlay"),[i,s]=(0,lf.lJ)("imageOverlayPaint"),a=(0,Y.gl)(i)||i&&n,o=e=>{(0,td.KF)((0,Y.hS)(i),"overlay paint should not be mixed");var t={...i||rx};t.opacity=e,s(t)};return l.createElement(ty.p,{name:"slides_overlay_controls"},l.createElement(rC,{min:0,max:1,step:.01,bigStep:.1,value:a?Y.oV:i?.opacity||0,onChange:o,ariaLabel:(0,R.t)("slides.properties_panel.overlay.opacity_slider_aria_label"),numberInput:l.createElement(ny.E,{name:"slides_image_overlay_opacity_slider"},l.createElement(rk,{dataTooltip:(0,R.t)("fullscreen.scrubbable.opacity"),value:a?Y.oV:i?.opacity||0,onValueChange:o,dispatch:t})),sliderTrackableName:"slides_image_overlay_opacity_slider",recordingKey:h.Pt(e,"opacity")}),l.createElement("div",{className:nM.cx.pt8.pb4.pr8.pl16.$},l.createElement(lB,{paint:a?Y.oV:i||rx,onChange:e=>{(0,td.KF)((0,Y.hS)(i),"overlay paint should not be mixed");var t={...e};i&&e.color&&i.color&&lI.z5.format(e.color)!==lI.z5.format(i.color)&&(t.opacity=i.opacity),i||(t.opacity=.4),s(t)},pickerId:rL,inheritStyleKeyField:"inheritFillStyleKey",inheritStyleKey:void 0,inheritStyleName:void 0,recordingKey:h.Pt(e,"color"),hideCustomColorPickerFillTypeToggle:!1})))}let rV="image-scale-mode-select";function rK({paint:e,paintIndex:t,onChange:n,recordingKey:s,selectedPropertyType:a}){let o=(0,r.wA)(),c=(0,l.useMemo)(()=>new nL.D,[]),d=(0,r.d4)(e=>e.dropdownShown?.type===rV?e.dropdownShown:null),[u,m]=(0,l.useState)(!1),[E,y]=(0,l.useState)(0),[g,S]=(0,l.useState)(0),[P,b]=(0,l.useState)(!1),[f,v]=(0,l.useState)(null),[w,T]=(0,l.useState)(!1),[I,k]=(0,l.useState)(!1),[N,C]=(0,l.useState)(0),[A,O]=(0,l.useState)(null),[M,L]=(0,l.useState)(null),x=(0,W.y7)(e),D=(0,l.useRef)(x);D.current=x;let F=(0,tf.tS)(),V=!!e?.animatedImage,K=!!e?.video||e?.type==="VIDEO";(0,l.useEffect)(()=>{V&&D.current?.animationFrame!=null?(C(D.current.animationFrame),(0,rw.Bc)(D.current).then(e=>{O((0,rS.J)(e))})):K&&(0,r_.Fe)().then(e=>v(e))},[K,V,x?.animatedImage?.hash]);let U=function(){let e=(0,lf.kl)("videoMediaLoop");return{mediaLoop:e,autoplay:(0,lf.kl)("videoAutoplay"),muted:(0,lf.kl)("videoMuted"),numVideosSelected:(0,lf.kl)("numVideosSelected")}}();return e?l.createElement("div",null,l.createElement(_.Y,{isDragTarget:()=>!0,onTargetDragEnter:()=>(m(!0),h.aH),onTargetDragLeave:()=>(m(!1),h.aH),onTargetDrop:n=>{if(m(!1),H.Y5.fileArrayToString){let l=H.Y5.fileArrayToString(Array.from(n.files));i.glU.dropImageOnPaintThumbnail(e?.blendMode??"NORMAL",e?.opacity??1,l,t,a)}},recordingKey:h.Pt(s,"imageDragTarget")},l.createElement("div",{className:p()(nM.cx.relative.wAuto.h100.flex.itemsCenter.justifyCenter.radiusMedium.$,lF.xm,{[nM.cx.colorBorderSelected.bSolid.b1.$]:u})},x&&K?l.createElement(rf.A,{imagePaint:x,openFileKey:F||void 0,width:200,height:100,className:nM.cx.opacity1.block.$,currentTime:E,onUpdateCurrentTime:e=>y(e),setDuration:e=>S(e),playing:P,setPlaying:e=>b(e),videoJsLib:f,isVideoLoaded:w,setIsVideoLoaded:e=>T(e),userClickedControls:I,setUserClickedControls:e=>k(e)}):x&&V?l.createElement(rP.Y,{imagePaint:x,width:200,height:100,animatedImage:A,animationFrame:N,onUpdateFrameData:e=>L(e),playing:P}):x?l.createElement(rb.K,{imagePaint:x,width:200,height:100,forceUpdate:!1}):null,l.createElement("div",{className:p()(nM.cx.absolute.top0.bottom0.left0.right0.flex.itemsCenter.justifyCenter.$,lF.CL)},l.createElement(ny.E,{name:"slides_media_upload"},l.createElement(ew.rp,{onClick:()=>{H.Y5.updateAppModel({currentSelectedProperty:{type:i.rrT.FILL,indices:[t]}});let n=e.blendMode||"NORMAL",l=e.opacity||1;i.glU.uploadPaintMedia(n,l)},style:ry.sx.wAuto.py4.px8.$,recordingKey:h.Pt(s,"uploadMedia")},(0,R.tx)("slides.properties_panel.replace_media")))))),l.createElement(eI.Ad,{label:null,input:l.createElement(ny.E,{name:"slides_image_scale_mode"},l.createElement(nG.l6,{id:rV,property:e.imageScaleMode??"FILL",onChange:t=>{"STRETCH"===t?H.Y5.triggerActionInUserEditScope("crop-image"):n({...e,imageScaleMode:t})},formatter:c,dispatch:o,dropdownShown:d,targetDomNode:document.body,inputWidth:80,recordingKey:h.Pt(s,"imageScaleMode")},rw.GA.map((e,t)=>l.createElement(nG.c$,{key:t,value:e,recordingKey:h.Pt(s,"imageScaleMode",e)}))))}),l.createElement(rB,{recordingKey:s}),K&&l.createElement(l.Fragment,null,l.createElement("div",{className:lF.iS},l.createElement(rT.P,{paint:e,currentTime:E||0,duration:g,onVideoTimeChange:e=>{y(e),b(!1)},disabled:!e.video,isVideoLoaded:w,setPlaying:e=>b(e),playing:!!e.video&&P,setUserClickedControls:e=>k(e)})),l.createElement("div",{className:nM.cx.pl16.pr8.flex.minH32.itemsCenter.$},l.createElement("div",{className:nM.cx.flex1.$},l.createElement(rd.S,{label:l.createElement(l7.J,{"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("proto.prototype_panel.default_video_playback_state")},(0,R.tx)("proto.prototype_panel.autoplay")),onChange:e=>H.Y5.updateSelectionProperties({videoAutoplay:e}),checked:!0===U.autoplay,mixed:(0,Y.gl)(U.autoplay)})),l.createElement(rU,{icon:!0===U.mediaLoop?l.createElement(ru,{color:"var(--color-border-selected)"}):l.createElement(rm,null),enabled:!0===U.mediaLoop,onClick:()=>H.Y5.updateSelectionProperties({videoMediaLoop:!U.mediaLoop}),recordingKey:h.Pt(s,"videoLoopToggle"),tooltip:(0,R.t)("proto.prototype_panel.loop"),trackingName:"slides_video_loop_toggle"}),l.createElement(rU,{icon:!0!==U.muted?l.createElement(rh.L,{color:"var(--color-border-selected)"}):l.createElement(rE.P,null),enabled:!0!==U.muted,onClick:()=>H.Y5.updateSelectionProperties({videoMuted:!U.muted}),recordingKey:h.Pt(s,"videoSoundToggle"),tooltip:(0,R.t)("proto.prototype_panel.sound"),trackingName:"slides_video_sound_toggle"}))),V&&l.createElement("div",{className:lF.iS},l.createElement(rv.F,{paint:e,animationFrame:N,numFrames:A?A.numFrames():null,onGIFFrameChange:e=>{C(Math.round(e)),b(!1)},disabled:!A,setPlaying:e=>b(e),playing:!!A&&P,setGIFCoverFrame:t=>{if(!M)return;let n=t??N;(null!=t||n!==e.animationFrame)&&(H.Y5.triggerAction("toggle-raster-edit-mode"),eE.l7.user("update-gif-image-slides",()=>(0,rg.SK)({...e,animationFrame:n},M.data,i.rrT.FILL)),i.glU.setDefaultEditMode())}}))):null}function rU({enabled:e,onClick:t,icon:n,tooltip:r,trackingName:i,recordingKey:s}){return l.createElement(ny.E,{name:i},l.createElement(eA.GG,{className:p()(lF.BE,{[lF.Sn]:e}),onClick:t,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":r,"aria-label":r,recordingKey:s},n))}function rB({recordingKey:e}){let t=(0,l.useRef)(null);return l.createElement(lv.g,{ref:t,leftLabel:null,leftInput:l.createElement(rD,{rowRef:t,recordingKey:h.Pt(e,"overlay")}),rightLabel:null,rightInput:l.createElement(rO,{rowRef:t,recordingKey:h.Pt(e,"blur")})})}let rH=`${P.Yr}-fill`,rG=["NONE","SOLID","GRADIENT","MEDIA"],rY={SOLID:"SOLID",GRADIENT:"GRADIENT_LINEAR",MEDIA:"IMAGE"};function rW({recordingKey:e}){let t=(0,r.d4)(e=>e.mirror.selectionProperties.numSelectedByType),n=!!t&&(0,U.OU)(t,["SLIDE"]),s=t&&(0,U.Kl)(t,["SLIDE","TEXT"]),[a]=(0,lf.lJ)("fillsType"),o=(0,r.d4)(e=>{let t=e.mirror.selectionProperties.fillPaints;return(0,Y.gl)(t)?Y.oV:t?.[0]}),[c]=(0,lf.lJ)("imageOverlayPaint"),[p]=(0,lf.lJ)("inheritFillStyleKey"),[d]=(0,lf.lJ)("inheritFillStyleName"),u=l.useMemo(()=>({NONE:{displayText:(0,R.t)("slides.properties_panel.fill.fill_type_none"),icon:l.createElement(eC.f,null)},SOLID:{displayText:(0,R.t)("slides.properties_panel.fill.fill_type_solid"),icon:l.createElement(ra.H,null)},GRADIENT:{displayText:(0,R.t)("slides.properties_panel.fill.fill_type_gradient"),icon:l.createElement(ro.z,null)},MEDIA:{displayText:(0,R.t)("slides.properties_panel.fill.fill_type_media"),icon:l.createElement(rc.Z,null)}}),[]),m=l.useCallback((e,t)=>{W.Tm.clearCache();let n=[e];c&&(0,Y.hS)(c)&&n.push(c),H.Y5.updateSelectionProperties({fillPaints:n},{shouldCommit:t})},[c]),E=l.useCallback(e=>(0,Y.gl)(e)?void 0:e?"RASTER"===e||c&&(0,Y.hS)(c)?"MEDIA":e:s?"SOLID":"NONE",[s,c]),[_,y]=l.useState(E(a));l.useEffect(()=>{y(E(a))},[a,o,E]);let g=l.useCallback(e=>{_!==e&&("NONE"===e?H.Y5.updateSelectionProperties({fillPaints:[]}):rY[e]&&m(W.Tm.initPaint(rY[e],lR.li.color,(0,Y._W)(o,{}),"slides-fill-panel"),rp.zk.YES),y(e))},[o,m,_]);(0,tb.f4)(()=>{y(E(a))});let S=_&&(0,Y.hS)(a)&&("SOLID"===_||"GRADIENT"===_),P=_&&(0,Y.hS)(a)&&o&&(0,Y.hS)(o)&&"MEDIA"===_;return l.createElement(ty.p,{name:"slides_fill_panel"},l.createElement(nZ,null,l.createElement(n$.r,{titleTx:(()=>{if(t){if(n)return(0,R.tx)("slides.properties_panel.fill.slide_fill_title");if((0,U.OU)(t,["TEXT"]))return(0,R.tx)("slides.properties_panel.fill.text_fill_title")}return(0,R.tx)("slides.properties_panel.fill.fill_title")})()}),l.createElement(lW,{legend:(0,R.tx)("slides.properties_panel.fill.type_label"),value:_,onChange:g,recordingKey:h.Pt(e,"fillType")},rG.filter(e=>!(s&&"NONE"===e)).map(e=>l.createElement(lg.I.Option,{key:e,value:e,icon:u[e].icon,"aria-label":u[e].displayText,htmlAttributes:{"data-onboarding-key":u[e].displayText}}))),S&&l.createElement("div",{className:nM.cx.py4.pr8.pl16.$},l.createElement(lB,{paint:o,onChange:m,inheritStyleKeyField:"inheritFillStyleKey",inheritStyleName:d,inheritStyleKey:p,pickerId:rH,recordingKey:h.Pt(e,"color"),hideCustomColorPickerFillTypeToggle:!0})),P&&l.createElement(rK,{paint:o,paintIndex:0,onChange:m,recordingKey:e,selectedPropertyType:i.rrT.FILL})))}var rQ=n(234945),r$=n(690122),rz=n(721478),rX=n(371623),rj=n(687881);let rZ=l.memo(function({recordingKey:e}){let t=(0,r.d4)(rQ.qd),n=(0,r.d4)(rQ.dT),i=(0,r.d4)(eL.Z3),s=(0,Y.E7)((0,lf.kl)("resettableInstanceOverrides")),{onlyInstances:a,onlyInstanceSublayers:o}=(0,r$.p)(n);return a||o?l.createElement(ew.Zk,{className:rj.Mx},a&&l.createElement("div",{className:rj.Og},l.createElement(eR.e6,{containerWidth:e0.O2.RESIZABLE_SIDEBAR,propDimension:e0.OE.ASSIGNMENT,guids:t,recordingKey:e,enableHidingOverflowRowsInUI3:!0,hideIcon:!0,entrypointForInstanceSwapPicker:rX.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_INSTANCE_PANEL})),i.map(t=>l.createElement("div",{key:`bubbledInstance.${t[0]}`,className:rj.Wf},l.createElement(eR.ME,{containerWidth:e0.O2.RESIZABLE_SIDEBAR,propDimension:e0.OE.ASSIGNMENT,guids:t,hideErrors:!0,resettableInstanceOverrides:s&&s.bubbledInstanceOverrides?s.bubbledInstanceOverrides[t[0]]:void 0,instanceAndSublayerGUIDs:t,instanceNameDisplayOverride:rz.NA.NAME_ONLY,shouldHideInstanceTitleButtons:!0,hideIcon:!0,recordingKey:e,forBubbledProps:!0,highlightNodesOnHover:!0,entrypointForInstanceSwapPicker:rX.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_INSTANCE_PANEL_BUBBLED})))):l.createElement(ew.Zk,{className:rj.Mx})});var rJ=n(992739),rq=n(447636);function r0({selection:e}){let t=(0,l.useMemo)(()=>Object.keys(e),[e]),n=t[0],r=(0,nF.Fk)((e,t)=>(function(e){let t;if(!e)return;let n=e.interactiveSlideElementType;if(null===n||n===i.a9h.EMBED)return;switch(n){case i.a9h.POLL:t=(0,R.t)("slides.flapp.embed.widget_poll");break;case i.a9h.FACEPILE:t=(0,R.t)("slides.flapp.embed.widget_stamps");break;case i.a9h.ALIGNMENT:t=(0,R.t)("slides.flapp.embed.widget_alignment");break;case i.a9h.YOUTUBE:t=(0,R.t)("slides.flapp.embed.widget_youtube")}let l=Object.keys(e.interactiveSlideParticipantData).length>0,r=e.interactiveSlideConfigData,s=(0,rq.aF)(r);return{displayName:t,currentTheme:s.theme,hasParticipantData:l,shouldShowBackground:!s.transparentMode}})(e.get(t)),n),s=(0,l.useCallback)(()=>{eE.l7.user("reset_slides_interactive_widget_participant_data",()=>{let e=ep.q.instance;e.get(n)?.resetInteractiveSlideParticipantData()})},[n]),a=(0,l.useCallback)(e=>{eE.l7.user("set_interactive_widget_theme",()=>{let t=ep.q.instance;t.get(n)?.setInteractiveSlideConfigData("theme",e)})},[n]),o=(0,l.useCallback)(e=>{eE.l7.user("set_interactive_widget_hide_background",()=>{let t=ep.q.instance;t.get(n)?.setInteractiveSlideConfigData("hideBackground",(!e).toString())})},[n]);return!r||t.length>1?null:l.createElement(ty.p,{name:"slides_interactive_widget_panel"},l.createElement(ew.Zk,null,l.createElement(n$.r,{titleTx:l.createElement("p",{className:nM.cx.textBodyMediumStrong.$},r.displayName),icon:l.createElement(r5,{canReset:r.hasParticipantData,onReset:s})}),l.createElement(r3,{currentTheme:r.currentTheme,onThemeSelected:a}),l.createElement(r6,{showBackground:r.shouldShowBackground,onChange:o}),l.createElement(r1,null)))}function r1(){return l.createElement("div",{className:nM.cx.p8.$},l.createElement("div",{className:nM.cx.colorBgSecondary.radiusMedium.p8.$},l.createElement("div",{className:nM.cx.textBodyMediumStrong.colorText.pb4.$},(0,R.tx)("slides.properties_panel.interactive_widget.usage_guidance_header")),l.createElement("div",{className:nM.cx.textBodyMedium.colorTextTertiary.$},(0,R.tx)("slides.properties_panel.interactive_widget.usage_guidance_text"))))}function r5({canReset:e,onReset:t}){let{showing:n,toggle:r}=(0,t0.BK)("RESET_INTERACTIVE_WIDGET_ICON_DROPDOWN_ID"),i=(0,l.useRef)(null);return l.createElement(l.Fragment,null,l.createElement(ek.K,{"aria-label":(0,R.t)("slides.properties_panel.interactive_widget.reset_label"),disabled:!e,onClick:()=>r(),ref:i},l.createElement(rJ.m,null)),n&&i.current&&l.createElement(eP.Cf,{targetRect:i.current.getBoundingClientRect(),displayOverTarget:!0},l.createElement(en.c$,{disabled:!0},(0,R.tx)("slides.properties_panel.interactive_widget.reset_confirmation_title")),l.createElement(en.c$,{onClick:t},(0,R.tx)("slides.properties_panel.interactive_widget.confirm_reset_label"))))}let r4="flappThemeSelector";function r3({currentTheme:e,onThemeSelected:t}){let n=(0,r.wA)(),i=(0,t0.Um)();return l.createElement("div",{className:rn},l.createElement("label",null,(0,R.tx)("slides.properties_panel.interactive_widget.theme_selector_label")),l.createElement(ny.E,{name:"slides_interactive_widget_theme_selector"},l.createElement(nG.l6,{id:"slides-interactive-widget-theme-selector",formatter:r2,property:e,onChange:t,dispatch:n,dropdownShown:i,recordingKey:r4},l.createElement(nG.c$,{value:rq.Pm.Light,key:rq.Pm.Light,recordingKey:h.Pt(r4,"lightOption")}),l.createElement(nG.c$,{value:rq.Pm.Dark,key:rq.Pm.Dark,recordingKey:h.Pt(r4,"darkOption")}))))}let r2=new class{format(e){switch(e){case rq.Pm.Light:return(0,R.t)("slides.properties_panel.interactive_widget.light_theme_label");case rq.Pm.Dark:return(0,R.t)("slides.properties_panel.interactive_widget.dark_theme_label");case rq.Pm.Translucent:return(0,R.t)("slides.properties_panel.interactive_widget.transparent_theme_label")}}};function r6({showBackground:e,onChange:t}){return l.createElement("div",{className:rn},l.createElement("label",null,(0,R.tx)("slides.properties_panel.interactive_widget.background_label")),l.createElement(ny.E,{name:"slides_interactive_widget_background_switch"},l.createElement(l6.d,{label:l.createElement(l7.h,null,(0,R.t)("slides.properties_panel.interactive_widget.background_label")),checked:e,onChange:t,recordingKey:"flappBackgroundToggle"})))}var r7=n(334495);let r8=/^\w+:/;function r9({recordingKey:e}){let t=(0,r.wA)(),n=(0,t0.Um)(),[s,o]=(0,lf.lJ)("hyperlink"),c=(0,Y.E7)(s),p=null;c&&void 0!==c.guid?p={type:"guid",guid:c.guid}:c&&void 0!==c.url?p={type:"url",url:c.url}:(0,Y.gl)(s)&&(p=Y.oV);let d=(0,nD.J2)(i.Ez5.slideDeck().slideGrid),u=(0,nj.rY)(d),m=l.useMemo(()=>u.reduce((e,t,n)=>(e.set(t,n),e),new Map),[u]),E=l.useMemo(()=>({format:e=>{if(null===e)return"";if((0,Y.gl)(e))return(0,R.t)("fullscreen.mixed");if("guid"===e.type){let t=(0,a.toString)(e.guid),n=m.get(t);return void 0===n?"":(0,R.t)("slides.properties_panel.link_panel.slide_number",{orderNum:n+1})}return"url"===e.type?e.url:""},parse:e=>{if(!e)return null;let t=(0,R.t)("slides.properties_panel.link_panel.slide_number",{orderNum:""}),n=e.replace(t,"").trim();if(n.length>0){let e=parseInt(n)-1,t=(0,a.fromString)(u[e]);if(t)return{type:"guid",guid:t}}return{type:"url",url:e}},isEqual:(e,t)=>(0,lb.c2)(e,t)}),[m,u]),_=eE.nc.user("slides-link-change",l.useCallback(e=>{null===e?o({},rp.zk.YES):"guid"===e.type?o({guid:e.guid},rp.zk.YES):"url"===e.type&&o({url:e.url.match(r8)?e.url:`https://${e.url}`},rp.zk.YES),i.glU.hideHyperlinkEditor()},[o]));return l.createElement(ty.p,{name:"slides_link_panel"},l.createElement(nZ,null,l.createElement(n$.r,{titleTx:(0,R.tx)("slides.properties_panel.link_panel.title")}),l.createElement(eI.Ad,{input:l.createElement(nK.ow,{value:{select:nY.pW,inputComponent:nY.gm}},l.createElement(nG.tV,{value:{chevron:nW.c9}},l.createElement(nK.a3,{id:"slides-link-combo-box",dispatch:t,inputClassName:r7.lb,dropdownShown:n,formatter:E,property:p,onChange:e=>{_(e)},placeholder:(0,R.t)("slides.properties_panel.link_panel.placeholder"),forceInputPlaceholder:null===p,recordingKey:h.Pt(e,"link")},u.map(t=>l.createElement(nG.c$,{value:{type:"guid",guid:(0,a.fromString)(t)},key:t,recordingKey:h.Pt(e,t)}))))),label:null})))}var ie=n(668e3);class it extends nG.c${}class il extends nR.LN{isEqual(e,t){return 1e-5>Math.abs(e-t)}}let ir=[.1,.3,.5,.8,1];function ii({recordingKey:e}){let t=(0,r.wA)(),n=(0,t0.Um)(),[i,s]=(0,lf.lJ)("opacity"),a=new il,o=void 0===i||(0,Y.gl)(i)?Y.oV:i,c=l.createElement(el.U,{svg:l1.A},l.createElement(ie.N,null));return l.createElement(ty.p,{name:"slides_opacity_panel"},l.createElement(nJ,{titleTx:(0,R.tx)("slides.properties_panel.opacity"),input:l.createElement(ny.E,{name:"slides_opacity_dropdown"},l.createElement(nK.ow,{value:{select:nY.pW,inputComponent:nY.gm}},l.createElement(nG.tV,{value:{chevron:nW.c9}},l.createElement(nV.xW,{id:"opacity-select",onValueChange:e=>{s(e)},value:o,icon:c,dropdownShown:n,min:0,max:1,willShowDropdown:()=>(H.Y5.commit(),Promise.resolve()),formatter:a,dispatch:t,recordingKey:h.Pt(e,"opacity"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("slides.properties_panel.opacity"),tooltipForScreenReadersOnly:!1,enablePreview:!0},ir.map(t=>l.createElement(it,{key:`opacity-${t}`,value:t,recordingKey:h.Pt(e,"opacity","select",t)},a.format(t)))))))}))}function is(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("rect",{width:"8",height:"8",x:"7.5",y:"7.5",stroke:"var(--color-icon)",rx:"1"}),l.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M8.064 15.936A1.5 1.5 0 0 0 9.5 17h6a1.5 1.5 0 0 0 1.5-1.5v-6a1.5 1.5 0 0 0-1.064-1.436A1.5 1.5 0 0 1 16 8.5v6a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1-.436-.064Z",clipRule:"evenodd"}))}function ia(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("rect",{width:"8",height:"8",x:"7.5",y:"7.5",stroke:"var(--color-icon)",rx:"1"}),l.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M9 16v.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5v-6A1.5 1.5 0 0 0 16.5 9H16v5.5a1.5 1.5 0 0 1-1.5 1.5H9Z",clipRule:"evenodd"}))}function io(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("rect",{width:"8",height:"8",x:"6.5",y:"6.5",stroke:"var(--color-icon)",rx:"1"}),l.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M9 15v1.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5v-6A1.5 1.5 0 0 0 16.5 9H15v4.5a1.5 1.5 0 0 1-1.5 1.5H9Z",clipRule:"evenodd"}))}let ic=["NONE","LIGHT","MEDIUM","STRONG"];function ip({recordingKey:e}){let t=(0,r.wA)(),[n,i]=(0,lf.lJ)("shadow"),s=l.useMemo(()=>({NONE:{value:null,displayText:(0,R.t)("slides.properties_panel.shadow_style_none"),icon:l.createElement(eC.f,null)},LIGHT:{value:{radius:3,x:0,y:1},displayText:(0,R.t)("slides.properties_panel.shadow_style_light"),icon:l.createElement(is,null)},MEDIUM:{value:{radius:16,x:0,y:5},displayText:(0,R.t)("slides.properties_panel.shadow_style_medium"),icon:l.createElement(ia,null)},STRONG:{value:{radius:40,x:0,y:10},displayText:(0,R.t)("slides.properties_panel.shadow_style_strong"),icon:l.createElement(io,null)}}),[]),[a,o]=l.useState(()=>c(n));function c(e){if(!(0,Y.gl)(e))return e?id(e,s.LIGHT.value)?"LIGHT":id(e,s.MEDIUM.value)?"MEDIUM":id(e,s.STRONG.value)?"STRONG":"NONE":"NONE"}let p=e=>{(0,Y.hS)(n)&&n&&i({...n,opacity:e})};return(0,tb.f4)(()=>{o(c(n))}),l.createElement(ty.p,{name:"slides_shadow_panel"},l.createElement(nZ,null,l.createElement(n$.r,{titleTx:(0,R.tx)("slides.properties_panel.shadow")}),l.createElement(lW,{legend:(0,R.tx)("slides.properties_panel.shadow_style"),value:a,onChange:e=>{let t=s[e].value,l=(0,Y.hS)(n)&&n?.opacity||.25;i(t?{offset:{x:t.x,y:t.y},radius:t.radius,spread:0,opacity:l}:null,rp.zk.YES),o(e)},recordingKey:h.Pt(e,"shadowStyle")},ic.map(e=>l.createElement(lg.I.Option,{key:e,value:e,icon:s[e].icon,"aria-label":s[e].displayText,htmlAttributes:{"data-onboarding-key":s[e].displayText}}))),!!n&&l.createElement(rC,{value:(0,Y.gl)(n)?Y.oV:n?.opacity??0,min:0,max:1,step:.01,bigStep:.1,onChange:p,ariaLabel:(0,R.t)("slides.properties_panel.shadow_opacity"),numberInput:l.createElement(ny.E,{name:"slides_shadow_opacity_input"},l.createElement(rk,{dataTooltip:(0,R.t)("slides.properties_panel.shadow_opacity"),value:(0,Y.gl)(n)?Y.oV:n?.opacity??0,onValueChange:p,recordingKey:h.Pt(e,"shadowOpacity","input"),dispatch:t})),sliderTrackableName:"slides_shadow_opacity_slider",recordingKey:h.Pt(e,"shadowOpacity")})))}function id(e,t){return e.radius===t?.radius&&e.offset.x===t?.x&&e.offset.y===t?.y}var iu=n(966981),im=n(392592),ih=n(179243),iE=n(50127),i_=n(452883);function iy({}){let e=(0,r.wA)(),t=(0,i_.$)(),{Sprig:n}=(0,iu.A)(),s=(0,tf.tS)(),a=(0,nz.l5)(),o=l.useCallback((l,r)=>eE.l7.user("swap-slide-theme",()=>{let o=(0,ih.Dh)(l);if(!o)return;let c=new Set(o.variableIDs);r&&(r=r.filter(e=>c.has(e)));let p=i.Ez5.slideThemeLibBindings().swapSelectedSlidesToNewTheme(l,r||[]);p===i.qYO.NO_THEME_COLORS?e(im.F.enqueue({message:(0,R.t)("slides.properties_panel.theme.shuffle_no_change_visual_bell")})):p===i.qYO.NONE_AVAILABLE&&e(im.F.enqueue({message:(0,R.t)("slides.properties_panel.theme.no_swap_available")})),s&&tp.az.trackDefinedEvent("slides.editor.theme_swap",{fromThemeId:t,toThemeId:l,fileKey:s,slideIds:a.join(",")}),H.Y5.triggerAction("commit"),n("track","swap_slide_theme")}),[e,n,t,s,a]);return l.createElement(ty.p,{name:"slides_theme_panel"},l.createElement(ew.Zk,null,l.createElement(n$.r,{titleTx:(0,R.tx)("slides.properties_panel.theme.panel_title")}),l.createElement("div",{className:nM.cx.grid.px16.$},l.createElement(iE.n,{pickerKey:"theme-swap-picker",selectedThemeId:t,onChange:o,allowShuffle:!0,allowEditTheme:!!(0,u.kc)().piper_rename_theme}))))}var ig=n(993086),iS=n(923793),iP=n(226129),ib=n(343427),iv=n(794272),iw=n(75540),iT=n(238093),iI=n(282647),ik=n(872442),iN=n(688998),iC=n(599677),iA=n(231139),iO=n(937348),iM=n(304022),iR=n(176019),iL=n(564092),ix=n(533573),iD=n(841983),iF=n(326331),iV=n(646240),iK=n(374626),iU=n(877432),iB=n(632430),iH=n(407182),iG=n(559681),iY=n(352046),iW=n(10199),iQ=n(927990),i$=n(175290),iz=n(83909),iX=n(604445),ij=n(502242);let iZ=(0,d.hG)(tR.wQn);function iJ({selectedStyleProperties:e,styleName:t,styleNameInputPrefix:n,isInspectPanel:r,viewOnly:i,recordingKey:s,showProperties:a=!0,showStylePreview:o=!1,onEnterPressed:c}){return l.createElement(i$.Y,{direction:"vertical",spacing:0,height:"hug-contents"},o&&l.createElement(ij.we,{selectedStyleProperties:e}),l.createElement(O.P,{maxHeight:300,width:iZ},l.createElement(iq,{styleName:t,styleNameInputPrefix:n,selectedStyleProperties:e,isInspectPanel:r,viewOnly:i,recordingKey:s,onEnterPressed:c}),a&&(r?l.createElement(iX.U,{recordingKey:h.Pt(s,"inspectionPanel")}):l.createElement(ij.RO,{selectedStyleProperties:e,recordingKey:s}))))}function iq({selectedStyleProperties:e,styleName:t,styleNameInputPrefix:n,recordingKey:s,viewOnly:o,onEnterPressed:c}){let[p,u]=l.useState((n??"")+(t?(0,tw.kH)(t):"")),E=(0,r.wA)(),_=e.guid,y=e.styleType,g=l.useRef(null),S=l.useContext(T.zK),P=h.of(h.Pt(s,"styleName"),"submit",()=>{if(""===p)return;let n=t?(0,tw.In)(t):void 0,l=n?n+"/"+p:p;eE.l7.user("rename-style",()=>i.glU.renameNode((0,a.toString)(_),(0,t$.J_)(l))),H.Y5.triggerAction("commit"),b(),(0,tp.sx)("Style Renamed",{styleType:e.styleType})}),b=()=>{E(tg.ay({isRenaming:!1}))},f=h.v_(s,"keydown",e=>{if(e.keyCode===m.Uz.TAB)P();else if(e.keyCode===m.Uz.ENTER)P(),S===T.zM.EDIT_STYLE&&""===p||c?.();else{if(e.keyCode!==m.Uz.ESCAPE)return h.aH;(0,Z.flushSync)(()=>{u(t?(0,tw.kH)(t):"")}),b();let n=Z.findDOMNode(g.current);n&&n.blur()}});return l.createElement("div",{className:nM.cx.flex.flexColumn.gap8.pl16.pr16.pt8.pb8.bb1.bSolid.colorBorder.$},l.createElement(ew.JU,{disabled:o},(0,R.tx)("design_systems.create_style.name")),o?l.createElement(i$.Y,{padding:{vertical:(0,d.hG)(tR.dGl)},width:"hug-contents",height:"hug-contents",verticalAlignItems:"start"},t):l.createElement(ew.ks,{ref:g,className:"slides_styles_properties_form--textInput--H1F0- raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",name:"styleName",value:p,placeholder:(0,ij.Qv)(y),onFocus:()=>(E(tg.ay({isRenaming:!0})),u(p),h.aH),onBlur:P,onChange:e=>{let n=e.target.value;u(n),t!==n&&iz.wt.reportEditAction("style-rename")},onKeyDown:f,recordingKey:h.Pt(s,"styleName"),delay:50,autoFocus:!0,autoComplete:"off"}))}function i0({closePicker:e,recordingKey:t}){let n=(0,i_.$)(),s=(0,r.d4)(e=>e.stylePreviewShown),a=(0,r.wA)(),o=(0,r.d4)(e=>e.mirror.selectedStyleProperties),c=(0,r.d4)(e=>e.mirror.sceneGraphSelection),p=l.useRef(Object.keys(c).length>0),[d,u]=l.useState(!p.current&&void 0),{styleType:m,inheritStyleKeyField:E,styleNameInputPrefix:_}=s,{styleRef:y,createStyle:S}=(0,iQ.u)({inheritStyleKeyField:E,isCreatingFromSelection:p.current,trackingOptions:{styleType:m}}),P=h.of(h.Pt("createStyleModal"),"submit",()=>{let t=S();a(x.XE()),a(x.Uv()),a(g.sw()),i.Ez5.slideThemeLibBindings().addStyleToLocalTheme(t||"",n),e()});if(!s.isShown||!s.isCreating)return null;let b=new eq.Mi(s.rowLeft-300,s.rowTop);return l.createElement(T.zK.Provider,{value:T.zM.CREATE_STYLE},l.createElement(e1.vx,{title:(0,R.t)("design_systems.create_style.text"),headerSize:"small",initialWidth:300,initialPosition:b,onClose:()=>{a(g.sw())},recordingKey:t,dragHeaderOnly:!0},l.createElement(iJ,{type:o.styleType,recordingKey:t,styleNameInputPrefix:_,isInspectPanel:!1,selectedStyleProperties:o,showProperties:d,onEnterPressed:P}),!y&&l.createElement("div",{className:nM.cx.pl16.pr16.pt16.$},(0,R.tx)("design_systems.create_style.an_error_occurred_while_creating_the_style")),l.createElement(iW.AutoLayout,{horizontalAlignItems:p.current?void 0:"end",verticalAlignItems:"center",spacing:p.current?"auto":void 0,padding:16},p.current&&l.createElement(l.Fragment,null,l.createElement(nA.$n,{variant:"secondary",onClick:()=>u(!d),recordingKey:h.Pt(t,"showHideOptionsButton")},d?(0,R.tx)("design_systems.create_style.hide_options"):(0,R.tx)("design_systems.create_style.show_more_options")),l.createElement(nA.$n,{onClick:P,disabled:!y,recordingKey:h.Pt(t,"createStyleButton")},(0,R.tx)("design_systems.create_style.create_style"))))))}var i1=n(844519),i5=n(762127);function i4({recordingKey:e}){var t;let n;let o=(0,r.wA)(),c=(0,tb.p8)("isReadOnly"),p=(0,tf.tS)(),{inheritTextStyleKey:d,styleIdForText:u,stylePreviewShown:m,selectedStyleProperties:E}=(0,iv.R)(e=>({inheritTextStyleKey:e.mirror.selectionProperties.inheritTextStyleKey,styleIdForText:e.mirror.selectionProperties.styleIdForText,stylePreviewShown:e.stylePreviewShown,selectedStyleProperties:e.mirror.selectedStyleProperties})),_=(0,a.toString)(E.guid),y=(0,nF.Fk)((e,t)=>{let n=e.get(t);return n?.name||""},_);if(!m.isShown||m.isCreating||!E&&!d&&!u&&!_)return null;let S=()=>{i.glU.selectStyle(s.StyleKey.INVALID,s.StyleVersion.INVALID),o(g.sw())},P=(t=(0,tv.IW)(m),n="",t?n=t.name||"":(0,a.toString)(E?.guid)&&y&&(n=y),n),b=eE.nc.user("slides-delete-style",()=>{m.style.isLocal&&(0,t1.Nr)(m.style,p),S()});return l.createElement(T.zK.Provider,{value:T.zM.EDIT_STYLE},l.createElement(ty.p,{name:"slides_edit_text_style"},l.createElement(e1.vx,{title:l.createElement("div",{className:nM.cx.pl8.flex.wFull.itemsCenter.justifyBetween.$},(0,R.tx)("slides.properties_panel.text_style.edit_text_style"),l.createElement(ek.K,{htmlAttributes:{"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("slides.properties_panel.text_style.delete_style")},"aria-label":(0,R.t)("slides.properties_panel.text_style.delete_style"),onClick:b,recordingKey:h.Pt(e,"deleteStyle")},l.createElement(el.U,{svg:i5.A},l.createElement(i1.i,null)))),key:"slides-edit-text-style-modal",headerSize:"small",initialWidth:300,initialPosition:new eq.Mi(m.rowLeft-300,m.rowTop),onClose:S,dragHeaderOnly:!0},l.createElement(iJ,{type:E.styleType,onEnterPressed:()=>o(g.sw()),viewOnly:c,key:"style-preview-panel",selectedStyleProperties:E,isInspectPanel:!1,styleName:P,recordingKey:h.Pt(e,"editTextStyle")}))))}var i3=n(902008),i2=n(811027),i6=n(896474),i7=n(110382),i8=n(783908);function i9(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M4 15.727V7.924l.059-.065c.11-.117.285-.28.53-.443C5.078 7.091 5.858 6.75 7 6.75s1.923.341 2.41.666a3.089 3.089 0 0 1 .59.508v7.803a5.679 5.679 0 0 0-.07-.04C9.296 15.336 8.338 15 7 15s-2.296.335-2.93.688a5.679 5.679 0 0 0-.07.04Zm7 0 .07-.04a5.505 5.505 0 0 1 1.93-.62v1.011a4.437 4.437 0 0 0-1.445.484c-.246.137-.42.272-.529.368a1.788 1.788 0 0 0-.136.133l-.002.003a.5.5 0 0 1-.776 0l-.002-.003a1.784 1.784 0 0 0-.136-.134 3.014 3.014 0 0 0-.53-.367C8.955 16.29 8.163 16 7 16s-1.954.29-2.445.562c-.246.137-.42.272-.529.368a1.755 1.755 0 0 0-.136.133l-.002.003A.5.5 0 0 1 3 16.75v-9a.5.5 0 0 1 .084-.277l.416.277-.416-.278.001-.002.002-.002.005-.007.014-.02.049-.064c.04-.052.1-.123.177-.205.155-.164.386-.377.703-.588C4.673 6.159 5.643 5.75 7 5.75c1.357 0 2.327.409 2.965.834.217.145.395.291.535.421.14-.13.318-.276.535-.421.638-.425 1.608-.834 2.965-.834 1.357 0 2.327.409 2.965.834.317.211.548.424.703.588a3 3 0 0 1 .226.268l.014.02.005.008.002.003v.001l-.415.278.416-.277A.5.5 0 0 1 18 7.75V10h-1V7.924a3.09 3.09 0 0 0-.59-.508c-.487-.325-1.267-.666-2.41-.666-1.143 0-1.923.341-2.41.666a3.09 3.09 0 0 0-.59.508v7.803ZM14.5 12a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 1 0V13h2v5h-.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H18v-5h2v.5a.5.5 0 1 0 1 0v-1a.5.5 0 0 0-.5-.5h-6Z",clipRule:"evenodd"}))}var se=n(418985);function st({parentRef:e,inheritTextStyleKey:t,styleIdForText:n,closePicker:i,recordingKey:s}){let a="inheritTextStyleKey",o=(0,iT._S)(a),c=(0,r.wA)();return l.createElement(l.Fragment,null,l.createElement(se.M,{inheritStyleKey:t,inheritStyleID:n,styleType:tO.s4.TEXT}),o&&l.createElement(se.U,{picker:o,styleType:tO.s4.TEXT,inheritStyleKey:t,inheritStyleKeyField:a,inheritStyleID:n,stylePickerListLayout:!0,onToggleListLayout:lx.lQ,onApplyStyle:(e,t)=>{c(iB.AV({style:e,inheritStyleKeyField:a,fromSearch:t})),i()},hideBrowseLibraries:!(0,u.kc)().piper_style_libraries,hideCreateStyleButton:!0,customPickerTitle:(0,R.t)("slides.properties_panel.library_text_styles"),minBottomMargin:4,recordingKey:"subscribedStylePicker",hideLocalStyles:!0}),l.createElement(ny.E,{name:"slides_toggle_library_text_style_picker"},l.createElement(n_.d,{toggled:!!o,onClick:()=>{if(o)c(x.Uv());else if(e.current){let t=e.current.getBoundingClientRect();c(g.sw()),c(x.bS({id:(0,iT.OS)("inheritTextStyleKey"),initialX:t.left-t.width-4,initialY:t.top,modal:!0}))}},"aria-label":(0,R.t)("fullscreen.properties_panel.tooltip_applyStyles"),recordingKey:h.Pt(s,"showStylesButton")},l.createElement(i9,null))))}let sn="slides_text_style_dropdown_contents--styleOption--29CYO text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",sl="slides_text_style_dropdown_contents--optionHeader---tOKJ";function sr({mainStyle:e,inheritStyleID:t,inheritStyleKey:n,closePicker:o,recordingKey:c}){let p=(0,r.wA)(),d=(0,i_.$)(),u=(0,iG.Xo)(d),m=l.useMemo(()=>e?.node_id&&u.some(t=>t.node_id===e.node_id),[e?.node_id,u]),E=l.createRef(),_=(0,r.d4)(e=>e.stylePreviewShown),y=_.isShown&&_.isCreating,S=_.isShown&&!_.isCreating,P=l.useContext(T.lk),[b,f]=l.useState([]),v=l.useCallback((e,t,n)=>{for(let l of e)eE.l7.user("reorder-slide-theme-style",()=>{i.glU.insertStyleBetween(l.node_id,t?.node_id||"",n?.node_id||"")})},[]);return l.createElement(eA.D8,{className:"slides_text_style_dropdown_contents--dropdownContainer--pwY1T",onMouseDown:K.dG,forwardedRef:E},l.createElement(ty.p,{name:"slides_text_style_picker"},l.createElement("div",{className:"slides_text_style_dropdown_contents--dropdownHeader--m278H"},l.createElement("span",{className:nM.cx.flexGrow1.$},(0,R.tx)("slides.properties_panel.text_styles")),l.createElement(st,{parentRef:E,styleIdForText:t,inheritTextStyleKey:n,closePicker:o,recordingKey:c}),l.createElement(n_.d,{toggled:y,"aria-label":(0,R.t)("slides.properties_panel.text_style.create_new_style"),onClick:()=>{if(y)p(g.sw());else if(E.current){eE.l7.user("slides-create-style",()=>{i.glU.applyStyleToSelection("inheritTextStyleKey",a.invalidGUIDStr,!0),i.glU.selectStyle(s.StyleKey.INVALID,s.StyleVersion.INVALID)}),p(x.Uv());let e=E.current.getBoundingClientRect();P({styleType:tO.s4.TEXT,inheritStyleKeyField:"inheritTextStyleKey",rowLeft:e.left,rowTop:e.top})}},recordingKey:h.Pt(c,"addStyleButton"),htmlAttributes:{"data-tooltip":(0,R.t)("slides.properties_panel.text_style.create_new_style"),"data-tooltip-type":ey.Ib.TEXT}},l.createElement(ee.e,null))),l.createElement("div",{className:nM.cx.flex.flexColumn.$,style:{padding:"8px"}},u.length>0?l.createElement(tN.q,{listItems:u,renderListItem:(n,r,i,s,a,p,d)=>l.createElement(ss,{key:n.node_id,textStyle:n,isSelected:(0,Y.hS)(t)&&e?.node_id===n.node_id,isDragging:i,isReorderingItems:s,closePicker:o,onMouseDown:a,onMouseMove:p,onMouseUp:d,recordingKey:c}),selectedIndices:b,updateSelection:f,onDragEnd:()=>f([]),onInsertItemsBetweenValues:v,isDragDisabled:S}):l.createElement(si,null),!m&&l.createElement(sa,{mainStyle:e,inheritStyleID:t,closePicker:o})),!e&&l.createElement(eA.D8,{className:nM.cx.p8.bt1.bSolid.colorBorder.$},l.createElement(so,{closePicker:o,recordingKey:h.Pt(c,"custom")}))))}function si(){return l.createElement("span",{className:nM.cx.px8.colorTextSecondary.$},(0,R.tx)("slides.properties_panel.text_style.empty_styles",{title:l.createElement("strong",null,(0,R.tx)("slides.properties_panel.text_style.title_style")),body:l.createElement("strong",null,(0,R.tx)("slides.properties_panel.text_style.body_style"))}))}function ss({textStyle:e,isSelected:t,isDragging:n,isReorderingItems:s,closePicker:a,onMouseDown:c,onMouseMove:d,onMouseUp:u,recordingKey:m}){let E=(0,r.wA)(),[_,y]=l.useState(!1),S=(0,nF.Fk)((e,t)=>e.get(t||"")?.fontSize,e.node_id),P=(0,nF.Fk)((e,t)=>e.get(t||"")?.hasMissingFont||!1,e.node_id),b=l.createRef(),f=(0,i8.bf)(e),v=!s&&(_||f);return l.createElement(eA.D8,{forwardedRef:b,className:p()(sn,{[nM.cx.colorBgHover.$]:n||_&&!s}),onMouseDown:e=>{e.target===e.currentTarget&&c(e)},onMouseUp:e=>{e.target===e.currentTarget&&u(e)},onClick:()=>{P?i.glU.findMissingFontsAndShowPopover():E(iB.AV({style:e,inheritStyleKeyField:"inheritTextStyleKey"})),a()},onMouseMove:d,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),recordingKey:h.Pt(m,e.name)},l.createElement("span",{className:p()(nM.cx.eventsNone.$,t?nM.cx.visible.$:nM.cx.invisible.$)},l.createElement(i3.l,null)),l.createElement("div",{className:nM.cx.flexGrow1.ellipsis.eventsNone.inlineFlex.truncate.$},l.createElement("span",{className:p()(nM.cx.colorText.$)},e.name),S&&l.createElement("span",{className:nM.cx.colorTextSecondary.pl2.$},(0,R.tx)("slides.properties_panel.text.style_description_font_size",{fontSize:(0,o.roundToTwoDecimalPlaces)(S)}))),P&&l.createElement("span",{className:nM.cx.w24.$},l.createElement(i2.z,null)),l.createElement("span",{className:v?nM.cx.visible.$:nM.cx.invisible.$},l.createElement(n_.d,{"aria-label":(0,R.t)("slides.properties_panel.text_style.edit_text_style"),onClick:t=>{if(f)E(g.sw());else if(b.current){i.glU.selectStyleByGuid(e.node_id);let t=b.current.getBoundingClientRect();E(g.rk({style:e,rowTop:t.y,rowLeft:t.x-8}))}t?.stopPropagation()},recordingKey:h.Pt(m,e.name,"editButton"),toggled:f},l.createElement(tW.A,null))))}function sa({mainStyle:e,inheritStyleID:t,closePicker:n}){let r=(0,i7.AH)((0,Y.E7)(e?.key),(0,Y.E7)(t)),s=(0,iK.md)(ih.TN),a=l.useMemo(()=>{if(e?.node_id)for(let t of s){let n=iK.zl.get((0,ih.i1)(t)).data;if(n&&n.styleGUIDs.includes(e.node_id))return i.Ez5.slideThemeLibBindings().getThemeName(t)}return null},[e?.node_id,s]),o="",c="";return(r&&"loaded"===r.status?(o=r.data.fileName,c=r.data.name):a&&(o=a,c=e?.name||""),o&&c)?l.createElement(l.Fragment,null,l.createElement("div",{className:sl},o),l.createElement(eA.D8,{className:sn,onMouseUp:n},l.createElement(i3.l,null),c)):null}function so({closePicker:e,recordingKey:t}){let n=(0,lf.kl)("fontFamily")||Y.oV,r=(0,lf.kl)("fontSize")||Y.oV;return l.createElement("div",{className:nM.cx.pb4.$},l.createElement("div",{className:sl},(0,R.tx)("slides.properties_panel.text_style.custom")),l.createElement(eA.D8,{className:sn,onClick:e,recordingKey:h.Pt(t,"custom")},l.createElement("div",{className:nM.cx.pr8.$},l.createElement(i6.In,{icon:"checkmark-on-16"})),(0,Y.hS)(n)&&(0,Y.hS)(r)?l.createElement(l.Fragment,null,l.createElement("div",{className:nM.cx.colorText.$},n),l.createElement("div",{className:nM.cx.colorTextSecondary.$,style:{paddingLeft:"3px"}},(0,R.tx)("slides.properties_panel.text.style_description_font_size",{fontSize:(0,o.roundToTwoDecimalPlaces)(r)}))):(0,R.tx)("slides.properties_panel.text_style.mixed")))}function sc({mainStyle:e,inheritTextStyleKey:t,styleIdForText:n,previouslyAppliedStyle:i,recordingKey:s}){let a=(0,r.wA)(),o=l.createRef(),[c,p]=l.useState(!1),d=(0,iV.Xr)(ih.q0),u=(0,iY.i)();l.useEffect(()=>{d({})},[u,d]);let m=l.useCallback(()=>{a(x.Uv()),p(!1)},[a]),E=l.useCallback(()=>{c?m():p(!0)},[c,m]),_=l.useCallback(e=>{o.current&&e.target instanceof Node&&o.current.contains(e.target)||m()},[o,m]);return l.useEffect(()=>(window.addEventListener("mousedown",_),()=>window.removeEventListener("mousedown",_)),[_]),l.createElement(l.Fragment,null,l.createElement(eI.Ad,{ref:o,input:l.createElement(sp,{mainStyle:e,inheritStyleID:n,inheritStyleKey:t,previouslyAppliedStyle:i,textPreviewColor:u,isOpen:c,onClick:E,closePicker:m,recordingKey:s}),label:null,appendedClassName:"slides_text_style_row--textStyleRow--FE95p"}),l.createElement(i0,{closePicker:m,recordingKey:h.Pt(s,"createTextStyleModal")}),l.createElement(i4,{recordingKey:s}))}function sp({mainStyle:e,inheritStyleID:t,inheritStyleKey:n,previouslyAppliedStyle:r,textPreviewColor:i,isOpen:s,onClick:a,closePicker:o,recordingKey:c}){let d;let u=sd(e),m=sd(r);return d=(0,Y.gl)(t)?(0,R.tx)("slides.properties_panel.text_style.mixed"):e&&!e.is_soft_deleted?u?l.createElement(sm,{mainStyle:e,textPreviewColor:i}):e.name:m?l.createElement(l.Fragment,null,l.createElement(sh,{previouslyAppliedStyle:r,textPreviewColor:i}),l.createElement("span",{className:nM.cx.pl4.colorTextSecondary.$},(0,R.tx)("slides.properties_panel.text_style.edited"))):(0,R.tx)("design_systems.styles.custom"),l.createElement("div",null,l.createElement(eA.GG,{className:p()(nM.cx.relative.wFull.h40.py4.pl8.pr4.$,nM.cx.bRadius5.b1.bSolid.colorBorder.$,nM.cx.flex.itemsCenter.$),onMouseDown:K.dG,onClick:a,recordingKey:c,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("slides.properties_panel.text_style.tooltip")},l.createElement("div",{className:p()(nM.cx.flexGrow1.$,nM.cx.fontMedium.colorText.alignLeft.ellipsis.$,nM.cx.flex.itemsCenter.overflowHidden.$)},d),l.createElement(iF.r,null),!e&&m&&l.createElement(sy,{themeStyleToUpdate:r,recordingKey:c})),s&&l.createElement(sr,{mainStyle:e,inheritStyleID:t,inheritStyleKey:n,closePicker:o,recordingKey:"slidesTextStylePicker"}))}function sd(e){let t=(0,i_.$)(),n=(0,iG.Xo)(t);return!!e&&n.some(t=>t.node_id===e.node_id)}function su(e,t,n,l,r){return(async()=>{if(i.vXe.fontsAreLoading()){let e=0;await new Promise((t,n)=>{let l=setInterval(()=>{i.vXe.fontsAreLoading()||(t(),clearInterval(l)),e>10&&n(),e++},100)})}if(!i.vXe.fontIsLoaded(l,r))return"";let s=i.Ez5.slideThemeStylePreview().generateTextPreview(e,t,n,l,r);return s?URL.createObjectURL(new Blob([s])):""})()}function sm({mainStyle:e,textPreviewColor:t}){let n=e.node_id,r=(0,nF.Fk)((e,t)=>e.get(t)?.name||"",n),i=(0,nF.Fk)((e,t)=>(t&&e.get(t)?.fontName?.family)??"",n),s=(0,nF.Fk)((e,t)=>(t&&e.get(t)?.fontName?.style)??"",n),a=(0,nF.Fk)((e,t)=>t&&e.get(t)?.fontSize||0,n),[o,c]=(0,iK.fp)(ih.q0),p=o[n],d=(0,tm.PD)(p);l.useEffect(()=>{n&&i&&s&&!(n in o)&&su(n,r||"Text",t,i,s).then(e=>{c(t=>({...t,[n]:e}))})},[n,r,s,i,t,o,c]);let u=s_(a);return l.createElement(sE,{thumbnailUrl:p??d,styleName:r,previewHeight:u})}function sh({previouslyAppliedStyle:e,textPreviewColor:t}){let n=e.node_id,r=e.name,{fontFamily:i,fontStyle:s,fontSize:a}=(0,iv.R)(e=>{let t=e.mirror.selectionProperties;return{fontFamily:(0,Y.hS)(t.fontFamily)?t.fontFamily:"",fontStyle:(0,Y.hS)(t.fontStyle)?t.fontStyle:"",fontSize:(0,Y.hS)(t.fontSize)&&t.fontSize?t.fontSize:0}}),[o,c]=l.useState("");l.useEffect(()=>{n&&i&&s&&su(n,r,t,i,s).then(e=>c(e))},[n,r,s,i,t,c]);let p=s_(a);return l.createElement(sE,{thumbnailUrl:o,styleName:r,previewHeight:p})}function sE({thumbnailUrl:e,styleName:t,previewHeight:n}){return e?l.createElement("img",{className:"slides_text_style_row--previewImg--vXJc9",style:{height:`${n}px`},src:e,alt:"Text style preview"}):l.createElement("div",{className:nM.cx.fontMedium.colorText.$},t)}function s_(e){let t=(0,i_.$)(),n=(0,iG.Xo)(t),l=(0,tb.eY)(),r=[];for(let e of n){let t=l.get(e.node_id)?.fontSize;t&&r.push(t)}if(r.push(e),!e||0===r.length)return 17;let i=Math.min(...r),s=Math.max(...r);return i===s?17:Math.round(12+(e-i)/(s-i)*10)}function sy({themeStyleToUpdate:e,recordingKey:t}){let n=(0,r.wA)(),{fontFamily:a,fontStyle:o,fontSize:c,lineHeight:p,letterSpacing:d}=(0,iv.R)(e=>{let t=e.mirror.selectionProperties;return{fontFamily:t.fontFamily,fontStyle:t.fontStyle,fontSize:t.fontSize,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing}}),u=(0,iM.B)(),m=async t=>{t.stopPropagation(),e.isLocal&&a&&o&&c&&p&&d&&(n(iB.AV({style:e,inheritStyleKeyField:"inheritTextStyleKey"})),i.glU.selectStyleByGuid(e.node_id),await (0,iU.yQ)(),H.Y5.updateSelectionProperties({fontFamily:a},{shouldCommit:rp.zk.NO,editScopeType:i.zkO.USER}),await (0,iU.yQ)(),H.Y5.updateSelectionProperties({fontStyle:o,fontSize:c,lineHeight:(0,iH.TK)(u,p),letterSpacing:d},{shouldCommit:rp.zk.NO,editScopeType:i.zkO.USER}),i.glU.selectStyle(s.StyleKey.INVALID,s.StyleVersion.INVALID),H.Y5.triggerAction("commit"))};return l.createElement(nA.$n,{variant:"primary",onClick:m,recordingKey:h.Pt(t,"saveButton")},(0,R.tx)("slides.properties_panel.text_style.save_button"))}function sg({recordingKey:e}){let{inheritTextStyleKey:t,styleIdForText:n}=(0,iv.R)(e=>({inheritTextStyleKey:e.mirror.selectionProperties.inheritTextStyleKey||null,styleIdForText:e.mirror.selectionProperties.styleIdForText||null})),i=(0,iT.WH)(t,n,"TEXT"),s=(0,r.d4)(e=>e.fonts),a=l.useMemo(()=>(0,iw.pn)(s),[s]),o=(0,t0.Um)(),[c,p]=l.useState(null===i);l.useEffect(()=>{o||p(!i?.node_id)},[i?.node_id]);let[d,u]=l.useState(null),m=l.useCallback(()=>{i&&u(i)},[i]),E=(0,r.d4)(e=>e.mirror.sceneGraphSelection);return l.useEffect(()=>{u(null)},[E]),l.createElement(ty.p,{name:"slides_type_panel"},l.createElement(nZ,{panelClassName:"slides_type_panel--typePanel--BLBhl"},l.createElement(sc,{mainStyle:i,inheritTextStyleKey:t,styleIdForText:n,previouslyAppliedStyle:d,recordingKey:h.Pt(e,"textStyle")}),c&&l.createElement(sS,{fonts:s,versionsForStyles:a,recordingKey:e,savePreviouslyAppliedStyleOnFontChange:m}),l.createElement(sb,{versionsForStyles:a,recordingKey:e}),l.createElement(sv,{recordingKey:e}),!c&&l.createElement(eI.Ad,{input:l.createElement(nA.IK,{variant:"secondary",onClick:()=>p(!0),recordingKey:h.Pt(e,"showDetails")},(0,R.tx)("slides.properties_panel.text.show_details")),label:null})))}function sS({fonts:e,versionsForStyles:t,savePreviouslyAppliedStyleOnFontChange:n,recordingKey:i}){let s=(0,r.wA)(),a=(0,Y._W)((0,lf.kl)("missingFont"),!1),o=!!H.Y5?.isFontListLoaded(),c=a||!o,p=(0,lf.kl)("fontFamily"),d=(0,lf.kl)("fontStyle"),u=(0,lf.kl)("fontSize"),m=(0,lf.kl)("lineHeight"),E=(0,lf.kl)("letterSpacing"),{bigNudgeAmount:_,smallNudgeAmount:y}=(0,b.sT)(),g=(0,r.d4)(e=>e.mirror.selectionProperties.fontVariations),S=p?(0,iR.LM)({fontFamily:p,fontStyle:d,fonts:e,versionsForStyles:t}):void 0,P=(0,iM.B)(),{consumedVariable:f,clearVariableConsumption:v}=(0,iL.u3)(["FONT_FAMILY"]),w=f?(0,ix.MH)(f):null,T=(0,ng.u)(w??void 0),I=p?l.createElement(iI.ay,{id:"slides-type-panel-font-family",fontFamily:p,editingStyleGuid:void 0,onChange:l=>{n(),(0,iR.PK)({fontFamily:l,lineHeightInContext:P,fonts:e,fontVariations:g,versionsForStyles:t})},boundVariable:T??void 0,onDetachVariableClick:v,fonts:e,versionsForStyles:t,showPlaceholder:!1,disabled:c,hideTypographyVariableOptions:!0,recordingKey:h.Pt(i,"fontFamily")}):null,k=p&&d?l.createElement(ny.E,{name:"slides_font_style"},l.createElement(iN.zz,{id:"slides-type-panel-font-style",fontFamily:p,fontStyle:d,editingStyleGuid:void 0,onChange:(e,t,l)=>{n(),(0,iN.zD)({fontStyle:e,shouldCommit:t,fontVariations:l,lineHeightInContext:P,showVariableFontSettings:lx.lQ,showTypeVariablePicker:lx.lQ})},fonts:e,versionsForStyles:t,fontVariations:g,fontVariationAxes:S?.variationAxes,dropdownAlignment:"right",showMissingIcon:!1,hideVariableFontOptions:!0,hideTypographyVariableOptions:!0,recordingKey:h.Pt(i,"fontStyle")})):null,N=u?l.createElement(ny.E,{name:"slides_font_size"},l.createElement(ik.Z,{id:"slides-type-panel-font-size",fontSize:u,onChange:n,disabled:c,editingStyleGuid:void 0,hideVariableOptions:!0,recordingKey:h.Pt(i,"fontSize")})):null,C=l.createRef(),A=m?l.createElement(iA.a,{lineHeight:m,lineHeightInContext:P,onChange:n,disabled:c,rowElementRef:C,editingStyleGuid:void 0,disableVariables:!0,recordingKey:h.Pt(i,"lineHeight")}):null,O=E?l.createElement(iC.I,{dispatch:s,letterSpacing:E,disabled:c,onChange:n,editingStyleGuid:void 0,rowElementRef:C,bigNudgeAmount:_,smallNudgeAmount:y,disableVariables:!0,recordingKey:h.Pt(i,"letterSpacing")}):null;return l.createElement(l.Fragment,null,I,l.createElement(lv.g,{leftLabel:(0,R.tx)("slides.properties_panel.text.weight_label"),leftInput:k,rightLabel:(0,R.tx)("slides.properties_panel.text.font_size_label"),rightInput:N}),l.createElement(lv.g,{ref:C,leftLabel:null,leftInput:A,rightLabel:null,rightInput:O}))}function sP(e){return e.toLowerCase().includes("italic")}function sb({versionsForStyles:e,recordingKey:t}){let{isBold:n,isItalic:r,isUnderline:i,isUnorderedList:s,fontFamily:a}=(0,iv.R)(e=>({isBold:(0,iD.N)(e.mirror.selectionProperties.fontStyle?.toString()||""),isItalic:sP(e.mirror.selectionProperties.fontStyle?.toString()||""),isUnderline:"UNDERLINE"===e.mirror.selectionProperties.textDecoration,isUnorderedList:"UNORDERED_LIST"===e.mirror.selectionProperties.textLineType,fontFamily:e.mirror.selectionProperties.fontFamily})),o=a&&(0,Y.hS)(a)&&e[a]?Object.keys(e[a]):[],c=o.every(e=>!(0,iD.N)(e)),p=o.every(e=>!sP(e));return l.createElement(eI.Ad,{label:null,input:l.createElement("div",{className:nM.cx.flex.wFull.gap4.$},l.createElement(sf,{selected:n,disabled:c,onClick:()=>{H.Y5.triggerActionInUserEditScope("toggle-bold")},icon:l.createElement(ig.j,{color:n?"var(--color-border-selected)":void 0}),tooltip:(0,R.t)("slides.properties_panel.text.bold"),trackingName:"slides_bold_button",recordingKey:h.Pt(t,"bold")}),l.createElement(sf,{selected:r,disabled:p,onClick:()=>{H.Y5.triggerActionInUserEditScope("text-toggle-italic")},icon:l.createElement(iS.s,{color:r?"var(--color-border-selected)":void 0}),tooltip:(0,R.t)("slides.properties_panel.text.italic"),trackingName:"slides_italic_button",recordingKey:h.Pt(t,"italic")}),l.createElement(sf,{selected:i,disabled:!1,onClick:()=>{H.Y5.triggerActionInUserEditScope("text-toggle-underline")},icon:l.createElement(iP.W,{color:i?"var(--color-border-selected)":void 0}),tooltip:(0,R.t)("slides.properties_panel.text.underline"),trackingName:"slides_underline_button",recordingKey:h.Pt(t,"underline")}),l.createElement(sf,{selected:s,disabled:!1,onClick:()=>{H.Y5.triggerActionInUserEditScope("text-toggle-unordered-list")},icon:l.createElement(ib.Z,{color:s?"var(--color-border-selected)":void 0}),tooltip:(0,R.t)("slides.properties_panel.text.unordered_list"),trackingName:"slides_unordered_list_button",recordingKey:h.Pt(t,"unorderedList")}))})}function sf({selected:e,disabled:t,onClick:n,icon:r,tooltip:i,trackingName:s,recordingKey:a}){return l.createElement(ny.E,{name:s},l.createElement(eA.GG,{className:p()("slides_type_panel--formatButton--71QdB",{"slides_type_panel--selected--dHazD":e,"slides_type_panel--disabled--Vd8xM":t}),onClick:n,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":i,"aria-label":i,recordingKey:a},r))}function sv({recordingKey:e}){let t=(0,lf.kl)("textAlignVertical")||Y.oV;return l.createElement(lv.g,{leftLabel:null,leftInput:l.createElement(ny.E,{name:"slides_text_align_horizontal"},l.createElement(iO.jw,{recordingKey:h.Pt(e,"textAlignHorizontal")})),rightLabel:null,rightInput:l.createElement(ny.E,{name:"slides_text_align_vertical"},l.createElement(iO.Ln,{textAlignVertical:t,recordingKey:h.Pt(e,"textAlignVertical")}))})}var sw=n(390487),sT=n(69961),sI=n(75215),sk=n(251518),sN=n(129978),sC=n(781867),sA=n(37819),sO=n(57392),sM=n(715762),sR=n(507662),sL=n(664241),sx=n(258376);function sD({recordingKey:e}){let t=(0,iK.md)(sO.I7);return(0,iL.Tt)()&&!(0,u.kc)().ds_variables_relax_modes&&t?l.createElement(sV,{recordingKey:e}):null}let sF="VARIABLES_INCOMPATIBLE_MODES_UPDATE_DROPDOWN";function sV({recordingKey:e}){let t=(0,r.wA)(),n=(0,t0.Um)(),i=l.useRef(null),s=n&&n.type===sF,a=l.useCallback(()=>{i.current&&t(er.j7({type:sF,data:{targetRect:i.current.getBoundingClientRect()}}))},[t]),o=l.useCallback(()=>{t(ei.to({type:sR.T,data:{initialTab:tk.Wv.UPDATES,entrypoint:sM.r6.VARIABLE_MODES_ACCEPT_UPDATES_DROPDOWN_OPTION}}))},[t]);return l.createElement(l.Fragment,null,l.createElement("div",{ref:i},l.createElement(ex.YW,{recordingKey:h.Pt(e,"updateIcon"),selected:!!s,svg:sx.A,className:sL.l_,dataTestId:"updatesModesButton","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("variables.layer_panel.header.update_button_direct.tooltip"),onMouseDown:e=>e.stopPropagation(),onClick:a})),s&&(i.current?l.createElement(eP.Cf,{targetRect:i.current.getBoundingClientRect(),maxWidth:226,disableDropdownScrollContainer:!0,propagateCloseClick:!0},l.createElement(l.Fragment,null,l.createElement(en.c$,{className:sL.Ig,recordingKey:h.Pt(e,"description"),key:"description",disabled:!0},(0,R.t)("variables.layer_panel.header.update_button.dropdown.description")),l.createElement(en.wv,null),l.createElement(en.c$,{onClick:o,recordingKey:h.Pt(e,"review-update"),key:"review_update"},(0,R.t)("variables.layer_panel.header.update_button_direct.dropdown.option")))):null))}function sK(e){let t=(0,l.useRef)(null),n=(0,et.DP)(),r=e=>H.Y5.updateSelectionProperties({backgroundEnabled:e}),i=e=>{H.Y5.updateSelectionProperties({exportBackgroundDisabled:!e})},s=(0,th.xx)(e=>{let t=(0,Y.E7)(e.backgroundColor),n=(0,Y.E7)(e.backgroundOpacity);return null!=t&&null!=n?{...t,a:n}:e.backgroundColor||Y.oV}),a=l.createElement(sU,{backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,pickerShown:e.pickerShown,chitRowRef:t,recordingKey:e.recordingKey}),o=()=>l.createElement("span",{className:"background_panel--visible--2-4Ns"},l.createElement(sC.B,{visible:e.backgroundEnabled,onChange:r,recordingKey:h.Pt(e,"visibleToggle")}));return l.createElement(ty.p,{name:"background_panel"},l.createElement(ew.Zk,null,l.createElement("div",null,l.createElement(ew.fI,{className:"background_panel--panelTitleRow--uNINf"},l.createElement(ew.xw,null,(0,R.tx)("fullscreen.properties_panel.page")),l.createElement(sD,{recordingKey:"pageLevel"}),l.createElement(sA.M,{showLibrarySets:!0,recordingKey:"pageLevel"})),"ui2"===n.version?l.createElement(l.Fragment,null,l.createElement(ew.fI,{forwardedRef:t},a,o())):l.createElement(eI.DE,{ref:t,label:null,input:a,icon:o()})),e.hasExports?"ui3"===n.version&&sT.nt.ui3ClipContentControl.getValue()?l.createElement(eI.Ad,{label:l.createElement(l.Fragment,null),input:l.createElement(rd.S,{muted:!0,mixed:e.exportBackgroundDisabled===Y.oV,checked:!1===e.exportBackgroundDisabled,onChange:i,recordingKey:h.Pt(e,"exportDisableCheckbox"),label:l.createElement(l7.J,{"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports")},(0,R.tx)("fullscreen.properties_panel.show_in_exports")),htmlAttributes:{"data-tooltip":(0,R.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":ey.Ib.TEXT}})}):l.createElement(ew.fI,{className:"background_panel--checkboxLabelRow--r-hmK"},l.createElement(sI.t,{className:"background_panel--checkbox--6U3j-",id:"export-background-disabled",property:e.exportBackgroundDisabled===Y.oV?Y.oV:!e.exportBackgroundDisabled,onChange:i,recordingKey:h.Pt(e,"exportDisableCheckbox")}),l.createElement(ew.JU,{className:"background_panel--checkboxLabel--ITthj",htmlFor:"export-background-disabled","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports")},(0,R.tx)("fullscreen.properties_panel.show_in_exports"))):void 0,e.pickerShown?.id===P.k8&&l.createElement(sk.sk,{disabledVariableIds:new Set,title:(0,R.t)("fullscreen.properties_panel.background"),initialPosition:new eq.Mi(e.pickerShown.initialX,e.pickerShown.initialY),color:(0,Y.hS)(s(e))?(0,Y.E7)(s(e)):{r:1,g:1,b:1,a:1},boundVariable:null,onChange:(e,t)=>{let n=e.a;e.a=1,H.Y5.updateSelectionProperties({backgroundColor:e,backgroundOpacity:n,backgroundEnabled:!0},{shouldCommit:t})},recordingKey:h.Pt(e,"colorPicker")}),l.createElement(sN.wu,{showExplicitOnly:!0,recordingKey:"backgroundPanel-variableModeEntries"})))}function sU(e){let t=(0,r.wA)(),n=(0,th.xx)(e=>{let t=(0,Y.E7)(e.backgroundColor),n=(0,Y.E7)(e.backgroundOpacity);return null!=t&&null!=n?{...t,a:n}:e.backgroundColor||Y.oV}),i=l.useMemo(()=>(0,Y.hS)(e.backgroundOpacity)&&"number"==typeof e.backgroundOpacity&&isNaN(e.backgroundOpacity)?0:e.backgroundOpacity,[e.backgroundOpacity]),s=(0,Y.E7)(e.backgroundColor),a=(0,Y.E7)(e.backgroundEnabled),o={color:s??void 0,opacity:(0,Y.E7)(i)??void 0,type:"SOLID",blendMode:"NORMAL",visible:a??void 0};return l.createElement("div",{className:"background_panel--colorValueContainer---lsls paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},l.createElement(lD.y7,{recordingKey:e.recordingKey,togglePicker:()=>{if(e.pickerShown&&e.pickerShown.id===P.k8)t(x.XE());else{(0,u.kc)().ce_properties_panel_tracking&&(0,tp.sx)("editor-background-panel-color-picker-show");let n=e.chitRowRef.current?(0,eg.cn)(e.chitRowRef.current):{x:0,y:0};t(x.u1({id:P.k8,initialX:n.x,initialY:n.y})),t(g.sw())}},chitOverride:{color:n(e),opacity:i},paint:o,onChange:(t,n)=>{let l=!(0,r.bN)(t.color,e.backgroundColor),i=t.opacity!==e.backgroundOpacity;H.Y5.updateSelectionProperties({backgroundColor:l?t.color:void 0,backgroundOpacity:i?t.opacity:void 0,backgroundEnabled:0!==t.opacity},{shouldCommit:n})}}))}var sB=n(33136),sH=n(44159);function sG(e){let t=(0,sB.t)();return e.readOnly?l.createElement(sH.lc,{...e}):t.nodesAreAllInsideStacks&&"AUTO"===t.stackPositioning?null:l.createElement(ew.Zk,null,l.createElement(ew.fI,null,l.createElement(ew.xw,{extended:!0},(0,R.tx)("fullscreen.properties_panel.constraints_panel.constraints"))),l.createElement(sH.lc,{...e}))}function sY(e){return l.createElement(ty.p,{name:"constraints_panel"},l.createElement(sG,{...e}))}var sW=n(233711),sQ=n(924491),s$=n(464558),sz=n(503359),sX=n(613023),sj=n(841368),sZ=n(877953),sJ=n(499777),sq=n(335691),s0=n(567488),s1=n(714939),s5=n(224690),s4=n(760066),s3=n(290022),s2=n(493424),s6=n(468570),s7=n(414879),s8=n(559568),s9=n(171975),ae=n(77763),at=n(737834),an=n(861726),al=n(416580),ar=n(113058),ai=n(301462),as=n(878319),aa=n(219101),ao=n(824374),ac=n(161115);let ap=new nL.SU;class ad extends nG.c${}class au extends nG.l6{}class am extends l.PureComponent{render(){var e;let t=this.props.includePassThrough?ac.j4:ac.r5;return l.createElement(au,{id:(e=this.props.id,`blend-mode-select-${e}`),className:this.props.className,inputClassName:this.props.inputClassName,chevronClassName:this.props.chevronClassName,property:this.props.property,formatter:ap,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,willShowDropdown:this.props.willShowDropdown,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,dropdownWidth:this.props.isUI3?120:"auto",icon:this.props.isUI3?void 0:l.createElement(ao.M,{value:(0,Y.E7)(this.props.property)}),enablePreview:!0},t.map((e,t)=>"SELECT_DIVIDER"===e?l.createElement(nG.sK,{key:t}):l.createElement(ad,{key:t,value:e,recordingKey:h.Pt(this.props,e)})))}}am.displayName="BlendMode";var ah=n(697652),aE=n(83695),a_=n(731262),ay=n(282263),ag=n(952277),aS=n(82131),aP=n(490393),ab=n(435091),af=n(424148),av=n(144919);function aw(e){let{blendMode:t,opacity:n,visible:s}=e,a="ui3"===(0,et.DP)().version,o=l.useRef(null),c=l.useMemo(s5.On,[]),d=l.useMemo(s5.Tn,[]),{dropdownShown:m,isDefReferencedBySelection:E,selectedGUIDs:_,visibilityIsBoundToComponentProp:y}=(0,iv.R)(e=>({dropdownShown:e.dropdownShown,isDefReferencedBySelection:!!c(e,sq.R.VISIBLE),selectedGUIDs:(0,rQ.qd)(e),visibilityIsBoundToComponentProp:d(e,(0,rQ.qd)(e),sq.R.VISIBLE)})),g=(0,Y.gl)(s),S=(0,r.wA)(),P=l.useCallback((e,t=rp.zk.YES)=>{iz.wt.shouldReportForShouldCommit(t)&&ai.F.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),H.Y5.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[]),b=l.useCallback((e,t)=>{H.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!E&&H.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[E]),f=l.useRef(null),[,v]=aI(),{clearVariableConsumption:w}=(0,iL.u3)(["VISIBLE"]),{variableConsumptionMap:T}=(0,iL.R1)(),I=ak(),k=(0,ng.u)(I),N=k?.name,C=aT();return l.createElement(ty.p,{name:"layer_panel"},l.createElement(ew.Zk,null,l.createElement(ew.fI,{className:aS.LO},l.createElement(ah.Tu,{isPanelBodyCollapsedAtom:null},l.createElement(ew.xw,{isPanelBodyCollapsedAtom:null},(0,R.tx)("fullscreen.layer_panel.layer")),l.createElement(sD,{recordingKey:"frameLevel"}),!C&&l.createElement(s0.yQ,{nodeField:sq.R.VISIBLE,defaultValue:s,guids:_}),l.createElement(sA.M,{showLibrarySets:!1,recordingKey:"frameLevel"}))),l.createElement(ah.JH,{isPanelBodyCollapsedAtom:null},l.createElement(ew.fI,null,l.createElement(am,{id:"layer-blend-mode",className:ab.jK,inputClassName:ab.Df,chevronClassName:ab.ai,property:t,dispatch:S,dropdownShown:m,onChange:P,willShowDropdown:()=>((0,tp.sx)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:h.Pt(e,"blendMode"),isUI3:a}),l.createElement(aa.e,{condition:!0,wrapper:t=>l.createElement(s4.sA,{recordingKey:h.Pt(e,"layerOpacityInputWrapper"),fields:["OPACITY"],disabled:!1,resolvedType:i.rXF.FLOAT,currentFieldValue:(0,Y.hS)(n)?n:void 0,inputClassName:p()({[ab.ke]:!0,[ab.TQ]:!0}),hideIcon:!0,inputRef:o,hasBindingContextMenu:!0},t)},l.createElement(nV.Pd,{isTokenizable:!0,value:n,onValueChange:b,mixedMathHandler:aC,dispatch:S,recordingKey:h.Pt(e,"opacity"),forwardedRef:o,noBorderOnHover:!0})),l.createElement(aO,{recordingKey:e.recordingKey})),g&&!E&&l.createElement(ew.fI,{dataTestId:"mixed-visibility-label"},l.createElement(ew.UZ,{className:aP.Pf},(0,R.tx)("fullscreen.layer_panel.replace_mixed_visibility",{svg:l.createElement("div",{className:ab.dY},l.createElement(el.U,{svg:av.A},l.createElement(an.l,null)))}))),l.createElement("div",{className:ab.I0},l.createElement(s1.L,{nodeField:sq.R.VISIBLE,currentValue:e.visible})),(0,u.kc)().prototype_expressions_nodefields?T.VISIBLE&&l.createElement(i$.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},l.createElement(aE.y3,{targetVariableData:T.VISIBLE.isMixed?void 0:T.VISIBLE,onClick:()=>{v(f.current)},isNarrowPanel:!0,isInCell:!1,showVariableThumbnails:!0,isInConditional:!1,isMixed:T.VISIBLE.isMixed}),l.createElement(ek.K,{onClick:()=>w(),"aria-label":(0,R.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip":(0,R.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ey.Ib.TEXT}},l.createElement(el.U,{svg:af.A},l.createElement(al.U,null)))):C&&!y&&l.createElement(i$.Y,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},l.createElement(ag.P,{value:N||(0,R.t)("fullscreen.mixed"),isStandalone:!0,styleOverride:{width:"auto"},isDeleted:!!k&&(0,ix.eF)(k)}),l.createElement(ek.K,{onClick:()=>w(),"aria-label":(0,R.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip":(0,R.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":ey.Ib.TEXT}},l.createElement(el.U,{svg:af.A},l.createElement(al.U,null)))),l.createElement(sN.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}))))}function aT(){let{consumedVariable:e}=(0,iL.u3)(["VISIBLE"]),t=ak(),n=(0,ng.u)(t);return!!e&&!!n}let aI=()=>(0,ay.JV)(["VISIBLE"],i.rXF.BOOLEAN,void 0,{requestedTypes:[i.rXF.BOOLEAN,i.rXF.FLOAT,i.rXF.STRING],variableFilters:{[as.t.MUST_INCLUDE_ONE_OF]:{[i.rXF.STRING]:a_.O4},[as.t.HIDE_IN_DEFAULT_VIEW]:{[i.rXF.FLOAT]:!0}},mapVariableIdToTypedValue:ay.eT});function ak(){let e;let{consumedVariable:t}=(0,iL.u3)(["VISIBLE"]);if(t){if((0,Y.hS)(t)&&t.type===i.Z_n.ALIAS)e=t.value;else if((0,Y.hS)(t)&&t.type===i.Z_n.EXPRESSION){for(let n of(0,ix.Pr)(t))if(n.type===i.Z_n.ALIAS){e=n.value;break}}}return e}class aN extends ar.M{getValueForNode(e){return e.opacity}setValueForNode(e,t){eE.l7.user("set-opacity",()=>{iz.wt.reportAnyPropertyChange(["opacity"]),e.opacity=t})}}let aC=new aN,aA=(0,s5.Tn)();function aO(e){let t=l.useCallback(e=>{H.Y5.updateSelectionProperties({visible:e})},[]),n=l.useMemo(s5.On,[]),{isDefReferencedBySelection:r,visibilityIsBoundToComponentProp:i}=(0,iv.R)(e=>({isDefReferencedBySelection:!!n(e,sq.R.VISIBLE),visibilityIsBoundToComponentProp:aA(e,(0,rQ.qd)(e),sq.R.VISIBLE)})),s=(0,ng.SG)(["VISIBLE"]).data??[],[a]=(0,lf.lJ)("visible"),{consumedVariable:o}=(0,iL.u3)(["VISIBLE"]),c=l.useRef(null),[p,d]=aI(),m=ak(),E=(0,ng.u)(m),_=!!o&&!!E,y=_||i||r,g=!_&&!i&&s.length>0,S=a?(0,R.t)("fullscreen.properties_panel.tooltip_hide"):(0,R.t)("fullscreen.properties_panel.tooltip_show"),P=l.createElement("span",{className:ab.RK},l.createElement(sC.B,{disabled:y,visible:a,onChange:t,recordingKey:h.Pt(e,"visibleToggle")})),b=(0,eD.R)();return l.createElement("div",{className:ab.RK},l.createElement(s4.JQ,{ref:c,currentFieldValue:!!(0,Y.gl)(a)||a,isActive:p,disabled:!g,onPickerOpen:()=>d(c.current),recordingKey:h.Pt(e,"visibilityVariableControl"),dataTestId:"visibility-variable-control"},b?(0,u.kc)().ce_tv_fpl_toggle_button?l.createElement(s9.f,{onIcon:l.createElement(ae.j,null),offIcon:l.createElement(at._,null),checked:!y&&!a,mixed:!y&&(0,Y.gl)(a),disabled:y,onChange:()=>t(a===Y.oV||!a),recordingKey:h.Pt(e,"visibleToggle"),"aria-label":S,variant:"highlighted",htmlAttributes:{"data-test-id":"visibility-variable-control","data-tooltip":S,"data-tooltip-type":ey.Ib.TEXT}}):l.createElement(ex.YW,{selected:!y&&!a,disabled:y,onClick:()=>t(a===Y.oV||!a),recordingKey:h.Pt(e,"visibleToggle"),dataTestId:"visibility-variable-control","data-tooltip":S,"data-tooltip-type":ey.Ib.TEXT},a?l.createElement(at._,null):l.createElement(ae.j,null)):P))}function aM(){let{consumedVariable:e,clearVariableConsumption:t}=(0,iL.u3)(["VISIBLE"]),n=ak(),r=(0,ng.u)(n),i=r?.name,s=!!e&&!!r,a=l.useMemo(s5.Tn,[]),o=(0,ng.BQ)(n),c=(0,iv.R)(e=>a(e,(0,rQ.qd)(e),sq.R.VISIBLE));return!s||c?null:l.createElement(eI.DE,{appendedClassName:"component_bound_vibisility_row--row--Pss97",input:l.createElement(ag.P,{value:i||(0,R.t)("fullscreen.mixed"),isStandalone:!0,classNameOverride:"component_bound_vibisility_row--pillCover--q5iKl",styleOverride:{width:"auto"},isDeleted:!!r&&(0,ix.eF)(r),fullWidth:!0,varaiablePillContainerClassName:"component_bound_vibisility_row--ui3RowVariablePillContainer--ocnP8",thumbnailValue:"MIXED"!==o?o:void 0}),icon:l.createElement("div",{className:"component_bound_vibisility_row--detachVisibilityIcon--FcjEN"},l.createElement(ek.K,{onClick:()=>t(),"aria-label":(0,R.t)("variables.binding_ui.detach_variable_tooltip"),recordingKey:"detachVisibilityVariable",htmlAttributes:{"data-tooltip-type":ey.Ib.TEXT}},l.createElement(al.U,null))),label:null})}let aR=new nL.SU;class aL extends nG.c${}class ax extends nG.l6{renderInput(){return l.createElement(ek.K,{recordingKey:(0,h.Pt)(this.props.recordingKey,"blendMode"),"aria-label":(0,R.t)("properties.dropdown.apply_blend_mode"),onClick:this.onMouseDown,actionOnPointerDown:!0,htmlAttributes:{"data-tooltip":(0,R.t)("properties.dropdown.apply_blend_mode"),"data-tooltip-type":ey.Ib.TEXT}},l.createElement(ao.M,{value:this.props.property,normalIsActive:!0}))}}function aD(e){let[t,n]=(0,ac.sL)(),i=(0,r.wA)(),s=(0,t0.Um)(),a=(0,nT.cJ)(),o=ac.j4.map((t,n)=>{let r="LINEAR_BURN"===t&&a;return"SELECT_DIVIDER"===t?l.createElement(nG.sK,{key:n}):l.createElement(aL,{key:n,value:t,disabled:r,recordingKey:h.Pt(e,"blendMode",t)})});return l.createElement(ax,{id:"layer-blend-mode-select",className:"selection_blend_mode_icon_button--container--Wv9Hd",dropdownClassName:"selection_blend_mode_icon_button--blendModeSelectDropdown--WcwN1 blend_mode_select--blendModeSelectDropdown--jlg6p",property:t,onChange:n,formatter:aR,dispatch:i,dropdownShown:s,onMouseDown:K.dG,minTop:6,recordingKey:h.Pt(e,"blendMode"),enablePreview:!0,dropdownAlignment:"right",willShowDropdown:()=>((0,tp.sx)("editor-blend-mode-dropdown-show"),Promise.resolve())},o)}var aF=n(866577);function aV(e){let t=(0,l0.Df)(),n=(0,sZ.C)("fpl_dialog_trigger"),s=(0,l0.Jo)(),a=(0,sJ.kG)("corner-smoothing"),[o]=(0,lf.lJ)("rectangleCornerRadiiIndependent"),c=(0,lf.kl)("visible"),p=!s.rectangleCornerRadii,d=t.cornerRadius,[m,E]=l.useState(null),[_]=(0,lf.lJ)("opacity"),y=t.rectangleCornerRadii,g=t.rectangleCornerRadii&&!!m,S=!s.cornerRadius,P=S||p,b=(0,l.useRef)(null),f=l.useRef(null),v=aT(),w=l.useMemo(s5.On,[]),{isDefReferencedBySelection:T,selectedGUIDs:I}=(0,iv.R)(e=>({isDefReferencedBySelection:!!w(e,sq.R.VISIBLE),selectedGUIDs:(0,rQ.qd)(e)})),k=l.useCallback((e,t)=>{H.Y5.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!T&&H.Y5.updateSelectionProperties({visible:!0},{shouldCommit:t})},[T]),N=(0,l.useCallback)(()=>{a.hide(),H.Y5.deselectProperty()},[a]),C=(0,r.wA)(),A=l.useCallback(()=>{(0,u.kc)().ce_properties_panel_tracking&&(0,tp.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,Y._W)(o,!1)}),!g&&b.current?E((0,eg.cn)(b.current,parseInt(aF.Je,10))):E(null)},[o,g]),O=n?l.createElement(n_.d,{actionOnPointerDown:!0,toggled:g,onClick:A,"aria-label":(0,R.t)("fullscreen.properties_panel.transform_panel.independent_corners"),disabled:P,recordingKey:h.Pt(e,"rectangleCornerToolIndependentToggle")},l.createElement(sX.Q,null)):l.createElement(ew.YW,{selected:g,onClick:A,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:h.Pt(e,"rectangleCornerToolIndependentToggle"),disabled:P},l.createElement(sX.Q,null)),M=(0,u.kc)().ce_tv_fpl_dialog_trigger_button?l.createElement(n_.d,{recordingKey:h.Pt(e,"cornerSmoothingToggle"),"aria-label":(0,R.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),toggled:a.showing,disabled:S,htmlAttributes:{onMouseDown:e=>{(0,s3._)(a,b,e)},"data-tooltip":(0,R.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),"data-tooltip-type":ey.Ib.TEXT}},l.createElement(sj.J,null)):l.createElement(ew.YW,{onMouseDown:e=>{(0,s3._)(a,b,e)},recordingKey:h.Pt(e,"cornerSmoothingToggle"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:a.showing,disabled:S},l.createElement(sj.J,null));return l.useEffect(()=>{E(null)},[I]),l.createElement(ew.Zk,null,l.createElement(n$.Wv,{titleTx:(0,R.tx)("fullscreen.appearance_panel.appearance")},!v&&l.createElement(s0.yQ,{nodeField:sq.R.VISIBLE,defaultValue:c,guids:I}),l.createElement(sD,{recordingKey:"frameLevel"}),l.createElement(sA.M,{showLibrarySets:!1,recordingKey:"frameLevel"}),l.createElement(aO,{recordingKey:e.recordingKey}),l.createElement(aD,{recordingKey:e.recordingKey})),l.createElement(eI.fn,{ref:b,leftInput:l.createElement(s4.sA,{recordingKey:h.Pt(e,"layerOpacityInputWrapper"),fields:["OPACITY"],disabled:!1,resolvedType:i.rXF.FLOAT,currentFieldValue:(0,Y.hS)(_)?_:void 0,inputRef:f,hasBindingContextMenu:!0},l.createElement(nV.Pd,{inputClassName:"appearance_panel--input--h3br5 raw_components--flushLeft--YH-5P",ui3RightJustifyPercentSign:!1,noBorderOnHover:!0,isTokenizable:!0,value:_,onValueChange:k,mixedMathHandler:aK,dispatch:C,recordingKey:h.Pt(e,"opacity"),forwardedRef:f},l.createElement("div",{className:"appearance_panel--opacityIconContainer---kdX-"},l.createElement(ie.N,null)))),rightInput:l.createElement(s2.C,{recordingKey:e.recordingKey,disabled:!d||g||S}),icon:d?y?l.createElement(ny.E,{name:"independent_corner_radius_toggle"},O):M:null,leftLabel:(0,R.tx)("fullscreen.properties_panel.section_appearance.label_opacity"),rightLabel:d?(0,R.tx)("fullscreen.properties_panel.transform_panel.corner_radius"):null}),(t.count||t.starInnerScale)&&l.createElement(s8.cU,{countShown:t.count,countDisabled:!s.count,starInnerScaleShown:t.starInnerScale,starInnerScaleDisabled:!s.starInnerScale,recordingKey:e.recordingKey}),t.arcData&&l.createElement(s8.Je,{arcDataDisabled:!s.arcData,recordingKey:e.recordingKey}),l.createElement(s1.L,{nodeField:sq.R.VISIBLE,currentValue:c}),l.createElement(sN.wu,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}),l.createElement(aM,null),g&&m&&l.createElement(s7.$,{initialPosition:m,onClose:A,recordingKey:h.Pt(e,"advanced")}),a.showing&&l.createElement(s6.T,{initialPosition:a.initialPosition,onClose:N,recordingKey:h.Pt(e,"advanced")}))}let aK=new aN;var aU=n(89586);let aB="mask_panel--maskTypeDropdown--3Etsx";class aH extends nG.l6{}class aG extends nG.c${}class aY extends l.PureComponent{constructor(){super(...arguments),this.onMaskTypeChange=(e,t=rp.zk.YES)=>{H.Y5.updateSelectionProperties({maskType:e},{shouldCommit:t})},this.maskTypeFormatter={format:e=>{switch(e){case"ALPHA":return(0,R.t)("fullscreen.mask_panel.alpha");case"OUTLINE":return(0,R.t)("fullscreen.mask_panel.vector");case"LUMINANCE":return(0,R.t)("fullscreen.mask_panel.luminance")}},formatExtended:e=>{switch(e){case"ALPHA":return{text:(0,R.t)("fullscreen.mask_panel.alpha_extended")};case"OUTLINE":return{text:(0,R.t)("fullscreen.mask_panel.vector_extended")};case"LUMINANCE":return{text:(0,R.t)("fullscreen.mask_panel.luminance_extended")}}}},this.stopPropagation=e=>e.stopPropagation()}render(){let e=l.createElement(ew.fI,null,l.createElement(aH,{id:"mask-type-dropdown",className:aB,property:this.props.maskType,formatter:this.maskTypeFormatter,onChange:this.onMaskTypeChange,dispatch:this.props.dispatch,dropdownClassName:aB,dropdownShown:this.props.dropdownShown,onMouseDown:this.stopPropagation,recordingKey:h.Pt(this.props,"maskType"),enablePreview:!0},l.createElement(aG,{value:"ALPHA",recordingKey:h.Pt(this.props,"maskType","alpha")}),l.createElement(aG,{value:"OUTLINE",recordingKey:h.Pt(this.props,"maskType","outline")}),l.createElement(aG,{value:"LUMINANCE",recordingKey:h.Pt(this.props,"maskType","luminance")})));return l.createElement(ty.p,{name:"mask_panel"},l.createElement(ew.Zk,null,l.createElement(ew.fI,null,l.createElement(ew.xw,null,(0,R.tx)("fullscreen.mask_panel.mask"))),e))}}aY.displayName="MaskPanel";var aW=n(536825),aQ=n(819785),a$=n(695038);function az({addProperty:e,children:t,contentsVisibleOrMixed:n,minusDisabled:r,plusDisabled:i,recordingKey:s,removeProperty:a,showButton:o,title:c,dataTestId:p,shouldHideButton:d}){let{version:u}=(0,et.DP)(),m=(0,l.useCallback)(()=>{!1!==n||i||e()},[e,n,i]),E=n===Y.oV,_=!E&&!n;null==o&&(o=!0===n?"-":"+");let y="+"===o?l.createElement(ek.K,{recordingKey:h.Pt(s,"addButton"),onClick:e,disabled:i,"aria-label":(0,R.t)("fullscreen.properties_panel.add"),htmlAttributes:{onMouseDown:K.dG,"data-testid":p??""}},l.createElement(el.U,{svg:tr.A,fallbackSvg:tG.A},l.createElement(ee.e,null))):l.createElement(ek.K,{recordingKey:h.Pt(s,"removeButton"),onClick:a,disabled:r,"aria-label":(0,R.t)("fullscreen.properties_panel.remove"),htmlAttributes:{onMouseDown:K.dG,"data-testid":p??""}},l.createElement(el.U,{svg:aQ.A,fallbackSvg:a$.A},l.createElement(aW.O,null)));return"ui3"===u?l.createElement(l.Fragment,null,c&&l.createElement(n$.r,{onMouseDown:m,faded:_,isEmpty:_,titleTx:l.createElement("span",null,c),icon:d?void 0:y}),E&&l.createElement(ew.fI,null,l.createElement(ew.UZ,{className:aP.Pf},(0,R.tx)("fullscreen.properties_panel.click_plus_to_replace_mixed_content"))),!E&&!_&&t):l.createElement(l.Fragment,null,c&&l.createElement(ew.fI,{onMouseDown:m,className:_?aP.et:void 0,recordingKey:h.Pt(s,"panelTitle")},l.createElement(ew.xw,{faded:_,extended:!0},l.createElement("div",{className:aP.yr},c)),l.createElement(ew.$4,null,d?null:y)),E&&l.createElement(ew.fI,null,l.createElement(ew.UZ,{className:aP.Pf},(0,R.tx)("fullscreen.properties_panel.click_plus_to_replace_mixed_content"))),!E&&!_&&t)}class aX extends h.uA{constructor(){super(...arguments),this.noop=()=>{}}render(){return l.createElement(ty.p,{name:"remove_group_fill_and_stroke_panel"},l.createElement(ew.Zk,null,l.createElement(az,{title:"Background",addProperty:this.noop,removeProperty:i.glU.clearFillAndStrokePaintsOnSelectedGroups,contentsVisibleOrMixed:!0},l.createElement(ew.fI,{className:"remove_group_fill_and_stroke_panel--labelContainer--ngqjq"},l.createElement(ew.UZ,{className:"remove_group_fill_and_stroke_panel--label--orOpK"},(0,R.tx)("fullscreen.remove_group_fill_and_stroke.background_color_group_unsupported"))))))}}var aj=n(456363),aZ=n(832637),aJ=n(529358),aq=n(376503),a0=n(161459);let a1="pencil_tool_panel--advancedStroke--1497y";var a5=n(362679),a4=n(13556),a3=n(306413);function a2(e){let t="stroke-settings",[n,s]=(0,iK.fp)(aj.GI),a=n.paints||[],o=(0,r.wA)(),c=l.useContext(T.zK),p=()=>null!=c,d=e=>e.stopPropagation(),m=l.useRef(null),E=()=>{if(e.pickerShown?.id===t)o(x.XE());else{if(!m)return;let e=Z.findDOMNode(m.current),n=(0,eg.cn)(e);o(x.u1({id:t,initialX:n.x,initialY:n.y}))}},_=e=>{s({paints:e}),W.Tm.clearCache()},y=e=>{let{strokeWeight:t,dashPattern:n}=e,l=(0,Y.E7)(t);l&&s({strokeWeight:l});let r=(0,Y.E7)(n);r&&s({dashPattern:r})},g=e=>{let t=a.filter((t,n)=>!e.has(n));0===t.length&&(t=[a[0]]),_(t)},S=(e,{fromSearch:t}={})=>{o(iB.AV({style:e,inheritStyleKeyField:"inheritFillStyleKeyForStroke",fromSearch:t}))},{version:P}=(0,et.DP)(),b=!!n.styleId||a.length>0,f=e.pickerShown?.id===t,v=!e.userFlags.dismissed_shift_to_draw_straight_lines_hint,w=l.createElement(aJ.v9,{strokeWeight:n.strokeWeight||a0.wv,onChange:y,recordingKey:h.Pt(e,"weight")}),I=l.createElement(aq.qR,{className:"ui3"===P?void 0:"pencil_tool_panel--dashCap--OD1E2",dashCap:(0,aq.Hd)(n.strokeCap||"ROUND")||"ROUND",onChange:e=>{s({strokeCap:e})},recordingKey:h.Pt(e,"dashCap")}),k=(0,u.kc)().ce_tv_fpl_dialog_trigger_button?l.createElement("span",{className:a1},l.createElement(n_.d,{onClick:E,toggled:f,"aria-label":(0,R.t)("fullscreen.pencil_tool.advanced_stroke_settings"),recordingKey:h.Pt(e,"more"),htmlAttributes:{onMouseDown:d,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("fullscreen.pencil_tool.advanced_stroke_settings")}},l.createElement(el.U,{svg:a5.A,fallbackSvg:a4.A},l.createElement(sj.J,null)))):l.createElement(ew.YW,{svg:a5.A,fallbackSvg:a4.A,className:a1,onClick:E,onMouseDown:d,selected:f,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("fullscreen.pencil_tool.advanced_stroke_settings"),recordingKey:h.Pt(e,"more")});return l.createElement("div",{className:"pencil_tool_panel--pencilPanelContainer--O-fFF"},l.createElement(ew.Zk,null,l.createElement(lD.W4,{title:(0,R.t)("fullscreen.pencil_tool.stroke"),propertyList:a,onChange:_,currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:i.rrT.STROKE_PRESET,styleType:"FILL",addProperty:()=>{H.Y5.triggerAction("add-stroke-to-selection")},onDeleteProperty:e=>g(e),onReorder:()=>{W.Tm.clearCache()},renderProperty:(t,n,r,s,c,d,u,m,E)=>{let _=p()?"preview-paint":"paint",y=W.Tm.getId(n,i.rrT.STROKE_PRESET,_),b=a.slice(0,n).some(e=>e.visible);return l.createElement(lD.Gg,{key:`paint-${n}`,id:y,index:n,inheritStyleKeyField:"inheritFillStyleKeyForStroke",singletonRow:1===a.length,selectedPropertyType:i.rrT.STROKE_PRESET,paint:t,selected:e.stylePickerShown.isShown?e.pickerShown?.id===y:r,isDragging:s,hasFocus:c,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,onChange:d,onApplyStyle:S,onMouseDown:u,onMouseMove:m,onMouseUp:E,onRemovePaint:a.length>1?()=>g(new Set([n])):void 0,hideVisibilityToggle:1===a.length,currentSelectedGradientStop:e.currentSelectedGradientStop,currentTool:i.NLJ.VECTOR_PENCIL,colorFormat:e.colorFormat,dispatch:o,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,editModeType:e.editModeType,defaultColor:W.Em,library:e.library,openFile:e.openFile,recordingKey:h.Pt(e,n),variableScopes:new Set([i.j0r.STROKE]),isUI3:"ui3"===P,hasVisiblePaintBelow:b})},recordingKey:e.recordingKey,sceneGraphSelection:e.sceneGraphSelection,library:e.library,modalShown:e.modalShown,openFile:e.openFile,inheritStyleKeyField:"inheritFillStyleKeyForStroke",inheritStyleKey:n.styleId||null,inheritStyleID:null,selectedStyleProperties:e.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,stylePickerShown:e.stylePickerShown,onToggleListLayout:()=>{o(x.Y({isListLayout:!e.stylePickerListLayout}))},removeAllProperties:null,onApplyStyle:S,defaultColor:W.rC}),b&&("ui3"===P?l.createElement(eI.fn,{ref:m,leftLabel:(0,R.tx)("fullscreen.properties_panel.section_stroke.label_weight"),leftInput:w,rightLabel:(0,R.tx)("fullscreen.properties_panel.section_stroke.label_end_cap"),rightInput:I,icon:k}):l.createElement(ew.fI,{ref:m},w,I,k))),v&&l.createElement("div",{className:"pencil_tool_panel--hintPanel--917wK"},l.createElement(aZ.u,{title:(0,R.t)("fullscreen.pencil_tool.hold_shift_to_draw_straight_lines"),icon_DEPRECATED:a3.A,userFlag:"dismissed_shift_to_draw_straight_lines_hint",hintText:(0,R.t)("fullscreen.pencil_tool.now_vertical_horizontal_and_diagonal_lines_are_a_breeze")})),f&&e.pickerShown&&l.createElement(aq._2,{onChange:y,strokePanelMode:i.yTM.PENCIL,strokePanelTerminalPointCount:2,strokeCap:n.strokeCap||"ROUND",strokeJoin:"ROUND",maxStrokeWeight:n.strokeWeight||a0.wv,dashPattern:n.dashPattern,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,recordingKey:h.Pt(e,"advanced")}))}function a6(e){let t=(0,b.Ku)(),n=(0,iv.R)(e=>({currentSelectedGradientStop:e.mirror.appModel.currentSelectedGradientStop,library:e.library,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,colorPicker:e.colorPicker,styleSets:e.styleSets,openFileKey:e.openFile?.key||null,reposById:e.repos,teams:e.teams,editModeType:e.mirror.appModel.activeCanvasEditModeType,currentTool:e.mirror.appModel.currentTool,sceneGraphSelection:e.mirror.sceneGraphSelection,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,inheritStyleKey:e.mirror.selectionProperties.inheritFillStyleKeyForStroke||null,selectedStyleProperties:e.mirror.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,userFlags:e.userFlags}));return l.createElement(a2,{...n,...e,colorFormat:t})}var a7=n(438377),a8=n(270296),a9=n(314766),oe=n(824189),ot=n(283942),on=n(843495),ol=n(147723),or=n(252828),oi=n(144119),os=n(641160);function oa({label:e,tab:t,active:n,className:s,recordingKey:a,keyboardShortcut:o}){let c=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),p=(0,tb.dH)(),d=(0,eD.R)(),u=(0,nT.cJ)(),m=h.rf(a,"mousedown",()=>{if(!n){let e=oo(t,d,u).analyticsName;(0,tp.sx)("properties-panel-select-tab",{tab:e}),p===i.NLJ.SCALE&&t===i.FAf.PROTOTYPE&&H.Y5.triggerAction("set-tool-default"),(0,on.NT)(t),c===i.lyf.PREVIEW&&(t===i.FAf.COMMENT?H.Y5.triggerAction("set-tool-comments"):H.Y5.triggerAction("set-tool-default"))}});return l.createElement("div",{className:s,onMouseDown:m,"data-label":e,...o?{"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":e,"data-tooltip-shortcut-key":o}:void 0},e)}function oo(e,t,n){return({[i.FAf.DESIGN]:{label:(0,R.t)("fullscreen.properties_panel.design"),tab:i.FAf.DESIGN,className:os.Mf,recordingKey:"designTab",analyticsName:"design"},[i.FAf.PROTOTYPE]:{label:n?(0,R.t)("fullscreen.properties_panel.interactive"):(0,R.t)("fullscreen.properties_panel.prototype"),tab:i.FAf.PROTOTYPE,className:os.Mf,recordingKey:n?"interactionsTab":"prototypeTab",analyticsName:n?"interactions":"prototype"},[i.FAf.INSPECT]:{label:(0,R.t)("fullscreen.properties_panel.properties"),tab:i.FAf.INSPECT,className:os.Mf,recordingKey:"inspectTab",analyticsName:"inspect"},[i.FAf.COMMENT]:{label:t?(0,R.t)("fullscreen.properties_panel.comments"):(0,R.t)("fullscreen.properties_panel.comment"),tab:i.FAf.COMMENT,className:os.Mf,recordingKey:"commentTab",analyticsName:"comment"},[i.FAf.EXPORT]:{label:(0,R.t)("fullscreen.properties_panel.export"),tab:i.FAf.EXPORT,className:os.Mf,recordingKey:"exportTab",analyticsName:"export"},[i.FAf.SLIDE]:{label:(0,R.t)("fullscreen.properties_panel.design"),tab:i.FAf.SLIDE,className:os.Mf,recordingKey:"designTab",analyticsName:"design"},[i.FAf.SLIDE_ANIMATION]:{label:(0,R.t)("slides.properties_panel.animate"),tab:i.FAf.SLIDE_ANIMATION,className:os.Mf,recordingKey:"animateTab",analyticsName:"animate"},[i.FAf.SITE]:{label:(0,R.t)("fullscreen.properties_panel.design"),tab:i.FAf.SITE,className:os.Mf,recordingKey:"sitesTab",analyticsName:"sites"},[i.FAf.COOPER]:{label:(0,R.t)("fullscreen.properties_panel.cooper_edit"),tab:i.FAf.COOPER,className:os.Mf,recordingKey:"cooperTab",analyticsName:"cooper"},[i.FAf.COOPER_PUBLISH]:{label:(0,R.t)("fullscreen.properties_panel.cooper_publish"),tab:i.FAf.COOPER_PUBLISH,className:os.Mf,recordingKey:"cooperPublishTab",analyticsName:"cooperPublish"}})[e]}function oc({activeTab:e,isUI3:t,shouldShowAlignControls:n,shouldRenderInspectTab:s,recordingKey:a}){let o=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),c=(0,tb.dH)(),p=(0,tb.p8)("isReadOnly"),d=(0,to.ks)(),u=p&&!d,m=(0,oi.sO)(),h=(0,nT.cJ)(),E=(0,oe.g)(),_=(0,tb.KH)(),y=(0,tb.eY)(),[g,S]=l.useState(!1);l.useEffect(()=>{},[E,_,y,S,e]);let P=(()=>{let n=t?m?[i.FAf.COMMENT]:[i.FAf.COMMENT,i.FAf.INSPECT]:[i.FAf.COMMENT,i.FAf.INSPECT,i.FAf.EXPORT];switch(o){case i.lyf.LAYOUT:if(u)return n;if(e===i.FAf.COMMENT)return[i.FAf.COMMENT];if(h)return[i.FAf.SITE,i.FAf.PROTOTYPE];if(m)return[i.FAf.SLIDE,i.FAf.SLIDE_ANIMATION];if(E)return[i.FAf.COOPER,i.FAf.EXPORT];return s?[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.INSPECT]:g?[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.COOPER_PUBLISH]:[i.FAf.DESIGN,i.FAf.PROTOTYPE];case i.lyf.PREVIEW:case i.lyf.DEV_HANDOFF:return n;case i.lyf.BRANCHING:return[i.FAf.INSPECT];default:return[i.FAf.DESIGN,i.FAf.PROTOTYPE,i.FAf.INSPECT]}})(),b=P.find(t=>t===e),f=P.map((n,l)=>{let r=oo(n,t,h),i=r.tab===e||0===l&&void 0===b,s=r.className;return i&&(s=P.length>1?os.yR:os.iV),{...r,className:s,active:i,topLevelMode:o,currentTool:c}});return P.length&&(1!==P.length||t)?l.createElement(F.j9.Consumer,null,()=>{if(t)return l.createElement(op,{recordingKey:a,tabInfo:f});let r=e===i.FAf.DESIGN&&n||e===i.FAf.COMMENT?os.yW:os.hv;return l.createElement("div",{className:r,"data-non-interactive":!0},f.map((e,t)=>l.createElement(oa,{key:t,...e})))}):null}function op({tabInfo:e,recordingKey:t}){let n=e.reduce((e,t)=>(e[t.tab]=!0,e),{}),s=e.find(e=>e.active),[a,o]=a9.tU.useManagedTabs(n,s?.tab.toString()??"",e=>{let t=parseInt(e),n=oo(t,c,p).analyticsName;(0,tp.sx)("properties-panel-select-tab",{tab:n}),d===i.NLJ.SCALE&&t===i.FAf.PROTOTYPE&&H.Y5.triggerAction("set-tool-default"),(0,on.NT)(t),u===i.lyf.PREVIEW&&(t===i.FAf.COMMENT?H.Y5.triggerAction("set-tool-comments"):H.Y5.triggerAction("set-tool-default"))},{recordingKey:h.Pt(t,"tabs")}),c=(0,eD.R)(),p=(0,nT.cJ)(),d=(0,tb.dH)(),u=(0,r.d4)(e=>e.mirror.appModel.topLevelMode);return l.createElement("div",{className:os.A7},l.createElement("div",{role:"presentation",className:os.tq,onKeyDown:e=>{e.isDefaultPrevented()||(0,ot.f7)(e,!0)}},l.createElement(a9.tU.TabStrip,{manager:o},e.map((e,t)=>l.createElement(a9.tU.Tab,{key:`props-panel-tab-${t}`,...a[e.tab]},e.label)))),l.createElement("div",{className:os.wR},l.createElement(or.HT,{recordingKey:h.Pt(t,"zoomMenu")})),l.createElement("div",{"data-onboarding-key":ol.D9,className:os.qq}))}var od=n(101505),ou=n(94500),om=n(178248),oh=n(205135),oE=n(994481);class o_ extends h.o6{render(){return l.createElement(ew.Zk,null,l.createElement(ew.fI,null,l.createElement(ew.xw,null,(0,R.tx)("proto.menu.background"))),l.createElement(oy,{...this.props}))}}function oy(e){let t=l.useRef(null),n=l.useRef(null),r=(0,tP.GS)(),{dispatch:i,pickerShown:s,prototypeBackgroundColor:a}=e,o=l.useCallback(()=>{let e=r?Z.findDOMNode(n.current):Z.findDOMNode(t.current);if(s&&s.id===P.$T)i(x.XE());else if(e&&e instanceof HTMLElement){let t=(0,eg.cn)(e);i(x.u1({id:P.$T,initialX:t.x,initialY:t.y}))}},[i,s,r]),c=l.useCallback((e,t)=>{i((0,ou._P)({name:"Prototype Background Modified"})),H.Y5.updateSelectionProperties({prototypeBackgroundColor:e},{shouldCommit:t})},[i]),p=(0,Y._W)(a,{r:0,g:0,b:0,a:1}),d=l.createElement("div",{className:"prototype_background_panel--colorValueContainer--CEbzl paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},l.createElement(lN.J,{onClick:o,color:p,opacity:p.a,recordingKey:h.Pt(e,"chit"),className:"prototype_background_panel--chit--F--d0 paint_panels--chit--twQEy"}),l.createElement(oh.AN,{className:"prototype_background_panel--color--e5Pc8 paint_panels--colorInput--nSz13",noLeftBorder:!0,formatter:lI.TI,property:p,onChange:c,recordingKey:h.Pt(e,"colorInput"),noBorderOnFocus:!0}));return l.createElement(l.Fragment,null,r?l.createElement(oE.TN,{ref:n},d):l.createElement(ew.fI,{ref:t,className:"prototype_background_panel--colorRow--MtNeY"},d),s&&s.id===P.$T&&l.createElement(sk.sk,{disabledVariableIds:new Set,title:(0,R.t)("proto.menu.background"),initialPosition:new eq.Mi(s.initialX??0,s.initialY??0),color:p,boundVariable:null,onChange:c,recordingKey:h.Pt(e,"colorPicker")}))}o_.displayName="PrototypeBackgroundPanel";var og=n(992271),oS=n(410465),oP=n(371435),ob=n(761725);let of="prototype_device_panel--deviceSelect--wnOgI",ov="prototype_device_panel--deviceDropdown--ufbuZ",ow="prototype_device_panel--deviceOption--rvW-q",oT="prototype_device_panel--inactiveLabel--UEKyk prototype_device_panel--activeLabel--l162n",oI="prototype_device_panel--labelInactive--pv4Sf",ok="prototype_device_panel--deviceDropdownChevron--kq9TV",oN="prototype_device_panel--deviceDropdownInput--AxG9E";var oC=n(537545),oA=n(64111);class oO extends oS.I{}class oM extends oS.Y{}class oR extends l.PureComponent{constructor(){super(...arguments),this.deviceInfo=()=>og.hY[this.props.prototypeDevice.presetIdentifier],this.shouldShowModelDropdown=()=>{let e=this.deviceInfo();return og.yr[e?.deviceName||""].length>1},this.onModelChange=e=>{if(!this.deviceInfo())return;let t=og.hY[e];if(!t)return;let n=this.props.prototypeDevice.rotation;H.Y5.updateSelectionProperties({prototypeDevice:{type:"PRESET",size:t.framePresetSize,presetIdentifier:e,rotation:n}})},this.renderModelDropdown=(e,t,n)=>{if(!e)return;let r=l.createElement(oU,{dispatch:this.props.dispatch,presetIdentifier:this.deviceInfo().presetIdentifier,dropdownShown:this.props.dropdownShown,onChange:this.onModelChange,recordingKey:h.Pt(this.props,"modelDropdown")}),i=t?l.createElement(oE.dx,{left:r,right:n}):l.createElement(oE.TN,null,r);return l.createElement("div",null,!this.props.isUI3&&l.createElement(ew.hl,null,l.createElement(ew.UZ,{className:oI},(0,R.tx)("presets.device_panel.model"))),this.props.isUI3?i:l.createElement(ew.fI,null,r))},this.cssForCurrentDeviceRotation=()=>{if("NONE"===this.props.prototypeDevice.type)return;let e="";switch("MICROSOFT_SURFACE_PRO_4"===this.props.prototypeDevice.presetIdentifier&&(e="scale(0.65)"),this.props.prototypeDevice.rotation){case"NONE":default:return;case"CCW_90":return`rotate(-90deg) ${e}`}},this.renderDevicePreview=()=>{let e=this.deviceInfo();if(!e)return;let t=(0,Y._W)(this.props.prototypeBackgroundColor,{r:0,g:0,b:0,a:0}),n=lI.z5.format(t),r=t.r>.9&&t.g>.9&&t.b>.9,i=`1px solid ${r?"#EFEFEF":"transparent"}`,s=l.createElement("div",{className:"prototype_device_panel--devicePreview--T2Tzn",style:{backgroundColor:n,border:i}},l.createElement("img",{className:"prototype_device_panel--deviceImage--Wpr8Y",src:e.thumbnailUrl,style:{transform:this.cssForCurrentDeviceRotation()},alt:`${e.getI18nDeviceName()}`}));return l.createElement("div",null,!this.props.isUI3&&l.createElement(ew.hl,null,l.createElement(ew.UZ,{className:oI},(0,R.tx)("presets.device_panel.preview"))),this.props.isUI3?l.createElement(oE.TN,{appendedClassName:ob.Rk},s):l.createElement("div",{className:"prototype_device_panel--devicePreviewContainer--pC-H4"},s))},this.onChangeOrientation=e=>{let t=this.props.prototypeDevice;if("NONE"===t.type)return;let n=t.size.y>t.size.x,l=t.rotation;l=n?"PORTRAIT"===e?"NONE":"CCW_90":"PORTRAIT"===e?"CCW_90":"NONE",H.Y5.updateSelectionProperties({prototypeDevice:{...t,rotation:l}})},this.currentDeviceOrientation=()=>{let e=this.props.prototypeDevice;return"NONE"===e.type?"PORTRAIT":e.size.y>e.size.x?"NONE"===e.rotation?"PORTRAIT":"LANDSCAPE":"NONE"===e.rotation?"LANDSCAPE":"PORTRAIT"}}render(){let e=this.props.prototypeDevice,t=l.createElement(oF,{dispatch:this.props.dispatch,prototypeDevice:this.props.prototypeDevice,isUI3:this.props.isUI3,dropdownShown:this.props.dropdownShown,recordingKey:h.Pt(this.props,"deviceDropdown")}),n=l.createElement(oO,{property:this.currentDeviceOrientation(),onChange:this.onChangeOrientation,recordingKey:h.Pt(this.props,"orientationControl"),className:"prototype_device_panel--orientationControl--YdZ-v"},l.createElement(oM,{value:"PORTRAIT",svg:oA.A}),l.createElement(oM,{value:"LANDSCAPE",svg:oC.A})),r=(0,og.$X)(e.type||"NONE",e.presetIdentifier),i=l.createElement(ew.fI,null,t,r&&n),s=this.deviceInfo()&&this.shouldShowModelDropdown(),a=r&&!s?l.createElement(oE.dx,{left:t,right:n}):l.createElement(oE.TN,null,t),o=l.createElement(oL,{prototypeDevice:this.props.prototypeDevice,dispatch:this.props.dispatch,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:h.Pt(this.props,"deviceSizeInputs")});return l.createElement(ew.Zk,null,l.createElement(ew.fI,{className:"prototype_device_panel--panelTitleRowOuter--wkKKy collapsible_property_panel--panelTitleRowOuter--i5K0R"},l.createElement(ew.xw,{extended:this.props.isUI3},this.props.isUI3?(0,R.tx)("presets.device_panel.prototype_settings"):(0,R.tx)("presets.device_panel.device"))),this.props.isUI3?a:i,this.renderModelDropdown(!!s,r,n),this.props.isUI3&&"CUSTOM"===this.props.prototypeDevice.type&&o,this.props.isUI3&&l.createElement(oy,{pickerShown:this.props.pickerShown,dispatch:this.props.dispatch,prototypeBackgroundColor:this.props.prototypeBackgroundColor,recordingKey:h.Pt(this.props,"backgroundPanel")}),this.renderDevicePreview(),!this.props.isUI3&&"CUSTOM"===this.props.prototypeDevice.type&&o)}}function oL(e){let t=l.useCallback(t=>{H.Y5.updateSelectionProperties({prototypeDevice:{type:"CUSTOM",size:{x:t,y:e.prototypeDevice.size.y},rotation:e.prototypeDevice.rotation}})},[e.prototypeDevice.size.y,e.prototypeDevice.rotation]),n=l.useCallback(t=>{H.Y5.updateSelectionProperties({prototypeDevice:{type:"CUSTOM",size:{x:e.prototypeDevice.size.x,y:t},rotation:e.prototypeDevice.rotation}})},[e.prototypeDevice.size.x,e.prototypeDevice.rotation]),r=l.createElement(nV.$j,{className:"prototype_device_panel--scrubbableInputLeftCol--P2T66 prototype_device_panel--scrubbableInput--0TFVb",inputClassName:"prototype_device_panel--leftColInput--pAJSy prototype_device_panel--input--vNirJ",dispatch:e.dispatch,value:e.prototypeDevice.size.x,onValueChange:t,smallNudgeAmount:e.smallNudgeAmount,bigNudgeAmount:e.bigNudgeAmount,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("presets.device_panel.device_width_tooltip"),tooltipForScreenReadersOnly:!0,recordingKey:h.Pt(e,"deviceWidth")},l.createElement("span",{className:oT},(0,R.tx)("proto.device_panel.width"))),i=l.createElement(nV.$j,{className:"prototype_device_panel--scrubbableInput--0TFVb",inputClassName:"prototype_device_panel--input--vNirJ",dispatch:e.dispatch,value:e.prototypeDevice.size.y,onValueChange:n,smallNudgeAmount:e.smallNudgeAmount,bigNudgeAmount:e.bigNudgeAmount,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("presets.device_panel.device_height_tooltip"),tooltipForScreenReadersOnly:!0,recordingKey:h.Pt(e,"deviceHeight")},l.createElement("span",{className:oT},(0,R.tx)("proto.device_panel.height")));return(0,tP.GS)()?l.createElement(oE.dx,{left:r,right:i}):l.createElement(ew.fI,null,r,i)}oR.displayName="PrototypeDevicePanel";class ox extends nG.l6{}class oD extends nG.c${}class oF extends h.o6{constructor(){super(...arguments),this.formatter={format:e=>"NONE"===e?this.props.isUI3?(0,R.t)("proto.frame_preset_panel.no_device"):(0,R.t)("proto.frame_preset_panel.none"):"CUSTOM"===e?(0,R.t)("proto.frame_preset_panel.custom_size"):"PRESENTATION"===e?(0,R.t)("proto.frame_preset_panel.presentation"):e.getI18nDeviceName(),isEqual:(e,t)=>"NONE"===e||"CUSTOM"===e||"PRESENTATION"===e||"NONE"===t||"CUSTOM"===t||"PRESENTATION"===t?e===t:e.presetIdentifier===t.presetIdentifier},this.onChange=e=>{(0,ou.$J)(e,this.props.prototypeDevice);let t=this.props.prototypeDevice.type,n=t;n="NONE"===e?"NONE":"PRESENTATION"===e?"PRESENTATION":"CUSTOM"===e?"CUSTOM":"PRESET",this.props.dispatch((0,ou._P)({name:"Prototype Device Type Changed",params:{oldType:this.props.prototypeDevice.presetIdentifier||t,newType:e.presetIdentifier||n,isInlinePreviewOpened:iK.zl.get(oP.h).modalStatus===oP.b.OPEN}}))},this.renderPresetOption=(e,t)=>{let n=(0,og.Fh)(e,this.props.prototypeDevice);if(null===n)return null;let r=n.framePresetSize;return l.createElement(oD,{value:n,key:t,recordingKey:h.Pt(this.props,n.deviceName)},l.createElement("div",{className:ow},l.createElement("span",null,n.getI18nDeviceName()),l.createElement("span",null,r.x,"\u200A\xd7\u200A",r.y)," "))}}render(){let e;return e="NONE"===this.props.prototypeDevice.type?"NONE":"PRESENTATION"===this.props.prototypeDevice.type?"PRESENTATION":"CUSTOM"===this.props.prototypeDevice.type?"CUSTOM":og.hY[this.props.prototypeDevice.presetIdentifier]||"NONE",l.createElement(ox,{className:of,chevronClassName:ok,inputClassName:oN,id:"prototype-device-select",property:e,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:ov,recordingKey:h.Pt(this.props,"select")},l.createElement(oD,{value:"NONE",recordingKey:h.Pt(this.props,"NONE")}),l.createElement(nG.sK,null),og.r6.map(this.renderPresetOption),l.createElement(nG.sK,null),og.J_.map(this.renderPresetOption),l.createElement(nG.sK,null),og.AG.map(this.renderPresetOption),l.createElement(nG.sK,null),og.$w.map(this.renderPresetOption),l.createElement(nG.sK,null),l.createElement(oD,{value:"CUSTOM",recordingKey:h.Pt(this.props,"CUSTOM")},l.createElement("div",{className:ow},l.createElement("span",null,(0,R.tx)("proto.frame_preset_panel.custom_size")),l.createElement("span",null,(0,R.tx)("proto.frame_preset_panel.fit")))),l.createElement(oD,{value:"PRESENTATION",recordingKey:h.Pt(this.props,"PRESENTATION")},l.createElement("div",{className:ow},l.createElement("span",null,(0,R.tx)("proto.frame_preset_panel.presentation")),l.createElement("span",null,(0,R.tx)("proto.frame_preset_panel.fill")))),l.createElement(nG.sK,null),og.dr.map(this.renderPresetOption))}}oF.displayName="DeviceDropdown";class oV extends nG.l6{}class oK extends nG.c${}class oU extends h.o6{constructor(){super(...arguments),this.formatter={format:e=>{let t=og.hY[e];return t?t.getI18nStyleName():(0,R.t)("proto.frame_preset_panel.missing")},isEqual:(e,t)=>e===t},this.renderStyleOption=(e,t)=>{let n=e.presetIdentifier;return l.createElement(oK,{value:n,key:t,recordingKey:h.Pt(this.props,n)},og.hY[n].getI18nStyleName())}}render(){let e=og.hY[this.props.presetIdentifier];if(!e)return null;let t=og.yr[e.deviceName],n=this.props.presetIdentifier;return l.createElement(oV,{className:of,chevronClassName:ok,inputClassName:oN,id:"prototype-style-select",property:n,formatter:this.formatter,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:ov,recordingKey:h.Pt(this.props,"select")},t.map(this.renderStyleOption))}}oU.displayName="ModelDropdown";var oB=n(939683),oH=n(529004),oG=n(348425),oY=n(634238),oW=n(497306),oQ=n(113468),o$=n(248752);function oz(e){return e??"Default"}let oX=l.createContext({getNodeName:oz}),oj=l.memo(function({getNodeName:e=oz,children:t}){let n=l.useMemo(()=>({getNodeName:e}),[e]);return l.createElement(oX.Provider,{value:n},t)});var oZ=n(73349),oJ=n(38340),oq=n(908946),o0=n(987850),o1=n(239737),o5=n(222478),o4=n(709731),o3=n(921717),o2=n(384775),o6=n(119081),o7=n(351631);function o8(){let e=(0,r.wA)(),t=(0,r.d4)(e=>(0,f.Yh)(e.mirror.appModel,o5.JT.MAGIC_LINK)),n=(0,o1.vh)(),{withinMeter:i}=(0,o0.X)(o5.JT.MAGIC_LINK);return n&&i?l.createElement("span",{className:"magic_link--magicLinkButton--CWefW","data-testid":"magic-link-entry"},l.createElement(ek.K,{recordingKey:h.Pt("prototypeInteractionList","magicLinkButton"),"aria-label":(0,R.t)("fullscreen.toolbar.prototyping-add-interactions-tooltip"),onClick:()=>{(0,o2.$I)({moduleToOpen:{type:"custom",module:l.createElement(o6.p,null),name:o3.S.MAGIC_LINK,beforeModuleOpen:()=>{e((0,ou.Zh)({name:"prototype.ai_magic_link_entry_clicked",params:{source:"properties_panel"}})),(0,o4.B3)(o5.JT.MAGIC_LINK),t&&(0,o4.Ag)(o5.JT.MAGIC_LINK,o7.e,{})}},trackingData:{source:"prototype_magic_link_triggered"}})},htmlAttributes:{"data-tooltip":(0,R.t)("fullscreen.toolbar.prototyping-add-interactions-tooltip"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip-show-above":!0}},l.createElement(oq.B,null))):null}var o9=n(422237);let ce=(0,o9.ex)("prototype_info",function(e){let{tooltipText:t}=e;return l.createElement("div",{className:nM.cx.flex.justifyCenter.itemsCenter.$},l.createElement("span",{className:nM.cx.m6.flexGrow1.$,style:{maxWidth:144}},t))},e=>({tooltipText:e.getAttribute("data-tooltip-text")}));var ct=n(764257),cn=n(146935);let cl="prototype_interaction_list--warningIcon--Mgr5O";var cr=n(612325);let ci=new nL.JV,cs=new nL.Eq,ca=new nL.sX,co=l.memo(function({inSites:e}){let t=(0,r.wA)(),n=(0,r.d4)(cd),s=(0,r.d4)(cu),o=(0,r.d4)(cg),c=(0,r.d4)(ch),p=(0,r.d4)(cE),u=(0,r.d4)(c_),m=(0,oJ.a2)(),h=(0,oJ.R)(),E=(0,r.d4)(cS),_=(0,r.d4)(cm),y=Object.keys(u).length>1,g=cP(),S=function(){let e=cP(),t=(0,r.d4)(cy);return!!e&&!!t&&t.selectionOverrides[i.YnC.PROTOTYPE_INTERACTIONS]}(),b=(0,tf.q5)(),f=(0,oB.U)(),v=l.useMemo(()=>new nL.cP(p),[p]),w=l.useCallback(e=>v.format(e),[v]),T=l.useRef(null),I=e=>{H.Y5.updateSelectionProperties({prototypeInteractions:e},{shouldCommit:rp.zk.NO_BUT_TRACK_AS_EDIT}),H.Y5.commit()},k=(0,om.Zj)(Object.keys(u),p),N=l.createElement(cc,{interactionGroups:m,inheritedInternalInteractionGroups:h,mixed:y,isOrInInstance:g,openFile:b,dispatch:t,currentSelectedProperty:c,onChange:(e,t)=>{let l=e.map(e=>e.interactions).reduce((e,t)=>e.concat(t),[]),r=new Set,o=[];for(let e of l){let t=a.toString(e.id);if(t&&!r.has(t))o.push(e);else{if(!(t=i.glU.generateUniqueID()))continue;let n=a.fromString(t);if(!n)continue;o.push({...e,id:n})}t&&r.add(t)}t===oQ.J.NORMAL?o=[...o,...s]:t===oQ.J.INHERITED_INTERNAL&&(o=[...n,...o]),I(o)},onAddProperty:e=>{e.stopPropagation();let t=[],l=[];for(let e of Object.keys(u)){let n=i.glU.generateUniqueID();if(!n)return;let r=a.fromString(n);if(!r)return;let s={id:r,sourceNodeID:a.fromString(e)??a.invalidGUID,event:{interactionType:function(e){let t=new Set;for(let{event:n}of e)t.add(n.interactionType);for(let e of cb)if(!t.has(e))return e;return"ON_KEY_DOWN"}(m)}};s.stateManagementVersion=1,s.actions=[{connectionType:"NONE"}],t.push(s);let o=(0,oW.kh)(p,e);l.push(o?o.guid:"")}let r=t.map(e=>oH.d({nodeID:e.sourceNodeID,interactionID:e.id}));if(r.length>0){i.glU.setSelectedInteractions(r);let e=Z.findDOMNode(T.current),t=(0,eg.cn)(e);cI(new eq.Mi(t.x,t.y+(0,d.jz)(cn.rightNavGridRowHeight)))}let o=[...n,...t,...s];f("prototype_interaction_added",{interactionCount:o.length,sourceTlfIds:JSON.stringify(l)}),I(o)},onDeleteProperty:(e,t)=>{let n=(t===oQ.J.NORMAL?m:h).filter((t,n)=>e.has(n)),l=[];for(let e of n)l.push(...e.interactions);let r=cT(l);eE.l7.user("delete-prototype-interactions",()=>i.glU.deleteInteractions(r)),H.Y5.deselectProperty()},shouldIgnoreKeyboardEvents:o.length>0||c.type!==i.rrT.PROTOTYPE_INTERACTION&&c.type!==i.rrT.PROTOTYPE_INHERITED_INTERNAL_INTERACTION,isValidPrototypingSourceSelected:E,showResetInteractionsButton:S,toggleScrollBehaviorPicker:()=>{if(_?.id===P.AO)t(x.XE());else{let e=Z.findDOMNode(T.current),n=(0,eg.cn)(e);t(x.u1({id:P.AO,initialX:n.x,initialY:n.y}))}},headerAccessory:k&&l.createElement(o8,null),inSites:e});return l.createElement(oj,{getNodeName:w},e?N:l.createElement(ew.Zk,{"data-onboarding-key":"prototypePanel",ref:T,"data-testid":"prototype-interaction-list"},N))});function cc(e){let t=l.useRef(!1);return l.createElement(l.Fragment,null,l.createElement(o$.h6,{title:e.inSites?"":(0,R.t)("proto.title_interactions"),stylePickerShown:{isShown:!1},addProperty:e.onAddProperty,toggleScrollBehaviorPicker:e.toggleScrollBehaviorPicker,hideAddButton:!e.isValidPrototypingSourceSelected,renderProperty:(n,r,i,s,a,o,c,p,d)=>e.inSites&&(0,ct.p4)(n.interactions)?l.createElement(l.Fragment,null):l.createElement(cp,{interactionGroups:e.interactionGroups,interactionGroup:n,index:r,selected:i,hasFocus:a,isDragging:s,singletonRow:e.interactionGroups.length<=1,onMouseDown:c,onMouseMove:p,onMouseUp:d,dispatch:e.dispatch,category:oQ.J.NORMAL,autoOpenVariablePicker:t,recordingKey:h.Pt("prototypeInteractionList",r),key:r,inSites:e.inSites}),openFile:e.openFile,onChange:t=>e.onChange(t,oQ.J.NORMAL),currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:i.rrT.PROTOTYPE_INTERACTION,propertyList:e.interactionGroups,pickerShown:null,dispatch:e.dispatch,onDeleteProperty:t=>e.onDeleteProperty(t,oQ.J.NORMAL),shouldIgnoreKeyboardEvents:e.shouldIgnoreKeyboardEvents,recordingKey:"prototypeInteractionList",boldHeaderRow:e.interactionGroups.length>=1||e.inheritedInternalInteractionGroups.length>=1,showResetInteractionsButton:e.showResetInteractionsButton,onResetInteractions:eE.nc.user("reset-instance-interactions",()=>i.glU.resetSymbolOverrides(i.YnC.PROTOTYPE_INTERACTIONS)),headerAccessory:e.headerAccessory}),e.isOrInInstance&&e.inheritedInternalInteractionGroups.length>0&&l.createElement(ew.fI,null,l.createElement(ew.UZ,{className:"prototype_interaction_list--label--dGwgy"},(0,R.tx)("proto.interaction_list.variant_interactions"))),e.isOrInInstance&&l.createElement(o$.h6,{title:"",stylePickerShown:{isShown:!1},addProperty:lx.lQ,hideAddButton:!0,toggleScrollBehaviorPicker:e.toggleScrollBehaviorPicker,renderProperty:(n,r,i,s,a,o,c,p,d)=>l.createElement(cp,{interactionGroups:e.inheritedInternalInteractionGroups,interactionGroup:n,index:r,selected:i,hasFocus:a,isDragging:s,singletonRow:e.inheritedInternalInteractionGroups.length<=1,onMouseDown:c,onMouseMove:p,onMouseUp:d,dispatch:e.dispatch,category:oQ.J.INHERITED_INTERNAL,autoOpenVariablePicker:t,recordingKey:h.Pt("prototypeInheritedInternalInteractionList",r)}),openFile:e.openFile,onChange:t=>e.onChange(t,oQ.J.INHERITED_INTERNAL),currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:i.rrT.PROTOTYPE_INHERITED_INTERNAL_INTERACTION,propertyList:e.inheritedInternalInteractionGroups,pickerShown:null,dispatch:e.dispatch,onDeleteProperty:t=>e.onDeleteProperty(t,oQ.J.INHERITED_INTERNAL),shouldIgnoreKeyboardEvents:e.shouldIgnoreKeyboardEvents,recordingKey:h.Pt("prototypeInheritedInternalInteractionList")}))}function cp({interactionGroups:e,interactionGroup:t,index:n,hasFocus:s,isDragging:o,selected:c,singletonRow:d,onMouseDown:u,onMouseMove:m,onMouseUp:E,dispatch:_,category:y,recordingKey:g,inSites:S}){let b=(0,tP.GS)(),{getNodeName:f}=l.useContext(oX),v=(0,r.d4)(cg),w=(0,oJ.a2)(),T=(0,r.d4)(cm),I=T?.id===P.o$?T:null,k=(0,r.d4)(cE),N=(0,iK.md)(oY.NE)?cs:ci,C=function(e,t){let n=new Set(t.map(e=>{let t=oH.s(e);return t?a.toString(t.interactionID):""}).filter(e=>""!==e));for(let t of e.interactions){let e=a.toString(t.id);if(e&&n.has(e))return!0}return!1}(t,v),A=l.useRef(null),O=l.useRef(null),M=l.useCallback(()=>{let e=b&&S?O.current:Z.findDOMNode(A.current);cI((0,eg.cn)(e))},[S,b]),L=l.useCallback(()=>{i.glU.setSelectedInteractions([]),_(x.XE()),H.Y5.deselectProperty()},[_]),D=n=>{if(!A||!O)return;let l=cw(t);if(n.metaKey||n.ctrlKey)C?l=v.filter(e=>!l.includes(e)):l.push(...v);else if(n.shiftKey){var r;let n,i;let s=(r=t.key,e.findIndex(({key:e})=>e===r));if(-1===s)return;let a=function(e,t){let n=1/0,l=e;for(let r of t){let t=Math.abs(e-r);t<n&&(l=r,n=t)}return l}(s,function(e,t){let n=new Set,l=new Set(t);for(let t=0;t<e.length;t++)cw(e[t]).some(e=>l.has(e))&&n.add(t);return n}(e,v)),o=(n=s,i=a,s>a&&(n=a,i=s),e.slice(n,i+1));for(let e of(l=[...v],o))l.push(...cw(e))}i.glU.setSelectedInteractions(l),H.Y5.updateAppModel({currentSelectedProperty:{type:y===oQ.J.NORMAL?i.rrT.PROTOTYPE_INTERACTION:i.rrT.PROTOTYPE_INHERITED_INTERNAL_INTERACTION,indices:[]}}),l.length?I&&I.shouldPin?S&&L():M():L()},F=!1,V=null;for(let e of t.interactions)if(!V&&e.actions&&e.actions.length>0)V=e.actions[0];else if(cv(V,f,b)!=cv((e.actions??[])[0],f,b)){F=!0;break}let K=()=>{let e=cT(t.interactions);i.glU.hoverInteractions(e)},U=()=>{i.glU.hoverInteractions([])},B=e=>{e.stopPropagation()},G=e=>{e.stopPropagation();let n=cT(t.interactions);eE.l7.user("delete-prototype-interactions",()=>i.glU.deleteInteractions(n)),H.Y5.deselectProperty(),H.Y5.commit()},Y=!1,W=!1;if(y===oQ.J.NORMAL){for(let e of t.interactions){if(!e.actions||0===e.actions.length)continue;let t=e.actions[0];if(!t||"SWAP_STATE"!==t.navigationType)continue;let n="";if(t.transitionNodeID){let e=k.get(a.toString(t.transitionNodeID));if(e){if(e.isState)n=e.parentGuid||"";else{Y=!0;break}}}let l=i.glU.getContainingStateGroupOrSelf(a.toString(e.sourceNodeID??a.invalidGUID))||"";if(""===l||""!==n&&l!==n){Y=!0;break}}let n=["ON_CLICK","MOUSE_DOWN","MOUSE_UP"].includes(t.event.interactionType??""),l=e.some(e=>"ON_HOVER"===e.event.interactionType);W=n&&l}Y=y!==oQ.J.INHERITED_INTERNAL&&Y;let Q=function(e,t,n){if(e!==oQ.J.INHERITED_INTERNAL)return null;let l=n.find(e=>e.key===t.key&&e.interactions.length===t.interactions.length&&1===t.interactions.length&&function(e,t){let n=void 0!==e.actions&&e.actions.length>=1,l=void 0!==t.actions&&t.actions.length>=1;if(!n||!l)return!1;let r=e.actions.every(e=>"UPDATE_MEDIA_RUNTIME"===e.connectionType),i=e.actions.every(e=>a.isValid(e.transitionNodeID));var s=!1;for(let e of t.actions)if("INTERNAL_NODE"===e.connectionType&&"SWAP_STATE"===e.navigationType){s=!0;break}return r&&i&&s}(e.interactions[0],t.interactions[0]));return l?.interactions[0]??null}(y,t,e),$=(0,tm.ZC)(Q),z=(0,oB.U)();l.useEffect(()=>{null===$&&Q&&z("prototype_interaction_conflict_override_created",{interaction_type:t.interactions[0].event?.interactionType,action_type:Q.event?.interactionType})});let X=y===oQ.J.INHERITED_INTERNAL&&w.some(e=>e.key===t.key)&&!Q,j=c&&s,J=C&&!c,q=new nL.js,ee=(0,nL.mj)(V),et=F||!V||"NONE"===ee?void 0:q.format(ee),en=l.createElement(eI.Y9,{ref:O,"data-testid":`prototypeInteractionItem-${n}`,singletonRow:d,dragging:o,onMouseDown:u,onMouseMove:m,onMouseUp:E,onMouseEnter:K,onMouseLeave:U,recordingKey:h.Pt(g,"draggableRow")},l.createElement(eI.s2,{label:null,leftIcon:l.createElement(ew.YW,{selected:!!(I&&I.shouldPin),recordingKey:h.Pt(g,"interactionIcon"),onClick:D,onMouseDown:B,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":cf(t.event,N)},(0,nx.e7)(t.event.interactionType)),input:l.createElement(eA.D8,{onClick:D,onMouseDown:B,recordingKey:h.Pt(g,"interactionText")},cf(t.event,N),et&&l.createElement("span",{className:"prototype_interaction_list--summaryText--hGpp4"},"\xa0\xb7\xa0",et)),rightIcon:l.createElement(ek.K,{onClick:G,"aria-label":(0,R.t)("proto.prototype_panel.remove_interaction_tooltip"),recordingKey:h.Pt(g,"removeButton"),htmlAttributes:{onMouseDown:B}},l.createElement(el.U,{svg:aQ.A,fallbackSvg:a$.A},l.createElement(aW.O,null)))}));return S?en:l.createElement("div",null,l.createElement(tN.e,{ref:A,className:b?"prototype_interaction_list--interactionListRow---i0Rg ui3_rows--ui3OneInputOneIconRow--SMoQ9 ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu":void 0,"data-testid":`prototypeInteractionItem-${n}`,selected:j,selectedSecondary:J,singletonRow:d,dragging:o,onMouseDown:u,onMouseMove:m,onMouseUp:E,onMouseEnter:K,onMouseLeave:U,recordingKey:h.Pt(g,"draggableRow")},l.createElement(eA.D8,{className:p()({"prototype_interaction_list--interactionButton--q-58Q":!0,"prototype_interaction_list--interactionButtonSelected--8YX9A":j,"prototype_interaction_list--interactionButtonSelectedSecondary--Nx73L":J}),onClick:D,onMouseDown:B,recordingKey:g},Y?l.createElement(eO.B,{className:cl,svg:cr.A,"data-tooltip-type":ey.Ib.SPECIAL,"data-tooltip":ce,"data-tooltip-text":(0,R.t)("proto.prototype_panel.this_interaction_must_swap_from_a_variant_to_another_variant_within_the_same_component_set_tooltip")}):W?l.createElement(eO.B,{className:cl,svg:cr.A,"data-tooltip-type":ey.Ib.SPECIAL,"data-tooltip":ce,"data-tooltip-text":(0,R.t)("proto.prototype_panel.prototype_multiple_interactions_mouse_and_hover_tooltip")}):X&&l.createElement(eO.B,{className:cl,svg:cr.A,"data-tooltip-type":ey.Ib.SPECIAL,"data-tooltip":ce,"data-tooltip-text":(0,R.t)("proto.prototype_panel.this_interaction_will_not_be_triggered_as_interactions_on_instances_are_triggered_before_inherited_internal_interactions_tooltip")}),l.createElement("div",{className:W||Y||X?"prototype_interaction_list--interactionNameShort--5UMLL prototype_interaction_list--interactionName--zQsSL":"prototype_interaction_list--interactionName--zQsSL"},cf(t.event,N)),l.createElement(oG.t,{className:"prototype_interaction_list--actionIcon--x-haP",svg:F?(0,nx.Yb)("NONE"):(0,nx.Yb)((0,nL.mj)(V))}),l.createElement("div",{className:"prototype_interaction_list--targetText--UMXyE",dir:"auto"},F?(0,R.t)("proto.variant_actions.mixed"):y===oQ.J.INHERITED_INTERNAL?(0,R.t)("proto.variant_actions.change_to"):cv(V,f,b))),l.createElement("span",{className:"prototype_interaction_list--removeButton--g6aiQ"},l.createElement(ek.K,{onClick:G,"aria-label":(0,R.t)("proto.prototype_panel.remove_interaction_tooltip"),recordingKey:h.Pt(g,"removeButton"),htmlAttributes:{onMouseDown:B}},l.createElement(el.U,{svg:aQ.A,fallbackSvg:a$.A},l.createElement(aW.O,null))))))}function cd(e){return e.mirror.selectionProperties.prototypeInteractions||[]}function cu(e){return e.mirror.selectionProperties.prototypeInheritedInternalInteractions||[]}function cm(e){return e.pickerShown}function ch(e){return e.mirror.appModel.currentSelectedProperty}function cE(e){return e.mirror.sceneGraph}function c_(e){return e.mirror.sceneGraphSelection}function cy(e){return e.mirror.selectionProperties.resettableInstanceOverrides}function cg(e){return e.mirror.appModel.selectedInteractions}function cS(e){return e.mirror.selectionProperties.isValidPrototypingSourceSelected??!0}function cP(){let e=(0,r.d4)(c_),t=(0,r.d4)(cE);for(let n of Object.keys(e)){let e=t.get(n);if(e&&("INSTANCE"===e.type||e.isInstanceSublayer))return!0}return!1}let cb=["ON_CLICK","DRAG","ON_HOVER","ON_PRESS","MOUSE_ENTER","MOUSE_LEAVE","MOUSE_DOWN","MOUSE_UP"];function cf(e,t){let n=t.format(e.interactionType??"NONE");if("ON_KEY_DOWN"===e.interactionType&&e.keyTrigger&&e.keyTrigger.keyCodes){let t=(0,oZ._i)(e.keyTrigger.keyCodes),l=(0,oZ.E8)(e.keyTrigger,!0);if("KEYBOARD"===e.keyTrigger.triggerDevice&&t)return n+" ("+(0,oZ.U8)(t)+")";if(l)return n+" ("+l+")"}return n}function cv(e,t,n){let l=new nL.js(n);if(!e)return l.format("NONE");let r=(0,nL.mj)(e);switch(r){case"NONE":case"GO_BACK":case"CLOSE_OVERLAY":case"SET_VARIABLE":case"SET_VARIABLE_MODE":case"CONDITIONAL":return l.format(r);case"OPEN_URL":if(null!=e.connectionURL){if((0,Y.gl)(e.connectionURL))return(0,R.t)("fullscreen.mixed");return e.connectionURL.replace(/https?:\/\//,"")}return l.format("NONE");case"UPDATE_MEDIA_PLAY":case"UPDATE_MEDIA_PAUSE":case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":case"UPDATE_MEDIA_MUTE":case"UPDATE_MEDIA_UNMUTE":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":case"UPDATE_MEDIA_SKIP_FORWARD":case"UPDATE_MEDIA_SKIP_BACKWARD":case"UPDATE_MEDIA_SKIP_TO":return ca.format(e)}return e.transitionNodeID?(0,Y.gl)(e.transitionNodeID)?(0,R.t)("fullscreen.mixed"):t(a.toString(e.transitionNodeID)):l.format("NONE")}function cw(e){return e.interactions.filter(e=>e.id&&e.sourceNodeID).map(e=>oH.d({nodeID:e.sourceNodeID,interactionID:e.id}))}function cT(e){let t=[];for(let n of e){let{sourceNodeID:e,id:l}=n;e&&l&&t.push(oH.d({nodeID:e,interactionID:l}))}return t}function cI(e){H.Y5.triggerAction("show-prototype-interaction-edit-modal",{args:{source:i.yxn.PROPERTIES_PANEL,x:e.x,y:e.y}})}var ck=n(386560);function cN(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M14 7.879V6a1 1 0 0 0-1.707-.707L9.586 8H6.5A1.5 1.5 0 0 0 5 9.5v5a1.5 1.5 0 0 0 .974 1.405L6.879 15H6.5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 .5-.5H10l2-2 1-1v2.879l1-1Zm0 4.242-1 1V18l-1-1-1.44-1.44-.706.708 2.439 2.44A1 1 0 0 0 14 18v-5.879Zm3.854-5.975a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.707l11-11a.5.5 0 0 1 .708 0ZM15.5 10.677v-.056l.681-.68A2.999 2.999 0 0 1 15.5 14.6v-1.277c.311-.352.5-.816.5-1.323s-.189-.97-.5-1.323ZM18 12a3.987 3.987 0 0 0-1.112-2.767l.708-.707a5.002 5.002 0 0 1-2.096 8.246V15.71A4.001 4.001 0 0 0 18 12Z",clipRule:"evenodd"}))}var cC=n(553738),cA=n(647215),cO=n(477633),cM=n(564734),cR=n(68710),cL=n(632319);function cx({videoPlayback:{mediaLoop:e,muted:t}}){let n=null;return(0,Y.gl)(e)&&(0,Y.gl)(t)?n=(0,R.tx)("proto.prototype_panel.replace_mixed_muted_and_loop_video_playback",{loopSvg:l.createElement(eO.B,{svg:cO.A,className:cA.eT}),speakerSvg:l.createElement(eO.B,{svg:cR.A,className:cA.To})}):(0,Y.gl)(e)?n=(0,R.tx)("proto.prototype_panel.replace_mixed_video_playback",{svg:l.createElement(eO.B,{svg:cO.A,className:cA.eT})}):(0,Y.gl)(t)&&(n=(0,R.tx)("proto.prototype_panel.replace_mixed_video_playback",{svg:l.createElement(eO.B,{svg:cR.A,className:cA.To})})),n?l.createElement(ew.fI,null,l.createElement(ew.UZ,{className:cA.pc},n)):null}let cD=e=>(0,Y.gl)(e)?"mixed":e,cF=e=>!0===e,cV=function(e){let t=()=>{let t=!cF(e.videoPlayback.mediaLoop);e.updateSelectionProperties({videoMediaLoop:t}),e.dispatch((0,ou._P)({name:"Node video loop changed",params:{newLoop:t,oldLoop:cD(e.videoPlayback.mediaLoop),numVideosSelected:e.videoPlayback.numVideosSelected}}))},n=()=>{let t=!e.videoPlayback.muted;e.updateSelectionProperties({videoMuted:t}),e.dispatch((0,ou._P)({name:"Node video muted changed",params:{newMuteValue:t,oldMuteValue:cD(e.videoPlayback.muted),numVideosSelected:e.videoPlayback.numVideosSelected}}))},r=l.createElement("span",{className:(0,tP.GS)()?void 0:cA.hW},l.createElement(rd.S,{label:l.createElement(l7.J,{"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("proto.prototype_panel.default_video_playback_state")},(0,R.tx)("proto.prototype_panel.autoplay")),onChange:t=>{e.updateSelectionProperties({videoAutoplay:t}),e.dispatch((0,ou._P)({name:"Node video autoplay Changed",params:{newAutoplay:t,oldAutoplay:cD(e.videoPlayback.autoplay),numVideosSelected:e.videoPlayback.numVideosSelected}}))},checked:cF(e.videoPlayback.autoplay),mixed:(0,Y.gl)(e.videoPlayback.autoplay)})),i=(0,tP.GS)()?l.createElement(s9.f,{checked:cF(e.videoPlayback.mediaLoop),mixed:(0,Y.gl)(e.videoPlayback.mediaLoop),onIcon:l.createElement(el.U,{svg:cO.A},l.createElement(ru,null)),offIcon:l.createElement(el.U,{svg:cM.A},l.createElement(rm,null)),onChange:t,recordingKey:h.Pt(e,"videoLoopToggle"),"aria-label":(0,R.t)("proto.prototype_panel.loop"),htmlAttributes:{"data-tooltip":(0,R.t)("proto.prototype_panel.loop"),"data-tooltip-type":ey.Ib.TEXT}}):l.createElement(cC.m,{toggled:cF(e.videoPlayback.mediaLoop),svg:e.videoPlayback.mediaLoop?cO.A:cM.A,fallbackSvg:e.videoPlayback.mediaLoop?cO.A:cM.A,onMouseDown:t,recordingKey:h.Pt(e,"videoLoopToggle"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("proto.prototype_panel.loop"),dataTestId:"videoLoopToggle",className:cA.BM}),s=(0,tP.GS)()?l.createElement(s9.f,{checked:cF(!e.videoPlayback.muted),mixed:(0,Y.gl)(e.videoPlayback.muted),onIcon:l.createElement(el.U,{svg:cR.A},l.createElement(rh.L,null)),offIcon:l.createElement(el.U,{svg:cL.A},l.createElement(cN,null)),onChange:n,recordingKey:h.Pt(e,"videoSoundToggle"),"aria-label":(0,R.t)("proto.prototype_panel.sound"),htmlAttributes:{"data-tooltip":(0,R.t)("proto.prototype_panel.sound"),"data-tooltip-type":ey.Ib.TEXT}}):l.createElement(cC.m,{toggled:!e.videoPlayback.muted,svg:cF(e.videoPlayback.muted)?cL.A:cR.A,fallbackSvg:cF(e.videoPlayback.muted)?cL.A:cR.A,onMouseDown:n,recordingKey:h.Pt(e,"videoSoundToggle"),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("proto.prototype_panel.sound"),dataTestId:"videoSoundToggle",className:cA.BM}),a=(0,tP.GS)()?l.createElement(eI.pG,{input:r,leftIcon:i,rightIcon:s}):l.createElement(ew.fI,{className:cA.kh},r,l.createElement("div",{className:cA.zc},i,s));return l.createElement(ew.Zk,null,l.createElement(ew.fI,null,l.createElement(ew.xw,{extended:!0},(0,R.tx)("proto.prototype_panel.video"))),a,l.createElement(cx,{videoPlayback:e.videoPlayback}))};var cK=n(509453),cU=n(420450),cB=n(955136);function cH(e){let{type:t}=e;return l.createElement("div",{className:nM.cx.flex.justifyCenter.itemsCenter.$},l.createElement(eO.B,{className:nM.cx.flexGrow1.mx12.$,useOriginalSrcFills_DEPRECATED:!0,svg:"horizontal"===t?cU.A:cB.A}),l.createElement("span",{className:nM.cx.flexGrow1.m6.$,style:{maxWidth:144}},(0,R.tx)("proto.prototype_panel.content_needs_to_be_bigger_than_the_frame_tooltip")))}let cG=(0,o9.ex)("prototype_scroll_horizontal_info",cH,()=>({type:"horizontal",unconstrainWidth:!0})),cY=(0,o9.ex)("prototype_scroll_vertical_info",cH,()=>({type:"vertical",unconstrainWidth:!0})),cW="scroll_behavior_panel--inactiveLabel--IexW8",cQ="scroll_behavior_panel--inactiveLabelContainer--lQjAi";var c$=n(591363);function cz(e){let{scrollDirection:t,showScrollWarning:n,disableOverflowBehaviorItem:s,dropdownShown:a,updateSelectionProperties:o}=e,c=(0,r.wA)(),[p,d]=function(){let e=(0,nD.J2)(i.Ez5.propertiesPanelState().shownPropertiesPanels)[i.ibQ.OVERFLOW_ITEM],t=(0,nT.cJ)(),n=(0,lf.kl)("isSection"),l=(0,lf.kl)("anyTopLevelFramesInSelection");return[e,!t&&!n&&!l]}(),u=(0,tP.GS)()?l.createElement(n$.mS,{titleTx:(0,R.tx)("proto.scroll_panel.scroll_behavior_title")}):l.createElement(ew.fI,null,l.createElement(ew.xw,{className:"scroll_behavior_panel--panelTitle--kN-Nl"},(0,R.tx)("proto.scroll_panel.scroll_behavior_title")));return p||d?l.createElement(ty.p,{name:"scroll_behavior_panel"},l.createElement(ew.Zk,null,u,d&&l.createElement(ew.fI,null,l.createElement("div",{className:cQ},l.createElement("span",{className:cW},(0,R.tx)("proto.scroll_panel.position_dropdown.position"))),l.createElement(c1,{recordingKey:h.Pt(e,"scrollBehavior"),dropdownShown:a})),p&&l.createElement(ew.fI,null,l.createElement("div",{className:cQ},l.createElement("span",{className:cW},(0,R.tx)("proto.scroll_panel.overflow_dropdown.overflow"))),n&&l.createElement(eO.B,{className:"scroll_behavior_panel--infoIcon--FeXbf",svg:c$.A,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":ey.Ib.SPECIAL,"data-tooltip":"HORIZONTAL"===t?cG:cY,"data-tooltip-show-immediately":!0}),l.createElement(cJ,{className:n?"scroll_behavior_panel--scrollDirectionShort--w6iSo":"scroll_behavior_panel--scrollDirection--XSmzK",property:t,dispatch:c,dropdownShown:a,onChange:e=>{c((0,ou._P)({name:"Overflow Behavior changed",params:{newDirection:e,oldDirection:(0,Y._W)(t,"MIXED")}})),o({scrollDirection:e})},disabled:s,recordingKey:h.Pt(e,"scrollDirection")})))):null}class cX extends nG.c${}class cj extends nG.l6{}let cZ=["NONE","HORIZONTAL","VERTICAL","BOTH"];class cJ extends l.PureComponent{render(){return l.createElement(cj,{id:"scroll-direction-select",className:this.props.className,chevronClassName:"scroll_behavior_panel--scrollDirectionChevron--5keRt",inputClassName:"scroll_behavior_panel--scrollDirectionInput--vJSqu",property:this.props.property||"NONE",formatter:nL.Rk,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,disabled:this.props.disabled,recordingKey:this.props.recordingKey,dataTestId:"scroll-direction-dropdown"},cZ.map(e=>l.createElement(cX,{key:e,value:e,recordingKey:h.Pt(this.props,e)})))}}cJ.displayName="ScrollDirectionDropdown";class cq extends nG.l6{}class c0 extends nG.c${}function c1(e){let t=(0,r.wA)(),n=(0,lf.kl)("scrollBehavior"),{fixedScrollingDisabled:s}=(0,iv.R)(e=>{let t=e.mirror.selectionProperties;return{fixedScrollingDisabled:!t.nodesAreAllNotInStacksOrAbsolutePositioned||!t.allHaveScrollableFrameAsParent}}),a="scroll-behavior-select",o=e.dropdownShown&&e.dropdownShown.type===a?nL.Ge:nL.wi;return l.createElement(cq,{id:a,className:"scroll_behavior_panel--scrollPosition--YAyUM",formatter:o,property:n||"SCROLLS",onChange:e=>{t((0,ou._P)({name:"Node Scroll Behavior Changed",params:{newValue:e}}));let n="FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"===e?i.KjJ.FIXED:"STICKY_SCROLLS"===e?i.KjJ.STICKY_SCROLLS:i.KjJ.SCROLLS;eE.l7.user("set-scroll-behavior",()=>i.X3B.aggressivelySetScrollBehaviorOfSelection(n)),H.Y5.commit()},dispatch:t,dropdownShown:e.dropdownShown,dropdownClassName:"scroll_behavior_panel--fullWidth--reSmx",recordingKey:e.recordingKey,disabled:e.disabled,dataTestId:"scroll-behavior-dropdown"},l.createElement(c0,{value:"SCROLLS"}),l.createElement(c0,{value:"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME",disabled:s}),l.createElement(c0,{value:"STICKY_SCROLLS"}))}var c5=n(105020),c4=n(548183),c3=n(854547),c2=n(654784),c6=n(351731);function c7(){return l.createElement(aZ.u,{idForTests:"create-connection-hint",title:(0,R.t)("proto.onboarding.creating_a_connection"),userFlag:"dismissed_create_connection_hint",icon_DEPRECATED:c3.A,iconFallback:c2.A,hintText:(0,R.t)("proto.onboarding.select_a_frame_or_object_hint")})}function c8(){return l.createElement(aZ.u,{idForTests:"delete-connection-hint",title:(0,R.t)("proto.onboarding.removing_a_connection"),userFlag:"dismissed_delete_connection_hint",icon_DEPRECATED:c5.A,iconFallback:c4.A,hintText:(0,R.t)("proto.onboarding.to_delete_a_connection_click_and_drag_on_either_end")})}function c9(){return l.createElement(aZ.u,{idForTests:"play-button-hint",title:(0,R.t)("proto.onboarding.running_your_prototype"),userFlag:"dismissed_play_button_hint",icon_DEPRECATED:c6.A,hintText:(0,R.t)("proto.onboarding.use_the_play_button_hint")})}function pe({dismissedCreateConnectionHint:e,dismissedDeleteConnectionHint:t,dismissedPlayButtonHint:n,numTransitionsOnCurrentPage:r}){let i=0===r&&!e,s=0!==r&&!t,a=!n,o=l.useMemo(()=>i?od.c.CREATING_A_CONNECTION:s?od.c.REMOVING_A_CONNECTION:a?od.c.RUNNING_YOUR_PROTOTYPE:null,[i,s,a]);return o?l.createElement(V.fu,{name:"Prototype Onboarding Hint Panel V1",properties:{trackingDescriptor:o}},l.createElement(ew.Zk,null,l.createElement("div",null,i&&l.createElement(c7,null),s&&l.createElement(c8,null),a&&l.createElement(c9,null)))):null}class pt extends l.PureComponent{constructor(){super(...arguments),this.onClickShowPrototypeSettings=()=>{this.props.dispatch((0,ou._P)({name:"Show Prototype Settings Clicked"})),on.wr()}}renderOnboardingPanel(){let e=!!this.props.userFlags.dismissed_create_connection_hint,t=!!this.props.userFlags.dismissed_delete_connection_hint,n=!!this.props.userFlags.dismissed_play_button_hint,r=this.props.selectionProperties.numTransitionsOnCurrentPage;return l.createElement(pe,{dismissedCreateConnectionHint:e,dismissedDeleteConnectionHint:t,dismissedPlayButtonHint:n,numTransitionsOnCurrentPage:r})}renderPrototypeSettingsPanel(){return l.createElement(ty.p,{name:"show_prototype_settings_panel"},l.createElement(ew.Zk,{className:this.props.isUI3?os.rq:void 0},l.createElement(cK.z,{onClick:this.onClickShowPrototypeSettings,recordingKey:h.Pt(this.props,"prototypeSettingsButton")},(0,R.tx)("proto.menu.show_prototype_settings"))))}renderDevicePanel(){(0,td.KF)((0,Y.hS)(this.props.selectionProperties.prototypeDevice),"should not have mixed device selection");let e=(0,ou.Qx)(this.props.selectionProperties.prototypeDevice);return l.createElement(oR,{key:"device-panel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,prototypeBackgroundColor:this.props.selectionProperties.prototypeBackgroundColor,prototypeDevice:e,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:"devicePanel",isUI3:this.props.isUI3,pickerShown:this.props.pickerShown})}render(){let e=!(0,Y.hS)(this.props.selectionProperties.transitionNodeID)||a.isValid((0,Y.E7)(this.props.selectionProperties.transitionNodeID)),t=this.props.selectionProperties.numSelected??!1,n=!this.props.isSites&&!!this.props.selectionProperties.numVideosSelected,r=this.props.selectionProperties.isInstanceSelected||this.props.selectionProperties.isInstanceSublayerSelected,i=!this.props.isSites&&this.props.selectionProperties.prototypeStartingPointsInfo&&this.props.selectionProperties.prototypeStartingPointsInfo.length>0,s=!this.props.isSites&&!e,o=!this.props.isSites&&((this.props.selectionProperties.isValidPrototypingSourceSelected??!0)||this.props.selectionProperties.isSectionSelected&&(0,om.YR)());if(!t)return l.createElement("div",null,!this.props.isSites&&this.renderDevicePanel(),!this.props.isUI3&&l.createElement(o_,{recordingKey:h.Pt(this.props,"backgroundPanel"),prototypeBackgroundColor:this.props.selectionProperties.prototypeBackgroundColor,pickerShown:this.props.pickerShown,dispatch:this.props.dispatch}),i&&l.createElement(nh.A,null),!this.props.isSites&&s&&this.renderOnboardingPanel(),l.createElement(sw.Mw,{panelName:sw.ON.PROTOTYPE}));{let e=l.createElement(cz,{dropdownShown:this.props.dropdownShown,scrollDirection:this.props.selectionProperties.scrollDirection??"NONE",showScrollWarning:this.props.selectionProperties.showWontScrollWarning??!1,disableOverflowBehaviorItem:!!r,recordingKey:h.Pt(this.props,"scrollBehaviorPanel"),updateSelectionProperties:H.Y5.updateSelectionProperties});return l.createElement("div",null,!this.props.isSites&&this.props.selectionProperties.isTopLevelFrameAndValidPrototypeSourceSelected&&l.createElement(ck.A,{recordingKey:h.Pt(this.props,"startingPointPanel")}),o&&l.createElement(co,null),e,n&&l.createElement(cV,{updateSelectionProperties:H.Y5.updateSelectionProperties,dispatch:this.props.dispatch,videoPlayback:function(e){let{videoMediaLoop:t,videoAutoplay:n,videoMuted:l,numVideosSelected:r}=e;return(0,td.B1)(t),(0,td.B1)(n),(0,td.B1)(l),(0,td.B1)(r),{autoplay:n,muted:l,mediaLoop:t,numVideosSelected:r}}(this.props.selectionProperties)}),!this.props.isSites&&this.renderPrototypeSettingsPanel(),s&&this.renderOnboardingPanel(),l.createElement(sw.Mw,{panelName:sw.ON.PROTOTYPE}))}}}pt.displayName="PrototypePanel";let pn=(0,V.kp)(function(e){let{bigNudgeAmount:t,smallNudgeAmount:n}=(0,b.sT)(),r=(0,tP.GS)(),i=(0,nT.cJ)();return l.createElement(pt,{...e,bigNudgeAmount:t,smallNudgeAmount:n,isUI3:r,isSites:i})},j.e0.PROTOTYPE_PANEL);var pl=n(672591),pr=n(139689),pi=n(146394),ps=n(155300);let pa={[i.eVK.TOP_LEFT]:"anchor_point_selector--apTopLeft--jsueH",[i.eVK.TOP_CENTER]:"anchor_point_selector--apTopMiddle--Wp-kD",[i.eVK.TOP_RIGHT]:"anchor_point_selector--apTopRight--mbC5X",[i.eVK.MIDDLE_LEFT]:"anchor_point_selector--apMiddleLeft--G-YlO",[i.eVK.MIDDLE_CENTER]:"anchor_point_selector--apMiddleMiddle--gut-r",[i.eVK.MIDDLE_RIGHT]:"anchor_point_selector--apMiddleRight--VZnhH",[i.eVK.BOTTOM_LEFT]:"anchor_point_selector--apBottomLeft--30X3n",[i.eVK.BOTTOM_CENTER]:"anchor_point_selector--apBottomMiddle--ySpzF",[i.eVK.BOTTOM_RIGHT]:"anchor_point_selector--apBottomRight--rXs-P"},po={[i.eVK.TOP_LEFT]:"top_left",[i.eVK.TOP_CENTER]:"top_center",[i.eVK.TOP_RIGHT]:"top_right",[i.eVK.MIDDLE_LEFT]:"middle_left",[i.eVK.MIDDLE_CENTER]:"middle_center",[i.eVK.MIDDLE_RIGHT]:"middle_right",[i.eVK.BOTTOM_LEFT]:"bottom_left",[i.eVK.BOTTOM_CENTER]:"bottom_center",[i.eVK.BOTTOM_RIGHT]:"bottom_right"};function pc(e){let{value:t,anchorPoint:n,onAnchorPointChange:r,disabled:i,dataTestId:s}=e,a=l.useCallback(()=>{r(t)},[r,t]),o=t===n;return l.createElement("button",{className:`anchor_point_selector--anchorPointButton--JCPGp ${pa[t]}`,onClick:a,disabled:i,"data-testid":s},l.createElement("div",{className:p()("anchor_point_selector--anchorPointButtonInner--LSo9Y",{"anchor_point_selector--apButtonActive--eNX6V":o,"anchor_point_selector--disabled--YCcFc":i}),"data-testid":o?`${s}.active`:void 0}))}let pp=e=>"INPUT"===e.tagName;function pd(e){let{anchorPoint:t,onAnchorPointChange:n,disabled:r,restoreFocusElements:s}=e,[a,o]=l.useState(document.activeElement),c=e=>{n(e),a&&pp(a)&&s?.includes(a)&&a.focus()};return l.createElement("div",{className:p()("anchor_point_selector--anchorPointSelector--ZC9rv",{"anchor_point_selector--anchorPointSelectorDisabled--JScxh":r}),onMouseDown:()=>{o(document.activeElement)}},l.createElement(l.Fragment,null,l.createElement(pc,{disabled:r,value:i.eVK.TOP_LEFT,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${po[i.eVK.TOP_LEFT]}`}),l.createElement(pc,{disabled:r,value:i.eVK.TOP_CENTER,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${po[i.eVK.TOP_CENTER]}`}),l.createElement(pc,{disabled:r,value:i.eVK.TOP_RIGHT,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${po[i.eVK.TOP_RIGHT]}`})),l.createElement(l.Fragment,null,l.createElement(pc,{disabled:r,value:i.eVK.MIDDLE_LEFT,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${po[i.eVK.MIDDLE_LEFT]}`}),l.createElement(pc,{disabled:r,value:i.eVK.MIDDLE_CENTER,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${po[i.eVK.MIDDLE_CENTER]}`}),l.createElement(pc,{disabled:r,value:i.eVK.MIDDLE_RIGHT,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${po[i.eVK.MIDDLE_RIGHT]}`})),l.createElement(l.Fragment,null,l.createElement(pc,{disabled:r,value:i.eVK.BOTTOM_LEFT,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${po[i.eVK.BOTTOM_LEFT]}`}),l.createElement(pc,{disabled:r,value:i.eVK.BOTTOM_CENTER,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${po[i.eVK.BOTTOM_CENTER]}`}),l.createElement(pc,{disabled:r,value:i.eVK.BOTTOM_RIGHT,anchorPoint:t,onAnchorPointChange:c,dataTestId:`scale_panel.anchor.${po[i.eVK.BOTTOM_RIGHT]}`})))}let pu=i.eVK.MIDDLE_CENTER;var pm=(e=>(e.TextInput="text-input",e.Selector="selector",e))(pm||{}),ph=(e=>(e.Select="select",e.Input="input",e.Scrub="scrub",e.Width="width",e.Height="height",e))(ph||{});function pE(e,t){return(0,o.areClose)(e,0)?((0,N.x1)("clampScaleValue","scale is 0",{originalValue:e,newValue:t}),1):(0,o.clamp)(t/e,.01,100)}var p_=n(336417),py=n(127285),pg=n(360882),pS=n(614851),pP=n(59466);let pb=[.25,.5,.75,1,2,3,4,5,10];class pf extends nK.a3{}class pv extends nG.c${}let pw=new class{constructor(){this.MAX_SCALE=100,this.MIN_SCALE=.01}parse(e){let t=(0,pg.q)(e),n=(0,py.O4)(t,1);if(null!==n.value&&isFinite(n.value)){let t=(0,pg.v)(e);return{value:n.value,anchorPoint:null===t?void 0:t}}throw new nR.LS("Could not parse input",n.error)}format(e){if(null==e)return"";let t=parseFloat(e.value.toFixed(2));return`${t}x`}getNudgeAmount(e){return e?1:.5}incrementBy(e,t){return{value:e.value+t,anchorPoint:e.anchorPoint}}snap(e,t){return{value:(0,o.snapToNearestMultiple)(e.value,t),anchorPoint:e.anchorPoint}}clamp(e){return{value:(0,o.clamp)(e.value,this.MIN_SCALE,this.MAX_SCALE),anchorPoint:e.anchorPoint}}isEqual(e,t){return e.value===t.value&&e.anchorPoint===t.anchorPoint}},pT=l.forwardRef((e,t)=>{let{disabled:n,scale:i,onScaleChange:s,recordingKey:a,onInputKeyDown:o}=e,c=(0,r.wA)(),p=(0,r.d4)(e=>e.dropdownShown),d=h.c1(a),u=(0,tP.GS)(),m=pb.map((e,t)=>l.createElement(pv,{key:t,value:{value:e},recordingKey:d("scaleInput",e)})),E={smallNudgeAmount:1,bigNudgeAmount:10,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01,"data-tooltip":"","data-tooltip-type":ey.Ib.TEXT,dispatch:c,value:{value:i},onValueChange:(e,t)=>{s(e.value,ph.Scrub,t),t&&H.Y5.commit()},scrubbingDisabled:n,formatter:pw},_=l.createElement(el.U,{svg:pP.A},l.createElement(p_.l,null));return l.createElement(nK.ow,{value:{select:u?nY.pW:void 0,inputComponent:u?nY.gm:void 0}},l.createElement(nG.tV,{value:{chevron:u?nW.c9:void 0}},l.createElement(pf,{scrubbableControlProps:E,id:"scale-input-fullscreen.scale_panel.scale",forwardedRef:t,className:"scale_row--scaleCombobox--jimxi",property:{value:i},onKeyDown:o,onChange:(e,t,n)=>{s(e.value,n===nK.G7.Input?ph.Input:ph.Select,t??rp.zk.NO,e.anchorPoint),t&&H.Y5.commit()},formatter:pw,dispatch:c,dropdownShown:p,onMouseDown:e=>{e.stopPropagation()},recordingKey:d("scaleInput"),disabled:n,icon:_,iconClassName:pS.QK,dropdownWidth:104,dataTestId:"scale_panel.scale"},m)))});l.forwardRef((e,t)=>l.createElement(ew.fI,null,l.createElement(pT,{...e,ref:t})));let pI="scale_width_height_row--condensedWidthHeightRow--VOTEM",pk="scale_width_height_row--condensedScrubbableInput--XxHxl",pN={smallNudgeAmount:.01,bigNudgeAmount:.1,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01};function pC(e){let{disabled:t,scale:n,property:i,selectionRegionsBounds:s,selectionRegionsOriginalBounds:a,onScaleChange:c,recordingKey:p,forwardedRef:d,onKeyDown:u}=e,m="width"===i?ph.Width:ph.Height,E=(0,r.wA)(),_=h.c1(p),y=function(){if(s&&s.length){let e=s[0][i];return s.every(t=>(0,o.areClose)(t[i],e,.005))?e:Y.oV}return Y.oV}(),g=(0,l0.Xs)(),S=(0,Y.gl)(y)?pN:{},P=(0,tP.GS)();return l.createElement(nV.$j,{noBorderOnHover:!0,dispatch:E,forwardedRef:d,className:pk,inputClassName:pS.hF,disabled:t,floatingPointFormat:P?void 0:{maxNumDigits:4},onKeyDown:u,dataTestId:`scale_panel.${i}`,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":"width"===i?(0,R.t)("fullscreen.properties_panel.transform_panel.width"):(0,R.t)("fullscreen.properties_panel.transform_panel.height"),tooltipForScreenReadersOnly:!0,recordingKey:_(`${i}Input.input`),min:(0,Y.gl)(y)?.01:1,value:y??0,mixedMathHandler:{getValue:()=>n,onChange:(e,t,n)=>{let l=t(e);Number.isNaN(l)||c((0,o.clamp)(l,.01,100),m,n)}},onValueChange:(e,t)=>{!Number.isNaN(e)&&y&&y!==Y.oV&&a&&a.length&&c(pE(a[0][i],e),m,t)},...g,...S},l.createElement("span",{className:`${pS.QK} svg`},"width"===i?(0,R.tx)("fullscreen.properties_panel.transform_panel.w"):(0,R.tx)("fullscreen.properties_panel.transform_panel.h")))}function pA(e){let{widthRef:t,heightRef:n,onWidthInputKeyDown:r,onHeightInputKeyDown:i,...s}=e;return l.createElement(pC,{...s,property:"width",forwardedRef:t,onKeyDown:r})}function pO(e){let{widthRef:t,heightRef:n,onWidthInputKeyDown:r,onHeightInputKeyDown:i,...s}=e;return l.createElement(pC,{...s,property:"height",forwardedRef:n,onKeyDown:i})}function pM(e){return l.createElement(ew.fI,{className:pI},l.createElement(pA,{...e}),l.createElement(pO,{...e}))}function pR(e){let t=l.createElement(pA,{...e}),n=l.createElement(pO,{...e});return l.createElement(eI.fn,{leftLabel:(0,R.t)("fullscreen.properties_panel.transform_panel.width"),leftInput:t,rightLabel:(0,R.t)("fullscreen.properties_panel.transform_panel.height"),rightInput:n,icon:null})}var pL=n(889012),px=n.n(pL);let pD="scale_panel--scalePanelRow--Cbovd",pF="scale_panel--scalePanel--EfJhl";var pV=n(630834);let pK=()=>{H.Y5.triggerAction("set-tool-default")};function pU(e){let t=(0,r.d4)(e=>e.mirror.sceneGraphSelection),n=(0,lf.kl)("selectionRegions"),s=(0,Y.E7)(n),a=(0,tm.ZC)(s),c=l.useRef(0),[p,d]=(0,l.useState)(void 0),m=(0,tm.ZC)(p),E=l.useRef(null),_=(0,lf.kl)("selectionResizable"),y=(0,Y._W)(_,!1),g=(0,tb.p8)("activeUserAction"),S=(0,tm.ZC)(g),P=(0,nD.J2)(i.Ez5.propertiesPanelState().shownPropertiesPanels),b=(0,tm.ZC)(P),[f,v]=(0,l.useState)(!1),w=l.useRef(null),T=l.useRef(null),I=l.useRef(null),k=(0,tb.p8)("currentTool"),N=(0,tm.ZC)(k),C=k!==i.NLJ.SCALE,A=!y||C,O=(0,tP.GS)(),[M,L]=(0,l.useState)(pu),x=(0,nD.J2)(i.Ez5.canvasViewState().scaleToolLastCanvasAnchorPoint),D=h.qP(e.recordingKey??"","anchorPointChange",L),[F,V]=(0,l.useState)(void 0),K=(0,l.useCallback)(e=>{void 0===F?V(e):F!==e&&V(null)},[F]),{trackScaleChangeEvent:U,trackScaleToolDismissed:B,trackAnchorPointChange:G}=function(){let e=(0,oB.am)(),t=(0,l.useCallback)(t=>{e("scale_tool_panel_set_value",{key:"height",...t})},[e]),n=(0,l.useMemo)(()=>px()(t,3e3),[t]),r=(0,l.useCallback)((e,l)=>l?n(e):t(e),[n,t]),i=(0,l.useCallback)(t=>e("scale_tool_panel_set_value",{key:"width",...t}),[e]),s=(0,l.useMemo)(()=>px()(i,3e3),[i]),a=(0,l.useCallback)((e,t)=>t?s(e):i(e),[s,i]),o=(0,l.useCallback)(t=>e("scale_tool_panel_set_value",{key:"scale",...t}),[e]),c=(0,l.useMemo)(()=>px()(o,3e3),[o]),p=(0,l.useCallback)((e,t)=>t?c(e):o(e),[c,o]),d=(0,l.useCallback)(t=>e("scale_tool_panel_dismissed",{...t}),[e]);return{trackScaleChangeEvent:p,trackWidthChangeEvent:a,trackHeightChangeEvent:r,trackAnchorPointChange:(0,l.useCallback)(t=>e("scale_tool_set_anchor_point",{...t}),[e]),trackScaleToolDismissed:d}}();(0,l.useEffect)(()=>{g===i.QOV.RESIZING&&M!==x&&(K(x),D(x))},[g,M,D,K,x]);let[W,Q]=(0,l.useState)(1),[$,z]=(0,l.useState)(!1),[X,j]=(0,l.useState)(!1),[J,q]=(0,l.useState)(!0),ee=(0,l.useCallback)((e,t)=>{p&&p.length&&(i.glU.setScale(e,t,p.map(e=>({origin:{x:e.x,y:e.y},size:{x:e.width,y:e.height}})),null!==F),j(!0),K(t))},[p,F,K]);(0,l.useEffect)(()=>{z(!0)},[t]),(0,l.useEffect)(()=>{!b?.[i.ibQ.SCALE_ITEM]&&P?.[i.ibQ.SCALE_ITEM]&&z(!0)},[P,b]);let et=(0,l.useCallback)(()=>X?(j(!1),!0):g===i.QOV.RESIZING||g===i.QOV.DEFAULT&&S===i.QOV.RESIZING,[g,X,S]);(0,l.useLayoutEffect)(()=>{if(a&&a.length&&s&&s.length&&a.length===s.length)for(let e=0;e<s.length;e++){let{x:t,y:n,width:l,height:r}=s[e].bounds,{x:i,y:c,width:p,height:d}=a[e].bounds;if(p!==l||d!==r){if(!et()&&!$){z((0,o.areClose)(p,l)!==(0,o.areClose)(d,r));break}}else if(i!==t||c!==n){K(null);break}}},[a,s,et,K,$]),(0,l.useLayoutEffect)(()=>{let e=!1;if((0,u.kc)().ce_scale_tool_skew&&s){let t=E.current??s.map(e=>(e.bounds.width||1)/(e.bounds.height||1)),n=i.glU.getSelectionAngleSum();if(s.length===t.length){E.current=[];for(let l=0;l<s.length;++l){let r=(s[l].bounds.width||1)/(s[l].bounds.height||1);(e||(0,ps.o)(r,t[l],1e-4))&&(0,ps.o)(n,c.current,1e-4)||(e=!0),E.current.push(r),c.current=n}}}(e||$)&&(Q(1),D(pu),i.Ez5.canvasViewState().scaleToolLastCanvasAnchorPoint.set(pu),V(void 0),d(i.glU.getSelectionRegionsBounds().map(({origin:e,size:t})=>({x:e.x,y:e.y,width:t.x,height:t.y}))),v(!1),z(!1))},[$,s,D,x]),(0,l.useLayoutEffect)(()=>{s&&s.length&&p&&p.length&&(s!==a||(0,u.kc)().ce_scale_tool_skew&&p!==m)&&(J?Q(pE(p[0].width,s[0].bounds.width)):q(!0))},[m,s,p,a,J]),(0,l.useEffect)(()=>{let e=k===i.NLJ.SCALE&&N!==i.NLJ.SCALE;e&&Object.keys(t).length>0&&e&&[i.QOV.DEFAULT,i.QOV.SELECTING_TEXT].includes(g)&&w.current&&(w.current.focus(),w.current.select())},[g,k,N,t]),(0,l.useEffect)(()=>{let e=()=>{w.current&&(v(!1),w.current.focus(),w.current.select())};return pi.h.subscribeScaleToolActivated(e),()=>{pi.h.unsubscribeScaleToolActivated(e)}},[]),(0,l.useEffect)(()=>{let e=e=>{e.target!==w.current&&e.target!==T.current&&e.target!==I.current&&v(!0)};return document.addEventListener("focusin",e),()=>{document.removeEventListener("focusin",e)}},[]);let en=(0,l.useCallback)(e=>{let t="Escape"===e.key,n="Enter"===e.key;!f&&(n||t)&&pK()},[f]),er=l.createElement(ew.$4,null,l.createElement(ek.K,{onClick:()=>{pK(),B({selectionCount:Object.keys(t).length})},"aria-label":(0,R.t)("fullscreen.scale_panel.close")},l.createElement(el.U,{svg:pV.default,fallbackSvg:pV.default},l.createElement(pr.A,null)))),ei=l.createElement(pT,{scale:W,onInputKeyDown:en,onScaleChange:eE.nc.user("change-scale",(e,t,n,l)=>{Q(e),q(!1),void 0!==l&&(0,u.kc)().ee_scale_tool_ap_input?(U({value:e,source:t,anchorPoint:l,anchorPointSource:pm.TextInput}),ee(e,l),D(l)):(t===ph.Select?U({value:e,source:t,anchorPoint:M,anchorPointSource:pm.Selector}):U({value:e,source:t,anchorPoint:M,anchorPointSource:pm.Selector},!0),(0,Z.flushSync)(()=>{ee(e,M),n&&s&&s.length>1&&i.glU.logMultiEditActionForSelection("scale_panel_finish",null)}))}),disabled:A,recordingKey:e.recordingKey,ref:w}),es=l.createElement(pd,{restoreFocusElements:[w.current,T.current,I.current].filter(Boolean),anchorPoint:M,onAnchorPointChange:eE.nc.user("change-anchor-point",e=>{e!==M&&(1!==W&&(ee(1,M),ee(W,e)),D(e)),G({anchorPoint:e})}),disabled:A}),ea=l.createElement(O?pR:pM,{scale:W,selectionRegionsBounds:s.map(e=>e.bounds),selectionRegionsOriginalBounds:p,onScaleChange:eE.nc.user("change-scale",(e,t,n)=>{U({value:e,source:t,anchorPoint:M,anchorPointSource:pm.Selector},!0),Q(e),q(!1),ee(e,M),n&&(s&&s.length>1&&i.glU.logMultiEditActionForSelection("scale_panel_finish",null),H.Y5.commit())}),widthRef:T,heightRef:I,onHeightInputKeyDown:en,onWidthInputKeyDown:en,disabled:A,recordingKey:e.recordingKey});return O?l.createElement(ew.Zk,{"data-testid":`scale_panel.state.${C?"hidden":A?"disabled":"enabled"}`,className:pF},l.createElement(n$.r,{titleTx:(0,R.tx)("fullscreen.scale_panel.scale"),icon:er}),ea,l.createElement(eI.sY,{leftLabel:(0,R.t)("fullscreen.scale_panel.scale"),rightLabel:(0,R.t)("fullscreen.scale_panel.anchor_point"),topLeftInput:ei,bottomLeftInput:null,rightInput:es,topIcon:null,bottomIcon:null})):l.createElement(ew.Zk,{"data-testid":`scale_panel.state.${C?"hidden":A?"disabled":"enabled"}`},l.createElement(ew.fI,{className:pD},l.createElement(ew.xw,null,(0,R.tx)("fullscreen.scale_panel.scale")),er,es),l.createElement(ew.fI,null,ei),ea)}let pB={smallNudgeAmount:.01,bigNudgeAmount:.1,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01};function pH({disabled:e,widthOrHeight:t,scale:n,property:i,onScaleChange:s,onWidthOrHeightChange:a,recordingKey:o,forwardedRef:c,onKeyDown:p}){let d="width"===i?ph.Width:ph.Height,u=(0,r.wA)(),m=(0,l0.Xs)(),E=(0,Y.gl)(t)?pB:{},_=h.c1(o),y=(0,tP.GS)();return l.createElement(nV.$j,{noBorderOnHover:!0,dispatch:u,forwardedRef:c,className:pk,inputClassName:pS.hF,disabled:e,floatingPointFormat:y?void 0:{maxNumDigits:4},onKeyDown:p,dataTestId:`scale_panel.${i}`,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":"width"===i?(0,R.t)("fullscreen.properties_panel.transform_panel.width"):(0,R.t)("fullscreen.properties_panel.transform_panel.height"),tooltipForScreenReadersOnly:!0,recordingKey:_(`${i}Input.input`),min:(0,Y.gl)(t)?.01:1,value:t||0,mixedMathHandler:{getValue:()=>n,onChange:(e,t,n)=>{let l=t(e);Number.isNaN(l)||s(l,d,n)}},onValueChange:(e,n)=>{!Number.isNaN(e)&&t&&t!==Y.oV&&a(e,n)},...m,...E},l.createElement("span",{className:`${pS.QK} svg`},"width"===i?(0,R.tx)("fullscreen.properties_panel.transform_panel.w"):(0,R.tx)("fullscreen.properties_panel.transform_panel.h")))}function pG(e){let{widthInputRef:t,onWidthInputKeyDown:n,width:r,onWidthChange:i,...s}=e;return l.createElement(pH,{...s,property:"width",widthOrHeight:r,onWidthOrHeightChange:i,onKeyDown:n,forwardedRef:t})}function pY(e){let{heightInputRef:t,onHeightInputKeyDown:n,height:r,onHeightChange:i,...s}=e;return l.createElement(pH,{...s,property:"height",widthOrHeight:r,onWidthOrHeightChange:i,onKeyDown:n,forwardedRef:t})}function pW(e){return l.createElement(ew.fI,{className:pI},l.createElement(pG,{...e}),l.createElement(pY,{...e}))}function pQ(e){return l.createElement(eI.fn,{leftLabel:(0,R.t)("fullscreen.properties_panel.transform_panel.width"),leftInput:l.createElement(pG,{...e}),rightLabel:(0,R.t)("fullscreen.properties_panel.transform_panel.height"),rightInput:l.createElement(pY,{...e}),icon:null})}let p$=n(630834);function pz(){H.Y5.triggerAction("set-tool-default")}function pX({recordingKey:e}){let t=(0,tP.GS)(),n=(0,nD.J2)(i.yFm.state().scale),s=(0,nD.J2)(i.yFm.state().disabled),a=eE.nc.user("change-scale",e=>{i.yFm.setScale(e)}),o=(0,nD.J2)(i.yFm.state().width);o="number"==typeof o?o:Y.oV;let c=eE.nc.user("change-scale-width",e=>{i.yFm.setWidth(e)}),p=(0,nD.J2)(i.yFm.state().height);p="number"==typeof p?p:Y.oV;let d=eE.nc.user("change-scale-height",e=>{i.yFm.setHeight(e)}),u=(0,nD.J2)(i.yFm.state().anchorPoint),m=eE.nc.user("change-anchor-point",e=>{i.yFm.setAnchorPoint(e)}),{handleKeyDown:h,heightInputRef:E,scaleInputRef:_,widthInputRef:y}=function(){let e=(0,r.d4)(e=>e.mirror.sceneGraphSelection),[t,n]=l.useState(!1),s=l.useRef(null),a=l.useRef(null),o=l.useRef(null),c=(0,tb.p8)("currentTool"),p=(0,tm.ZC)(c),d=(0,tb.p8)("activeUserAction"),[u,m]=l.useState(!1);l.useEffect(()=>{let t=c===i.NLJ.SCALE&&p!==i.NLJ.SCALE;Object.keys(e).length>0&&t&&[i.QOV.DEFAULT,i.QOV.SELECTING_TEXT].includes(d)&&s.current&&(s.current.focus(),s.current.select())},[d,c,p,e]),l.useEffect(()=>{let e=()=>{s.current&&(n(!1),m(!1),s.current.focus(),s.current.select())};return pi.h.subscribeScaleToolActivated(e),()=>{pi.h.unsubscribeScaleToolActivated(e)}},[]),l.useEffect(()=>{let e=e=>{e.target!==s.current&&e.target!==a.current&&e.target!==o.current&&n(!0)};return document.addEventListener("focusin",e),()=>{document.removeEventListener("focusin",e)}},[]);let h=l.useCallback(e=>{let n="Escape"===e.key,l="Enter"===e.key;!t&&(l||n)&&m(!0)},[t]);return l.useEffect(()=>{u&&pz()}),{handleKeyDown:h,scaleInputRef:s,widthInputRef:a,heightInputRef:o}}(),g=l.createElement(ew.$4,null,l.createElement(ek.K,{onClick:()=>{pz()},"aria-label":(0,R.t)("fullscreen.scale_panel.close")},l.createElement(el.U,{svg:p$,fallbackSvg:p$},l.createElement(pr.A,null)))),S=l.createElement(pd,{restoreFocusElements:[_.current,y.current,E.current].filter(Boolean),anchorPoint:u,onAnchorPointChange:m,disabled:s}),P=l.createElement(t?pQ:pW,{scale:n,width:o,height:p,onWidthChange:c,onHeightChange:d,onScaleChange:a,onKeyDown:h,widthInputRef:y,heightInputRef:E,disabled:s,recordingKey:e}),b=l.createElement(pT,{scale:n,onScaleChange:a,disabled:s,onInputKeyDown:h,recordingKey:e,ref:_});return t?l.createElement(ew.Zk,{"data-testid":`scale_panel.state.${s?"disabled":"enabled"}`,className:pF},l.createElement(n$.r,{titleTx:(0,R.tx)("fullscreen.scale_panel.scale"),icon:g}),P,l.createElement(eI.sY,{leftLabel:(0,R.t)("fullscreen.scale_panel.scale"),rightLabel:(0,R.t)("fullscreen.scale_panel.anchor_point"),topLeftInput:b,bottomLeftInput:null,rightInput:S,topIcon:null,bottomIcon:null})):l.createElement(ew.Zk,{"data-testid":`scale_panel.state.${s?"disabled":"enabled"}`},l.createElement(ew.fI,{className:pD},l.createElement(ew.xw,null,(0,R.tx)("fullscreen.scale_panel.scale")),g,S),l.createElement(ew.fI,null,b),P)}function pj(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 9.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0v-5Zm9 0a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0v-5Zm-8-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm.5 8.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5Z",clipRule:"evenodd"}))}var pZ=n(946689),pJ=n(933466),pq=n(700829),p0=n(467213),p1=n(416082),p5=n(423324),p4=n(460528);let p3=(0,o9.ex)("autolayout_v3_migration_info",function(e){let{tooltipText:t}=e,n=(0,m.Gc)(e=>{e.stopPropagation(),l9.Ay.unsafeRedirect("https://help.figma.com/hc/articles/360040451373#Updates_to_Auto_Layout","_blank")});return l.createElement("div",{className:"autolayout_v3_migration_info_tooltip--autolayoutMigration--OQ8zC"},t,l.createElement("a",{onMouseDown:n,rel:"noopener"},(0,R.tx)("fullscreen.properties_panel.migration_tooltip_learn_more")))},e=>({tooltipText:e.getAttribute("data-tooltip-text")}));var p2=n(221537);let p6="alignment_view_v4--indicator--VmKfE",p7="alignment_view_v4--indicatorBaseline--4kxfb",p8="alignment_view_v4--counterCenter--MlF9q";function p9({onClick:e,onDoubleClick:t,onHover:n,...r}){let i=(0,p2.rO)(r.stackPrimaryAlignItems),s="BASELINE"===r.stackCounterAlignItems,a="HORIZONTAL"===r.stackMode?"HORIZONTAL":"VERTICAL",o="WRAP"===r.stackWrap,c="HORIZONTAL"===a?"alignment_view_v4--horizontal--UiniT":"alignment_view_v4--vertical--JVrRJ",d=i?"alignment_view_v4--spaceBetween--RZOdp":"alignment_view_v4--packed--MZMpk",u=(0,Y.hS)(r.stackPrimaryAlignItems)&&(0,Y.hS)(r.stackCounterAlignItems),m=r.primaryHover&&r.counterHover,h=(0,l.useCallback)(e=>{let[n,l]=da(e.target);if(i){let t=e.target.getBoundingClientRect();"HORIZONTAL"===a?n=Math.floor((e.clientX-t.x)/t.width*3):l=Math.floor((e.clientY-t.y)/t.height*3)}t(n,l)},[t,i,a]),E=(0,l.useCallback)(e=>n(...da(e.target)),[n]),_=(0,l.useCallback)(e=>n(null,null),[n]);return l.createElement("div",{className:p()(r.className,"alignment_view_v4--mainContainer--zUBsm",c,d,{"alignment_view_v4--baselineAlign--xLTR2":s}),tabIndex:0,onKeyDown:r.onKeyDown},l.createElement(ds,{baseline:s}),l.createElement(dr,{stackMode:a,spaceBetween:i,baselineAlign:s,onMouseMove:E,onMouseOut:_,onClick:e,onDoubleClick:h}),m&&l.createElement(de,{hover:!0,primaryAlign:r.primaryHover,counterAlign:r.counterHover,isStackWrap:o}),u&&l.createElement(de,{primaryAlign:r.stackPrimaryAlignItems,counterAlign:r.stackCounterAlignItems,isStackWrap:o}),s&&l.createElement(dl,{onClick:r.onRemoveBaseline}))}function de({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:r}){return l.createElement("div",{className:p()("alignment_view_v4--indicatorContainer--ewQnB alignment_view_v4--_centered--S6qQk",t?dn[t]:void 0,n?dt[n]:void 0,{"alignment_view_v4--hover---ncmo":e})},l.createElement("div",{className:p()("alignment_view_v4--indicatorGroup--vlMlW",{"alignment_view_v4--wrap--nsYBR":r})},"BASELINE"===n?(0,p2.rO)(t)?l.createElement(l.Fragment,null,l.createElement("div",{className:p6}),l.createElement("span",{className:p7},"A"),l.createElement("div",{className:p6})):l.createElement("span",{className:p7},"A"):r?l.createElement(l.Fragment,null,l.createElement("div",{className:p6}),l.createElement("div",{className:p6}),l.createElement("div",{className:p6}),l.createElement("div",{className:p6}),l.createElement("div",{className:p6})):l.createElement(l.Fragment,null,l.createElement("div",{className:p6}),l.createElement("div",{className:p6}),l.createElement("div",{className:p6}))))}let dt={MIN:"alignment_view_v4--counterMin--1LPg6",CENTER:p8,MAX:"alignment_view_v4--counterMax--HzBqX",BASELINE:p8},dn={MIN:"alignment_view_v4--primaryMin--DHsQj",CENTER:"alignment_view_v4--primaryCenter--ci9Aj",MAX:"alignment_view_v4--primaryMax--i8kqd",SPACE_EVENLY:"",SPACE_BETWEEN:""};function dl({onClick:e}){let t=dp(),n=dd(),r=2*t/3+2,i=t-9,s=t-5.5;return l.createElement("svg",{className:"alignment_view_v4--baselineControls--cwzcf alignment_view_v4--_centered--S6qQk",width:t,height:t,viewBox:n,fill:"none"},l.createElement("g",{className:"alignment_view_v4--baselineHovered--uY49E","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},l.createElement("rect",{x:"4.5",y:`${r}`,width:`${i}`,height:"14",rx:"2",fill:"var(--color-bg-selected-tertiary, #EDF5FA)"}),l.createElement("line",{x1:"5.5",y1:`${r}`,x2:`${s}`,y2:`${r}`,stroke:"var(--color-bg-brand-hover, #0D99FF)",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1 5"}),l.createElement("line",{x1:"5.5",y1:`${r}`,x2:`${s}`,y2:`${r}`,stroke:"var(--color-bg-tertiary, rgba(0, 0, 0, 0.3))",strokeWidth:"2",strokeLinecap:"round"})))}function dr({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:r,onMouseOut:i,onClick:s,onDoubleClick:a}){let o=dc({stackMode:t,baselineAlign:n,spaceBetween:e});return l.createElement("div",{className:"alignment_view_v4--tooltipGrid--1PH8Z alignment_view_v4--_centered--S6qQk",onMouseMove:r,onMouseOut:i,onClick:s,onDoubleClick:a},o.map((n,r)=>{let i=r%3,s=Math.floor(r/3);return"HORIZONTAL"===t&&e&&(s=i,i=0),l.createElement(di,{key:r,x:i,y:s,..."string"==typeof n?{tooltip:n}:n})}))}function di({x:e,y:t,tooltip:n,below:r}){return l.createElement("div",{"data-x":e,"data-y":t,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":n,"data-tooltip-show-above":!r||void 0})}function ds({baseline:e}){let t=dd(),n=dp(),r=n/3,i=`${r}`,s=`${r/2}`,a=e?r:0,o=e?r:n,c=(0,l.useId)();return l.createElement("svg",{width:n,height:n,viewBox:t,fill:"currentColor"},l.createElement("defs",null,l.createElement("pattern",{id:c,width:i,height:i,patternUnits:"userSpaceOnUse"},l.createElement("circle",{cx:s,cy:s,r:"1"}))),l.createElement("rect",{width:"79",height:o,y:a,fill:`url(#${c})`}))}function da(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}function dc({baselineAlign:e,spaceBetween:t,stackMode:n,isUi3:l}){return e&&t?l?[{tooltip:(0,R.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),below:!0}]:[(0,R.t)("fullscreen.properties_panel.stack_panel.align_baseline")]:e?[{tooltip:(0,R.t)("fullscreen.properties_panel.stack_panel.align_left_baseline"),below:l},{tooltip:(0,R.t)("fullscreen.properties_panel.stack_panel.align_center_baseline"),below:l},{tooltip:(0,R.t)("fullscreen.properties_panel.stack_panel.align_right_baseline"),below:l}]:t?"HORIZONTAL"===n?l?[(0,R.t)("fullscreen.properties_panel.stack_panel.align_top"),(0,R.t)("fullscreen.properties_panel.stack_panel.align_center"),{tooltip:(0,R.t)("fullscreen.properties_panel.stack_panel.align_bottom"),below:!0}]:[(0,R.t)("fullscreen.properties_panel.stack_panel.align_auto_top_gap"),(0,R.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),{tooltip:(0,R.t)("fullscreen.properties_panel.stack_panel.align_auto_bottom_gap"),below:!0}]:l?[(0,R.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,R.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,R.t)("fullscreen.properties_panel.stack_panel.align_right")]:[(0,R.t)("fullscreen.properties_panel.stack_panel.align_auto_left_gap"),(0,R.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),(0,R.t)("fullscreen.properties_panel.stack_panel.align_auto_right_gap")]:[(0,R.t)("fullscreen.properties_panel.stack_panel.align_top_left"),(0,R.t)("fullscreen.properties_panel.stack_panel.align_top_center"),(0,R.t)("fullscreen.properties_panel.stack_panel.align_top_right"),(0,R.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,R.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,R.t)("fullscreen.properties_panel.stack_panel.align_right"),{tooltip:(0,R.t)("fullscreen.properties_panel.stack_panel.align_bottom_left"),below:!0},{tooltip:(0,R.t)("fullscreen.properties_panel.stack_panel.align_bottom_center"),below:!0},{tooltip:(0,R.t)("fullscreen.properties_panel.stack_panel.align_bottom_right"),below:!0}]}let dp=()=>(0,d.jz)("60px"),dd=()=>{let e=dp();return`0 0 ${e} ${e}`},du="alignment_view_v4_ui3--indicatorBaseline--NUe6M",dm="alignment_view_v4_ui3--counterCenter--QC-B7";function dh({onClick:e,onDoubleClick:t,onHover:n,...r}){let i=(0,p2.rO)(r.stackPrimaryAlignItems),s="BASELINE"===r.stackCounterAlignItems,a="HORIZONTAL"===r.stackMode?"HORIZONTAL":"VERTICAL",o="WRAP"===r.stackWrap,c="HORIZONTAL"===a?"alignment_view_v4_ui3--horizontal--2Shqc":"alignment_view_v4_ui3--vertical--zGQMJ",d=i?"alignment_view_v4_ui3--spaceBetween--o3EAq":"alignment_view_v4_ui3--packed--EvdQi",u=(0,Y.hS)(r.stackPrimaryAlignItems)&&(0,Y.hS)(r.stackCounterAlignItems),m=r.primaryHover&&r.counterHover,h=(0,l.useCallback)(e=>{let[n,l]=dw(e.target);if(i){let t=e.target.getBoundingClientRect();"HORIZONTAL"===a?n=Math.floor((e.clientX-t.x)/t.width*3):l=Math.floor((e.clientY-t.y)/t.height*3)}t(n,l)},[t,i,a]),E=(0,l.useCallback)(e=>n(...dw(e.target)),[n]),_=(0,l.useCallback)(e=>n(null,null),[n]);return l.createElement("div",{className:p()(r.className,"alignment_view_v4_ui3--mainContainer---0NcS",c,d,{"alignment_view_v4_ui3--baselineAlign--OxyzT":s}),tabIndex:0,onKeyDown:r.onKeyDown},l.createElement(dv,null),l.createElement(dP,{stackMode:a,spaceBetween:i,baselineAlign:s,onMouseMove:E,onMouseOut:_,onClick:e,onDoubleClick:h}),m&&l.createElement(dE,{hover:!0,primaryAlign:r.primaryHover,counterAlign:r.counterHover,isStackWrap:o}),u&&l.createElement(dE,{primaryAlign:r.stackPrimaryAlignItems,counterAlign:r.stackCounterAlignItems,isStackWrap:o}),s&&l.createElement("div",{className:"alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},l.createElement(dS,{onClick:r.onRemoveBaseline})))}function dE({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:r}){function i(){let e=(0,p2.rO)(t);if("BASELINE"===n)return e?l.createElement(l.Fragment,null,l.createElement("span",{className:du},"A"),l.createElement("span",{className:du},"A"),l.createElement("span",{className:du},"A")):l.createElement("span",{className:du},"A");let i=r&&!e?5:3;return l.createElement(d_,{n:i})}return l.createElement("div",{className:p()("alignment_view_v4_ui3--indicatorContainer--napq- alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",t?dg[t]:void 0,n?dy[n]:void 0,{"alignment_view_v4_ui3--hover--ypG6x":e})},"BASELINE"===n?i():l.createElement("div",{className:"alignment_view_v4_ui3--indicatorGridCell--lp1lH"},l.createElement("div",{className:p()("alignment_view_v4_ui3--indicatorGroup--urXG2",{"alignment_view_v4_ui3--wrap--JWwtI":r})},i())))}function d_({n:e}){return l.createElement(l.Fragment,null,Array.from({length:e},(e,t)=>l.createElement("div",{key:t,className:"alignment_view_v4_ui3--indicator--82j5F"})))}let dy={MIN:"alignment_view_v4_ui3--counterMin--aOx1R",CENTER:dm,MAX:"alignment_view_v4_ui3--counterMax--cCtqr",BASELINE:dm},dg={MIN:"alignment_view_v4_ui3--primaryMin--Q8O6a",CENTER:"alignment_view_v4_ui3--primaryCenter--RzFRC",MAX:"alignment_view_v4_ui3--primaryMax--eMvqL",SPACE_EVENLY:"",SPACE_BETWEEN:""};function dS({onClick:e}){return l.createElement("button",{className:"alignment_view_v4_ui3--baselineControls--xazGW alignment_view_v4_ui3--_centered--MV2if","data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},l.createElement("div",{className:"alignment_view_v4_ui3--baselineControlLine--6BBmA"}))}function dP({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:r,onMouseOut:i,onClick:s,onDoubleClick:a}){let o=dc({stackMode:t,baselineAlign:n,spaceBetween:e,isUi3:(0,eD.R)()});return l.createElement("div",{className:"alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",onMouseMove:r,onMouseOut:i,onClick:void 0,onMouseUp:s,onDoubleClick:a},"HORIZONTAL"===t&&n&&e?l.createElement(db,{tooltips:o}):o.map((n,r)=>{let i=r%3,s=Math.floor(r/3);return"HORIZONTAL"===t&&e&&(s=i,i=0),l.createElement(df,{key:r,x:i,y:s,..."string"==typeof n?{tooltip:n}:n})}))}function db({tooltips:e}){let t=(0,l.useId)(),n=e[0];return null==n?null:l.createElement(l.Fragment,null,l.createElement("div",{"data-tooltip-proxy-element-id":t}),l.createElement(df,{id:t,x:1,y:1,..."string"==typeof n?{tooltip:n}:n}),l.createElement("div",{"data-tooltip-proxy-element-id":t}))}function df({id:e,x:t,y:n,tooltip:r,below:i}){return l.createElement("div",{id:e,"data-x":t,"data-y":n,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":r,"data-tooltip-show-above":!i||void 0})}function dv(){return l.createElement("div",{className:"alignment_view_v4_ui3--dotGrid--N6RPe alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},Array.from({length:9},(e,t)=>l.createElement("div",{className:"alignment_view_v4_ui3--dotGridCell--r7m5y",key:t},l.createElement("div",{key:t,className:"alignment_view_v4_ui3--dot--d5NQx"}))))}function dw(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}var dT=n(232531),dI=n(876618);let dk=["MIN","CENTER","MAX"];function dN({className:e,recordingKey:t}){let n=(0,lf.kl)("stackMode"),s=(0,lf.kl)("stackWrap"),[a,c]=(0,lf.lJ)("stackPrimaryAlignItems"),[p,d]=(0,lf.lJ)("stackCounterAlignItems"),[u,E]=(0,l.useState)(void 0),[_,y]=(0,l.useState)(void 0),g=(0,dI.sR)(),S=(0,dI.uV)(),P=(0,oB.am)(),b=(0,eD.R)(),f=(0,r.d4)(rQ.qd),v=(0,p2.rO)(a),w="BASELINE"===p,T=(0,l.useCallback)((e,t)=>{if(null==e||null==t){E(void 0),y(void 0);return}let l=dC(e,t,n,v),r=dA(e,t,n,w);E(l),y(r)},[n,w,v,E,y]),I=h.rf(t,"click",(0,l.useCallback)(e=>{let t=u,n=_;e&&e.__interactionTest&&(t=e.primaryAlignItems,n=e.counterAlignItems),t&&n&&(v||c(t,rp.zk.NO),d(n),P("Autolayout alignment grid used",{nodeIds:f}))},[u,_,v,d,P,c,f]),{recordMetadata:()=>({primaryAlignItems:u,counterAlignItems:_}),playbackMetadata:e=>({...e,__interactionTest:!0})}),{clearVariableConsumption:k}=(0,dT.O)("STACK_SPACING",i.rXF.FLOAT),N=(0,l.useCallback)((e,t)=>{S(void 0===t||t,e,rp.zk.NO),k()},[S,k]),C=(0,l.useCallback)((e,t)=>{if(v){S(!1,"alignment double click",rp.zk.NO);let l=dC(e,t,n,!1),r=dA(e,t,n,w);E(l),y(r),c(l,rp.zk.NO),d(r),P("Autolayout spacing mode changed",{mode:l,doubleClick:!0})}else N("alignment double click"),d(dA(e,t,n,w))},[N,w,v,d,c,S,n,P]),A=(0,l.useCallback)(()=>{d("CENTER"),P("Disable baseline alignment",{source:"alignment grid"})},[d,P]),O=h.v_(t,"keydown",(0,l.useCallback)(e=>{function t(e){"HORIZONTAL"===n?c(e):d(e)}function l(e){"VERTICAL"===n?c(e):d(e)}function r(e,t){if((0,Y.gl)(e))return"CENTER";let n=dk.indexOf(e);if(-1===n)return null;let l=(0,o.clamp)(n+t,0,dk.length-1);return dk[l]}let i="HORIZONTAL"===n?a:p,s="VERTICAL"===n?a:p;switch(e.keyCode){case m.Uz.ESCAPE:case m.Uz.ENTER:e.currentTarget.blur();break;case m.Uz.UP_ARROW:{let e=r(s,-1);e&&l(e);break}case m.Uz.DOWN_ARROW:{let e=r(s,1);e&&l(e);break}case m.Uz.LEFT_ARROW:{let e=r(i,-1);e&&t(e);break}case m.Uz.RIGHT_ARROW:{let e=r(i,1);e&&t(e);break}case m.Uz.B:"HORIZONTAL"===n&&g("BASELINE"!==p,"alignment keyboard");break;case m.Uz.X:N("alignment keyboard",!(0,p2.rO)(a));break;case m.Uz.W:l("MIN");break;case m.Uz.A:t("MIN");break;case m.Uz.S:l("MAX");break;case m.Uz.D:t("MAX");break;case m.Uz.V:l("CENTER");break;case m.Uz.H:t("CENTER");break;default:(0,ot.jr)(e,ot.W0.YES,ot.VA.YES);return}e.preventDefault()},[N,p,a,g,d,c,n])),M=b?l.createElement(dh,{className:e,stackMode:n,stackWrap:s,stackPrimaryAlignItems:a,stackCounterAlignItems:p,onHover:T,onClick:I,onDoubleClick:C,onKeyDown:O,onRemoveBaseline:A,counterHover:_,primaryHover:u}):l.createElement(p9,{className:e,stackMode:n,stackWrap:s,stackPrimaryAlignItems:a,stackCounterAlignItems:p,onHover:T,onClick:I,onDoubleClick:C,onKeyDown:O,onRemoveBaseline:A,counterHover:_,primaryHover:u});return l.createElement(ny.E,{name:"alignment_view"},M)}function dC(e,t,n,l){return l?(0,u.kc)().ce_stack_justify_space_between?"SPACE_BETWEEN":"SPACE_EVENLY":dk["VERTICAL"===n?t:e]}function dA(e,t,n,l){return l?"BASELINE":dk["VERTICAL"===n?e:t]}var dO=n(630978),dM=n(178466),dR=n(791489),dL=n(931828),dx=n(309798),dD=n(579623),dF=n(280106),dV=n(801161);function dK({onClick:e,onOpen:t,modalKey:n,...i}){let s=(0,r.wA)(),a=(0,sJ.Xo)(),o=(0,l.useRef)(null),c=(0,eD.R)(),p=a?.id===n,d=(0,tm.ZC)(p),u=p?new eq.Mi(a.initialX,a.initialY):null,m=(0,l.useRef)(i.onClose);m.current=i.onClose,(0,l.useEffect)(()=>{d&&!p&&m.current?.()},[p,d]),(0,l.useEffect)(()=>()=>m.current?.(),[]);let E=(0,l.useCallback)(()=>{p&&(s(x.XE()),H.Y5.deselectProperty())},[s,p]),_=(0,l.useCallback)(()=>{if(p)return;e||t?.();let{top:l}=Z.findDOMNode(o.current).getBoundingClientRect();s(x.u1({id:n,initialX:eg.qo,initialY:l}))},[s,p,n,e,t]);(0,l.useEffect)(()=>{null!=i.open&&(i.open?_():E())},[E,_,i.open]);let y=l.createElement(ex.YW,{ref:o,svg:i.svg,fallbackSvg:i.fallbackSvg,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":i.tooltip,onMouseMove:()=>{p&&s(dV.jD())},onMouseDown:e??(e=>{e.stopPropagation(),p?E():_()}),recordingKey:h.Pt(i,"trigger"),selected:p,className:i.buttonClassName},c?i.ui3Icon:void 0),g=i.buttonInteractableName?l.createElement(ny.E,{name:i.buttonInteractableName},y):y,S=p?l.createElement(e1.vx,{title:i.title,initialPosition:u,initialConstraints:{x:"right",y:"top"},headerSize:"small",onClose:E,recordingKey:h.Pt(i,"modal")},i.children):null,P=S&&i.modalTrackableName?l.createElement(ty.p,{name:"stack_layout_details_modal"},S):S;return l.createElement(l.Fragment,null,g,P)}var dU=n(63666),dB=n(70964);let dH="stack_layout_details_preview--stroke--tWkNh",dG="stack_layout_details_preview--strokeLight--RsPk7",dY="stack_layout_details_preview--fill--V74cf",dW="stack_layout_details_preview--fillWhite--uTjlG",dQ="stack_layout_details_preview--fillTertiary--xuwqQ",d$={reverseStackingOrder:function({enabled:e}){let t=[l.createElement("g",{key:"1",filter:"url(#reverse-stacking-order-filter)"},l.createElement("rect",{className:dW,x:"67",y:"40",width:"40",height:"40",rx:"20"}),l.createElement("path",{className:dY,d:"M88.4893 53.9091V67H87.294V55.1619H87.2173L84.1491 57.201V55.9609L87.2429 53.9091H88.4893Z"}),l.createElement("rect",{className:dH,x:"66.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),l.createElement("g",{key:"2",filter:"url(#reverse-stacking-order-filter)"},l.createElement("rect",{className:dW,x:"99",y:"40",width:"40",height:"40",rx:"20"}),l.createElement("path",{className:dY,d:"M114.964 67V66.1243L119.241 61.3175C119.799 60.6868 120.248 60.1477 120.589 59.7003C120.93 59.2528 121.177 58.8395 121.331 58.4602C121.488 58.081 121.567 57.6868 121.567 57.2777C121.567 56.7791 121.45 56.3445 121.216 55.9737C120.986 55.5987 120.668 55.3068 120.263 55.098C119.858 54.8892 119.402 54.7848 118.895 54.7848C118.358 54.7848 117.888 54.8999 117.483 55.13C117.082 55.3601 116.771 55.6754 116.549 56.076C116.328 56.4766 116.217 56.9368 116.217 57.4567H115.073C115.073 56.7322 115.239 56.0909 115.571 55.5327C115.908 54.9702 116.366 54.5291 116.946 54.2095C117.53 53.8899 118.19 53.7301 118.927 53.7301C119.656 53.7301 120.304 53.8878 120.87 54.2031C121.437 54.5142 121.883 54.9382 122.206 55.4751C122.53 56.0121 122.692 56.6129 122.692 57.2777C122.692 57.7592 122.607 58.2259 122.437 58.6776C122.27 59.1293 121.983 59.6321 121.574 60.1861C121.165 60.7401 120.598 61.4176 119.873 62.2188L116.626 65.843V65.9261H123.101V67H114.964Z"}),l.createElement("rect",{className:dH,x:"98.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),l.createElement("g",{key:"3",filter:"url(#reverse-stacking-order-filter)"},l.createElement("rect",{className:dW,x:"131",y:"40",width:"40",height:"40",rx:"20"}),l.createElement("path",{className:dY,d:"M151.048 67.179C150.243 67.179 149.522 67.0341 148.887 66.7443C148.252 66.4503 147.75 66.0433 147.379 65.5234C147.008 65.0036 146.812 64.4048 146.791 63.7273H147.999C148.02 64.2045 148.167 64.6222 148.44 64.9801C148.713 65.3338 149.075 65.6108 149.527 65.8111C149.978 66.0071 150.481 66.1051 151.035 66.1051C151.64 66.1051 152.173 65.9922 152.633 65.7663C153.098 65.5405 153.46 65.2315 153.72 64.8395C153.984 64.4432 154.116 63.9957 154.116 63.4972C154.116 62.9687 153.982 62.5021 153.713 62.0973C153.445 61.6925 153.059 61.3771 152.556 61.1513C152.058 60.9254 151.461 60.8125 150.767 60.8125H150V59.7386H150.767C151.333 59.7386 151.834 59.6364 152.269 59.4318C152.708 59.223 153.053 58.9311 153.304 58.5561C153.556 58.1811 153.681 57.7401 153.681 57.233C153.681 56.7514 153.573 56.3274 153.355 55.9609C153.138 55.5945 152.831 55.3068 152.435 55.098C152.043 54.8892 151.585 54.7848 151.061 54.7848C150.554 54.7848 150.089 54.8828 149.667 55.0788C149.245 55.2749 148.904 55.5518 148.645 55.9098C148.389 56.2678 148.252 56.6918 148.235 57.1818H147.078C147.096 56.5 147.283 55.9013 147.641 55.3857C148.003 54.8658 148.483 54.4609 149.079 54.1712C149.68 53.8771 150.345 53.7301 151.074 53.7301C151.845 53.7301 152.512 53.8878 153.074 54.2031C153.637 54.5185 154.071 54.9382 154.378 55.4624C154.689 55.9822 154.845 56.5554 154.845 57.1818C154.845 57.9276 154.642 58.5668 154.238 59.0994C153.833 59.6278 153.287 59.9943 152.601 60.1989V60.282C153.436 60.4482 154.093 60.8189 154.57 61.3942C155.051 61.9652 155.292 62.6662 155.292 63.4972C155.292 64.196 155.109 64.8246 154.743 65.3828C154.376 65.9368 153.873 66.3757 153.234 66.6996C152.599 67.0192 151.87 67.179 151.048 67.179Z"}),l.createElement("rect",{className:dH,x:"130.5",y:"39.5",width:"41",height:"41",rx:"20.5"}))];return e&&t.reverse(),l.createElement("svg",{width:"240",height:"120",fill:"none"},t,l.createElement("rect",{className:dG,x:"58.5",y:"28.5",width:"123",height:"63",rx:"3.5",strokeDasharray:"4 2"}),l.createElement("defs",null,l.createElement("filter",{id:"reverse-stacking-order-filter",x:"-1px",y:"-1px",width:"44",height:"42",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},l.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),l.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),l.createElement("feOffset",{dx:"2"}),l.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),l.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),l.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1112_23748"}),l.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1112_23748",result:"shape"}))))},alignToBaseline:function(){return l.createElement("svg",{width:240,height:120,fill:"none"},l.createElement("path",{className:p()("stack_layout_details_preview--alignToBaselineLine--Erw5t","stack_layout_details_preview--strokeAssistive--GgFOd"),d:"M38 60.5h164"}),l.createElement("g",{className:"stack_layout_details_preview--alignToBaselineA--kQYyh"},l.createElement("path",{className:dY,d:"M63.8516 67L65.2514 63.0561H70.7486L72.1484 67H73.4013L68.6392 53.9091H67.3608L62.5987 67H63.8516ZM65.6349 61.9822L67.9553 55.4624H68.0447L70.3651 61.9822H65.6349Z"}),l.createElement("rect",{className:dH,x:46.5,y:38.5,width:43,height:43,rx:1.5})),l.createElement("rect",{className:p()("stack_layout_details_preview--alignToBaselineEmpty--Z-l7O",dH),x:98.5,y:38.5,width:43,height:43,rx:1.5}),l.createElement("g",{className:"stack_layout_details_preview--alignToBaselineG--YayQ-"},l.createElement("path",{className:dY,d:"M171.843 68.8864C174.169 68.8864 175.895 67.7486 175.895 65.2557V55.1818H174.783V57.0547H174.668C174.265 56.1726 173.453 55.0476 171.651 55.0476C169.222 55.0476 167.592 57.0803 167.592 60.0653C167.592 63.076 169.279 64.8977 171.632 64.8977C173.396 64.8977 174.259 63.875 174.649 62.9737H174.751V65.1854C174.751 67.0135 173.581 67.8636 171.843 67.8636C170.161 67.8636 169.356 67.0518 168.941 66.304L168.007 66.9176C168.583 68.0426 169.835 68.8864 171.843 68.8864ZM171.766 63.8558C169.816 63.8558 168.736 62.2962 168.736 60.0462C168.736 57.8345 169.797 56.0831 171.766 56.0831C173.69 56.0831 174.77 57.745 174.77 60.0462C174.77 62.4176 173.658 63.8558 171.766 63.8558Z"}),l.createElement("rect",{className:dH,x:150.5,y:38.5,width:43,height:43,rx:1.5})),l.createElement("rect",{className:p()("stack_layout_details_preview--alignToBaselineOutline--YlRIY",dG),x:38.5,y:30.5,width:163,height:59,rx:3.5,strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))},bordersTakeSpace:function(){return l.createElement("svg",{width:240,height:120,fill:"none"},l.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceLeft--WTfPZ"},l.createElement("rect",{className:dQ,x:"43",y:"37",width:"48",height:"48",rx:"2"}),l.createElement("rect",{className:dW,x:"49",y:"43",width:"36",height:"36",rx:"2"})),l.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceRight--QCBF1"},l.createElement("rect",{className:dQ,x:"98",y:"37",width:"99",height:"48",rx:"2"}),l.createElement("rect",{className:dW,x:"104",y:"43",width:"87",height:"36",rx:"2"})),l.createElement("rect",{className:p()("stack_layout_details_preview--bordersTakeSpaceOutline--Xq42w",dG),x:"48.5",y:"42.5",width:"143",height:"37",rx:"1.5",strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))}};function dz({setting:e,enabled:t}){let n=e?d$[e]:null;return l.createElement("div",{className:p()("stack_layout_details_preview--preview---r9k-",{"stack_layout_details_preview--active--yCMB3":t}),"data-non-interactive":!0},n?l.createElement(n,{enabled:t}):l.createElement("div",{className:"stack_layout_details_preview--previewText--0NBYb"},(0,R.tx)("fullscreen.properties_panel.stack_panel.preview")))}let dX="stack_layout_details_modal--dropdownControl--PRPD5",dj="stack_layout_details_modal--onboardingBody--SQp9T",dZ="stack_layout_details_modal--input--h2Yc7",dJ="stack_layout_details_modal--chevron--tW9wo";var dq=n(769502);let d0="seen_stack_spacing_auto_onboarding";function d1(e){let[t,n]=(0,l.useState)(!1),[r,i]=(0,l.useState)({enabled:!1}),s=(0,eD.R)()?(0,R.t)("fullscreen.properties_panel.section_autoLayout.settings"):(0,R.t)("fullscreen.properties_panel.stack_panel.advanced_layout");return l.createElement(l.Fragment,null,l.createElement(dK,{title:s,tooltip:s,modalKey:"LAYOUT_DETAILS_PICKER",buttonInteractableName:"open_stack_layout_details_modal_button",modalTrackableName:"stack_layout_details_modal",svg:a5.A,ui3Icon:l.createElement(tW.A,null),buttonClassName:dq.Sj,recordingKey:e.recordingKey,onClose:()=>{setTimeout(()=>{n(!0)},250)}},l.createElement(dz,{setting:r.setting,enabled:r.enabled}),l.createElement("div",{className:"stack_layout_details_modal--controls--SFjhS"},l.createElement(d3,{updatePreview:i,recordingKey:e.recordingKey}),l.createElement(d5,{updatePreview:i,recordingKey:e.recordingKey}),l.createElement(d4,{updatePreview:i,recordingKey:e.recordingKey}))),t&&l.createElement(d7,{onDismiss:()=>n(!1)}))}function d5({updatePreview:e,recordingKey:t}){let n=(0,r.wA)(),i=(0,t0.Um)(),[s,a]=(0,lf.lJ)("stackReverseZIndex"),o=(0,oB.am)(),c=(0,r.d4)(rQ.qd),p=(0,tP.GS)(),d=dM.Gq()?.getPrimaryLocale(!0)===dR.Xn?120:180,u=!0===s;return l.createElement(ny.E,{name:"stacking_order_control"},l.createElement(dD.L,{label:(0,R.t)("fullscreen.properties_panel.stack_panel.canvas_stacking_order"),onMouseEnter:()=>e({setting:"reverseStackingOrder",enabled:u}),onMouseLeave:()=>e({enabled:!1})},l.createElement(nG.l6,{id:"reverse-stacking-order-select",dispatch:n,className:dX,inputClassName:dZ,chevronClassName:dJ,textAlign:p?void 0:"right",property:s,formatter:d2,onChange:e=>{a(e),o(e?"Enable reverse zIndex":"Disable reverse zIndex",{nodeIds:c})},recordingKey:h.Pt(t,"reverseStackingOrder"),dropdownShown:i,dropdownAlignment:"right",dropdownWidth:d,onOptionFocus:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:!!t})},l.createElement(nG.c$,{value:!0}),l.createElement(nG.c$,{value:!1}))))}function d4({updatePreview:e,recordingKey:t}){let n=(0,lf.kl)("stackMode"),r="BASELINE"===(0,lf.kl)("stackCounterAlignItems"),i="HORIZONTAL"!==n,s=(0,dI.sR)();return l.createElement(ny.E,{name:"baseline_alignment_control"},l.createElement(dF.k,{label:(0,R.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),recordingKey:h.Pt(t,"alignToBaseline"),property:r,disabled:i,onChange:t=>{s(t,"modal"),e({setting:"alignToBaseline",enabled:t})},onFocus:t=>{e({setting:"alignToBaseline",enabled:r})},onHover:(t,n)=>{e({setting:"ENTER"===n?"alignToBaseline":void 0,enabled:t})},"data-tooltip":i?(0,R.t)("fullscreen.properties_panel.stack_panel.only_applicable_for_horizontal_layout"):void 0,"data-tooltip-type":ey.Ib.TEXT}))}function d3({updatePreview:e,recordingKey:t}){let n=(0,r.wA)(),i=(0,t0.Um)(),[s,a]=(0,lf.lJ)("bordersTakeSpace"),o=(0,oB.am)(),c=(0,r.d4)(rQ.qd),p=(0,tP.GS)(),d=!0===s;return l.createElement(ny.E,{name:"borders_take_space_control"},l.createElement(dD.L,{label:(0,R.t)("fullscreen.properties_panel.stack_panel.borders_take_space"),onMouseEnter:()=>e({setting:"bordersTakeSpace",enabled:d}),onMouseLeave:()=>e({enabled:!1})},l.createElement(nG.l6,{id:"borders-take-space-select",dispatch:n,className:dX,inputClassName:dZ,chevronClassName:dJ,dropdownWidth:168,textAlign:p?void 0:"right",property:d,formatter:d6,onChange:e=>{a(e),o("change_borders_take_space",{enabled:e,source:"modal",nodeIds:c})},recordingKey:h.Pt(t,"bordersTakeSpace"),dropdownShown:i,onOptionFocus:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:!!t})},l.createElement(nG.c$,{value:!0}),l.createElement(nG.c$,{value:!1}))))}let d2={format:e=>e?(0,R.t)("fullscreen.properties_panel.stack_panel.first_on_top"):(0,R.t)("fullscreen.properties_panel.stack_panel.last_on_top")},d6={format:e=>e?(0,R.t)("fullscreen.properties_panel.stack_panel.included"):(0,R.t)("fullscreen.properties_panel.stack_panel.excluded"),formatExtended:e=>({text:e?(0,R.t)("fullscreen.properties_panel.stack_panel.included_in_layout"):(0,R.t)("fullscreen.properties_panel.stack_panel.excluded_from_layout")})};function d7({onDismiss:e}){let t=(0,r.wA)();return(0,dx.f)(d0)?null:l.createElement(dU.OA,{targetKey:"stack-spacing-input",shouldNotWrapInParagraphTag:!0,dismissModal:()=>{t(dL.b({[d0]:!0})),e()},background:"light",width:268,title:(0,R.tx)("fullscreen.properties_panel.stack_panel.gap_onboarding_title"),secondaryCtaText:l.createElement("a",{href:"https://help.figma.com/hc/articles/360040451373-Explore-auto-layout-properties#spacing-between",target:"_blank",style:{textDecoration:"none"}},(0,R.tx)("general.learn_more")),onClickSecondaryCta:lx.lQ,ctaText:(0,R.tx)("general.got_it"),onClickPrimaryCta:e,arrowPosition:e1.F_.RIGHT_TITLE},l.createElement(dB.Gv,{containerClassName:"stack_layout_details_modal--onboardingImg--4Uak-",src:"https://static.figma.com/uploads/94241d15e9d47a0c73734ae71850674f78cd4ab0"}),l.createElement("p",{className:dj},(0,R.tx)("fullscreen.properties_panel.stack_panel.gap_onboarding_body1",{gapBetweenItems:l.createElement("strong",null,(0,R.tx)("fullscreen.properties_panel.stack_panel.gap_items"))})),l.createElement("p",{className:dj},(0,R.tx)("fullscreen.properties_panel.stack_panel.gap_onboarding_body2",{auto:l.createElement("strong",null,(0,R.tx)("fullscreen.properties_panel.stack_panel.auto"))})))}var d8=n(695342),d9=n(729943),ue=n(253781);function ut(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 7h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5ZM6 7.5A1.5 1.5 0 0 1 7.5 6h2A1.5 1.5 0 0 1 11 7.5v2A1.5 1.5 0 0 1 9.5 11h-2A1.5 1.5 0 0 1 6 9.5v-2Zm8.5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5Zm-1.5.5A1.5 1.5 0 0 1 14.5 6h2A1.5 1.5 0 0 1 18 7.5v2a1.5 1.5 0 0 1-1.5 1.5h-2A1.5 1.5 0 0 1 13 9.5v-2ZM9.5 14h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13h-2Zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function un(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-9-1A1.5 1.5 0 0 0 6 7.5v2A1.5 1.5 0 0 0 7.5 11h9A1.5 1.5 0 0 0 18 9.5v-2A1.5 1.5 0 0 0 16.5 6h-9Zm2 8h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13h-2Zm10.384 1.32a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function ul(e){let{propertiesPanelShouldShowRemoveAutoLayout:t}=uE(),n=t?(0,R.t)("fullscreen.properties_panel.stack_panel.remove_auto_layout"):(0,R.t)("fullscreen.properties_panel.stack_panel.use_auto_layout"),{actionEnabledStackSelection:r,actionEnabledUnstackSelection:i}=uE(),s=t?i:r,a=t?"unstack-selection":"stack-selection",o=(0,l.useCallback)(()=>{H.Y5.triggerActionInUserEditScope(a,{source:"panel"})},[a]);return l.createElement(ex.YW,{"aria-label":n,"data-tooltip":n,"data-tooltip-type":ey.Ib.TEXT,"data-tooltip-shortcut-key":a,selected:t,showTooltipWhenSelectedIsTrue:!0,disabled:!s,onClick:o,recordingKey:h.Pt(e.recordingKey,t?"removeButton":"addButton")},l.createElement(ur,null))}function ur(){let e=(0,lf.kl)("stackMode"),t=(0,lf.kl)("stackWrap"),{propertiesPanelShouldShowRemoveAutoLayout:n}=uE();if(!n)return l.createElement(d9.Q,null);if((0,Y.gl)(e)||null==e||(0,Y.gl)(t))return l.createElement(ue.v,null);if("WRAP"===t)return l.createElement(ut,null);switch(e){case"NONE":case"HORIZONTAL":return l.createElement(ue.v,null);case"VERTICAL":return l.createElement(un,null)}}var ui=n(258890),us=n(996620),ua=n(689606),uo=n(957069),uc=n(733982);function up(e){return l.createElement(ty.p,{name:"stack_panel"},l.createElement(ud,{...e}))}let ud=l.memo(e=>{let{version:t}=(0,et.DP)();return"ui3"===t?l.createElement(um,{...e}):l.createElement(uu,{...e})});function uu(e){let{showMigrationUi:t,actionEnabledStackSelection:n,actionEnabledUnstackSelection:r,propertiesPanelShouldShowRemoveAutoLayout:i,wrappingEnabled:s}=uE();return l.createElement(ew.Zk,null,l.createElement(az,{title:(0,R.tx)("fullscreen.properties_panel.stack_panel.auto_layout"),addProperty:()=>{H.Y5.triggerActionInUserEditScope("stack-selection",{source:"panel"})},removeProperty:()=>{H.Y5.triggerActionInUserEditScope("unstack-selection",{source:"panel"})},contentsVisibleOrMixed:e.onlyStacksSelected,showButton:i?"-":"+",minusDisabled:!r,plusDisabled:!n,recordingKey:e.recordingKey,dataTestId:"open-stack-panel"},t?l.createElement(uy,null):l.createElement(l.Fragment,null,l.createElement(ew.fI,{className:s?dq.TE:dq.mm},l.createElement(ug,{recordingKey:e.recordingKey}),l.createElement("div",{className:dq.T$},l.createElement(dN,{recordingKey:h.Pt(e,"alignment")})),l.createElement(d1,{recordingKey:h.Pt(e,"stackLayoutDetails")}),l.createElement(uS,{recordingKey:e.recordingKey}),s&&l.createElement(uP,{recordingKey:e.recordingKey})),l.createElement(ub,{recordingKey:e.recordingKey}))))}function um(e){let t=e.onlyStacksSelected?(0,R.tx)("fullscreen.properties_panel.stack_panel.auto_layout"):(0,R.tx)("fullscreen.properties_panel.stack_panel.layout"),n=(0,nD.J2)(i.Ez5.propertiesPanelState().shownPropertiesPanels),s=(0,r.d4)(e=>e.mirror.selectionProperties),a=(0,a8.aW)(n,void 0,s,void 0),o=(0,r.d4)(e=>!((0,w.P)(e.selectedView)&&!(0,f.Yh)(e.mirror.appModel,"resize-to-fit")));return l.createElement(ew.Zk,{"data-onboarding-key":p4.W},l.createElement(n$.Wv,{titleTx:t},o&&l.createElement(s$.hw,{recordingKey:h.Pt(e,"frameFitButton")}),a?l.createElement(ul,{recordingKey:e.recordingKey}):void 0),l.createElement(uh,{...e}))}function uh({onlyStacksSelected:e,onlyShowResizingRow:t,recordingKey:n}){let{showMigrationUi:r,wrappingEnabled:s,textAutoResize:a,missingFont:o}=uE(),c=(0,l0.Df)(),p=(0,sT.o3)(sT.nt.ui3ClipContentControl),d=(0,l.useRef)(null),u=(0,lf.kl)("nodesAreAllInsideStacks"),m=(0,nD.J2)(i.Ez5.propertiesPanelState().enabledTypePanelControls),E=!!H.Y5?.isFontListLoaded(),_=(0,lf.kl)("numSelectedByType"),y=(0,U.vx)(_,"TEXT"),g="transformPanel",S=l.createElement(l.Fragment,null,l.createElement(s8.Ws,{recordingKey:g,forwardedRef:d}),l.createElement(p0.J,{visible:!!(e||u),widthHeightRowRef:d})),P=c.fixedFrameOptions&&l.createElement(pJ.u,{recordingKey:n}),b=y&&l.createElement("div",{className:dq.Z2},l.createElement(p1.f,{disabled:!E||!!o,enabledTypePanelControls:m,textAutoResize:a,recordingKey:n})),f=l.createElement(pq.e,{recordingKey:g});return!e||t?l.createElement(l.Fragment,null,S,b,!p&&P,f,p&&P):l.createElement(l.Fragment,null,r?l.createElement(uy,null):l.createElement(l.Fragment,null,S,l.createElement(eI.sY,{topLeftInput:l.createElement(ug,{recordingKey:n}),rightInput:l.createElement(dN,{recordingKey:h.Pt(n,"alignment")}),leftLabel:s?(0,R.tx)("fullscreen.properties_panel.section_autoLayout.label_direction"):(0,R.tx)("fullscreen.properties_panel.section_autoLayout.label_direction_and_gap"),rightLabel:(0,R.tx)("fullscreen.properties_panel.section_autoLayout.label_alignment"),bottomLeftInput:s?null:l.createElement(uS,{recordingKey:n}),topIcon:l.createElement(d1,{recordingKey:h.Pt(n,"stackLayoutDetails")}),bottomIcon:null}),s?l.createElement(eI.fn,{leftInput:l.createElement(uS,{recordingKey:n}),rightInput:l.createElement(uP,{recordingKey:n}),icon:null,leftLabel:(0,R.tx)("fullscreen.properties_panel.section_autoLayout.label_gap"),rightLabel:null}):null,l.createElement(ub,{recordingKey:n}),!p&&l.createElement(pJ.u,{recordingKey:n}),f,p&&l.createElement(pJ.u,{recordingKey:n})))}function uE(){return(0,iv.R)(e=>{let{mirror:{appModel:t,selectionProperties:{propertiesPanelShouldShowRemoveAutoLayout:n,containsStacksNeedingAlignmentMigration:l,stackMode:r,stackWrap:i,textAutoResize:s,missingFont:a}}}=e;return{showMigrationUi:l,actionEnabledStackSelection:(0,f.Yh)(t,"stack-selection"),actionEnabledMultiStackSelection:(0,f.Yh)(t,"run-multi-stack-auto-layout"),actionEnabledUnstackSelection:(0,f.Yh)(t,"unstack-selection"),propertiesPanelShouldShowRemoveAutoLayout:n,wrappingEnabled:("HORIZONTAL"===r||(0,Y.gl)(r))&&("WRAP"===i||(0,Y.gl)(i)),textAutoResize:s,missingFont:a}})}let u_=!1;function uy(){let e;let t=(0,oB.am)(),[n,r]=(0,l.useState)(!1),{isOrInInstance:s,containsComponents:a}=(0,iv.R)(e=>{let{isInstanceSelected:t,isInstanceSublayerSelected:n,numSelectedByType:l}=e.mirror.selectionProperties;return{isOrInInstance:!!(t||n),containsComponents:!!l&&!!l.SYMBOL}});(0,l.useEffect)(()=>{u_||(t("stack_v2_migration_info_shown"),u_=!0)},[t]),(0,tb.f4)(()=>{r(!1)});let o=(0,l.useCallback)(()=>{let e=i.AlE.getActiveCanvas();eE.l7.user("update-stack-to-alv3",()=>{i.Qa7.updateStackToAutoLayoutV3(e,i.Ez5.bigNudgeAmount())}),H.Y5.triggerAction("commit"),r(!0),t("stack_v2_migration_updated")},[t]),c=(0,l.useCallback)(e=>{H.Y5.triggerActionInUserEditScope("undo"),r(!1)},[]);if(n)return l.createElement(ew.fI,{className:dq.A5},l.createElement("span",{className:dq.Yv},(0,R.tx)("fullscreen.properties_panel.stack_panel.auto_layout_updated")),l.createElement("a",{className:dq._V,onClick:c},(0,R.tx)("fullscreen.properties_panel.stack_panel.undo")));let p=i.AlE.getActiveCanvas(),d=i.Qa7.isOrInInstanceWithDeprecatedAlignmentOverride(p);return e=s?d?(0,R.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance_overrides"):(0,R.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance"):a?(0,R.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_components"):(0,R.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version"),l.createElement(ew.fI,{className:dq.A5},l.createElement("div",{className:dq.Yv},(0,R.tx)("fullscreen.properties_panel.stack_panel.new_auto_layout_version_available"),l.createElement(eO.B,{className:dq.zp,svg:uc.A,"data-tooltip-type":ey.Ib.SPECIAL,"data-tooltip":p3,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-text":e})),l.createElement(pZ.nR,{onClick:o,className:dq.RM,type:"button",disabled:s&&!d},(0,R.tx)("fullscreen.properties_panel.stack_panel.update")))}function ug(e){let t=(0,rR.Zr)("unstack-selection"),n=(0,lf.kl)("stackMode"),s=(0,lf.kl)("stackWrap"),{version:a}=(0,et.DP)(),o=(0,oB.am)(),c=(0,r.d4)(rQ.qd),p="ui2"===a?dq.N:dq.O_;return l.createElement(ny.E,{name:"stack_mode_control"},l.createElement("div",{className:p,"data-onboarding-key":"stack-mode-control"},l.createElement(oS.I,{property:"HORIZONTAL"===n&&"WRAP"===s?"WRAP":n,onChange:e=>{o("Stack Mode Changed",{stackMode:e,nodeIds:c}),eE.l7.user("set-stack-mode",()=>i.Qa7.setStackModeAndFlipPrimaryAndCounterAxisValues(e))},recordingKey:h.Pt(e,"stackMode"),disabled:!t},l.createElement(oS.Y,{svg:us.A,value:"VERTICAL",tooltip:(0,R.t)("fullscreen.properties_panel.stack_panel.vertical_direction")}),l.createElement(oS.Y,{svg:ui.A,value:"HORIZONTAL",tooltip:(0,R.t)("fullscreen.properties_panel.stack_panel.horizontal_direction")}),l.createElement(oS.Y,{svg:uo.A,value:"WRAP",tooltip:(0,R.t)("fullscreen.properties_panel.stack_panel.wrap")}))))}function uS(e){let t=(0,p2.Wx)(),n=(0,p2.Y9)(),{version:r}=(0,et.DP)(),s="ui2"===r?dq.Kz:void 0;return l.createElement(ny.E,{name:"stack_spacing_control"},l.createElement(nY.KI,{outerClassName:s,onFocus:()=>t(i.RN9.SPACING,!0),onBlur:()=>t(i.RN9.SPACING,!1),onScrubBegin:()=>t(i.RN9.SPACING,!0),onScrubEnd:()=>t(i.RN9.SPACING,!1),onMouseEnter:()=>n(i.RN9.SPACING,!0),onMouseLeave:()=>n(i.RN9.SPACING,!1),onNudge:()=>i.glU.temporarilyHideOverlay(i.hJs.SELECTION),recordingKey:h.Pt(e,"stackSpacing"),source:"panel",onboardingKey:"stack-spacing-input"}))}function uP(e){let t=(0,p2.Wx)(),n=(0,p2.Y9)(),{version:r}=(0,et.DP)(),s="ui3"===r?void 0:dq.UN;return l.createElement(ny.E,{name:"stack_counter_spacing_input"},l.createElement(dO.q,{outerClassName:s,onFocus:()=>t(i.RN9.COUNTER_SPACING,!0),onBlur:()=>t(i.RN9.COUNTER_SPACING,!1),onScrubBegin:()=>t(i.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>t(i.RN9.COUNTER_SPACING,!1),onMouseEnter:()=>n(i.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>n(i.RN9.COUNTER_SPACING,!1),onNudge:()=>i.glU.temporarilyHideOverlay(i.hJs.SELECTION),recordingKey:h.Pt(e,"stackCounterSpacing"),inputTestId:"stack-counter-spacing",source:"panel"}))}function ub({recordingKey:e}){let[t,n]=(0,l.useState)(!1),[s,a]=(0,l.useState)(!1),o=(0,d8.U)(),{version:c}=(0,et.DP)();(0,tb.f4)(e=>{let{stackHorizontalPadding:t,stackPaddingRight:l,stackVerticalPadding:r,stackPaddingBottom:i}=e.mirror.selectionProperties,s=(0,Y.q)(t,l),a=(0,Y.q)(r,i);n((0,Y.gl)(s)||(0,Y.gl)(a)||o)});let p=(0,oB.am)(),d=(0,r.d4)(rQ.qd),u=(0,eD.R)(),E=()=>{n(!t),i.Qa7.setFocusStackPanelInput(i.RN9.PADDING_ALL,!1),p(t?"Disable autolayout independent padding":"Enable autolayout independent padding",{nodeIds:d})},_=u?l.createElement(n_.d,{onClick:E,toggled:t,actionOnPointerDown:!0,"aria-label":(0,R.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),recordingKey:h.Pt(e,"showAllPaddingControls"),htmlAttributes:{"data-tooltip":(0,R.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),"data-tooltip-type":ey.Ib.TEXT,"data-test-id":"stack-padding-toggle"}},l.createElement(pj,null)):l.createElement(cC.m,{"data-tooltip-type":ey.Ib.TEXT,"aria-label":(0,R.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),"data-tooltip":(0,R.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),recordingKey:h.Pt(e,"showAllPaddingControls"),"data-test-id":"stack-padding-toggle",onMouseDown:E,svg:ua.A,toggled:t,className:dq.NC});return l.createElement(ny.E,{name:"stack_padding_controls"},l.createElement("ui3"===c?uv:uf,{showAllPaddingControls:t,showSinglePaddingControl:s,setShowSinglePaddingControl:a,recordingKey:e,handleClick:function(e){(0,m.Fo)(e)&&a(!0)},showAllPaddingControlsToggle:_}))}function uf({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:r,handleClick:i,showAllPaddingControlsToggle:s}){return l.createElement(ew.fI,{heightMultiplier:e&&!t?2:void 0},t?l.createElement(uw,{className:dq.mR,paddingSelection:p2.mx.ALL,setShowSinglePaddingControl:n,focusOnMount:!0,recordingKey:r}):e?l.createElement(l.Fragment,null,l.createElement(uw,{className:p()(dq.oH,dq.aO),paddingSelection:p2.mx.LEFT,onClick:i,recordingKey:r,inputTestId:"padding-left"}),l.createElement(uw,{className:p()(dq.oH,dq.uH),paddingSelection:p2.mx.RIGHT,onClick:i,recordingKey:r,inputTestId:"padding-right"}),l.createElement(uw,{className:p()(dq.T1,dq.aO),paddingSelection:p2.mx.TOP,onClick:i,recordingKey:r,inputTestId:"padding-top"}),l.createElement(uw,{className:p()(dq.T1,dq.uH),paddingSelection:p2.mx.BOTTOM,onClick:i,recordingKey:r,inputTestId:"padding-bottom"})):l.createElement(l.Fragment,null,l.createElement(uw,{className:dq.oH,paddingSelection:p2.mx.HORIZONTAL,onClick:i,recordingKey:r,inputTestId:"padding-horizontal"}),l.createElement(uw,{className:dq.T1,paddingSelection:p2.mx.VERTICAL,onClick:i,recordingKey:r,inputTestId:"padding-vertical"})),s)}function uv({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:r,handleClick:i,showAllPaddingControlsToggle:s}){return l.createElement(p5.W,{showAllPaddingControls:e,showSinglePaddingControl:t,singleInput:l.createElement(uw,{paddingSelection:p2.mx.ALL,focusOnMount:!0,recordingKey:r,setShowSinglePaddingControl:n}),collapsedLeftInput:l.createElement(uw,{paddingSelection:p2.mx.HORIZONTAL,onClick:i,recordingKey:r,inputTestId:"padding-horizontal"}),collapsedRightInput:l.createElement(uw,{paddingSelection:p2.mx.VERTICAL,onClick:i,recordingKey:r,inputTestId:"padding-vertical"}),expandedTopLeftInput:l.createElement(uw,{paddingSelection:p2.mx.LEFT,onClick:i,recordingKey:r}),expandedBottomLeftInput:l.createElement(uw,{paddingSelection:p2.mx.RIGHT,onClick:i,recordingKey:r}),expandedTopRightInput:l.createElement(uw,{paddingSelection:p2.mx.TOP,onClick:i,recordingKey:r}),expandedBottomRightInput:l.createElement(uw,{paddingSelection:p2.mx.BOTTOM,onClick:i,recordingKey:r}),topIcon:s,leftLabel:(0,R.tx)("fullscreen.properties_panel.section_autoLayout.label_padding"),rightLabel:null,bottomIcon:null})}function uw({className:e,paddingSelection:t,recordingKey:n,inputTestId:r,onClick:s,onBlur:a,focusOnMount:o,setShowSinglePaddingControl:c}){let p=(0,p2.Wx)(),d=(0,p2.Y9)();return l.createElement(d8.s,{outerClassName:e,paddingSelection:t,focusOnMount:o,onFocus:()=>i.Qa7.setFocusStackPanelInput(t,!0),onBlur:e=>{i.Qa7.setFocusStackPanelInput(t,!1),a?.(e)},onMouseEnter:()=>d(t,!0),onMouseLeave:()=>d(t,!1),onClick:s,onScrubBegin:()=>p(t,!0),onScrubEnd:()=>p(t,!1),onNudge:()=>i.glU.temporarilyHideOverlay(i.hJs.SELECTION),setShowSinglePaddingControl:c,recordingKey:h.Pt(n,"stackPadding",p2.mx[t]),inputTestId:r,source:"panel"})}var uT=n(7723);let uI="template-controls-picker";var uk=n(929077);function uN(){let{sceneNodesToEdit:e,description:t}=(0,iv.R)(e=>({sceneNodesToEdit:(0,rQ.F4)(e),description:e.mirror.selectionProperties.description})),n="string"==typeof t?t:"",r=l.useCallback(t=>{eE.l7.user("set-description",()=>{for(let n of e)n.setDescriptionRich(t)})},[e]),i=l.useCallback(()=>{H.Y5.commit()},[]);return l.createElement("div",{className:"template_controls_menu--descriptionContainer--pRK0M"},l.createElement(uk.A,{description:n,isViewOnly:!1,placeholder:(0,R.t)("design_systems.template_panel.template_placeholder"),onBlur:i,onSubmit:r}))}function uC(){let e=(0,r.wA)(),t=(0,r.d4)(e=>e.pickerShown),n=new eq.Mi(t?.initialX,t?.initialY);return t?.id!==uI?null:l.createElement(e1.vx,{autoflowHeight:!0,headerSize:"small",initialPosition:n,initialWidth:320,onClose:()=>{e(x.XE())},scrollOverflow:!1,title:(0,R.t)("design_systems.template_panel.template_controls")},l.createElement(uN,null))}var uA=n(400439),uO=n(832039),uM=n(691151),uR=n(999918);let uL=l.memo(function(){let{containingTemplate:e,pickerShown:t,templateDescription:n}=(0,iv.R)(e=>({containingTemplate:(0,e2._k)(e),pickerShown:e.pickerShown,templateDescription:e.mirror.selectionProperties.description??""})),i=(0,r.d4)(e_.Dr),s=(0,r.d4)(e_.cB),a=l.useRef(null),o=(0,r.wA)(),c=l.useCallback((e,t,n=eg.qo)=>{if(!a)return;let l=Z.findDOMNode(a.current),r=(0,eg.cn)(l,n);o(x.u1({id:t,initialX:r.x,initialY:r.y})),o(g.sw()),o(x.Uv())},[o]),p=l.useCallback(e=>{t?.id===uI?o(x.XE()):c(e,uI,320)},[t,o,c]);return e&&e.isAlive()?l.createElement(ew.Zk,{ref:a},l.createElement(ew.fI,{className:aS.LO},l.createElement(uT.R,{guid:e.guid,value:e.name,canEdit:!0,icon:l.createElement(eO.B,{svg:uM.A,className:uO.Kk}),editAction:"rename-template"}),l.createElement("span",{className:uA.MC},l.createElement(ex.YW,{className:uA.UW,selected:t?.id===uI,onClick:p,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":ey.Ib.TEXT,"data-tooltip":(0,R.t)("design_systems.template_panel.template_controls"),svg:uR.A,recordingKey:"templateControls"}))),l.createElement(ef.n,{description:n}),i&&s&&l.createElement(ev.x,null),l.createElement(uC,null)):null});var ux=n(333483);function uD({onExpand:e}){return l.createElement(ew.Zk,{"data-testid":"toggle-simplified-panels",className:ux.aW},l.createElement(cK.z,{onClick:e,recordingKey:"toggleSimplifiedPanels"},(0,R.tx)("design_systems.component_properties.show_more_properties")))}var uF=n(903994);class uV extends h.o6{constructor(){super(...arguments),this.onMouseDown=h.cZ(this,"mousedown",()=>{H.Y5.deselectProperty(),this.props.dispatch(x.XE()),this.props.dispatch((0,D.vq)()),this.props.dispatch(g.sw()),this.props.dispatch(x.Uv())}),this.onContextMenu=e=>{let t=e.target;if(t){let n=t.tagName,l=t.type;n&&"INPUT"===n.toUpperCase()&&l&&"TEXT"===l.toUpperCase()||t.isContentEditable||e.preventDefault()}},this._framePresetPanel=new z.H4(()=>l.createElement(s$.nl,{key:"frame-presets",dispatch:this.props.dispatch,expandedFramePresetType:this.props.expandedFramePresetType,recordingKey:"framePresetPanel"})),this._pencilToolPanel=new z.H4(()=>l.createElement(a6,{key:"pencilToolPanel",id:"pencilToolPanel",openFile:this.props.openFile,recordingKey:"pencilToolPanel"})),this._canvasBackgroundPanel=new z.H4(()=>{let e=this.props.selectionProperties;return l.createElement(sK,{key:"canvas-background",backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,exportBackgroundDisabled:e.exportBackgroundDisabled,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,editModeType:this.props.appModel.activeCanvasEditModeType,pickerShown:this.props.pickerShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,library:this.props.library,openFile:this.props.openFile,recordingKey:"canvasBackgroundPanel",currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,defaultColor:W.rC,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,hasExports:!!e.exportSettings&&(0,Y._W)(e.exportSettings,[]).length>0})}),this._viewOnlyFlowsPanel=new z.H4(()=>l.createElement(nh.A,{viewOnly:!0})),this._localStylesPanel=new z.H4(e=>l.createElement(np,{key:e,scrollContainer:this.props.scrollContainer,recordingKey:e})),this._transformPanel=new z.H4(()=>l.createElement(s8.zq,{key:"transform",propertiesPanelState:this.props.panelState,recordingKey:"transformPanel",pickerShown:this.props.pickerShown,openFileKey:this.props.openFile?.key||null,canEditConstraints:this.props.isUI3&&this.shouldShowConstraintsResizingPanel(),onlyShowXYInputsRow:this.props.isUI3&&(this.props.panelState===I.GR.DEFAULT_SIMPLIFIED||(this.selectionProperties().areOnlyResponsiveSetsSelected??!1))})),this._vectorPanel=new z.H4(()=>{let e=this.selectionProperties(),t=this.props.isUI3;return l.createElement(s8.Ss,{key:"vector-transform",x:e.x,y:e.y,cornerRadius:e.cornerRadius,handleMirroring:e.handleMirroring,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"vectorTransformPanel",isUI3:t})}),this._liveObjectPanel=new z.H4(()=>l.createElement(aU.cI,{key:"live-object",recordingKey:"liveObjectPanel",pasteSources:this.props.selectionProperties.pasteSources})),this._instancePanel=new z.H4(()=>{let e=this.props.selectionProperties;return l.createElement(sz._,{key:"instance",symbolGUIDsBackingSelection:e.symbolGUIDsBackingSelection,resettableInstanceOverridesMap:e.resettableInstanceOverrides,stateGroupSelectionInfo:e.stateGroupSelectionInfo,recordingKey:"instancePanel"})}),this._constraintsResizingPanel=new z.H4(()=>l.createElement(sY,{key:"constraints",openFileKey:this.props.openFile?.key||null,dropdownShown:this.props.dropdownShown,recordingKey:"constraintsPanel"})),this._stackPanel=new z.H4(()=>l.createElement(up,{key:"stack",onlyShowResizingRow:this.props.isUI3&&this.props.panelState===I.GR.DEFAULT_SIMPLIFIED,onlyStacksSelected:this.props.shownPanels[i.ibQ.STACK_ITEM],recordingKey:"stackPanel"})),this._removeGroupFillAndStrokePanel=new z.H4(()=>l.createElement(aX,{key:"remove-group-fill-stroke"})),this._maskPanel=new z.H4(()=>{let e=this.selectionProperties();return l.createElement(aY,{key:"mask",maskType:e.maskType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"maskPanel"})}),this._componentPropertiesPanel=new z.H4(()=>l.createElement(ti,{key:"componentProperties",recordingKey:"propsPanel"})),this._componentPanel=new z.H4(()=>l.createElement(eb.cu,{key:"component",recordingKey:"componentPanel"})),this._templatePropertiesPanel=new z.H4(()=>l.createElement(nv,{key:"templateProperties",recordingKey:"templatePropsPanel"})),this._templatePanel=new z.H4(()=>l.createElement(uL,{key:"template"})),this._gridsPanel=new z.H4(()=>l.createElement(I.tC,{key:"grids",selectionProperties:this.props.selectionProperties})),this._layerPanel=new z.H4(()=>{let e=this.props.selectionProperties;return this.props.isUI3?l.createElement(aV,{recordingKey:"appearancePanel"}):l.createElement(aw,{key:"layer",blendMode:e.blendMode,opacity:e.opacity,visible:e.visible,variableConsumptionInfo:e.variableConsumptionInfo,recordingKey:"layerPanel"})}),this._localVariablesPanel=new z.H4(()=>l.createElement(nb,{key:"local-variables"})),this._typePanel=new z.H4(()=>l.createElement(I.gc,{key:"type",selectionProperties:this.props.selectionProperties})),this._selectionPaints=new z.H4(()=>l.createElement(lD.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:W.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3})),this._fillPanel=new z.H4(()=>{let e;return this.props.selectionProperties.numSelectedByType&&(e=(0,nE.aZ)(i.rrT.FILL,this.props.selectionProperties.numSelectedByType)),l.createElement(I.B8,{key:"fill",selectionProperties:this.props.selectionProperties,variableScopes:e})}),this._strokePanel=new z.H4(()=>{let e=this.props.selectionProperties;return l.createElement(lD.$p,{key:"stroke",stylePickerShown:this.props.stylePickerShown,strokePanelMode:this.props.strokePanelMode,strokePanelTerminalPointCount:this.props.strokePanelTerminalPointCount,strokePaints:e.strokePaints,borderSharedWeight:e.borderSharedWeight,strokeWeight:e.strokeWeight,strokeAlign:e.strokeAlign,strokeCap:e.strokeCap,strokeJoin:e.strokeJoin,miterLimitAngle:e.miterLimitAngle,connectorLineStyle:e.connectorLineStyle,leftEndCap:e.leftEndCap,rightEndCap:e.rightEndCap,maxStrokeWeight:e.maxStrokeWeight,dashPattern:e.dashPattern,dashCap:e.dashCap,terminalCap:e.terminalCap,arcRadius:e.arcRadius,arcSweep:e.arcSweep,numSelectedByType:e.numSelectedByType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,pickerShown:this.props.pickerShown,pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,stylePickerListLayout:this.props.stylePickerListLayout,currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:W.Em,inheritStyleKey:e.inheritFillStyleKeyForStroke||null,inheritStyleID:e.styleIdForStrokeFill||null,library:this.props.library,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,openFile:this.props.openFile,recordingKey:"strokePanel",isPanelBodyCollapsedAtom:null})}),this._effectsPanel=new z.H4(()=>l.createElement(I.w5,{key:"effects",selectionProperties:this.props.selectionProperties})),this._slidesShadowPanel=new z.H4(()=>l.createElement(ip,{recordingKey:"slidesShadowPanel"})),this._exportPanelInspectTab=new z.H4(()=>{let e=this.selectionProperties(),t=this.props.openFile,n=(0,f.Nf)(this.props.appModel);return l.createElement(sQ.LI,{key:"export",title:this.isReadOnlyNonInspect()?(0,R.t)("fullscreen.properties_panel.export"):(0,R.t)("fullscreen.properties_panel.presets"),standalone:!0,openFile:t,singleNodeName:sQ.LI.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:n,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:a8.iP})}),this._exportPanel=new z.H4(()=>{let e=this.props.selectionProperties,t=(0,f.Nf)(this.props.appModel);return l.createElement(sQ.LI,{key:"export",openFile:this.props.openFile,singleNodeName:sQ.LI.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:t,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:a8.iP})}),this._pluginPanel=new z.H4(()=>{let e=this.selectionProperties();return l.createElement(a7.Q,{key:"plugin",pluginRelaunchData:e.pluginRelaunchData,localPlugins:this.props.localPlugins,publishedPlugins:this.props.publishedPlugins,allSavedPlugins:this.props.allSavedPlugins.plugins,orgEntity:(0,B.Jl)(this.props),dispatch:this.props.dispatch,openFileKey:this.props.openFile?.key||null,editorType:this.props.openFile?.editorType?(0,X.wN)(this.props.openFile.editorType):null,numSelected:e.numSelected??0,recordingKey:"pluginPanel"})}),this._prototypePanel=new z.H4(()=>l.createElement(pn,{key:"prototype",dispatch:this.props.dispatch,selectionProperties:this.selectionProperties(),appModel:this.props.appModel,pickerShown:this.props.pickerShown,dropdownShown:this.props.dropdownShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,sceneGraphSelection:this.props.sceneGraphSelection,editModeType:this.props.appModel.activeCanvasEditModeType,library:this.props.library,openFile:this.props.openFile,userFlags:this.props.userFlags,recordingKey:"prototypePanel"})),this._scalePanel=new z.H4(()=>(0,u.kc)().ce_scale_tool_v2?l.createElement(pX,{key:"scale",recordingKey:"scalePanel"}):l.createElement(pU,{key:"scale",recordingKey:"scalePanel"})),this._slidesAlignPanel=new z.H4(()=>l.createElement(nC,{recordingKey:"slidesAlignPanel"})),this._slidesThemePanel=new z.H4(()=>l.createElement(iy,{recordingKey:"slidesThemePanel"})),this._slidesInstancePanel=new z.H4(()=>l.createElement(rZ,{recordingKey:"slidesInstancePanel"})),this._slidesFillPanel=new z.H4(()=>l.createElement(rW,{recordingKey:"slidesFillPanel"})),this._slidesOpacityPanel=new z.H4(()=>l.createElement(ii,{recordingKey:"slidesOpacityPanel"})),this._slidesTypePanel=new z.H4(()=>l.createElement(sg,{recordingKey:"slidesTypePanel"})),this._slidesLinkPanel=new z.H4(()=>l.createElement(r9,{recordingKey:"slidesLinkPanel"})),this._slidesBorderPanel=new z.H4(()=>l.createElement(lJ,{recordingKey:"slidesBorderPanel"})),this._slidesCornerPanel=new z.H4(()=>l.createElement(l2,{recordingKey:"slidesCornerPanel"})),this._slidesAnimationPanel=new z.H4(()=>l.createElement(lE,null)),this._slidesEmbeddablePrototypePanel=new z.H4(()=>l.createElement(rl,{selection:this.props.sceneGraphSelection})),this._slidesInteractiveWidgetPanel=new z.H4(()=>l.createElement(r0,{selection:this.props.sceneGraphSelection})),this._slidesSelectionPaints=new z.H4(()=>l.createElement(lD.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:W.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3,customColorPicker:nI.GY,hideCustomColorPickerFillTypeToggle:!1})),this._sitesPositionPanel=new z.H4(()=>l.createElement(nw.Qc,{recordingKey:"positionPanel"})),this._sitesLinkPanel=new z.H4(()=>l.createElement(nw.rC,{recordingKey:"linkPanel"})),this._sitesPageMetadataPanel=new z.H4(()=>l.createElement(nw.li,{recordingKey:"pageMetadataPanel"})),this._sitesCanvasOverlayPanel=new z.H4(()=>l.createElement(nw.rf,null)),this._sitesAccessibilityPanel=new z.H4(()=>l.createElement(nw.l,{recordingKey:"accessibilityPanel"})),this._sitesResponsivenessPanel=new z.H4(()=>l.createElement(nw.eg,{key:"responsiveness"})),this._sitesHTMLWidgetPanel=new z.H4(()=>l.createElement(nw.Mr,null)),this._sitesInteractionsPanel=new z.H4(()=>l.createElement(nw.GO,{recordingKey:"interactionsPanel"})),this._cooperConstrainedEditPanel=new z.H4(()=>l.createElement(L,{recordingKey:"constrainedEditPanel"})),this._cooperTypePanel=new z.H4(()=>l.createElement(L,{recordingKey:"cooperTypePanel"})),this._cooperFillPanel=new z.H4(()=>l.createElement(L,{recordingKey:"cooperFillPanel"})),this._cooperOpacityPanel=new z.H4(()=>l.createElement(L,{recordingKey:"cooperOpacityPanel"})),this._cooperCornerPanel=new z.H4(()=>l.createElement(L,{recordingKey:"cooperCornerPanel"})),this._cooperBorderPanel=new z.H4(()=>l.createElement(L,{recordingKey:"cooperBorderPanel"})),this._cooperShadowPanel=new z.H4(()=>l.createElement(L,{recordingKey:"cooperShadowPanel"})),this._cooperPublishEditPanel=new z.H4(()=>l.createElement(L,{recordingKey:"constrainedEditPanel"})),this.shouldShowCooperConstrainedEditPanel=()=>this.props.appModel.activeCanvasEditModeType===i.m1T.COOPER_CONSTRAINED,this.shouldShowCooperFreeformEditPanel=()=>this.props.appModel.activeCanvasEditModeType===i.m1T.COOPER_LAYOUT,this.isStyleSelected=()=>this.props.selectedStyleProperties&&!!this.props.selectedStyleProperties.guid,this.isLiveObjectSelected=()=>(this.props.selectionProperties.pasteSources||[]).length>0,this.selectionProperties=()=>this.isStyleSelected()?this.props.selectedStyleProperties:this.props.selectionProperties,this.shouldShowAlignControls=()=>(0,a8.d6)(this.props.shownPanels),this.shouldRenderUI3ToolbarItems=()=>this.props.isUI3,this.shouldShowConstraintsResizingPanel=()=>{let e=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&e[i.ibQ.CONSTRAINTS_ITEM]},this.shouldShowInteractionsPanel=()=>!!this.props.selectionProperties.isValidPrototypingSourceSelected,this.isStateSelected=()=>this.props.selectionProperties.stateGroupSelectionInfo?.mode===i.iCO.STATE,this.shouldShowLocalVariablesPanel=()=>{let e=(0,w.P)(this.props.selectedView),t=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&!this.props.appModel.isReadOnly&&0===Object.keys(this.props.sceneGraphSelection).length&&!t[i.ibQ.FRAME_PRESETS]&&!e},this.shouldShowSelectionPaintsPanel=()=>{let e=this.props.shownPanels;return(0,a8.fI)(e,this.scaleShouldHideOtherPanels(),this.props.selectionPaints)},this.shouldShowSlidesLinkPanel=()=>{let{numSelectedByType:e}=this.props.selectionProperties;return!!e&&(e.TEXT??0)>0&&(0,U.OU)(e,["TEXT"])},this.shouldShowSlidesAlignPanel=()=>{let{numSelectedByType:e}=this.props.selectionProperties,t=e&&(0,U.vx)(e,"SLIDE");return this.shouldShowAlignControls()&&!t},this.doesNotHaveAnySelectedText=()=>{let{numSelectedByType:e}=this.props.selectionProperties;return!(e?.TEXT&&e.TEXT>0)},this.shouldShowStackPanel=e=>{let t=this.props.shownPanels;return(0,a8.IY)(t,this.scaleShouldHideOtherPanels(),this.props.selectionProperties,this.isStyleSelected()?this.props.selectedStyleProperties:void 0,e)},this.scaleShouldHideOtherPanels=()=>this.props.shownPanels[i.ibQ.SCALE_ITEM]&&!(0,u.kc)().ee_scale_tool_show_all_panels,this.shouldShowExportPanel=()=>this.props.openFile&&!(0,$.Pe)(this.props.openFile)&&!(0,G.MP)(),this.shouldShowLocalStylesPanel=()=>{let e=(0,w.P)(this.props.selectedView);return!this.scaleShouldHideOtherPanels()&&0===Object.keys(this.props.sceneGraphSelection).length&&!this.props.shownPanels[i.ibQ.FRAME_PRESETS]&&!e},this.renderSimplifiedDesignPanels=()=>{let e=this.props.shownPanels;if((0,k.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)])){let e=Error("Rendering simplified design tab with no shownPropertiesPanels");(0,N.$D)(C.e.FIGJAM,e)}return l.createElement(M.i,{displayAs:M.C.Block},0===Object.keys(this.props.sceneGraphSelection).length&&l.createElement(sw.Mw,{panelName:sw.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&l.createElement(nk.AV,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&l.createElement(uF._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this.props.isUI3&&this._instancePanel.render({isVisible:!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()}),this._transformPanel.render({isVisible:!0}),this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._scalePanel.render({isVisible:e[i.ibQ.SCALE_ITEM]}),!this.props.isUI3&&this._instancePanel.render({isVisible:!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()}),this._constraintsResizingPanel.render({isVisible:!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()}),!this.props.isUI3&&this._layerPanel.render({isVisible:e[i.ibQ.LAYER_ITEM]}),this.props.panelState===I.GR.DEFAULT_SIMPLIFIED&&l.createElement(uD,{onExpand:()=>{this.props.setPanelState(I.GR.OVERRIDDEN_EXPANDED)}}),this.props.panelState===I.GR.OVERRIDDEN_EXPANDED&&l.createElement(l.Fragment,null,this.props.isUI3&&this._layerPanel.render({isVisible:e[i.ibQ.LAYER_ITEM]}),l.createElement(sW.Q,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render({isVisible:e[i.ibQ.TEMPLATE_ITEM]}),this._componentPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]}),this._vectorPanel.render({isVisible:e[i.ibQ.VECTOR_ITEM]}),!this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._maskPanel.render({isVisible:e[i.ibQ.MASK_ITEM]}),!this.props.isUI3&&this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this._typePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._canvasBackgroundPanel.render({isVisible:e[i.ibQ.CANVAS_ITEM]}),this._removeGroupFillAndStrokePanel.render({isVisible:e[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]}),this._fillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._strokePanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),!this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._effectsPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this.props.isUI3&&this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this.props.isUI3&&this.shouldShowExportPanel()&&this._exportPanel.render({isVisible:e[i.ibQ.EXPORT_ITEM]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()})),!this.props.isUI3&&this.shouldShowExportPanel()&&this._exportPanel.render({isVisible:e[i.ibQ.EXPORT_ITEM]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()}))},this.renderDesignPanels=()=>{let e=this.props.shownPanels;return(((0,k.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)]))&&!window.figmaPerfTesting&&!(0,A.Lg)()&&!(0,A.nl)()&&(0,N.x1)("PropertiesPanel","Rendering design tab with no shownPropertiesPanels",{isEmpty:(0,k.Im)(e),shouldRenderInspectTab:this.shouldRenderInspectTab()}),e[i.ibQ.FRAME_PRESETS])?l.createElement(M.i,{displayAs:M.C.Block},this._framePresetPanel.render({isVisible:!0})):e[i.ibQ.PENCIL_TOOL]?l.createElement(M.i,{displayAs:M.C.Block},this._pencilToolPanel.render({isVisible:!0})):l.createElement(M.i,{displayAs:M.C.Block},0===Object.keys(this.props.sceneGraphSelection).length&&l.createElement(sw.Mw,{panelName:sw.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&l.createElement(nk.AV,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&l.createElement(uF._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this.props.isUI3&&this._componentPropertiesPanel.render({isVisible:this.shouldShowComponentPropertiesPanel()}),this.props.isUI3&&this._componentPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]}),this.props.isUI3&&this._instancePanel.render({isVisible:this.shouldShowInstancePanel()}),this._transformPanel.render({isVisible:this.props.isUI3&&this.shouldShowAlignControls()||e[i.ibQ.TRANSFORM_ITEM]}),this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._scalePanel.render({isVisible:e[i.ibQ.SCALE_ITEM]}),l.createElement(sW.Q,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render({isVisible:e[i.ibQ.TEMPLATE_ITEM]}),this._templatePropertiesPanel.render({isVisible:e[i.ibQ.TEMPLATE_ITEM]}),!this.props.isUI3&&this._componentPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]}),!this.props.isUI3&&this._componentPropertiesPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()}),this._liveObjectPanel.render({isVisible:this.isLiveObjectSelected()}),!this.props.isUI3&&this._instancePanel.render({isVisible:this.shouldShowInstancePanel()}),this._vectorPanel.render({isVisible:e[i.ibQ.VECTOR_ITEM]}),!this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._constraintsResizingPanel.render({isVisible:!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()}),this._maskPanel.render({isVisible:e[i.ibQ.MASK_ITEM]}),!this.props.isUI3&&this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this._layerPanel.render({isVisible:e[i.ibQ.LAYER_ITEM]}),this._typePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._canvasBackgroundPanel.render({isVisible:e[i.ibQ.CANVAS_ITEM]}),this._removeGroupFillAndStrokePanel.render({isVisible:e[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]}),this._fillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._strokePanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),!this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._effectsPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._localVariablesPanel.render({isVisible:this.shouldShowLocalVariablesPanel()}),this._localStylesPanel.render({isVisible:this.shouldShowLocalStylesPanel(),valueArgs:["local-styles"]}),this.props.isUI3&&this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this.shouldShowExportPanel()&&this._exportPanel.render({isVisible:e[i.ibQ.EXPORT_ITEM]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()}))},this.renderSlidesPanels=()=>{let e=this.props.shownPanels,t=this.props.selectionProperties.numSelectedByType;if(e[i.ibQ.PENCIL_TOOL])return l.createElement(M.i,{displayAs:M.C.Block},this._pencilToolPanel.render({isVisible:!0}));let n=!!t&&(t.SLIDE??0)>0&&(0,U.OU)(t,["SLIDE"]);return l.createElement(M.i,{displayAs:M.C.Block},this._slidesAlignPanel.render({isVisible:this.shouldShowSlidesAlignPanel()}),this.shouldRenderUI3ToolbarItems()&&l.createElement(uF._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel(),shouldShowSlidesTypePanel:e[i.ibQ.TYPE_ITEM]}),this._slidesThemePanel.render({isVisible:n}),this._slidesInstancePanel.render({isVisible:this.shouldShowInstancePanel()}),this._slidesTypePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._slidesFillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._slidesOpacityPanel.render({isVisible:e[i.ibQ.FILL_ITEM]&&!n}),this._slidesCornerPanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),this._slidesBorderPanel.render({isVisible:e[i.ibQ.STROKE_ITEM]&&this.doesNotHaveAnySelectedText()}),this._slidesShadowPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this._slidesLinkPanel.render({isVisible:e[i.ibQ.TYPE_ITEM]&&this.shouldShowSlidesLinkPanel()}),this._slidesSelectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._slidesEmbeddablePrototypePanel.render({isVisible:e[i.ibQ.SLIDES_EMBED]}),this._slidesInteractiveWidgetPanel.render({isVisible:e[i.ibQ.SLIDES_INTERACTIVE_WIDGET]}))},this.renderSlidesAnimationPanels=()=>{let e=this.props.shownPanels;return l.createElement(M.i,{displayAs:M.C.Block},this._slidesAnimationPanel.render({isVisible:e[i.ibQ.SLIDES_ANIMATION]}))},this.renderSitesPanels=()=>{let e=this.props.shownPanels;return l.createElement(M.i,{displayAs:M.C.Block},this.shouldRenderUI3ToolbarItems()&&l.createElement(uF._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this._sitesCanvasOverlayPanel.render({isVisible:this.shouldShowSitesCanvasOverlayPanel()}),this._componentPropertiesPanel.render({isVisible:this.shouldShowComponentPropertiesPanel()}),this._componentPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]}),this._instancePanel.render({isVisible:!this.scaleShouldHideOtherPanels()&&this.shouldShowInstancePanel()}),this._sitesPositionPanel.render({isVisible:this.shouldShowSitesPositionPanel()}),this._transformPanel.render({isVisible:e[i.ibQ.TRANSFORM_ITEM]}),this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._scalePanel.render({isVisible:e[i.ibQ.SCALE_ITEM]}),this._sitesPageMetadataPanel.render({isVisible:this.shouldShowSitesPageMetadataPanel()}),l.createElement(sW.Q,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render({isVisible:e[i.ibQ.TEMPLATE_ITEM]}),this._vectorPanel.render({isVisible:e[i.ibQ.VECTOR_ITEM]}),this._maskPanel.render({isVisible:e[i.ibQ.MASK_ITEM]}),this._layerPanel.render({isVisible:e[i.ibQ.LAYER_ITEM]}),this._typePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._canvasBackgroundPanel.render({isVisible:e[i.ibQ.CANVAS_ITEM]}),this._removeGroupFillAndStrokePanel.render({isVisible:e[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]}),this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._fillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._strokePanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),this._effectsPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this._sitesHTMLWidgetPanel.render({isVisible:this.shouldShowSitesHTMLWidgetPanel()}),this._sitesAccessibilityPanel.render({isVisible:this.shouldShowSitesAccessibilityPanel()}),this._sitesResponsivenessPanel.render({isVisible:this.shouldShowSitesResponsivenessPanel()}),this._localVariablesPanel.render({isVisible:this.shouldShowLocalVariablesPanel()}),this._localStylesPanel.render({isVisible:this.shouldShowLocalStylesPanel(),valueArgs:["local-styles"]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()}))},this.renderCooperPanels=()=>{let e=this.props.shownPanels;return l.createElement(M.i,{displayAs:M.C.Block},this._cooperConstrainedEditPanel.render({isVisible:!0}),this.shouldShowCooperFreeformEditPanel()&&l.createElement(l.Fragment,null,this.shouldRenderUI3ToolbarItems()&&l.createElement(uF._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel(),shouldShowSlidesTypePanel:e[i.ibQ.TYPE_ITEM]}),this._cooperTypePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._cooperFillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._cooperOpacityPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._cooperCornerPanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),this._cooperBorderPanel.render({isVisible:e[i.ibQ.STROKE_ITEM]&&this.doesNotHaveAnySelectedText()}),this._cooperShadowPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this._slidesSelectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()})))},this.renderCooperPublishPanels=()=>l.createElement(M.i,{displayAs:M.C.Block},this._cooperPublishEditPanel.render({isVisible:!0})),this.renderInspectionPanels=()=>{let e=this.props.openFile?.canEdit,t=this.props.selectionProperties,n=!t.prototypeStartingPointsInfo||t.prototypeStartingPointsInfo?.length>0,r=0===Object.keys(this.props.sceneGraphSelection).length,i=r&&!e&&n;return l.createElement(V.fu,{name:j.e0.CODE_PANEL},l.createElement(M.i,{displayAs:M.C.Block},l.createElement(sw.Mw,{panelName:sw.ON.INSPECT}),l.createElement(iX.U,{key:"inspection-properties-panel",recordingKey:"inspectionPanel",flowPanel:this._viewOnlyFlowsPanel.render({isVisible:i}),localStylesPanel:this._localStylesPanel.render({isVisible:r,valueArgs:["code-local-styles"]})})))},this.renderPrototypePanels=()=>{let e=this.props.shownPanels;return l.createElement(M.i,{displayAs:M.C.Block},this._sitesLinkPanel.render({isVisible:this.shouldShowSitesLinkPanel()}),this._sitesInteractionsPanel.render({isVisible:this.shouldShowSitesInteractionsPanel()}),this._framePresetPanel.render({isVisible:e[i.ibQ.FRAME_PRESETS]}),this._pencilToolPanel.render({isVisible:e[i.ibQ.PENCIL_TOOL]}),this._prototypePanel.render({isVisible:!e[i.ibQ.FRAME_PRESETS]&&!e[i.ibQ.PENCIL_TOOL]&&!this.selectionProperties().containsResponsiveSets}))},this.shouldRenderInspectTab=()=>this.props.appModel.showUi&&!!this.props.user&&this.props.appModel.isReadOnly,this.isReadOnlyNonInspect=()=>this.props.appModel.isReadOnly&&!(0,to.$A)(this.props.selectedView),this.renderPanelContent=()=>{let e=this.props.appModel.topLevelMode,t=this.props.propertiesPanelTab,n=this.props.appModel.isReadOnly,r=e!==Q.lyf.PREVIEW&&(e!==Q.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==Q.lyf.DEV_HANDOFF&&t===i.FAf.DESIGN,s=e!==Q.lyf.PREVIEW&&(e!==Q.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==Q.lyf.DEV_HANDOFF&&t===i.FAf.SLIDE,a=e!==Q.lyf.PREVIEW&&(e!==Q.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==Q.lyf.DEV_HANDOFF&&t===i.FAf.SLIDE_ANIMATION,o=e===Q.lyf.LAYOUT&&!n&&t===i.FAf.SITE,c=e!==Q.lyf.PREVIEW&&e!==Q.lyf.BRANCHING&&t===i.FAf.PROTOTYPE,p=e===Q.lyf.PREVIEW&&!this.props.userStateLoaded||t===i.FAf.INSPECT,d=e===Q.lyf.LAYOUT&&!n&&t===i.FAf.COOPER,u=e===Q.lyf.LAYOUT&&!n&&t===i.FAf.COOPER_PUBLISH;return r||s||a||o||d||u||c||p||t===i.FAf.EXPORT||t===i.FAf.COMMENT||(0,N.x1)("PropertiesPanel","Rendering empty properties panels",{topLevelMode:Q.lyf[e],tab:i.FAf[t],shouldRenderInspectTab:this.shouldRenderInspectTab()}),l.createElement(l.Fragment,null,r&&(this.props.panelState===I.GR.DEFAULT_EXPANDED?this.renderDesignPanels():this.renderSimplifiedDesignPanels()),s&&this.renderSlidesPanels(),a&&this.renderSlidesAnimationPanels(),o&&this.renderSitesPanels(),c&&this.renderPrototypePanels(),p&&this.renderInspectionPanels(),d&&this.renderCooperPanels(),u&&this.renderCooperPublishPanels(),t===i.FAf.EXPORT&&this._exportPanelInspectTab.render({isVisible:!0}),t===i.FAf.COMMENT&&l.createElement(this.props.commentsPanel,null))}}shouldShowSitesPositionPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_POSITION_ITEM]}shouldShowSitesLinkPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_LINK_ITEM]}shouldShowSitesPageMetadataPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_PAGE_METADATA_ITEM]}shouldShowSitesCanvasOverlayPanel(){return(0,nT.Vj)(this.props.selectedView)&&(0,u.kc)().internal_only_debug_tools}shouldShowSitesAccessibilityPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_ACCESSIBILITY_ITEM]}shouldShowSitesResponsivenessPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_RESPONSIVENESS_ITEM]}shouldShowSitesHTMLWidgetPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_HTML_WIDGET_ITEM]}shouldShowSitesInteractionsPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_INTERACTIONS_ITEM]}shouldShowInstancePanel(){return this.props.shownPanels[i.ibQ.INSTANCE_ITEM]&&!this.isLiveObjectSelected()}shouldShowComponentPropertiesPanel(){return this.props.shownPanels[i.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()}render(){let e=this.props.selectedStyleProperties&&(0,a.isValid)(this.props.selectedStyleProperties.guid),t=!!(this.props.dropdownShown||this.props.pickerShown?.modal),n=this.props.propertiesPanelTab,r=n===i.FAf.COMMENT,s=!this.isReadOnlyNonInspect(),o=(0,w.P)(this.props.selectedView),c=!e||!t,p=!r&&c,d=(0,K.ft)(),u=l.createElement("div",{className:r&&s&&!o?os.By:os.eh,onMouseDown:d?void 0:this.onMouseDown,onPointerDown:d?this.onMouseDown:void 0,"data-non-interactive":!0},l.createElement(F.j9.Consumer,null,()=>this.renderPanelContent())),m=this.props.isUI3,h=this.props.appModel.topLevelMode===Q.lyf.HISTORY,E=m&&this.props.isCollapsed;return l.createElement(l.Fragment,null,this.props.isUI3&&l.createElement(pl.qW,{openFile:this.props.openFile,dropdownShown:this.props.dropdownShown,multiplayer:this.props.multiplayer,user:this.props.user,isIntegration:(0,G.ck)(),selectedView:this.props.selectedView,recordingKey:this.props.recordingKey}),h&&l.createElement(tc.yU,{recordingKey:"versionHistoryView",isUI3:m}),!E&&!h&&l.createElement(oc,{activeTab:n,shouldRenderInspectTab:this.shouldRenderInspectTab(),shouldShowAlignControls:this.shouldShowAlignControls(),isUI3:this.props.isUI3,recordingKey:this.props.recordingKey}),!E&&!h&&(r?u:l.createElement("div",{className:os.gq},l.createElement(O.P,{enableOverscroll:!0,key:this.props.propertiesPanelTab,ref:this.props.refMainScrollContainer,className:os.jG,containerId:I.rp,hideScrollbar:!p,onContextMenu:this.onContextMenu,scrollingDisabled:r||(e?t:!!this.props.dropdownShown)},u))))}}uV.displayName="PropertiesPanel";var uK=n(976404),uU=n(818),uB=n(516398),uH=n(125944);function uG({initialPosition:e,styleNameInputPrefix:t,styleType:n,inheritStyleKeyField:s,onCreate:a,recordingKey:o}){let c=(0,r.wA)(),p=(0,r.d4)(e=>e.mirror.selectedStyleProperties),d=(0,r.d4)(e=>e.mirror.sceneGraphSelection),u=l.useRef(Object.keys(d).length>0),[m,E]=l.useState(!u.current&&void 0),_="ui3"===(0,et.DP)().version,y=(0,oi.sO)(),[S,P]=l.useState((0,i_.$)()),b=y&&(0,uH.Rc)(n),{styleRef:f,createStyle:v}=(0,iQ.u)({inheritStyleKeyField:s,isCreatingFromSelection:u.current,trackingOptions:{styleType:n}}),w=h.of(o,"submit",()=>{let e=v();b&&i.Ez5.slideThemeLibBindings().addStyleToLocalTheme(e||"",S),c(x.XE()),c(x.Uv()),c(g.sw()),a&&a(e||"")}),k=(0,r.d4)(e=>{let t=e.mirror.selectedStyleProperties;switch(n){case"FILL":return t.fillPaints&&"length"in t.fillPaints&&t.fillPaints.length>0;case"GRID":return t.layoutGrids&&t.layoutGrids.length>0;case"EFFECT":return t.effects&&t.effects.length>0;default:return!0}});return p.styleType?l.createElement(T.zK.Provider,{value:T.zM.CREATE_STYLE},l.createElement(e1.vx,{title:(e=>{switch(e){case"FILL":return(0,R.t)("design_systems.create_style.color");case"TEXT":return(0,R.t)("design_systems.create_style.text");case"EFFECT":return(0,R.t)("design_systems.create_style.effect");case"EXPORT":return(0,R.t)("design_systems.create_style.export");case"GRID":return(0,R.t)("design_systems.create_style.grid");default:return(0,R.t)("design_systems.create_style.create_new_style_generic")}})(p.styleType),headerSize:"small",initialWidth:I.tA,initialPosition:e,onClose:()=>{c(g.sw())},recordingKey:h.Pt("createStyleModal"),dragHeaderOnly:!0},l.createElement("div",{className:os.FY},l.createElement(ij.O8,{type:p.styleType,recordingKey:"createStyleModal",styleNameInputPrefix:t,isInspectPanel:!1,selectedStyleProperties:p,showProperties:m,onEnterPressed:w,showSlideThemeField:b,slideThemeId:S,setSlideThemeId:P}),!f&&l.createElement("div",{className:"create_style_modal--errorMessage--8ZpFE"},(0,R.tx)("design_systems.create_style.an_error_occurred_while_creating_the_style")),l.createElement(iW.AutoLayout,{horizontalAlignItems:u.current?void 0:"end",verticalAlignItems:"center",spacing:u.current?"auto":void 0,padding:_?8:16},u.current&&l.createElement(ew.JU,{className:m?"create_style_modal--fadedShowMorePropertiesLabel--g8ydZ":"create_style_modal--showMorePropertiesLabel--mJpGe",onClick:()=>E(!m)},m?(0,R.tx)("design_systems.create_style.hide_options"):(0,R.tx)("design_systems.create_style.show_more_options")),l.createElement(pZ.$$,{style:{justifySelf:"right"},onClick:w,disabled:!k||!f,tabIndex:0},(0,R.tx)("design_systems.create_style.create_style")))))):null}var uY=n(663668);function uW(e){let t=(0,r.wA)(),n=(0,a.toString)(e.selectedStyleProperties.guid),i="",s="",[o,c]=(0,nF.Fk)((t,n)=>{if(e.externalStyle)return["",""];let l=t.get(n);return[l?.name||"",l?.styleDescription||""]},n);return e.externalStyle?(i=e.externalStyle.name||"",s=e.externalStyle.description_rt?(0,uY.A)(e.externalStyle.description_rt):e.externalStyle.description||""):(0,a.toString)(e.selectedStyleProperties.guid)&&(i=o,s=(0,uY.A)(c)),l.createElement(T.zK.Provider,{value:T.zM.EDIT_STYLE},l.createElement(ij.O8,{type:e.selectedStyleProperties.styleType,recordingKey:e.recordingKey,onEnterPressed:()=>t(g.sw()),styleName:i,styleDescription:s,...e}))}var uQ=n(595755),u$=n(511617),uz=n(154483),uX=n(733169),uj=n(132135),uZ=n(321487),uJ=n(167807);let uq=(0,uz.fv)();function u0(e){let t=(0,tv.IW)(e.stylePreviewShown),n=uq(t),r=(0,uJ.$Q)(n).data,i=(0,uX.S)(r?.key).unwrapOr(!1);if(!t||!r)return null;let s=(0,uj.to)(r);return s=(0,u$.dR)(s,{"node-id":encodeURIComponent((0,uZ.E)(t.node_id))}),l.createElement(ty.p,{name:"external_style_options"},l.createElement(ew.Zk,{key:"external-style-options"},i&&l.createElement(ew.fI,null,l.createElement(pZ.N_,{className:os.lf,href:s,target:"_blank",trusted:!0},(0,R.tx)("fullscreen.properties_panel.go_to_style_definition_to_edit")))))}var u1=n(544403),u5=n(96225);let u4=(0,d.jz)(tR.uj0);class u3 extends h.o6{constructor(){super(...arguments),this.state={panelState:I.GR.DEFAULT_EXPANDED},this.onMouseDown=h.cZ(this,"mousedown",()=>{H.Y5.deselectProperty(),this.props.dispatch(x.XE()),this.props.dispatch((0,D.vq)()),this.props.dispatch(g.sw()),this.props.dispatch(x.Uv())}),this.onContextMenu=e=>{let t=e.target;if(t){let n=t.tagName,l=t.type;n&&"INPUT"===n.toUpperCase()&&l&&"TEXT"===l.toUpperCase()||t.isContentEditable||e.preventDefault()}},this.showCreateStyleModal=({styleType:e,inheritStyleKeyField:t,nodeId:n,rowLeft:l,rowTop:r})=>{this.props.dispatch(g.sw()),this.props.dispatch(g.Zs({rowLeft:l,rowTop:r,styleType:e,inheritStyleKeyField:t,nodeId:n}))},this._stylePreviewThumbnail=new z.H4(()=>{let e=(0,tv.IW)(this.props.stylePreviewShown),t=this.props.openFile?.canEdit,n=!!e||!t||this.props.appModel.isReadOnly;return l.createElement(uW,{key:"style-preview-panel",selectedStyleProperties:this.props.selectedStyleProperties,isInspectPanel:this.props.propertiesPanelTab===i.FAf.INSPECT,stylePreviewShown:this.props.stylePreviewShown,externalStyle:e,isRenaming:this.props.library.isRenamingSelectedStyle,viewOnly:n,dispatch:this.props.dispatch,recordingKey:h.Pt(this.props,"stylePreviewPanel")})}),this.onCloseStylePreviewModal=()=>{i.glU.selectStyle(s.StyleKey.INVALID,s.StyleVersion.INVALID),this.props.dispatch(g.sw()),this.props.dispatch((0,S.B)())},this.renderStylePreviewModal=()=>{if(!this.props.stylePreviewShown.isShown||![i.FAf.DESIGN,i.FAf.SITE,i.FAf.INSPECT].includes(this.props.propertiesPanelTab))return;let e=this.props.selectedStyleProperties,t=new eq.Mi(this.props.stylePreviewShown.rowLeft-I.tA,this.props.stylePreviewShown.rowTop);if(this.props.stylePreviewShown.isCreating){let{styleType:e,inheritStyleKeyField:n,styleNameInputPrefix:r}=this.props.stylePreviewShown;return l.createElement(uG,{recordingKey:"createStyleModal",initialPosition:t,styleNameInputPrefix:r,styleType:e,inheritStyleKeyField:n})}{let n=!(0,tQ.eE)(this.props.stylePreviewShown.style,this.props.openFile),r=n||!this.props.openFile?.canEdit||this.props.appModel.topLevelMode===Q.lyf.BRANCHING,i=(0,a.toString)(e.guid);if(!(i&&this.props.library.local.styles[i]&&!this.props.library.local.styles[i].is_soft_deleted)&&!n||!this.props.selectedStyleProperties.guid)return;return l.createElement(T.zK.Provider,{value:T.zM.EDIT_STYLE},l.createElement(e1.vx,{title:this.getStylePreviewThumbnailTitle(e.styleType,r),key:(0,tv.Gj)(this.props.stylePreviewShown.style),headerSize:"small",initialWidth:I.tA,initialPosition:t,onClose:this.onCloseStylePreviewModal,recordingKey:h.Pt(this.props,"modal"),dragHeaderOnly:!0},l.createElement("div",{className:os.FY},this._stylePreviewThumbnail.render({isVisible:!0}),this._externalStyleLink.render({isVisible:n}))))}},this._externalStyleLink=new z.H4(()=>l.createElement(u0,{stylePreviewShown:this.props.stylePreviewShown,user:this.props.user})),this._framePresetPanel=new z.H4(()=>l.createElement(s$.nl,{key:"frame-presets",dispatch:this.props.dispatch,expandedFramePresetType:this.props.expandedFramePresetType,recordingKey:"framePresetPanel"})),this._pencilToolPanel=new z.H4(()=>l.createElement(a6,{key:"pencilToolPanel",id:"pencilToolPanel",openFile:this.props.openFile,recordingKey:"pencilToolPanel"})),this._canvasBackgroundPanel=new z.H4(()=>{let e=this.props.selectionProperties;return l.createElement(sK,{key:"canvas-background",backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,exportBackgroundDisabled:e.exportBackgroundDisabled,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,editModeType:this.props.appModel.activeCanvasEditModeType,pickerShown:this.props.pickerShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,library:this.props.library,openFile:this.props.openFile,recordingKey:"canvasBackgroundPanel",currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,defaultColor:W.rC,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,hasExports:!!e.exportSettings&&(0,Y._W)(e.exportSettings,[]).length>0})}),this._viewOnlyFlowsPanel=new z.H4(()=>l.createElement(nh.A,{viewOnly:!0})),this._localStylesPanel=new z.H4(e=>l.createElement(np,{key:e,scrollContainer:this.scrollContainer,recordingKey:e})),this._transformPanel=new z.H4(()=>l.createElement(s8.zq,{key:"transform",propertiesPanelState:this.state.panelState,recordingKey:"transformPanel",pickerShown:this.props.pickerShown,openFileKey:this.props.openFile?.key||null,canEditConstraints:this.props.isUI3&&this.shouldShowConstraintsResizingPanel(),onlyShowXYInputsRow:this.props.isUI3&&(this.state.panelState===I.GR.DEFAULT_SIMPLIFIED||(this.selectionProperties().areOnlyResponsiveSetsSelected??!1))})),this._vectorPanel=new z.H4(()=>{let e=this.selectionProperties(),t=this.props.isUI3;return l.createElement(s8.Ss,{key:"vector-transform",x:e.x,y:e.y,cornerRadius:e.cornerRadius,handleMirroring:e.handleMirroring,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"vectorTransformPanel",isUI3:t})}),this._liveObjectPanel=new z.H4(()=>l.createElement(aU.cI,{key:"live-object",recordingKey:"liveObjectPanel",pasteSources:this.props.selectionProperties.pasteSources})),this._instancePanel=new z.H4(()=>{let e=this.props.selectionProperties;return l.createElement(sz._,{key:"instance",symbolGUIDsBackingSelection:e.symbolGUIDsBackingSelection,resettableInstanceOverridesMap:e.resettableInstanceOverrides,stateGroupSelectionInfo:e.stateGroupSelectionInfo,recordingKey:"instancePanel"})}),this._constraintsResizingPanel=new z.H4(()=>l.createElement(sY,{key:"constraints",openFileKey:this.props.openFile?.key||null,dropdownShown:this.props.dropdownShown,recordingKey:"constraintsPanel"})),this._stackPanel=new z.H4(()=>l.createElement(up,{key:"stack",onlyShowResizingRow:this.props.isUI3&&this.state.panelState===I.GR.DEFAULT_SIMPLIFIED,onlyStacksSelected:this.props.shownPanels[i.ibQ.STACK_ITEM],recordingKey:"stackPanel"})),this._removeGroupFillAndStrokePanel=new z.H4(()=>l.createElement(aX,{key:"remove-group-fill-stroke"})),this._maskPanel=new z.H4(()=>{let e=this.selectionProperties();return l.createElement(aY,{key:"mask",maskType:e.maskType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"maskPanel"})}),this._componentPropertiesPanel=new z.H4(()=>l.createElement(ti,{key:"componentProperties",recordingKey:"propsPanel"})),this._componentPanel=new z.H4(()=>l.createElement(eb.cu,{key:"component",recordingKey:"componentPanel"})),this._templatePropertiesPanel=new z.H4(()=>l.createElement(nv,{key:"templateProperties",recordingKey:"templatePropsPanel"})),this._templatePanel=new z.H4(()=>l.createElement(uL,{key:"template"})),this._gridsPanel=new z.H4(()=>l.createElement(I.tC,{key:"grids",selectionProperties:this.props.selectionProperties})),this._layerPanel=new z.H4(()=>{let e=this.props.selectionProperties;return this.props.isUI3?l.createElement(aV,{recordingKey:"appearancePanel"}):l.createElement(aw,{key:"layer",blendMode:e.blendMode,opacity:e.opacity,visible:e.visible,variableConsumptionInfo:e.variableConsumptionInfo,recordingKey:"layerPanel"})}),this._localVariablesPanel=new z.H4(()=>l.createElement(nb,{key:"local-variables"})),this._typePanel=new z.H4(()=>l.createElement(I.gc,{key:"type",selectionProperties:this.props.selectionProperties})),this._selectionPaints=new z.H4(()=>l.createElement(lD.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:W.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3})),this._fillPanel=new z.H4(()=>{let e;return this.props.selectionProperties.numSelectedByType&&(e=(0,nE.aZ)(i.rrT.FILL,this.props.selectionProperties.numSelectedByType)),l.createElement(I.B8,{key:"fill",selectionProperties:this.props.selectionProperties,variableScopes:e})}),this._strokePanel=new z.H4(()=>{let e=this.props.selectionProperties;return l.createElement(lD.$p,{key:"stroke",stylePickerShown:this.props.stylePickerShown,strokePanelMode:this.props.strokePanelMode,strokePanelTerminalPointCount:this.props.strokePanelTerminalPointCount,strokePaints:e.strokePaints,borderSharedWeight:e.borderSharedWeight,strokeWeight:e.strokeWeight,strokeAlign:e.strokeAlign,strokeCap:e.strokeCap,strokeJoin:e.strokeJoin,miterLimitAngle:e.miterLimitAngle,connectorLineStyle:e.connectorLineStyle,leftEndCap:e.leftEndCap,rightEndCap:e.rightEndCap,maxStrokeWeight:e.maxStrokeWeight,dashPattern:e.dashPattern,dashCap:e.dashCap,terminalCap:e.terminalCap,arcRadius:e.arcRadius,arcSweep:e.arcSweep,numSelectedByType:e.numSelectedByType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,pickerShown:this.props.pickerShown,pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,stylePickerListLayout:this.props.stylePickerListLayout,currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:W.Em,inheritStyleKey:e.inheritFillStyleKeyForStroke||null,inheritStyleID:e.styleIdForStrokeFill||null,library:this.props.library,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,openFile:this.props.openFile,recordingKey:"strokePanel",isPanelBodyCollapsedAtom:null})}),this._effectsPanel=new z.H4(()=>l.createElement(I.w5,{key:"effects",selectionProperties:this.props.selectionProperties})),this._slidesShadowPanel=new z.H4(()=>l.createElement(ip,{recordingKey:"slidesShadowPanel"})),this._exportPanelInspectTab=new z.H4(()=>{let e=this.selectionProperties(),t=this.props.openFile,n=(0,f.Nf)(this.props.appModel);return l.createElement(sQ.LI,{key:"export",title:this.isReadOnlyNonInspect()?(0,R.t)("fullscreen.properties_panel.export"):(0,R.t)("fullscreen.properties_panel.presets"),standalone:!0,openFile:t,singleNodeName:sQ.LI.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:n,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:a8.iP})}),this._exportPanel=new z.H4(()=>{let e=this.props.selectionProperties,t=(0,f.Nf)(this.props.appModel);return l.createElement(sQ.LI,{key:"export",openFile:this.props.openFile,singleNodeName:sQ.LI.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:t,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:a8.iP})}),this._pluginPanel=new z.H4(()=>{let e=this.selectionProperties();return l.createElement(a7.Q,{key:"plugin",pluginRelaunchData:e.pluginRelaunchData,localPlugins:this.props.localPlugins,publishedPlugins:this.props.publishedPlugins,allSavedPlugins:this.props.allSavedPlugins.plugins,orgEntity:(0,B.Jl)(this.props),dispatch:this.props.dispatch,openFileKey:this.props.openFile?.key||null,editorType:this.props.openFile?.editorType?(0,X.wN)(this.props.openFile.editorType):null,numSelected:e.numSelected??0,recordingKey:"pluginPanel"})}),this._prototypePanel=new z.H4(()=>l.createElement(pn,{key:"prototype",dispatch:this.props.dispatch,selectionProperties:this.selectionProperties(),appModel:this.props.appModel,pickerShown:this.props.pickerShown,dropdownShown:this.props.dropdownShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,sceneGraphSelection:this.props.sceneGraphSelection,editModeType:this.props.appModel.activeCanvasEditModeType,library:this.props.library,openFile:this.props.openFile,userFlags:this.props.userFlags,recordingKey:"prototypePanel"})),this._scalePanel=new z.H4(()=>(0,u.kc)().ce_scale_tool_v2?l.createElement(pX,{key:"scale",recordingKey:"scalePanel"}):l.createElement(pU,{key:"scale",recordingKey:"scalePanel"})),this._slidesAlignPanel=new z.H4(()=>l.createElement(nC,{recordingKey:"slidesAlignPanel"})),this._slidesThemePanel=new z.H4(()=>l.createElement(iy,{recordingKey:"slidesThemePanel"})),this._slidesInstancePanel=new z.H4(()=>l.createElement(rZ,{recordingKey:"slidesInstancePanel"})),this._slidesFillPanel=new z.H4(()=>l.createElement(rW,{recordingKey:"slidesFillPanel"})),this._slidesOpacityPanel=new z.H4(()=>l.createElement(ii,{recordingKey:"slidesOpacityPanel"})),this._slidesTypePanel=new z.H4(()=>l.createElement(sg,{recordingKey:"slidesTypePanel"})),this._slidesLinkPanel=new z.H4(()=>l.createElement(r9,{recordingKey:"slidesLinkPanel"})),this._slidesBorderPanel=new z.H4(()=>l.createElement(lJ,{recordingKey:"slidesBorderPanel"})),this._slidesCornerPanel=new z.H4(()=>l.createElement(l2,{recordingKey:"slidesCornerPanel"})),this._slidesAnimationPanel=new z.H4(()=>l.createElement(lE,null)),this._slidesEmbeddablePrototypePanel=new z.H4(()=>l.createElement(rl,{selection:this.props.sceneGraphSelection})),this._slidesInteractiveWidgetPanel=new z.H4(()=>l.createElement(r0,{selection:this.props.sceneGraphSelection})),this._slidesSelectionPaints=new z.H4(()=>l.createElement(lD.UA,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:W.rC,library:this.props.library,openFile:this.props.openFile,isUI3:this.props.isUI3,customColorPicker:nI.GY,hideCustomColorPickerFillTypeToggle:!1})),this._sitesPositionPanel=new z.H4(()=>l.createElement(nw.Qc,{recordingKey:"positionPanel"})),this._sitesLinkPanel=new z.H4(()=>l.createElement(nw.rC,{recordingKey:"linkPanel"})),this._sitesPageMetadataPanel=new z.H4(()=>l.createElement(nw.li,{recordingKey:"pageMetadataPanel"})),this._sitesCanvasOverlayPanel=new z.H4(()=>l.createElement(nw.rf,null)),this._sitesAccessibilityPanel=new z.H4(()=>l.createElement(nw.l,{recordingKey:"accessibilityPanel"})),this._sitesResponsivenessPanel=new z.H4(()=>l.createElement(nw.eg,{key:"responsiveness"})),this._sitesHTMLWidgetPanel=new z.H4(()=>l.createElement(nw.Mr,null)),this._sitesInteractionsPanel=new z.H4(()=>l.createElement(nw.GO,{recordingKey:"interactionsPanel"})),this._cooperConstrainedEditPanel=new z.H4(()=>l.createElement(L,{recordingKey:"constrainedEditPanel"})),this._cooperTypePanel=new z.H4(()=>l.createElement(L,{recordingKey:"cooperTypePanel"})),this._cooperFillPanel=new z.H4(()=>l.createElement(L,{recordingKey:"cooperFillPanel"})),this._cooperOpacityPanel=new z.H4(()=>l.createElement(L,{recordingKey:"cooperOpacityPanel"})),this._cooperCornerPanel=new z.H4(()=>l.createElement(L,{recordingKey:"cooperCornerPanel"})),this._cooperBorderPanel=new z.H4(()=>l.createElement(L,{recordingKey:"cooperBorderPanel"})),this._cooperShadowPanel=new z.H4(()=>l.createElement(L,{recordingKey:"cooperShadowPanel"})),this._cooperPublishEditPanel=new z.H4(()=>l.createElement(L,{recordingKey:"constrainedEditPanel"})),this.shouldShowCooperConstrainedEditPanel=()=>this.props.appModel.activeCanvasEditModeType===i.m1T.COOPER_CONSTRAINED,this.shouldShowCooperFreeformEditPanel=()=>this.props.appModel.activeCanvasEditModeType===i.m1T.COOPER_LAYOUT,this.isStyleSelected=()=>this.props.selectedStyleProperties&&!!this.props.selectedStyleProperties.guid,this.isLiveObjectSelected=()=>(this.props.selectionProperties.pasteSources||[]).length>0,this.selectionProperties=()=>this.isStyleSelected()?this.props.selectedStyleProperties:this.props.selectionProperties,this.shouldShowAlignControls=()=>(0,a8.d6)(this.props.shownPanels),this.shouldRenderUI3ToolbarItems=()=>this.props.isUI3,this.shouldShowConstraintsResizingPanel=()=>{let e=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&e[i.ibQ.CONSTRAINTS_ITEM]},this.shouldShowInteractionsPanel=()=>!!this.props.selectionProperties.isValidPrototypingSourceSelected,this.isStateSelected=()=>this.props.selectionProperties.stateGroupSelectionInfo?.mode===i.iCO.STATE,this.shouldShowLocalVariablesPanel=()=>{let e=(0,w.P)(this.props.selectedView),t=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&!this.props.appModel.isReadOnly&&0===Object.keys(this.props.sceneGraphSelection).length&&!t[i.ibQ.FRAME_PRESETS]&&!e},this.shouldShowSelectionPaintsPanel=()=>{let e=this.props.shownPanels;return(0,a8.fI)(e,this.scaleShouldHideOtherPanels(),this.props.selectionPaints)},this.shouldShowSlidesLinkPanel=()=>{let{numSelectedByType:e}=this.props.selectionProperties;return!!e&&(e.TEXT??0)>0&&(0,U.OU)(e,["TEXT"])},this.shouldShowSlidesAlignPanel=()=>{let{numSelectedByType:e}=this.props.selectionProperties,t=e&&(0,U.vx)(e,"SLIDE");return this.shouldShowAlignControls()&&!t},this.doesNotHaveAnySelectedText=()=>{let{numSelectedByType:e}=this.props.selectionProperties;return!(e?.TEXT&&e.TEXT>0)},this.shouldShowStackPanel=e=>{let t=this.props.shownPanels;return(0,a8.IY)(t,this.scaleShouldHideOtherPanels(),this.props.selectionProperties,this.isStyleSelected()?this.props.selectedStyleProperties:void 0,e)},this.scaleShouldHideOtherPanels=()=>this.props.shownPanels[i.ibQ.SCALE_ITEM]&&!(0,u.kc)().ee_scale_tool_show_all_panels,this.shouldShowExportPanel=()=>this.props.openFile&&!(0,$.Pe)(this.props.openFile)&&!(0,G.MP)(),this.shouldShowLocalStylesPanel=()=>{let e=(0,w.P)(this.props.selectedView);return!this.scaleShouldHideOtherPanels()&&0===Object.keys(this.props.sceneGraphSelection).length&&!this.props.shownPanels[i.ibQ.FRAME_PRESETS]&&!e},this.renderSimplifiedDesignPanels=()=>{let e=this.props.shownPanels;if((0,k.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)])){let e=Error("Rendering simplified design tab with no shownPropertiesPanels");(0,N.$D)(C.e.FIGJAM,e)}return l.createElement(M.i,{displayAs:M.C.Block},0===Object.keys(this.props.sceneGraphSelection).length&&l.createElement(sw.Mw,{panelName:sw.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&l.createElement(nk.AV,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&l.createElement(uF._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this.props.isUI3&&this._instancePanel.render({isVisible:!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()}),this._transformPanel.render({isVisible:!0}),this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._scalePanel.render({isVisible:e[i.ibQ.SCALE_ITEM]}),!this.props.isUI3&&this._instancePanel.render({isVisible:!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()}),this._constraintsResizingPanel.render({isVisible:!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()}),!this.props.isUI3&&this._layerPanel.render({isVisible:e[i.ibQ.LAYER_ITEM]}),this.state.panelState===I.GR.DEFAULT_SIMPLIFIED&&l.createElement(uD,{onExpand:()=>{this.setState({panelState:I.GR.OVERRIDDEN_EXPANDED})}}),this.state.panelState===I.GR.OVERRIDDEN_EXPANDED&&l.createElement(l.Fragment,null,this.props.isUI3&&this._layerPanel.render({isVisible:e[i.ibQ.LAYER_ITEM]}),l.createElement(sW.Q,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render({isVisible:e[i.ibQ.TEMPLATE_ITEM]}),this._componentPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]}),this._vectorPanel.render({isVisible:e[i.ibQ.VECTOR_ITEM]}),!this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._maskPanel.render({isVisible:e[i.ibQ.MASK_ITEM]}),!this.props.isUI3&&this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this._typePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._canvasBackgroundPanel.render({isVisible:e[i.ibQ.CANVAS_ITEM]}),this._removeGroupFillAndStrokePanel.render({isVisible:e[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]}),this._fillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._strokePanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),!this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._effectsPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this.props.isUI3&&this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this.props.isUI3&&this.shouldShowExportPanel()&&this._exportPanel.render({isVisible:e[i.ibQ.EXPORT_ITEM]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()})),!this.props.isUI3&&this.shouldShowExportPanel()&&this._exportPanel.render({isVisible:e[i.ibQ.EXPORT_ITEM]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()}))},this.renderDesignPanels=()=>{let e=this.props.shownPanels;return(((0,k.Im)(e)||Object.keys(e).every(t=>!e[parseInt(t)]))&&!window.figmaPerfTesting&&!(0,A.Lg)()&&!(0,A.nl)()&&(0,N.x1)("PropertiesPanel","Rendering design tab with no shownPropertiesPanels",{isEmpty:(0,k.Im)(e),shouldRenderInspectTab:this.shouldRenderInspectTab()}),e[i.ibQ.FRAME_PRESETS])?l.createElement(M.i,{displayAs:M.C.Block},this._framePresetPanel.render({isVisible:!0})):e[i.ibQ.PENCIL_TOOL]?l.createElement(M.i,{displayAs:M.C.Block},this._pencilToolPanel.render({isVisible:!0})):l.createElement(M.i,{displayAs:M.C.Block},0===Object.keys(this.props.sceneGraphSelection).length&&l.createElement(sw.Mw,{panelName:sw.ON.DESIGN}),!this.props.isUI3&&this.shouldShowAlignControls()&&l.createElement(nk.AV,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&l.createElement(uF._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this.props.isUI3&&this._componentPropertiesPanel.render({isVisible:this.shouldShowComponentPropertiesPanel()}),this.props.isUI3&&this._componentPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]}),this.props.isUI3&&this._instancePanel.render({isVisible:this.shouldShowInstancePanel()}),this._transformPanel.render({isVisible:this.props.isUI3&&this.shouldShowAlignControls()||e[i.ibQ.TRANSFORM_ITEM]}),this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._scalePanel.render({isVisible:e[i.ibQ.SCALE_ITEM]}),l.createElement(sW.Q,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render({isVisible:e[i.ibQ.TEMPLATE_ITEM]}),this._templatePropertiesPanel.render({isVisible:e[i.ibQ.TEMPLATE_ITEM]}),!this.props.isUI3&&this._componentPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]}),!this.props.isUI3&&this._componentPropertiesPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()}),this._liveObjectPanel.render({isVisible:this.isLiveObjectSelected()}),!this.props.isUI3&&this._instancePanel.render({isVisible:this.shouldShowInstancePanel()}),this._vectorPanel.render({isVisible:e[i.ibQ.VECTOR_ITEM]}),!this.props.isUI3&&this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._constraintsResizingPanel.render({isVisible:!this.props.isUI3&&this.shouldShowConstraintsResizingPanel()}),this._maskPanel.render({isVisible:e[i.ibQ.MASK_ITEM]}),!this.props.isUI3&&this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this._layerPanel.render({isVisible:e[i.ibQ.LAYER_ITEM]}),this._typePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._canvasBackgroundPanel.render({isVisible:e[i.ibQ.CANVAS_ITEM]}),this._removeGroupFillAndStrokePanel.render({isVisible:e[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]}),this._fillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._strokePanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),!this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._effectsPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this.props.isUI3&&this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._localVariablesPanel.render({isVisible:this.shouldShowLocalVariablesPanel()}),this._localStylesPanel.render({isVisible:this.shouldShowLocalStylesPanel(),valueArgs:["local-styles"]}),this.props.isUI3&&this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this.shouldShowExportPanel()&&this._exportPanel.render({isVisible:e[i.ibQ.EXPORT_ITEM]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()}))},this.renderSlidesPanels=()=>{let e=this.props.shownPanels,t=this.props.selectionProperties.numSelectedByType;if(e[i.ibQ.PENCIL_TOOL])return l.createElement(M.i,{displayAs:M.C.Block},this._pencilToolPanel.render({isVisible:!0}));let n=!!t&&(t.SLIDE??0)>0&&(0,U.OU)(t,["SLIDE"]);return l.createElement(M.i,{displayAs:M.C.Block},this._slidesAlignPanel.render({isVisible:this.shouldShowSlidesAlignPanel()}),this.shouldRenderUI3ToolbarItems()&&l.createElement(uF._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel(),shouldShowSlidesTypePanel:e[i.ibQ.TYPE_ITEM]}),this._slidesThemePanel.render({isVisible:n}),this._slidesInstancePanel.render({isVisible:this.shouldShowInstancePanel()}),this._slidesTypePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._slidesFillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._slidesOpacityPanel.render({isVisible:e[i.ibQ.FILL_ITEM]&&!n}),this._slidesCornerPanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),this._slidesBorderPanel.render({isVisible:e[i.ibQ.STROKE_ITEM]&&this.doesNotHaveAnySelectedText()}),this._slidesShadowPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this._slidesLinkPanel.render({isVisible:e[i.ibQ.TYPE_ITEM]&&this.shouldShowSlidesLinkPanel()}),this._slidesSelectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._slidesEmbeddablePrototypePanel.render({isVisible:e[i.ibQ.SLIDES_EMBED]}),this._slidesInteractiveWidgetPanel.render({isVisible:e[i.ibQ.SLIDES_INTERACTIVE_WIDGET]}))},this.renderSlidesAnimationPanels=()=>{let e=this.props.shownPanels;return l.createElement(M.i,{displayAs:M.C.Block},this._slidesAnimationPanel.render({isVisible:e[i.ibQ.SLIDES_ANIMATION]}))},this.renderSitesPanels=()=>{let e=this.props.shownPanels;return l.createElement(M.i,{displayAs:M.C.Block},this.shouldRenderUI3ToolbarItems()&&l.createElement(uF._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this._sitesCanvasOverlayPanel.render({isVisible:this.shouldShowSitesCanvasOverlayPanel()}),this._componentPropertiesPanel.render({isVisible:this.shouldShowComponentPropertiesPanel()}),this._componentPanel.render({isVisible:e[i.ibQ.COMPONENT_ITEM]}),this._instancePanel.render({isVisible:!this.scaleShouldHideOtherPanels()&&this.shouldShowInstancePanel()}),this._sitesPositionPanel.render({isVisible:this.shouldShowSitesPositionPanel()}),this._transformPanel.render({isVisible:e[i.ibQ.TRANSFORM_ITEM]}),this._stackPanel.render({isVisible:this.shouldShowStackPanel(this.props.hasMergedDimensionsAndAutolayout)}),this._scalePanel.render({isVisible:e[i.ibQ.SCALE_ITEM]}),this._sitesPageMetadataPanel.render({isVisible:this.shouldShowSitesPageMetadataPanel()}),l.createElement(sW.Q,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render({isVisible:e[i.ibQ.TEMPLATE_ITEM]}),this._vectorPanel.render({isVisible:e[i.ibQ.VECTOR_ITEM]}),this._maskPanel.render({isVisible:e[i.ibQ.MASK_ITEM]}),this._layerPanel.render({isVisible:e[i.ibQ.LAYER_ITEM]}),this._typePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._canvasBackgroundPanel.render({isVisible:e[i.ibQ.CANVAS_ITEM]}),this._removeGroupFillAndStrokePanel.render({isVisible:e[i.ibQ.REMOVE_GROUP_BACKGROUND_ITEM]}),this._selectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()}),this._fillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._strokePanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),this._effectsPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this._gridsPanel.render({isVisible:e[i.ibQ.GRIDS_ITEM]}),this._sitesHTMLWidgetPanel.render({isVisible:this.shouldShowSitesHTMLWidgetPanel()}),this._sitesAccessibilityPanel.render({isVisible:this.shouldShowSitesAccessibilityPanel()}),this._sitesResponsivenessPanel.render({isVisible:this.shouldShowSitesResponsivenessPanel()}),this._localVariablesPanel.render({isVisible:this.shouldShowLocalVariablesPanel()}),this._localStylesPanel.render({isVisible:this.shouldShowLocalStylesPanel(),valueArgs:["local-styles"]}),this._pluginPanel.render({isVisible:!this.scaleShouldHideOtherPanels()}))},this.renderCooperPanels=()=>{let e=this.props.shownPanels;return l.createElement(M.i,{displayAs:M.C.Block},this._cooperConstrainedEditPanel.render({isVisible:!0}),this.shouldShowCooperFreeformEditPanel()&&l.createElement(l.Fragment,null,this.shouldRenderUI3ToolbarItems()&&l.createElement(uF._i,{recordingKey:"toolbarView",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel(),shouldShowSlidesTypePanel:e[i.ibQ.TYPE_ITEM]}),this._cooperTypePanel.render({isVisible:e[i.ibQ.TYPE_ITEM]}),this._cooperFillPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._cooperOpacityPanel.render({isVisible:e[i.ibQ.FILL_ITEM]}),this._cooperCornerPanel.render({isVisible:e[i.ibQ.STROKE_ITEM]}),this._cooperBorderPanel.render({isVisible:e[i.ibQ.STROKE_ITEM]&&this.doesNotHaveAnySelectedText()}),this._cooperShadowPanel.render({isVisible:e[i.ibQ.EFFECTS_ITEM]}),this._slidesSelectionPaints.render({isVisible:this.shouldShowSelectionPaintsPanel()})))},this.renderCooperPublishPanels=()=>l.createElement(M.i,{displayAs:M.C.Block},this._cooperPublishEditPanel.render({isVisible:!0})),this.renderInspectionPanels=()=>{let e=this.props.openFile?.canEdit,t=this.props.selectionProperties,n=!t.prototypeStartingPointsInfo||t.prototypeStartingPointsInfo?.length>0,r=0===Object.keys(this.props.sceneGraphSelection).length,i=r&&!e&&n;return l.createElement(V.fu,{name:j.e0.CODE_PANEL},l.createElement(M.i,{displayAs:M.C.Block},l.createElement(sw.Mw,{panelName:sw.ON.INSPECT}),l.createElement(iX.U,{key:"inspection-properties-panel",recordingKey:"inspectionPanel",flowPanel:this._viewOnlyFlowsPanel.render({isVisible:i}),localStylesPanel:this._localStylesPanel.render({isVisible:r,valueArgs:["code-local-styles"]})})))},this.renderPrototypePanels=()=>{let e=this.props.shownPanels;return l.createElement(M.i,{displayAs:M.C.Block},this._sitesLinkPanel.render({isVisible:this.shouldShowSitesLinkPanel()}),this._sitesInteractionsPanel.render({isVisible:this.shouldShowSitesInteractionsPanel()}),this._framePresetPanel.render({isVisible:e[i.ibQ.FRAME_PRESETS]}),this._pencilToolPanel.render({isVisible:e[i.ibQ.PENCIL_TOOL]}),this._prototypePanel.render({isVisible:!e[i.ibQ.FRAME_PRESETS]&&!e[i.ibQ.PENCIL_TOOL]&&!this.selectionProperties().containsResponsiveSets}))},this.shouldRenderInspectTab=()=>this.props.appModel.showUi&&!!this.props.user&&this.props.appModel.isReadOnly,this.onKeyDown=e=>{this.props.selectedStyleProperties&&(0,a.isValid)(this.props.selectedStyleProperties.guid)&&(e.event.keyCode===m.Uz.ESCAPE?(e.accept(),i.glU.selectStyle(s.StyleKey.INVALID,s.StyleVersion.INVALID)):e.event.keyCode===m.Uz.F&&i.glU.selectStyle(s.StyleKey.INVALID,s.StyleVersion.INVALID))},this.scrollContainer=null,this.refMainScrollContainer=e=>{this.scrollContainer=e},this.isReadOnlyNonInspect=()=>this.props.appModel.isReadOnly&&!(0,to.$A)(this.props.selectedView),this.renderPanelContent=()=>{let e=this.props.appModel.topLevelMode,t=this.props.propertiesPanelTab,n=this.props.appModel.isReadOnly,r=e!==Q.lyf.PREVIEW&&(e!==Q.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==Q.lyf.DEV_HANDOFF&&t===i.FAf.DESIGN,s=e!==Q.lyf.PREVIEW&&(e!==Q.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==Q.lyf.DEV_HANDOFF&&t===i.FAf.SLIDE,a=e!==Q.lyf.PREVIEW&&(e!==Q.lyf.BRANCHING||!this.shouldRenderInspectTab())&&e!==Q.lyf.DEV_HANDOFF&&t===i.FAf.SLIDE_ANIMATION,o=e===Q.lyf.LAYOUT&&!n&&t===i.FAf.SITE,c=e!==Q.lyf.PREVIEW&&e!==Q.lyf.BRANCHING&&t===i.FAf.PROTOTYPE,p=e===Q.lyf.PREVIEW&&!this.props.userStateLoaded||t===i.FAf.INSPECT,d=e===Q.lyf.LAYOUT&&!n&&t===i.FAf.COOPER,u=e===Q.lyf.LAYOUT&&!n&&t===i.FAf.COOPER_PUBLISH;return r||s||a||o||d||u||c||p||t===i.FAf.EXPORT||t===i.FAf.COMMENT||(0,N.x1)("PropertiesPanel","Rendering empty properties panels",{topLevelMode:Q.lyf[e],tab:i.FAf[t],shouldRenderInspectTab:this.shouldRenderInspectTab()}),l.createElement(l.Fragment,null,r&&(this.state.panelState===I.GR.DEFAULT_EXPANDED?this.renderDesignPanels():this.renderSimplifiedDesignPanels()),s&&this.renderSlidesPanels(),a&&this.renderSlidesAnimationPanels(),o&&this.renderSitesPanels(),c&&this.renderPrototypePanels(),p&&this.renderInspectionPanels(),d&&this.renderCooperPanels(),u&&this.renderCooperPublishPanels(),t===i.FAf.EXPORT&&this._exportPanelInspectTab.render({isVisible:!0}),t===i.FAf.COMMENT&&l.createElement(this.props.commentsPanel,null))},this.onResize=e=>{e=(0,o.clamp)(e,u4+1,500),(0,b.UK)().propertiesPanelSplitPosition.set(e)},this.getRightPanelAnimation=(e,t)=>{if(this.props.isUI3)return;let n={ease:"easeInOut",duration:.2,delay:this.props.isCollapsed?void 0:.05};return this.props.isCollapsed?{initial:{left:`calc(${e}px + ${t})`},animate:{left:`calc(${e}px + ${t})`,display:"block",transitionEnd:{display:"none"}},transition:n}:{initial:{left:0},transition:n}}}componentDidUpdate(e,t){super.componentDidUpdate(e,t);let n=e.selectionProperties.productComponentGUIDBackingInstances,l=this.props.selectionProperties.productComponentGUIDBackingInstances;if(n!==l){let e=I.GR.DEFAULT_EXPANDED;if(l){let t=this.props.sceneGraph.get(l);t?.simplifyInstancePanels&&(e=I.GR.DEFAULT_SIMPLIFIED)}this.setState({panelState:e})}}getStylePreviewThumbnailTitle(e,t){if(t)switch(e){case"FILL":return(0,R.t)("design_systems.styles.view_color_style");case"TEXT":return(0,R.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,R.t)("design_systems.styles.view_effect_style");case"GRID":return(0,R.t)("design_systems.styles.view_grid_style");default:return(0,R.t)("design_systems.styles.view_style")}else switch(e){case"FILL":return(0,R.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,R.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,R.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,R.t)("design_systems.styles.edit_grid_style");default:return(0,R.t)("design_systems.styles.edit_style")}}shouldShowSitesPositionPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_POSITION_ITEM]}shouldShowSitesLinkPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_LINK_ITEM]}shouldShowSitesPageMetadataPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_PAGE_METADATA_ITEM]}shouldShowSitesCanvasOverlayPanel(){return(0,nT.Vj)(this.props.selectedView)&&(0,u.kc)().internal_only_debug_tools}shouldShowSitesAccessibilityPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_ACCESSIBILITY_ITEM]}shouldShowSitesResponsivenessPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_RESPONSIVENESS_ITEM]}shouldShowSitesHTMLWidgetPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_HTML_WIDGET_ITEM]}shouldShowSitesInteractionsPanel(){return(0,nT.Vj)(this.props.selectedView)&&this.props.shownPanels[i.ibQ.SITES_INTERACTIONS_ITEM]}shouldShowInstancePanel(){return this.props.shownPanels[i.ibQ.INSTANCE_ITEM]&&!this.isLiveObjectSelected()}shouldShowComponentPropertiesPanel(){return this.props.shownPanels[i.ibQ.COMPONENT_ITEM]&&!this.isStateSelected()}renderLoading(e){return l.createElement(v.vL,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:this.onKeyDown},l.createElement(_.V,{className:p()(os.Lp,{[os.Ph]:this.props.isInsetEditorEnabled})},l.createElement(O.P,{ref:this.refMainScrollContainer,className:p()(os.ux,os.KE,P.Dm,{[os.eu]:e,[os.Ph]:this.props.isInsetEditorEnabled}),width:a8.iP,hideScrollbar:!0,scrollingDisabled:!0},l.createElement("div",{className:os.eh,"data-non-interactive":!0},l.createElement(uQ.B7,null))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal()))}render(){if(this.props.isLoading)return this.renderLoading(this.props.shouldAnimateLoadingState);let e=this.props.selectedStyleProperties&&(0,a.isValid)(this.props.selectedStyleProperties.guid),t=!!(this.props.dropdownShown||this.props.pickerShown?.modal),n=this.props.propertiesPanelTab,r=n===i.FAf.COMMENT,s=!this.isReadOnlyNonInspect(),o=(0,w.P)(this.props.selectedView),c=!e||!t,m=!r&&c,h=(0,K.ft)(),g=l.createElement("div",{className:r&&s&&!o?os.By:os.eh,onMouseDown:h?void 0:this.onMouseDown,onPointerDown:h?this.onMouseDown:void 0,"data-non-interactive":!0},l.createElement(F.j9.Consumer,null,()=>this.renderPanelContent())),S=this.props.isUI3,k=(0,b.UK)().propertiesPanelSplitPosition.getCopy(),N=S?"number"==typeof k&&k>u4+1?k:u4+1:a8.iP+1,C=S?`${(0,d.jz)(tR.M$q)}px`:"var(--spacer-2)",A=this.props.appModel.topLevelMode===Q.lyf.HISTORY,M=S&&this.props.isCollapsed;return l.createElement(E.k,{name:"properties_panel",trackingEnabled:(0,u.kc)().trackable_properties||o,alsoTrack:()=>{let e=n===i.FAf.DESIGN?"design_view":"slide_view";return{pageId:(0,f.Nf)(this.props.appModel),selectedNodeIds:Object.keys(this.props.sceneGraphSelection),panelMode:o?e:void 0}}},l.createElement(v.vL,{name:"propertiesPanel",focusOnMount:!r,handleKeyDown:this.onKeyDown},l.createElement(T.lk.Provider,{value:this.showCreateStyleModal},l.createElement(_.V,{className:p()(os.Lp,{[os.R]:!this.props.appModel.showUi,[os.dn]:M,[os.Ph]:this.props.isInsetEditorEnabled,[os.Fo]:"side_panel"===this.props.inProductHelpViewType}),style:{width:N,"--inProductHelpSidePanelWidth":`${this.props.inProductHelpSidePanelWidth}px`}},this.props.shouldShowBackgroundGradient&&!this.props.isInsetEditorEnabled&&l.createElement(y.T,{side:"right"}),l.createElement(u5.X,null,l.createElement(u1.l,{className:p()(os.ux,P.Dm,{[os.ew]:this.props.rulersVisible,[os.Ph]:this.props.isInsetEditorEnabled}),onContextMenu:this.onContextMenu,"data-onboarding-key":"properties-panel",size:N,onResize:this.onResize,side:"left",animation:this.getRightPanelAnimation(N,C),"data-cancel-insertable-resource-drag-and-drop":!0},l.createElement(u2,{showRightSidebarPill:M},this.props.isUI3&&l.createElement(pl.qW,{openFile:this.props.openFile,dropdownShown:this.props.dropdownShown,multiplayer:this.props.multiplayer,user:this.props.user,isIntegration:(0,G.ck)(),selectedView:this.props.selectedView,recordingKey:this.props.recordingKey}),A&&l.createElement(tc.yU,{recordingKey:"versionHistoryView",isUI3:S}),!M&&!A&&l.createElement(oc,{activeTab:n,shouldRenderInspectTab:this.shouldRenderInspectTab(),shouldShowAlignControls:this.shouldShowAlignControls(),isUI3:this.props.isUI3,recordingKey:this.props.recordingKey}),!M&&!A&&(r?g:l.createElement("div",{className:os.gq},l.createElement(O.P,{enableOverscroll:!0,key:this.props.propertiesPanelTab,ref:this.refMainScrollContainer,className:os.jG,containerId:I.rp,hideScrollbar:!m,onContextMenu:this.onContextMenu,scrollingDisabled:r||(e?t:!!this.props.dropdownShown)},g))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal())))))))}}function u2({children:e,showRightSidebarPill:t}){let n=l.useRef(null);(0,uB.C_)(n);let r=(0,uK.U1)(n),i=(0,uU.b)();return l.createElement("div",{ref:r,className:p()(os.KE,{[os.tM]:t,[os.Ph]:i})},e)}function u6(e){let t=e.target;if(t){let n=t.tagName,l=t.type;n&&"INPUT"===n.toUpperCase()&&l&&"TEXT"===l.toUpperCase()||t.isContentEditable||e.preventDefault()}}function u7({children:e,showRightSidebarPill:t}){let n=l.useRef(null);(0,uB.C_)(n);let r=(0,uK.U1)(n),i=(0,uU.b)();return l.createElement("div",{ref:r,className:p()(os.KE,{[os.tM]:t,[os.Ph]:i})},e)}function u8(e){if(!e.stylePreviewShown.isShown||![i.FAf.DESIGN,i.FAf.SITE,i.FAf.INSPECT].includes(e.propertiesPanelTab))return null;let t=e.selectedStyleProperties,n=new eq.Mi(e.stylePreviewShown.rowLeft-I.tA,e.stylePreviewShown.rowTop);if(e.stylePreviewShown.isCreating){let{styleType:t,inheritStyleKeyField:r,styleNameInputPrefix:i}=e.stylePreviewShown;return l.createElement(uG,{recordingKey:"createStyleModal",initialPosition:n,styleNameInputPrefix:i,styleType:t,inheritStyleKeyField:r})}{let r=!(0,tQ.eE)(e.stylePreviewShown.style,e.openFile),s=r||!e.openFile?.canEdit||e.appModel.topLevelMode===i.lyf.BRANCHING,o=(0,a.toString)(t.guid);return(o&&e.library.local.styles[o]&&!e.library.local.styles[o].is_soft_deleted||r)&&e.selectedStyleProperties.guid?l.createElement(T.zK.Provider,{value:T.zM.EDIT_STYLE},l.createElement(e1.vx,{title:function(e,t){if(t)switch(e){case"FILL":return(0,R.t)("design_systems.styles.view_color_style");case"TEXT":return(0,R.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,R.t)("design_systems.styles.view_effect_style");case"GRID":return(0,R.t)("design_systems.styles.view_grid_style");default:return(0,R.t)("design_systems.styles.view_style")}else switch(e){case"FILL":return(0,R.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,R.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,R.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,R.t)("design_systems.styles.edit_grid_style");default:return(0,R.t)("design_systems.styles.edit_style")}}(t.styleType,s),key:(0,tv.Gj)(e.stylePreviewShown.style),headerSize:"small",initialWidth:I.tA,initialPosition:n,onClose:e.onCloseStylePreviewModal,recordingKey:e.recordingKey,dragHeaderOnly:!0},l.createElement("div",{className:os.FY},l.createElement(z.VF,{isVisible:!0},()=>l.createElement(u9,{selectedStyleProperties:e.selectedStyleProperties,openFile:e.openFile,propertiesPanelTab:e.propertiesPanelTab,appModel:e.appModel,stylePreviewShown:e.stylePreviewShown,library:e.library,dispatch:e.dispatch,recordingKey:e.thumbnailRecordingKey})),l.createElement(z.VF,{isVisible:r},()=>l.createElement(u0,{stylePreviewShown:e.stylePreviewShown,user:e.user}))))):null}}function u9(e){let t=(0,tv.IW)(e.stylePreviewShown),n=e.openFile?.canEdit,r=!!t||!n||e.appModel.isReadOnly;return l.createElement(uW,{key:"style-preview-panel",selectedStyleProperties:e.selectedStyleProperties,isInspectPanel:e.propertiesPanelTab===i.FAf.INSPECT,stylePreviewShown:e.stylePreviewShown,externalStyle:t,isRenaming:e.library.isRenamingSelectedStyle,viewOnly:r,dispatch:e.dispatch,recordingKey:e.recordingKey})}function me(e){return l.createElement(v.vL,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:e.onKeyDown},l.createElement(_.V,{className:p()(os.Lp,{[os.Ph]:e.isInsetEditorEnabled})},l.createElement(O.P,{ref:e.refMainScrollContainer,className:p()(os.ux,os.KE,P.Dm,{[os.eu]:e.shouldAnimate,[os.Ph]:e.isInsetEditorEnabled}),width:a8.iP,hideScrollbar:!0,scrollingDisabled:!0},l.createElement("div",{className:os.eh,"data-non-interactive":!0},l.createElement(uQ.B7,null))),e.stylePreviewShown.isShown&&e.stylePreviewModal))}u3.displayName="PropertiesPanel";let mt=(0,d.jz)(tR.uj0),mn=e=>{e=(0,o.clamp)(e,mt+1,500),(0,b.UK)().propertiesPanelSplitPosition.set(e)};function ml(e){let t=(0,r.wA)(),[n,o]=(0,l.useState)(I.GR.DEFAULT_EXPANDED);(0,l.useEffect)(()=>{let t=e.selectionProperties.productComponentGUIDBackingInstances,n=I.GR.DEFAULT_EXPANDED;if(t){let l=e.sceneGraph.get(t);l?.simplifyInstancePanels&&(n=I.GR.DEFAULT_SIMPLIFIED)}o(n)},[e.selectionProperties.productComponentGUIDBackingInstances,e.sceneGraph]);let c=(0,l.useCallback)(t=>{e.selectedStyleProperties&&(0,a.isValid)(e.selectedStyleProperties.guid)&&(t.event.keyCode===m.Uz.ESCAPE?(t.accept(),i.glU.selectStyle(s.StyleKey.INVALID,s.StyleVersion.INVALID)):t.event.keyCode===m.Uz.F&&i.glU.selectStyle(s.StyleKey.INVALID,s.StyleVersion.INVALID))},[e.selectedStyleProperties]),k=(0,l.useCallback)(({styleType:e,inheritStyleKeyField:n,nodeId:l,rowLeft:r,rowTop:i})=>{t(g.sw()),t(g.Zs({rowLeft:r,rowTop:i,styleType:e,inheritStyleKeyField:n,nodeId:l}))},[t]),N=(0,l.useCallback)(()=>{i.glU.selectStyle(s.StyleKey.INVALID,s.StyleVersion.INVALID),t(g.sw()),t((0,S.B)())},[t]),C=null,A=e=>{C=e},O=(0,l.useCallback)((t,n)=>{if(e.isUI3)return;let l={ease:"easeInOut",duration:.2,delay:e.isCollapsed?void 0:.05};return e.isCollapsed?{initial:{left:`calc(${t}px + ${n})`},animate:{left:`calc(${t}px + ${n})`,display:"block",transitionEnd:{display:"none"}},transition:l}:{initial:{left:0},transition:l}},[e.isCollapsed,e.isUI3]),M=e.propertiesPanelTab,R=M===i.FAf.COMMENT,L=(0,w.P)(e.selectedView),x=e.isUI3,D=(0,b.UK)().propertiesPanelSplitPosition.getCopy(),F=x?"number"==typeof D&&D>mt+1?D:mt+1:a8.iP+1,V=x?`${(0,d.jz)(tR.M$q)}px`:"var(--spacer-2)",K=x&&e.isCollapsed,U=(0,l.useCallback)(()=>{let t=M===i.FAf.DESIGN?"design_view":"slide_view";return{pageId:(0,f.Nf)(e.appModel),selectedNodeIds:Object.keys(e.sceneGraphSelection),panelMode:L?t:void 0}},[e.sceneGraphSelection,e.appModel,L,M]);return l.createElement(l.Fragment,null,e.isLoading?l.createElement(me,{shouldAnimate:e.shouldAnimateLoadingState,refMainScrollContainer:A,onKeyDown:c,stylePreviewShown:e.stylePreviewShown,isInsetEditorEnabled:e.isInsetEditorEnabled,stylePreviewModal:l.createElement(u8,{onCloseStylePreviewModal:N,stylePreviewShown:e.stylePreviewShown,propertiesPanelTab:e.propertiesPanelTab,selectedStyleProperties:e.selectedStyleProperties,openFile:e.openFile,recordingKey:h.Pt(e,"modal"),thumbnailRecordingKey:h.Pt(e,"stylePreviewPanel"),appModel:e.appModel,library:e.library,user:e.user,dispatch:t})}):l.createElement(E.k,{name:"properties_panel",trackingEnabled:(0,u.kc)().trackable_properties||L,alsoTrack:U},l.createElement(v.vL,{name:"propertiesPanel",focusOnMount:!R,handleKeyDown:c},l.createElement(T.lk.Provider,{value:k},l.createElement(_.V,{className:p()(os.Lp,{[os.R]:!e.appModel.showUi,[os.dn]:K,[os.Ph]:e.isInsetEditorEnabled,[os.Fo]:"side_panel"===e.inProductHelpViewType}),style:{width:F,"--inProductHelpSidePanelWidth":`${e.inProductHelpSidePanelWidth}px`}},e.shouldShowBackgroundGradient&&!e.isInsetEditorEnabled&&l.createElement(y.T,{side:"right"}),l.createElement(u5.X,null,l.createElement(u1.l,{className:p()(os.ux,P.Dm,{[os.ew]:e.rulersVisible,[os.Ph]:e.isInsetEditorEnabled}),onContextMenu:u6,"data-onboarding-key":"properties-panel",size:F,onResize:mn,side:"left",animation:O(F,V),"data-cancel-insertable-resource-drag-and-drop":!0},l.createElement(u7,{showRightSidebarPill:K},l.createElement(uV,{panelState:n,setPanelState:e=>o(e),dispatch:t,scrollContainer:C,refMainScrollContainer:A,...e}),e.stylePreviewShown.isShown&&l.createElement(u8,{onCloseStylePreviewModal:N,stylePreviewShown:e.stylePreviewShown,propertiesPanelTab:e.propertiesPanelTab,selectedStyleProperties:e.selectedStyleProperties,openFile:e.openFile,recordingKey:h.Pt(e,"modal"),thumbnailRecordingKey:h.Pt(e,"stylePreviewPanel"),appModel:e.appModel,library:e.library,user:e.user,dispatch:t})))))))))}function mr(e){let{dispatch:t,...n}=e;return l.createElement(l.Fragment,null,(0,u.kc)().properties_panel_refactor?l.createElement(ml,{...n}):l.createElement(u3,{...e}))}},841983:(e,t,n)=>{n.d(t,{D:()=>u,N:()=>d});var l=n(411855),r=n(188507),i=n(356390),s=n(498606),a=n(677859),o=n(88220),c=n(426906);let p=["semi-bold","semi bold","bold","extra-bold","extra bold","black"];function d(e){return p.some(t=>e.toLowerCase().startsWith(t))}function u(){let e=(0,r.d4)(e=>d(e.mirror.selectionProperties.fontStyle?.toString()||"")),t=(0,r.d4)(e=>"STRIKETHROUGH"===e.mirror.selectionProperties.whiteboardTextDecoration);return l.createElement(l.Fragment,null,l.createElement(a.K0,{svg:o.A,tooltip:"toggle-bold",tooltipType:s.Ib.LOOKUP,active:e?"LOUD":void 0,onClick:()=>i.Y5.triggerActionInUserEditScope("toggle-bold"),recordingKey:"bold",role:"switch",blurOnClick:!0}),l.createElement(a.K0,{svg:c.A,tooltip:"text-toggle-strikethrough",tooltipType:s.Ib.LOOKUP,active:t?"LOUD":void 0,onClick:()=>i.Y5.triggerActionInUserEditScope("text-toggle-strikethrough"),recordingKey:"strikethrough",role:"switch",blurOnClick:!0}))}}}]);

//# debugId=1bfbb93c-40a3-5be7-b1e4-4b57ce446055

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/1dff858108e064af03187b98b12408ed0c563258/properties_panel-2acdde4a6bcbc34c.min.js.map