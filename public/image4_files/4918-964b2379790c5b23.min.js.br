"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1d36eac8-a2c1-57d4-a4e5-157215e9acb4")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[4918],{706348:(e,t,a)=>{a.d(t,{B:()=>i,c6:()=>l,dH:()=>n,n$:()=>o,vV:()=>r});let n="panel_upsell--panelUpsellContainer---xK91 common--well--J0WtH",r="panel_upsell--panelUpsellContainerTight--c5-P9",l="panel_upsell--panelUpsellTitle--0KlPt text--fontPos11--2LvXf text--_fontBase--QdLsd",i="panel_upsell--panelUpsellContent--VuPf6 text--fontPos11--2LvXf text--_fontBase--QdLsd",o="panel_upsell--panelUpsellContentLink--aX2Qz blue_link--blueLink--9rlnd"},537240:(e,t,a)=>{a.d(t,{$s:()=>s,IP:()=>l,R9:()=>o,RL:()=>i,SZ:()=>d,UD:()=>c,ZS:()=>r,hQ:()=>n,x1:()=>u,xn:()=>m});let n="figjam_onboarding_make_something--contentContainer--gVph-",r="figjam_onboarding_make_something--imageContainer--RoSk9",l="figjam_onboarding_make_something--bodyContainer--GVc2Q text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",i="figjam_onboarding_make_something--tooltipBodyXSmall--sONX7",o="figjam_onboarding_make_something--tooltipBodySmall--7yA9-",s="figjam_onboarding_make_something--tooltipBodyLarge--jkc-5",c="figjam_onboarding_make_something--buttonContainer--78iSl",d="figjam_onboarding_make_something--skipButton--pKB7N connector_modal_cta_button--button--mhvSu text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",u="figjam_onboarding_make_something--shiftSkipButtonAboveDlt---sQ7k",m="figjam_onboarding_make_something--standaloneModal--Ksh8z"},976726:(e,t,a)=>{a.d(t,{AX:()=>S,D6:()=>M,Dw:()=>N,G$:()=>l,Gu:()=>k,HR:()=>E,JA:()=>c,Jo:()=>v,N6:()=>G,NB:()=>U,Nf:()=>R,PP:()=>o,QF:()=>I,Rt:()=>n,S:()=>Z,T:()=>L,V3:()=>_,VM:()=>H,VQ:()=>A,Vz:()=>B,Wv:()=>s,Xt:()=>g,Z9:()=>d,_E:()=>V,_M:()=>b,_P:()=>y,bB:()=>p,c1:()=>D,du:()=>w,dz:()=>Y,eO:()=>j,ei:()=>u,fp:()=>F,fz:()=>O,gV:()=>X,hY:()=>T,hs:()=>W,i$:()=>q,kQ:()=>z,of:()=>P,qp:()=>C,r9:()=>h,rB:()=>K,rX:()=>x,sb:()=>m,tI:()=>r,v9:()=>i,wH:()=>f});let n="canvas_search--searchInput--aCP6B canvas_search--input--aPqLZ",r="canvas_search--searchInputSingleLine--DUHFr",l="canvas_search--searchSidebarContainer--1tcxd",i="canvas_search--icon32--bmz-L",o="canvas_search--searchBarContainer--rxvLi",s="canvas_search--searchBarRow--9aFwa",c="canvas_search--searchBarRowMinimal--dEN6B canvas_search--searchBarRow--9aFwa",d="canvas_search--searchIconAndInput--3tdWb",u="canvas_search--searchIconPlaceholderFill--MohCt",m="canvas_search--resultsContainer--b0olz",p="canvas_search--resultsList--Hciv7",_="canvas_search--layerIcon--RpNZF",f="canvas_search--selected--Ng41y",h="canvas_search--disabled--dMwG7",g="canvas_search--indirectlySelected--2E-TI",E="canvas_search--symbol--614fP",y="canvas_search--layerIconContainer--IuQxq",v="canvas_search--resultInfoHeader--GM1gm",b="canvas_search--resultInfo--PKQiZ",C="canvas_search--resultsText--ubMAu",w="canvas_search--resultsFooterText--rPxEh",T="canvas_search--dotDivider--zvIFp",S="canvas_search--resultRow--xX8wI",N="canvas_search--isHoverSelecting--LlQSE",x="canvas_search--singletonHoverSelected--pCLSM",k="canvas_search--resultSubheading--XCt-Z",I="canvas_search--offlineIconContainer--qVbhY",A="canvas_search--offlineIcon--F0sbc",L="canvas_search--hoverSelectedTop--mA-fk canvas_search--_hoverSelectedBase--JOTSs",O="canvas_search--hoverSelectedMiddle--OBw7k canvas_search--_hoverSelectedBase--JOTSs",R="canvas_search--hoverSelectedBottom--zH7Va canvas_search--_hoverSelectedBase--JOTSs",M="canvas_search--resultText--RXqeC",D="canvas_search--multiline--1gb-l",P="canvas_search--strikethrough--0xsma",F="canvas_search--otherResults--G94fM",B="canvas_search--searchScopeButton--Grrvz",U="canvas_search--pageScopeDropdown--K5y-7",H="canvas_search--dropdownOption--dQRr3",G="canvas_search--replaceInput--TmEDS canvas_search--searchBarRow--9aFwa canvas_search--input--aPqLZ",V="canvas_search--replaceButtons--1sbwP",z="canvas_search--collapsableHeaderToggle--kHXh8",K="canvas_search--collapsableHeaderName---qij5",W="canvas_search--collapsableHeaderCount---NL3l",j="canvas_search--expandIcon--6eieV",Z="canvas_search--loadingSpinner--Y5hDC",Y="canvas_search--loadingSpinnerDelay--Rk3MX",X="canvas_search--searchIconButton--lg-V8",q="canvas_search--searchSidebarMinimal--I1hwg canvas_search--searchSidebarContainer--1tcxd"},36038:(e,t,a)=>{a.d(t,{LR:()=>r,bl:()=>n,uw:()=>l});let n="design_toolbelt--toolbeltWrapper--tM2Eq",r="design_toolbelt--hiddenButtonSpacer--8MJP6",l="design_toolbelt--activeComment--wIom6"},204753:(e,t,a)=>{a.d(t,{Cg:()=>l,pk:()=>r,zr:()=>n});let n="secondary_toolbelt--root--YkdV7",r="secondary_toolbelt--secondaryToolbeltContainer--BkpOx",l="secondary_toolbelt--secondaryToolbeltLabel--seOut"},133024:(e,t,a)=>{a.d(t,{F:()=>r,HR:()=>s,Io:()=>l,Pn:()=>d,V_:()=>n,dK:()=>u,nM:()=>c,rH:()=>o,sQ:()=>i,ue:()=>m});let n="on_canvas_pill--pillContainer--jvRgr",r="on_canvas_pill--centered--iOUXI",l="on_canvas_pill--pill--fSukI",i="on_canvas_pill--bottom--gwvqA",o="on_canvas_pill--node--xgavI",s="on_canvas_pill--symbol--3Kz9f",c="on_canvas_pill--row--I6QoB",d="on_canvas_pill--pillLargeBorderRadius--9uWP9",u="on_canvas_pill--pillText--ts0Xi ellipsis--ellipsis--Tjyfa",m="on_canvas_pill--iconNodeType--0xm99"},297757:(e,t,a)=>{a.d(t,{AR:()=>X,A_:()=>G,DN:()=>E,E3:()=>D,FK:()=>C,Gv:()=>c,Hd:()=>i,JX:()=>W,Kl:()=>l,Mf:()=>p,Ng:()=>d,ON:()=>v,PP:()=>f,Pt:()=>S,QF:()=>z,Qu:()=>K,S:()=>Z,Ub:()=>g,Uj:()=>I,VA:()=>Y,VN:()=>V,Wz:()=>k,Ye:()=>s,ZE:()=>P,bV:()=>N,bq:()=>M,cB:()=>U,d3:()=>L,dJ:()=>o,gC:()=>r,gD:()=>O,gP:()=>w,jT:()=>n,k8:()=>y,kb:()=>H,lX:()=>b,mH:()=>h,nN:()=>m,nZ:()=>B,oB:()=>u,q_:()=>A,rq:()=>T,sH:()=>x,x0:()=>F,xR:()=>_,yl:()=>R,zN:()=>j});let n="fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",r="fd_browse_resource_modal--modalContainerPinAnimation--dBKwy fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",l="fd_browse_resource_modal--slidingPaneContainer--sW-oK sliding_pane--slidingPaneContainer--RQkXf",i="fd_browse_resource_modal--slidingPaneContainerAdjustable--ge7kl sliding_pane--slidingPaneContainer--RQkXf",o="fd_browse_resource_modal--slidingPane--TqmkG sliding_pane--slidingPane--6OmDU",s="fd_browse_resource_modal--slidingPaneLeft--TOiZt sliding_pane--slidingPaneLeft--Wrfdy sliding_pane--slidingPane--6OmDU",c="fd_browse_resource_modal--backButton--S7dMz",d="fd_browse_resource_modal--tabHeader--edoDO",u="fd_browse_resource_modal--tabsContainer--v6cIk",m="fd_browse_resource_modal--tabClickTarget--QDM1e",p="fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",_="fd_browse_resource_modal--selectedTab--u91ec fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",f="fd_browse_resource_modal--searchBarContainer--Q2kZ7",h="fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",g="fd_browse_resource_modal--searchBarAndFilterContainer--F1Wg8",E="fd_browse_resource_modal--searchBarContainerScrolled--2-lJE fd_browse_resource_modal--searchBarContainer--Q2kZ7",y="fd_browse_resource_modal--devHandoffSearchBarContainerScrolled--KosxI fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",v="fd_browse_resource_modal--searchBar---bmO8",b="fd_browse_resource_modal--searchBarEmpty--8dNhE",C="fd_browse_resource_modal--searchBarDevHandoff--uuPW-",w="fd_browse_resource_modal--searchBarFilterButton--hQeym",T="fd_browse_resource_modal--headerIconButtonSel--nV-KN",S="fd_browse_resource_modal--filterButtonActive--8krHg",N="fd_browse_resource_modal--sectionHeader--a-cdT fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",x="fd_browse_resource_modal--sectionHeaderWithIcon--Tr-vS fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",k="fd_browse_resource_modal--horizontalDivider--H67hA",I="fd_browse_resource_modal--horizontalDividerLong--cQZ0n fd_browse_resource_modal--horizontalDivider--H67hA",A="fd_browse_resource_modal--mainViewHeader--AZpur",L="fd_browse_resource_modal--mainViewHeaderHeight--7TbQi",O="fd_browse_resource_modal--mainViewHeaderScrolled--RPI7X fd_browse_resource_modal--mainViewHeader--AZpur",R="fd_browse_resource_modal--mainViewSelectorTitle--TnoUK text--fontPos12--YsUAh text--_fontBase--QdLsd",M="fd_browse_resource_modal--mainViewSelectorChevron--P-lJ8",D="fd_browse_resource_modal--mainViewSelector--chQy5",P="fd_browse_resource_modal--mainViewSelectorTitleContainer--PITMQ",F="fd_browse_resource_modal--mainViewHeaderRightSide--hxfTP text--fontPos12--YsUAh text--_fontBase--QdLsd",B="fd_browse_resource_modal--viewExpandedCta--xrZpk text--fontPos12--YsUAh text--_fontBase--QdLsd",U="fd_browse_resource_modal--expandedViewHeader--uLZl5",H="fd_browse_resource_modal--left--si6Cj",G="fd_browse_resource_modal--expandedViewHeaderTitle--wG-j2 text--fontPos11--2LvXf text--_fontBase--QdLsd",V="fd_browse_resource_modal--close--G1pa0",z="fd_browse_resource_modal--expandedViewContainer--EvsBd",K="fd_browse_resource_modal--communityLink--gI-Ei fd_browse_resource_modal--communityLinkBase---qAie text--fontPos12--YsUAh text--_fontBase--QdLsd",W="fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd",j="fd_browse_resource_modal--emptySection--ANbkm text--fontPos12--YsUAh text--_fontBase--QdLsd",Z="fd_browse_resource_modal--loadingSpinner--0IwJ9",Y="fd_browse_resource_modal--subtitle--Rvd0d text--fontPos11--2LvXf text--_fontBase--QdLsd",X="fd_browse_resource_modal--showAllSavedExtensionsButton--LDbiv text--fontPos12--YsUAh text--_fontBase--QdLsd"},526518:(e,t,a)=>{a.d(t,{H:()=>n});let n="0.5s"},775058:(e,t,a)=>{a.d(t,{$v:()=>g,BW:()=>_,Bl:()=>r,Gp:()=>c,OE:()=>E,OP:()=>f,Ul:()=>l,YK:()=>o,gS:()=>p,gb:()=>n,kJ:()=>m,mQ:()=>d,n:()=>h,oR:()=>s,v$:()=>i,zk:()=>u});let n="mini_home--iconButton--ZvEwQ toolbar_view--iconButton--1MUm6",r="mini_home--contextRowContainer--lbaDy",l="mini_home--contextRowThumbnailBackground--3WQmn",i="mini_home--contextRowThumbnailPlusSign--9w5Au",o="mini_home--contextRowContainerSelected--bpqz9",s="mini_home--contextRowMetaContainer--ASL1J",c="mini_home--contextRowTitle--49E7k text--fontPos11--2LvXf text--_fontBase--QdLsd",d="mini_home--contextRowTimestamp--cvj3G text--fontPos11--2LvXf text--_fontBase--QdLsd",u="mini_home--contextRowTitleSelected--gg6TS",m="mini_home--contextRowThumbnail--PcdIb",p="mini_home--hoverThumbnailContainer--SSEq0 _overlayBase--_overlayBase--Rkj8l",_="mini_home--fileScrollContainer--HpT9X",f="mini_home--fileScrollContainerWithFooter--5y2tX",h="mini_home--hoverThumbnail--N1ju8",g="mini_home--hoverThumbnailMetaContainer--f-A7q",E="mini_home--hoverThumbnailMetaTitle--DJIM- text--fontPos13--xW8hS text--_fontBase--QdLsd"},840023:(e,t,a)=>{a.d(t,{Lt:()=>i,ai:()=>r,hF:()=>l,kL:()=>n});let n="whiteboard_menu_selector--container--ye4aw",r="whiteboard_menu_selector--chevron--kjs2p",l="whiteboard_menu_selector--input--GTjdY",i="whiteboard_menu_selector--select--nLTil text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},384252:(e,t,a)=>{function n(){return null}a.d(t,{N:()=>l,e:()=>r});let r=n,l=n},987067:(e,t,a)=>{a.d(t,{HQ:()=>r,K2:()=>n,U9:()=>l});let n=function(){return!1},r=function(){return!1},l=function(){return!1}},934635:(e,t,a)=>{a.d(t,{w:()=>mg,O:()=>my});var n=a(411855),r=a(188507),l=a(374626),i=a(256975),o=a(666930),s=a(786013),c=a(320063),d=a(915440),u=a(860601),m=a(939863),p=a(582947);let _="dev_handoff_seen_config_wizard",f=(0,p.Fu)(_);var h=a(910741),g=a(755594),E=a(456104),y=a(570809),v=a(335682),b=a(279453),C=a(397065),w=a(218997),T=a(15839),S=a(463546),N=a(421757),x=a(998917),k=a(243742),I=a(629019),A=a.n(I),L=a(568214),O=a(762638),R=a(278733),M=a(672517),D=a(168039),P=a(341860),F=a(620722),B=a(488578);let U="paywall_redesign_blocking_modal--secondaryButton--bQ4Ch",H="paywall_redesign_blocking_modal--title--4gS3G text--fontPos20--Bcz97 text--_fontBase--QdLsd",G="paywall_redesign_blocking_modal--textContent--BrFtf text--fontPos13--xW8hS text--_fontBase--QdLsd",V="paywall_redesign_blocking_modal--buttonLabel--qYvux",z="paywall_redesign_blocking_modal--upsellListItem--27Su- text--fontPos13--xW8hS text--_fontBase--QdLsd";function K(){let e=P.q.instance.getCurrentPage(),t=e?.backgroundColor?(0,L.YU)({...e.backgroundColor,a:.9}):"var(--color-modalbackdrop)";return n.createElement(n.Fragment,null,n.createElement("div",{className:O.cx.fixed.top0.left0.right0.bottom0.wFull.hFull.zIndexModal.$,style:R.sx.add({backgroundColor:"var(--color-modalbackdrop)"}).$}),n.createElement("div",{className:O.cx.fixed.bottom0.$,style:R.sx.add({backgroundColor:t,left:0,right:0,top:0,bottom:0}).$}))}function W({onScrimClick:e=u.lQ,imgSrc:t,imgWidth:a=328,imgHeight:r=150,hideImgBorder:l=!1,content:i,modalType:o,primaryButtonLabel:s,primaryButtonOnClick:c,primaryButtonType:d,secondaryButtonLabel:m,secondaryButtonOnClick:p,secondaryButtonType:_}){let f="light"===(0,D.DP)(),g=(0,h.bZ)(),E={type:o,text:d,...g},y={type:o,text:_,...g},v="ui3"===(0,k.DP)().version;return n.createElement(B.Nb,{size:v?392:400,className:O.cx.bRadius6.cursorDefault.selectNone.$,tintedModalBackground:!1,hide:e,enableEscapeToClose:!1,"data-testid":"dev-mode-paywall-modal"},n.createElement("div",{className:O.cx.p8.flex.flexColumn.gap24.$},n.createElement("div",{className:O.cx.bRadius4.overflowHidden.if(f&&!l,O.cx.b1.colorBorder).$,style:R.sx.add({height:`${r}px`}).$},n.createElement(F.J,{src:t,alt:"",width:a})),n.createElement("div",{className:O.cx.flex.flexColumn.gap6.$},i),n.createElement("div",{className:A()(O.cx.flex.flexColumn.gap8.$,"paywall_redesign_blocking_modal--buttonContainer--ngmo0")},s&&c&&d&&n.createElement(Y,{label:s,onClick:c,trackingProperties:E}),m&&p&&_&&n.createElement(X,{label:m,onClick:p,trackingProperties:y,isUI3:v}))))}let j=(0,M.tf)(N.Pw),Z=(0,M.tf)(x.E);function Y({label:e,onClick:t,trackingProperties:a={}}){return n.createElement("span",{className:O.cx.cursorPointer.$},n.createElement(j,{variant:"primary",onClick:t,trackingProperties:a,htmlAttributes:{"data-testid":"primary-button"}},n.createElement("span",{className:V,"data-testid":"primary-button-label"},e)))}function X({label:e,isUI3:t,onClick:a,trackingProperties:r={}}){return t?n.createElement("div",{className:U},n.createElement(j,{variant:"secondary",onClick:a,trackingProperties:r,htmlAttributes:{"data-testid":"secondary-button"}},n.createElement("span",{className:V,"data-testid":"secondary-button-label"},e))):n.createElement(Z,{className:A()(O.cx.flex.justifyCenter.alignCenter.py8.px32.h40.maxWFull.cursorPointer.$,U),onClick:a,htmlAttributes:{"data-testid":"secondary-button"},trackingProperties:r},n.createElement("div",{className:V,"data-testid":"secondary-button-label"},e))}var q=a(931828),J=a(760824);let Q="dev_mode_has_seen_trial_success_modal",$=(0,p.Fu)(Q);function ee(){let e=(0,g.J)(),t=(0,r.d4)(e=>e.userTeamFlags),a=(0,l.md)($),i=(0,v.q5)(),o=i?.teamId,s=i?.parentOrgId,c=(0,r.wA)(),d=o&&!s?t?.[o]?.[Q]:a?.data,u=(0,n.useCallback)(t=>{e&&!!d!==t&&(o&&!s?c(J.bE({all_team_flags:[{team_id:o,flags:{[Q]:t}}]})):c(q.b({[Q]:t})))},[c,d,e,s,o]);return[d,u]}function et(){let e=(0,l.md)(f),[t,a]=ee(),r=(0,v.tS)()??"",i=(0,d.Rs)(b.oBY,{key:r}),o=(0,h.bZ)(),p=(0,g.J)(),{isShowing:_,show:N,complete:x}=(0,E.e)({overlay:S.VjY,priority:C.N.HIGH_PRIORITY_MODAL},[e,i]);return(0,c.h)(()=>{!t&&p&&N({canShow:(e,t)=>!!e&&!!t?.file?.hasPermission})}),(0,n.useEffect)(()=>{_&&a(!0)},[_,a]),n.createElement(w.h,{modalType:T.q3.WELCOME,isShowing:_,onClickPrimaryCta:u.lQ,onClose:x,onManualDismiss:x,trackingContextName:"Dev Mode Trial Start Modal",trackingProperties:o,trackingEnabled:o?.gracePeriod!==void 0,element:function({dismissModal:e}){let t=(0,y.M)();return n.createElement(W,{imgSrc:"https://static.figma.com/uploads/5e9bfbdf1ce7c02544ebc1a89e0245c520a8c796",content:n.createElement(n.Fragment,null,n.createElement("div",{className:H},(0,m.tx)("dev_handoff.paywall.success_modal.grace_period.title")),n.createElement("div",{className:G},(0,m.tx)("dev_handoff.configuration_wizard.welcome_step.description_grace_period",{numDays:t?.totalGraceDays??s.W7o}))),modalType:"trial start modal",primaryButtonLabel:(0,m.tx)("dev_handoff.paywall.success_modal.grace_period.button"),primaryButtonOnClick:e,primaryButtonType:"get started"})}})}var ea=a(776250),en=a(344780),er=a(794272),el=a(157147),ei=a(785315),eo=a(239349);function es({doReport:e}){let t=(0,l.md)(ei.H),{commentsActive:a,isNodeSelected:r}=(0,er.R)(e=>({commentsActive:e.mirror.appModel.currentTool===el.ec.tool,isNodeSelected:Object.keys(e.mirror.sceneGraphSelection).length>0})),i=(0,eo.VW)();(0,c.h)(()=>{let t=en.sn.tryStop("switch_to_inspect_mode.right_panel_tti");e&&t&&(0,ea.sx)("switch_to_inspect_mode.right_panel_tti",{elapsedMs:t,isNodeSelected:r},{forwardToDatadog:!0}),en.sn.tryStop("dev_handoff.select_node_tti")}),n.useEffect(()=>{i&&!a&&requestAnimationFrame(()=>{let a=en.sn.tryStop("dev_handoff.select_node_tti");e&&a&&(0,ea.sx)("dev_handoff.select_node_tti",{elapsedMs:a,isTopLevelFrame:i.isTopLevelFrame(),activeTab:t},{forwardToDatadog:!0})})},[i,t,a,e])}var ec=a(911826),ed=a(471340),eu=a(976999),em=a(574176),ep=a(259927),e_=a(225699),ef=a(872135),eh=a(105437),eg=a(789819),eE=a(800307),ey=a(949207);let ev=[0,1,2,3,4];function eb(){let e="ui3"===(0,k.DP)().version;return n.createElement(eE.Q,null,n.createElement(e_.$,{width:240,disableResizing:!0},n.createElement("div",{className:A()(ep.Dm,"paywall_redesign_left_panel--nodesPanel--qHo6x dev_handoff_nodes_panel--nodesPanel--4Pea0"),"data-testid":"devHandoffLimitedLeftPanel"},n.createElement(eh.B,null),e&&n.createElement(n.Fragment,null,n.createElement(eg.n,null),n.createElement(ef.d,null)),n.createElement("div",{className:"paywall_redesign_left_panel--panelTitle--ya0HF dev_handoff_nodes_panel--panelTitle--wcEcM text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,m.tx)("dev_handoff.tag.ready_for_development")),n.createElement("div",{className:"paywall_redesign_left_panel--loadingParentRow--GdLwv"},n.createElement(em.B,{className:"paywall_redesign_left_panel--chevron--vDc15",svg:ey.A}),n.createElement(eu.Wi,{animationType:eu.JR.NO_SHIMMER,primary:!0})),ev.map(e=>n.createElement("div",{className:"paywall_redesign_left_panel--loadingThumbnailRow--VH8Hr",key:e},n.createElement(eu.Qp,{animationType:eu.JR.NO_SHIMMER,className:"paywall_redesign_left_panel--loadingThumbnail--XfODE"}),n.createElement("div",{className:"paywall_redesign_left_panel--loadingThumbnailTexts--iBq47"},n.createElement(eu.Wi,{animationType:eu.JR.NO_SHIMMER,primary:!0}),n.createElement(eu.Wi,{animationType:eu.JR.NO_SHIMMER,primary:!0})))),n.createElement("div",{className:"paywall_redesign_left_panel--transparentPanelScrim--trKi0"}))))}var eC=a(138020),ew=a(493323),eT=a(243987),eS=a(984968),eN=a(939683),ex=a(360712),ek=a(972457),eI=a(750293),eA=a(364871),eL=a(853079);let eO=null;function eR(){let[e,t]=n.useState(0),a=(0,eN.U)(),r=(0,eL.U)("blocking_modal"),i=(0,h.bZ)(),o=(0,ek.BC)(),s=(0,ek.AR)(),c=(0,h.lb)(),d=(0,ex.n)(),u=(0,l.md)(eA.R),p=v.q5()?.team?.name||"";n.useEffect(()=>()=>{eO&&(clearTimeout(eO),eO=null)},[]);let _=n.useCallback(()=>{a("Dev Mode Paywall clicked",{type:"Blocking Modal scrim",...i});let n=e+1;n>=5?(a("Dev Mode Paywall clicked",{type:"Blocking Modal scrim redirection",...i}),r("design")):t(n),eO||(eO=setTimeout(()=>{t(0),eO=null},1500))},[a,i,e,r]),f=n.createElement(n.Fragment,null,n.createElement("div",{className:H},c&&d?(0,m.tx)("dev_handoff.paywall.blocking_modal.title.starter_viewer"):u?(0,m.tx)("dev_handoff.paywall.blocking_modal.title.direct_link"):c?(0,m.tx)("dev_handoff.paywall.blocking_modal.title.starter"):(0,m.tx)("dev_handoff.paywall.blocking_modal.title")),d?n.createElement(n.Fragment,null,n.createElement("div",{className:"paywall_redesign_blocking_modal--upsellText--VRtZs"},(0,m.tx)("inspect_panel.properties.dev_mode_upsell_message")),n.createElement("div",{className:"paywall_redesign_blocking_modal--adminText--aBtts"},(0,m.tx)("dev_handoff.paywall.blocking_modal.content.ask_admin",{teamName:n.createElement("span",{className:"paywall_redesign_blocking_modal--teamName--76m2-"},p)}))):n.createElement("ul",null,n.createElement("li",{className:z},(0,m.tx)("dev_handoff.paywall.blocking_modal.content.code")),n.createElement("li",{className:z},(0,m.tx)("dev_handoff.paywall.blocking_modal.content.inspection")),n.createElement("li",{className:z},(0,m.tx)("dev_handoff.paywall.blocking_modal.content.plugins")))),g=n.useCallback(()=>{o.hidden||o.onClick(eI.i$.BlockingModal)},[o]),E=o.hidden?void 0:o.label;return n.createElement(M.fu,{name:"Blocking modal",properties:i,enabled:i?.gracePeriod!==void 0},n.createElement(W,{onScrimClick:_,imgSrc:"https://static.figma.com/uploads/6d5e9cb0e9ec7fd5dd58425c5527dc8a78143a19",content:f,modalType:"blocking modal",primaryButtonLabel:E,primaryButtonOnClick:g,primaryButtonType:"upgrade",secondaryButtonLabel:s.label,secondaryButtonOnClick:s.onClick,secondaryButtonType:"back to design"}))}function eM(){let e=(0,h.bZ)(),t=(0,ek.BC)(),a=(0,ek.AR)(),r=!(0,ex.n)(),l=n.createElement("div",{className:O.cx.gap6.$},n.createElement("div",{className:H},(0,m.tx)("dev_handoff.paywall.blocking_modal.title.locked")),n.createElement("div",{className:G},(0,m.tx)("dev_handoff.paywall.blocking_modal.content.locked"))),i=n.useCallback(()=>{t.hidden||t.onClick(eI.i$.BlockingModal)},[t]);return n.createElement(M.fu,{name:"Team locked modal",properties:e,enabled:e?.gracePeriod!==void 0},n.createElement(W,{imgSrc:"https://static.figma.com/uploads/0cc1682e265ffe998009571ee821470ca30ed096",imgWidth:32,imgHeight:32,hideImgBorder:!0,content:l,modalType:"blocking modal",primaryButtonLabel:t.hidden?void 0:t.label,primaryButtonOnClick:i,primaryButtonType:r?"upgrade":"back to design",secondaryButtonLabel:r?a.label:void 0,secondaryButtonOnClick:r?a.onClick:void 0,secondaryButtonType:r?"back to design":void 0}))}function eD(){let e=(0,eL.U)("blocking_modal"),t=(0,h.bZ)(),a=(0,v.tS)()??"",r=(0,d.Rs)(b.D2i,{key:a}),l=(0,d.Rs)(b.oBY,{key:a}),i=r.data?.file.status!=="error"&&r.data?.file.data?.hasPermission&&l.data?.file?.hasPermission===!1,o=n.createElement(n.Fragment,null,n.createElement("div",{className:H},i?(0,m.tx)("dev_handoff.paywall.pending_modal.grace_period_end.title"):(0,m.tx)("dev_handoff.paywall.pending_modal.no_grace_period.title")),n.createElement("div",{className:G},i?(0,m.tx)("dev_handoff.paywall.pending_modal.grace_period.description"):(0,m.tx)("dev_handoff.paywall.pending_modal.no_grace_period.description"))),s=(0,n.useCallback)(()=>{e("design")},[e]);return n.createElement(M.fu,{name:"Pending modal",properties:t,enabled:t?.gracePeriod!==void 0},n.createElement(W,{onScrimClick:u.lQ,imgSrc:"https://static.figma.com/uploads/4d633d6262a8b5f838196a652d687dd1c9123fda",content:o,modalType:"request pending modal",primaryButtonLabel:(0,m.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),primaryButtonOnClick:s,primaryButtonType:"back to design"}))}function eP(){let e=(0,eL.U)("blocking_modal"),t=(0,h.bZ)(),a=(0,n.useCallback)(()=>{e("design")},[e]);return n.createElement(M.fu,{name:"Request sent modal",properties:t},n.createElement(W,{imgSrc:"https://static.figma.com/uploads/9a55aebf20fd5e927f609cc0e256f6e782b20d78",content:n.createElement(n.Fragment,null,n.createElement("div",{className:H},(0,m.tx)("dev_handoff.paywall.success_modal.no_grace_period.title")),n.createElement("div",{className:G},(0,m.tx)("dev_handoff.paywall.success_modal.no_grace_period.description"))),modalType:"request sent modal",primaryButtonLabel:(0,m.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),primaryButtonOnClick:a,primaryButtonType:"back to design"}))}var eF=a(172115),eB=a(662275),eU=a(206193);function eH(){let e=(0,eL.U)("blocking_modal"),t=(0,r.wA)(),a=(0,r.d4)(e=>eS.H7(e)?.id),l=n.createElement(n.Fragment,null,n.createElement("p",{className:H},(0,m.tx)("dev_handoff.paywall.pending_modal.starter_trial_end.title")),n.createElement("p",{className:G},(0,m.tx)("dev_handoff.paywall.pending_modal.starter_trial_end.description")));return n.createElement(M.fu,{name:"Dev Mode Starter Trail Ended Modal",properties:{teamId:a}},n.createElement(W,{onScrimClick:u.lQ,imgSrc:"https://static.figma.com/uploads/4d633d6262a8b5f838196a652d687dd1c9123fda",modalType:"request pending modal",content:l,primaryButtonLabel:(0,m.tx)("dev_handoff.paywall.blocking_modal.button.upgrade_your_plan"),primaryButtonOnClick:()=>{t((0,eB.to)({type:eF.V,data:{teamId:a,upsellSource:eU.b.DEV_MODE_STARTER_TRIAL_ENDED_PAYWALL,openCheckoutInNewTab:!0}}))},primaryButtonType:"upgrade",secondaryButtonLabel:(0,m.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),secondaryButtonOnClick:()=>{e("design")},secondaryButtonType:"back to design"}))}function eG(){!function(){let[e,t]=(0,l.fp)(ed.qI),a=(0,g.J)(),r=(0,v.tS)()??"",i=(0,d.Rs)(b.Fol,{key:r}),o=(0,d.Rs)(b.Pns,{key:r}),s=i.data?.file.status!=="error"&&!!i.data?.file.data?.hasPermission,c="loading"===i.status,u=o.data?.file.status!=="error"&&!!o.data?.file.data?.hasPermission,m=(0,n.useRef)(!1);n.useEffect(()=>{if(!a)return;s&&!m.current&&(m.current=!0);let n=m.current;!c&&n&&!s&&u&&e===ed.cI.REQUESTED&&(t(ed.cI.DEFAULT),m.current=!1)},[e,u,s,c,a,t])}();let e=(0,l.md)(ed.qI),t=(0,v.tS)()??"",a=(0,g.J)(),i=(0,r.d4)(e=>(0,eT.oc)(eS.H7(e)?.id??"",e)),o=(0,d.Rs)(b.D2i,{key:t}),s=(0,d.Rs)(b.Fol,{key:t}),c=(0,d.Rs)(b.XGw,{key:t}),u=a&&s.data?.file.status!=="error"&&s.data?.file.data?.hasPermission,m=!a&&!!eC.oA(c?.data?.file)?.currentTeamUser?.devModeAccountTypeRequest?.createdAt;return a&&("loading"===o.status||"loading"===s.status)?n.createElement(eV,null):i?n.createElement(eM,null):a&&e===ed.cI.REQUESTED&&u?n.createElement(eP,null):a&&e===ed.cI.DEFAULT&&u?n.createElement(eD,null):e===ed.cI.DEFAULT&&m?n.createElement(eH,null):e===ed.cI.DEFAULT?n.createElement(eR,null):null}function eV(){let e=P.q.instance.getCurrentPage(),t=(0,L.HD)(e?.backgroundColor??"");return n.createElement("div",{className:t?"paywall_redesign_blocking_modal--spinnerOnDarkCanvas--H713o paywall_redesign_blocking_modal--spinner--gT54g":"paywall_redesign_blocking_modal--spinnerOnLightCanvas--O4yHJ paywall_redesign_blocking_modal--spinner--gT54g"},n.createElement(ew.kt,{size:"large"}))}function ez(){return n.createElement(n.Fragment,null,n.createElement(K,null),n.createElement(eG,null))}var eK=a(767129),eW=a(927457),ej=a(615925),eZ=a(203264),eY=a(46481),eX=a(348425),eq=a(378958),eJ=a(409272),eQ=a(308977),e$=a(752795),e0=a(535904),e1=a(326331),e2=a(841368),e5=a(222903),e3=a(902008),e4=a(181912),e6=a(966712),e7=a(522739),e8=a(626217),e9=a(143922),te=a(598393),tt=a(381618),ta=a(970516),tn=a(226055),tr=a(848661),tl=a(555074),ti=a(611978),to=a(860178),ts=a(498606),tc=a(286723),td=a(118335),tu=a(60088),tm=a(798558),tp=a(32067),t_=a(788612),tf=a(227795),th=a(893606),tg=a(903994),tE=a(753630),ty=a(554905),tv=a(598045),tb=a(101165),tC=a(523099),tw=a(143984),tT=a(192437),tS=a(343827),tN=a(843245),tx=a(696673),tk=a(416095),tI=a(640783),tA=a(96328),tL=a(812115),tO=a(33818);function tR({description:e,emptyStateText:t}){let a=n.useRef(null),r=n.useRef(void 0),[l,i]=n.useState(!0);n.useLayoutEffect(()=>{let t=r.current;r.current=e,a.current&&t!==e&&i(a.current.scrollHeight>96)},[e]);let o=!!e&&l;return n.createElement("div",{className:"asset_documentation_panel--documentationSection--Uiw1f"},e?n.createElement("div",{className:A()("asset_documentation_panel--documentationRt--dqAKD")},n.createElement(tL.R,{fallback:null,errorFallback:null,value:e,quillClassName:A()("asset_documentation_panel--quill--ARHQQ",{"asset_documentation_panel--quillCollapsed--ezPrQ":l}),quillInnerRef:a}),l&&n.createElement("div",{className:"asset_documentation_panel--quillCollapsedOverlay--UlWJU"})):t?n.createElement("div",{className:"asset_documentation_panel--documentationDescriptionDefault--vxlbl asset_documentation_panel--documentationDescription--la2iI text--fontPos11--2LvXf text--_fontBase--QdLsd",dir:"auto",ref:a},t):null,o&&n.createElement("div",{className:"asset_documentation_panel--showMoreButtonContainer--ZkHWJ"},n.createElement(tO.d,{label:(0,m.t)("dev_handoff.docs.show_full"),onClick:()=>i(!1)})))}var tM=a(846627),tD=a(153234),tP=a(175290),tF=a(746893),tB=a(677664),tU=a(779709),tH=a(29680),tG=a(285334),tV=a(349719);a(661743);var tz=a(646240),tK=a(877432),tW=a(38580);let tj=(0,tW.eU)({});var tZ=a(756085),tY=a(960628),tX=a(215822),tq=a(227712),tJ=a(829632),tQ=a(376485),t$=a(242014),t0=a(38329),t1=a(208186);let t2=class{async generateLinkPreview({plugin:e,link:t}){try{let a=await tJ.R.instance.enqueue(this.createEnqueueArgs({command:"linkpreview",plugin:e,onStart:()=>(0,tY.se)({name:t.linkName,url:t.linkUrl,isInherited:t.isInherited,nodeId:t.nodeId})}));if(a?.type==="PLAIN_TEXT")(0,t1.n7)({link:t,linkPreviewJson:a});else if(a?.type==="AUTH_REQUIRED"){let a=l.zl.get(tj),n=a[e.plugin_id]?.links??[];l.zl.set(tj,a=>({...a,[e.plugin_id]:{plugin:e,links:[...n,t]}}))}return a??null}catch(e){console.error(e)}return null}async runAuth({plugin:e,links:t}){l.zl.set(ei.H,ei._.PLUGIN);try{return await tJ.R.instance.enqueue(this.createEnqueueArgs({command:"auth",plugin:e,onStart:()=>(0,tY.Ut)(t)}))??null}catch(e){console.error(e)}return null}createEnqueueArgs({command:e,plugin:t,onStart:a}){return{runPluginArgs:{plugin:t,command:"linkpreview",queryMode:!1,runMode:"linkpreview"===e?"linkpreview":"auth",triggeredFrom:"linkpreview"===e?"related-link-preview":"related-link-auth",openFileKey:t0.D.getState().openFile?.key||"",isWidget:!1},onStart:a,mode:"run-and-terminate"}}};t2.instance=new t2;let t5=(0,tG.Up)();function t3(e,t){if((0,tQ.ZQ)(t)&&!(0,e6.kc)().plugins_related_links_local||!t5.has(t.plugin_id))return!1;let a=t.manifest.relatedLinkDomains||t.manifest.devResourceDomains;if(!a)return!1;for(let t of a){let a=(0,tX.tk)(t);if(!a)continue;let n=e.split("?")[0];if(a.exec(n))return!0}if((0,tG.P8)(t.plugin_id)){if(t4(e)&&e.match(/selectedIssue=[A-Z]+-[0-9]+/))return!0;t4(e)&&e.match(/[A-Z]+-[0-9]+/)&&(0,ea.sx)("Jira Issue Url Not Matched",{url:e})}return!1}function t4(e){return!!e.match(/https?:\/\/[a-zA-Z0-9-]+\.(atlassian\.net|jira\.com)/)}var t6=(e=>(e.OPEN="open",e.PREVIEW="preview",e))(t6||{});function t7(e){let t=function(e){let t=(0,tZ.$1)(),a=(0,tZ.cW)(),l=(0,r.d4)(e=>e.mirror.appModel.useLocalRelatedLinkPlugin),i=n.useMemo(()=>0===t5.size?null:Object.values(t).find(t=>!!t3(e,t)),[e,t]),o=n.useMemo(()=>0===t5.size?null:Object.values(a).map(e=>(0,tX.uF)(e)).find(t=>!!t3(e,t)),[e,a]),s=n.useMemo(()=>Array.from(t5),[]),c=(0,tZ.uf)(s,{enabled:!o}),d=n.useMemo(()=>c.find(t=>!!t3(e,t))??null,[e,c]);return l&&i?i:o||d||null}(e),a=(0,tZ.YN)();return t&&a(t)?t:null}function t8(e){let t=t7(e),a=(0,l.md)(tj);if(!t||!t.manifest.capabilities?.includes("linkpreview"))return null;if(a[t.plugin_id]?.links.some(t=>t.linkUrl===e))return;let n=async({link:e})=>{await t2.instance.generateLinkPreview({plugin:t,link:e})};return{plugin:t,genPreview:n}}var t9=a(155497);function ae({isEditable:e,link:t,onOpenDeleteModal:a,onOpenEditModal:l}){let i=(0,r.wA)(),o=!(0,t9.G)(t.linkUrl),s=(0,tH.eY)(),c=(0,tN.Nf)()??"",d=s.get(c),u=t.isInherited||t.isVariant,p=(0,eN.U)(),_=(0,tS.d)(!t.isVariant),f=n.useCallback(()=>{i(ta.lW({stringToCopy:t.linkUrl})),p("Dev Handoff Related Links Copy Hyperlink",{nodeId:c,nodeType:d?.type,source:"web"})},[i,c,t.linkUrl,d?.type,p]),h=o?t.linkUrl:new URL(t.linkUrl).host;h.startsWith("www.")&&(h=h.slice(4));let{Dropdown:g,toggleDropdown:E,dropdownTargetRef:y,isDropdownShown:b}=(0,tu.B)(t.id),C=function(e){let t=t7(e),a=(0,v.tS)(),n=(0,eQ.v4)(),r=(0,tz.Xr)(ei.H);if(!t||!a||!(0,tX.$u)(t.manifest.capabilities))return null;let l=async({link:e})=>{await t$.d.instance.maybeTerminatePlugin(n),await (0,tK.yQ)();let l=(0,tq.D)(),i=t.manifest.editorType?.includes(tQ.FW.DEV)?"open-dev-resource":"open-related-link",o={mode:"run-forever",runPluginArgs:{plugin:t,command:i,queryMode:!1,openFileKey:a,isWidget:!1,runMode:"default",triggeredFrom:"related-link-click"}},s={url:e.linkUrl,name:e.linkName,isInherited:e.isInherited,nodeId:e.nodeId},c=tJ.R.instance.isCurrentlyRunning(o);return(r(ei._.PLUGIN),c&&(0,tY.Jc)())?tJ.R.instance.enqueue({...o,onStart:async()=>await (0,tY.xG)({devResource:s})}):tJ.R.instance.enqueue({...o,reuseExistingRunState:!1,onStart:async()=>((0,tY.r2)(5e3,{devResource:s}),(await l).triggerRunEvent({command:i,link:s}))})};return{plugin:t,callback:l}}(t.linkUrl),w=u?(0,m.t)("dev_handoff.developer_related_links.main_component_tooltip"):(0,m.t)("dev_handoff.developer_related_links.additional_options"),T=n.createElement("div",{ref:y},n.createElement(eK.K,{actionOnPointerDown:!0,onClick:e=>{E(),e.stopPropagation()},"aria-label":w,htmlAttributes:{"data-tooltip":w,"data-tooltip-type":ts.Ib.TEXT}},u?n.createElement(tw.K,null):n.createElement(e2.J,null))),S=[{displayText:(0,m.t)("dev_handoff.developer_related_links.copy_link"),callback:()=>f()}];C&&S.unshift({displayText:(0,m.t)("dev_handoff.developer_related_links.open_in_new_tab"),callback:()=>{D()}}),u&&_&&S.unshift({displayText:(0,m.t)("dev_handoff.developer_related_links.go_to_main_component"),callback:()=>{_()}}),t.isNested&&S.push({displayText:(0,m.t)("dev_handoff.developer_related_links.select_layer"),callback:()=>{tv.w3z.selectAndFocusOnNode(t.nodeId,!0)}}),e&&S.push({displayText:(0,m.t)("dev_handoff.developer_related_links.edit_link"),callback:()=>l(t)},{displayText:"",separator:!0},{displayText:(0,m.t)("dev_handoff.developer_related_links.delete_link"),callback:()=>a(t.id,t.linkUrl)});let[N,x]=n.useState(!1),[k,I]=n.useState(!1),L=t.linkPreview,R=L&&"PLAIN_TEXT"===L.type&&L.text,M=R&&!t.isUserOverride&&C,D=()=>{(0,tM.e)(t.linkUrl)||i((0,tB.RK)({rawInput:t.linkUrl})),p("Dev Handoff Related Links Open Hyperlink",{nodeId:c,nodeType:d?.type,source:"web"})},P=n.createElement(at,{name:t.linkName,url:C?C.plugin.name:h,isHovering:N}),F=M&&C?n.createElement(at,{name:R,url:C.plugin.name,isHovering:N}):null,B=(0,tD.Pt)("developerRelatedLinkRow",t.id);return n.createElement("div",{className:"developer_related_link_row--link--fvcCC text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},n.createElement(e7.GG,{className:A()("developer_related_link_row--linkInfo--214Y7"),onClick:()=>{let e={action:t6.OPEN,link:t};if(C&&(0,tG.Zl)(C.plugin.plugin_id,tU.z4.getIsExtension())){t.isNested&&tv.w3z.selectAndFocusOnNode(t.nodeId,!0),C.callback(e),p("Dev Handoff Related Links Run Plugin From Hyperlink",{nodeId:c,nodeType:d?.type,source:"web",pluginId:C.plugin.plugin_id}),i(q.b({[tF.xb]:!0}));return}tU.z4.getIsExtension()?(0,tV.mz)(t.linkUrl):(i((0,tB.RK)({rawInput:t.linkUrl})),p("Dev Handoff Related Links Open Hyperlink",{nodeId:c,nodeType:d?.type,source:"web"}))},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),recordingKey:(0,tD.Pt)(B,"button")},n.createElement("div",{className:"developer_related_link_row--favicon--ZrNbB"},n.createElement(eq.v,{url:t.linkUrl})),F??P),n.createElement("div",{className:A()("developer_related_link_row--additionalButtons--tKT0M",N||k||u||b?O.cx.opacity1.$:O.cx.opacity0.$),onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1)},T,b&&n.createElement("div",{onMouseEnter:()=>I(!1)},n.createElement(g,{items:S,showPoint:!1}))))}function at({name:e,url:t,isHovering:a}){return n.createElement(tP.Y,{direction:"horizontal",spacing:4,padding:{right:32}},n.createElement("p",{className:"developer_related_link_row--linkName--p0e0K ellipsis--ellipsis--Tjyfa",style:a?R.sx.add({maxWidth:"50%"}).$:void 0},e),a&&n.createElement(n.Fragment,null,n.createElement("p",{className:"developer_related_link_row--linkDivider--20WA5"},"\xb7"),n.createElement("p",{className:"developer_related_link_row--linkURL--eaX2b ellipsis--ellipsis--Tjyfa blue_link--blueLink--9rlnd"},t)))}var aa=a(835808),an=a(937456),ar=a(47493),al=a(77437),ai=a(971612),ao=a(7760),as=a(265241);function ac(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10.75 15.5h2.5a.25.25 0 0 1 .25.25v1a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1-.75-.75v-1a.25.25 0 0 1 .25-.25Zm3.833-1.19c-.06.242-.18.474-.35.668.167.213.267.48.267.772v1a1.75 1.75 0 0 1-1.5 1.732v.018a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-.018a1.75 1.75 0 0 1-1.5-1.732v-1c0-.291.1-.56.267-.772a1.606 1.606 0 0 1-.35-.668c-.116-.468-.329-.94-.593-1.517l-.015-.032c-.23-.502-.5-1.089-.668-1.707A4.004 4.004 0 0 1 12 6a4 4 0 0 1 3.86 5.054c-.17.618-.439 1.205-.669 1.707l-.015.033c-.264.576-.478 1.048-.593 1.516Zm-.97-.24a.549.549 0 0 1-.52.43h-2.185a.549.549 0 0 1-.52-.43c-.142-.575-.399-1.134-.655-1.694-.24-.523-.48-1.047-.628-1.585A3.003 3.003 0 0 1 12 7a3 3 0 0 1 2.895 3.791c-.147.538-.387 1.062-.628 1.585-.256.56-.513 1.119-.655 1.694ZM11 10a1 1 0 0 1 1-1 .5.5 0 0 0 0-1 2 2 0 0 0-2 2 .5.5 0 0 0 1 0Zm-5.5-.5a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1Zm12 0a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1Zm-11.562-3a.5.5 0 0 1 .683-.183l.866.5a.5.5 0 1 1-.5.866l-.866-.5a.5.5 0 0 1-.183-.683Zm10.392 6a.5.5 0 0 1 .683-.183l.866.5a.5.5 0 1 1-.5.866l-.866-.5a.5.5 0 0 1-.183-.683Zm-10.209.317a.5.5 0 0 0 .5.866l.866-.5a.5.5 0 0 0-.5-.866l-.866.5Zm10.392-6a.5.5 0 0 0 .5.866l.866-.5a.5.5 0 1 0-.5-.866l-.866.5Z",clipRule:"evenodd"}))}function ad(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10.908 15.5h-.158a.25.25 0 0 0-.25.25v1c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75v-1a.25.25 0 0 0-.25-.25h-2.342Zm3.325-.522c.17-.194.29-.426.35-.668.115-.468.329-.94.593-1.517l.015-.032c.23-.502.5-1.089.668-1.707A4.004 4.004 0 0 0 12 6a4 4 0 0 0-3.86 5.054c.17.618.439 1.205.669 1.707l.015.033c.264.576.477 1.048.593 1.516.06.242.18.474.35.668-.167.213-.267.48-.267.772v1a1.75 1.75 0 0 0 1.5 1.732v.018a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.518 1.75 1.75 0 0 0 1.5-1.732v-1c0-.291-.1-.56-.267-.772Zm-1.14-.478c.25 0 .46-.186.52-.43.141-.575.398-1.134.654-1.694.24-.523.48-1.047.628-1.585a3 3 0 1 0-5.79 0c.147.538.387 1.062.628 1.585.256.56.513 1.119.655 1.694.06.244.269.43.52.43h2.184ZM11 10a1 1 0 0 1 1-1 .5.5 0 0 0 0-1 2 2 0 0 0-2 2 .5.5 0 0 0 1 0Z",clipRule:"evenodd"}))}var au=a(992739),am=a(449124),ap=a(827586),a_=a(132361),af=a(776621),ah=a(304783),ag=a(498480),aE=a(87816),ay=a(376797),av=a(358145),ab=a(151283);let aC=(0,tW.eU)([]);function aw(e,t,a){let n=t.get(e),r=t.get(n?.symbolId??"");if(r?.componentKey){let e=a.getInternalCanvas();for(let t of e?.childrenNodes??[]){if(t.componentKey===r?.componentKey)return t.guid;if(t.isStateGroup){for(let e of t.childrenNodes)if(e.componentKey===r?.componentKey)return e.guid}}}return r?.publishID}var aT=a(843495),aS=a(318812),aN=a(234945),ax=a(832637),ak=a(7959),aI=a(538697),aA=a(503457);let aL=new(a(554630)).b({name:"code-connect",dependencies:[],routeHints:[],exports:["figmadoc.ts*","typings.ts*","code_connect_view.ts*","preload_code_connect.ts*"],friendFiles:[]}).createLazyComponent(()=>Promise.all([a.e(1920),a.e(7199)]).then(a.bind(a,692678)).then(e=>e.CodeConnectSection),{loading:()=>null,error:aA.H4.NONE,componentName:"CodeConnectSection"});var aO=a(37112),aR=a(284321),aM=a(388094),aD=a(656839);function aP(e,t,a){if(!e)return new Set;let n=new Set;for(let r of e.childrenNodes){if("SYMBOL"===r.type||r.isStateGroup||"INSTANCE"===r.type){let{backingFileKey:e,backingNodeId:l}=(0,aO.HX)(r.guid,t,a);e&&l&&n.add(`${e},${l}`)}r.childrenNodes.length>0&&aP(r,t,a).forEach(e=>n.add(e))}return n}var aF=a(799569),aB=a(237870);let aU="code_connect_modal--selectedTab--KlRSR",aH="code_connect_modal--unSelectedTab--LnDy3",aG="code_connect_modal--stepWrapper--2Jt3f",aV="code_connect_modal--circleNumber--j-DIh",az="code_connect_modal--circleNumberText--WCfy1",aK="code_connect_modal--title--eSJ5C",aW="code_connect_modal--stepContent--WMmuq",aj="code_connect_modal--stepText--i8GgM",aZ="code_connect_modal--command--XnF2h",aY="code_connect_modal--copyButton--Hecf7",aX="code_connect_modal--copyButtonMultiline--pesTb code_connect_modal--copyButton--Hecf7",aq="code_connect_modal--commandText--mYtNV",aJ="code_connect_modal--commandTextMultiLine--N2swX";var aQ=a(522157),a$=(e=>(e[e.REACT=0]="REACT",e[e.SWIFTUI=1]="SWIFTUI",e[e.COMPOSE=2]="COMPOSE",e))(a$||{});function a0({language:e}){switch(e){case 0:return n.createElement(a1,null);case 1:return n.createElement(a2,null);case 2:return n.createElement(a5,null);default:return null}}function a1(){let e=(0,r.wA)();return n.createElement(n.Fragment,null,n.createElement("div",{className:aK},(0,m.t)("dev_handoff.code.lang_react")),n.createElement("div",{className:aG}," ",n.createElement("div",{className:aV},n.createElement("div",{className:az},"1")),n.createElement("div",{className:aW},n.createElement("div",{className:aj},(0,m.tx)("dev_handoff.code_connect.modal_install_package")),n.createElement("div",{className:aZ},n.createElement("div",{className:aq},"npm install @figma/code-connect"),n.createElement("div",{className:aY},n.createElement(eJ.rZ,{"aria-label":(0,m.t)("inspect_panel.copy"),onClick:()=>e(ta.lW({stringToCopy:"npm install @figma/code-connect"})),htmlAttributes:{"data-tooltip":(0,m.t)("inspect_panel.copy"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(eY.U,{svg:aQ.A},n.createElement(ej.X,null))))))),n.createElement("div",{className:aG}," ",n.createElement("div",{className:aV},n.createElement("div",{className:az},"2")),n.createElement("div",{className:aW},n.createElement("div",{className:aj},(0,m.tx)("dev_handoff.code_connect.modal_run_command")),n.createElement("div",{className:aZ},n.createElement("div",{className:aq},"npx figma connect"),n.createElement("div",{className:aY},n.createElement(eJ.rZ,{"aria-label":(0,m.t)("inspect_panel.copy"),onClick:()=>e(ta.lW({stringToCopy:"npx figma connect"})),htmlAttributes:{"data-tooltip":(0,m.t)("inspect_panel.copy"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(eY.U,{svg:aQ.A},n.createElement(ej.X,null))))))),n.createElement("div",{className:aG}," ",n.createElement("div",{className:aV},n.createElement("div",{className:az},"3")),n.createElement("div",{className:aW},n.createElement("div",{className:aj},(0,m.tx)("dev_handoff.code_connect.modal_publish")),n.createElement("div",{className:aZ},n.createElement("div",{className:aq},"npx figma connect publish "),n.createElement("div",{className:aY},n.createElement(eJ.rZ,{"aria-label":(0,m.t)("inspect_panel.copy"),onClick:()=>e(ta.lW({stringToCopy:"npx figma connect publish"})),htmlAttributes:{"data-tooltip":(0,m.t)("inspect_panel.copy"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(eY.U,{svg:aQ.A},n.createElement(ej.X,null))))))))}function a2(){let e=(0,r.wA)();return n.createElement(n.Fragment,null,n.createElement("div",{className:aK},(0,m.t)("dev_handoff.code.lang_swiftui")),n.createElement("div",{className:aG}," ",n.createElement("div",{className:aV},n.createElement("div",{className:az},"1")),n.createElement("div",{className:aW},n.createElement("div",{className:aj},(0,m.tx)("dev_handoff.code_connect.modal_install")),n.createElement("div",{className:aZ},n.createElement("div",{className:aq},"npm install -g @figma/code-connect"),n.createElement("div",{className:aX},n.createElement(eJ.rZ,{"aria-label":(0,m.t)("inspect_panel.copy"),onClick:()=>e(ta.lW({stringToCopy:"npm install -g @figma/code-connect"})),htmlAttributes:{"data-tooltip":(0,m.t)("inspect_panel.copy"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(eY.U,{svg:aQ.A},n.createElement(ej.X,null))))))),n.createElement("div",{className:aG}," ",n.createElement("div",{className:aV},n.createElement("div",{className:az},"2")),n.createElement("div",{className:aW},n.createElement("div",{className:aj},(0,m.tx)("dev_handoff.code_connect.swift.add_snippet")),n.createElement("div",{className:aZ},n.createElement("div",{className:aJ},'dependencies: [\n\u2003\u2003...,\n\u2003\u2003.package(url: "https://github.com/figma/code-connect", from: "1.0.0"),\n]'),n.createElement("div",{className:aX},n.createElement(eJ.rZ,{"aria-label":(0,m.t)("inspect_panel.copy"),onClick:()=>e(ta.lW({stringToCopy:`dependencies: [
		...,
		.package(url:"https://github.com/figma/code-connect", from: "1.0.0"),
]`,ignoreLineBreaks:!1})),htmlAttributes:{"data-tooltip":(0,m.t)("inspect_panel.copy"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(eY.U,{svg:aQ.A},n.createElement(ej.X,null))))))),n.createElement("div",{className:aG}," ",n.createElement("div",{className:aV},n.createElement("div",{className:az},"3")),n.createElement("div",{className:aW},n.createElement("div",{className:aj},(0,m.tx)("dev_handoff.code_connect.modal_run_command")),n.createElement("div",{className:aZ},n.createElement("div",{className:aq},'figma connect create "<url_to_node>"'),n.createElement("div",{className:aY},n.createElement(eJ.rZ,{"aria-label":(0,m.t)("inspect_panel.copy"),onClick:()=>e(ta.lW({stringToCopy:"figma connect create"})),htmlAttributes:{"data-tooltip":(0,m.t)("inspect_panel.copy"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(eY.U,{svg:aQ.A},n.createElement(ej.X,null))))))),n.createElement("div",{className:aG}," ",n.createElement("div",{className:aV},n.createElement("div",{className:az},"4")),n.createElement("div",{className:aW},n.createElement("div",{className:aj},(0,m.tx)("dev_handoff.code_connect.modal_publish")),n.createElement("div",{className:aZ},n.createElement("div",null,"figma connect publish "),n.createElement("div",{className:aY},n.createElement(eJ.rZ,{"aria-label":(0,m.t)("inspect_panel.copy"),onClick:()=>e(ta.lW({stringToCopy:"figma connect publish"})),htmlAttributes:{"data-tooltip":(0,m.t)("inspect_panel.copy"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(eY.U,{svg:aQ.A},n.createElement(ej.X,null))))))))}function a5(){let e=(0,r.wA)();return n.createElement(n.Fragment,null,n.createElement("div",{className:aK},(0,m.t)("dev_handoff.code.lang_compose")),n.createElement("div",{className:aG}," ",n.createElement("div",{className:aV},n.createElement("div",{className:az},"1")),n.createElement("div",{className:aW},n.createElement("div",{className:aj},(0,m.tx)("dev_handoff.code_connect.modal_install")),n.createElement("div",{className:aZ},n.createElement("div",{className:aq},"npm install -g @figma/code-connect"),n.createElement("div",{className:aX},n.createElement(eJ.rZ,{"aria-label":(0,m.t)("inspect_panel.copy"),onClick:()=>e(ta.lW({stringToCopy:"npm install -g @figma/code-connect"})),htmlAttributes:{"data-tooltip":(0,m.t)("inspect_panel.copy"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(eY.U,{svg:aQ.A},n.createElement(ej.X,null))))))),n.createElement("div",{className:aG}," ",n.createElement("div",{className:aV},n.createElement("div",{className:az},"2")),n.createElement("div",{className:aW},n.createElement("div",{className:aj},(0,m.tx)("dev_handoff.code_connect.compose.add_plugin_snippet")),n.createElement("div",{className:aZ},n.createElement("div",{className:aJ},'plugins { \n\u2003\u2003...\n\u2003\u2003id("com.figma.code.connect") version "1.+"\n} \n\ndependencies { \n\u2003\u2003...\n\u2003\u2003implementation("com.figma.code.connect:plugin:1.+")\n}'),n.createElement("div",{className:aX},n.createElement(eJ.rZ,{"aria-label":(0,m.t)("inspect_panel.copy"),onClick:()=>e(ta.lW({stringToCopy:`plugins {
		...
		id("com.figma.code.connect") version "1.+"
}

dependencies {
		...
		implementation("com.figma.code.connect:plugin:1.+")
}`,ignoreLineBreaks:!1})),htmlAttributes:{"data-tooltip":(0,m.t)("inspect_panel.copy"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(eY.U,{svg:aQ.A},n.createElement(ej.X,null))))))),n.createElement("div",{className:aG}," ",n.createElement("div",{className:aV},n.createElement("div",{className:az},"3")),n.createElement("div",{className:aW},n.createElement("div",{className:aj},(0,m.tx)("dev_handoff.code_connect.modal_run_command")),n.createElement("div",{className:aZ},n.createElement("div",{className:aq},'figma connect create "<url_to_node>"'),n.createElement("div",{className:aY},n.createElement(eJ.rZ,{"aria-label":(0,m.t)("inspect_panel.copy"),onClick:()=>e(ta.lW({stringToCopy:"figma connect create"})),htmlAttributes:{"data-tooltip":(0,m.t)("inspect_panel.copy"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(eY.U,{svg:aQ.A},n.createElement(ej.X,null))))))),n.createElement("div",{className:aG}," ",n.createElement("div",{className:aV},n.createElement("div",{className:az},"4")),n.createElement("div",{className:aW},n.createElement("div",{className:aj},(0,m.tx)("dev_handoff.code_connect.modal_publish")),n.createElement("div",{className:aZ},n.createElement("div",null,"figma connect publish "),n.createElement("div",{className:aY},n.createElement(eJ.rZ,{"aria-label":(0,m.t)("inspect_panel.copy"),onClick:()=>e(ta.lW({stringToCopy:"figma connect publish"})),htmlAttributes:{"data-tooltip":(0,m.t)("inspect_panel.copy"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(eY.U,{svg:aQ.A},n.createElement(ej.X,null))))))))}let a3=(0,aB.Ju)(function(){let[e,t]=(0,n.useState)(0),a=(0,r.wA)(),l=()=>{a(eB.Lo())};return n.createElement(B.Nb,{className:"code_connect_modal--modal--K8M-q",hide:l,size:800,"data-testid":"upgrade_choose_plan_modal"},n.createElement("div",{className:A()("code_connect_modal--container--gdZJZ",ep.Dm),tabIndex:-1},n.createElement(aF.Jn,{className:"code_connect_modal--closeButton--lC3YZ",onClick:l}),n.createElement("div",{className:"code_connect_modal--sidebar--B46--"},n.createElement("h1",{className:"code_connect_modal--sidebarHeading--bQvXS"},(0,m.tx)("dev_handoff.code_connect.title")),n.createElement("h2",{className:"code_connect_modal--sidebarSubheading--DNWUs"},(0,m.tx)("dev_handoff.code_connect.modal_text")),n.createElement(x.E,{className:0===e?aU:aH,onClick:()=>t(0)},(0,m.t)("dev_handoff.code.lang_react")),n.createElement(x.E,{className:1===e?aU:aH,onClick:()=>t(1)},(0,m.t)("dev_handoff.code.lang_swiftui")),n.createElement(x.E,{className:2===e?aU:aH,onClick:()=>t(2)},(0,m.t)("dev_handoff.code.lang_compose")),n.createElement("div",{className:"code_connect_modal--spacer--zHdi3"}),n.createElement("span",{className:"code_connect_modal--bottomButton--OnRXO"},n.createElement(N.IK,{variant:"primary",onClick:()=>a((0,tB.RK)({rawInput:"https://github.com/figma/code-connect"})),iconPrefix:n.createElement("div",{className:"code_connect_modal--githubIcon--PlOpd"},n.createElement(eq.f,null))},(0,m.tx)("dev_handoff.code_connect.modal_github_button")))),n.createElement("div",{className:"code_connect_modal--content--xlswn"},n.createElement(a0,{language:e}))))},"CodeConnectModal",aB.ZU.YES),a4="figmadocs--figmadocWrapper--4SMJB",a6="figmadocs--fileLink--gVeAA utilities--bodySmall--JyKR1";var a7=a(752442),a8=a(126815);let a9={Swift:"swift",TypeScript:"jsx"};function ne({height:e}){return n.createElement("div",{style:{height:e}})}function nt({updatedAt:e}){let t=n.useMemo(()=>e?(0,e4.A)(e).fromNow():"",[e]);return n.createElement(ag.Ex,{color:ag.zE.DEFAULT,text:(0,m.t)("dev_handoff.figmadocs.connected"),icon:n.createElement(a_.x,null),className:"figmadocs--connectedBadge--5NAUO",dataTooltipType:ts.Ib.TEXT,dataTooltip:(0,m.t)("dev_handoff.figmadocs.connected_last_published_at",{lastPublishedAt:t}),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50})}function na(e){try{let{url:t}=e,a=new URL(t).pathname.split("/"),r=a.indexOf("blob");-1===r&&(r=a.indexOf("tree"));let l=a.slice(r+2).join("/"),i=l.length>0?l:a[a.length-1];return n.createElement("span",{className:"figmadocs--linkFilePath--DBTZW"},i)}catch(e){return null}}function nn(){let e=(0,r.wA)();return n.createElement("div",{className:"figmadocs--emptyCodeConnectCard--UrWur"},n.createElement("div",{className:"figmadocs--emptyCodeConnectCardHeader--S8h2p"},(0,m.t)("dev_handoff.code_connect.title")),n.createElement("div",{className:"figmadocs--emptyCodeConnectCardHeaderRight--vUyRn",onClick:()=>{e(eB.to({type:a3}))},role:"none"},(0,m.t)("dev_handoff.code_connect.entrypoint_text")))}function nr({doc:e,updatedAt:t,additionalHeaderActions:a,instanceFigmadocs:r,isPlayground:l,onInstancePillClick:i}){let o=(0,to.iZ)(),s=(0,v.q5)(),d=(0,eo.VW)(),u=(0,tH.eY)(),{backingFileKey:p,backingNodeId:_,backingComponentKey:f,backingStateGroupKey:h,backingLibraryKey:g}=(0,aO.HX)(d?.guid??"",u,s?.key??null),E=(0,tH.T3)();l&&(u=E);let y=(0,ay.N)((0,e6.kc)().dt_code_connect_js_templates?e.template:void 0,r,l);!function({backingFileKey:e,result:t,backingComponentKey:a,backingStateGroupKey:r}){let l=(0,ab.X)(e);(0,c.h)(()=>{ea.az.trackDefinedEvent("code_connect.code_connect_rendered",{partnerType:l,componentKey:a,stateGroupKey:r})});let i=t?.result==="ERROR"&&t?.data?.error?t.data.error.type:null,o=(0,av.ZC)(i);n.useEffect(()=>{i!==o&&i&&ea.az.trackDefinedEvent("code_connect.code_connect_error",{partnerType:l,errorType:i,componentKey:a,stateGroupKey:r})},[i,o,l,a,r])}({backingFileKey:p,result:y,backingComponentKey:f,backingStateGroupKey:h});let b=n.useCallback(e=>{i?i(e):tv.w3z.selectAndPanToNode(e)},[i]),C=n.useCallback(()=>{(0,ea.sx)("code_connect_clicked",{user_id:o?.id,is_playground:l,node_id:_,file_key:p,...s?.key===p?{file_team_id:s?.teamId,file_org_id:s?.parentOrgId}:{},label:e.label,component_key:f,state_group_key:h,library_key:g})},[o?.id,l,_,p,s?.key,s?.teamId,s?.parentOrgId,e.label,f,h,g]);if((0,e6.kc)().dt_code_connect_js_templates){if(!y)return null;if(y?.result==="SUCCESS"){let{code:i,language:o,pills:s}=(0,aE.A)(y,u),c=e.source,d=new Set([...e.templateData?.imports??[],...Object.entries(r).map(([e,t])=>t.map(e=>i.includes(`<${e.component}`)?e?.templateData?.imports??[]:[]).flat()).flat()]),m=i;return d.size>0&&(m=Array.from(d).join("\n")+"\n\n"+i),n.createElement(aL,{code:m,language:o,pills:s,fallback:null,errorFallback:null,reformatOnInstanceChange:l},([e,r])=>e&&n.createElement(t_.VZ,{hideHeader:!0,noBorder:!0,recordingKey:"figmadoc",padding:t_.UZ.NONE,onClick:C},n.createElement("div",{className:a4},n.createElement(eJ.yT,{collapseLongSections:!1,code:[e],section:e,sectionToCopy:r,key:e.name,copyAllActionEnabled:!1,onInstancePillClick:b,additionalHeaderActions:a,footerActions:n.createElement(n.Fragment,null,c?n.createElement("a",{href:c,target:"_blank",className:a6},n.createElement(eq.v,{url:c}),n.createElement(na,{url:c})):null,n.createElement(tP.M,null),n.createElement(nt,{updatedAt:t})),type:"connected"}))))}{(0,e6.b5)()&&console.error("Error evaluating Code Connect template",y);let e=y?.data.error,t=(0,m.t)("dev_handoff.figmadocs.error_unknown");e?.type==="PROPERTY_NOT_FOUND"?t=(0,m.t)("dev_handoff.figmadocs.error_property_not_found",{propertyName:e.propertyName}):e?.type==="PROPERTY_TYPE_MISMATCH"?t=(0,m.t)("dev_handoff.figmadocs.error_property_type_mismatch",{propertyName:e.propertyName,propertyType:e.expectedType??"unknown"}):(0,e6.kc)().dt_code_connect_missing_child_name_translation&&e?.type==="CHILD_LAYER_NOT_FOUND"?t=(0,m.t)("dev_handoff.figmadocs.error_child_layer_not_found",{layerName:e.layerName}):(0,af.$D)(ah.e.DEVELOPER_TOOLS,Error("Error evaluating Code Connect template"),{extra:{error:y?.data.error}});let a=(0,e6.kc)().dt_code_connect_updated_error_banner?(0,m.t)("dev_handoff.figmadocs.error_title"):(0,m.t)("dev_handoff.code_connect.title");return n.createElement("div",{className:"figmadocs--errorBannerWrapper--eemEO utilities--bodySmall--JyKR1"},n.createElement(am.z,{variant:"danger",title:a,orientation:"vertical",iconSrc:a8.A},t))}}return n.createElement(nl,{doc:e,updatedAt:t})}function nl({doc:e,updatedAt:t}){let a=e?(0,aO.bE)(e):void 0,r=a9[e.language||"default"]||"jsx",l=e.template;return e.templateData?.imports&&e.templateData.imports.length>0&&(l=[...e.templateData?.imports??[]].join("\n")+"\n\n"+l),n.createElement(aL,{code:l,language:r,fallback:null,errorFallback:null},e=>e&&n.createElement(t_.VZ,{hideHeader:!0,noBorder:!0,recordingKey:"figmadoc",padding:t_.UZ.NONE},n.createElement("div",{className:a4},e.map(e=>n.createElement(eJ.yT,{code:[e],section:e,key:e.name,copyAllActionEnabled:!1,footerActions:n.createElement(n.Fragment,null,a?n.createElement("a",{href:a,target:"_blank",className:a6},n.createElement(eq.v,{url:a}),n.createElement(na,{url:a})):null,n.createElement(tP.M,null),n.createElement(nt,{updatedAt:t})),type:"connected"})))))}function ni(){let e=(0,tH.eY)(),t=(0,v.tS)(),a=(0,eo.VW)(),r=[],i=a;for(;i;)(i?.type==="INSTANCE"||i?.type==="SYMBOL")&&r.push(i),i=i.parentNode;let o=r.map(a=>{let{backingFileKey:n,backingNodeId:r}=(0,aO.HX)(a.guid,e,t);return{backingFileKey:n,backingNodeId:r,nodeGuid:a.guid,nodeName:a.name}}),{status:s,nodesWithCodeConnect:c}=function(e){let t=(0,v.tS)(),a=(0,d.Rs)(b.p9d,{nodes:e,openFileKey:t??""},{enabled:!!(0,e6.kc)().dt_code_connect_preloading&&e.length<20});return"loaded"===a.status&&"loaded"===a.data.file.status&&a.data.file.data?.preload_code_connect?{status:"loaded",nodesWithCodeConnect:new Set((a.data.file.data?.preload_code_connect).nodesWithCodeConnect)}:{status:"loaded"===a.status?a.data.file.status:a.status,nodesWithCodeConnect:new Set}}(o.map(e=>`${e.backingFileKey},${e.backingNodeId}`)),u="loaded"===s?c:l.zl.get(aD.z)?.nodesWithCodeConnect??new Set,{backingFileKey:p,backingNodeId:_}=(0,aO.HX)(a?.guid??"",e,t);if(u.has(`${p},${_}`))return null;for(let{nodeName:e,nodeGuid:t,backingFileKey:a,backingNodeId:r}of o)if(u.has(`${a},${r}`))return n.createElement("div",{role:"button",tabIndex:0,className:"figmadocs--goToParentWrapper--3Y4OE",onClick:()=>aT.tJ([t??""])},n.createElement("div",{className:"figmadocs--goToParentTitle--O4mL0"},n.createElement(ai.M,null),(0,m.t)("dev_handoff.code_connect.title")),n.createElement("div",{className:"figmadocs--goToParentInstanceName--uIRSW"},e));return null}function no({isPlayground:e,onInstancePillClick:t}){let a=(0,tH.eY)(),l=(0,tH.T3)(),i=tv.glU.getPlaygroundNodeData(),o=(0,r.d4)(aN.qd)[0],s=function(e){switch(e){case eQ.uz:case eQ.A0:return"React";case eQ.p:case eQ.Ap:return"SwiftUI";default:return}}((0,eQ.v4)().id),[c,d]=n.useState(s);e&&(o=aw(i.playgroundGUID,l,a)??o);let{updatedAt:p,doc:_,instanceFigmadocs:f,availableLabels:h,loaded:g,disabled:E,willHaveCodeConnect:y,isCommunityKey:v}=(0,aO._3)(o,a,c,l.get(i.playgroundGUID)),b=a.get(o),C=(0,r.d4)(e=>e.userFlags.dev_mode_has_dismissed_code_connect_instance_entrypoint),w=(0,r.wA)(),T=(0,aS.Um)(),S="ui3"===(0,k.DP)().version;if(e){if(!_)return null}else if(_&&"type"in _&&"snippet"===_.type)return null;else if(!_){if(y||!g)return null;if((0,e6.kc)().dt_code_connect_entrypoints&&!v&&!E){if(!C&&(b?.type==="INSTANCE"||b?.type==="SYMBOL"))return n.createElement(n.Fragment,null,n.createElement(ax.u,{className:"figmadocs--hintPanel--9oFTP",idForTests:"hintCodeConnectInstanceForFigma",userFlag:"dev_mode_has_dismissed_code_connect_instance_entrypoint",title:(0,m.t)("dev_handoff.code_connect.entrypoint_title"),iconComponent:n.createElement(em.B,{svg:a7.A,className:"figmadocs--codeConnectIcon--Lm4ab"}),hintText:(0,m.t)("dev_handoff.code_connect.entrypoint_body_text"),hintLinkText:(0,m.t)("dev_handoff.code_connect.entrypoint_text"),hintLinkOnClick:()=>{w(eB.to({type:a3}))},hintLinkOnNewLine:!0,codeConnectTweaks:!0}),n.createElement(ne,{height:16}));if(b?.type==="SYMBOL")return n.createElement(n.Fragment,null,n.createElement(nn,null),n.createElement(ne,{height:16}))}return null}let N="figmadoc-label-select";return e&&(N+="-playground"),n.createElement(n.Fragment,null,n.createElement(nr,{doc:_,updatedAt:p,instanceFigmadocs:f,onInstancePillClick:t,additionalHeaderActions:n.createElement(n.Fragment,null,n.createElement(tP.M,null),n.createElement(aI.l6,{className:"figmadocs--labelSelect--C-SIX",id:N,onChange:e=>d(e),dropdownShown:T,dispatch:w,property:_.label,formatter:{format:e=>e},dropdownWidth:S?"120px":"auto",dropdownAlignment:"right",onDropdownHidden:u.lQ},h.map(e=>n.createElement(aI.c$,{key:e,value:e})))),isPlayground:e}),n.createElement(ne,{height:16}))}var ns=a(275725),nc=a(286954),nd=a(313516),nu=a(273226),nm=a(907368),np=a(103339),n_=a(507877),nf=a(563438);function nh(){let e=(0,tN.lA)(),t=(0,r.wA)(),a=(0,v.tS)(),l=(0,tk.yW)(e),i=!!l&&l!==a,o=n.useMemo(()=>!!e&&tv.Egt.nodeIsSoftDeleted(e.guid),[e]),s=n.useCallback(()=>{if(e){if(i){if(!e.publishID)return;let a=(0,tk.xl)(l,e.publishID);t(n_.V3({url:a}))}else t(eB.AS()),tv.glU.goToSymbolOrStateGroupById(e.guid,!1)}},[e,t,l,i]);return!e||o||i&&(0,tx.wJ)(l)?null:(0,e6.kc)().dt_fpl_migration?n.createElement(eK.K,{onClick:s,"aria-label":e.isState?(0,m.t)("design_systems.playground.open_variant_in_library"):(0,m.t)("design_systems.playground.open_component_in_library"),htmlAttributes:{"data-tooltip":e.isState?(0,m.t)("design_systems.playground.open_variant_in_library"):(0,m.t)("design_systems.playground.open_component_in_library"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(tC.E,null)):n.createElement(tf.K0,{svg:nf.A,onClick:s,"data-tooltip":e.isState?(0,m.t)("design_systems.playground.open_variant_in_library"):(0,m.t)("design_systems.playground.open_component_in_library"),"data-tooltip-type":ts.Ib.TEXT})}var ng=a(567078),nE=a(108793),ny=a(132208);let nv=n.memo(({guid:e,...t})=>{let a;n.useEffect(()=>{e&&l.zl.set(aC,[e])},[e]);let i=(0,r.wA)(),s=(0,r.d4)(aN.AF),c=(0,o.wS)(),d="loaded"===c.status&&"temp-scene"===c.result.dataLocation?c.result:void 0,p=(0,np.oD)(),_=n.useCallback(()=>{i((0,nc.vq)())},[i]),f=ao.a.useModal({...t,onClose:()=>{_(),(0,ea.sx)("Playground closed"),t.onClose()}}),h=n.useMemo(()=>new P.q(d?nd.ju.DETACHED_COMPONENTS:nd.ju.PLAYGROUND),[d]),g=(0,tH.eY)(),E=n.useMemo(()=>{if(!p)return"";if("loaded"===c.status)return c.result.isVariant?c.result.dataStateGroupId??c.result.dataComponentId:c.result.dataComponentId;let e=p.nodeData?.playgroundGUID;return e?((0,nu.Yi)([e],h)||(0,nu.k4)([e],h))??"":""},[p,h,c]),y=n.useMemo(()=>h.get(E)?.name??"",[E,h]),{theme:v,invertTheme:b}=function(e,t){let a=(0,ns.IO)(e,t,!0),r=n.useRef(a()),[i,o]=n.useState(r.current),[s,c]=(0,l.fp)(np.d8),[d,m]=n.useState(!0),p=n.useCallback(()=>{let e=a();return r.current=e,e},[a]);return(n.useEffect(()=>{s&&d&&(o(e=>{let t=r.current,a=p();return"light"===t&&"dark"===a||"dark"===t&&"light"===a?"light"===e?"dark":"light":e}),c(!1))},[d,p,c,o,s]),(0,e6.kc)().dt_component_bg_improvements)?{theme:i??r.current,invertTheme:()=>{m(!1),o(e=>"light"===e?"dark":"light")}}:{theme:r.current,invertTheme:u.lQ}}(e??E,h),C=(0,r.d4)(e=>e.userFlags.dismissed_playground_banner),w=n.useCallback(()=>{i(q.b({dismissed_playground_banner:!0}))},[i]),T=n.useCallback(()=>{p?.refetchAndResetScene()},[p]),S=n.useCallback(e=>{let t=aw(e,h,g),a=l.zl.get(aC);l.zl.set(aC,[...a,t]),tv.glU.setPlaygroundSceneFromGuid(t??"")},[g,h]);if(!p||!s)return null;let{thumbnailData:N,nodeData:x}=p;if(!x)return null;let{playgroundGUID:k,componentProps:I,moduleProps:L,modeData:O}=x,R=h.get(k);if(!N)return null;let M=l.zl.get(aC);return M.length>1&&(a=n.createElement(eK.K,{onClick:()=>{let e=M[M.length-2];tv.glU.setPlaygroundSceneFromGuid(e);let t=M.slice(0,-1);l.zl.set(aC,t)},"aria-label":(0,m.t)("dev_handoff.playground.select_parent_instance"),htmlAttributes:{"data-tooltip":(0,m.t)("dev_handoff.playground.select_parent_instance"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(as.E,null))),n.createElement(ao.a.Root,{manager:f,width:"fit-content"},n.createElement(ao.a.Contents,null,n.createElement(ao.a.Header,null,n.createElement(ao.a.Title,null,(0,m.tx)("design_systems.playground.component_playground"))),n.createElement(ao.a.Body,null,n.createElement("div",{className:A()("playground_modal--container--oiCFH")},n.createElement("div",{className:"playground_modal--thumbnailContainer--ZaF9V",style:(0,ns.CU)(v)},n.createElement("img",{src:N.src,className:"playground_modal--thumbnail--JPv2M",width:N.width,height:N.height,alt:(0,m.t)("design_systems.playground.thumbnail_alt")}),(0,e6.kc)().dt_component_bg_improvements&&n.createElement("div",{className:"playground_modal--themeButton---BLzd","data-preferred-theme":v},n.createElement(eK.K,{"aria-label":(0,m.t)("design_systems.playground.change_background"),onClick:b,htmlAttributes:{"data-tooltip":(0,m.t)("design_systems.playground.change_background"),"data-tooltip-type":ts.Ib.TEXT}},"light"===v?n.createElement(ac,null):n.createElement(ad,null)))),n.createElement("div",{className:"playground_modal--propsContainer--CAA9y"},n.createElement("div",{className:"playground_modal--propsContainerHeader--oGDtk"},n.createElement("div",{className:"playground_modal--propsContainerName--ZCWzH"},a,n.createElement("div",{className:"playground_modal--productComponentName--NaHb9 ellipsis--ellipsis--Tjyfa"},y)),n.createElement("div",{className:"playground_modal--propsContainerHeaderButtons--MPFZ-"},"INSTANCE"===s.type&&n.createElement(nh,null),n.createElement(eK.K,{onClick:T,"aria-label":(0,m.t)("design_systems.playground.reset_properties"),disabled:!p.hasChangesToReset,recordingKey:"resetPlaygroundProps",htmlAttributes:{"data-tooltip":(0,m.t)("design_systems.playground.reset_properties"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(au.m,null)))),!C&&n.createElement("div",{className:"playground_modal--bannerContainer--rQy3f playground_modal--_propsContainerElement--F1mOU"},n.createElement(am.z,{orientation:"vertical",iconSrc:ny.A,variant:"dev",title:(0,m.t)("design_systems.playground.banner_header"),onClose:w},(0,m.tx)("design_systems.playground.banner_content"))),n.createElement(ap.P,null,n.createElement(tH.q0.Provider,{value:h},n.createElement("div",{className:"playground_modal--propsSectionContainer--3xF-J playground_modal--_propsContainerElement--F1mOU"},n.createElement(nE.x,{containerWidth:nu.O2.UNBOUNDED,componentProps:I,moduleProps:L,moduleFrameData:void 0,playgroundGUID:k,productComponentGUID:E,sceneGraph:h,viewOnlyMode:R?.isState?nm.BK.VARIANT_PROPS:void 0,recordingKey:"playgroundPicker"})),n.createElement("div",{className:"playground_modal--modesSectionContainer--NaZ-S"},n.createElement(ng.b,{fill:!0,modes:O||{}}))),(0,e6.kc)().dt_code_connect_playground&&n.createElement("div",{className:"playground_modal--codeConnectPanel--A4E9s"},n.createElement(tT.tH,{boundaryKey:"Figmadoc",fallback:tT.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(no,{isPlayground:!0,onInstancePillClick:S})))))))))}),nb=(0,aB.Ju)(nv,"PlaygroundModal");var nC=a(869156),nw=a(25888),nT=a(673867),nS=a(564092),nN=a(693903),nx=a(91408),nk=a(603689),nI=a(146935);let nA="component_preview_panel--componentPreviewContainer--aKLR0 common--well--J0WtH",nL="component_preview_panel--componentPreviewImage--AZj5d",nO=(0,nx.jz)(nI.devHandoffComponentPreviewMaxHeight);function nR({overPropTable:e,overPlaygroundButton:t}){let a=(0,nk.rL)(),r=(0,tN.ro)(),l=a-64,i=function(e,t=nO){let a=(0,o.wS)(),r=(0,tN.lA)(),l="loaded"===a.status&&a.result.dataComponentId?a.result.dataComponentId:r?.guid,i=(0,ns.c6)(l),s="loaded"===a.status&&"temp-scene"===a.result.dataLocation,c=4*e,d=4*t;return n.useMemo(()=>{if(!l)return;let e=tv.glU.getDefaultStateForLocalStateGroup(l)||l;if(!(0,nN.isValid)((0,nN.fromString)(e)))return;let[t,a]=tv.Vzr.generateThumbnailForNode(e,c,d,4,{forceContentsOnly:!0,inDetachedComponentsScene:s});if(!a||0===a.length||!t)return;let{width:n,height:r}=t;return{url:URL.createObjectURL(new Blob([a])),backgroundStyle:i,renderWidth:n/4,renderHeight:r/4}},[i,s,l,d,c])}(l);if(!r)return null;let s=i?.renderWidth??l,c=i?.renderHeight??nO;return n.createElement(e7.D8,{className:A()(nA,{"component_preview_panel--overPropTable--c8HQR":e,"component_preview_panel--overPlaygroundButton--cn0Sd":t}),style:i?.backgroundStyle,role:"button",tabIndex:0},i?.url&&n.createElement(F.J,{className:nL,src:i.url,style:{maxWidth:s,maxHeight:c}}))}let nM="component_props_list--propertyValueTypeBool--9q87D";function nD(){return n.createElement("span",{className:"component_props_list--propertyNameSpacer--FdkL0"})}function nP(e){let t=(0,t_.SV)("inspection_property_copy_click"),a=(0,tp.Cj)(`${e.name}: ${e.value}`,()=>{t({property:e.name,value:e.value})}),[r,l]=n.useState(!1),i=(0,nT.X)(e.name),o=(0,nT.X)(e.value),s={[tv.J0O.BOOL]:nM,[tv.J0O.VARIANT]:"component_props_list--propertyValueTypeVariant--GNz6Z",[tv.J0O.TEXT]:"component_props_list--propertyValueTypeText--noD0E",[tv.J0O.INSTANCE_SWAP]:"component_props_list--propertyValueTypeInstanceSwap--Ckcm4",[tv.J0O.NUMBER]:nM,[tv.J0O.NONE]:void 0},c={[tv.J0O.BOOL]:an.X,[tv.J0O.VARIANT]:ar.y,[tv.J0O.TEXT]:al.I,[tv.J0O.INSTANCE_SWAP]:ai.M,[tv.J0O.NUMBER]:an.X,[tv.J0O.NONE]:ar.y}[e.type],d=n.createElement(c,{"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":(0,m.t)("design_systems.component_properties.property_icon_tooltip",{propertyType:(0,nu.xb)(e.type===tv.J0O.NONE?tv.J0O.VARIANT:e.type)})}),u=A()("component_props_list--propertyValue--eu4vE sf_pro--uiFontWithSFProFallback--m-p9V ellipsis--ellipsis--Tjyfa text--fontPos10--s1PI5 text--_fontBase--QdLsd",s[e.type]);return n.createElement("div",{className:A()("component_props_list--copyableRow--N-YSu ellipsis--ellipsis--Tjyfa"),onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)}},n.createElement(e7.D8,{className:"component_props_list--propertyRow--lpbBb",onClick:a,"data-testid":"inspectionPropertyRow"},e.name?n.createElement("span",{className:"component_props_list--propertyName--o49U9 sf_pro--uiFontWithSFProFallback--m-p9V text--fontPos10--s1PI5 text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa","data-testid":"inspectionPropertyName",...i,"data-tooltip-tip-align-left":!0},e.name):n.createElement(nD,null),n.createElement("span",{className:u,"data-testid":"inspectionPropertyValue",...o,"data-tooltip-tip-align-left":!0},d,n.createElement(t_.lN,{valueProps:{...e,copyValue:e.value},isHovered:r}))))}function nF(){let e=(0,r.wA)(),t=(0,tN.M4)(),a=n.useCallback(()=>{e(eB.to({type:nb,data:{guid:t?.guid}})),(0,ea.sx)("Playground opened")},[e,t?.guid]);return n.createElement("div",{className:"component_props_list--propsPlaygroundButtonContainer--JYmvM","data-test-id":"openInPlaygroundButton"},n.createElement(N.IK,{variant:"secondary",onClick:a,recordingKey:"openInPlayground"},(0,m.tx)("dev_handoff.playground.open_in_playground")))}function nB(e){let t=e.variables&&e.variables.value[e.name],a=t&&t.type===tv.Z_n.ALIAS?t.value:void 0,r=(0,nC.u)(a);return n.createElement(nP,{type:e.type,name:e.name,value:e.value,variable:r?.name})}function nU(){let e=(0,r.d4)(aN.qd),t=n.useMemo(nw.z4,[]),{consumedVariable:a}=(0,nS.u3)(["VARIANT_PROPERTIES"]),l=function(e){if(!e||(0,tr.gl)(e)||e.type!==tv.Z_n.EXPRESSION||e.value.expressionFunction!==tv.JTp.RESOLVE_VARIANT)return null;let t=e.value.expressionArguments[0];return t.type!==tv.Z_n.MAP?null:t}(a),i=(0,r.d4)(a=>t(a,e)),o=Object.entries((0,nS.kN)()).filter(([e,t])=>t.modeOptions.length>1),s=i.length>0,c=s||o.length>0;return n.createElement(n.Fragment,null,n.createElement(nR,{overPropTable:s,overPlaygroundButton:c}),s&&n.createElement("div",{className:"component_props_list--propsList--VRadV"},i.map(({name:e,value:t,type:a})=>n.createElement(nB,{type:a,key:e,name:e,value:t,variables:l}))),!tU.z4.getIsExtension()&&c&&n.createElement(nF,null))}var nH=a(553015),nG=a(335691),nV=a(215440),nz=a(958317),nK=a(731262);let nW="legacy_component_props_list--propsList--IO9sr text--fontPos11--2LvXf text--_fontBase--QdLsd",nj="legacy_component_props_list--heading--xuytG";function nZ({propDef:e}){let{type:t,name:a}=e,r=e.kind===nG.u.TYPED?e.defaultValue:void 0,l=(0,eo.mJ)(r),i=(0,eo.mJ)(l?.parentGuid);if(function(e){if(e.type===tv.J0O.BOOL)return!0;if(e.type!==tv.J0O.VARIANT)return!1;let t=e.values.map(e=>e.toLowerCase());if(2===t.length)for(let e of nK.NE){let a=t.indexOf(e[0]),n=t.indexOf(e[1]);if(-1!==a&&-1!==n)return!0}return!1}(e))return void 0===r?n.createElement(t_._p,{name:a,value:(0,m.t)("dev_handoff.docs.prop_boolean")}):n.createElement(t_._p,{name:a,value:"true"===r?(0,m.t)("dev_handoff.docs.prop_boolean_default_true"):(0,m.t)("dev_handoff.docs.prop_boolean_default_false")});switch(t){case tv.J0O.VARIANT:return n.createElement(t_._p,{key:e.name,name:e.name,value:(0,m.t)("dev_handoff.docs.prop_variant",{values:e.values.join(", ")})});case tv.J0O.TEXT:return n.createElement(t_._p,{name:a,value:(0,m.t)("dev_handoff.docs.prop_string",{defaultValue:r})});case tv.J0O.INSTANCE_SWAP:let o=l?.isState?i?.name:l?.name,s=o?` (${o})`:"";return n.createElement(t_._p,{name:a,value:`${(0,m.t)("dev_handoff.docs.prop_instance")}${s}`})}return null}function nY({component:e}){let t=(0,r.d4)(aN.qd),a=(0,o.wS)(),l=(0,r.d4)(nw.$F),i=n.useMemo(nz.Cu,[]),s=(0,r.d4)(e=>i(e,t)),c=(0,tH.eY)(),{detachedCompPropsDefs:d,detachedVariantProps:u}=(0,o.t7)(a,c),p=e.isState||"loaded"===a.status&&a.result.isVariant,_=[...l,...d],f=[...s,...u],h=((0,r.d4)(nV.K4)||[]).filter(e=>e.isBubbled),g=Object.entries((0,nS.kN)()).filter(([e,t])=>t.modeOptions.length>1);if(!(_.length>0||g.length>0||h.length>0))return null;let E=p?_.filter(e=>e.kind!==nG.u.VARIANT):_;return n.createElement("div",{className:nW},n.createElement("div",{className:nj},n.createElement("strong",null,(0,m.tx)("dev_handoff.docs.props"))),p&&f.map(({name:e,value:t})=>n.createElement(t_._p,{key:e,name:e,value:t})),E.map(e=>n.createElement(nZ,{key:e.name,propDef:e})),!tU.z4.getIsExtension()&&n.createElement(nX,null))}function nX(){let e=(0,r.wA)(),t=(0,tN.M4)(),a=n.useCallback(()=>{e(eB.to({type:nb,data:{guid:t?.guid}})),(0,ea.sx)("Playground opened")},[e,t?.guid]);return n.createElement("div",{className:"legacy_component_props_list--propsPlaygroundButtonContainer--WlFqT"},n.createElement(nH.$,{width:"fill-parent",onClick:a,recordingKey:"openInPlayground",dataTestId:"openInPlaygroundButton"},(0,m.tx)("dev_handoff.playground.open_in_playground")))}function nq(e){let t=e.variables&&e.variables.value[e.name],a=t&&t.type===tv.Z_n.ALIAS?t.value:void 0,r=(0,nC.u)(a);return n.createElement(t_._p,{name:e.name,value:e.value,variable:r?.name})}function nJ(){let e=(0,r.d4)(aN.qd),t=n.useMemo(nw.z4,[]),{consumedVariable:a}=(0,nS.u3)(["VARIANT_PROPERTIES"]),l=function(e){if(!e||(0,tr.gl)(e)||e.type!==tv.Z_n.EXPRESSION||e.value.expressionFunction!==tv.JTp.RESOLVE_VARIANT)return null;let t=e.value.expressionArguments[0];return t.type!==tv.Z_n.MAP?null:t}(a),i=(0,r.d4)(a=>t(a,e)),o=Object.entries((0,nS.kN)()).filter(([e,t])=>t.modeOptions.length>1);return i.length>0||o.length>0?n.createElement("div",{className:nW},n.createElement("div",{className:nj},(0,m.tx)("dev_handoff.docs.props")),i.map(({name:e,value:t})=>n.createElement(nq,{key:e,name:e,value:t,variables:l})),!tU.z4.getIsExtension()&&n.createElement(nX,null)):null}function nQ(){let e=(0,tN.M4)();return e?"INSTANCE"===e.type?n.createElement(nJ,null):n.createElement(nY,{component:e}):null}function n$(){return n.createElement(n.Fragment,null,n.createElement(nR,null),n.createElement(nQ,null))}function n0(){(0,tp.jY)();let e=(0,tN.lA)(),[t,a]=(0,o.XX)(),r=(0,aa.AK)(t,a),l=e?.isState?e?.parentNode:null,{backingSymbolDescription:i,parentDescription:s}=(0,o.iX)(e?.description,l?.description),c=i&&s?s+"\n\n"+i:i||s;return n.useMemo(()=>({links:r,description:c}),[r,c])}function n1(){let{links:e=[]}=n0();return 0===e.length?null:n.createElement("div",{className:"component_documentation_panel--documentationLinks--UtNIi text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("div",{className:"component_documentation_panel--heading--x-ri2"},n.createElement("strong",null,(0,m.tx)("dev_handoff.docs.links_title"))),n.createElement("div",null,e.map(e=>{let t=(0,tI.Gw)(e.uri),a=t?(0,tA.Zr)(t):(0,m.t)("dev_handoff.docs.links_default"),r={id:e.uri,nodeId:"",fileKey:"",linkName:a,linkUrl:e.uri,linkPreviewJson:"",isUserOverride:!1,isInherited:!1,linkPreview:null};return n.createElement(ae,{key:e.uri,link:r,isEditable:!1,onOpenDeleteModal:u.lQ,onOpenEditModal:u.lQ})})))}function n2(){let{description:e}=n0();return n.createElement(n.Fragment,null,(0,e6.kc)().dt_code_connect_ui_update?n.createElement(nU,null):n.createElement(n$,null),n.createElement(tR,{description:e}),n.createElement(n1,null))}function n5(){let e=(0,tN.lA)(),t=(0,o.wS)(),a=(0,r.d4)(v.sS),l=(0,eo.uQ)(),i=(0,eN.U)(),s="loaded"===t.status?t.result:void 0,c=(0,tk.yW)(e),d=s&&s.isExternal?s.fileKey:c&&c!==a?c:a,u=d!==a,p=s?s.nodeId:u?e?.publishID:e?.guid,_=(0,tS.d)(!1,()=>{i("Dev Mode Navigated To Main Component",{selectedNodeId:l,external:u,detached:!!s})});if(!p||!_||!d)return null;let f=(0,tx.wJ)(d),h=!1;return u?t&&(h="loading"===t.status||"errors"===t.status):h=tv.Egt.nodeIsSoftDeleted(p),n.createElement(eK.K,{"aria-label":f?(0,m.t)("design_systems.instance_panel.view_library_in_community"):(0,m.t)("dev_handoff.instance_navigation.go_to_main_component"),onClick:_,disabled:h,recordingKey:"devHandoffNavigateInstanceButton",htmlAttributes:{"data-tooltip":f?(0,m.t)("design_systems.instance_panel.view_library_in_community"):(0,m.t)("dev_handoff.instance_navigation.go_to_main_component"),"data-tooltip-type":ts.Ib.TEXT}},f?n.createElement(tb.c,null):u?n.createElement(tC.E,null):n.createElement(tw.K,null))}function n3(){let e=(0,eo.VW)(),t=(0,o.wS)();return e?.isLooseComponent||e?.isState||e?.isStateGroup||e?.type==="INSTANCE"||"disabled"!==t.status?n.createElement(t_.VZ,{recordingKey:"componentPanel",hideHeader:!0,padding:t_.UZ.EXTRA_TOP_PADDING_FOR_UI2},(0,e6.kc)().dt_figmadoc&&n.createElement(tT.tH,{boundaryKey:"Figmadoc",fallback:tT.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(no,null)),n.createElement(n2,null)):null}var n4=a(413145);let n6=e=>e.includes("prototype")||e.includes("user")||e.includes("prop")?null:e.includes("stroke")||e.includes("border")||e.includes("corner")?"border":e.includes("fill")||e.includes("background")?"color":e.includes("text")||e.includes("font")||e.includes("paragraph")||e.includes("ot-features")||"letter-spacing"===e||"line-height"===e?"text":e.includes("effect")?"effect":e.includes("size")||e.includes("stack")?"layout":"count"===e||e.includes("vector")?"shape":"opacity"===e||"visible"===e||"blend-mode"===e?"style":null;function n7(e,t){return n8.indexOf(e)-n8.indexOf(t)}let n8=["color","border","text","effect","layout","shape","style"];var n9=a(728325);let re=(0,aB.Ju)(function(){return n.createElement(B.Rw,{destructive:!0,confirmationTitle:(0,m.tx)("inspect_panel.detached_component.remove_attachment"),confirmText:(0,m.tx)("dev_handoff.detached_component.remove_attachment_confirm"),onConfirm:()=>{n9.VU.get("remove-detached-symbol-id","menu")()}},n.createElement("p",null,(0,m.tx)("dev_handoff.detached_component.remove_attachment_text_body")))},"RemoveDetachmentStatusModal");var rt=a(812505);let ra="dev_handoff_nodes_panel--nodesPanel--4Pea0",rn="dev_handoff_nodes_panel--item--FYINO",rr="dev_handoff_nodes_panel--itemSelectedReadySections--Wladq dev_handoff_nodes_panel--item--FYINO",rl="dev_handoff_nodes_panel--timestamp--5sWkT text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",ri="dev_handoff_nodes_panel--readySectionsEmptyStateRow--3qQXK",ro="dev_handoff_nodes_panel--readySectionsIcon--gNtWg",rs="dev_handoff_nodes_panel--readySectionsContent--3ilof text--fontPos11--2LvXf text--_fontBase--QdLsd",rc="header--headerContents--0Pvld",rd="header--layerRowContainer--qqv5Y",ru="header--headerButtons--Lt3iE",rm="header--layerNameRow--tsuuh header--layerRowContainer--qqv5Y",rp="header--layerRowSpacer--qrODv",r_="header--layerName--s4pA8 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",rf="header--layerIcon--uDEQt header--icon--IGzM0",rh="header--layerIconSymbol--irpWG header--icon--IGzM0",rg="header--statusIcon--9Pk8T",rE="header--layerType--vaDds text--fontPos11--2LvXf text--_fontBase--QdLsd",ry="header--layerTypeSymbol--cMeH3 text--fontPos11--2LvXf text--_fontBase--QdLsd",rv="header--layerCompareLink--pHd1V text--fontPos11--2LvXf text--_fontBase--QdLsd",rb="header--layerCompareLinkNoTimestamp--FnSP9 text--fontPos11--2LvXf text--_fontBase--QdLsd",rC="header--layerCompareLinkText--frP7M text--fontPos11--2LvXf text--_fontBase--QdLsd",rw="header--timestamp--zWQD3 text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",rT="header--chevron--0Wf28",rS="header--chevronActive--sp6Xw";var rN=a(783423),rx=a(757510),rk=a(432616),rI=a(437527),rA=a(362679),rL=a(844127),rO=a(842232);function rR(){let e=(0,r.wA)(),t=(0,o.wS)(),a=(0,ty.Td)(),{Dropdown:l,dropdownTargetRef:i,toggleDropdown:s,isDropdownShown:c}=(0,tu.B)("DEV_HANDOFF_DETACHED_COMPONENT_DROPDOWN"),d=[{displayText:(0,m.t)("inspect_panel.detached_component.remove_attachment"),disabled:a,callback:()=>{e(eB.to({type:re}))}},{displayText:(0,m.t)("inspect_panel.detached_component.compare_to_source"),disabled:"loaded"!==t.status,callback:(0,e9.xY)("cc_detached_component")}];return n.createElement(n.Fragment,null,n.createElement(e7.D8,{className:"header--detachedDropdownContainer--msmKV",forwardedRef:i,onClick:s},(0,m.tx)("inspect_panel.node_type.detached_component"),n.createElement(em.B,{className:c?rS:rT,svg:rN.A})),n.createElement(l,{items:d,showPoint:!1}))}function rM({state:e,backgroundState:t}){return n.createElement("div",{className:"dev_handoff_nodes_panel--historyIconContainer--QkDx6"},n.createElement(eX.t,{className:A()("dev_handoff_nodes_panel--historyIcon--dprKz"),svg:rx.A}),e===eZ.Uy.RECENTLY_EDITED&&n.createElement("div",{className:A()("dev_handoff_nodes_panel--editedDot--8NIiF",{"dev_handoff_nodes_panel--editedDotSelected--95Nsq":"selected"===t,"dev_handoff_nodes_panel--editedDotHover--P8nA3":"hovered"===t})}))}function rD({frameId:e,label:t,disabled:a,compareVersions:r,compareDetachedComponent:l,compareOverrides:o,overridesText:s}){let c=(0,tn.GS)(),d=(0,i._I)(),p=!a&&d,_=(0,e9.dU)(e,"cc_versions"),f=(0,e9.xY)("cc_dropdown_detached_component"),h=(0,eo.VW)(),g=!!(h&&h.isAlive())&&"INSTANCE"===h.type,E=(0,tl.kl)("overrides"),y=E&&!(0,tr.gl)(E)?E.instanceGuid:null,v=(0,e9.Xn)(y),{Dropdown:b,dropdownTargetRef:C,toggleDropdown:w,isDropdownShown:T}=(0,tu.B)("DEV_HANDOFF_COMPARE_CHANGES_DROPDOWN"),S=n.useMemo(()=>({displayText:(0,m.t)("dev_handoff.compare_changes.entrypoint.compare_versions"),disabled:a||!d||!r,callback:d?_:u.lQ,recordingKey:"compareChanges.entrypoint.dropdown.compareVersions"}),[r,a,d,_]),N=n.useMemo(()=>l?{displayText:(0,m.t)("dev_handoff.compare_changes.entrypoint.compare_main_component"),disabled:a||!d,callback:d?f:u.lQ,recordingKey:"compareChanges.entrypoint.dropdown.compareDetachedComponent"}:null,[l,a,d,f]),x=n.useMemo(()=>o||g?{displayText:(0,m.t)("dev_handoff.compare_changes.entrypoint.compare_main_component"),disabled:!o||a||!d,callback:d?v:u.lQ,recordingKey:"compareChanges.entrypoint.dropdown.compareOverrides"}:null,[o,g,a,d,v]),k=n.useMemo(()=>[S,N,x,{separator:!0,displayText:""},{displayText:s??(0,m.t)("dev_handoff.compare_changes.entrypoint.multiselect_comparison_hint"),icon:n.createElement("div",{className:O.cx.if(s,O.cx.mt6,O.cx.mt4).mr8.minW16.minH16.itemSelfStart.flex.justifyCenter.alignCenter.$},n.createElement(em.B,{className:O.cx.colorTextMenuSecondary.colorIconMenuSecondary.$,svg:s?a8.A:rO.A})),displayTextClassName:"header--multilineText--iK4P2",disabled:!0}].filter(e$.isNotNullish),[S,N,x,s]);return p?n.createElement(n.Fragment,null,n.createElement(e7.D8,{className:"header--dropdownContainer--4czE1",forwardedRef:C,onClick:w,recordingKey:"compareChanges.entrypoint"},!!s&&n.createElement("div",{className:"header--overridesDot--31BuQ"},n.createElement(em.B,{svg:rk.A})),n.createElement("div",{className:rC,"data-testid":"compare-changes-entry-with-dropdown"},t),c?n.createElement(e1.r,null):n.createElement("div",{className:T?rS:rT},n.createElement(em.B,{svg:rN.A}))),n.createElement(b,{rootAndSubmenuMaxWidth:240,items:k,showPoint:!1,recordingKey:"compareChanges.entrypoint.dropdown"})):n.createElement("div",{className:A()(rC,{"header--layerCompareLinkTextDisabled----eEQ text--fontPos11--2LvXf text--_fontBase--QdLsd":a}),"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":(0,m.t)("dev_handoff.compare_changes.entrypoint.multiselect_comparison_hint"),"data-testid":"compare-changes-entry-without-dropdown"},t)}function rP(){let e=(0,i._I)(),t=to.iZ()?.id,a=(0,tp.Tv)(),l=(0,v.tS)(),o=(0,r.wA)(),s=(0,tn.GS)();if(a?.length!==2)return null;let c=a[1],d=a[0];return n.createElement(N.$n,{variant:s?"secondary":"link",onClick:()=>{e&&((0,ea.sx)("Diff Modal Compare Changes Clicked",{userId:t,fileKey:l,nodeId:c,otherNodeId:d,entrypoint:"lego_layer",origin:"cc_nodes"}),en.sn.reset("dev_handoff.view_history",c),en.sn.start("dev_handoff.view_history",{key:c}),o(eB.to({type:td.ku,data:{changeNodeId:c,basisNodeId:d}})))},disabled:!e,recordingKey:"compareChanges.entrypoint.nodes"},n.createElement("span",{className:"header--layerCompareLinkTextNoDropdown--LWQWY text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,m.tx)("inspect_panel.history.compare_changes")))}function rF(e,t=""){let{backingSymbolName:a}=e,r=t?.trim()||(0,m.t)("fullscreen.layer_panel.layer"),l=!t?.trim();return n.createElement("span",{className:A()({"header--fallbackLayerName--mPaXg":l})},a&&a!==t?(0,m.tx)("inspect_panel.components.name",{instance:r,component:n.createElement("span",{className:"header--backingSymbolName--get70"},a.trim())}):r)}function rB(){let e=(0,i._I)(),t=(0,v.q5)(),a=(0,ti._6)(),{Dropdown:r,toggleDropdown:l,dropdownTargetRef:o,isDropdownShown:s}=(0,tu.B)("INSPECT_PANEL_HEADER_DROPDOWN");if(!e)return null;let c=[{displayText:(0,m.t)("dev_handoff.inspect_panel.open_in_vs_code.link"),callback:function(){t&&"fullscreen"===a.view&&a.nodeId&&(window.location.href=`vscode://figma.figma-vscode-extension/open/${t.key}/${t.name}/${a.nodeId}`)},icon:n.createElement("div",{className:"header--optionsDropdownIcon--sWjMu"},n.createElement(rt.M,null))}];return n.createElement(n.Fragment,null,n.createElement("div",{ref:o},(0,e6.kc)().dt_fpl_migration?n.createElement(e0.d,{"aria-label":(0,m.t)("dev_handoff.code.options"),toggled:s,onClick:l,htmlAttributes:{"data-tooltip":(0,m.t)("dev_handoff.code.options"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(e2.J,null)):n.createElement(tf.YW,{svg:rA.A,onMouseDown:e=>e.stopPropagation(),onClick:l,"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":(0,m.t)("dev_handoff.code.options"),selected:s})),n.createElement(r,{items:c,showPoint:!0}))}function rU(){let e=(0,eo.NM)();return e?n.createElement(t_.VZ,{title:(0,m.t)("inspect_panel.property.mixed"),recordingKey:"layerName"},n.createElement("div",{className:"header--mixedRow--PIOSy header--layerRowContainer--qqv5Y"},n.createElement("span",{className:rE},(0,m.tx)("inspect_panel.property.selected",{numberOfItems:e.length})),n.createElement("div",{className:rp}),n.createElement(rP,null))):null}function rH({lastViewTimestamp:e,isDetached:t}){let a=(0,te.VI)(),r=(0,eZ.ei)(a?.id),i=(0,l.md)(tt.d),o=(0,eZ.L)(a?.id,e,i),{versions:s,versionsQueryLoaded:c}=(0,tc.DS)(a?.id),d=!c||0===s.length||!r,u=(0,e8.i)(a),p=function(){let e;let t=(0,tl.kl)("overrides");if(!t||(0,tr.gl)(t))return null;let a=t.isPrimary,n=t.overriddenProperties,r=new Set;if(n.forEach(e=>{let t=n6(e);t&&r.add(t)}),0===r.size)return null;let l=Array.from(r).sort(n7).map(e=>{switch(e){case"color":return(0,m.t)("dev_handoff.overrides.color");case"border":return(0,m.t)("dev_handoff.overrides.border");case"text":return(0,m.t)("dev_handoff.overrides.text");case"effect":return(0,m.t)("dev_handoff.overrides.effect");case"layout":return(0,m.t)("dev_handoff.overrides.layout");case"shape":return(0,m.t)("dev_handoff.overrides.shape");case"style":return(0,m.t)("dev_handoff.overrides.style")}}).filter(n4.t),i=a?(0,m.t)("dev_handoff.overrides.instance"):(0,m.t)("dev_handoff.overrides.layer");switch(l.length){case 1:return(0,m.t)("dev_handoff.overrides.hint_one",{property:l[0],layerType:i});case 2:e=(0,m.t)("dev_handoff.overrides.properties2",{prop1:l[0],prop2:l[1]});break;case 3:e=(0,m.t)("dev_handoff.overrides.properties3",{prop1:l[0],prop2:l[1],prop3:l[2]});break;default:e=(0,m.t)("dev_handoff.overrides.properties_more",{prop1:l[0],prop2:l[1],prop3:l[2],count:l.length-3})}return(0,m.t)("dev_handoff.overrides.hint",{layerType:i,properties:e})}();if(!a||!u)return null;let _=!!r?.lastEditedAt&&(!d||d&&!!r?.createdAt),f=!!p,h=t||!d||f;return n.createElement("div",{className:"header--timestampContainer--ppFUv dev_handoff_nodes_panel--timestampContainer--dGH49"},n.createElement(n.Fragment,null,n.createElement(rM,{state:o,backgroundState:null}),_?d?n.createElement("span",{className:rw},(0,m.tx)("dev_handoff.nodes_panel.created",{at:(0,e4.A)(r?.createdAt).fromNow()})):n.createElement("span",{className:rw},(0,m.tx)("dev_handoff.nodes_panel.edited",{at:(0,e4.A)(r?.lastEditedAt).fromNow()})):n.createElement("span",{className:rw},"-"),n.createElement("div",{className:rp})),n.createElement(rD,{disabled:!h,frameId:a.id,label:h?(0,m.t)("inspect_panel.history.compare_changes"):(0,m.t)("inspect_panel.history.no_changes"),compareVersions:!d,compareDetachedComponent:t,compareOverrides:f,overridesText:p}))}function rG({selection:e}){let t=(0,o.wS)(),a=(0,er.R)(e=>e.mirror.appModel.activeCanvasEditModeType);if(e.isReadyForDev)return n.createElement(n.Fragment,null,n.createElement(e5.O,{className:rg}),n.createElement("span",{className:rE},(0,m.tx)("dev_handoff.status.ready_for_dev")));if(e.isCompleted)return n.createElement(n.Fragment,null,n.createElement(e3.l,{className:rg}),n.createElement("span",{className:rE},(0,m.tx)("dev_handoff.status.completed")));let r=e.isSymbol||e.isDetached;return n.createElement(n.Fragment,null,n.createElement(tm.Bf,{className:r?rh:rf,guid:e.id,editModeType:a,detachedInfo:t}),n.createElement("span",{className:r?ry:rE,"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":e.typeTooltip},e.isDetached?n.createElement(rR,null):e.type))}function rV(e){let t=(0,te.T1)(),a=(0,r.wA)(),l=t?.name?.trim(),i=(0,tp.Cj)(l),o=(0,th.R)(),{getMaybeEnabledItem:s}=(0,tg.nq)();if(!t)return null;let c=rF(t,l);return n.createElement(t_.VZ,{recordingKey:"layerName",formattedHeader:n.createElement("div",{className:rm},n.createElement(x.E,{className:A()(r_,{"header--copyableLayerName--oMhyj":!!l}),actionOnPointerDown:!0,onClick:i,"aria-label":(0,e6.kc)().dt_fpl_migration?(0,m.t)("dev_handoff.inspect_panel.copy_layer_name"):void 0},c),n.createElement("div",{className:ru},n.createElement(n5,null),o&&(0,el.Te)().filter(s).map(e=>n.createElement(tE.QE,{key:e.action,item:e,numUnreadComments:0})),n.createElement(rB,null)))},n.createElement("div",{className:rc},n.createElement("div",{className:rd},n.createElement(rG,{selection:t})),t.link&&n.createElement("button",{className:"header--linkRow--QPcNR text--fontPos11--2LvXf text--_fontBase--QdLsd header--layerRowContainer--qqv5Y",onClick:()=>{a(ta.S({url:t.link}))}},n.createElement(em.B,{svg:rL.A,className:"header--linkIcon--9v4Qb"}),n.createElement("span",{className:"header--link--qUrbC text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},t.link)),!!t.libraryName&&n.createElement("div",{className:"header--libraryNameRow--DjJXj text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa header--layerRowContainer--qqv5Y"},n.createElement(em.B,{svg:rI.A}),n.createElement("span",{className:"header--libraryName---uTzg"},t.libraryName)),n.createElement(rH,{lastViewTimestamp:e.lastViewTimestamp,isDetached:t.isDetached})))}var rz=a(704513),rK=a.n(rz),rW=a(444736),rj=a(187796),rZ=a(92597),rY=a(594901),rX=a(297281),rq=a(712685);let rJ="box_model--imageBox--XoIJh box_model--_border--PCElt box_model--_layoutFlex--pL0jp text--fontPos11--2LvXf text--_fontBase--QdLsd",rQ="box_model--variableValueContainer--oxu-X box_model--_valueContainerBase--pMK2K",r$="box_model--valueNonValid--H7q6F",r0="box_model--value--1jh75 ellipsis--ellipsis--Tjyfa",r1="box_model--innerSizeBoxValue--l-qDX ellipsis--ellipsis--Tjyfa",r2="box_model--variable--GK5G3",r5="box_model--innerSizeBoxVariable--Lw6dO",r3="box_model--gapLine--BM-H0",r4="box_model--gapVertical--t9aDg box_model--gap--YPdKC box_model--_layoutFlex--pL0jp",r6="box_model--gapHorizontal--gLY-T box_model--gap--YPdKC box_model--_layoutFlex--pL0jp",r7="box_model--gapValueContainer--GsVpn box_model--_layoutFlex--pL0jp",r8="box_model--gapValue--sE-2O",r9=n.createContext(!1),le=()=>n.useContext(r9);function lt({fillContainer:e=!1,loadingState:t=!1}){let{distance:a,border:r,radius:l,padding:i,width:o,height:s}=(0,rj.$G)(),c=(0,rW.aI)(),d=!t&&(0,rW.fk)(c);return n.createElement(t_.VZ,{hideHeader:!0,padding:t_.UZ.NONE,noBorder:!0,recordingKey:"boxModel"},n.createElement(r9.Provider,{value:t},n.createElement(la,{topDistance:a.top,bottomDistance:a.bottom,fillContainer:e},n.createElement(l_,null),n.createElement(ld,{position:"vertical",value:a.top,dataTestIndex:0}),n.createElement(l_,null),n.createElement(ld,{position:"horizontal",value:a.left,dataTestIndex:0}),n.createElement(ln,{radius:l},n.createElement(lm,{value:l.topLeft,vertical:"top",horizontal:"left",variableConsumptionField:"RECTANGLE_TOP_LEFT_CORNER_RADIUS"}),n.createElement(ls,null,n.createElement(lc,null,(0,m.tx)("dev_handoff.box_model.border")),n.createElement(lp,{value:r.top,dataTestId:"layoutBorderTop"})),n.createElement(lm,{value:l.topRight,vertical:"top",horizontal:"right",variableConsumptionField:"RECTANGLE_TOP_RIGHT_CORNER_RADIUS"}),n.createElement(lp,{value:r.left,isVertical:!0,dataTestId:"layoutBorderLeft"}),d?n.createElement(lr,{width:o,height:s,assetType:c}):n.createElement(li,null,n.createElement(l_,null),n.createElement("div",{className:"box_model--paddingTopMiddle--GiNbR"},n.createElement("div",{className:"box_model--paddingLabel--MsGiF"},n.createElement(lc,null,(0,m.tx)("dev_handoff.box_model.padding"))),t?n.createElement(l_,null):n.createElement(lp,{value:i.top,dataTestId:"layoutPaddingTop",variableConsumptionField:"STACK_PADDING_TOP"})),n.createElement(l_,null),t?n.createElement(l_,null):n.createElement(lp,{value:i.left,isVertical:!0,dataTestId:"layoutPaddingLeft",variableConsumptionField:"STACK_PADDING_LEFT"}),n.createElement(lo,{width:o,height:s}),t?n.createElement(l_,null):n.createElement(lp,{value:i.right,isVertical:!0,dataTestId:"layoutPaddingRight",variableConsumptionField:"STACK_PADDING_RIGHT"}),n.createElement(l_,null),t?n.createElement(l_,null):n.createElement(lp,{value:i.bottom,dataTestId:"layoutPaddingBottom",variableConsumptionField:"STACK_PADDING_BOTTOM"}),n.createElement(l_,null)),n.createElement(lp,{value:r.right,dataTestId:"layoutBorderRight",isVertical:!0}),n.createElement(lm,{value:l.bottomLeft,vertical:"bottom",horizontal:"left",variableConsumptionField:"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS"}),n.createElement(lp,{value:r.bottom,dataTestId:"layoutBorderBottom"}),n.createElement(lm,{value:l.bottomRight,vertical:"bottom",horizontal:"right",variableConsumptionField:"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS"})),n.createElement(ld,{position:"horizontal",value:a.right,dataTestIndex:1}),n.createElement(l_,null),n.createElement(ld,{position:"vertical",value:a.bottom,dataTestIndex:1}),n.createElement(l_,null),n.createElement(lf,null))))}function la({topDistance:e,bottomDistance:t,children:a,fillContainer:r}){let l=!le()&&(!e||!e.distance)&&(!t||!t.distance);return n.createElement("div",{className:A()("box_model--gapBox--6aFgq common--well--J0WtH",l&&"box_model--gapBoxNoVertical--WqZQf",r&&"box_model--fillContainer--TZUSv")},a)}function ln({radius:e,children:t}){let a=le();return n.createElement("div",{className:"box_model--borderBox--Ta011 box_model--_border--PCElt",style:a?{borderRadius:16}:(0,rj.F9)(e)},t)}function lr({width:e,height:t,assetType:a}){let r=(0,rj.lK)();return r?n.createElement(ll,{image:r}):n.createElement("div",{className:rJ},n.createElement(rW.B7,{assetType:a,pxWidth:e,pxHeight:t,shouldShowTypeLabel:!0,dataTestId:"boxModelAssetDetails"}))}function ll({image:e}){let t=(0,v.tS)(),[a,r]=n.useState(null),l=(0,rY.h)();n.useEffect(()=>{l||(0,rX.tW)({paint:e,fileKey:t}).then(e=>{r(e)})},[e,t,l]);let i=n.createElement(n.Fragment,null,n.createElement("span",{className:"box_model--imageFileName--uK9h5 ellipsis--ellipsis--Tjyfa"},(0,rX.Rh)(e),"."),n.createElement("span",{className:"box_model--imageFileType--SYUTK"},(0,rX.x$)(e)));return a?n.createElement("div",{className:rJ},n.createElement("a",{className:"box_model--imageLink--4kUYb text--fontPos11--2LvXf text--_fontBase--QdLsd blue_link--blueLink--9rlnd",href:a,target:"_blank",rel:"noopener"},i)):n.createElement("div",{className:rJ},i)}function li({children:e}){let t=le();return n.createElement("div",{className:A()("box_model--paddingBox--x3ddV box_model--_borderStrong--VLX4w",{"box_model--paddingBoxGrayscale--SAsVz":t})},e)}function lo({width:e,height:t}){let a=lg(lh(e)),r=lg(lh(t)),{variable:l,variableDisplayName:i}=(0,nS.xp)("WIDTH",e),{variable:o,variableDisplayName:s}=(0,nS.xp)("HEIGHT",0),c=(0,tp.Cj)(a),d=(0,tp.Cj)(r);return le()?n.createElement("div",{className:"box_model--innerSizeBoxGrayscale--geDzo box_model--innerSizeBox--fFq-v box_model--_layoutFlex--pL0jp"}):n.createElement("div",{className:"box_model--innerSizeBox--fFq-v box_model--_layoutFlex--pL0jp"},n.createElement("span",{"data-testid":"layoutWidth",className:A()(r1,{[r5]:!!l,[r2]:!!l||!!o}),onClick:c,role:"button",tabIndex:0},l?n.createElement(rq.w,{isNarrow:!0,text:a.toString(),tooltip:i}):a),n.createElement("span",{className:"box_model--innerSizeBoxX--pxeFw"},"\xd7"),n.createElement("span",{"data-testid":"layoutHeight",className:A()(r1,{[r5]:!!o,[r2]:!!l||!!o}),onClick:d,role:"button",tabIndex:0},o?n.createElement(rq.w,{isNarrow:!0,text:r.toString(),tooltip:s}):r))}function ls({children:e}){return n.createElement("div",{className:"box_model--labelAndValue--tkNzd"},e)}function lc({children:e}){return n.createElement("div",{className:"box_model--label--A5RBK text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e)}function ld({position:e,dataTestIndex:t,value:a}){let r=lh(a?.distance),l=a?.type??"distance",i=(0,tp.Cj)(r);return le()?n.createElement("div",{className:A()({[r4]:"vertical"===e,[r6]:"horizontal"===e,"box_model--unrealGap--XhkPS":!0})},n.createElement("div",{className:r3}),n.createElement("div",{className:r7},n.createElement("span",{className:r8},"\xa0"))):(0,rj.u9)(r)?n.createElement("div",{className:A()({[r4]:"vertical"===e,[r6]:"horizontal"===e,"box_model--paddingGap--Ca1Vq":"padding"===l,"box_model--spacingGap--PWtB6":"spacing"===l,"box_model--distanceGap--ophi6":"distance"===l})},n.createElement("div",{className:r3}),n.createElement("div",{className:r7,"data-testid":`layoutGap${rK()(e)}${t}`,onClick:i,role:"button",tabIndex:0},n.createElement("span",{className:r8},r))):n.createElement(l_,null)}function lu({value:e,variableConsumptionField:t}){let a=lh(e),r=(0,rj.u9)(a),{variable:l,variableDisplayName:i,isSuggested:o}=(0,nS.xp)(t,e),s=(0,tp.Cj)(a),c=a;return l&&a&&(r||!o)&&(c=n.createElement(rq.w,{isNarrow:!0,text:r?a:"0",tooltip:i})),{isValid:r,valueElement:c,displayValue:a,copyValue:s}}function lm({vertical:e,horizontal:t,value:a,variableConsumptionField:r}){let l;let i=(0,eQ.v4)(),o=(0,rZ.QO)(i,a),{isValid:s,valueElement:c,displayValue:d}=lu({value:a,variableConsumptionField:r}),u=le();"top"===e&&"left"===t&&(l="box_model--borderTopLeft--Yitgl"),"top"===e&&"right"===t&&(l="box_model--borderTopRight--Jtfzn"),"bottom"===e&&"left"===t&&(l="box_model--borderBottomLeft--aRpWV"),"bottom"===e&&"right"===t&&(l="box_model--borderBottomRight--Rkq3s");let m=i.id===eQ.uz||i.id===eQ.MT?a:o,p=d?(0,rj.EN)(e,t,m):{},_=(0,tp.Cj)(m),f=r2?rQ:"box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K",h=Math.min(a??0,rj.Tk-4);return n.createElement("div",{style:{"--temp-border-radius":`${h}px`},className:A()(f,l),"data-testid":`layoutBorderRadius${rK()(e)}${rK()(t)}`,onClick:s?_:void 0,role:"button",tabIndex:0},n.createElement("span",{className:A()(s?r0:r$,s&&"box_model--borderRadiusValue--tDyKD ellipsis--ellipsis--Tjyfa")},u?" ":c),n.createElement("div",{className:s?"box_model--borderRadiusHighlight--bd9Sc":"box_model--borderRadiusNonValid--qTtSU",style:p,"data-testid":`layoutBorderRadius${rK()(e)}${rK()(t)}Highlight`}))}function lp({value:e,dataTestId:t,variableConsumptionField:a,isVertical:r}){let{isValid:l,valueElement:i,copyValue:o}=lu({value:e,variableConsumptionField:a??"MISSING"}),s=r2?rQ:r?"box_model--valueContainerVertical--AtQ8B box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K":"box_model--valueContainerHorizontal--BqOkd box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K";return n.createElement("div",{className:s,onClick:l?o:void 0,role:"button",tabIndex:0},n.createElement("span",{className:l?r0:r$,"data-testid":t},i))}function l_(){return n.createElement("div",null)}function lf(){let e=(0,tp.Cj)("box-sizing: border-box"),t=(0,eQ.v4)();return le()||t.id!==eQ.uz?null:n.createElement("div",{className:"box_model--borderBoxMessage--2jJc- text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:e,role:"button",tabIndex:0,"data-tooltip":(0,m.t)("dev_handoff.box_model.border-box-tooltip"),"data-tooltip-type":ts.Ib.TEXT,"data-tooltip-show-above":!0},(0,m.tx)("dev_handoff.box_model.border-box"))}function lh(e){let t=(0,eQ.v4)(),a=(0,rZ.QO)(t,e,rj.B5);return void 0===e?"-":a}function lg(e){return!e||e.startsWith("-")?"0":e}var lE=a(426299),ly=a(194400),lv=a(456363),lb=a(581250);a(207584);var lC=a(173454),lw=a(507956),lT=a(428877);let lS=(e,t)=>e.name.localeCompare(t.name);function lN(e){let{styles:t}=(0,l.md)(lv.gq),a=(0,r.d4)(e=>e.library),n=t.map(e=>{let t=(0,tk.Gp)(e.key,e.guids,a);return t&&t.kind!==lC.AT.DANGLING?{...e,...t.value,styleNodeId:e.guids[0]}:null}).filter(n4.t).filter(t=>t?.style_type===e).sort((e,t)=>e.styleName.localeCompare(t.styleName));return(0,ly.y)({items:n,getShowMoreLabel:e=>(0,m.t)("dev_handoff.styles.show_more",{count:e}),shouldResetOnSelectionChange:!0})}var lx=a(617453),lk=a(750029),lI=a(56285),lA=a(393062),lL=a(836283),lO=a(991443);function lR(){let{selectionVariables:e,selectionStyles:t,selectionValues:a}=function(){let{selectedColors:e,childrenColors:t,selectedStyles:a,childrenStyles:r,library:l,sceneGraph:i}=(0,er.R)(e=>({selectedColors:e.mirror.selectionPaints.paintsDirectlyOnSingleNode,childrenColors:e.mirror.selectionPaints.paints,selectedStyles:e.mirror.selectionPaints.stylesDirectlyOnSingleNode,childrenStyles:e.mirror.selectionPaints.styles,library:e.library,sceneGraph:e.mirror.sceneGraph})),o=(0,eo.NM)(),s=(0,eo.VW)(),c=(0,lT.Ig)(),d=(0,tp.uQ)(),u=(0,lb.Q)(),m=(0,eQ.v4)(),p=(0,lw.ks)(),_=n.useCallback((e,t)=>{let{styleKey:a,styleGUIDs:n}=e,r=(0,tk.Gp)(a,n,l);if(!r||n.length<1)return null;let o=(0,eo.Zl)(i,n[0]);if(!o)return null;let s=o.fills.map(e=>(0,lT.dc)(e,t));return(0,lT.rP)((0,tk.uH)(r,i),r,s,n)},[l,i]);return n.useMemo(()=>{let n=s?.childrenGuids&&s?.childrenGuids.length>0&&s?.visibleChildren||[],l=o||n.length>0,i=l?t:e,f=i.filter(({paint:e})=>!!e.colorVar&&!!e.colorVar.value).map(({paint:e})=>(0,lT.dc)(e,c)),h=i.filter(({paint:e})=>!e.colorVar||!e.colorVar.value).map(({paint:e})=>(0,lT.dc)(e,c)),g=(l?r:a).map(e=>_(e,c)).filter(n4.t).sort(lS);return{selectionVariables:f,selectionStyles:(0,nS.QT)(g,d,u.inspectionMode,m,p),selectionValues:h}},[s?.childrenGuids,s?.visibleChildren,o,t,e,r,a,d,u.inspectionMode,m,p,c,_])}(),l=(0,r.d4)(v.sS),i=(0,r.d4)(e=>e.mirror.selectionPaints.emptyDueToLimitExceeded),{visibleItems:o,showMoreButton:s}=(0,ly.y)({items:[...e,...t,...a],getShowMoreLabel:e=>(0,m.t)("dev_handoff.styles.show_more_colors",{count:e})});return i||o.length?n.createElement(t_.VZ,{title:(0,m.t)("dev_handoff.selection_colors"),recordingKey:"handoffColorStyles",additionalHeaders:n.createElement(lI.Af,{id:"handoffColorStyles"})},i&&n.createElement(ak.fI,{className:"selection_colors_panel--ignoreLimitButtonRow--loF8J"},n.createElement("div",{className:"selection_colors_panel--ignoreLimitButton--US3qr"},n.createElement(N.$n,{variant:"secondary",onClick:()=>{(0,ea.sx)("Show Selection Paints For Large Selection",{fileKey:l||""}),tv.Osy.ignoreLimitWhenCollectingPaints()}},(0,m.tx)("dev_handoff.selection_colors.show_colors")))),o.map((e,t)=>e.type===lL.q.STYLE?n.createElement(lD,{key:t,colorStyle:e}):n.createElement(lP,{key:t,colorValue:e})),s):null}function lM(e,t,a,n=1){let{a:r=1}=e;return(0,lA.q)({...e,a:r*n},t,a,{alphaInPercent:!0})}function lD({colorStyle:e}){let{name:t,dsStyle:a,styleGUIDs:r,paints:l}=e;(0,tk.w$)(a);let i=()=>tv.Osy.highlightOnlySameStyleInSublayers(r),o=()=>tv.Osy.highlightOnlySameStyleInSublayers([]),s=a.value;a.kind===lC.AT.DANGLING&&(s.style_type="FILL",s.node_id=a.value.node_id);let c=(0,lx.Ku)();if(1===l.length&&"SOLID"===l[0].paint.type&&l[0].paint.color&&!l[0].paint.colorVar){let{value:e,copyValue:a}=lM(l[0].paint.color,c,l[0].valueFormatter,l[0].paint.opacity);return n.createElement(lF,{displayValueLeft:t,copyValueLeft:t,displayValueRight:e,copyValueRight:a,icon:n.createElement(lO.zi,{dsStyle:s,hideNameInTooltip:!0}),onMouseEnter:i,onMouseLeave:o,dataTestId:"selectionStyleRow"})}return n.createElement("div",{onMouseEnter:i,onMouseLeave:o},n.createElement(lI.Gz,{color:e,format:c}))}function lP({colorValue:e}){let{paint:t,encodedPaint:a,valueFormatter:r}=e,l=(0,lx.Ku)(),{variable:i,variableDisplayName:o,isSuggested:s}=(0,nS._B)(t),c=()=>{tv.Osy.highlightOnlySamePaintInSublayers(a)},d=()=>tv.Osy.highlightOnlySamePaintInSublayers("");if(i&&o&&t.color){let e="LOCAL"===i.subscriptionStatus&&i.isSoftDeleted,{value:a,copyValue:u}=lM(t.color,l,r,t.opacity);return n.createElement(lF,{isVariable:!s,isSuggestedVariable:s,isDeletedVariable:e,displayValueLeft:o,copyValueLeft:o,displayValueRight:a,copyValueRight:u,icon:n.createElement(lk.J,{paint:t,tooltip:i.description}),onMouseEnter:c,onMouseLeave:d})}return n.createElement("div",{onMouseEnter:c,onMouseLeave:d},n.createElement(lI.DP,{formattableColor:e,format:l}))}function lF(e){let{icon:t,isVariable:a,isSuggestedVariable:r,isDeletedVariable:l,onMouseEnter:i,onMouseLeave:o}=e,s=(0,tp.Cj)(e.copyValueLeft),c=(0,tp.Cj)(e.copyValueRight),[d,u]=n.useState(!1);return n.createElement("div",{onMouseEnter:i,onMouseLeave:o,className:"selection_colors_panel--styleRow--X7gbD","data-fullscreen-intercept":!0,"data-testid":e.dataTestId},n.createElement(x.E,{className:"selection_colors_panel--styleNameAndIcon--stVO4 text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:s,htmlAttributes:{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1)}},t&&n.createElement("div",{className:"selection_colors_panel--styleIcon--eaifW"},t),a||r?n.createElement(rq.w,{text:e.displayValueLeft,isDeleted:l,containerClassName:"selection_colors_panel--variablePill--0dLco",disableHover:!0,isHovered:d,isInferred:r,tooltip:r?(0,m.t)("dev_handoff.variables.inferred_color"):void 0}):n.createElement("div",{className:"selection_colors_panel--styleName--Nny-W text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.displayValueLeft)),e.displayValueRight&&n.createElement(n.Fragment,null,n.createElement("div",{className:"selection_colors_panel--spacer---6Fvk"}),n.createElement(x.E,{className:"selection_colors_panel--styleValue--BvNuA text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:c},e.displayValueRight)))}var lB=a(672591);let lU="paywall_redesign_right_panel--rowWithIcon--KN1dV",lH="paywall_redesign_right_panel--layerIcon--rAdrH";var lG=a(968109);let lV=[{prefix:"display:",width:35},{prefix:"height:",width:35},{prefix:"padding:",width:145},{prefix:"justify-content:",width:100},{prefix:"align-items:",width:47},{prefix:"gap:",width:47},{prefix:"flex:",width:47}];function lz(){return n.createElement("code",{className:"paywall_redesign_right_panel--generatedCode--l3bLO code_panel--generatedCode--XGoAV code_panels_shared--code--VPQ05",style:{minWidth:"100%",whiteSpace:"normal"}},lV.map(({prefix:e,width:t},a)=>n.createElement("div",{key:a,className:"paywall_redesign_right_panel--codeLine--upXx8"},n.createElement("div",null,e),n.createElement(eu.Wi,{animationType:eu.JR.NO_SHIMMER,style:{width:t,height:10}}))))}let lK=[{width:97,color:500},{width:80,color:400},{width:120,color:200}],lW=[{width:97},{width:80},{width:120}],lj={inspectionMode:"code",inspectionModes:["code"],setInspectionMode:u.lQ,supportsAlternativeUnits:!0,preferenceOptions:[],preferences:{},codeLanguageApi:{codeLanguage:{type:"first-party",id:eQ.uz},onCodeLanguageChange:u.lQ,activeCodegenPlugin:null,codeLanguageOptions:[],formatter:{format:e=>(0,m.t)("dev_handoff.code.lang_css")}}};function lZ(){let e="dark"===(0,D.DP)()?"dark":"light",t="ui3"===(0,k.DP)().version;return n.createElement("div",{className:"paywall_redesign_right_panel--drillDownContainer--kLzE5 properties_panel--drillDownContainer--VaNDa"},n.createElement("div",{className:"paywall_redesign_right_panel--panelPosition--MtRQm properties_panel--panelPosition--oppQ8"},n.createElement("div",{className:`paywall_redesign_right_panel--panelContainer--Judvj dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL properties_panel--panelContainer--cKjqh ${ep.Dm}`},t&&n.createElement(lB.v2,null),n.createElement("div",{className:O.cx.wFull.flex.flexRow.flexShrink0.itemsCenter.borderBox.bSolid.bb1.pr8.colorBorder.justifyBetween.colorBg.$},n.createElement("div",{className:O.cx.flex.flexRow.itemsStart.hFull.$},n.createElement("div",{className:"paywall_redesign_right_panel--tabsHeader--AOhTE pages_panel--tabsHeader--ez-pH"},n.createElement("div",{className:"paywall_redesign_right_panel--tabActive--fvCNe pages_panel--tabActive--BitzC pages_panel--tab--Uge5B","data-label":(0,m.t)("dev_handoff.tab.inspect")},(0,m.tx)("dev_handoff.tab.inspect")),n.createElement("div",{className:"paywall_redesign_right_panel--tab--GpaFD pages_panel--tab--Uge5B","data-label":(0,m.t)("dev_handoff.tab.plugins")},(0,m.tx)("dev_handoff.tab.plugins"))))),n.createElement("div",{className:"paywall_redesign_right_panel--inspectPanelContainer--jYbwb inspect_panel--inspectPanelContainer--SZhfY"},n.createElement(t_.VZ,{recordingKey:"paywall-header",formattedHeader:n.createElement("div",{className:rm},n.createElement("div",{dir:"auto",className:r_},(0,m.tx)("dev_handoff.paywall.panel.button")),n.createElement("div",{className:ru}))},n.createElement("div",{className:rc},n.createElement("div",{className:O.cx.flex.flexColumn.gap8.wFull.$},n.createElement("span",{className:O.cx.flex.flexRow.gap8.itemsCenter.wFull.$},n.createElement("span",{className:lH},n.createElement(eX.t,{svg:lG.A})),n.createElement(eu.Wi,{animationType:eu.JR.NO_SHIMMER,primary:!0,style:{width:97,height:8}})),n.createElement("span",{className:O.cx.flex.flexRow.justifyBetween.itemsCenter.wFull.$},n.createElement("span",{className:O.cx.flex.flexRow.gap8.itemsCenter.$},n.createElement("span",{className:lH},n.createElement(rM,{state:eZ.Uy.RECENTLY_EDITED,backgroundState:null})),n.createElement(eu.Wi,{animationType:eu.JR.NO_SHIMMER,primary:!0,style:{width:68,height:8}})),n.createElement(x.E,{className:A()(rv,rb),onClick:u.lQ},n.createElement("span",{className:A()(rC)},(0,m.tx)("inspect_panel.history.compare_changes"))))))),n.createElement(t_.VZ,{recordingKey:"paywall-devresources",title:(0,m.t)("dev_handoff.developer_related_links.links"),headerChildren:n.createElement(eK.K,{"aria-label":(0,m.t)("dev_handoff.developer_related_links.add_link_button"),htmlAttributes:{"data-tooltip":(0,m.t)("dev_handoff.developer_related_links.add_link_button"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(eW.e,null))},n.createElement("div",{className:"paywall_redesign_right_panel--devResourcesColumn--Fiwy8"},n.createElement("div",{className:lU},n.createElement("img",{alt:"",src:"https://static.figma.com/uploads/ae3807b6d650b52da20879078b85a0df23ee056a"}),n.createElement(eu.Wi,{animationType:eu.JR.NO_SHIMMER,primary:!0,style:{width:97,height:8}})),n.createElement("div",{className:lU},n.createElement(eq.f,null),n.createElement(eu.Wi,{animationType:eu.JR.NO_SHIMMER,primary:!0,style:{width:97,height:8}})))),n.createElement("div",{className:O.cx.wFull.h4.$}),n.createElement(lE.n2,{preferencesApi:lj}),n.createElement(lt,{loadingState:!0}),n.createElement(t_.VZ,{hideHeader:!0,recordingKey:"paywall-code"},n.createElement(eJ.ue,{header:n.createElement(eJ.n2,{type:"default",actions:n.createElement(eJ.rZ,{"aria-label":(0,m.t)("inspect_panel.copy")},n.createElement(eY.U,{svg:aQ.A},n.createElement(ej.X,null))),title:(0,m.t)("inspect_panel.properties.layout")}),content:n.createElement(lz,null),shouldShowMore:!1,showMoreLinesCount:0,onShowMore:u.lQ,leftGutter:(0,eJ.vl)(lV)})),n.createElement(t_.VZ,{title:(0,m.t)("dev_handoff.selection_colors"),recordingKey:"paywall-selection-colors",additionalHeaders:n.createElement("div",{className:"paywall_redesign_right_panel--colorHeader--R7I83"},"Hex",n.createElement(em.B,{svg:rN.A}))},lK.map(({width:t,color:a},r)=>n.createElement(lF,{key:r,icon:n.createElement("div",{className:"paywall_redesign_right_panel--colorThumbnail--XN-rp",style:{backgroundColor:nI[`grey_${a}_${e}`]}}),displayValueLeft:n.createElement(eu.Wi,{animationType:eu.JR.NO_SHIMMER,style:{width:t}}),displayValueRight:n.createElement(eu.Wi,{animationType:eu.JR.NO_SHIMMER,style:{width:50}})}))),n.createElement(t_.VZ,{title:(0,m.t)("dev_handoff.assets"),recordingKey:"paywall-assets"},lW.map(({width:e},t)=>n.createElement("div",{key:t,className:"paywall_redesign_right_panel--assetRow--V7xL2 asset_panel--assetRow--0VUJr text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(eu.Qp,{animationType:eu.JR.NO_SHIMMER,className:"paywall_redesign_right_panel--assetLoadingPreview--pBwFu"}),n.createElement("div",{className:"paywall_redesign_right_panel--assetDetails--RwZkm asset_panel--assetDetails--xfCbP"},n.createElement(eu.Wi,{animationType:eu.JR.NO_SHIMMER,style:{width:e,height:8}}),n.createElement(eu.Wi,{animationType:eu.JR.NO_SHIMMER,style:{width:60,height:8}})))))))),n.createElement("div",{className:"paywall_redesign_right_panel--transparentPanelScrim--TG58O"}))}var lY=a(809511),lX=a(187882),lq=a(693657),lJ=a(412371),lQ=a(964881);function l$(){let e=(0,lx.dP)(),t=(0,i._I)(),a=(0,lQ.l7)(),r=(0,lX.n0)(),l=(0,lJ.K)();return n.createElement(lq.yD,{recordingKey:"pagesPanel",isReadOnly:!0,width:e,pagesList:r,hasTeamLibraryUpdates:!1,activeTab:lY.xae.LAYERS,showTabs:t,disableCollapsing:!t,isDevHandoff:!0,isDevHandoffOverview:a,isComparingChanges:!1,onPageContextMenu:l,ignoreVerticalFlex:!0})}var l0=a(65112),l1=a(956521),l2=a(706348);function l5(){let e=(0,l1.T)("quick_handoff"),t=(0,m.t)("dev_handoff.paywall.ready_for_dev.title"),a=(0,m.tx)("dev_handoff.paywall.ready_for_dev.description",{learnMoreLink:n.createElement(x.E,{className:l2.n$,onClick:e,recordingKey:"dev_mode_nodes_features_learn_more","aria-label":(0,m.t)("dev_handoff.paywall.learn_more")},(0,m.tx)("dev_handoff.paywall.learn_more"))});return n.createElement(l0.y,{imgSrc:"https://static.figma.com/uploads/a102b55802313a2c26048dd8b64355434ffecd45",panelWidth:240,title:t,content:a,dataTestId:"dev-mode-panel-upsell-nodes"})}function l3(){return n.createElement(eE.Q,null,n.createElement(eh.B,null),n.createElement(e_.$,{width:240,disableResizing:!0},n.createElement(eg.n,null),n.createElement(ef.d,null),n.createElement("div",{className:A()(ep.Dm,ra),"data-testid":"devHandoffLimitedLeftPanel"},n.createElement(l$,null),n.createElement(l5,null))))}var l4=a(448169),l6=a(103907),l7=a(457749);function l8(){return n.createElement("div",{className:"dev_handoff_comments_panel--devHandoffCommentsPanel--1Lqo9"},n.createElement(l6.j9.Consumer,null,()=>n.createElement(l7.B,{stackHeader:!1,hideResolve:!1})))}var l9=a(806284),ie=a(877822),it=a(902139),ia=a(721950),ir=a(760445),il=a(76158),ii=a(86538);function io(){let{setCurrentView:e,currentPluginView:t}=function(){let e=(0,tz.Xr)(ii.hO),[t,a]=(0,l.fp)(ii.HT),r=(0,ie.AY)(ii.HT),i=n.useCallback(()=>{e(t)},[t,e]),o=n.useCallback(({newView:e})=>{e&&t!==e&&(i(),a(e))},[t,a,i]);return n.useEffect(()=>{i()},[i]),n.useEffect(()=>()=>{r()},[r]),n.useMemo(()=>({currentPluginView:t,setCurrentView:o}),[t,o])}(),a=(0,r.wA)(),i=n.useMemo(()=>({activeTab:il.s.PLUGIN,viewResource:e=>{a(it.IN({fdPreviewResource:e}))},closeResource:()=>{a(it.IN({fdPreviewResource:void 0}))},setCurrentViewOrTab:e,currentView:t,closeModal:()=>{},pinModal:()=>{}}),[a,e,t]);return n.createElement(tP.Y,{direction:"vertical",spacing:0,height:"fill-parent"},n.createElement(ir.B0.Provider,{value:i},n.createElement(ia.z,null)))}var is=a(233890);let ic=(0,nx.jz)(nI.devHandoffRightPanelWidth);function id(){let e=(0,l1.T)("advanced_inspection"),t=(0,m.t)("dev_handoff.paywall.inspection.title"),a=(0,m.tx)("dev_handoff.paywall.inspection.description",{learnMoreLink:n.createElement(e7.oj,{className:l2.n$,onClick:e,recordingKey:"dev_mode_inspect_panel_learn_more"},(0,m.tx)("dev_handoff.paywall.learn_more"))});return n.createElement(l0.y,{imgSrc:"https://static.figma.com/uploads/5d71630923f3b7231a12bd959018c1cc569985cc",panelWidth:ic,title:t,content:a,dataTestId:"dev-mode-panel-upsell-inspect"})}function iu(){let e=(0,te.VI)(),t=(0,er.R)(e=>e.mirror.appModel.activeCanvasEditModeType),a=(0,l1.T)("track_changes"),r=e?.isSymbol,l=e?rF(e):(0,m.tx)("dev_handoff.paywall.no_selection");return n.createElement(t_.VZ,{recordingKey:"layerName",formattedHeader:n.createElement("div",{className:rm},n.createElement("div",{dir:"auto",className:r_},l),n.createElement("div",{className:ru}))},n.createElement("div",{className:rc},n.createElement("div",{className:"header--paywallRow--gOYPz header--layerRowContainer--qqv5Y"},n.createElement("div",{className:rd},e&&n.createElement(tm.Bf,{className:r?rh:rf,guid:e.id,editModeType:t}),n.createElement("span",{className:r?ry:rE},e?.type??"\u2014")),n.createElement(x.E,{className:A()("header--limitedHeaderLink--PRWtT",rv,rb),onClick:a,recordingKey:"dev-mode-compare-changes-upsell","aria-label":(0,m.t)("inspect_panel.history.compare_changes"),htmlAttributes:{"data-testid":"dev-mode-panel-upsell-compare-changes"}},n.createElement("span",{className:rC},(0,m.tx)("inspect_panel.history.compare_changes"))))))}let im="inspect_panel--inspectPanelContainer--SZhfY";function ip(){return n.createElement("div",{className:im},n.createElement(iu,null),n.createElement(id,null))}let i_="dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",ih="dev_handoff_right_panel_container--panelContainerResizing--sfFQd dev_handoff_right_panel_container--panelContainerResizingBase--OZRr- dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",ig="dev_handoff_right_panel_container--panelContainerHidden--7-A2P dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",iE="dev_handoff_right_panel_container--content--HcUHi";var iy=a(641160);function iv(){let e=(0,r.d4)(e=>e.mirror.appModel.showUi),t=(0,r.d4)(e=>e.mirror.appModel.currentTool===el.ec.tool),a=(0,l.md)(ei.H),i=a===ei._.PRIMARY&&!t,o=a===ei._.PLUGIN,s=e?i_:ig;return n.createElement(is.vL,{name:"rightPanels",focusOnMount:!0,handleKeyDown:u.lQ,className:A()(iy.Lp,"limited_right_panel--limitedRightPanelDrilldownContainer--A3Qv4")},n.createElement("div",{"data-testid":"devHandoffLimitedInspectPanel",className:iy.ux},n.createElement("div",{className:`${s} ${iy.KE} ${ep.Dm}`,style:{width:320}},n.createElement(l9.Ay,null),n.createElement(l4.V,{className:iE},t&&n.createElement(l8,null),i&&n.createElement(ip,null),o&&n.createElement(io,null)))))}var ib=a(738269),iC=a(147829),iw=a(768137),iT=a(946689);let iS="vscode_paywall--vscodePaywallBody--SlfC- text--fontPos13--xW8hS text--_fontBase--QdLsd",iN="vscode_paywall--upgradeButton--otPw3";var ix=a(85205);function ik({fileKey:e,teamId:t,folderId:a,parentOrgId:r,canAccessDevModeEntryPoint:l}){let i=(0,ek.w_)(),o=[(0,m.t)("dev_handoff.paywall.vscode.list1"),(0,m.t)("dev_handoff.paywall.vscode.list2"),(0,m.t)("dev_handoff.paywall.vscode.list3"),(0,m.t)("dev_handoff.paywall.vscode.list4")],s=n.useCallback(()=>{(0,ea.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Upgrade CTAAAA",fileKey:e,fileTeamId:t,fileParentOrgId:r,containingFolderId:a},{forwardToDatadog:!0}),(0,tV.Qn)(`/file/${e}?mode=dev&dev-mode-features-modal=plugins_extensions`)},[e,a,r,t]),c=n.useCallback(()=>{(0,ea.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Open docs",fileKey:e,fileTeamId:t,fileParentOrgId:r,containingFolderId:a},{forwardToDatadog:!0}),(0,tV.Qn)("https://help.figma.com/hc/en-us/articles/15023121296151-Figma-for-VS-Code")},[e,a,r,t]),d=n.useCallback(()=>{(0,ea.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Play Video",fileKey:e,fileTeamId:t,fileParentOrgId:r,containingFolderId:a},{forwardToDatadog:!0})},[e,a,r,t]),u=n.useCallback(()=>{(0,ea.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Finish Video",fileKey:e,fileTeamId:t,fileParentOrgId:r,containingFolderId:a},{forwardToDatadog:!0})},[e,a,r,t]);return n.createElement("div",{className:"vscode_paywall--wrapper--hZt-E"},n.createElement("div",{className:O.cx.flex.maxWFull.wFull.hFull.$},n.createElement("div",{className:O.cx.flex.flexGrow0.flexColumn.pl32.pt32.$},n.createElement(em.B,{dataTestId:"logo",title:"logo",ariaLabel:"logo",svg:ix.A,useOriginalSrcFills_DEPRECATED:!0})),n.createElement("div",{className:O.cx.flex.flexGrow1.flexColumn.justifyCenter.alignTop.pt32.pl20.pr32.pb32.$},n.createElement("div",{className:"vscode_paywall--vscodePaywallTitle--EHf7Y text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,m.tx)("dev_handoff.paywall.vscode.title")),n.createElement(iT.Kz,{direction:"y",multiple:1}),n.createElement("div",{className:iS},(0,m.tx)("dev_handoff.paywall.vscode.description")),n.createElement(iT.Kz,{direction:"y",multiple:3}),n.createElement("ul",{className:"vscode_paywall--vscodePaywallList--cOYFz"},o.map((e,t)=>n.createElement("li",{key:t,className:"vscode_paywall--vscodePaywallListItem--GaTSA text--fontPos11--2LvXf text--_fontBase--QdLsd"},e))),n.createElement(iT.Kz,{direction:"y",multiple:3}),n.createElement("div",{className:iS},l?(0,m.tx)("dev_handoff.paywall.vscode.need_access",{devMode:n.createElement("strong",null,(0,m.tx)("dev_handoff.paywall.vscode.need_access_dev_mode"))}):(0,m.tx)("dev_handoff.paywall.vscode.no_access")),n.createElement(iT.Kz,{direction:"y",multiple:3}),n.createElement("div",{className:"vscode_paywall--vscodePaywallButtons--7F6yh"},l&&i?n.createElement(iw.$$,{className:iN,disabled:!0},(0,m.tx)("dev_handoff.paywall.request_pending")):n.createElement(iw.$$,{className:iN,onClick:s,disabled:!l},(0,m.tx)("dev_handoff.paywall.get_dev_mode")),n.createElement(iT.nR,{className:"vscode_paywall--docsButton--vEf-q",onClick:c},(0,m.tx)("dev_handoff.paywall.vscode.view_button"))),n.createElement(iT.Kz,{direction:"y",multiple:5}),n.createElement("div",{className:"vscode_paywall--vscodeVideoDescription--G16yH text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,m.tx)("dev_handoff.paywall.vscode.video")),n.createElement(iT.Kz,{direction:"y",multiple:1}),n.createElement("div",{className:"vscode_paywall--vscodeVideoContainer--RVGWt"},n.createElement("video",{controls:!0,className:"vscode_paywall--vscodeVideo--Te60B",src:"https://static.figma.com/uploads/vscode_intro_1200.mp4",onPlay:d,onEnded:u})))))}function iI(){let e=(0,v.q5)(),t=(0,i.U4)();return n.createElement(iC.M,{isShowing:!0},n.createElement(ik,{fileKey:e?.key||"",teamId:e?.teamId||"",parentOrgId:e?.parentOrgId||"",folderId:e?.folderId||"",canAccessDevModeEntryPoint:t}))}function iA(){let e=(0,r.wA)(),t=(0,ti._6)(),a=(0,r.d4)(e=>e.mirror.appModel.currentPage),i=n.useMemo(()=>tU.z4.getIsExtension(),[]),o=(0,r.d4)(e=>e.selectedView.devModeUpsellModalTab),s=(0,l1.T)(o),c=(0,eS.ol)(),d=(0,ec.O)(),u=(0,h.m3)(),m=(0,h.bZ)();n.useEffect(()=>{if(o){s();let a={...t,devModeUpsellModalTab:void 0};e(ib.$T(a))}},[o,e,s,t]),n.useEffect(()=>{(0,lx.UK)().sidebarSplitPosition.set(240),(0,lx.UK)().devHandoffInspectSplitPosition.set(320)},[]),es({doReport:!1});let[p,_]=(0,l.fp)(ed.qI);return(n.useEffect(()=>()=>{u&&_(ed.cI.DEFAULT)},[u,_]),i)?n.createElement(iI,null):u?n.createElement(M.fu,{name:"Dev Mode Paywall",properties:m,enabled:m?.gracePeriod!==void 0},n.createElement(ez,null),n.createElement(eb,null),n.createElement(lZ,null)):n.createElement(M.fu,{name:"Dev Mode Paywall",properties:{teamId:c?.id,currentPlan:d}},n.createElement(l3,{key:a}),n.createElement(iv,null))}var iL=a(725561),iO=a(385326),iR=a(649670),iM=a(698993),iD=a(100197),iP=a(262151),iF=a(18993),iB=a(369351),iU=a(402609),iH=a(101505),iG=a(251960),iV=a(594524),iz=a(683694),iK=a(916108),iW=a(340514),ij=a(991820),iZ=a(433195);let iY=(0,p.r1)(iZ.V1),iX=(0,p.r1)(iZ.WX);function iq(){let e=(0,r.wA)(),t=(0,tn.GS)(),a=(0,l.md)(iz.wg),i=(0,tH.aV)(),o=(0,l.md)(iX),s=(0,l.md)(iY),{uniqueId:c,show:d,complete:u,isShowing:p}=(0,E.e)({overlay:S.kc4,priority:C.N.SECONDARY_MODAL+1},[o,s]),_=n.useCallback(()=>{!i&&a&&d({canShow:(e,t)=>e&&!t})},[i,d,a]);function f(){e(q.b({[iZ.V1]:!0})),u()}n.useEffect(()=>{t||_()},[_,t]),(0,iG.E)(c,(0,ij.w)("dev"),()=>{_()}),n.useEffect(()=>{"loaded"===s.status&&s.data&&u()},[s,u]);let h=(0,iV.A)({numSteps:2,onComplete:f});return(0,iG.E)(c,"action_set_tool_annotate",()=>{p&&0===h.currentStep&&h.next()}),n.createElement(iK.U,{currentStep:h.currentStep,isShowing:p},n.createElement(iW.rq,{emphasized:!0,isShowing:p,trackingContextName:`${iZ.V1}_measurements`,onClose:f,targetKey:"tool-measurements-onboarding",title:(0,m.tx)("dev_handoff.annotations_tools_overlay.measurements.title"),description:(0,m.tx)("dev_handoff.annotations_tools_overlay.measurements.description"),primaryCta:{label:(0,m.tx)("rcs.rcs_shared.next"),type:"button",onClick:h.next,ctaTrackingDescriptor:iH.c.NEXT},stepCounter:{stepNum:1,totalNumSteps:2}}),n.createElement(iW.rq,{emphasized:!0,isShowing:p,trackingContextName:`${iZ.V1}_annotations`,onClose:f,targetKey:"tool-annotations-onboarding",title:(0,m.tx)("dev_handoff.annotations_tools_overlay.annotations.title"),description:(0,m.tx)("dev_handoff.annotations_tools_overlay.annotations.description"),primaryCta:{label:(0,m.tx)("rcs.rcs_shared.done"),type:"button",onClick:h.next,ctaTrackingDescriptor:iH.c.DONE},stepCounter:{stepNum:2,totalNumSteps:2}}))}var iJ=a(100303),iQ=a(137345),i$=a(563814),i0=a(139689),i1=a(773058),i2=a(349410),i5=a(400466),i3=a(723325),i4=a(896474),i6=a(718039),i7=a(979385),i8=a(625134),i9=a(370934),oe=a(909999),ot=a(730378),oa=a(973149),on=a(638311),or=a(205135),ol=a(76154);let oi="configuration_wizard--step--9zx-B",oo="configuration_wizard--buttonRow--2GlLI",os="configuration_wizard--spacer--LCRlq",oc="configuration_wizard--preferenceOptionsGroup--T5b2t",od="configuration_wizard--unitOption--R7eMs configuration_wizard--preferenceOption--OkUN2",ou="configuration_wizard--selectedPreference--K6Psv",om="configuration_wizard--integrationsCard--aup-J configuration_wizard--preferenceOptionCard--C3ZkW configuration_wizard--preferenceOption--OkUN2",op="configuration_wizard--unitText--PiILT",o_="configuration_wizard--preferenceSubheader--orNpN text--fontPos11--2LvXf text--_fontBase--QdLsd",of="configuration_wizard--preferenceTitle--lA1Na text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI",oh="configuration_wizard--unitRadioOption--YokOy",og="configuration_wizard--selectedRadioOption--i6PrC",oE="configuration_wizard--stepHeading--b5Yv4 text--fontPos18Whyte--M40th text--_fontBaseWhyte--efAjI",oy="configuration_wizard--stepDescription--uSn6A text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",ov="configuration_wizard--option--I5GPA",ob="configuration_wizard--optionHeading--9e-1V text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",oC="configuration_wizard--pluginListDivider--LeuxA",ow="configuration_wizard--pluginList---hNhu",oT="configuration_wizard--dividerListContainer--r4GxV",oS="configuration_wizard--pluginCta--WgsY- resource_tiles--cta--JU9XJ text--fontPos12--YsUAh text--_fontBase--QdLsd",oN="configuration_wizard--pluginTick--YbuJa",ox="configuration_wizard--spinnerContainer--2xXeT";var ok=a(377869),oI=a(990427),oA=a(387121),oL=a(538180),oO=a(225788);let oR="OTHER";function oM(){let e=(0,eQ.v4)(),{codegenPlugins:t=[],loading:a}=(0,i6.n)(),r=(0,i7.gB)(),[l,i]=n.useState("first-party"===e.type?e.id:oR),[o,s]=n.useState(!1),c=!a&&t?.length>0,[d,u]=n.useState(c?oV(t[0]):void 0);return n.useEffect(()=>{if(!d&&!a&&t?.length>0){let e=oV(t[0]);u(e),r(e)}},[t,a,d,r]),n.createElement("div",{className:oi},n.createElement("h1",{className:oE},(0,m.tx)("dev_handoff.configuration_wizard.code_language_step.title")),n.createElement("h2",{className:oy},(0,m.tx)("dev_handoff.configuration_wizard.code_language_step.description")),n.createElement(oD,{selectedOption:l,onSelect:e=>{i(e),e===eQ.p?(0,lx.UK)().colorFormat.set(tv.NVY.UIColor):(0,lx.UK)().colorFormat.set(tv.NVY.HEX),e===eQ.p?r({type:"first-party",id:o?eQ.Ap:eQ.p}):e===eQ.LK?r({type:"first-party",id:o?eQ.NU:eQ.LK}):e!==oR?r({type:"first-party",id:e}):d&&r(d)}}),l===eQ.p||l===eQ.LK?n.createElement(oP,{selectedLanguage:l,shouldUseLegacyMobileCodegen:o,onFrameworkSelect:e=>{s(e),l===eQ.p&&r({type:"first-party",id:e?eQ.Ap:eQ.p}),l===eQ.LK&&r({type:"first-party",id:e?eQ.NU:eQ.LK})}}):null,l!==oR?n.createElement(oB,null):n.createElement(oG,{onSelect:u,loading:a,codegenPlugins:t}))}function oD({onSelect:e,selectedOption:t}){let a=(0,e6.sL)()?[{key:eQ.uz,title:(0,m.t)("dev_handoff.code.lang_css"),subheader:null,svgSrc:oO.A},{key:eQ.p,title:(0,m.t)("dev_handoff.configuration_wizard.code_language_step.option_ios"),subheader:null,svgSrc:oA.A},{key:eQ.LK,title:(0,m.t)("dev_handoff.configuration_wizard.code_language_step.option_android"),subheader:null,svgSrc:oI.A}]:[{key:eQ.uz,title:(0,m.t)("dev_handoff.code.lang_css"),subheader:null,svgSrc:oO.A},{key:eQ.p,title:(0,m.t)("dev_handoff.configuration_wizard.code_language_step.option_ios"),subheader:null,svgSrc:oA.A},{key:eQ.LK,title:(0,m.t)("dev_handoff.configuration_wizard.code_language_step.option_android"),subheader:null,svgSrc:oI.A},{key:oR,title:(0,m.t)("dev_handoff.configuration_wizard.code_language_step.option_other"),subheader:null,svgSrc:oL.A}];return n.createElement("div",{className:ov},n.createElement("div",{className:ob},(0,m.tx)("dev_handoff.configuration_wizard.code_language_step.what_platform")),n.createElement(i1.z,{value:String(t),onChange:u.lQ,className:oc},a.map(({key:a,title:r,subheader:l,svgSrc:i})=>{let o=a===t,s=()=>e(a);return n.createElement("div",{tabIndex:0,role:"radio","aria-checked":o,key:a,onPointerDown:s,onKeyDown:e=>{"Enter"===e.key&&s()},className:A()("configuration_wizard--preferenceOptionCard--C3ZkW configuration_wizard--preferenceOption--OkUN2",o&&ou)},n.createElement(em.B,{svg:i,className:"configuration_wizard--platformIcon--F7N2s"}),n.createElement(i1.Z,{value:String(a),_isChecked:o,_onChange:s,className:A()("configuration_wizard--radioOption--Yfm0j",o&&og),tabIndex:-1}),n.createElement("div",{className:"configuration_wizard--preferenceText--ZqN2L"},n.createElement("div",{className:of},r),l&&n.createElement("div",{className:o_},l)))})))}function oP({selectedLanguage:e,shouldUseLegacyMobileCodegen:t,onFrameworkSelect:a}){let r=n.useMemo(()=>e===eQ.p?[{key:!1,title:(0,m.t)("dev_handoff.code.lang_swiftui"),onSelect:()=>a(!1)},{key:!0,title:(0,m.t)("dev_handoff.code.lang_uikit"),onSelect:()=>a(!0)}]:[{key:!1,title:(0,m.t)("dev_handoff.code.lang_compose"),onSelect:()=>a(!1)},{key:!0,title:(0,m.t)("dev_handoff.code.lang_android_xml"),onSelect:()=>a(!0)}],[e,a]);return n.createElement("div",{className:ov},n.createElement("div",{className:ob},(0,m.tx)("dev_handoff.configuration_wizard.code_language_step.what_framework")),n.createElement(i1.z,{value:String(t),onChange:u.lQ,className:oc},r.map(({key:e,title:a,onSelect:r})=>{let l=e===t;return n.createElement("div",{tabIndex:0,role:"radio","aria-checked":l,key:String(e),onPointerDown:r,onKeyDown:e=>{"Enter"===e.key&&r()},className:A()(od,l&&ou)},n.createElement("div",{className:op},n.createElement("div",{className:of},a),n.createElement(i1.Z,{value:String(e),_isChecked:l,_onChange:r,className:A()(oh,l&&og),tabIndex:-1})))})))}let oF=new oa.KD({min:.1});function oB(){let e=(0,eQ.v4)(),t=(0,rZ.Em)(),a=(0,rZ.RH)(),r=(0,rZ.wQ)(),l=(0,rZ.Bs)(),i=n.useCallback(t=>l(e,null,{unit:t}),[e,l]),o=(0,rZ.gc)(e.id),s=n.useCallback(t=>{t&&l(e,null,{scaleFactor:t})},[e,l]),c=o?.scaleFactor??1,d="first-party"===e.type&&(e.id===eQ.LK||e.id===eQ.NU||e.id===eQ.p||e.id===eQ.Ap),p=n.useMemo(()=>new i8.Be(r),[r]),_=n.useMemo(()=>i9.zq.map(e=>({key:e,title:p.format(e),onSelect:()=>i(e)})),[p,i]);return t?n.createElement("div",{className:ov},n.createElement("div",{className:ob},(0,m.tx)("dev_handoff.configuration_wizard.code_language_step.what_units")),n.createElement(i1.z,{value:String(a),onChange:e=>i(e),className:oc},_.map(({key:e,title:t,onSelect:r})=>{let l=a===e;return n.createElement("div",{tabIndex:0,role:"radio","aria-checked":l,key:e,onPointerDown:r,onKeyDown:e=>{"Enter"===e.key&&r()},className:A()(od,l&&ou)},n.createElement("div",{className:op},n.createElement("div",{className:of},t),n.createElement(i1.Z,{value:String(e),_isChecked:l,_onChange:r,className:A()(oh,l&&og),tabIndex:-1})))})),a===ot.tK.SCALED&&n.createElement(n.Fragment,null,n.createElement("div",{className:"configuration_wizard--optionHeadingWithPadding--MnGm9 configuration_wizard--optionHeading--9e-1V text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,m.tx)("dev_handoff.alternative_units.inspection_scale_factor")),d?n.createElement(oe.Rg,{scaleFactor:c,onChange:s,onDropdownHidden:u.lQ,className:"configuration_wizard--scaleFactorDropdown--IVy1Q",inputClassName:"configuration_wizard--scaleFactorDropdownInput--h8Jr2 text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI"}):n.createElement(or.Q7,{className:"configuration_wizard--scaleFactorInput--ezaTA text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI",property:c,formatter:oF,onChange:s,autoFocus:!0,allowEmpty:!1,noBorderOnFocus:!0}),n.createElement("div",{className:o_},n.createElement(oe.LO,{codeLanguage:e})))):null}function oU(){return n.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"Frame 1321317093"},n.createElement("rect",{width:"24",height:"24",rx:"4.5",fill:"#2C2C2C"}),n.createElement("rect",{x:"4",y:"4",width:"10.5",height:"1.5",fill:"#D9D9D9"}),n.createElement("rect",{x:"7",y:"8",width:"12",height:"1.5",fill:"#E4A3D9"}),n.createElement("rect",{x:"9",y:"13",width:"12",height:"1.5",fill:"#97C1EF"}),n.createElement("rect",{x:"4",y:"17.5",width:"10.5",height:"1.5",fill:"#D9D9D9"})))}function oH(){return n.createElement("div",{className:"configuration_wizard--customCodegenPromo--Sg78f"},n.createElement("div",{className:"configuration_wizard--customCodegenPromoIcon--ND7NT"},n.createElement(oU,null)),n.createElement("div",{className:"configuration_wizard--customCodegenPromoWrapper--steEn"},n.createElement("div",{className:"configuration_wizard--customCodegenPromoTitle--31anH text--fontPos12--YsUAh text--_fontBase--QdLsd"},(0,m.tx)("dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_title")),n.createElement("div",{className:"configuration_wizard--customCodegenPromoBody--EsEFB text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,m.tx)("dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_body"))),n.createElement("a",{className:"configuration_wizard--customCodegenPromoLink--0l-Sa text--fontPos11--2LvXf text--_fontBase--QdLsd",href:"https://www.figma.com/plugin-docs/api/figma-codegen/",target:"_blank"},(0,m.tx)("dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_link"),n.createElement(i4.In,{icon:"new-window-16",fill:"brand"})))}function oG({onSelect:e,loading:t,codegenPlugins:a}){let r=t?n.createElement("div",{className:ox},n.createElement(ew.kt,null)):n.createElement(i3.dP,null,a.map((t,a)=>n.createElement(oz,{key:`${t.id}_${a}`,plugin:t,onSelect:e})),n.createElement(oH,null));return n.createElement("div",{className:"configuration_wizard--otherLanguagesContainer--2J1b5"},n.createElement("h1",{className:"configuration_wizard--otherLanguagesListHeading--M2BwY text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,m.tx)("dev_handoff.configuration_wizard.code_language_step.other_title")),n.createElement("h2",{className:"configuration_wizard--otherLanguagesListDescription--jeS2m text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,m.tx)("dev_handoff.configuration_wizard.code_language_step.other_description")),n.createElement("div",{className:oT},n.createElement("div",{className:oC}),n.createElement("div",{className:ow},r)))}function oV(e){return{type:"published-plugin",id:e.id,pluginLanguage:function(e){let t=e?.versions?.[e?.current_plugin_version_id??""];return on.m(t)?.[0]?.value??""}(e)}}function oz({plugin:e,onSelect:t}){let a=(0,eQ.v4)(),r=(0,i7.gB)(),l="first-party"!==a.type&&a.id===e.id,i=n.useMemo(()=>oV(e),[e]),o=n.useCallback(()=>{r(i),t(i)},[i,r,t]),s=l?n.createElement("div",{className:oS},n.createElement(em.B,{svg:ok.A,className:oN}),(0,m.tx)("community.plugins.selected")):n.createElement("div",{className:oS},(0,m.tx)("community.plugins.select"));return n.createElement(ol.Cg,{plugin:e,ctaButton:s,onClick:l?void 0:o})}var oK=a(126049);function oW(){let{inspectPlugins:e=[],loading:t}=(0,i6.n)(),a=t?n.createElement("div",{className:ox},n.createElement(ew.kt,null)):n.createElement(i3.dP,null,e.map((e,t)=>n.createElement(oj,{key:`${e.id}_${t}`,plugin:e})));return n.createElement("div",{className:oi},n.createElement("h1",{className:oE},(0,m.tx)("dev_handoff.configuration_wizard.inspect_plugins_step.title")),n.createElement("h2",{className:oy},(0,m.tx)("dev_handoff.configuration_wizard.inspect_plugins_step.description")),n.createElement("div",{className:oT},n.createElement("div",{className:oC}),n.createElement("div",{className:ow},a)))}function oj({plugin:e}){let{pinnedPlugins:t,pinPlugin:a,unpinPlugin:r}=(0,i5.VR)(),l=e.id,i=n.useMemo(()=>!!t.find(e=>e.plugin_id===l),[t,l]),[o,s]=n.useState(i);n.useEffect(()=>{s(i)},[i]);let c=(0,oK.A)(()=>{s(!0),a(l)},200),d=(0,oK.A)(()=>{s(!1),r(l)},200),u=o?n.createElement("div",{className:oS},n.createElement(em.B,{svg:ok.A,className:oN}),(0,m.tx)("community.plugins.pinned")):n.createElement("div",{className:oS},(0,m.tx)("community.plugins.pin"));return n.createElement(ol.Cg,{plugin:e,ctaButton:u,onClick:o?d:c})}var oZ=a(206074),oY=a(292164);function oX(){let e=(0,r.wA)(),t=(0,eN.am)();return n.createElement("div",{className:oi},n.createElement("h1",{className:oE},(0,m.tx)("dev_handoff.configuration_wizard.install_extensions_step.title")),n.createElement("h2",{className:oy},(0,m.tx)("dev_handoff.configuration_wizard.install_extensions_step.description")),n.createElement("div",{className:oc},n.createElement("div",{className:om},n.createElement("img",{srcSet:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXEAAADQCAYAAADxsFFbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAF/SSURBVHgB7Z0HnJTV1f8PsBVYYGFpC0vvHelNiqKIghW7MTExr8a8ib7RN+8bY9T05E3RxH+ixhg1GisqBgsCighSlCZVQHrvfWFh4X+/dz3Ls8PsMjO7y+7snp+fkdmZZ57nlnN/59xz7z2nioSgRYsWw06ePHmFe3s5f0oRSEhIkMTERDlx4oR/nTp1qsD3SUlJkpycLFWqVJHjx4/L0aNHz7jmXIByUhaenZ2dLQaDwRBnWMiratWqD69zCH5RRd848q7jyPtB9/bus92tWrVq0rRpU7ngggukS5cuMmnSJJkyZYrk5ubmX9OsWTO55ZZb/HWQ+JdffilPPPGEHDhwQM41jMQNBkMFwiOORx/e58AfCfwPAncEPM2RbfdI7jBmzBi56KKLPJlXr15d6tat64la0apVK7nrrrs8eX788cdy5MgRycjI8H8bDAaDoVi4u1atWsPcv8Mhcs+qWOCREjjAmn3//fdl9+7dct11153x/ZAhQ6RevXry61//WlauXMn9xWAwGAwlhh6OyB90HH5PgrPCWziSPasLJYjJkyf7f3GZhCNoXCyHDx+WGjVqyDXXXOMt8blz58rOnTvLxCduMBgMFRB3O/qekOBI+CGJEkVZ1rhVUlJS/ILmHXfc4QncaQzp16+fPProo7Jr1y4xGAwGQ/HBJpSq7t+I3SiRwK2e5hP5M888Iw888IA89dRT3mofNGiQ/95gMBgMJYLL8Yn3kBIEO1TYbnjs2DGZPXu2/3vFihV+V0pWVpZf3MzJyRGDwWAwFBstSsUsZucLvm/djYJljgXOZ8FdLAaDwWAoHmIicfzdbCPERcL+a3aitGnTRtLT0/33s2bN8oeAhg0b5om8b9++3i++fv16f+jHYDAYDCWDKo6Io94uglvk3nvvlZo1a/q94ix08nrzzTdl4sSJ/nN2pQwePDjvIc76XrBggfzzn/+U/fv3y7mGHfYxGAwVFTGROJY41ncocKOwGwWwsJmZmSlNmjSRbdu2yaZNm8qMQI3EDQZDRUVMJB5vMBI3GAwVFZXiHDyuHnbE2EEjg8FQ0VBpSNyO/hsMlQvsiGPNrqLDIlIZDIYKCTZUsEuuosNI3GAwVFhUhhm4kbjBYKiQ4LR4MMdBRYUFMjEYDIY4hpG4wRBnSE6qKul1Kr6v1xAZKj2Js/hRL72mpCQXHBSp7u+GGbWkoiIxoZrc+bUR0qdnS6msSKuRIlmZ9SSe0LJZdXnuD73l8gszxWAAMfnEIT6O1jdv3lwaNWrk82cSF4VFBL4bOnSoP7EZitWrV8uaNWvK1WJDclKC3Psfo+SDmctl8sdL8z8f0KeNfPP68+Wm7z4h5RVd2jeRvfuPyOZteyVaVEuoKr27t5BNW/dIPCExsZr07NxMVq3d7uteHFx3eT9/r3seelFyjp+Q8g4s8F/f11UmTd8uz7y2XgwGEJMl3q5dO59js1evXp7IybGp4EANQa6CLwhdg2XZgZuSw/VX9JMh/dpJZULN6sly752XOIu0vhQXE96bL3986v24IHBQv16yNG9aQz5dFF+K11C6iMkST01N9Rl6li1bJj16nBmOfM6cOfnv2XA/cOBAn1B58+bNcU3iLbIyZJCz0NNqVpet2/fJBzOWycHDR/13PZxFVystVRrWryV10qrLtNlfOEs5UzLqpsmkaYtlw+a8gcdMpV2rhjKwdxun1BJk+aqtMmveaqfsIl9FHzG4o6TXqi51ateQju0y5erRvfzny9y9lq/akn9dm5YNZHDvdlKzRrJs23VAZsxdKdt2FAxABileMqKbI4cM2b3noLzzwedy+MgxiQYJ1apK/16tpWObTKF3F6/YKPM/XyfHT5yecaW7sg7q01aaNakrBw5my7RZK9ws4PQMYnDfdrL/wGHJzT0l/Xq2lqTkBJk7/0tZtHyjm7md8u6ui4Z1lVo1k6Waex73aun6A3wwc4Wzyg/791WrVpEB57mytGvir1u7Yad8NOsLOZaTFz2zemqSXDiks3Mn5dkvh7OPyWpn1QfRvnUjyWyU7j/v7+5FH65et12muv6mLMG2oxwtmmXIEddm709fJtt3FmzfEYM6+vru2nvIy05tJxsLl26QTz5bLdEiKbGKa2sp0K4GQ0yW+OLFi30WewJbhSNlkkLoi832TZs2la1bt/rEEPGK9q0ayU/uudxZQ7VklyO7oQPay73fucQTNxjgSOzWcYM8iXRybo77//NSN8hTpLN7f9OVA/Lvc/nFPeX+748Rmu3wkRy55eoBjoR7SzRITEhw7ZogSe7falWr+Pe8grHacZU8cPdYqeK+37htj/Tq2lx+7J5bwxFPEBcM7iytnFULgV50fme55/aLvMsiUlRzSvrWawfLN284X/ZCwidy3fuhcmWgTjWd7/nHd49xs4a2ss2RHG34k/+6Qjq1O+3XRTH9520j5doxfeTQkaNeSd3vftPZkbECZaEx6hOqVcuvt8hpGbx13GBfnj37Dvt+uunK/vKdW0f4fgEYFU0ap0sTR9IojqsuObPt27m+vvmqAX7NIDExLw7+N64fIpddeDoJVlJSNVensTLckfTO3QelccN0+dm9V7h/6xS4F/W60fX//d8bI21aNJK6dWp6X3wsoOxVXR/n5BiJG04jJks8mr2XuFtwo5Ddpzxb4VeMOk8GOktJUadWjfz3yc4KvOPW4TLz01Xy9xen+88mTl4oj/3yZhnpiG/825/5z7DcXp4w11uTQ5yF9s/xn8jWHfscUeRZyq2a15cxI3vI4899mG+JYTn/8K7Rzh+/zFvCDFKs0FBAjmqBYdmDLh2ayJIVm+WlCXPOuL6+sx5fm/iZ/NuVE0x1VuJffnWrUzZtZErA9//xnC/k2ddm+vdTXBn+9LObPHFiLfq6oxyqFUzkccLNGk7k5pWlY7vGMrR/O/n5oxNl5ZpteXVavVXu+voF8tb7C+To0eO+bcHDf5ggR7Lzsjp9++ZhcuMV/eXB370puV+tkezcfUj+7/H3/EyAWcpvfjTO9UlbZ9lvkqPHjsvr73zmLPrqMnpEV/lo9gqZv7igX5j1jVPuv9/+5V1vOYMv1+2Q+5z7JSM9TXbsPiCH3Mzpr89+4L+73vnEsZTDIcGZvH95dmr+bIHnDx3QwdUprz2vGtXLPS9R7v/Na/l1+vH3x3ol9OhTkwvcK71OdbnvZ694pRIrUEJ9uqXL7v05snGrBXEznEapHvYhbgFWODHE9+6NfvHtXGLdpl3y5fqd+X+3adFAGmSk+fcZznpqWL+2PPHPafnfM6g/nrPSuRAan5GtiCn3ya8U1slANqNWzRp4gmaa37tHC/9ZzdRkf32TBrU9idesmSLfu+3CMyzm8Y7APlu0TiLFux8ulrrpNZzbpq0jvlRvsSY4qzI1peAunD1fuSEAFuWW7fulY9vMfBK//ZZh0iTEukSZTZyyyL9v4dwwu/Ycls0B18iCJevlZ4+85WZieeTcu1sLWeDup2QH5i5Y42cvDZz7CddUXlkO5btycnJOyA7nAqrz1UwnEhxzv3nu1Zm+TBcM7uRdJ7QB7Z2YFF0MDdwjuEEUkDkuI0Uf5/LZueeAm3Wdnk0cO5bjZzX0XdAlhRIqDoFnpCfJA9/rKB1ap8mv/rrCKXNbVzKcRqmSODHH2b2C7/zo0aNSnrFwyYYCu1OYBnfvlOXf415gKr8vQHjgwIFsqdEm2X8XCeo4FwHuh5HOJ5ube3pKvHzllnzLNvtojidgnf4rVq/dIdGgT4+W8q0bz5dVa7Y7Ys5Ll5cbgS81xyknyE/x0Scr3MJ0QeLfsm1f/vs8wjqaX34AmapVDqo7RXXgQMGdJEdcPZOcYklJLlkRvPrS3jK4Tzu/1oBSSC6h2BknT530syQFLpHqqYly6fCCecbpp2pVz5y5FAc07Vy3mNmsSXVp3ayGWwPYKQaDolRJvEWLFt6PxxbEeAaEw8Jjk8Z1nU/3tF+/QUYtOXSoIIEVhQOHst19Tsifnp4i+w8WnBKri4rnzHOLgsUBe8BZ7Jz3+Xp56l/T/ZZOFBELemdDbWe17913WllhRRYFLM70OjW8j1gXD3nfuEEd2bhlr3/2Pucrz6iXVuB3WNgorOyjJZeuDz/3mIt6ym8fe1uWOcXILIjFTxRySePA4WxZu36HPPnC9DO+O3GiZI9673UulBfe3OgWx7Pl9/d38++PZFf84+SGyBDTwiZuEnJmpqWleZJmtwp/B/eGs6BJ3k0WNA8dOiRljeopSXKbW5y64uLzov2pczMckM+Xb5LLHUGwSIdFxrR56MAOMmv+moh9/YuWbfRrcFc6H3k152eGuGunpcg4Zz0mJUavT/e5mUBr5/bBZw9J64IkVnxKcpL3ESfiSnCf9+ne0lvNoa6fbm62wefs1ji/f3tp4BYdlwV2uJwNnzmFk+ZcQPjakQXKMubCnvLwD67wdQTvTP3czwz0YA1tiJ+cNYSdu6JzM7AYTP0ynYvHPw830VczIT7HCk5zbcqzKdfoEd3PuAczA1/nr9qc99oGkeL9aUvc4nFL57qp50n7lFNWPTpnSc8uWaW29rN5+xFXR5FmmZG7mAwVHzFZ4pD3hRde6MmbV9u2bf0+8KVLl8qiRXm+0oYNG0qNGjX83+UhOTIDmkWsnc43+eak+VH9ljH5nFv8u++OUfKr/73GL45lZdb1Wwynz1oR8X3YfvaHJyc5N8dQ+b/7r5ODR7KlYUZtb+3GYr3Nnrdavn3TMPm1KxPuGbYYPvvKDO/OYLH1605p/ebH1/pFOsqM1czp1CBwC/ziv6+WE46EsjLT5c335svKL7dFXAbqhB/6pqsGyjCn1CBV3EaPu/UD3TY587NVfpcOO1Tw+2c4RbF9x3554vmP8hc1IwV7ul9/Z74/qDNsYEdP4K+/M0+muwVa/NZznVJlV8muyw5KrRqpfq0Dn3jNr9YY2E308/++ym9ZzCPyavLHh27w373wxiy/HTESfPjJcr/l9H//8zKv5FEodd2M5M9ulmUwnEvElJ5NM9yHWnWHDx/OT4Rcu3Ztvzd8z549bsEnun3HpYUObRrJIUdkm7acXoSjCo3coiXT+n0Bv22dWql+H/a6jbvyP0t11jyWF0SAn3mz8w3r6dN6dWtKkiPLrY6c+C0EwfdJjiQaOFfCpoAfuZazFJs1yXCzg0S/kLhl2978hdBowIygoVt8beos3ONOCVDWYB3Ys46yoW4bNu2W2q5cXLfduYT4bTNXl11uMbOuq2cjZ9lCRus374n6RC33ov7sAWdnzpqNO/16Qeg1TV1ZaGv21q9xi8jqfgH1XRsxcwjuHa/nSBEZY491gXs5a7t18waeNKnv+s27/S4YkOCsafa8ZzhlpX3Uomld2evKg5uI+zV39Q5xW3vs2nvYL2b6BdHa1Z3luz/fqg4nD9SpkVuQZuE3h/Z3bbw/xPdPu7jOld37DktxkV47Uf791CD50f8tlulzd4vBACpFjk2DoaLgR3e1l1ZZNeS+Xy12vvKyn+Eayh4WxdBgiCM88vRqN/M4IjeMzRKDAZglbjAYDHEMs8QNBoMhjmEkbjAYDHEMI/EI0KBBA78P3mAwGMobjMTPAg42/fznP/eJLgwGg6G8oVKQOFY01nSs4LfJycliMBgM5Q2lGjsFcLiiPISg1TjUJQliw0DuX3xx5ik/TrUS9Ks0Tqty2Kp79+5+lgA4TLVgwQKJB3AIjLJnZmb6tuFEL2n7OBjWrVu3/OuIPU/gNIPBUDRizrEJeTVu3Nif3Ny0aZNs3749n6w5gsx3xBKHaCCZtWvX+mxAFSk9G/WDlEJJHJK96qqr5LPPPvOhCEoaKCSNW8MsgZg18UDihGEgXAPlh7wp/5EjeSccaTPytoImTZr4079G4gbD2RETiRMnpXPnzlK/fn0/+DimvWPHjnyC5vtBgwb5zD4QN39jtU6dOlV27674x4Wp99y5c306utIAxPfBB3mJDfr37y+dOnWSeEB6erpX7q+88oqXlyD27dsnU6bkxR0ZMWJEgbytBoOhcMRE4gS3grg///xzT+ahMVQ6duzoLfXJkyf72CmtWrXyC4NYjfFM4kRmpC5YjERnDEVGRoa3zEFOTs4Z7RK8D8mmsUxpD2YpGq8kmM5OLf0NGzb4VHjRgudTXmZLWLa4LTSODZY8/cG9gy4f+o3no4CCMeCxmkmOTTkWLlwo0YD2QmZ4USaUP88niiPPidblhKWOOwaXC21HWwMs/HBJSIhpT7vyrGBcmDp16sjgwYNl+fLlcR8u2VB5EROJQ95Y3fgx27dvf8b3DEqfhMANUn2BaAMrlSdAAtdcc40nXoisS5cunvCC5MpsQ9sD4iQPaaibA+K87LLLfHjegwcPev8w/77xxhueYLk/ZAkxQUS4o3r37u3dDzNnzpRIAXGOHj3au1ogLyJNnn/++d4KRnFAyhdccIEv36effpr/u549e3oF8+qrrxa4H4vD3APyJcdqNCn6KAuzBX4LiROiGFmgjij5SEmcWR9WuioZ2nrAgAHy5ptvekueGRCWPgbDyy+/7JUQihXXFm23cePGAvdDqaDkKIuRuCFeEROJq4UGiYcDfmAGLoMJa4nBAtmFDqJ4ArMLfP+QA5YehDJ27NgC1+AD5wVuueWWsPfp0KGDJ63XXnvNkwdug4svvthbi+vXn84ZOW/ePE+WoEePHtKvXz/frpBVJIC8ILWXXnrJkyXK4Morr/QKYdKkSb4OWLGUB8uaMkHszKzw8WdnF4xCyHOpO66caAgc0Pf//ve/PWGiWHCrxRJjHvJv2bKlvPDCC16uUKL0Aa67t99+21+DGwt5g+xxOV166aV+BqJtGcSqVaviInWgwVAUSmWLISTPC+uNqTNWLNP5eLbEIVlIXEPtQow7d0afJgsyxNqGkIjFjiX6+uuvn+E/10VgXliJuAog5kiBQpgwYYJXprhlsrLyAiahfBTz58/3LgXWLAAWLn1V2IIifuyySvCBBa+KFPJGrpAv2on3KCCAgoG8qS9Ki/abPn16WNnjMxRMeQmVbDDEglLZYohlxMCCRLByWrdu7afyEBaumHglc9wexcWSJUu8hTxkyBDvXqBN5syZE3abogIrGfLk+kgBWY8ZM8b3A/51LGsIPUhYuFV4Ltb4mjVrpGvXrp78KVN5AySNawh3CcomCAwEZhoqV1jpuIkGDhzoFWR5z+9qMBQHJU7iDDYW4yAdJYMtW7Z4EsF1wPfxSuJY0MVBXvqyZFmxYoVfTINUcQ+w7Q4Lkml/OEBQuK4gq0gBIUN6Tz31VL7PGV976KEl3AxYrMwMWCzEv1xeQRsxS9CdOYWB2QU+eJQXfn9cSqHuIYOhoiAmd4ruE+fFe6b6EAZTcaavkIbm3eR7SJ1rcUHE6z5xCAErkG1yAEJm8TIa8BsIGyucdsCyxzLnX90jrdBdLoAFRYg8GveN7v5Q/zUKCJdQKFC0uCiGDx/uy4F7IhzoRxZzQ63gcwXqwWyBxeNg29AfuIsUtBN+d9wkuljMLFAPRgVBfzBTKa5yNhjKEjFZ4pAzW7Mgat2hghXHwtvKlSu9tXTeeef5BTt8yJAdU9rgVrp4A9YzuPrqqz3pQR4M/uB+5z59+vidHYDvWUTEIsQKZFqPG4UFS0iGWQmuJogV1wcEFQTtCzlBnljr+K91UZPnssMF5Un787rpppv8d7NmzfL3QjlA/tdff71/Dn2Akg21xCE5ZgU8Y9q0aYUqWeqDVcusavz48SXej5Rv1KhR/j0KjTbROrFVlXam7Wiv6667zteR+uP75nNdFMaFAjl/8skn3miYOHGivw8Ltsw6gvWjHbkX+9O1fw2GeENMJK4nMEOtG130g8yx8LDasNDxu65bt65c+lojBbOLt956y5M0Vi51wvca3KHD7ptwLg/IWwEJPv/8836RDhKhrbiX7nVWvP/++57McA2wsyO4s4dr9cRjKNSSxmpnmyBuEq5j1wzWbLjZA9/zu6J2D6EIIHn6MFYCp0wQZriFRNqtsFOnuphK+ekDFA5kTruynqC7S1BQkD1tSt8A/kWB6vbGIImjKKh7eUjkbTDEilLN7MMA0YFTlhY4MwcIEQKNFigqLE+Il22BpQ1IG+sQ4o6lvNGCdmGbHsSHYqhMYI8+M0bdOmkwxCNKNQBWPG8prAxg7zmWOu6ewhZVKzKYEcyYMcMI3BDXKPUohoboAKF+9NFH+a6p0gTkhQUOgUez86WiAD94YaERDIZ4gZF4BGCnQ6jPurSAdXiuFtnCnWKsbKhIUTUNlROVItt9cXzigAUw3TppMBgM5QlmiUeAc2WFGwwGQ7SwHJsGg8EQxzASNxgMhjhGpcmxWZLAx86hH45/c1SdHR7s7uBASfBIOIdUIg0dey7A4SLKHi6hhaH8ggNanI5WcGjKIi8aFMUiceJOkOSA3Ruc5AuSNce0OVnHYRmIjBOewZOL8QrqTIxq/OSEj+VwDuQIiXMKU1OlsZBKIoLylPuSoFgc5edwSxCcqiVEAlsNSyMnaEmDhWZi0KCM4iVBdHFAPHnCCzCWkDVOoBL6wWAAMZE4xA1ZQQgMKGJXcPRZSZzPiWHBYR+sUa4lFjYZZOKdyBlM1JMTlVjhzDR0rzHxTXTbHlmA4gXsuiEsbVnFCg+C+DMYAIQdKAwcv8cwKInQwPEAMkRB4MyiyFJkMAQRE4mToYXsKcRDgdRCD0xwlJk4FlgMHF7BAiQCHvkcSyt5cGkDa5WBBMEoeWMVYZHr1kMUVCRKit8yPSaAE9Pi4NSYIFUoRgKGBTPocD33jmabY/A54UKx6rMAFm1hu3C0npSH+9EO3C9YFkIs8B3/UvZw5eR5XIMSDL2GcvA9MxgNLgaos7aPXgMIEVCYS4F6cx/+pdyh8cQpA+XXSJw8o7BTmzyTQGIE3IolnC1l0AiftB/PCXUvBvspXHm1X7Tu4UAMH8qn9+Ze1E2fR3vSXjyHdqfO/CZYJu6vMsl39GW48iiYaXMvmxWULWIicaLeMYg0SH8QOuXDMtcgROzPJk4FkfuYAsfjcXxyOZIBR4mKGNwAASbdWKRgkJA0A586A4nBQxAn2hTQdkQ5JCgWMxyA0sR9gHWK4owEEEO3bt380XpVLqGDEeXaq1cv/55+mz17dtgkyEQvRHFRNkLBUn/SoHE9QA409yWDGmIgmiLpzxQofe5D+/E913EyVQmAmRszOCUznckQnZDAW4BImSNHjswvL2XVMijU1cK1PId2QFZRUsgd97/22mv9gSpIiL8hL9qbMocqMqIfkmaQWWQ0OU6Dv+/fv79vf8rCuPjwww/zT+SqPOCKgzyRB2SB50U6TugXolUihyofuPmw2l988UVP0sgU7YE1TxsR8AxlSV8SJZLfMUaRcWY59DNl47ek8wsNg0z7E0kTuSDQWmU88VteEBOJqwAyeEOhwa6Cwa/UUi8sJ2c8gNCmEAaxwKkHgk89o1m0pU0Y0JAywbQQfAYN5IZyY/DwgiBJ4ACBMUggSAY2M5lIwX2Jo00CBdK7QVb48oPWL+FqIVodkOGiIgIGPS4xlApERr3VCtYY6bQJhMHnzLo0bK1m3SHMLFESUViQSd++fX0McwgA5cJ9+Q4yZyEPdxUIzmxoDxI8cD/aJ1yMcP09scRxDxHtkLqxZsO6DOWlPswgISdIilDKtBXEvn379gL3Y50AkozldCuKhP7GHQJJ0geQKZ/xbIA8kfkKecDo4TfUDZKNNHmzWvvBGTHvqad+xnvanyiSBDzj/u+8845vG5Qv5YO0eT4KDXmnrbiW8hLSNyjryABKmL60hBtlixLfnULnorUZJFg6ED5WBtZOqKDFE5S0IEFeCG60Mwp2rpAKDZKGuCAh3Eu0EVN2zToPcWC5XnLJJZ4EWThW8gQMNq4PnV5zncY3x9LXsKyA53HfYAIFrE5Nonw2Nw3lDLV6AWsd9PV7773nCZd7QYZY+fQ/ioLvmdpD0mqxERpXk4uoa0Wn+dQzHDFoIg2eEc71w70I6AVp4uMHED+uEGYlwVkMpKwhbPkeFyDWayiJ8zyCZMUClBnPQFGq4kOp0i4AxQeB0q4aQpgyUh5mSJGSeKSgLrQ/yo33tDuKI6gMNZ6OgrIzm0DmgjJCX5Bq0VD2KJUthkxzIWysDJ3GIwCV/eSjJnBggDJ1DX4emtkHQoeQcFc9++yzBRQGA4pdMsGkxyC40Md2x5Lc3liYz5iyUw5cDqE+fN0WxxQeGQhOubkfllxJgjrTNqHZ6yFIlGc4yx3ojKqkDQztg2DfoWh5AW2j0Dj7/I2ypbzBNi0LUHYLEla+USokjiWOxYFlAxggTLmxACpzeFoGJPWHoNVSVITutFDfJb/BWgsGxYIQyeBeFNSldS5AGZl+h9ZB3W58DyGVdn5V5IwXRB4Ef2vbn0tovQuDKo/Qa/hb6xIpLJBX5UXMOTYRNB0sDE4dpPo3Vjc+Uab0+NlA6F7yygZIDWsUtwo+cH2h3IJWKu2KDxnfJNYq/loWhaMB92UraJDIQy33kgB9yiyL/g/WiWm6Wu9YwviVKY+CNrj88ssLHI4CyEesygerl2c2adKkwOe4c2JdUKcsmuA7WuCaoSzBlHi4udiTD2gjXURUMLbw4+O+irS8KAsUe3A2p1mLDBUfMVniDEjyR/Iv02l8fFjd+PDw5+HPxWWARc7nkDgLcxX9pCAWsxIV7iT+ZlDiUsJ/iJ8XC5pBzOfszKB98Mey0MXAhcCZtaAE8ZXyLy6VMWPGyCuvvBLxIhK+aBYjWZgi5ylTe1wKwTjl9AuEoTuKIDtAeflNJNslISIWPIcNG+bJClJiYRF3EYuTyABkhj+eBVpcbZB+z549veIKddMgI/ivaROUG0SksxA9QMZnkD9txXWQGNfgc8bvznNoX56NSwpy04XEaIE/mEVa/OL48aMBu2J4Pv1Je1Jmyqu7jig392Qhk35F2XE9fRLMIsXCJ7/Vba4oAuRMD9FRbxYtWYegbXUhurTBLh/amN02hrJDNSccD0mUYLAiRAgh/kcGI1YDQqgLJZATgw4iwKJkIams/HuUF8EuicMhuDm4T+gCGMCPCTFCGrQDbcJ7ns9gA7QXRAVhcj2Lkyx06lY7FCBty+KcWue0K4MYKzXUDVMYGMwMbO6HMkEZsEgFaepefciCXSwoYgiT/qG8kAU7YdQS5DMs7mBS6CDw8UIo7LrRk4W4V4JtRP1oB6xO6kd7oKRCF1S5D59xHYumejIW0AYs6OoJWa6jbLQh90fWaB/6h7bFCtbFRF0fgPj5DfdUeUApcE9mjqEHnpAb2ocE4LplNlJQPurJ+gVETP0ZBxg0OiOlXBAhbUdfYFEz+wr2M7+lzegX5EfrQNvQxtyLPkA2dWugbhXl+dqvyB115jpkimdTb+rF3/jnuWdwFxS/4/csEIfOolURq2wbygalFk9ct3LpvuGyRHHjiRsMhoJgfN9+++3eAKkMoQ/KM0otABZWXGEnvQwGQ3yDmTazAj2kZig7WGYfg8FgiGPY8rXBYDDEMYzEDQaDIY5hJG4wGAxxDCNxg8FgiGMYiRsMBkMcw0g8BnAakFOJHCjhQEo0x5s5iMHhFH1VxOBC1Cme60Z/llb5g+EqSgsc2uHUqx27rxyIWpo0ow3xJDRLi5740mPaOog5vahZZThZVhFybHJ6j2PUnITkdB+n6IgtHsxuwkAlLyInJkNPOXIknBN4gBN8HK+uaJlROFl53XXX+WP38bitEwVN+cePH1/ioSIGDx7sxw7xzksDEDcxy8/W7oxNDBDCzpbVYTyejyHEmGKccCq0LM6WMA4JbUGbwGe0HadWC4vzxHZlTsZy6jc0YmZZIGoSh5wJ6M9Rbo3AxsEe4kQQH4TPaBRiq3BEWoMjES+C+BHxHsWQo9EcgYagOOqMwgq1ePiMuiOQoSRO9hhOuKEIr7jiikKfw2EKrCmujyYlm6FygxjmyB8xWQoba5ybIHQwhgghMcqCxCFNElLo8X+CvEGexKU/l+WhrQgfQKwZjCmMTvK8EvYi3ElUjdfDi0xbcUnikDRBlNBCEBSkTgowKq6xOYifQbYU4kQQFIvvsUzpMI2lHK8gDgaxLpScaY9QoWPGgaUVLn46sSt4FZYfUoG2pw0JW1sUiaNAIg1bWlQoWKwhBLo4aba0LNFcG+76SELWRlPvs92nuM+KpCyRPqc4Rg5jkcBzpGkrSmYYi8wgi3qWJgAvLaMLZUN8GIwhxgs8QZA3uCNcCsLSCmOMIoPEJ0yY4JUIdcZIpR3hs9BYOpQPA62o8VvabReKqEkc4UBDBYUWtwHBlCAeSJxIbFQAEkdzMb2GJJg+acCeeAOKiA7EikGgNOs4ygxrGTA4qLuCdoo2O4um9GI2g7sKa0UTC+O2UeHhOwRN2xqBg/CDLitmDcyICKhEgg7cBCigt956q8Az6RsGEP1HAopo3V7EyCEHKW4iykmdQ/3JyADp2AiMRTRFrkXJkfZLIytSPowB2oD70H5YijoYsH6YwXBvfk85id3BNdEAsiM6IURCOxPci/swiIOySXuQ0o6BjsuQSIZBIwSFjlwwM2NcUI5QC5g+4BqiSBIoKhiWVkFdqDd1g9gIDKbPwf3CmKF/eQ5lJqAX9yFyJG2kBgVTfMi5KFcKM2jkGDcKchYE1ijjWFPWAcawjndm1JSH92SawnjRlIOUHeURKXFpwgyVNeqNPGj7EDyP3KNERYVkNYgcbaORPOlDAodhEeu4gGCRLyIrhhJwOCBL9Jta1NQNFxp1Cp1hU0c+nz9/fn5uWgUzZ2YTuIR4PrKDMsKiV2OOftb+0+BrlJ8ZN59FG2BNEdPKRzC3JAMCcqYzGAw0CgOWhqbwEBvX8l4JMB5BKFUEiAGjeTD5O5gMGIKEwHghhNQ3WiBMhFMltCpthsDwHP5VgUcxEr6UAUfnIygIAyFTg+2LIEEixCanzES2CxdxjgEAUTBTitZ64HkoCJ4PQaPQKFdo/lXKTFkoN+WiLMTdUIuR9iJsLnj33Xe9a45BgRJSMPCRJ9oFhcaAIayvEk6k4B4QA31InknkltjmKJEgUBr0O3kpkWHKrinxUHzjxo3zhIciot4MRpSZAt83bU+fEgoXUtH1EAVExBoL/c19ILOrr766QOx1DRHMvxAtZEpb4JIIhvLlb4yKwpQwypY1GVyf4dwAyCvhbOk76gyBo4AgHgBp4xKlvakrwIjge0IfRyM7RIUkyiQKm7akXpraESAvtBWEiBHCGOBZpCxU0DcYM8g9bUKb4SaCPCMhcABhM4aCIZ6RZT4PWtvwGooWg4O6hgK54HeUkbHKmERhYhzpmKRcKkcaTpnyYgTHSuCg2MvkaH86gkGH8GiCCCwpOokX1gmDMZ5zbGpoUDQ9HYH/LFRoGUAaNlUFP1ogTNyDdmLQYFWFxhBXv/ybb76ZL/Rci9WOsAdjhgOyxWu5woHfakb5aAH5IrxYPgwqgEBCKKGgTig9yDN0Nkb8cY23DjExiBjIkEjQukXRaK5P6oQBAfGoNQ65haa6AygpTTVGmbF0GVQoBA2hHAqUEgMMMKCZfUHMGmJXs8SjiFDukCwDV9OqQXTcFxLiGsqLxablw7pUAtTQsdyHZ0AYb7/9ti8nCgdwb02mzDjD9RUkGkihMDKg3oxBFBZEHKpMFJAffUBbUV7KSt+gZKiDZu1iFkA/kZgaBRatm5T+YixdeeWV/j5YuRBfMFUdbYh1r/JMX6EUIX1+o2GGIUoUM4ukyE0wR2i04B7IM775YNvS5nyHm7QwZQX/0XY6Jvk9ZUM5YkRpfVD+9C8zPNotliTcQRSLxBEqBAxB14bTbPcIKJYMgkDDnksfUUUHFqPugFEy1MzmDLpQEi/NHSIMPpRzcAEXYQ3nMuPzwlb9UUqQadCyRK6YUkN8OriD6w8aRztoiev0NAgGE1Yu9+Y3kBjWG64SZJP2wToNlc+gRcs91EAB3IuBiZKhfHynbheFuq+C/ungOgltxwBXRaF1okyQO/fk9ygmbWeUIEqc6TiGRfDejDklkFBAQlj9JBYpahzq+FUwfmnfYKJkXBzMtrAomXUG46NHCsqCFY3FT5uhVOg32iKUyBXIGH1CewezRmmiFeQe10qsPEP/IRfIQnDMoDRwBWJ8hCaWDiJ0fYyy0WaUV+PZo3gxmDC4mA2hqIubezgmEocsKBj+IRoTS0m3BmlFsAqoAFoGgkEIuNaIvPhAiLBaEerg4GF2EC45cmmuQZTmAqPes6jZG4M6+D0EzVQ9FEGrinZia6cm8YAAGFC4VgpLCB0K5Bv3D6TKoKccGDQQrkKzOhWFcPVm/OjiGKRBO2Dlcy8sf6xfZCA0MYn6qEPBtYxVvldfLuOX++Oy0oxc4aD3DLaxjnHuyxiPZUyj/FjD0RkUhEdfoDB0jSkUKg+hdQyWMdadLfQncsCsiP4MAuVCe+FVYIZJvVGYuIBQRIXFUy8sATeyyD20/YqLqB3UFIjGRmOhQVjsQbsEOxrtTeHR0AghGg6fEZaDJXSNDOES6CogahQj/m3cWLw0Y0ysu0u4n/p7owHWDwOHRT5FLC4zLEjuEawzliz3Ds4sgvfmPbIVVFwMChRc6EuJRmcwDD4IH0vw5Zdf9oO4MBdDODALpWzIP9ZjqA8VoBgY+Eo6odtRNbcqVm2wTrQDY0VnNChryox1CHGjKLgmVGFzr3CuJO6Jq4v6oqTUFQFom6KIhHpSTr2GezHboTz4+fked1a0QNaC7UX/oKSC/R/aXriZ+D5oqfPZyJEj/RZm6o9SinbdjdkQ90C5h24OACgYDFXagbbTMUb5i2o7+gLjNSi/KANmMJSX+2HhF5VMOxJEbYmjgdBMNB7aOziVxSqhgfmcXIi6l5xOpiJMfSsyiev0GNBO/I3mRkDVasIfy7RYr1OiQnCCU2EGFwLAgGHwIvSQAkLD3wgTOwUQOpQpipU2ZzoZ7e4S7s2CF8TGVqtoLCv6FWWCj08JAfmINikzCgh/J+SA/FAW3HH4YoP1Qe4gW9oKtwIkWZjlFg4MGH5HW0HADERcOchlNAqQ9qcfWciCcOlHfLy0ByRCn2JlMj5YnEP2uYZnq8uFfuMaxgf1oX+ZHXANi7sKFATlZUcIfcPzkKPQdIN8Hm6Rl/YLtS4pK+2I/ATJFLmlTurGwdrESFCyog7IHdYnfaZnQjDcILtIwWyJe1Nm5AY5RzEFrVraEbcLz0FGeQ7l0tkS4wO5ZWxBspQNHzTtjcKKBNwDIuVZ8BdrLAq8C7QxClDXewAyRNmZwQSfw734XN1LKBTKpv2EUmIGwn1Zb0GWmc1RR9o4CO7DGKLfzsaZMe0TRwjpNDowuGVKc/NhOSBwFA6hgtjpnOLsQS4vUL9qOCA8mqCWgYNgMvgQUk18y4BloNKhWFIsGqm1FUzmCxkwwOh0fS4LaQg97c97hFq3IPK9TusVDLxw7pVQUBb8flij0e7H5Vp207BDhbJoDk8GW3BqqxZ1YfeG5FgcpU60EWVi9wlEGwQDgDZmADBoWIsJt1ugMECcLKDhVkBpcA8+4x66P5k2pKzBtqTcOusAyDpExO4C2h8ZZ/AyM2BM0PaQL4ua1AkS4hoGdbBdGLwMVhYKqTO/C+ZcBcgGBK8WqObNDN2BgXKnXliAZ9udwXOoTzhZhuBxvyAT1FMXXZW8KIsme6bdIHvqGI0/Gn7ALaQ7NSgPRBzM78m9uDc7UqgTso/cK+AX2pXP+D0yhCyynsDsKJKcusi85gJGhoPAgGCnSSiUA0N92ZQX4wO5QsEHF7WBJpSnvJqTGDLHcEHWgxY711JnPUBZFGLK7BPqIwtWTjtRj97rtKmwxa5zgZLM7MOg18EW7rtwLgnd5x3pNUFQbvX18X1wkHAvhAYghHwfbGOeo2EPzgaIh36N5Npw4Fm6rZB7aL8H5YHvabeiZgr8jjpRX34fvFZPGb7++uv+Xqq8YpEr6spzdCdJ0OUC+C5Yfq6njULrpPfQ33MNgztI1JChKgteob5QvY9eEyoH+mztX81fG+46LFHkHAOgKKgcBmUG4oak//GPf3i543PqFayL9nHw2SpnwbaJBGo8UO5Q+cUqJ/TBc889578L1zY8l98GZxLaVvwmEn+zymU4FHUP+isoy5T32muvlRdffDF/Fk15g2ULNx61vKHjgtPctDuHoc6GmBY2I+ko3Rte3JXX8oaiCIjvzubKiOSaIIqyqLhPUdYGghHpwsnZTpCeDaHPCq2jEkK09wkH7h3pPuDCgAwXNTMMLSvXh36mSqSo34HQa8It4Ba1oBr67MLy1/I5Fi6xU5glhO5SCqIoOaQ8hclVuOdGI2ehzznb7Jw6FdY24Z4Zrp/OVoZYDJeiflPYd+HaKVx5IXrcOsxsIoGFOTPEDRjMRRGTIW8RDncMroFoF8wgk/IQCwRArpQlXoLmYTXj7iqJuC8QO7PN4NbTomCJkg1xA6aeOvU2FA09EBMNdB98eQi4hpsjuDe9vEPLC4mf623UpRvY2GAoQTA47JxBZIiWwEF5al8s8XiK3lmW5TV3isFgMMQxjMQNBoMhjmEkbjAYDHGMYpN4RcwRGQ4ay+JcPKewffgVCeeqPc8V2LcdPO1X3qBypa+ybvuSKoPmKajMiInEEViOuGpAGE48hYtXwHVsgudUVLyDk6dE1CttaA5P2rQigxOXHN4p7KBFPIFdCezNDsZAKW9ArogPwulHXhzsKW7MjljBcznVGC5ccbTgoAxH7wk7UVkRNYkjsByxJYwnZEPkL4SDI+YKyJu/+Y7rQkODxiM0illpg1NdHLmtCORWFIgrg4xEG2OlPILQCBritryCQ3ccS2ebLWOYqIhllaCF5xKfBRkoLthLTrgJ9sVX9DFTGGKKYgg4008MAIKyI8AExdEBCQkR/AVC0v2TBkNFBDMKYo0Qs6M8b39k+xtkRwwjYrpUJBAwjf3Z0WZ4qiiIml05aEFmlWAMaVwrBN7BWiVYD6fqCHxOECTSXlUkEJmRKHPUnYBJoZEZ8c8R4Aorg+BTCFjwiLhmliGCHPEXuIYIaYXt6+V6sidxWImIdxrGAKuDz4nAx0kx2p3pfDDlGf2i+RSxfHBt0TfBiHYEGOI7/iVgD5HZgkeu27Vr50/y6ekxFDKDhZOBBHNiOss1tAUzFcrDUWoiwgUTJKDQtQx8X9Rxa+Jy8wzie0eTtoo2pyy0QfB4OO1Cm3MUncFOWYjBQtswtacu1Du4z5drOnbs6INN8Vuu1byxwf7EYKH9o4ngFwsogwZF4lmUK3hcO1gnLF0sbk0HFg2CckUbIpvB0K8A14UenqO9kR3eB1MVRgLkn2Bn1A35pbzBfkO2GEu4XZADZJD6hcbvpt8oJ/3FbCie9peXBKK2xDXIVTBAu4ZV1QGnqa/KMuhVaQBSJPIadYasidoHoSsQOJQW1hnCiLuAID7BaSNKgDRfkBntSORDwlGGmwpC4AQkwl2lOUv1c2Y6GnWNQUU0OPycQfcEg5roeARF0sFC2RTU4ZprrvF1oK8gWcoSzA1KhLVQVxnuNPVBMtAIQ0sZNTojA5tnaln4jHIwW6PtUPbBXJTh2pl1FA3uFSkwMIgKiWUcBO2iIYEB7j1cfRA48kl9aL9g20GKuEmoF+WmrWi/oB+ZuqC4MFZK8xQp5I0cQaw8h+h9tG9QrvhM60C5cHVqBMxIQV+S35MogMgadUZWQ/3NyAttivxjjNAu0a57IRP0A+OA98gD7ayzdj7jb+SGPkIm8OWHRhpUYFAg2yXhook3FMvPoQkiICa0cLjgOBUJ1E/TfDGYGUgIvKYcwyIhNCchNSFFBOqGG27w5IaFwADr27evV3Lk8INUIEzyDGL9EPpSoQSOEBNbOph5hTZn8PA5ypJBCxFBuOGg4URDs+BAvljEpIjiO8pHWRj8mhw4UmhAfX4DYaLMIAEsNEgbYuWemnUHpcLzw4Hws9wr2uSxBPHSONXMPjQ0KOXRvJ70G/Vkpoj1DSgjBEH/aS5VBe1FjHWdOQTbj/tAHNFaoNECw4E+1FCvlJN+QrkyM0CGaEtC7CJDlJFwwJB6MJP72aBx4MkjiYwjV8gfC9Djx48vEMyOPqVdsI41d2m0COZbZWahgbuoK6SNMcA44Tvuz1gjGU040D+Mz2AqtMqCYpE42hc3CtPvcHF3KxoQFHV7QNIIHIMHouBzCFwTBTCwGBCaygnwGcIZjLsMUTEYQqM9MjXkPkSlC81QDzkiqJqclnsVJbjBOOPBnJwoA/pNv6MMEBtWXbRxK4JuJabfqhQA7gxmEkFFVFQgKwZjrAYBdUWZYR1CyLQjJKZJOeg3kkjwPaTFrg0NhxpukTU0Dn5QsdG39HdhkTrVegwFykz7DrdROGVGtiHan7JRVsqsMsN4g2i131BSKDCNQa6uPn4P0Wvs77MBC5v+VxnneRgfmqAgWE/kjRjY4dqF9g9NFE6ZkfPg9ciJ/k6TJzDbgMSRGWRAE3xrQKzCoFEZo529VQTEnGMTQmLKppnSo7WaKgI0NrROAbGmsVrUX4wQBi0UrmMwhPq/wxEw5MP9IfLQwPAaLzlSoiss9rlmTA8CsqVOxdm5ELrAB9FFG4I3VlAfSABFhEWPfx1FqNHl6A9mQxATViRET/kKsySLWqzU3xQ2Y2FMBBN9KIIKDCIM9TkDbSvkJVys+eC6BddQzmA/a7jaaEiNdggN8VuYPBQVrQ/rX8k3kuu1vJRfn4M7izaIdLFY3byV5dxKEDGROBY4e6bpXDJNl5fwlaWNUAFhWosFpBYKfj2sTcgDoUIQgxYJg4rrmYIHs8NjaSHkQUVIlhusNXzU+AaZKitZMIAZnLxiTeJAmRk0ofvR6dtg7sBwiV6jBUqLtoglsl4swMWAMoXMITh1mwDKgOuJabp+jl8WpRktlCgL29pGGxaWfV5xtlmHGgIYTcEonLgNeD4yg+KinpRD48Kj6JHPaFwL3IfZQxA8JyjjkUDzmkYDyJvFUv0dZaE+arCcDchX6GyhsiBqc4tGxWeKHxwBZfEM/yYvTdLKNfhAWbSjYREEyIwpUjxrSurBdA9orlHIOJhQgTZQa4IFKUhDgQWGhcLv9BoIncXF4IIj0B0PkDeLdUGSgdwZoEzFNYNStIcdGBhYgdxDM7RTdv5mpV8tIBQ003XNRsRCXrBOkQCLlwGJ9asnNZm1FAZkB39urPt+1a2AUsXFFZpFB6C8dPsrz4slSTT9DkmW5mE2SBzXCDMKnfGhdPCJ60lF3TKIGwPDinoxE9EEyZECHzVrLSqLPA93Kf1X3KQhoUD+GR+6UMyY4L26vehD+kTTHfJdUYmskUnNQ1vZELUlTsdqCioW7HgpmIrx0q1DKtyQH34/BApiitd40NSZxUxIAcsIKwhfpVrI+B7Z9YBvERLUBMjaDlyHhc2i3+233+5JnYEYzO8YCgYWioNkrhA7BI6gkpuPHSoMXBRlLG3KLIqy3Hzzzf6elIVyBNc3eM/OiG984xu+/lhI0VpZWN+43FiUory0Q1HlhYB0MTiYazJS0O4sbLIgGPTDAsqPn5vvIA5kGZmNxZ/Kc1DKKFBN81YaoO2Ykd12221eZiBxfP8qM/TH1KlT/cKg7hBCIbP2olY+8nrTTTcVyIl711135d+fhW/aDKPsxhtvzN/tQXtxn5LeZcb4wKj71re+5eUKQ4JFTp2hIjPMaJlRqdFT1BoNZWWGWtyMT/EISwoRIdhpov5sLFMGCgQTKlgII4MMUmCAQ+BcG9z1gEAy8CENyJPvdJBABvyez/TeWBgQLMIevA/35lqUCdNgLM+XXnop32XB/RHuUP9kEDyPgYslw4AN3fcOGPhY4JSHNuS5lIUBQ114NgNICYP66p50teD4DGVOefgtszisYZR6aBtyf16UO1ZipF60mVp2QVAWysHzqQPEodtClQSoF3XA0i7KCuUe48aN87s3Qne2lCSC/USbhXOTMHOBGCk77Rv0m/MZxkC4o/bIoMpMsG2oN/0d2geMBV5Bl2A04BmUE6OEfmZ8hquTnqlQ+aLunAD/85//XOA66sbnzBg0qXNlgpF4HAKhxU/O7hgGEoOXWBRYZPh6K9Le/PIOiAarHoKJdlumoXDQrqy7scaEuwgDip0+/PvKK68UuJYdOBgwzLoqoyVu5+HjELoSj2sHKwkXF1YMR7+NRM4taG/caBCMnhg0lAyYodGutDGGCzM7Qn0EwewOssf1UhkJHJglHsfAzcJUEzdIUVnvDaUPdXdYHteSBQaKuuAg8VAjhXGNayec26yywEjcYDAY4hiVwp3CgpUl2DUYDBURlYLEmYpVxkMABoOh4sNybBoMBkMco9LsTklJqSots2pKtSoiW3dky579x8U2chgMhnhHTCSuQZ/0GDBbgXgFY4yzc4Lv2e/Jd7gzynL7W2aDVPnNf3eWWmlJMmfhbvm/J1bKrr3mYjEYDPGNqHenQOAcg9XMNIA9yuyV1d0fmkhAA7Szf5Pj28HQlecahMxo2jhVrh3dRK4ZnSX3/uJzmTmv9E7YGQwGw7lA1D5xjTbGvkzid3DARMPSahAh9nVC7MQV4QXxc6pNA/aUBZgEbNySLdNm75KkhCpSv178J+g1GAyGmHJsEqgm6B6BxImyxukpYjaQgzO4rQ/iJ5AN35d2LsKz4UTuSW+WJ1SrfHGHDQZDxUPUJA5xBwMC4fNWt4oG0QnGjOZ7TQpQHrb5Hck+KUmJVSWzYap3sdjipsFgiGcUe3cKx76JLU5Ev3AB/3G9EFecCG9nC5B/LrD3wHHZtitbhvarL/vc+5VrD8rsBZUvBrHBYKgYKNY+cdwoJIiAvHGhhO4+wQLne6xxkhvEmoWmJLHvQI68+NZGqV0rUW65qpmMHt5YDAaDIV4RsyVOSEjCPxIPmEQHoRk1dDGToEAQeHnJQJ2RnizfuaW1zF24R37zxErZtz/yZMAGg8FQ3hATiRM7uX///n63CTtUNHO3gl0qJKMlkQAWOrkOywsy0pOkqpsZzPxsl6zfVPr5Hg0Gg6E0ETWJQ9DnnXee3ydOVmtcKKQjA/i8ca2Qig0/OJk2WNDUFG74xcs65i+LmidPnpIjR0snlZbBYDCcS8RE4qQgg6yzsrL8S0HORj7HQsf/TXorXgqscmJfl8XJTbYUptdOlJ6da8sJx9+77bSmwWCoAIiaxCFnyFqztQehu1PwkRf227I6et+kUar88r7O0rpZmmzaekTWbjRXisFgiH9UiqQQIDWlqgwfUN9Z4Mdk9fpst6CZI7knbZO4wWCIb1QaEjcYDIaKCIsnbjAYDHEMI3GDwWCIYxiJGwwGQxzDSNxgMBjiGEbiBoPBEMcwEjcYDIY4RrFInOiE4Q79RPq9wWAwGIqHqE9sEp2wbdu20qZNGx8rnBOYxExZuHCh7Nmzx1/TqVMnadeunQ9FC/bv3y8LFizwKd1OWRYGg8FgKDFEbSZD4hrwigBYa9eu9dEKybGp2e+JM06gq2XLlvnkyMRaGTJkiKSnp4vBYDAYSg5RW+LHjx/34WfJoZmbezoSYPfu3X1scSIVkoMTqNWNhQ6Jk2NTrXWDwWAwFB8x5dgMhpMN+r0heECCZD5PTk721jnZ7wlJG8zNaTAYDIbio9g5NrGucafs2LFDDh48ePrGjrxHjRrlE0jgG8e1gk/cYDAYDCWHYm0dwdLu2bOn/3fOnDkFFi15T0o20rZhgeNq0YVOg8FgMJQMqjlyfUhiAAucpGgj0/3MmTNly5YtBb7HpbJu3Tr58ssvvf+8a9eucuDAAe8zNxgMBkPJICZLHIu6R48e0rJlS791kByaQSscf7hCLXIWQWvUqFHgO4PBYDAUDzHtE2cnSpcuXWT16tV+DzgZ7QFkjeuEfeL4x3GlkM6NfJv4yPne9okbDAZDySFqEscKx4UCKbdo0SJ/zzj4+OOP/b5wSJsFTXarsHMlNTVVVq5c6RMnG4kbDAZDySHqzD64QzipiYUdCpIgY4lz2AcS51/cKFjgWOxsMzQYDAZDycHSsxkMBkMcw6JTGQwGQxzDSNxgMBjiGEbiBoPBEMcwEjcYDIY4hpG4wWAwxDGMxA0GgyGOYSRuMBgMcYxihaLVOCh2CrNkUL9umtSokezfnzieK5u3hw9TwCnYunVqyMFD2XIsJ/IDVDWqJ0mttOqyd99hOXrsuMSKqlWryPABGXLtpU2lVs0E+dtL6+SDT3aKwWA494g6iiHEzbH7Xr16+ciE5NIkpjgRCnNycs64nmuJdsjRe2KOl3e0aJoh37l1hDRrUlfWbNgpx4/nyrkA7XrhkE5y89UD5cLBnaRH52by4SfL5eTJM0m8cYPa8v1vjXQkfky2bNsrkarQ87o0l7u+PkJWr9shu/YclFhRs0aC/OnBHlKzeqI8/eo6mb90nxzJPjftZDAYCiJqdwrH7Ql+RdArjtJzzL5z584ydOjQMzLbc/T+vPPO8zFWMjIyJB5wweCO0rt7Sxl5fmdJq3Hu4p9jcU+btUIe+dskWb12u7PIkwq9Nuf4Cdm2Y78czj4m0cyBUlMSpbazxBOqFc+L1igj2ZUvQabO3C7vfLhddu7OEYPBUDaI2p1C/JP58+f7CIUEuMKCHDx4sA96ReIHPgd8jqUO6fObeAhBm+JIrnvnLGepbpfmTetKx3aZsm3nfv9dYmI1adeqkew/cETqpdeU2rWqy/pNu2Tjlr0+dnpKcqK0bl5f9rrvM+q472tXl3Ubd8mmrXsjdjftP5id9zqcHfb7xIRqboZQz5dz6szlsmHz7gL3zsqs61wmybJv/xFp2SxDMOJXrN7iynzm/eiPGqlJ0iIrQw64Z27YEnnu08SEKsJ/B7NPhJ0pGAyGc4eoSRzCCnWLaO5MJRQIgryabdu2lU8//VT69Okj8YA2LRo6X3NNeeaVmXLZhd2kQ+tG8vHsL+RE7klHeMly7x2j5PDhY44cT0mCm3WccG3xj5c/loVLNzoXRx353jdHyvETuZLrPk9MSPB+7cef/9AR6TbfbsVFamqiXDW6lzRplC51nBJ54oVpMnvel/ntPvqC7tKnewvZ43zeyU551qlTXZZ+sVkeeep95+oq6Dvn91+7eoC0aFZfXnhjdlQkXjc92Sm1KpJ7wgjcYChrFHt3CpEKybGJBY57BRCutm/fvj7bD+Fn4wVtWzb0C34rv9wqX3y5Tbp1aCppNVP9d0wksL6zj+bIU//6SP7wt/flkCP0K0f1kjppqVLVuSjS3L+HjhyTf7w0Q/745CTJcTOQ68f2k+opiVISOHQ4R54f/4n8y5FujlMQKYkJEpzfpCQ5d0mtVJkxd6X87ol35UNnrffo0sz7+fPhftAwo7Z847pB0rFtprw4YY7MX7w+oufjRunXM11GD2vkXDJV3IzlkBgMhrJFsXankFsTlwm+748++shbhFjhHTt2lHr16sm7774bdrGzPIJy9+7aXLY6X/NW50JZuWabnN+/vbN668je/Yf9NVjTC5dtlCVfbPF1nff5Whl7cU+p41wniumzVjrrd5OzyE/K3AVrZdTwrs4PnSq9e7R0BNg67LOXrNgkb09ddNYy8nzKl+TIO/dk+IXEo8dOyHsfLvF+82Urt7jnd5Faaan536ckJ8hVl/byrpS/PPuBzFu0LuJZwmUjGsn1lzdziiJJxk/aJItXHBCDwVC2iNkSZxGTDD4sWi5ZsiQ/xyaEzkInVjnp2LKysnw2IN43aNDgjMXPcw3IOu9V8PP69WpKpnNTVHfkNnpEN+979sTerWX+Nfh/Dx466kkPEmeLX1V3TXJynqXNZ4ePHPUEDnbuOiCJzkLHP57syDOtZnLYF1v/SgonHHlD4CDXl1MKLGQmOL86rpTEpGqS1aSu3y4YKabN3SVPvrjWKYf9cumwTOd3ry4Gg6FsEZMlTlYfthZiha9YsUKWLl2ab83hSmEhk0VOFjxBUlKSJ/CePXvKBx98UCL+4VgAQQ/q005SUxJkzfpdzqLe5D+HrHt0auYUUJJfmMRihuSzs3OkbauGfrFQr6vu/NL8C2GnpqZ4koQ0q1Sp6j9n0RFihPCx0PGb40f/YMZy519fFbZcocky+G1Vd79q7nVcSnbrHr7xZ5wfP6tJhowd2VO27zwgMz9dHVGfrF532L8OHTouP/1BF+nUtrbMX7JfDAZD2SFqEseSxl3CPnFSsZHNnj3g4MiRI94CnzRp0ukHOMK/6KKLfJb7WbNmlWl2n1rOv3395X3dwlwNeev9hfkkjouhY7smssMR2mP/mCr7HJFD4qOGdpVLRnSVxg1ry+49h9yMoqp06ZAlkz9a5twWOdKtY1PZ4aztI47sa1TP2444sFcbWbx8k/NfH5VebpGR/di79x3y+80j3XO+fccBSeuX6nzWjeUL59Y55vz0uSW0CyQnJ9e7ZD53Lpy2LRvItZf1lc1b9/o98ZFi/ZYj7j4nnUKzA78GQ1kjahKHsNl1gj88MzMzP0kymDFjhmzatEn27Dm90wESB0ePHvUHgsoj8BmzqMmCJtsC1SqF5C+9sLt0a99UPpq90lvfzZvWkwfvvVxO5p70pyafe+0T2bn7YB6JO55t0SxDfnjXpX4BMd25LZ584SNP8tHg00VrZcTgjnL37RfJnr2H5Y1358l0t1g5cmgXGT6wg9RISfLbHK+/sr+Mckpm+aot8urb84rYM37mN1jgz7wyQ/7r2xfLtWP7ymNPT/GLspHgwMETkuvrX3JuIIPBEBuiTs+GfxvXiFrfQWzfvt3n2SzwgK9OeGZnZ8uuXbukLJGclOAs6abOvZPgSGy/c6nkWZ+pjhQ7tGnsj6Ov27SrwPXdOmY5P/cxv1/8L7/+mrw1aYG32NMdgX/hSH+pW+TE99y6RUN5+N4r5OUJc7zfvH7dmrJ89TZZ5gg2FvdRs8y60tj56Ks518zaDbuc9bxPGtavJS2z6p/hx4bov9yww289rJee5hdcAQuqHdpk+kVaFmfrOuJv3ay+rFi9VQ66mQKg3iixlV9u8zOQSFA9tZo8/8c+kl47SWZ8uktenrhJlqy0RU6DoSxgOTYjRLrzb//1N7fKMy99LJM+Wuq39p0MHLRREn/iuQ8dsa3y7piKehCGunXvWFv69agrDTKSZOIH22XBkn1iMBjOPYq1xbAy4VTgX9wqZ9DzqZNySv/j+wqsGqnbwmX41Q+4mZlbxM01O8BgKCuYJR4hWNBt2jjd+fWPyL6DZx5jT0pybqZ6tfyC5r4D2WIwGAznAkbiBoPBEMeoFHvEsKJZkDUYDIaKhkpB4jVr1oybULgGg8EQDSrNaQ2zxA0GQ0WEHbkzGAyGOIbl2DxHqEJezAaZkupcOyD74AHZu3NbmcWRKQzMWAirQDKPs4ETuIRdiAXIDmsVubnFiw3DwTPaMNqDZDybtIK42oi0uXPnTi/HjRo18vU6dMjC7BriA1GTOIMP4Sc6IQOAvzmpSRwVMv2A+vXrS/PmzQtELNy3b5+sXLlSKisSk5Jl5LhvSodeAx2hV5NVn8+V1/7yCzl65LCUJxBO4YEHHpDMpllFpn5DfS9fukS+/e1vn/EdxEqANBKCtG/f3pMskS4BSmLQoEH+e55FHPq33nornzT1RPCQIUP8Z1OnTs1POhION998s//3D3/4g0QKZLZfv35yySWXeFmFwB977DH/nP/4j/+QmTNnypQpU8qdgjUYwiFqEsdCGzBggM/cwwAkNgqW24YNG2Ty5MnemmncuLH06NHDB8PSgFdEN6zMJH7CWXsz331VVjryHjr2RknPaCjVEsqnn56okzOya8n+44WHqc1KOSVpKWfmIIUgIcdhw4b5/r7ttttk8eLFnsQJ1XD99dfL2LFjZevWrV6x9+7d2xM1hJ2WliY33HCDD5gGwRPemHg8RZE4shbtegfGx7XXXuufQVRNMlURLgIZJUQEsm0wxAuiJnGmv8uXL5eDBw96wcfaHjhwoLe8GYQa5IrrPv7443wLq7jT5vKCak5pNcxqJXUcCZ90Cmr9qqWSfeh03JAGTVtKvYaZrr7HZcvaVXJof17O0ZMnc2Xj6mWydf1q6dZ/uKSl1zvj3j7UbVptyWzRXhKSEt3vV8qBPTsLpL1Lq1PPX7Nv13Zp1Ky11KhVWzZ9uSL/OvqDGO/8S1alogiwpMEOIAiyZcuWfmZGoDSSg0DGECOztwsuuEA+/PBDefXVV308HWRG87KSJapbt24+wYgGWQsF9WrWrJm/L4ogFPwGWWS2SN3Xrl2bL5O0X6tWrXw5+P3cuXNl0aJF/jpcKilfKSV/sMuROfUhmNu6desKPIPrUB7cb/Pmzee0jQ2GUMRE4gyMIBiEEEeoH1XdLRA5UQzjHbXrNZCLb7hDuvYb6sg80bXFCVm7fKGMf/zXcnDvLjlv2Gi59ObvSkr16j5uyo7N6+SFPz4gu7duPOu6Ae3U4byBcvGNd0hDpwgg/f27d8j7L/9NFs3Im+FUq5YgAy8ZJ537DJGD+/ZIi/ZdJDElVZZ9OkPGP/EbR+Q7PMH85Cc/8dc/+OCDfoZ0rvCd73zHEyjkh4Jv06aNjyt/zTXX+Pc6c8P65Rrcb5CgZn/Cr/3LX/7Sk/PDDz9cIEImYIaAlX/llVd66xuChWxRGIo77rjD53RlBkgbcM8XXnhBFi5c6OXz+9//vlcc6enp3qXSpUsXb4n/9a9/zS8H7p4RI0b4tqQer7zyikyfPj3fXYgiuPvuu727hfKeyzY2GEJR7NgpWD5YJVgjTI8VaqEzkIgzPn/+fG/RxOsiKPUZPHqc9Bl+qXz01guyYv4sqV6zlrTp2tt9V03qN2khY2+7R7auXS0zJr7kLW3+vuTGO+Xlxx6WnLMosZTqNWWUUxB16jeSN578rfeVX/7N/5LRTimsXDRXjhzY5yNPYXm36NBdvlgwW1567GdywhFLg6bNJfdEHsGgDCBIlG2VKpFn7SkJvP76696Ndumll3riw1UCiT///PN+5nbhhRf6cuFioYyUb82aNfLnP//Zky0ypBmiwgHCxg2Ce4bUfyQZgVCD4D5/+ctfvCwim/fdd59XIsuWLfPE/vjjj/uZAr70adOmeWuc56JgyD4FUB7PPfecD6vMdbiAcAex9gMgdyx57mdbVw1ljWKROAKMJcPUFUtFXSYMRP5WPyODGUKHzHUgxBtSa6bJgIsdGcybIR+Mf0aOfOVC+XzWVP9v1wHDJb1eQ3n1sV/I4jkf+s869Bok7Xv2l6SU6mcl8Zp16krjFm1lzpS35LMP3/aWeKPmrWXsN+6RtNp180j8Kxw+uE8mPv9nWbdsof972aen74M1+eyzz3qCPNfx2yHK/v37+wQguExGjhwpq1atkjlz5nh/OHKCBYwL45lnnvHW+Y033ihjxozxfxel4P1MpUMHb8m/88478vnnn3sFwPOCGD9+vL+OF6kCIWdImecie5QRi5p2gqRRCAolccrHwibyynNZ6O3evbu8//77/nvcVFj3kDh1NRjKEjGTOMLNzgPybOIjD2a1R7B1yxfXQfZDhw71gzheSbyqc2XUTK8r+3ZuyyfwIOo1bCrHc455l4Zi744tktC9r9ROry+H9u0p8v78Hmt//y78vHlkdnDvbm9h123QWLZvXJN/LZ/jvgkHCAqLGJyrdQiI9bzzzvOWMgobQOBY2yh0XBPs+MAah/jeeOMNT+6QKModHzdWc1EuN+SI7X+QL+4PwP0gWgUGA7tlWHhHgeFzh7z5NxqLGXeO+rkpP79FdhXI9oQJE/x728FiKGvEROKQDYtDDFzIG2smSBhBi8onD3YWOcLOYNf8lPGGU678x48ddX7ZZF//0MF79PAhn2czIfH0YlxKag23+Jkbso3wlJw8ddL71INnrY4eOShs3EupkZb/WbIjJVw1oUoDZZF7PHyaOwgHKxRgqUJgpQ2dkeGLhsjxc2Nd44PG7cB3uC6wiiFxJUhkhvcQ+NlIVt1ytL0uQPKbYF/wHIwFlASL6tz7u9/9rnf3RQMseGSV8vEsnh1cvMQ3zxoQwEVoC5uGskTUJzYhYXyKLP5gkTCtBQxE3ReO1cL0mWsR+CZNmvj3EEq8+sRzHIGv/2KJc5EMlqy2nf3hncSkFL9DJDE5RXZu3eCt9ZadukuS+7tm7XRp6q47uH+3I+HTyYRzHYllOwuyXsMmktGoqd8/zr32bN/irMxsd+8unsj5nPfHj+d4y7sAimhD+uFHP/qR/M///I/fA30ugHX88ssvez8420pxNSxYsMAfBPr9738vf//73z3RYnnT/8gPssKOFfaEM3NDNvISTaf4XSqQKNewCKluDqx3vmcHiyoOfq/A6kZxcB3GBSSMyyZacH+UD2VAKVC24GI+MwJ87ffee69/bzCUJaK2xLFSEHIGF1N3hFzBIhFW2MUXX+wHLVNaSIVpNSv4QZdLvCHnaLZMefUp+dp//1Zuf+BPsn7VErewmSap1dPk6V/+QDavWSEr5s2Uy279vnTuc77zg6dK01bt5aU/PSzHjp6e8kNiSz+bLgNHXS3f/PEfZeeWjfLvZx+VTauWyZzJb8qIq78hd/7sr15pNG/XTeZ/9I7s31PQdXIq8P9QQIQsJhZ3YbNXLWcl5xb++xRnOG8N1InZFoTGwRn6+qqrrvL7xHFHqOJmcRufNLtYzj//fO+rhrDZUoi8oPivu+46n4Sb/K0Q8v333y/btm3zh3lWrFjh78k1+Kj5PXXle8D3KARcKrhzKE9RFn44g4LPUC74wXH9de3aVT755BOvGPLr7hQJz83bMWQLm4ayRTUnjA9F8wN1h2CFswMAotYXg4mpJRYUBI8lwxSYgcdikW7hOtdAkTAjwIdaHOzduV3Wr3D1yD7i92qzzW/OlAmy0RH6MffZ2mULvFskwVno+3ftkKmvP+MWKd+Rk7knQu6zTbauX+XIeYf3sa9dvsjvJ9+waqns3rrJW/YnnC98zuQ3ZPLLf/NuHI8q+J8TZduG1e7aZfk7UoKgfyBwdlNgDeu2uEihR+HXLl8iqxZ9Wuhr+YJPZfbs2QUOcKGsITusVsiN74MLf/i8IXFkBPJG4bMQOW/evHxCZVsq/cQ6y9KlS73i537cl9998cUX/joIH6OBrYPMBrmGraz4s9Vtx+cTJ07096CcKn/UEeua+wd3VGnb4YpBniFrfPmvvfZaAdnB5963b1//TBY7K8L2WUP8otSSQjBQeDE4y/qgD4QBORS1fS0aUK8EpxTIeH/ieIhickSQmOC+O5XrXSfRwi8EO6LGxXLC+b4rYlwadbNhfet+7mhA+2Olo6BC1yZ0IZ1XcXzVhT2D+99zzz3+0NIjjzzid7FY7CBDWaJSZPYpaRI3VF5A4uxPZ70BAq8oJ5EN8QtLlGwwRAGsbnz7BkN5gcUTNxgMhjiGkbjBYDDEMYzEDQaDIY5hJG4wGAxxDCNxg8FgiGNA4uvEYDAYDHGHKlWqLOTEZkv3vn8UP/IxKlq3bu1jYBBciIMbGuRKwak5vuc6YqcQ/4K4GmVxMKKkTmwCYqLUrF3Xn9AsjbqkVK8h6Q0ay4njx2I6LBREh54D5NsP/z/ZumG1j80SD0C+atWrLzVqpUv24cL7q9fQS2TcXT+WLxfPCxtVsqKAsUOCDE6bhmYYigWcmfjpT3/q46QTZ51xoflPQ0H899tvv91/z/g2lEu8V9XhzWh+wSk2jhyTFYVIbgQYIp8i8S40VgcEzt98zvdkeyEGRUqYnIzxBCIKDrj4Kvn6//xWGjRpJqWBlh17yJ0/fVyate0qxUVKjZo+XVz1GrUkXlC1aoJcdsv35IbvPySJjmAKQ3JqdantyL5aYsU+6sCYgciJVVQS4IQsuXB5MU4h9cJAnCTiyIRm7DKUHzj+fjjBafdpzZo1e9T9/f1IfoS1TSwKgg0RWpTjzZrmipC0aGzC1JI8mWuIlaEhPeM5xkSqI8RadetL3QaZjjwaSt1GTSX3ZK5kHzoohw/sy7fKyeiTVqduXmTCbVudNXngq9+n5efG1Jgn3BOL88De3U4BnnK/re+UQ3Of3adeoyayf892Z5GfkH07t0Zs9Sen1pD6mVk+gFZeuNuCSHADMr1+ps8klH1wv+zeQYCqgkfXyVhEDtFqiW72smenD8Cl15z+fQ1ftz07tsrJwKlF4r7Ucm1AXBmIlkQZ2UcOya6tecHPCAxW1/2e6/g97UFoXcAMh5lOvUaZvq3rZzaX425GcvjAfjlycP9Xz0/y5E2u0tef/K2PQxOKmu75deo28GUmFs3R7DwrEiOjTkYDOebkkHrUSs+Qo05ed+/Y7EMN57ehm7kRiZM2J/ZLpKcyNfgYY4KxwVjhXnzG3xzhhzQZC8R54dQnzyA+enBsQJoQN9+FyzPKcyBX7gspE6grGGJAA3TxTGLM8BxmoQQnI5YRJ02ZTZPqLhz098SbIRaN5gYA1E3T71FOykGcGdopOBPnHjwXS59ykEovCMql5ed7O/kaEx51/L3OmzGOzR9yAjPUvXqc7Vc0OuSMgCmxIEQQNy4TOpdkEXQowYk09gRCFM8xJnoNGy1Dx97kSIZExbVk3J3/68PELpkzXSa9+IR3rzRp1V6uuP0HjnzyEhUTpOrNv/3WEdgmad6hm4z52vdk5ruv+Ow95MsccfVt0q57H3nt8V/5xBGjb7nLEXmGJCWnyqW3fNeRzyEfdOuZX99XIBlzYajbsImMuvFO6dRroBvU2XJgz+4CkQwJb3vR9d+W7oMudERd25HjXvl44ovyyXvj84k4q3UnufjG/5CsNh0lwV2/d8c2V7/HZfHsDz2Bnn/5TdJ/5BWuDep4JTDjnZflk3dfyyfiBk1ayHXf/YmsWTZfstp2kkZZrXxwrxcffVD2O8K+9Nbv+ZR2SUkpcsSR+BcL5sjbz/3Ju0T6X3SF9L1grCPxZu5ZCfKNH/3ek+v0f78kM95+yd+/mbvnuO8+4BZzqnh3y46Na2XnltM5Lpu3d+389e/5PKVg7YpF8uZTv/PuJIj7xnt+4X+HsmvSoq3PkvT2c3/29VP57Ny5s3c3ILekjgvm8CwKkNq4ceP8OHjiiSd8kC0ifpK96He/+50P+EV0RWayEBep5SBFsmD985//zI/kSA5RYrPQdwSVw2JW8BmJN3gOYXgZj5wg/de//pUfzIt48l/72tdk1qxZ+REhGX+/+MUvIgo9Qf0pM/VhPGO0aaRIlNudd97py48rlRfvSXsHLwDI+dZbb/Wzb0ic35K5SXkDUAfcOSgw2iqoKAxnh5ODRe71EO+9dDgy3+dcI8NdA/PhWS3ykyFWCyFBIWu0sbd2XEdjWZDRhQ7leixyosZFG1WvvGDFgtly1FmU5w0dLS3adZWP337Zk9JuRw4EwarbMFO+9ZNH5eDunTL11aedJZwto274ttz0Xz+XJx76rqxdukA2r10h477zY0ccByTFWalDLrtOprz2tGxZu0oO7d0j77/0pLR2BDfkshvk0w8nypY1K7wVe/zo2RM7YPmTj7Pn+RfJxGf+JCdyjspl37jntIvLEfCoG++Q4Vd+zRHiK7LOkdt5zq98+Td/4GYCu+TzTz7ws4VvPvCIJ+TJr/xdDjmSb+lIkbjnoNvAC2SMI+F5096RZZ/NkI69BskV7vfEO58//T1/DUkzIFpe0ye+5FPNZTTKckSUhLXgld0U1z77nYXfpGU7GXntNz2pTnz2UVk+7xNvmV9w9de9kpj88pN+XWDz2tNhYCHsD157Rjr1HiJd+g/1Ck/BDOL67z3oZjd15L0XHpcqCVXlmjvv9+nxnnR9QBuhaFPdLOSD15+RRTPed4r0674MtMeBr+K2Q8K4CpVUIwWKG1IjTo8SL24Q1obUosYChtwgWIh3+PDhnsxIZ0cIX8I48/dbb73loyRCpuqG1BR1BOAimuPTTz/t455zPZY4RIlFS/lREITixeomMTXZkyINTbx69Wr/fLIukTM12AbUC6VAOUi+QZhe8p5efvnlvkzUl2TVzMS5B9b/ZZdd5hNL//znP88PR0070Ma0i7lrosajEDi8zR/5Kv6rD+52DfuIE96H3EXdI7HM6QgEl3CiCBCCjHVBZ6LFsRKYGhL/mYXNYHD9eMIuRx57tm+Wxs3beety+byZsnXd6vzvm7ft7Mlu0Ywpznre4vM27Niy0fu4s1p3kFWLP5PJr/5dmrbpJGO/cbfP+rN2+UKZNel1717Zu2ubfxEFkVjjKxfOcVbqrPz7Q1Cd+p4ftmy4dLZvWuus5w6y+csVMm3CP6Wqu0+9xlmepABWeO/hl8nOzRtl9ZLP/DNXLf5U2rvFz859h3kS73n+KEnPaCQv/ulBmT35TZ98YsnsaVK1Wt5O1K79hst+p6Qm/esJnwRj2/ovpX2P/tK6Sy9ZPGdaIGRuFZn30TtOmTwScOu4mdvJUzLhH390ro76Xuntda4YiLNuw8aeYIjJvm3DGl8OCHTBx1OcQinogsNN8+kH//azoc79CrZHc6dcscAnPP17+WTSaxTEKaHu0rH3IMls0U52bM5Lcbfq80+98iQbUz1Xjv4XX+NnQEriWIXIM1ZuMFRtSYFxQh5USBvDB0Jk3QiCg+B5Lsml+Zd2+OEPf/hVs1bxcdghUkI74xrBWGJc8TvIFjeNXouFT8Jn7qOZiiIB9yPGO0qAcRsOhAYmRC8kTPkhZXzoGHRY8iQEUcJmJtO2bVtp165d/me4aQglTFsHU+wZCsU695rAGiYu8OAX/x/ZDDAi2pRD1wAAAABJRU5ErkJggg== 2x",alt:""}),n.createElement("div",{className:of},(0,m.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode")),n.createElement("div",{className:o_},(0,m.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode_description")),n.createElement(N.$n,{variant:"primary",onClick:()=>{t("vscode.install_extension_clicked"),e((0,tB.RK)({rawInput:"https://marketplace.visualstudio.com/items?itemName=figma.figma-vscode-extension"}))}},(0,m.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode_install"))),n.createElement("div",{className:om},n.createElement("img",{srcSet:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXIAAADMCAYAAABukyi4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACJKSURBVHgB7d0JlBT1nQfwX3fP2XP0DALDNcPgCsixigQDaqLgbox4R0HcNfoMSDa+NW/hbV7iywsmSvYlz10Xd02eZlHjS2IWEjTxCsbsg0g0GmMAFUGOyMBwX3PfPV1bv5qu6qrq7pnuOrrrX/397Gunp4+CDf/69r9/9T8ClEZjY2NNLBa7JxAIXCVJ0hx+iAAAIB92ylncJGfyi83Nzc+anwykekd9ff0t8pt+LN+tIQAA8JImuXP9kD7QQ+ZXNDQ0rJND/DH5bhkBAIDX1MgZfUskEqG2trY3+AFDkMsh/m35xwMEAABet1AO8xo5zH+rlVbkcso98XIKAAAIQi6zfEELcrk3fpBwQRMAQDStQf4v98YJIQ4AIKIaJci5cE4AACCkYPznZAIAACGpQT6HAABASEECAAChIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcEUEYMPcqnKaVl5Cc6vLlJ+VoSBVFQ31DzqiMTrRH6Vj8m1fdz9t7+iVbz0EkCm0r8wE+D8NDQ0SAWSoSj6Z7qiL0LKx1dpJlanjfVHa3tlL64+20HH5BAQwQ/vKHoIcMsYn2L0TauWTrJqc8OrZTgQ6aNC+rEOQQ0a4h3Tv+Jqse0gj4R7UU8da6ZWzHQSFC+3LnhD/JxKJfIcA0lhdfx6tnFBDpcEAOY1P3Ktqw3JvLETvtKN+XojQvuxDjxzS4q+6j1xQJ19wKqNc2C9fsLpv73HqGIwR+B/al3Mw/BDSemL6+JydZGxquEQ5saEwoH05B0EOKfHXXW74ucYnNv/Z4G9oX85CkEOS68+rdGzkgBX8Z/PFL/AntC/nIcjBYHxJkXzhqZby7V754hfXUMFf0L7cgTMFDFZOrKXxpdYn/AYqKik0dpxys0MdUwz+Yrd9MbV9cVuzym/tC6NWQMO9pV9fVE9WlMyaQ5XL7lF+qqSuTup9903q3PgsDZ4+QVb8/Y5DGMXiE3baF4d2xQ1LqOL6JYYAHzx1gjp/8Sz1bH2NrPBL+yrIIK+urqZrrrmGZs6cSfX19cpPfoxvhaztB9+3dEJU3n6PEuJM6u6kWGencl/tlfPJdu7BVZbCfP2xVnrqWAuJBO0rNavtq6jxAqr9xne19qS2sWBlJQXCQ6HOx+XjZ0vE9pVKwSyaxSfRihUraMGCBcoNkvV/tJOyFRozTgvx7lc2UYfcO+KeuPKcfOLxCcgn4qiHH6PT991B2eILUyKcaGhfI7PavtQQjzYdoPZnfmA4TljupVd/6X4qX3St8nyX3AazIUr7Gonvg1w9wZYvX17wPaLh8MnBPedsqSHOPaL2H//A8Bwf76zcEx/75AblROSyS7YnM9cyecgYr2znRWhfmbHavkpmz1HaDn+b47akdhJU3HkIyr1yboflC6/NOsi93r4y5euLnatXr6a33nqLVq1ahZNsBP27su8tsbL5n1F+pvvKrNTJ//Smcl9fP8/GtHApeRHaV+astq9i+dscfwBw+zKHuIqvw7CiKReQFV5tX9nwZY980qRJtH79eqU2CZnhr6VW8FddZvViZia4x7ThZBt5BdpX9iy3L/6WZ/qmZxa0MXqFea19WeG7IF+6dCk9+OCD6CFlKWoxiDO5eKX2xK2G/bQ8zABMB+3LmqiLH/RcH2dWavDMS+3LKl8FOX/V5a+5kD0r9ctM8Emm1jitnmiVHpm4gfZlnVvti4ckqkGebX1c5ZX2ZYdvghwnmT3p6o92KCNabr9Huc89d6snsxdm4KF92eNU++LQVoOb6+c8ppyHI3KJry9eK8+WH2Z4+iLIecwuTjJv4RDnIYfcG+cLXTwpSFRoX97B7Spp0tmf37R8MdUvhA9yvvD06KOPEtij9Gwc6jXxsdSxv1xSafth9hM19PI58w7tyxlOtS8ObfVaC1/k5HHkPOyQbx3yRVEr5RU/zOwUPsg3btyIC08O4JNi0KEg5wkaPBSMTzhlRqfN+ihv15UvaF/OcKp9RQ8eUG4qDm51ZnGV3O4G5OeyvRaTz/blFKGLQ1y35B4T2Mf1RidULx+aZcd1SydCnOVr81y0L+c41b5S4bVW1PAu+/RnKFt+2JxZ2CDnEwx1S+dYnayjxz2j8PVLlBA/61CIs33d/ZRraF/OcqJ9DUftpVtZdTMf7ctpwpZWcJI5y+qsOJV+4azWx79v+Ppr1/aO3G+ai/blLKvtiy+YM75YPlzJRF0R0crStvloX04TskfOvSWemAHO4R6T1fWdeSyvGuK8Ap3VYWCpcP0y1+tgoH05z2r7UkepqEMOh3sNy3Z1xXy0LzcIGeRYXc4dHMjZKpVrknyRidlZFzqd7Z25P8nQvtxhpX11vTo0CoWDnC+ic2jrcYDrR0hle6EzH+3LDUKuR75582ZPr3PREZVow/F+2t4Wpf3dg8rvVUUBmhoO0Q1jS2hupIjGlwayPGYvvXRkB205+THt7ThOHQO9VFVcRtOrxtPNk+bQvFGNNKHc3o4nPDzs5N03ZPWeup+8knFPi2vm2S5le8sHzTm/GOX19iUqK+2LcYCHdR8CXLaLyddhONT1a5TzdZlsS3r5aF9uEK5Gzl97vXyScYA/1dyrhLce/769ParcxpcGaWV9GV0/tjijY26Vw3vNhy8o4W04pvz7e+cOKrcJ5TV039RFdNPES8gqdReWbMbiBmwuWDScV8925vwk83r7EpmV9sV44ayBpgPK7kBca9fX2znAe7a8pvTcs724no/25RbhgtzLX3vXN/cpIT6S430xevhANx3rK5MDffglNJ/cv5WeOLCVRnKsp5XWfPArOtrdqgS6VXzRsnuYJUPNTty2kNzAtcv1R3O/4L+fyyoHDw3Qnn398s9+ammJUW/fUGdj/LgQ1URCNGNaKc28sITKsvy2mI1s25eKS3Z84w8DdSgj98qtXlTPV/tyS4j/E4lEvkOCWLJkCc2dO5e85tVTA7SuKbur39w7/5RSZkl9qYJ74t/96GXKxnvnmqhaLrlcVGNxb8SSEgoWl1Dfzncpnx5rPpeX+qVX25cdHOAvvNxJW7Z1U/PRKHV2ShQdTDzPv585O6iE/Acf9SsBP2VyZt8Ws2W7fQ30K7VwvsVaz5FV+WpfbhHuYuesWbPIa7iHvb7ZWqN4eH9PUhlG9ciezWQF9+C5pm4V1yOtXJhyCq8N/crZDsoHL7YvO37zehc9/dM2Jcwz0do2qAT+fzzeQi1t7kxdL+T25RbhgtyLM+22y42fw9wKft+O9sGkx186ulMul1j76se1c74wagePRHF7Ekcq+7v7aV2z9Z6WXX6ayfnCyx30x3etjZHmQP/h+hY6ftKdGnKhti+3IMgd8MopezPDfn8uube05eQesoNLLHapGyfnCo/nvW/vcconvwQ598S3v99HdvT2SvTcLzpc65kXYvtyi6/37MyVE332Gvr+ruQe+bFuexdiPm6332D5wtLoR5/Kyddg/rrLJ5kfVqLLtx1ygFvtiZtxz/yFl9wpQ6B9OQdB7gGpauQdUXu9KSfx1+DI/Q8kTcZwQkc0Jn/VPevLr7v5wjVuJ3F93W7vfjhoX/b5cvNlcB7PrOOappOzN7mX9NSxVvTCHcS98Za2QXLa23IPf+7F2e0239U9SB/tbqeu+DfOMWNKaPbM1EsCo33ZgyB3wNSKEB3r839j4Vl03HPiscDK0qG7dma9oTL3kDacaqONJ9sR4C7Y/oE7Q+r4oif3zDMZlrhrdwdtfP4I7dqTXJIZO6aUrr5yNN24eByFwyHDc2hf1iHIHcAzNN84l9nwLj9QTzjGa1vwCccz73hmHZ946mQProHyhgJ8QatU7m3xjLz5191M4A6+OJnpMEMrOMxHCvINzx+VQ/xo2udPne5TXrNl2xlau2YGjR2dvIM92lf2EOQOuGpUsTKp53gB9MrN+OtwPoaRQTK3hgpqxz8xfMlmpBDX40Bfs3ZP2jBXoX1lBhc7HfLg1HICyCfukbupdZja+1A5JbMQV3GYP/7EJwT2IcgdMre6CGEOedWbx2+Ej//IWiDv2tOu3MAeBLmDrpevyv/6U1Vp104B8KODh7qV3rVVGzcdI7AHNXKHcYhzmPOCWG+cjSqTfToGJeqMSsO+B8CucXXuLHSlKitLvSpiqtEp2Th4qIvAHgS5S7jUwjeAXBlfFyKKtVFP78jjyAPBEJWWVCo/M8XL3KZipzfOeLw5H4OHJoI1SBoAHxk3LkgH/prB9Hw56wcH+ykcPo8Cgcy+EU5pTN3j7+ryx+YMIkOQAzhsz942ev7Fw3T6TC9xQY0LEpJ6T0o8wj+Vx3VVN4mfD8RLGBLFXx9/i+5Xw3t0v3NvvLsnqr126FABObR7Kdp3hIqKA1RXN5OKS8IkxQYpGu2h4uIKGsmM6SVUG0kd+E70pNEbtwdBDuCgbW+dpB89s58S+ZxIXMkUvgHtMckQxtpdXeYnBX7SnfiHgPn92nPFFCiaQt1du+ngJ3+gKed/VgnzwcGoHOQ0ouuuSb+lH0+7z3bood6UyWECewo+yHnBqt+cHqC/tEVpX5fza1SoKkMBmlAWVCYPZbpXZy7wLkRbT+6hP8eXva0qKqMJ4Rq6uu5CW/t/FqrXfncsEbyagDFk9Z1zfqXye6LfrgV4/L7+verxyPRY0mtS9fLlH8Ulk6ivZze1nDtIY8dltonG5fPL0/bG2ewZVVQRLpJr3dZKLDcsdn6xrEJT0EH+xrkorT3QnXaHHqftly/q8FT+9c1BZcx5Pi+G8nrlvMdnqs0r9nYcV8L9if1b6eszrqNFcqhDZpoO6/ailNQf8b65LqC14NVKJVJSL1wLef3hTF1tSVd6Ue4aAjzxM6AePzg0i7K3N7Ox2+Priui6z41celm2ZAI985PDlC0uqfAHAdhTsOPeeKPkr3/clbMQ1+Op/Pft6qJXTuVnfRbePWjFn54ZcQci3tB51fafK4EOmVMDVZ+rkj6wJdOTZArh+GukdM+TlNQDl2KUuvRCnPEBY909QxziK+6OZPTaG68dJwdyNWVr+V0NqI87oCCDnDdKfqo5/xuv8rcBHm+eS3vbj9OaD3+V1XuePLDVkR2HCkJyR1sXyBJJUtq3qK8gfWddf73T/Hop3ss2X/+UyPgmSRf8meY4l1M4xMtKA5SpB/51qlzvHrn3ruIQnz+vlsC+ggtyOxslu4E3X86lVds3kBVrPnjB1obOhUIfpokLmal72FrIS4nXJCWtVkqRtP/Tevta0idelui5J/fApQxSnFc3XHFXRCmnZBPirCIcov/83ixadtvEYV/HpZS135qhLGULzii4GrmdjZLdwH8X7pXnol7OdW+rGzpzmYVLMnc2XkaQnpa78d+Mv1PS72nr4AEy9u7NgRww/U7x65nxD4yAOrQx/l61P15ZUUrX3fIZOtcyQMHiChozupKqqsqVyUQzppdmHd6p3CEHOa85zjM+m5q66OChHrl8UqIE/afnjaLZM1ETd1rBBbndjZLdwLXyXAT5lpMfkx1cXkGQZ0JXxkgTxqnKLIaAVkerpAt0KU3Amy6w6kOcD1ZRUUZf/Ef3/w2VDSS49i0HOriv4IKcR454zf6u3Pyd9trckNmJDZ19TzL3ws2TfiQtsBsnVyq3lCWPVCGeOITh/sFDnfRJU4fhsaRDSgFDrRz8peCCPB+jVEaSq7+TlzZ09qvkXrjxoqP+hZfOPY9uv7WR7NqwqUkO8k4yfBMw/IUoUVtHkPtSwQV5VVHAc2HOf6fkx+wNyaoqLiPIA2PnW7sjUWCYMosDf2w8oAPaXyJg+OBQn+/q6qOf/fxNKi4pp0hNPQWDRVRUZL2tDAxEqau7h/r7rY++On9yWK6dY/SKHQUX5LxR8vY2by3yw38nswsj42lvR3Ybz+pNLHf+xLiwejzB8MwXIrXH1N6yS30IdV5ozPQpIhlmIRF1dvbKQf4uhSvOo4bGUioqLqeysszGiqczMCDR4cNnqLfP+jc+rqmv+97spA2ZITMFF+QLRxV7Lsj572TG0+NfPLKDrHJjNiZmeGbIVM7QPWR40bvvnaFTp3uNb4u/cNltjXK4JXrKu3a30pY3TpA2pEVKlGqa5Bq5ZBrqon14aK/TB7uziouLqKGhjvbtz35mp0rZlHnTEVp+92SC7BVckF83plgZR+6V8gpvKnHlqOR/hnmjGmmC3Ku2MlxwQnmN4+ukuHFMf0ozGsXw+9ADykVK+aYtnqUukCXfFl05zhDkHPhb3jhuvgaqHGtoqCFpF0j149HVCUYB3X03cJiXlZbIvXLro8K2bDuDILeo4CYEcT169RTv1I//fUb6mXBrL/oCWcHrozjNjWP6kXlMePKsTCnpteafpOtBG48tGUI86Zi6ENdPHgqQfny5e0Ihe3HS5cERZaIoyCn6vLfmyvr8h/mDF4Rpajj9PwH3ytdedCtl4ytTFzleAnHjmL4VSA5wSS1uaCFr7IETJcaAD1/6CCTKL/pZoPH3xWK6UoqUeIk2q5Rfg1ErvlSwqx/eW18qlzUCyuJZuZ7pyeWUTFc/vGniHJpeNY5Wbf/fYcssXPrg0Ofwd4obx/Q7SdeUDCscBnRDA809cH22avdTXjE1Br2krauo9bxjUvJIlZTDEsFXCnoZ2+vHlii3V0/107ZzUTomB3qni7XzuZEiZS3ybGdxTq8eR5sXrqaXju6krSf20NGeVm3dk0vlkF1UN4PmndeorCU+HA7mTGRzTEgtcaFT2xkieTVD0zt4yKB+nfKkV+jCPKCbaGTcfSjR61eD3lgfR5z7EXYIokSgex33zvlm1dPzv0TgLv3UeO33tBc/peTfJUp7QTKx9Lhplqak/kmSYblc/d9J0so2kqt1csgPBDmAgwK63YBMQ7h1gT70hJR81XKE/vLQszHJ9H79ErXx52KGlbTQD/c7BDmAg8zL1SbKHNp/tNcFAgHDBVDjG0zH1Z7Sl1fioa47tv6/8RcaSjLokfsTghzAQcOPITft3RlLit30vWfJuBY5S/S6yTi+PL7QeaLDrv8AIfAhBLms7+3d1P27v1Dv23so1t417GuLJo2huo3fomyPye8rmTWZwtfMo9IFM8iK6Nn3qO/EFho48x5J0Q5yQ6h8AgXDE6hk3NXybRGBdYaLi9qFT/1z2m/GAE9VJ9dfBDVdzBy6myK40zwG/lPQQc5he+7hn1H/7kNZvCtg6ZjRI2eo95091P70a9qHQdGkzNZqHmzfS127HqEBOcjdFus+RnRW/v+j+SUl0KsuXktFo+cRZCapjGIum5B59IoxWNOPWCFdLVw/uUdKOl5SD9x04RP8p2A3X+765TY6cce/ZRnizhwzeuQ0Hb3iX6jzl3+gkfTLgdr2xxU5CXEzDvW2t1dQz94nCDJkCOIAmXvhiV61qYYi6UI3TdZqIR1/iZbR8TuSaQy5WhMfmqSUvFsR+EdBBjn3ms987UfkJCvHbHn4J8OGfqznGHXsXEPSgDtllEx173uS+k9sJchEotctSZJu6J/++UA8iOOhrNW/dXt3pjgsPxpTZ2cqQR3TAtt4QZNI669rzxNhLXL/KsggP/O1/yGnWTlmrL2bWh76adrnuSfuFZ38gRLN7weKCIY6wYkxh8YRLMZAlfQXMCVTj9mUuRJRih43aSNZlNn5MUk3VV8f4KT7HWHuRwUX5F2btimlDa8ck+vmffLNjHvASr3aI/hbAdfNYWRagJofM5RZzL3xRO95pPVQ9OPUdZcztfupZnIavhCA7xRckHf/9i/kNLvH7P5tcv27/8QW8pr+4977O3mOpBZPhn7RLymrprtkWtxKDXFtlImU6pJkqhJKih5+/INADfGh52OJ9yPJfangRq043Rt34pi9KXrkXuqNq6LtewmGp/Z/Y9LQLM+h+xIZR7EketRkGk443HHNpRXDnynpj8kfFjHd+uZSfIan5O46tpA3BRfkI40Tz8cxuVZuNtjjvSDP90VXIUhqfzxRMkkKcVMnnUyhbCqGpPgjJMNP7TgkmZ7XHWbokwU1cp/ChKAsBavDlAvB4irK7eK6IwvIfycYnhbC+vq1OcAlXVRL+vp1Ylnan204QGPHlGvHPXGym9T9NyXtwyL+gaGFNOn+vMQfIBk+NcCPCi7IS2Y2KpNzrMp0Eo9dRdUXUrTNW6WMourpBCMz9Ih1SW1YnZDS9ayH7r//4TlDnVvdDi6gHSxeLw8kPhwSr0scL2a46srruyDM/ajgLnaWWZweryq/JjezHIs9OD2+tP5mguEZyxqSNrJE0ge6lDzu2/yYevEz/g6tzq4fN648EjPVxvUjWiTdOJkUHxrgHwUX5BVLr5TLIxVkBU+tr5Tfnwu8zkkoPIG8gv8uxedhqv6I4gGaGIGiPkaGcE45iUcy3SdTqJtLNKSre+uGM+prNkPvj5FEiXHlXlURDhFYU3BBzjXu2m9/kawYZfF9VlXMWUteUXr+F5W1V2B4+in0Wo2aEsGu9c7JHOaJ0ktiRmhMu2Cp79XrSymJ1yf+7Fj8ffpSTuIzxLtJPnZMKYE1BTmzs3LJlRRZfVtW76mRX5+rsoqKe8Dh6fdRvoWnf4XKp9xJMDJ9L9owPV7fI47p1kwx9biJUpRc4g/rA1sL81i8fBJLlFvUK58xST/23Ps98sbJuRlI4EcFO2qlZtWtVCxfuGxd98Kw48C5DDP60S/nPMRV5dO+QiH5ImP3R4/QYI7HlvMolXL5gwQhngVdUqp9cG03H/1oFe15MpRM1MeTL4rqZmpKpqPoSy2S6bjm5PZwks+eWU1gTUEPP6yQe+a8NjhPke/85Tbq3304vnb4aKUezuFdqdTU89tT4Ho533iKfF/zi8rEHLfGdHN48+iUotGXKgGOIYfZmT2rlj7YdS7+WyJ8JV2NQ4tSXejqQ1oyvFf3HnX4oVqqMYS9brCqPti15+P3A73klsFB6wNmuaxy9ZW5GRHmRwU/jpwDu2jJGCXUva60/iblBt51yw0NcpCfTRHCKXrg2kt0Ya4OKdT34A0ll1jiMX5dTH+coWOpW8gN3SfDiJZArEm+V0ZuGIhGySqEuD2YEATgoMvmj6U1D1xCv375kDKJR08NZ31v2RCypCuY6EavsN7eQTrX0qL7EAgM1cX1L4ofMKb/VX2NJPfE5RAPhnqIgzwYdPbU59641R4598ZvWFxHYB2CHMBhl8thzjcnnT7TTTd/4RtkRyAQpLLysXKYF1E4XEtO6u3rI6u++k/nU0UYUWQH/tcDEMCY0WGaOnUmNTcfJSuCwRCVlFZSSUmlHObV8u/FyuOhUAk5oT3FekGZuOO2ifJFTlyHsQtB7lHtf1wx7MJZgaIqZT2WUGQ6ldZdjX01C8A1n/ssvfrabnIKh3lxcTk5oaMj+4Xjlt/VQDcuHkdgH4LcozjER1rKdlC+8V6evZ88p0zWiVz+NAXLMWnHrxbM/xt67fX9ZBdfDK2qHk/lDpVXurp7aGAg8wuds2dU0fK7J9MUjBt3DILcJzj0W/5vMVXOWYuRLT71N+eX099ePJn27mshO7gXXh2ZqNTMnTD3ojIKSGE6eGj48goH+KKrxmCEigsQ5D7De2uG5F45Si3+dMsNF9B/P/lXsqq4uIwqKsaQU2oiIbrrjlr5NoZOne6Tw7xHvnXR6dNDFz/HjCmlutGl9OlLa3BB00X4X9aHOt5fQ7V/t5nAf6ZdUE2XXHy+HJYD5AVXX5koj/AwQr7Nn1dDkFsFudaK33GZhTdvBn+67aYqKivN/55tl1xcRnMvxkJXXoAg9ynseO9fNZGg3BO2thSzc3+HkKE3DvmFIPepaPvHBP51+fz89obvvL2aaiOID6/AvwSAoG69sYqmTC6mXOM/d3wdNoHwEgS5B6RaXTGIVQchA3curaYZ03LXM+cQR13ce4QL8vb2dvIa3tDZjlQbOvPmy3aEMDHIEi+2r+GUlQXkMkeV6/Vqron/88pahLhHIcgd4MaGznY3X/biRslHjhwhrxMtyFUc5LfJveXaiPMlDy7f3P/lGs+XU0RoX24RLsh373ZurQmnuLGhM2/zZnXzZa9ulNzc3Exe58X2lalL5N7yirsjjvXOOcBX3BVRbl4Y7jgSEdqXW4QLci/+Y3GNu2b1rWRFug2deWceq5svl0+7z5MbJYsQkqKHwdDQxDB97aujLPfQ9QGej4upVon8IWyXcDM7vfqPVbX8Whps76a2dc9n/J6RNnRWN1/u3vsEZYo3SvbqWit79uwhr/NLGHCgcw+db8dPDCozQfnW2jZILa2D1Ns3tPtEbU1QqX+PH1eklE5mTC8Vovedigjtyy3Kv1hDQ4N3d2Q1qa6upg8//JC8qmvTNsc3dObJPT37nhh282URNkq+4oorPF/H9Hr7gvREaF9uEa5Hzhej3nnnHVqwYAF5UboNnTm8S2Y2WNrQmXvY3DvnJWv1my+LtFEy93RFudjp5fYFqYnSvtwi5KJZb7/9tqdPNDc2dOaad2lY3M2Xn3nmGRKF19sXJBOpfblByAlB/I8m6jCxQsXhKAq0L/GI1L7cIGSQ80n29NNPE4hh06ZNQn3tRfsSi2jtyw3CXexU8UWpt956S/kJ3ibiRSi0L3EU8kVOlbBrraDXJIZ169YJeZKhfYlB1PblNGF75KrNmzfTzJkzCbyHTzDuLYkM7cu7/NC+nCL86ocrV67EhSkP4n+TZcuWkejQvrzJL+3LKcr83Ugk8h0SFP+Dnj59mj7/+c8TeMf9999PO3bsINGhfXmTX9qXU4QPcqZOq77ssssI8o/rls899xz5BdqXt/itfTnBF0HOeDYew8mWX3ySPfbYY+Q3aF/e4Nf2ZZdvgpzxyca9p4ULF1JpKRbAzyUuQXzzm9/09Qw7tK/8KYT2ZYfwo1ZSmTRpEm3cuFH5Ce7jcOOLgoUyDAztK7cKrX1Z4cs9O9VhSfw1DNzDvST+33jx4sUFdZKhfeVGobYvK3zZI9fjXtOqVato6dKlBM5QJ8tgTRK0LzegfWXP90Gu4hOOV7Rbvnw5zZo1iyB7vDAR14lxgiVD+7IP7cu6gglyPfWk4xl7fNJNnDiR6uvrCYbwSdTW1qbsuMJbn3GN8vXXX8fJlSG0r+GhfTmvIIMcAMBPfHmxEwCgkCDIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHBqkDcRAAAISQ3y9wkAAISkBHkwGPw9AQCAkNQe+bPyrZUAAEAogUCgSQnypqamVrlX/iUCAAChyEH+UEj9pbW19eNIJFIr311AAAAggocOHTr0WEj/SFtb22tymAfkuwsJAAC87L8OHz78AN8JmZ+Rw/z3tbW1h+S7c+RbDQEAgJdwKfwfuCeuPhAY7tWNjY33SJJ0M9+Vf84hAADIhya5Fr5Tvr0h33+Wr2vqn/x/ww4N78LUCQYAAAAASUVORK5CYII= 2x",alt:""}),n.createElement("div",{className:of},(0,m.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging")),n.createElement("div",{className:o_},(0,m.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_description")),n.createElement(oq,null))))}function oq({}){let e=(0,r.wA)(),t="install-messaging-dropdown",a=(0,aS.Um)(),l=n.useRef(null),i=a?.type===t,o=[{displayText:(0,m.t)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install.figma_for_slack"),callback:()=>{e((0,tB.RK)({rawInput:"https://figma.slack.com/apps/A01N2QYSA81-figma-and-figjam?tab=more_info"}))}},{displayText:(0,m.t)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install.figma_for_teams"),callback:()=>{e((0,tB.RK)({rawInput:"https://appsource.microsoft.com/en-us/product/office/WA200004521?exp=ubp8"}))}}];return n.createElement(n.Fragment,null,n.createElement("div",{ref:l},n.createElement(N.$n,{variant:"primary",onClick:()=>{i?e(ib.oB()):e(ib.j7({type:t}))}},n.createElement("span",{className:"configuration_wizard--installButton--PPj7O"},(0,m.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install"),n.createElement(em.B,{svg:oY.A,className:"configuration_wizard--chevronDown--P7ECL"})))),i&&l.current&&n.createElement(oZ.j,{items:o,onSelectItem:t=>{t.callback&&t.callback("",null,e)},dispatch:e,parentRect:l.current.getBoundingClientRect(),showPoint:!1,lean:"right"}))}var oJ=a(94823);function oQ(){let e=(0,r.wA)(),t=(0,D.am)(),a=[{theme:"system",title:(0,m.t)("fullscreen_actions.theme.system_theme"),checked:"system"===t,onSelect:()=>{e(oJ.Qh({theme:"system",userInitiated:!0}))},ModeSvg:o1},{theme:"light",title:(0,m.t)("fullscreen_actions.theme.light"),checked:"light"===t,onSelect:()=>{e(oJ.Qh({theme:"light",userInitiated:!0}))},ModeSvg:o$},{theme:"dark",title:(0,m.t)("fullscreen_actions.theme.dark"),checked:"dark"===t,onSelect:()=>{e(oJ.Qh({theme:"dark",userInitiated:!0}))},ModeSvg:o0}];return n.createElement("div",{className:oi},n.createElement("h1",{className:oE},(0,m.tx)("dev_handoff.configuration_wizard.theme_step.title")),n.createElement("h2",{className:oy},(0,m.tx)("dev_handoff.configuration_wizard.theme_step.description")),n.createElement(i1.z,{value:String(t),onChange:t=>e(oJ.Qh({theme:t,userInitiated:!0})),className:oc},a.map(({theme:e,title:t,checked:a,onSelect:r,ModeSvg:l})=>n.createElement("div",{tabIndex:0,role:"radio","aria-checked":a,key:e,onPointerDown:r,onKeyDown:e=>{"Enter"===e.key&&r()},className:A()("configuration_wizard--modeOptionCard--0rFq6 configuration_wizard--preferenceOption--OkUN2",a&&ou)},n.createElement("div",{className:"configuration_wizard--modeImage--TZBtz"},n.createElement(l,null)),n.createElement("div",{className:of},t)))))}function o$(){return n.createElement("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"Design"},n.createElement("rect",{width:"120",height:"80",fill:"#F5F5F5"}),n.createElement("rect",{id:"Rectangle 47",width:"120",height:"80",fill:"#E5E5E5"}),n.createElement("g",{id:"Group 14125"},n.createElement("g",{id:"Group 14124"},n.createElement("rect",{id:"Rectangle 52",x:"48.3502",y:"24.3512",width:"24.9782",height:"39.8305",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("ellipse",{id:"Ellipse 278",cx:"53.7509",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"black",fillOpacity:"0.3"}),n.createElement("rect",{id:"Rectangle 53",x:"59.489",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{id:"Rectangle 59",x:"50.7129",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0D99FF"}),n.createElement("rect",{id:"Rectangle 55",x:"50.7129",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{id:"Rectangle 57",x:"50.7131",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{id:"Rectangle 60",x:"50.7129",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"})),n.createElement("rect",{id:"Rectangle 2154",x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{id:"Rectangle 2155",x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{id:"Rectangle 2156",x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{id:"Rectangle 2157",x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"})),n.createElement("rect",{id:"Rectangle 50",width:"26.0423",height:"80",fill:"white"}),n.createElement("rect",{id:"Rectangle 11539",x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{id:"Rectangle 11548",x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{id:"Rectangle 11547",x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{id:"Rectangle 11549",x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{id:"Rectangle 11550",x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{id:"Rectangle 11546",x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{id:"Rectangle 51",x:"92",width:"28",height:"80",fill:"white"}),n.createElement("rect",{id:"Rectangle 11534",x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#CE7012"}),n.createElement("rect",{id:"Rectangle 11553",x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#8638E5"}),n.createElement("rect",{id:"Rectangle 11554",x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#EA10AC"}),n.createElement("rect",{id:"Rectangle 11536",x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#8638E5"}),n.createElement("rect",{id:"Rectangle 11537",x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#007BE5"}),n.createElement("rect",{id:"Rectangle 11552",x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#009951"}),n.createElement("rect",{id:"Rectangle 11538",x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#CE7012"}),n.createElement("rect",{id:"Rectangle 49",width:"120",height:"8",fill:"#1E1E1E"}),n.createElement("rect",{id:"Rectangle 48",x:"8",width:"8",height:"8",fill:"#14AE5C"})))}function o0(){return n.createElement("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"Design"},n.createElement("rect",{width:"120",height:"80",fill:"#383838"}),n.createElement("rect",{id:"Rectangle 47",width:"120",height:"80",fill:"black"}),n.createElement("g",{id:"Group 14125"},n.createElement("g",{id:"Group 14124"},n.createElement("rect",{id:"Rectangle 52",x:"48.35",y:"24.3512",width:"24.9782",height:"39.8305",fill:"#3E3E3E",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("ellipse",{id:"Ellipse 278",cx:"53.7507",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"#B2B2B2"}),n.createElement("rect",{id:"Rectangle 53",x:"59.4888",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{id:"Rectangle 59",x:"50.7126",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0C8CE9"}),n.createElement("rect",{id:"Rectangle 55",x:"50.7126",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{id:"Rectangle 57",x:"50.7129",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{id:"Rectangle 60",x:"50.7126",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"})),n.createElement("rect",{id:"Rectangle 2154",x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{id:"Rectangle 2155",x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{id:"Rectangle 2156",x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{id:"Rectangle 2157",x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"})),n.createElement("rect",{id:"Rectangle 50",width:"26.0423",height:"80",fill:"#1E1E1E"}),n.createElement("rect",{id:"Rectangle 11539",x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{id:"Rectangle 11548",x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{id:"Rectangle 11547",x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{id:"Rectangle 11549",x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{id:"Rectangle 11550",x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{id:"Rectangle 11546",x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{id:"Rectangle 51",x:"92",width:"28",height:"80",fill:"#1E1E1E"}),n.createElement("rect",{id:"Rectangle 49",width:"120",height:"8",fill:"#1E1E1E"}),n.createElement("rect",{id:"Rectangle 48",x:"8",width:"8",height:"8",fill:"#198F51"}),n.createElement("rect",{id:"Rectangle 11534",x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),n.createElement("rect",{id:"Rectangle 11553",x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#D1A8FF"}),n.createElement("rect",{id:"Rectangle 11554",x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#FC9CE0"}),n.createElement("rect",{id:"Rectangle 11536",x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#D1A8FF"}),n.createElement("rect",{id:"Rectangle 11537",x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#7CC4F8"}),n.createElement("rect",{id:"Rectangle 11552",x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#79D297"}),n.createElement("rect",{id:"Rectangle 11538",x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#FCB34A"})))}function o1(){return n.createElement("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"120",height:"80",fill:"black"}),n.createElement("rect",{width:"120",height:"80",fill:"black"}),n.createElement("rect",{x:"48.35",y:"24.3512",width:"24.9782",height:"39.8305",fill:"#3E3E3E",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("ellipse",{cx:"53.7507",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"#B2B2B2"}),n.createElement("rect",{x:"59.4888",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{x:"50.7126",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0C8CE9"}),n.createElement("rect",{x:"50.7126",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{x:"50.7129",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{x:"50.7126",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{width:"26.0423",height:"80",fill:"#1E1E1E"}),n.createElement("rect",{x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{x:"92",width:"28",height:"80",fill:"#1E1E1E"}),n.createElement("rect",{width:"120",height:"8",fill:"#1E1E1E"}),n.createElement("rect",{x:"8",width:"8",height:"8",fill:"#198F51"}),n.createElement("rect",{x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),n.createElement("rect",{x:"96",y:"42",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),n.createElement("rect",{x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#D1A8FF"}),n.createElement("rect",{x:"104",y:"42",width:"13",height:"2",rx:"1",fill:"#009951"}),n.createElement("rect",{x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#FC9CE0"}),n.createElement("rect",{x:"96",y:"37",width:"16",height:"2",rx:"1",fill:"#FC9CE0"}),n.createElement("rect",{x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#D1A8FF"}),n.createElement("rect",{x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#7CC4F8"}),n.createElement("rect",{x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#79D297"}),n.createElement("rect",{x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#FCB34A"}),n.createElement("mask",{id:"mask0_3979_274036",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"8",width:"120",height:"72"},n.createElement("path",{d:"M120 8V80H0L120 8Z",fill:"#C4C4C4"})),n.createElement("g",{mask:"url(#mask0_3979_274036)"},n.createElement("rect",{width:"120",height:"80",fill:"#F5F5F5"}),n.createElement("rect",{width:"120",height:"80",fill:"#E5E5E5"}),n.createElement("rect",{x:"48.3502",y:"24.3512",width:"24.9782",height:"39.8305",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("ellipse",{cx:"53.7509",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"black",fillOpacity:"0.3"}),n.createElement("rect",{x:"59.489",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{x:"50.7129",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0D99FF"}),n.createElement("rect",{x:"50.7129",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{x:"50.7131",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{x:"50.7129",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{width:"26.0423",height:"80",fill:"white"}),n.createElement("rect",{x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{x:"92",width:"28",height:"80",fill:"white"}),n.createElement("rect",{x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#CE7012"}),n.createElement("rect",{x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#8638E5"}),n.createElement("rect",{x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#EA10AC"}),n.createElement("rect",{x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#8638E5"}),n.createElement("rect",{x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#007BE5"}),n.createElement("rect",{x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#009951"}),n.createElement("rect",{x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#CE7012"})))}var o2=a(70964);function o5(){let e=(0,g.J)(),t=(0,v.tS)()??"",a=(0,d.Rs)(b.oBY,{key:t}),r=(0,y.M)();return e&&a?.data?.file?.hasPermission&&r?n.createElement("h2",{className:"configuration_wizard--gracePeriodWelcome--16eIy text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,m.tx)("dev_handoff.configuration_wizard.welcome_step.description_grace_period",{numDays:r.totalGraceDays})):n.createElement(n.Fragment,null,n.createElement("h1",{className:oE},(0,m.tx)("dev_handoff.configuration_wizard.welcome_step.title")),n.createElement("h2",{className:oy},(0,m.tx)("dev_handoff.configuration_wizard.welcome_step.description")))}function o3(){return n.createElement("div",{className:oi},n.createElement(o5,null),n.createElement("div",{className:"configuration_wizard--welcomeVideo--PNKpG"},n.createElement(o2.GV,{src:"https://static.figma.com/uploads/ea250827f5a3454fccafb18ae2f37229cd406810",width:444,height:278})),n.createElement("div",{className:os}))}var o4=(e=>(e[e.WELCOME=0]="WELCOME",e[e.CODE_LANGUAGE_N_UNIT=1]="CODE_LANGUAGE_N_UNIT",e[e.THEME=2]="THEME",e[e.INSPECT_PLUGINS=3]="INSPECT_PLUGINS",e[e.INSTALL_INTEGRATIONS=4]="INSTALL_INTEGRATIONS",e))(o4||{});let o6={0:"welcome_step",1:"code_language_step",2:"theme_step",3:"inspect_plugins_step",4:"install_extensions_step"},o7=(0,e6.sL)()?[1,2]:[1,2,3,4];function o8(){let e=(0,l.md)(f),[t,a]=ee(),i=(0,r.wA)(),o=(0,v.tS)()??"",s=(0,d.Rs)(b.oBY,{key:o}),u=(0,g.J)(),{isShowing:m,uniqueId:p,show:h,complete:y}=(0,E.e)({overlay:S.tb3,priority:C.N.HIGH_PRIORITY_MODAL},[e,s]);return(0,c.h)(()=>{u?h({canShow:(e,t)=>!e&&t?.file?.hasPermission!==void 0}):h({canShow:e=>!e})}),(0,iG.E)(p,"Reset Onboarding",()=>{i(q.b({[_]:!1})),h()}),(0,n.useEffect)(()=>{m&&a(!0)},[m,a]),n.createElement(iC.M,{isShowing:m,testId:"dev_handoff_config_wizard"},n.createElement(M.fu,{name:"Dev Mode Configuration Wizard"},n.createElement(B.Nb,{hide:y,size:"fitContent",disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,noPadding:!0},n.createElement(se,{dismissModal:y}))))}let o9=()=>{let{pinnedPlugins:e}=(0,i5.VR)();return e.length>0};function se({dismissModal:e}){let t=(0,eN.U)(),[a,l]=(0,n.useState)(0),i=(0,r.wA)(),o=o9(),s=n.useRef(null),c=(0,i2.ru)(),u=(0,ex.q)(),p=(0,v.tS)()??"",f=d.Rs(b.oBY,{key:p})?.data?.file?.hasPermission,h=(0,v.q5)(),g=(0,eS.ol)(),E=(0,d.Rs)(b.kQI,{id:g?.id||""},{enabled:!!g?.id}),y=u&&c(h,!!E.data?.team?.hasPermission)&&f,C=()=>{s.current&&s.current.focus()};n.useEffect(()=>{C()},[a]);let w=n.useCallback(()=>{e(),i(q.b({[_]:!0})),o&&i(q.b({[tF.xb]:!0}))},[i,o,e]),T=n.useCallback(()=>{l(a+1)},[a]),S=n.useCallback(()=>{l(a-1)},[l,a]),x=0===a,k=a===o7[o7.length-1];return n.createElement("div",{className:A()("configuration_wizard--wizardContainer--gss4b",ep.Dm),tabIndex:-1,ref:s},n.createElement("div",{className:"configuration_wizard--closeButton--pv-0K"},n.createElement(eK.K,{onClick:function(){w(),t("dev_handoff.config_wizard.closed",{step:a,stepName:o6[a]})},"aria-label":(0,m.t)("general.close")},n.createElement(i0.A,null))),n.createElement("div",{className:"configuration_wizard--sidebar--g-2b8"},y?n.createElement("h1",{className:"configuration_wizard--sidebarHeadingTrial--tkxTS text--fontPos24WhyteInktrap--pgrWi text--_fontBaseWhyteInktrap--YiiGP"},(0,m.tx)("dev_handoff.configuration_wizard.title_trial",{lineBreak:n.createElement("br",null)})):n.createElement("h1",{className:"configuration_wizard--sidebarHeading--xnYnE text--fontPos32WhyteInktrap--BG9sC text--_fontBaseWhyteInktrap--YiiGP"},(0,m.tx)("dev_handoff.configuration_wizard.title")),n.createElement("h2",{className:"configuration_wizard--sidebarSubheading--ta8gQ text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,m.tx)("dev_handoff.configuration_wizard.subtitle")),n.createElement("div",{className:os}),n.createElement(st,{step:a,setStep:l,disabled:0===a})),n.createElement("div",{className:"configuration_wizard--content--hktpZ"},0===a&&n.createElement(o3,null),1===a&&n.createElement(oM,null),2===a&&n.createElement(oQ,null),3===a&&n.createElement(oW,null),4===a&&n.createElement(oX,null),n.createElement("div",{className:"configuration_wizard--footer--YjGGh"},x?n.createElement(n.Fragment,null,n.createElement("div",{className:oo},n.createElement("div",{className:os}),n.createElement(N.$n,{onClick:T,variant:"primary"},(0,m.tx)(`dev_handoff.configuration_wizard.${o6[a]}.next_text`)))):k?n.createElement("div",{className:oo},n.createElement("div",{className:os}),n.createElement(N.$n,{variant:"secondary",onClick:S},(0,m.tx)("general.back")),n.createElement(N.$n,{variant:"primary",onClick:function(){w(),t("dev_handoff.config_wizard.done",{step:a,stepName:o6[a]})}},(0,m.tx)("general.done"))):n.createElement("div",{className:oo},n.createElement("div",{className:os}),n.createElement(N.$n,{variant:"secondary",onClick:S},(0,m.tx)("general.back")),n.createElement(N.$n,{variant:"primary",onClick:T},(0,m.tx)(`dev_handoff.configuration_wizard.${o6[a]}.next_text`))))))}function st({step:e,setStep:t,disabled:a}){return n.createElement(i1.z,{value:String(e),onChange:e=>{a||t(Number.parseInt(e,10))},className:A()("configuration_wizard--stepPicker--Ffab-",a&&"configuration_wizard--disabledStepPicker--Ib2IX")},o7.map(r=>{let l=r===e,i=()=>{a||t(r)};return n.createElement("div",{tabIndex:a?-1:0,role:"radio","aria-checked":l,key:r,onPointerDown:i,onKeyDown:e=>{"Enter"===e.key&&i()},className:A()("configuration_wizard--stepPickerOption--5Iqtt",l&&"configuration_wizard--selectedStepPickerOption--wndji",a&&"configuration_wizard--disabledStepPickerOption--9tTeN")},n.createElement("div",{className:"configuration_wizard--stepPickerOptionNumber--3GVYZ text--fontPos18Whyte--M40th text--_fontBaseWhyte--efAjI"},`0${r}`),n.createElement("div",{className:"configuration_wizard--stepPickerOptionText--KmSjp text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,m.tx)(`dev_handoff.configuration_wizard.${o6[r]}.picker_title`)))}))}var sa=a(96796),sn=a(463420),sr=a(933992),sl=a(179220),si=a(176572),so=a(286640);let ss={top:"ns-resize",bottom:"ns-resize",left:"ew-resize",right:"ew-resize"};function sc(e){let{onSizeChanged:t,onStateChanged:a,edge:r}=e,l=n.useRef({isResizing:!1,lastX:0,lastY:0}),i=n.useCallback(e=>{a?.(!0),l.current.isResizing=!0,l.current.lastX=e.clientX,l.current.lastY=e.clientY,document.body.style.pointerEvents="none",document.documentElement.style.cursor=ss[r]},[a,r]),o=n.useCallback(e=>{l.current.isResizing&&(t({x:e.clientX-l.current.lastX,y:e.clientY-l.current.lastY}),l.current.lastX=e.clientX,l.current.lastY=e.clientY)},[t]),s=n.useCallback(e=>{l.current.isResizing&&(a?.(!1),l.current.isResizing=!1,document.body.style.pointerEvents="auto",document.documentElement.style.cursor="auto")},[a]);return n.useEffect(()=>(document.addEventListener("mousemove",o),document.addEventListener("mouseup",s),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",s)}),[o,s]),n.createElement("div",{className:A()("resizable--panelContainer--35Ay7",ep.Dm),style:{width:e.size.width,minWidth:e.size.width,height:e.size.height,minHeight:e.size.height},ref:e.forwardedRef},n.createElement(l4.V,{className:"resizable--content--gsGWd"},e.children),n.createElement("div",{className:A()({"resizable--edgeDisabled--K1j0X":e.disabled,"resizable--edgeTop--vG5Ad resizable--edge--H5-yq":"top"===e.edge,"resizable--edgeBottom--bN-R0":"bottom"===e.edge,"resizable--edgeLeft--nRRyA":"left"===e.edge,"resizable--edgeRight--ZGbad":"right"===e.edge}),onMouseDown:i,onDoubleClick:e.onReset}))}var sd=a(428654),su=a(356390),sm=a(543841),sp=a(601607),s_=a(393812),sf=a(786110),sh=a(860168);let sg="dev_handoff_layers_panel--hideCaret--JgPdQ";var sE=a(432023);let sy=(0,nx.jz)(sh.KAq),sv=(0,nx.jz)(sh.tUy);function sb(e,t,a){let n=[],r=[t];for(;r.length>0;){let l=r.pop(),i=e.get(l);if(i&&(l===t||a(i)))for(let e of(n.push(l),i?.childrenGuids??[]))r.push(e)}return n}function sC(e){return!!e&&e.isAlive()&&"INSTANCE"!==e.type&&!(0,sf.vY)(tv.w3z.getAssetInfo(e.guid),!0)}let sw=(0,tW.eU)([]);function sT({inspectableRootNodeId:e,page:t,didSelectRow:a,hideHeader:i=!1}){let o=(0,r.wA)(),s=(0,tH.eY)(),c=(0,eo.uQ)(),d=(0,eo.NM)(),u=e||t,[m,p]=n.useState(()=>0===tv.glU.nodeStatusesOnPage(t).length||i),[_,f]=(0,l.fp)(sw);n.useEffect(()=>{p(0===tv.glU.nodeStatusesOnPage(t).length)},[t]);let h=n.useCallback(()=>{f(()=>[u])},[f,u]),g=n.useCallback(e=>{f(t=>[...t,...sb(s,e,sC)])},[s,f]),E=n.useCallback((e,t)=>f(a=>a.includes(t)?a.filter(e=>e!==t):e.altKey?[...a,t,...sb(s,t,sC)]:[...a,t]),[s,f]),y=n.useCallback(e=>_.includes(e),[_]),v=function(e,t){let a=(0,tH.eY)();return n.useMemo(()=>{let n=[];if(t){let r=a.get(t)?.parentGuid;for(;r&&r!==e;)n.push(r),r=a.get(r)?.parentGuid}return n.push(e),n},[a,e,t])}(u,c??"");n.useEffect(()=>{f(e=>[...e,...v])},[v,f]);let b=n.useCallback((e,t)=>{e.stopPropagation(),e.preventDefault();let{clientX:a,clientY:n}=e;o(ib.j7({type:ep.i,data:{clientX:a,clientY:n,guid:t,expandElement:()=>g(t)}}))},[o,g]),C=(0,tH.KH)(),w=n.useMemo(()=>{let t=i?[]:["header"];return m||e||d?[...t,...function e(t,a,n,r,l,i,o){let s=a.get(t);if(!s)return[];let c=t in n,d={nodeId:t,indentation:l,isSelected:c,isAncestorSelected:i,isRoot:o};if(!r(t))return[d];let u="CANVAS"===s.type,m=s.childrenGuids.flatMap(t=>e(t,a,n,r,l+(u?0:1),i||c,!1));return u?m:[d,...m]}(u,s,C,y,0,!1,!0)]:t},[e,y,m,u,s,C,d,i]),T=n.useRef(null),S=(0,sl.Te)({count:w.length,getScrollElement:()=>T.current,estimateSize:e=>0!==e||i?sy:sv,overscan:10});return n.createElement("div",{ref:T,style:{height:"100%",overflow:"auto"},"data-testid":"devHandoffLayersPanel"},n.createElement("div",{style:{height:`${S.getTotalSize()}px`,width:"100%",position:"relative"}},S.getVirtualItems().map(t=>{let r=w[t.index];return n.createElement("div",{key:t.key,style:{position:"absolute",top:0,left:0,width:"100%",height:`${t.size}px`,transform:`translateY(${t.start}px)`}},"header"===r?n.createElement(sS,{forceExpanded:!!e||!!d,isExpanded:m,setIsExpanded:p,collapseAllLayers:h}):n.createElement(sf.O5,{key:r.nodeId,guid:r.nodeId,toggleExpanded:E,isExpanded:y,openContextMenu:b,didSelectRow:a,indentation:r.indentation,isSelected:r.isSelected,isAncestorSelected:r.isAncestorSelected,isRoot:r.isRoot}))})))}function sS({isExpanded:e,forceExpanded:t,setIsExpanded:a,collapseAllLayers:r}){let l=[{displayText:(0,m.t)("dev_handoff.layers.collapse_all_layers"),callback:()=>r()}],i=(0,tn.GS)(),o=`devHandoffNodesPanel.caret.${t?"forcedExpanded":e?"expanded":"collapsed"}`;return n.createElement("div",{className:A()("dev_handoff_layers_panel--layersListHeader--gQFn- text--fontPos11--2LvXf text--_fontBase--QdLsd",{"dev_handoff_layers_panel--bottomLine--v9zno":!(e||t)&&!i})},n.createElement(x.E,{className:"dev_handoff_layers_panel--layersListHeaderButton--MlUHF",onClick:()=>!t&&a(!e),actionOnPointerDown:!0},n.createElement("div",{className:"dev_handoff_layers_panel--layersListHeaderButtonContent--qRCB5"},i&&(e?n.createElement(sa.O,{"data-testid":o,className:t?sg:void 0}):n.createElement(sn.k,{"data-testid":o,className:t?sg:void 0})),!i&&n.createElement(em.B,{className:A()("dev_handoff_layers_panel--expandCaret--2ZbrU",{[sg]:t}),svg:e?ey.A:sE.A,dataTestId:o}),n.createElement("div",{className:"dev_handoff_layers_panel--layersTitle--sU99L text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(0,m.tx)("dev_handoff.tag.layers")))),(e||t)&&n.createElement(sN,{dropdownItems:l}))}function sN({dropdownItems:e}){let{Dropdown:t,toggleDropdown:a,dropdownTargetRef:r,isDropdownShown:l}=(0,tu.B)("LAYERS_PANEL_DROPDOWN");function i(e){e.stopPropagation(),a()}return n.createElement(n.Fragment,null,n.createElement("div",{ref:r},(0,e6.kc)().dt_fpl_migration?n.createElement(e0.d,{"aria-label":(0,m.t)("dev_handoff.code.options"),toggled:l,onClick:i,htmlAttributes:{"data-tooltip":(0,m.t)("dev_handoff.code.options"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(e2.J,null)):n.createElement(ak.YW,{svg:rA.A,onMouseDown:e=>e.stopPropagation(),onClick:i,"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":(0,m.t)("dev_handoff.code.options"),selected:l})),n.createElement(t,{items:e,showPoint:!0}))}var sx=a(354894),sk=a(721409);let sI=(0,nx.jz)(sh.LDP),sA=(0,nx.jz)(sh.Rv9),sL=(0,nx.jz)(sh.tUy),sO=(0,tW.eU)([]);function sR(e){let{guid:t,hasChildren:a,isExpanded:l,toggleExpand:i,isSelected:o,nameOverride:s,hideSectionIcon:c}=e,d=(0,iD.J2)((0,lx.UK)().showGuids),u=(0,sp.Fk)((e,t)=>{let a=e.get(t);return a?{guid:a.guid,name:a.name,isStateGroup:a.isStateGroup}:null},t),m=u?.name,p=s??m,_=u?.guid,f=u?.isStateGroup,h=(0,tD.rf)(`devHandoffNodesPanel-targetIcon-${m}`,"click",e=>{(0,iM.S)("sections_frames_list"),lY.w3z.selectAndFocusOnNode(t,!0)}),g=(0,tD.rf)(`devHandoffNodesPanel-${m}`,"click",e=>{e.stopPropagation(),i?.()}),E=(0,r.wA)(),y=n.useCallback(e=>{e.stopPropagation(),e.preventDefault();let{clientX:t,clientY:a}=e;_&&E(ib.j7({type:ep.i,data:{clientX:t,clientY:a,guid:_}}))},[E,_]);if(!_)return null;let v=A()("dev_handoff_nodes_panel--expandCaret--EdbSv",{"dev_handoff_nodes_panel--expandCaretNoIcon--VTPwj":c});return n.createElement("div",{className:A()("dev_handoff_nodes_panel--sectionHeader--qDUGd",o?rr:rn),onMouseDown:h,onContextMenu:y,role:"button",tabIndex:0,"data-fullscreen-intercept":!0},a?n.createElement(em.B,{className:v,svg:l?ey.A:sE.A,onMouseDown:g}):n.createElement("div",{className:v}),!c&&n.createElement(tm.Bf,{className:A()("dev_handoff_nodes_panel--layerIcon--aZvoO",{"dev_handoff_nodes_panel--symbolLayerIcon--D0Mch dev_handoff_nodes_panel--layerIcon--aZvoO":f}),guid:_}),n.createElement("div",{className:A()("dev_handoff_nodes_panel--sectionName--qx-3z text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",{"dev_handoff_nodes_panel--symbolName--IoUUt dev_handoff_nodes_panel--sectionName--qx-3z text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":f})},d?`${p} (${t})`:p))}let sM=n.memo(function(e){let{guid:t,isSelected:a,onClick:i}=e,o=(0,iD.J2)((0,lx.UK)().showGuids),[s,c]=n.useState(!1),d=function(e){(0,eo.uQ)();let t=(0,er.R)(e=>!(0,s_.Mx)(e));return a=>(0,aT.Uc)(a&&t?e:"")}(t),u=(0,l.md)(tt.d),p=sD(t),_=(0,eZ.E1)(),f=(0,eZ.ei)(t),h=(0,eZ.L)(t,_,u),g=n.useMemo(()=>f?(0,e4.A)(f.lastEditedAt).fromNow():"",[f]),E=(0,iD.J2)(lY.Ez5.devHandoffState().focusAnimationIsRunning),{width:y=0,height:v=0}=p??{},b=y>2.5*v,C=v>2.5*y,w=y<1||v<1?{width:0,height:0}:b?{height:80,width:y/v*80}:C?{width:48,height:v/y*48}:{width:48,height:80},T=(0,sm.yh)({nodeId:t,width:2*w.width,height:2*w.height,version:f?.lastEditedAt??"-",reason:"dev_handoff_nodes_panel.thumbnail",shouldSkip:E,regenerateAfterImagesLoaded:!0}),S=(0,tD.rf)(`devHandoffNodesPanel-${p?.name??""}`,"click",e=>{(0,iM.S)("sections_frames_list"),lY.w3z.selectAndFocusOnNode(t,!0),e?.currentTarget?.blur(),i&&i(e)}),N=(0,r.wA)(),x=n.useCallback(e=>{e.stopPropagation(),e.preventDefault();let{clientX:a,clientY:n}=e;N(ib.j7({type:ep.i,data:{clientX:a,clientY:n,guid:t}}))},[N,t]);if(!p)return null;let k=e=>{c(e),d(e)},I=f?.lastEditedAt,L=T?{backgroundColor:e.thumbnailBackgroundColor}:void 0;return n.createElement("div",{className:A()(a?rr:rn,"dev_handoff_nodes_panel--itemWithThumbnail--t0s4E"),onMouseDown:S,onContextMenu:x,role:"button",tabIndex:0,onMouseEnter:()=>{k(!0)},onMouseLeave:()=>k(!1),"data-fullscreen-intercept":!0},n.createElement("div",{className:"dev_handoff_nodes_panel--thumbnailContainer--y8uEp",style:L},T&&n.createElement("img",{src:T.src,className:A()("dev_handoff_nodes_panel--thumbnailImg--yRcCn",b&&"dev_handoff_nodes_panel--thumbnailImgLong--5eP8l",C&&"dev_handoff_nodes_panel--thumbnailImgTall--iJO4k"),alt:(0,m.t)("dev_handoff.nodes_panel.thumbnail_alt_text")})),n.createElement("div",{className:"dev_handoff_nodes_panel--nodeNameAndTimestampContainer--egq48 text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("div",{className:"dev_handoff_nodes_panel--nodeNameAndTimestamp--HcL87"},n.createElement("div",{className:"dev_handoff_nodes_panel--nodeName--5SQVr ellipsis--ellipsis--Tjyfa"},o?`${p.name} (${t})`:p.name),I?n.createElement("div",{className:"dev_handoff_nodes_panel--tlfPanelTimestampContainer---u-Ju"},n.createElement(rM,{state:h,backgroundState:a?"selected":s?"hovered":null}),n.createElement("div",{className:"dev_handoff_nodes_panel--editedTimestamp--nShNo"},f?.createdAt&&(h===eZ.Uy.RECENTLY_CREATED||f.createdAt===f.lastEditedAt)?n.createElement("span",{className:rl},(0,m.tx)("dev_handoff.nodes_panel.created",{at:g})):n.createElement("span",{className:rl},(0,m.tx)("dev_handoff.nodes_panel.edited",{at:g})))):p.isSymbol&&n.createElement("div",{className:"dev_handoff_nodes_panel--timestampContainer--dGH49"},n.createElement(tm.Bf,{className:rh,guid:t}),n.createElement("span",{className:"dev_handoff_nodes_panel--layerTypeSymbol--BuyoH text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},p.type)))))}),sD=e=>(0,sp.Fk)((e,t)=>{let a=(0,eo.Zl)(e,t);if(!a)return null;let n=a.isState?a.parentNode:null,r=n?.name||a.name;return{id:a.guid,name:r,width:a.size.x,height:a.size.y,type:(0,te.bg)(a,n),isSymbol:a.isStateGroup||"SYMBOL"===a.type||"INSTANCE"===a.type}},e);function sP({items:e,selectedNodeId:t,inReadySectionTopLevelNodeId:a,onRowClick:r}){let i=n.useRef(null),o=e.length>0,[s,c]=(0,l.fp)(sO),d=function(){let{currentPage:e}=(0,er.R)(e=>({currentPage:e.mirror.appModel.currentPage})),t=(0,sp.Fk)((e,t)=>e.get(t)?.backgroundColor,e);return t?sd.F.format(t):"var(--color-bg)"}(),[u,p]=n.useState(!0),_=(0,tn.GS)(),f=n.useMemo(()=>Math.min(e.length*sI,400)+7+(_?0:sL),[e.length,_]),[h,g]=(0,so.Vc)("ready-panel-height-storage-key",f),E=o?`calc(max(${sI}px, min(60%, ${h}px)))`:"fit-content";n.useEffect(()=>{if(!t)return;let a=e.find(e=>e.childNodeIds.includes(t))?.guid;a&&c(e=>e.includes(a)?e.filter(e=>e!==a):e)},[e,t,c]);let y=n.useMemo(()=>{let t=!1;return[..._?[]:[{type:"header"}],...e.flatMap(e=>{if(e.isSection){let a=s.includes(e.guid);return a||(t=!0),[{type:"section",sectionId:e.guid,displayName:e.sectionNames.fill("...",1,-1).join(" / "),hasChildren:e.childNodeIds.length>0},...a?[]:e.childNodeIds.map(e=>({type:"node",nodeId:e}))]}return t?(t=!1,[{type:"divider"},{type:"node",nodeId:e.guid}]):{type:"node",nodeId:e.guid}})]},[s,_,e]),v=n.useMemo(()=>{let e=[];return y.forEach((t,a)=>{"section"===t.type&&e.push(a)}),e},[y]),b=n.useRef(),C=e=>b.current===e,w=n.useRef(null),T=(0,sl.Te)({count:y.length,estimateSize:e=>{let t=y[e].type;return"node"===t?sI:"header"===t?sL:"divider"===t?16:sA},getScrollElement:()=>w.current,overscan:10,rangeExtractor:n.useCallback(e=>(b.current=[...v].reverse().find(t=>e.startIndex>=t),b.current)?[...new Set([b.current,...(0,si.vp)(e)])].sort((e,t)=>e-t):(0,si.vp)(e),[v])}),S=n.createElement("div",{className:"dev_handoff_nodes_panel--panelTitle--wcEcM text--fontPos11--2LvXf text--_fontBase--QdLsd",style:{padding:_?0:void 0}},(0,m.tx)("dev_handoff.tag.ready_for_development"));n.useEffect(()=>{let e=y.findIndex(e=>"node"===e.type&&a===e.nodeId);-1!==e&&T.scrollToIndex(e)},[y,a,T]);let N=n.useCallback(e=>g(t=>t+e.y),[g]),k=n.useCallback(()=>g(i.current.clientHeight),[g]),I=n.useCallback(()=>g(f),[g,f]);return n.createElement(n.Fragment,null,_&&n.createElement(x.E,{className:A()([sx.RE,"dev_handoff_nodes_panel--focusVisible--KtjCp"]),"aria-label":(0,m.t)("dev_handoff.tag.ready_for_development"),onClick:()=>p(e=>!e)},n.createElement("div",{className:sx.Pz},u?n.createElement(sa.O,null):n.createElement(sn.k,null),S)),n.createElement(sc,{edge:"bottom",size:{height:_&&!u?0:E},onSizeChanged:N,onStateChanged:k,onReset:I,forwardedRef:i,disabled:!o},u&&n.createElement("div",{"data-testid":"devHandoffNodesPanel.readyList",style:{height:"100%",overflow:"auto"},ref:w},o?n.createElement("div",{style:{height:`${T.getTotalSize()}px`,width:"100%",position:"relative"}},T.getVirtualItems().map(e=>{let l;let i=y[e.index];return l="header"===i.type?S:"divider"===i.type?n.createElement("div",{className:"dev_handoff_nodes_panel--readyNodesDivider--QAmcF"}):"section"===i.type?n.createElement(sR,{guid:i.sectionId,hideSectionIcon:!0,hasChildren:i.hasChildren,isExpanded:!s.includes(i.sectionId),toggleExpand:()=>{c(e=>e.includes(i.sectionId)?e.filter(e=>e!==i.sectionId):[...e,i.sectionId])},isSelected:t===i.sectionId,nameOverride:i.displayName}):n.createElement(sM,{guid:i.nodeId,thumbnailBackgroundColor:d,isSelected:a===i.nodeId,onClick:r}),n.createElement("div",{key:e.key,style:{..."section"===i.type?{zIndex:1}:{},...C(e.index)?{position:"sticky"}:{position:"absolute",transform:`translateY(${e.start}px)`},top:0,left:0,width:"100%",height:`${e.size}px`}},l)})):n.createElement(n.Fragment,null,!_&&S,n.createElement(sB,null)))))}function sF(){return(0,e8.s)()?n.createElement(N.$n,{variant:"secondary","aria-label":String((0,m.tx)("fullscreen_actions.ready-status-add")),iconPrefix:n.createElement(sr.A,null),onClick:()=>su.Y5.triggerAction("add-selection-ready-status")},(0,m.tx)("fullscreen_actions.ready-status-add")):null}function sB(){let e=(0,tH.p8)("isSceneReadOnly"),t=(0,e8.s)();return e?n.createElement("div",{className:ri},n.createElement(em.B,{svg:sk.A,className:ro}),n.createElement("div",{className:rs},(0,m.tx)("dev_handoff.tag.ready_for_development.content_view_only"))):n.createElement("div",{className:ri},t?n.createElement(sF,null):n.createElement(n.Fragment,null,n.createElement(em.B,{svg:sk.A,className:ro}),n.createElement("div",{className:rs},(0,m.tx)("dev_handoff.status.ready_for_development.content"))))}function sU(e,t){let a=n.useRef(!1),r=n.useCallback(e=>{e!==t&&(a.current=!0)},[t]),{inspectableRootNodeId:l}=sH(e,t),i=n.useRef(null),o=n.useMemo(()=>t&&a.current?(a.current=!1,i.current):l,[t]);return i.current=o,{inspectableRootNodeId:o,didSelectRow:r}}function sH(e,t){let a=n.useMemo(()=>{let e=t?lY.w3z.getInReadySectionTopLevelNodeId(t):null;return e&&e!==nN.invalidGUIDStr?e:null},[t]),r=(0,sp.Fk)((e,t,a)=>{let n=null;if(a?n=a:t===nN.invalidGUIDStr||lY.w3z.isNodePanelSection(t)||(n=t),n){let t=e.get(n);(!t||sf.q1.includes(t.type))&&(n=null)}return n},e,a),l=(0,lQ.hA)();return l?{inspectableRootNodeId:l,inReadySectionTopLevelNodeId:null}:{inspectableRootNodeId:r,inReadySectionTopLevelNodeId:a}}function sG({onRowClick:e,inspectableRootNodeId:t,didSelectRow:a}){let r=(0,iD.J2)(lY.Ez5.devHandoffState().currentNodeId),l=(0,eo.uQ)(),i=(0,iD.J2)(lY.Ez5.devHandoffState().readySectionItems),{currentPage:o}=(0,er.R)(e=>({currentPage:e.mirror.appModel.currentPage})),{inReadySectionTopLevelNodeId:s}=sH(r,l);return n.createElement("div",{className:"dev_handoff_nodes_panel--nodesListPanels--ceR3Z","data-testid":"devHandoffNodesList"},n.createElement(sP,{items:i||[],selectedNodeId:l,inReadySectionTopLevelNodeId:s,onRowClick:e}),n.createElement(sT,{inspectableRootNodeId:t,didSelectRow:a,page:o}))}let sV=n.memo(()=>{let e=(0,iD.J2)(lY.Ez5.devHandoffState().currentNodeId),t=(0,lQ.l7)(),a=!!(0,lQ.hA)()&&!t,{inspectableRootNodeId:l,didSelectRow:i}=sU(e,(0,eo.uQ)()),o=(0,r.d4)(e=>Object.keys(e.mirror.sceneGraphSelection).length>0);return(0,c.h)(()=>{let e=en.sn.tryStop("switch_to_inspect_mode.left_panel_tti");e&&(0,ea.sx)("switch_to_inspect_mode.left_panel_tti",{elapsedMs:e,isNodeSelected:o},{forwardToDatadog:!0})}),n.createElement("div",{className:A()(ep.Dm,ra)},!a&&n.createElement(l$,null),!t&&n.createElement(sG,{inspectableRootNodeId:l,didSelectRow:i}))});var sz=a(185157),sK=a(809840),sW=a(233562);function sj(){return n.createElement("div",{className:O.cx.flex.flexRow.m16.$},n.createElement("div",{className:O.cx.font11.$},(0,m.tx)("fullscreen.properties_panel.this_file_s_editor_has_disabled_exporting_copying_and_sharing.seat_rename")))}var sZ=a(225266),sY=a(554294),sX=a(176626),sq=a(559497);let sJ=n.memo(function(){let e=(0,r.d4)(e=>e.mirror.appModel.currentTool===el.ec.tool),t=(0,rY.h)(),a=(0,lx.UX)(),i=(0,l.md)(sY.d4),o="LOADING"===i,s="RUNNING"===i,c=(0,l.md)(ei.H)===ei._.PLUGIN&&!e,d=(0,r.wA)();n.useEffect(()=>d(sZ.aq()),[d]),n.useEffect(()=>{let e=sq.mN.getInstance();s&&e&&(c?e.hideProgress():e.showProgress({isBackground:!0}))},[s,c]);let u=s&&c?{height:"100%"}:{display:"none"};return n.createElement("div",{className:O.cx.hFull.wFull.if(c,O.cx.block,O.cx.hidden).$,"data-testid":"devHandoffPluginPanel"},t?n.createElement(sj,null):n.createElement(n.Fragment,null,o&&n.createElement(sQ,null),n.createElement("div",{style:u,"data-testid":"pluginPanelContainer"},n.createElement(sX.jv,{iframeId:sX.Wh.INSPECT,width:a,fillParent:!0})),!o&&!s&&n.createElement(io,null)))});function sQ(){let e=(0,l.md)(sY.be);return e?n.createElement(tP.Y,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center"},n.createElement(n.Fragment,null,n.createElement("span",{style:R.sx.add({boxSizing:"content-box",margin:"-20px auto",opacity:"0.3"}).$},n.createElement(sW.y$,null)),n.createElement("div",{className:O.cx.pt16.px32.alignCenter.$},n.createElement(sK.E,{fontSize:12,color:"secondary"},(0,m.tx)("dev_handoff.loading_plugin",{pluginName:e?.name}))))):null}var s$=a(979441),s0=a(818),s1=a(506599),s2=a(544403);let s5=(0,nx.jz)(sh.QBm);function s3(e){let t=(0,r.d4)(e=>e.mirror.appModel.showUi),a=(0,nk.lz)(),[i,o]=(0,l.fp)(nk.XI),s=(0,tn.GS)(),c=(0,iD.J2)((0,lx.UK)().renderRulers),d=(0,lQ.hA)(),u=(0,s0.b)(),{isPropertiesPanelCollapsed:m}=(0,s1.iT)();m=m&&s,(0,nk.qn)();let p=n.useCallback(()=>{o(!0)},[o]),_=n.useCallback(e=>{if(i){let t=(0,nk.gY)(window.innerWidth-e.clientX);t!==a&&(0,nk.xT)(t)}},[i,a]),f=n.useCallback(()=>{i&&o(!1)},[i,o]);n.useEffect(()=>(document.addEventListener("mousemove",_),document.addEventListener("mouseup",f),()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",f)}));let h=s&&!m,g=i?ih:t?i_:ig;return s?n.createElement(l4.V,{className:A()(iy.Lp,{[iy.dn]:m,[iy.Ph]:u&&!d}),style:{width:a}},h&&n.createElement(s$.T,{side:"right"}),n.createElement(s2.w,{className:A()(iy.ux,ep.Dm,{[iy.ew]:c&&!d,[iy.Ph]:u&&!d}),size:a,onResize:p,side:"left"},m&&n.createElement("div",{className:A()(iy.KE,iy.tM,{[iy.Ph]:u&&!d})},n.createElement(lB.v2,null)),n.createElement("div",{className:A()(iy.KE,{[ih]:i,[i_]:t,[ig]:!t||m,[iy.Ph]:u&&!d})},!m&&n.createElement(lB.v2,null),n.createElement(l9.Ay,null),n.createElement("div",{className:iE},e.children)))):n.createElement("div",{className:`${g} ${ep.Dm}`,style:{width:a-s5},ref:e.forwardedRef},n.createElement(l9.Ay,null),n.createElement(l4.V,{className:iE},e.children),n.createElement(e7.D8,{className:"dev_handoff_right_panel_container--edge--K3aDb",style:{right:a},onMouseDown:p,onDoubleClick:nk.Az}))}var s4=a(69814),s6=a(561004),s7=a(978527);function s8({plugin:e}){return"first-party"!==(0,eQ.v4)().type?null:n.createElement(ce,{plugin:e,buttonText:(0,m.t)("dev_handoff.inspect_panel.close_plugin")})}function s9({plugin:e}){return"first-party"===(0,eQ.v4)().type?null:n.createElement(ce,{plugin:e,buttonText:(0,m.t)("dev_handoff.inspect_panel.generate_code")})}function ce({plugin:e,buttonText:t}){return e?n.createElement(t_.VZ,{padding:t_.UZ.NONE,recordingKey:"pluginProgressPanel"},n.createElement(tP.Y,{direction:"vertical",horizontalAlignItems:"center",padding:{top:12,bottom:12,left:16,right:16},spacing:8,width:"fill-parent"},n.createElement(tP.Y,{direction:"horizontal",verticalAlignItems:"start",horizontalAlignItems:"center",spacing:4},n.createElement("div",{style:R.sx.add({marginTop:"-3px"}).$},n.createElement(s7.d,{plugin:e})),n.createElement(sK.E,{fontFamily:"primary"},(0,m.tx)("fullscreen.plugins.background",{plugin:n.createElement(sK.E,{fontWeight:"bold"},e.name)}))),n.createElement(nH.$,{variant:"secondary",onClick:()=>{(0,s6.wY)()},width:"fill-parent",recordingKey:"generateCodeButton"},n.createElement(sK.E,{fontFamily:"primary"},t)))):null}var ct=a(249436),ca=a(19741),cn=a(54574);let cr="code_extension_section--sectionsBorder--iguOh";function cl({localCodeLanguage:e,overrideNodeId:t,hideLayoutSection:a,sectionClassName:r}){let i=(0,eQ.v4)(),o=e??i,s=o.id===eQ.uz&&"first-party"===o.type?{id:iR.qZ.CSS,type:"first-party"}:o,c=(0,l.md)(sY.GR),d=(0,l.md)(sY.vT);return c&&"codegen"!==d&&"first-party"!==s.type?n.createElement(s9,{plugin:c}):n.createElement(ci,{overrideNodeId:t,hideLayoutSection:a,codegenPluginLanguage:s,sectionClassName:r},(e,t,a)=>n.createElement(eJ.yT,{code:e,section:t,index:a}))}function ci({codegenPluginLanguage:e,children:t,overrideNodeId:a,hideLayoutSection:l,sectionClassName:i}){let o=(0,rZ.ie)(),s=(0,rZ.fb)(),c=(0,r.d4)(e=>Object.keys(e.mirror.sceneGraphSelection)[0]),d=(0,eN.U)(),[u,p]=n.useState(!1),_=a??c,f=n.useCallback(t=>{d("Dev Mode Code Section Clicked",{codeSection:t,languageType:e.type,languageId:e.id,unit:o,scaleFactor:s})},[e.id,e.type,s,d,o]),h=(0,rZ.gc)(),g=(0,eQ.QN)(),{code:E,error:y,isLoading:v}=(0,cn.K)({selectedNodeID:_,extensionLanguage:e,preferences:h,plugin:g}),b=!!a,C=n.useCallback(({id:e})=>{e===_&&(iR.px().nodeCache?.invalidate(e),p(!0))},[_]);n.useEffect(()=>((0,ca.BT)(C),()=>{(0,ca.q$)(C)}),[C]),n.useEffect(()=>{b||p(!1)},[b,_]);let w=n.useCallback(()=>{p(!1),(0,iR.px)().rebuildNodeCache(),(0,ct.c)()},[]),T=function(e,t){let[a,r]=n.useState(e);return n.useEffect(()=>{let t=null;return e?t=setTimeout(()=>{r(!0)},200):r(!1),()=>{null!=t&&clearTimeout(t)}},[e,200]),a}(v,200);return _?y?(console.error(y),null):T?n.createElement("div",{className:cr},n.createElement(tP.Y,{verticalAlignItems:"center",horizontalAlignItems:"center",padding:{top:16,left:16,right:16,bottom:4},dataTestId:"codegen-spinner"},n.createElement(ew.kt,null))):0===E.length?null:n.createElement("div",{className:cr},u&&n.createElement(tP.Y,{padding:{top:16,left:16,right:16,bottom:0}},n.createElement(am.z,{dataTestId:"dev-handoff-code-update-prompt",iconSrc:a8.A,title:(0,m.t)("dev_handoff.code.update_prompt_title"),orientation:"vertical",variant:"brand",onClose:()=>p(!1),action:{label:(0,m.t)("dev_handoff.code.update_prompt_action"),onClick:w}},(0,m.tx)("dev_handoff.code.update_prompt"))),E.map((a,r)=>a.lines.length>0&&(!l||"Layout"!==a.name)?n.createElement(e7.D8,{className:A()("code_extension_section--sectionsContainer--vZzFZ",i),"data-testid":`code-panel-${a.name}`,key:`${e}-${a.name}-${r}`,tabIndex:-1,"data-fullscreen-intercept":!0,onClick:()=>f(a.name)},t(E,a,r)):null)):null}var co=a(268537),cs=a(116135),cc=a(493364);let cd="Dev Mode Focus View Onboarding",cu="focus_view_title_onboarding_key",cm="focus_view_completed_onboarding_key",cp="focus_view_versions_onboarding_key",c_="focus_view_back_onboarding_key";function cf(){let{show:e,isShowing:t,complete:a}=(0,E.e)({overlay:S.FtN,priority:C.N.DEFAULT_MODAL});(0,c.h)(()=>{e()});let r=(0,n.useMemo)(()=>({label:(0,m.tx)("dev_handoff.workflows.focus_view.onboarding.secondary_cta_label"),type:"button",onClick:()=>a(),ctaTrackingDescriptor:iH.c.CANCEL}),[a]),l=[{title:(0,m.tx)("dev_handoff.workflows.focus_view.onboarding.viewing.title"),description:(0,m.tx)("dev_handoff.workflows.focus_view.onboarding.viewing.description"),trackingContextName:`${cd} Viewing`,targetKey:cu,emphasized:!0,secondaryCta:r,disableHighlight:!0},{title:(0,m.tx)("dev_handoff.workflows.focus_view.onboarding.completed.title"),description:(0,m.tx)("dev_handoff.workflows.focus_view.onboarding.completed.description"),trackingContextName:`${cd} Completed`,targetKey:cm,emphasized:!0,secondaryCta:r,disableHighlight:!0},{title:(0,m.tx)("dev_handoff.workflows.focus_view.onboarding.versions.title"),description:(0,m.tx)("dev_handoff.workflows.focus_view.onboarding.versions.description"),trackingContextName:`${cd} Versions`,targetKey:cp,emphasized:!0,arrowPosition:cc.F_.RIGHT_BODY,secondaryCta:r,onStepShow:()=>aT.wr(),disableHighlight:!0},{title:(0,m.tx)("dev_handoff.workflows.focus_view.onboarding.back.title"),description:(0,m.tx)("dev_handoff.workflows.focus_view.onboarding.back.description"),trackingContextName:`${cd} Back`,targetKey:c_,emphasized:!0,primaryCtaLabel:(0,m.tx)("dev_handoff.workflows.focus_view.onboarding.last_primary_cta_label"),disableHighlight:!0}];return n.createElement(cs.WZ,{steps:l,isShowing:t,onComplete:a})}var ch=a(293017),cg=a(99506),cE=a(694517),cy=a(945020),cv=a(236192),cb=a(720488),cC=a(524513),cw=a(135317),cT=a(564577);let cS="dev_handoff_activity_panel--versionIconContainer--i7OVd",cN="dev_handoff_activity_panel--editedIcon--V-4-N dev_handoff_activity_panel--_versionIcon--9Io2B",cx="dev_handoff_activity_panel--activityDisplayText--4O-Dk",ck="dev_handoff_activity_panel--activityTime--pCZ9l";function cI({activity:e,isLatest:t}){let a=cA(e),r=(0,cT.Ak)(e.timestamp);return n.createElement("div",{className:cx},t?(0,m.tx)("dev_handoff.workflows.focus_view.activity.activity_row_with_latest",{versionText:a,activityTime:n.createElement("span",{className:ck},r),latest:n.createElement("span",{className:ck},(0,m.tx)("dev_handoff.workflows.focus_view.activity.activity_row_latest_part"))}):(0,m.tx)("dev_handoff.workflows.focus_view.activity.activity_row",{versionText:a,activityTime:n.createElement("span",{className:ck},r)}))}function cA(e){switch(e.metadata?.status){case cg.zI.BUILD:return(0,m.t)("dev_handoff.workflows.focus_view.activity_status_ready");case cg.zI.COMPLETED:return(0,m.t)("dev_handoff.workflows.focus_view.activity_status_completed");case cg.zI.NONE:return(0,m.t)("dev_handoff.workflows.focus_view.activity_status_removed");default:return null}}function cL({activity:e,line:t,isGreen:a}){switch(e.metadata?.status){case cg.zI.BUILD:return n.createElement("div",{className:cS,"data-testid":"devModeActivity.readyIcon"},t,n.createElement(sr.A,{className:a?"dev_handoff_activity_panel--readyIconGreen--qdkvg dev_handoff_activity_panel--_versionIcon--9Io2B":"dev_handoff_activity_panel--readyIcon--zbH-1 dev_handoff_activity_panel--_versionIcon--9Io2B"}));case cg.zI.COMPLETED:return n.createElement("div",{className:cS,"data-testid":"devModeActivity.completedIcon"},t,n.createElement(cw.g,{className:"dev_handoff_activity_panel--completedIcon--3i2u3 dev_handoff_activity_panel--_versionIcon--9Io2B"}));default:return null}}function cO(){let e=(0,r.wA)();return()=>{e((0,cE.Eg)())}}function cR(){return(0,r.d4)(e=>e.versionHistory.activeId===cE.V_)}function cM(e,t,a){return e&&t.metadata?.status!==cg.zI.NONE?e=>n.createElement(cL,{line:e,activity:t,isGreen:a}):void 0}function cD(){let e=(0,r.wA)();return t=>{e((0,cE.Eg)()),tv.w3z.focusOnNode(t,!1)}}function cP({latestReadyForDevVersionId:e,lastEditedAt:t,hasEdits:a,status:l,isActive:i,onSelect:o,showCompareChanges:s,focusNodeId:c}){let d=(0,r.wA)(),u=(0,tn.GS)(),p=(0,eN.U)(),_=(0,cT.Ak)((t??0)*1e3),f=(0,lQ.hA)();return n.createElement(cv.jP,{label:"latest-change-row",displayText:n.createElement("div",{className:"dev_handoff_activity_panel--activityDisplayTextContainer--80BG-"},n.createElement("div",{className:cx},n.createElement("span",{className:"dev_handoff_activity_panel--latestVersion--ukUVR"},f?(0,m.tx)("dev_handoff.workflows.focus_view.activity.latest"):(0,m.tx)("collaboration.feedback.current_version")),!!t&&n.createElement("span",{className:ck},_)),i&&s&&n.createElement("button",{className:"dev_handoff_activity_panel--viewDiffButtonEdited--j3Wzx",onClick:function(){p("Dev Mode Activity Compare Changes",{source:"compare_previous"}),(0,td.L$)(e,d,!0,c)}},(0,m.tx)("dev_handoff.workflows.focus_view.activity.compare_previous"))),iconOverride:u&&a?e=>n.createElement("div",{className:cS},e,l?.status===tv.zIx.COMPLETED?n.createElement(cw.g,{className:cN}):n.createElement(sr.A,{className:cN})):void 0,onSelect:i?void 0:o,view:null,isActive:i,userUrl:null,versionId:cE.V_,dispatch:d,isAllowedToChangeVersion:()=>!i,first:!0,last:!1,isUI3:u,editorType:cg._Y.DESIGN})}var cF=a(40987);function cB(){let e=(0,lQ.hA)(),t=(0,tc.Os)(e??""),a=(0,tc.jh)(e??void 0),r=cR(),i=cD(),o=(0,l.md)(cF.pc);if("loading"===t||t&&0===t.length&&o)return n.createElement("div",{"data-onboarding-key":cp,className:"dev_handoff_activity_panel--loading--kM0Yf"},n.createElement(ew.kt,null));if(!t||0===t.length||!e)return n.createElement("div",{"data-onboarding-key":cp});let s=new P.q(nd.ju.LIVE_FILE).get(e??""),c=t[0],d=!!s?.editInfo?.lastEditedAt&&c.timestamp.getTime()<1e3*s.editInfo.lastEditedAt;return n.createElement(t_.VZ,{title:(0,m.t)("dev_handoff.workflows.focus_view.activity.versions"),recordingKey:"activityLog",headerOnboardingKey:cp},n.createElement("div",{className:"dev_handoff_activity_panel--activityEvents--9uFul"},d&&n.createElement(cP,{lastEditedAt:s?.editInfo?.lastEditedAt,latestReadyForDevVersionId:c.id,hasEdits:!0,status:s?.getStatusInfo(),isActive:r,onSelect:()=>i(e),showCompareChanges:!0,focusNodeId:e}),o&&n.createElement("div",{className:"dev_handoff_activity_panel--loadingInline--WHTg6"},n.createElement(ew.kt,null)),t.map((r,l)=>{let i=l===t.length-1;return n.createElement(cU,{key:l,activity:r,prevActivity:i?null:t[l+1],isOldest:i,isLatest:0===l&&!d,versions:a.versions,focusNodeId:e})})))}function cU({activity:e,prevActivity:t,isOldest:a,isLatest:i,versions:o,focusNodeId:s}){let c=(0,r.wA)(),d=(0,ti._6)(),u=(0,tn.GS)(),p=(0,r.d4)(e=>e.versionHistory),_=e.version?.id??void 0,f=cR(),h=(0,l.md)(iz.wg),g=(0,eN.U)(),E=f&&i||_===p.activeId,y=function(e,t,a){let l=(0,lQ.hA)(),i=(0,r.wA)(),o=(0,ti._6)(),s=cO(),c=(0,eN.U)();return n.useCallback((n,r)=>{if(t&&!n){if(a){s();return}c("Dev Mode Activity Load Version",{entrypoint:r}),i(ib.$T({...o,versionId:t})),i(ch.Y6({mode:tv.Oin.KEEP_UI,type:cy.lF.SPINNER})),requestAnimationFrame(()=>{i((0,cE.Nb)({id:t,nodeId:l??void 0,eventType:"LOAD_NEW_VERSION",versions:e}))})}},[t,a,e,l,i,o,s,c])}(o,_,i),v=()=>{g("Dev Mode Activity Compare Changes",{source:i?"compare_previous":"compare_to_latest"});let e=i&&t?.version?.id||_;(0,td.L$)(e,c,!0,s)},b=cO(),{toggle:C,showing:w}=(0,aS.BK)(`DROPDOWN_TYPE_ACTIVITY_LOG_${e.id}`),[T,S]=n.useState(null),N=e.metadata?.status===cg.zI.BUILD&&null!==t,x=!!_&&_!==p.activeId;return n.createElement(n.Fragment,null,n.createElement(cv.jP,{description:e.version?.description??void 0,label:"activity-row",displayText:n.createElement(cI,{activity:e,isLatest:i}),view:null,iconOverride:cM(u,e,a||E),onSelect:x?()=>y(E,"row"):void 0,onHoverMenuCallback:_?e=>{e.stopPropagation(),S(e.currentTarget.getBoundingClientRect()),C()}:void 0,forceShowHoverMenu:w||E,isActive:E&&!i,user:e.user.name||"",userUrl:e.user.imgUrl,isAllowedToChangeVersion:()=>x,versionId:_||"NO_VERSION",dispatch:c,first:i,last:a,isUI3:u,editorType:cg._Y.DESIGN,rowBodyFooter:i&&N?n.createElement("button",{className:"dev_handoff_activity_panel--viewDiffButtonReady--mGQg4",onClick:v},(0,m.tx)("dev_handoff.workflows.focus_view.activity.compare_previous")):void 0}),w&&T&&n.createElement(cb.Cf,{targetRect:T},!i&&(E?n.createElement(co.c$,{onClick:b},(0,m.tx)("dev_handoff.workflows.focus_view.back_to_current")):n.createElement(co.c$,{onClick:()=>y(E,"dropdown_option")},(0,m.tx)("dev_handoff.workflows.focus_view.inspect_version"))),(!i||N)&&n.createElement(co.c$,{onClick:v},i?(0,m.tx)("dev_handoff.workflows.focus_view.compare_previous_menu_item"):(0,m.tx)("dev_handoff.workflows.focus_view.compare_latest")),n.createElement(co.c$,{onClick:()=>{g("Dev Mode Activity Copy Link To Version"),(0,cv.S)(c,d,_)}},(0,m.tx)("dev_handoff.workflows.focus_view.copy_link_to_version")),h&&n.createElement(co.c$,{onClick:()=>{if(!h)return;let t=e.version;t&&c(eB.to({type:cC.S9,data:{label:cA(e),description:t.description,savepointID:t.id}}))}},(0,m.tx)("collaboration.feedback.context_menu.edit_version_info"))))}var cH=a(200243),cG=a(899424),cV=a(380631),cz=a(347740);function cK(){return n.createElement(n.Fragment,null,n.createElement(cH.Xh,null),n.createElement(cz.U,null),n.createElement(lI.ZN,null),n.createElement(cV.o,null),n.createElement(cG.yg,null))}var cW=a(963067),cj=a(239671),cZ=a(438377);function cY(){let{selectionProperties:e}=(0,er.R)(e=>({selectionProperties:e.mirror.selectionProperties})),t=(0,tZ.nl)(),a=(0,tZ.cW)(),l=(0,tZ.Be)(),i=(0,cW.Yo)(),o=(0,r.wA)(),s=(0,v.tS)();return n.createElement(cZ.Q,{key:"plugin",pluginRelaunchData:e.pluginRelaunchData,localPlugins:t,publishedPlugins:a,allSavedPlugins:l.plugins,orgEntity:i,dispatch:o,openFileKey:s,editorType:cj.nT.DevHandoff,numSelected:e.numSelected??0,recordingKey:"devHandoffPluginPanel",title:(0,m.t)("dev_handoff.plugin_panel.title"),isDevHandoff:!0})}var cX=a(945099),cq=a(373119),cJ=a(912666),cQ=a(143678),c$=a(390487),c0=a(559037),c1=a(987950),c2=a(783908),c5=a(400181),c3=a(301854),c4=a(215837);function c6(){let e=(0,eo.VW)();return e?.isModule}var c7=a(238093);let c8="typography_preview--measureContainer--D1G5R",c9="typography_preview--measure---sPO7",de="typography_preview--value--v5BEy text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",dt=(0,nx.jz)(sh.WPY);function da({fillContainer:e=!1}){let t=(0,eo.VW)(),a=(0,r.d4)(e=>e.mirror.selectionProperties.selectedFonts);return!t||!t.isAlive()||"TEXT"!==t.type||!t.fontName||!a||a?.fonts.length<1?null:n.createElement(t_.VZ,{hideHeader:!0,padding:t_.UZ.NONE,noBorder:!0,recordingKey:"typographyPreview"},n.createElement(dn,{nodeId:t.guid,containerClassName:e?"typography_preview--previewContainerFill--QUwgr":"typography_preview--previewContainerBoxed--yWT-0 typography_preview--previewContainer--zDKlk text--fontPos11--2LvXf text--_fontBase--QdLsd common--well--J0WtH",numberOfFonts:a.fonts.length}))}function dn({nodeId:e,containerClassName:t="typography_preview--previewContainerFullWidth--61D4v typography_preview--previewContainer--zDKlk text--fontPos11--2LvXf text--_fontBase--QdLsd common--sectionWithBottomSeparator--N54QE",numberOfFonts:a=1,localCodeLanguage:r}){let l=function(e){let t=(0,D.DP)(),a=(0,nk.rL)()-32,[r,l]=n.useState({...du,loading:!0}),{family:i,style:o}=(0,sp.Fk)(t=>{let a=t.get(e),{family:n,style:r}=a?.fontName||{};return{family:n,style:r}}),s=n.useCallback(()=>{l(e=>({...e,imageLoading:!1}))},[]);return n.useEffect(()=>{let t=e=>{l(t=>{dd(t?.url);let a=!!e.url&&(t.fontFamily!==e.fontFamily||t.fontStyle!==e.fontStyle);return{...t,...e,imageLoading:a,loading:!1,error:!e.url&&e.error}})},a=()=>{t({...du,url:void 0,error:!0})};(async()=>{if(!i||!o)return;if(tv.vXe.fontsAreLoading()){let e=0;await new Promise((t,a)=>{let n=setInterval(()=>{tv.vXe.fontsAreLoading()||(t(),clearInterval(n)),e>10&&a(),e++},100)})}if(!tv.vXe.fontIsLoaded(i,o)){a();return}let n=tv.w3z.getTypographyPreview(e);if(n&&n.thumbnail?.byteLength>0){let{thumbnail:e,...a}=n,r=URL.createObjectURL(new Blob([e]));t({...a,url:r})}else a()})().catch(()=>{a()})},[e,a,i,o,t]),n.useEffect(()=>()=>dd(r?.url),[r?.url]),{...r,onImageLoaded:s}}(e),{fontName:i,inheritedTextStyle:o}=(0,sp.Fk)((e,t)=>{let a=e.get(t);return{fontName:a?.fontName,inheritedTextStyle:a?.inheritedTextStyle}},e);return n.createElement("div",{className:t},l.loading?n.createElement(di,null):n.createElement(dr,{data:l,font:i,styleId:o,numberOfFonts:a,localCodeLanguage:r}))}function dr({data:e,font:t,styleId:a,numberOfFonts:r,localCodeLanguage:l}){let i=(0,rZ.qM)(l,e.lineHeightInPx,dc,{isTextProperty:!0}),o=(0,rZ.qM)(l,e.fontSizeInPx,dc,{isTextProperty:!0}),s=e.textStyleNodeId||(0,c7.f$)(a),{styleName:c,styleDescription:d}=(0,sp.wA)((e,t)=>{if(!t||0===t.length)return{};let a=t[0];if(!a)return{};let n=e.get(a);return{styleName:n?.name,styleDescription:n?.description}},[s]),u=(0,tp.Cj)(i),p=(0,tp.Cj)(o),_=(0,tp.Cj)(c),f=dt-16-((0,nN.isValid)((0,nN.fromString)(e.textStyleNodeId))||r>1?40:0),h=e.fullSize.y>f?e.fullSize.y/f:1,g=e.fullSize.y/h,E=e.fullSize.x/h,y=g+1,v=e.capPosition/h,b=e.baselinePosition/h,C=e.bottomPosition/h,w=`calc((100% - ${E}px) / 2)`,T=r>1?n.createElement("div",{className:"typography_preview--label--pJ-5L typography_preview--labelBase--mlEgn ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,m.tx)("dev_handoff.typography_preview_multiple_styles")):c?n.createElement(x.E,{className:"typography_preview--styleName--tA801 typography_preview--labelBase--mlEgn ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:_,"aria-label":(0,m.t)("inspect_panel.code.style"),htmlAttributes:{"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":d,"data-tooltip-show-above":!0}},c):null;return n.createElement("div",{className:A()("typography_preview--previewHighlights--zrIw3",e.imageLoading?"typography_preview--hidden--pKo8l":"typography_preview--shown--6sBFE")},e.error?n.createElement(ds,{font:t}):n.createElement("div",{className:"typography_preview--centredRow--3-Ofp",style:{marginTop:(f+16-y)/2,height:y}},n.createElement("div",{className:c8,style:{marginTop:v,marginBottom:g-C}},n.createElement("div",{className:A()(c9,"typography_preview--left--wzNxs")},n.createElement(x.E,{className:de,onClick:p,"aria-label":(0,m.t)("inspect_panel.code.font_size"),htmlAttributes:{"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":(0,m.t)("inspect_panel.code.font_size"),"data-tooltip-show-above":!0}},o))),n.createElement("div",{className:"typography_preview--measurementLines--U03DM",style:{width:E,height:g,left:w,right:w}},n.createElement(dl,{position:v}),n.createElement(dl,{position:b}),n.createElement(dl,{position:C})),n.createElement(F.J,{className:"typography_preview--borderedPreview--wYbvY",style:{width:E,height:g},src:e.url,onLoad:e.onImageLoaded,"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":t?`${t.family} ${t.style}`:void 0,"data-tooltip-show-above":!0}),n.createElement("div",{className:c8},n.createElement("div",{className:A()(c9,"typography_preview--right--QhAIw")},n.createElement(x.E,{className:de,onClick:u,"aria-label":(0,m.t)("inspect_panel.typography.line_height"),htmlAttributes:{"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":(0,m.t)("inspect_panel.typography.line_height"),"data-tooltip-show-above":!0}},i)))),T)}function dl({position:e}){return n.createElement("div",{className:"typography_preview--measurementLine---lBL5",style:{top:e}})}function di(){let[e,t]=n.useState(!1);return(n.useEffect(()=>{let e=setTimeout(()=>t(!0),250);return()=>clearTimeout(e)},[]),e)?n.createElement(ew.kt,null):null}function ds({font:e}){let t=e?.family,a=e?.style??"",r=t&&!tv.vXe.fontIsLoaded(t,a)&&t?(0,m.t)("dev_handoff.typography_preview_missing_font",{fontFamily:t,fontStyle:a}):void 0;return n.createElement("div",{className:"typography_preview--previewError--Kwn7m"},n.createElement("span",{"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":r},(0,m.tx)("dev_handoff.typography_preview_not_available")))}let dc=e=>e.toLocaleString("en",{maximumFractionDigits:3,useGrouping:!1}),dd=e=>{e&&URL.revokeObjectURL(e)},du={url:void 0,fullSize:{x:0,y:0},capPosition:0,baselinePosition:0,bottomPosition:0,fontSizeInPx:0,lineHeightInPx:0,fontFamily:"",fontStyle:"",textStyleNodeId:""};function dm({fillContainer:e=!1}){let t=(0,eo.VW)();return t?.type==="TEXT"?n.createElement(da,{fillContainer:e}):n.createElement(lt,{fillContainer:e})}var dp=a(495085);function d_(){let e=c6(),t=(0,eo.VW)(),a=t?.description;return e?n.createElement(n.Fragment,null,n.createElement("div",{className:"module_documentation_panel--spacer--fEdqY"}),n.createElement(tR,{description:a,emptyStateText:(0,m.t)("inspect_panel.templates.no_templates_description")})):null}var df=a(118830);function dh({module:e}){let t=(0,nk.rL)(),a=e.guid,r=t-64,l=(0,df.O)({assetId:a,thumbnailVersion:1,width:4*r,height:4*nO,scale:4});return n.createElement(e7.D8,{className:nA,style:l?.backgroundStyle,role:"button",tabIndex:0},l?.url&&n.createElement(F.J,{className:nL,src:l.url,style:{maxWidth:r,maxHeight:nO}}))}function dg(){let e=(0,eo.VW)();return e?.isModule?n.createElement(t_.VZ,{title:(0,m.t)("dev_handoff.inspect_panel.template"),recordingKey:"templatePanel"},n.createElement(dh,{module:e}),n.createElement(d_,null)):null}var dE=a(397863),dy=a(631437);function dv(){return!!(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===tv.m1T.DEV_HANDOFF_HISTORY&&e.versionHistory.activeId&&"current_version"!==e.versionHistory.activeId)}var db=a(309798),dC=a(754369),dw=a(335601),dT=a(659838),dS=a(392592);let dN="add_developer_related_link_row--inputRow--0rB-c text--fontPos11--2LvXf text--_fontBase--QdLsd";var dx=a(949554);function dk({onCancel:e,onSuccess:t,existingUrls:a,onFocus:l,onUnfocus:i,addExtraPadding:o=!1}){let s=(0,r.wA)(),[c,d]=n.useState(""),[u,p]=n.useState(!1),_=n.useCallback(e=>d(e.target.value),[]),f=(0,tH.eY)(),h=(0,tN.Nf)()??"",g=f.get(h),E=(0,v.tS)(),y=t8(c),{inputRef:b,inputProps:{onFocus:C,onMouseUp:w,onMouseLeave:T,onKeyUp:S,onChange:N}}=(0,dw.X)({onChange:_}),x=n.useCallback(async()=>{let e=c;if(!(0,t9.G)(e)||!(0,t9.H)(e)){if(e="http://"+e,!(0,tI.FB)(e)||!(0,t9.G)(e)){s(dS.F.enqueue({message:(0,m.t)("dev_handoff.developer_related_links.invalid_link"),error:!0,timeoutOverride:2e3}));return}d(e)}if(a.includes(e)){s(dS.F.enqueue({message:(0,m.t)("dev_handoff.developer_related_links.duplicate_link_error"),error:!0,timeoutOverride:2e3}));return}p(!0),i();let n=(0,t1.DY)({fileKey:E,nodeId:h,url:e,onPost:t,nodeType:g?.type,source:"web",pluginId:y?.plugin.plugin_id});try{let e=await n;p(!1);let t=t1.Rb.safeParse(e.data);if(!t.success||!y)return;let a=t.data.meta;y.genPreview({link:{id:a.id,linkUrl:a.link_url,linkName:a.link_name,linkPreview:null,linkPreviewJson:"",nodeId:a.node_id,fileKey:a.file_key,isUserOverride:a.is_user_override,isInherited:!1}})}catch(e){console.error(e),s(dS.F.enqueue({message:(0,m.t)("dev_handoff.developer_related_links.link_error",{errorMessage:e.message}),error:!0,timeoutOverride:2e3}))}finally{p(!1)}},[c,a,i,E,h,t,s,g?.type,y]),k=async t=>{"Enter"===t.key&&!t.shiftKey&&c?await x():"Escape"===t.key&&e()};if(n.useEffect(()=>{let t=t=>{b.current&&!b.current.contains(t.target)&&(c&&""!==c?x():e())};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[e,b,x,c]),u){let e=new URL(c).host;return e.startsWith("www.")&&(e=e.slice(4)),n.createElement(ak.fI,{className:dN},n.createElement(ew.kt,{className:"add_developer_related_link_row--loadingSpinner--zWFF2"}),n.createElement(ak.UZ,null,e))}return n.createElement(ak.fI,{className:A()(dN,o&&O.cx.pb8.$)},n.createElement(em.B,{svg:dx.A,className:O.cx.colorIconSecondary.$}),n.createElement(dT.L,{ref:b,className:"add_developer_related_link_row--input--4Y-uG",onFocus:e=>{C(e),l()},onMouseUp:w,onMouseLeave:T,onChange:N,onKeyDown:k,onKeyUp:S,value:c,placeholder:(0,m.t)("dev_handoff.developer_related_links.link_placeholder"),autoCorrect:"off",recordingKey:"devRelatedLinkUrlInput",autoFocus:!0}))}var dI=a(44948),dA=a(330654);let dL=dA.object({type:dA.literal("PLAIN_TEXT"),text:dA.string()}),dO=dA.union([dL,dA.null()]),dR=dA.object({type:dA.literal("AUTH_REQUIRED")}),dM=(dA.union([dR,dL,dA.null()]),dA.object({type:dA.literal("AUTH_SUCCESS")}));function dD(e){if(!e)return null;try{let t=JSON.parse(e),a=dO.safeParse(t);if(!a.success)return null;return a.data}catch(t){return(0,af.$D)(ah.e.DEVELOPER_TOOLS,t,{extra:{previewJson:e}}),null}}dA.union([dM,dA.null()]);var dP=a(857766);function dF(e,t){let a=(0,d.Rs)(b.Ssd,{fileKey:e,nodeId:t});return(0,dI.k9)(()=>"loaded"===a.status&&a.data.file?.developerRelatedLinksForNode?[a.data.file.developerRelatedLinksForNode.map(e=>({...e,linkPreview:dD(e.linkPreviewJson)})),"loaded"]:[[],a.status],[a])}let dB=(0,aB.Ju)(function(e){let t=e.linkId,a=(0,tN.Nf)()??"",l=(0,v.tS)(),i=(0,tH.eY)().get(a),o=(0,r.wA)(),s=async()=>{if(!l||!a)return;let e=(0,t1.Tz)({fileKey:l,linkId:t,nodeId:a,nodeType:i?.type,source:"web"});o(eB.Ce());try{await e}catch(e){console.error(e),o(dS.F.enqueue({message:`Could not delete link: ${e.message}`,error:!0,timeoutOverride:2e3}))}};return n.createElement(B.Rw,{destructive:!0,confirmationTitle:(0,m.tx)("dev_handoff.developer_related_links.delete_link"),confirmText:(0,m.tx)("dev_handoff.developer_related_links.delete_link"),onConfirm:s},n.createElement("p",null,(0,m.tx)("dev_handoff.developer_related_links.delete_link_text_body")))},"DeveloperRelatedLinksDeleteModal");var dU=a(147755),dH=a(498750);let dG="developer_related_links_edit_modal--fieldContainer--Twtv-",dV="developer_related_links_edit_modal--label--cxfFD",dz=(0,aB.Ju)(function({initialLink:e,...t}){let a=ao.a.useModal(t),{id:l,linkName:i,linkUrl:o}=e,[s,c]=n.useState(o),d=e.linkPreview?.text,[u,p]=n.useState(!e.isUserOverride&&d?"":i),[_,f]=n.useState(!1),h=(0,tN.Nf)()??"",g=(0,v.tS)(),E=(0,tH.eY)().get(h),y=(0,r.wA)(),b=n.useCallback(e=>p(e.target.value),[]),C=n.useCallback(e=>c(e.target.value),[]),{inputRef:w,inputProps:{onFocus:T,onMouseUp:S,onMouseLeave:x,onKeyUp:k,onChange:I}}=(0,dw.X)({onChange:b}),A=t8(s),{inputRef:L,inputProps:{onFocus:O,onMouseUp:R,onMouseLeave:M,onKeyUp:D,onChange:P}}=(0,dw.X)({onChange:C}),F=async()=>{let t;if(!h||!g)return;let a=s;if((!(0,t9.G)(a)||!(0,t9.H)(a))&&(a="http://"+a,!(0,t9.G)(a))){y(dS.F.enqueue({message:(0,m.t)("dev_handoff.developer_related_links.invalid_link"),error:!0,timeoutOverride:2e3}));return}f(!0);let n=u;u&&""!==u||(n=await (0,t1.yf)(a)),s!==o&&u!==i?t=!0:s!==o?A&&(t=!1):u!==i&&(t=!!u||!e.linkPreview);let r=(0,t1.Cq)({fileKey:g,nodeId:h,linkId:l,name:n,url:a,isUserOverride:t,clearLinkPreview:s!==o,nodeType:E?.type,source:"web",pluginId:A?.plugin.plugin_id});A&&!t&&A.genPreview({link:{...e,linkUrl:s,linkName:u,isUserOverride:!1}}),y(eB.Ce());try{await r}catch(e){console.error(e),y(dS.F.enqueue({message:`Could not edit link: ${e.message}`,error:!0,timeoutOverride:2e3}))}},B=_||!s||i===u&&o===s,U=e=>{e.keyCode===dH.Uz.ENTER&&!e.shiftKey&&u&&s?F():e.keyCode===dH.Uz.ESCAPE&&y(eB.Ce())},H=(0,dU.X)();return n.createElement(ao.a.Root,{manager:a,width:"md"},n.createElement(ao.a.Contents,null,n.createElement(ao.a.Header,null,n.createElement(ao.a.Title,null,(0,m.tx)("dev_handoff.developer_related_links.edit_link"))),n.createElement(ao.a.Body,null,n.createElement("div",{className:dG},n.createElement("p",{className:dV},(0,m.tx)("dev_handoff.developer_related_links.link")),n.createElement(dT.L,{ref:L,className:"developer_related_links_edit_modal--input--mw5Qe",onFocus:O,onMouseUp:R,onMouseLeave:M,onChange:P,onKeyDown:U,onKeyUp:D,value:s,autoCorrect:"off",recordingKey:"devRelatedLinkUrlInput",disabled:_})),n.createElement("div",{className:dG},n.createElement("p",{className:dV},(0,m.tx)("dev_handoff.developer_related_links.name")),n.createElement("div",{className:"developer_related_links_edit_modal--inputContainer--jplkF"},n.createElement("div",{className:"developer_related_links_edit_modal--favicon--aNxtZ"},n.createElement(eq.v,{url:o})),n.createElement(dT.L,{ref:e=>{H(e),w.current=e},className:"developer_related_links_edit_modal--inputName--oSwwG",onFocus:T,onMouseUp:S,onMouseLeave:x,onChange:I,onKeyDown:U,onKeyUp:k,value:u,autoCorrect:"off",autoFocus:!0,recordingKey:"devRelatedLinkNameInput",disabled:_,placeholder:d})))),n.createElement(ao.a.Footer,null,n.createElement(ao.a.ActionStrip,null,n.createElement(N.$n,{variant:"secondary",onClick:()=>y(eB.Ce())},(0,m.tx)("dev_handoff.developer_related_links.cancel")),n.createElement(N.$n,{onClick:F,disabled:B,type:"submit"},(0,m.tx)("dev_handoff.developer_related_links.edit_link"))))))},"DeveloperRelatedLinksEditModal"),dK="developer_related_links_panel--addButton--0Fv7K draggable_list--addButton--D0q--",dW="developer_related_links_panel--hint--n8Jpr text--fontPos11--2LvXf text--_fontBase--QdLsd",dj="dev_handoff_dev_resources_plus_icon_clicked_once",dZ=(0,tW.eU)(!1);function dY({links:e,status:t,isVariant:a=!1}){return"loaded"!==t||"loaded"===t&&0===e.length?null:n.createElement(n.Fragment,null,e.map(e=>n.createElement(ae,{key:e.linkUrl,isEditable:!1,link:{...e,isInherited:!0,isVariant:a},onOpenDeleteModal:u.lQ,onOpenEditModal:u.lQ})))}function dX(){let e=(0,r.wA)(),t=(0,tN.Nf)()??"",a=(0,v.uL)()??"",i=(0,tH.eY)(),s=(0,eo.uQ)(),c=(0,r.d4)(e=>e.mirror.appModel.currentPage),u=i.get(s??c),p=u?.type==="SYMBOL"||u?.isStateGroup,_=(0,o.wS)(),f=(0,eN.U)(),h=(0,lw.LS)(),g=!!(0,db.f)(dj),E=function(){let e=dv(),t=(0,v.q5)(),a=t?.repo,n=!!(t&&a&&(0,dP.Ns)(t,a))||!a;return!e&&n}(),y=dv(),[C,w]=function(e){let t=(0,d.Rs)(b.jJU,{fileKey:e});return(0,dI.k9)(()=>"loaded"===t.status&&t.data.file?.developerRelatedLinks?[t.data.file.developerRelatedLinks.map(e=>({...e,linkPreview:dD(e.linkPreviewJson)})),"loaded"]:[[],t.status],[t])}(a),T=n.useMemo(()=>C.filter(e=>e.nodeId===t)??[],[C,t]),[S,N]=n.useState(!1),{singleBackingSymbol:x,singleBackingStateGroup:k}=(0,dC.$)([u?.guid??""]),{backingSymbol:I,backingStateGroup:L}=(0,o.Bv)(x,k),O="loaded"===_.status,R=u?.type==="INSTANCE"||O,M=(0,tk.yW)(I),[D,P]=dF(M??"",I?.publishID??""),[F,B]=dF(M??"",L?.publishID??""),U=!!M&&M!==a,H=I?.guid;R&&H&&!U&&(D=C.filter(e=>e.nodeId===H)??[],P=w),R&&L&&!U&&(F=C.filter(e=>e.nodeId===L.guid)??[],B=w);let[G,V]=n.useState(!1),z=n.useCallback(()=>{u?.isAlive()&&(V(!0),g||e(q.b({[dj]:!0})),f("Dev Handoff Related Links Click Plus Icon",{nodeId:t,nodeType:u?.type,source:"web"}))},[g,f,t,u,e]),[K,W]=(0,l.fp)(dZ);n.useEffect(()=>{K&&(z(),W(!1))},[K,z,W]);let j=E&&T.length<10,Z=n.useMemo(()=>C&&function(e,t,a){let n=new Map,r=new Map;return e.forEach(e=>{if(tv.glU.getPageIdFromNode(e.nodeId)!==a)return;let l=t.get(e.nodeId);for(;l;){let t=r.get(l.guid);if(t){n.get(t)?.push(e);return}let a=l.parentNode;if(!a||"SECTION"===l.type||"CANVAS"===l.type)return;if("FRAME"===l.type&&!l.isStateGroup&&!l.resizeToFit&&(a?.type==="SECTION"||a?.type==="CANVAS")){n.get(l.guid)?n.get(l.guid)?.push(e):n.set(l.guid,[e]),r.set(e.nodeId,l.guid);return}l=a}}),n}(C,i,c),[C,t,c]);if(0===T.length&&y)return null;let Y=tU.z4.getIsExtension(),X=t=>{e((0,eB.to)({type:dz,data:{initialLink:t}}))},J=(t,a)=>{e((0,eB.to)({type:dB,data:{linkId:t,initialLinkUrl:a}}))},Q=u?.type==="SECTION"&&Z&&function(e,t){let a=new Map;for(let n of t.childrenNodes){let t="FRAME"===n.type&&e.get(n.guid);t&&a.set(n.guid,t)}return a}(Z,u),$=T.length>0||G||D.length>0||F.length>0||!h&&Z&&Z.size>0||Q&&Q.size>0,ee="loaded"===w&&"loaded"===P&&"loaded"===B;return n.createElement(t_.VZ,{title:(0,m.t)("dev_handoff.developer_related_links.links"),recordingKey:"developerLinks",headerChildren:n.createElement(n.Fragment,null,!ee&&n.createElement(ak.fI,{className:"developer_related_links_panel--spinner--2ofDP draggable_list--addButton--D0q--"},n.createElement(ew.kt,{className:dK})),ee&&j&&!S&&n.createElement("span",{className:dK},n.createElement(eK.K,{"aria-label":(0,m.t)("dev_handoff.developer_related_links.add_link_button"),onClick:z,recordingKey:"addDevRelatedLink",htmlAttributes:{"data-tooltip":(0,m.t)("dev_handoff.developer_related_links.add_link_button"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(dE.x,null)))),hideHeader:Y},!$&&(!g||Y)&&ee&&n.createElement(ak.fI,{className:A()("developer_related_links_panel--spinnerContainer--d-B-K")},n.createElement(ak.UZ,{className:A()(Y?"developer_related_links_panel--hintExtension--KCW5n text--fontPos11--2LvXf text--_fontBase--QdLsd":dW)},(0,m.tx)("dev_handoff.developer_related_links.empty_info"))),T.map(e=>n.createElement(ae,{key:e.linkUrl,isEditable:E&&"figmadoc"!==e.id,link:{...e,isInherited:!1},onOpenDeleteModal:J,onOpenEditModal:X})),G&&n.createElement(dk,{onCancel:()=>{V(!1),N(!1)},onSuccess:()=>{V(!1),N(!1)},onFocus:()=>N(!0),onUnfocus:()=>N(!1),existingUrls:T.map(e=>e.linkUrl),addExtraPadding:!(D.length>0||F.length>0||T.length>0)}),L&&R&&n.createElement(dY,{status:B,links:F}),D&&R&&n.createElement(dY,{status:P,links:D,isVariant:null!==L}),n.createElement(dQ,{links:[...T,...D,...F]}),!h&&Z&&n.createElement(dq,{frameToLinks:Z}),u?.type==="SECTION"&&Q&&n.createElement(dq,{frameToLinks:Q}),$&&!G&&p&&n.createElement(ak.UZ,{className:A()(dW)},(0,m.tx)("dev_handoff.developer_related_links.component_inherited_links_desc")))}function dq(e){let t=(0,tH.eY)();return n.createElement(n.Fragment,null,Array.from(e.frameToLinks.entries()).map(([a,r],l)=>n.createElement(dJ,{key:l,guid:a,sceneGraph:t,links:r,isLast:l===e.frameToLinks.size-1})))}function dJ(e){let{guid:t,sceneGraph:a}=e,[r,l]=n.useState(!1),i=a.get(t),[o,s]=n.useState(!1);if(!i)return null;let c=i.name;return o||(c=c+" ("+e.links.length+")"),n.createElement("div",{className:A()(o&&!e.isLast&&O.cx.pb8.$),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1)},n.createElement("div",{className:"developer_related_links_panel--sectionHeader--VHgzU"},n.createElement(x.E,{className:"developer_related_links_panel--sectionHeaderButton--hvqKn",onClick:e=>{e.stopPropagation(),s(!o)},actionOnPointerDown:!0},n.createElement("div",{className:"developer_related_links_panel--sectionHeaderButtonContent--p4hHo"},n.createElement(em.B,{className:"developer_related_links_panel--expandCaret--2h9sN",svg:o?ey.A:sE.A}),n.createElement(tm.Bf,{className:"developer_related_links_panel--layerIcon--NG2rK",guid:i.guid}),n.createElement("div",{className:"developer_related_links_panel--sectionName--xeFyg text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},c))),r&&n.createElement("span",{className:"developer_related_links_panel--goToTargetButton--JZoyi"},n.createElement(eK.K,{onClick:()=>tv.w3z.selectAndFocusOnNode(i.guid,!0),"aria-label":(0,m.t)("dev_handoff.developer_related_links.select_frame"),htmlAttributes:{"data-tooltip":(0,m.t)("dev_handoff.developer_related_links.select_frame"),"data-tooltip-type":ts.Ib.TEXT}},n.createElement(dy.A,null)))),o&&e.links.map((e,t)=>n.createElement(ae,{key:t,link:{...e,isInherited:!1,isNested:!0},isEditable:!1,onOpenDeleteModal:u.lQ,onOpenEditModal:u.lQ})))}function dQ({links:e}){let[t,a]=(0,l.fp)(tj),r=n.useMemo(()=>{let a=new Set(e.map(e=>e.linkUrl));return Object.values(t).filter(e=>!!e&&e.links.some(e=>a.has(e.linkUrl)))},[e,t]);async function i({links:e,plugin:t}){if(await t2.instance.runAuth({plugin:t,links:e.map(e=>({url:e.linkUrl,name:e.linkName,isInherited:e.isInherited,nodeId:e.nodeId}))})){a(e=>{let a={...e};return delete a[t.plugin_id],a});try{await Promise.all(e.map(e=>t2.instance.generateLinkPreview({plugin:t,link:e})))}catch(e){console.error(e)}}}return r&&0!==r.length?n.createElement(tP.Y,{spacing:4,direction:"vertical",width:"fill-parent",horizontalAlignItems:"start",padding:{top:4,left:16}},Array.from(r).map((e,t)=>n.createElement(sK.E,{key:t},(0,m.tx)("dev_handoff.related_links.plugin.auth_required",{button:n.createElement("button",{className:O.cx.colorTextBrand.bgTransparent.$,onClick:()=>i({links:e.links,plugin:e.plugin})},n.createElement(sK.E,null,(0,m.tx)("dev_handoff.related_links.plugin.connect_to",{pluginName:e.plugin.name})))})))):null}var d$=a(347082),d0=a(572206),d1=a(470669),d2=a(621856);function d5({initialInspectionMode:e,initialCodeLanguage:t}={}){let a=(0,l.md)(cX.hq),[r,i]=(0,n.useState)(e??a),o=(0,eQ.v4)(),[s,c]=(0,n.useState)(t??o),d=(0,rZ.aq)(s),u=(0,i9.ZA)(s,d),m=(0,d2.q)(s),p=(0,rZ.gc)(s.id),_=(0,d1.V0)({codeLanguage:s,onChange:c}),f=(0,cX.Ar)();return{inspectionMode:f.find(e=>e===r)||f[0],setInspectionMode:i,supportsAlternativeUnits:u,preferenceOptions:m,preferences:p,codeLanguageApi:_,inspectionModes:f}}var d3=a(499777),d4=a(977144),d6=a(746806);let d7="selection_styles_panel--scrollContainer--3PiSE",d8=(0,nx.jz)(sh.q9j),d9="dev_handoff_selection_style_modal";function ue(){let e=lN("EFFECT"),t=lN("TEXT"),a=(0,d3.Xo)(),l=(0,r.wA)(),i=!!a&&a.id===d9;return n.useEffect(()=>()=>{i&&l(ch.XE())},[l,i]),n.createElement(n.Fragment,null,e.visibleItems.length>0&&n.createElement(t_.VZ,{title:(0,m.t)("dev_handoff.selection_effect_styles"),recordingKey:"handoffEffectStyles"},e.visibleItems.map(e=>n.createElement(ut,{key:e?.key,styleData:e})),e.showMoreButton),t.visibleItems.length>0&&n.createElement(t_.VZ,{title:(0,m.t)("dev_handoff.selection_text_styles"),recordingKey:"handoffTextStyles"},t.visibleItems.map(e=>n.createElement(ut,{key:e?.key,styleData:e})),t.showMoreButton),i&&n.createElement(ua,null))}function ut({styleData:e}){let t=n.useRef(null),a=(0,d3.Xo)(),l=(0,r.wA)(),i=n.useCallback(()=>{t.current&&(a&&l(ch.XE()),l(ch.u1({id:d9,initialX:t.current.getBoundingClientRect().left-d8,initialY:t.current.getBoundingClientRect().top,data:e})))},[l,a,e]),o=a?.id===d9&&a?.data?.styleNodeId===e.styleNodeId;return n.createElement(x.E,{className:A()("selection_styles_panel--styleRow--t--sj",o&&"selection_styles_panel--selected--Jjay3"),onClick:i,htmlAttributes:{onMouseEnter:()=>tv.kTx.highlightOnlySameStyleInSublayers(e.guids),onMouseLeave:()=>tv.kTx.highlightOnlySameStyleInSublayers([])},ref:t,"aria-label":e.styleName},n.createElement("div",{className:"selection_styles_panel--icon--6ej2T"},n.createElement(lO.zi,{dsStyle:e,disableTooltip:!0})),n.createElement("div",{className:"selection_styles_panel--styleName--Xz37G text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.styleName))}function ua(){let e=(0,d3.Xo)(),t=(0,r.wA)(),a=n.useCallback(()=>{t(ch.XE())},[t]);if(!e||e.id!==d9)return null;let{style_type:l,name:i,styleNodeId:o}=e.data,s=new d0.Mi(e.initialX,e.initialY);return n.createElement(d$.p,{name:"selection_style_detail_modal"},n.createElement(d6.vx,{title:i,headerSize:"small",initialWidth:d8,initialPosition:s,recordingKey:"handoffStyleDetailsModal",onClose:a,autoflowHeight:!0,dragHeaderOnly:!0,alwaysEnsureModalOnScreen:!0,alwaysEnsureHeaderModalOnScreen:!0},n.createElement("EFFECT"===l?un:ui,{styleNodeId:o})))}function un({styleNodeId:e}){let t=d5(),{inspectionMode:a,codeLanguageApi:r}=t,l=void 0!==r,i=(0,sp.Fk)((e,t)=>{let a=e.get(t);if(a&&a.isAlive())return a.effects.reverse()},e),o=(0,cG.d7)(i??[]),s=n.useRef(null);if(!o||0===o.length)return null;let c=l&&"code"===a?n.createElement(cl,{overrideNodeId:e,hideLayoutSection:!0,sectionClassName:"selection_styles_panel--effectStyleCodeSection--7T-TK",localCodeLanguage:r.codeLanguage}):n.createElement("div",{className:"selection_styles_panel--effectStyleProperties--kGKRY"},o.map((t,a)=>n.createElement(cG.rK,{key:`${e}-${a}`,...t})));return n.createElement(ap.P,{ref:s,className:d7,onContextMenu:u.lQ},n.createElement(us,{preferencesApi:t,dropdownPrefix:"effectStyle"}),n.createElement(uo,{styleNodeId:e}),c)}function ur({styleNodeId:e}){let{isNodeInvalid:t,family:a,style:r,weight:l,size:i,lineHeight:o,letterSpacing:s}=(0,sp.Fk)((e,t)=>{let a=e.get(t);return a&&a.isAlive()?{family:a?.fontName.family,style:a?.fontName.style,weight:a?.fontWeightOrMixed,size:a?.fontSize,lineHeight:a?.lineHeightOrMixed==="mixed"?void 0:a?.lineHeightOrMixed,letterSpacing:a?.letterSpacing}:{isNodeInvalid:!0}},e);return t?null:n.createElement(t_.VZ,{hideHeader:!0,padding:t_.UZ.NONE,noBorder:!0,recordingKey:"textStyleDetails"},n.createElement(dn,{nodeId:e}),n.createElement(d4.hK,{height:4}),n.createElement(uo,{styleNodeId:e}),n.createElement("div",{className:"selection_styles_panel--textStyleProperties--DgbCN"},n.createElement(t_._p,{name:(0,m.t)("inspect_panel.typography.font"),value:a}),n.createElement(t_._p,{name:(0,m.t)("inspect_panel.typography.weight"),value:l}),n.createElement(t_._p,{name:(0,m.t)("inspect_panel.typography.style"),value:r}),n.createElement(t_.YE,{name:(0,m.t)("inspect_panel.typography.size"),value:i}),n.createElement(t_.di,{name:(0,m.t)("inspect_panel.typography.line_height"),value:o}),n.createElement(t_.di,{name:(0,m.t)("inspect_panel.typography.letter"),value:s})))}function ul({styleNodeId:e,codeLanguage:t}){return n.createElement(n.Fragment,null,n.createElement(t_.VZ,{hideHeader:!0,padding:t_.UZ.NONE,noBorder:!0,recordingKey:"textStyleDetails"},n.createElement(dn,{nodeId:e}),n.createElement(uo,{styleNodeId:e})),n.createElement(cl,{overrideNodeId:e,hideLayoutSection:!0,sectionClassName:"selection_styles_panel--textStyleCodeSection---86O2",localCodeLanguage:t}))}function ui({styleNodeId:e}){let t=d5(),{inspectionMode:a,codeLanguageApi:r}=t,l=void 0!==r,i=n.useRef(null),o=l&&"code"===a?n.createElement(ul,{styleNodeId:e,codeLanguage:r.codeLanguage}):n.createElement(ur,{styleNodeId:e});return n.createElement(ap.P,{ref:i,className:d7,onContextMenu:u.lQ},n.createElement(us,{preferencesApi:t,dropdownPrefix:"textStyle"}),o)}function uo({styleNodeId:e}){let t=(0,sp.Fk)((e,t)=>{if(!t)return;let a=e.get(t);if(a&&a.isAlive())return a?.description},e);return t?n.createElement(t_._p,{copyValue:t,className:"selection_styles_panel--styleDescriptionRow--k6xoM"},n.createElement(tL.R,{value:t,fallback:null,errorFallback:null,quillClassName:"selection_styles_panel--styleDescriptionQuill--KvK9W"})):null}function us({preferencesApi:e,dropdownPrefix:t}){return n.createElement("div",{className:"selection_styles_panel--preferencesRow--7Wgoe"},n.createElement(lE.n2,{preferencesApi:e,inspectionModeLayout:"tabs",dropdownPrefix:t}))}function uc(){return(0,c2.VX)(cJ.s4.FILL),(0,c2.VX)(cJ.s4.STROKE),(0,c2.VX)(cJ.s4.TEXT),(0,c2.VX)(cJ.s4.EFFECT),null}function ud(e){let t=(0,cq.q)(),a=(0,lw.LS)(),r=(0,tN.ro)(),i=c6(),o=(0,eo.VW)(),s=(0,eo.NM)(),c=(0,cX.sQ)(),d=(0,rY.AF)(),p=(0,rY.h)(),_=(0,aS.Um)(),f=n.useRef(null),h=(0,tH.eY)(),g=tU.z4.getIsExtension(),E=(0,s_.$F)(o),y=(0,l.md)(sY.be),[v,b]=n.useState(!1);n.useEffect(()=>{b(!1)},[o?.guid]);let C=(0,aO.mr)(o?.guid??"",h),w=(0,e6.kc)().dt_figmadoc&&C&&r&&!v;return n.createElement("div",{className:im},t&&n.createElement(c$.Mw,{panelName:c$.ON.HANDOFF}),n.createElement(s8,{plugin:y??null}),a&&!g&&n.createElement(rV,{lastViewTimestamp:e.lastViewTimestamp}),s&&!g&&n.createElement(rU,null),n.createElement(uc,null),n.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},n.createElement(ap.P,{ref:f,className:"inspect_panel--scrollContainer--wwC0l properties_panel--scrollContainer--o2LxW",onContextMenu:u.lQ,scrollingDisabled:!!_},n.createElement(M.fu,{name:cQ.e0.CODE_PANEL},n.createElement(s4.i,null,n.createElement("div",{className:g?"inspect_panel--inspectPanelContentsBottomAligned--MOK20":"inspect_panel--inspectPanelContents--iYf8P"},a?n.createElement(n.Fragment,null,r&&n.createElement(n3,null),(0,e6.kc)().dt_code_connect_go_to_parent&&n.createElement(ni,null),(0,e6.kc)().dse_editor_templates_v1&&i&&n.createElement(dg,null),n.createElement(dX,null),w?n.createElement("div",{className:"inspect_panel--inspectLayerPropertiesButtonContainer--zgz1r"},n.createElement(N.IK,{onClick:()=>b(!0),variant:"secondary"},(0,m.tx)("dev_handoff.inspect_panel.show_more_properties"))):n.createElement(n.Fragment,null,n.createElement(cY,null),E&&n.createElement(n.Fragment,null,n.createElement("div",{className:O.cx.pt4.$},n.createElement(lE.pm,null)),n.createElement("div",{className:A()("inspect_panel--layerPreview--hxLhR",tU.z4.getIsExtension()&&"inspect_panel--isInExtension--kzn7u")},n.createElement(dm,null)),n.createElement(dp.J,null),c&&d?n.createElement(cl,null):n.createElement(cK,null)),n.createElement(c3.GO,null),n.createElement(c0.t,null),E&&n.createElement(lR,null),(0,e6.kc)().dt_lego_selection_styles&&n.createElement(ue,null),n.createElement(c5.L,null)),n.createElement(c4.L,null)):s?n.createElement(n.Fragment,null,n.createElement(lR,null),(0,e6.kc)().dt_lego_selection_styles&&n.createElement(ue,null),n.createElement(c5.L,null),n.createElement(c4.L,null)):n.createElement(n.Fragment,null,p&&n.createElement(sj,null),d&&n.createElement(i8.$b,null),n.createElement(c1.A,null),n.createElement(dX,null),n.createElement(cB,null)),n.createElement("div",null)))))))}var uu=a(31913);let um=()=>{su.Y5.triggerAction("deselect-all")};function up({version:e}){let t=(0,th.R)(),a=(0,r.wA)(),l=(0,lQ.hA)(),i=function(e,t){if(!t.dev_mode_activity||0===t.dev_mode_activity.length)return;let a=e?t.dev_mode_activity.find(t=>t.node_id===e):t.dev_mode_activity[0];if(a)return{id:a.id,activityType:a.activity_type,timestamp:new Date(a.timestamp),version:{id:t.id,description:t.description??null},user:{id:t.user.id,name:t.user.handle,imgUrl:t.user.img_url},metadata:a.metadata}}(l,e),o=l&&i?n.createElement(cI,{activity:i}):n.createElement(cv.YL,{item:e});return n.createElement(cv.jP,{description:e.description,label:"activity-row",displayText:o,view:null,iconOverride:i?cM(t,i,!0):void 0,onSelect:u.lQ,isActive:!0,user:e.user.handle,userUrl:e.user.img_url,isAllowedToChangeVersion:()=>!1,versionId:e.id,dispatch:a,first:!1,last:!0,isUI3:t,editorType:cg._Y.DESIGN,time:l?void 0:e.edited_at})}function u_({versions:e}){let t=cR(),{activeId:a}=(0,r.d4)(e=>e.versionHistory),l=(0,r.d4)(e=>e.openFile?.canEdit),i=(0,r.wA)(),o=(0,lQ.hA)(),s=cD(),c=cO(),d=t?e[0]:e.find(e=>e.id===a),u=new P.q(nd.ju.LIVE_FILE).get(o??""),p=u?.editInfo?.lastEditedAt;return d?n.createElement("div",{className:O.cx.flex.flexColumn.borderBox.bSolid.bb1.colorBorder.$},o?null:n.createElement(cv.s3,{onClose:c,addSavepoint:()=>{i((0,eB.to)({type:cC.yU,data:{}})),um()},isViewOnly:!l}),n.createElement("div",null,n.createElement(cP,{lastEditedAt:p,hasEdits:!1,isActive:t,onSelect:()=>{o?s(o):(i(uu.Fm({id:cE.V_})),um())},focusNodeId:o}),!t&&n.createElement(up,{version:d})),n.createElement(iT.N_,{className:O.cx.flex.pt6.pb6.pl16.pr16.itemsCenter.$,onClick:um,trusted:!0},(0,m.tx)("dev_handoff.version_history.view_all_versions"))):null}let uf=n.memo(function(){let{commentsActive:e,isNodeSelected:t,versionHistoryActive:a}=(0,er.R)(e=>({commentsActive:e.mirror.appModel.currentTool===el.ec.tool,isNodeSelected:Object.keys(e.mirror.sceneGraphSelection).length>0,versionHistoryActive:e.mirror.appModel.activeCanvasEditModeType===tv.m1T.DEV_HANDOFF_HISTORY})),r=(0,tn.GS)(),i=(0,lQ.hA)(),o=(0,l.md)(ei.H),s=(0,eZ.E1)(),c=(0,tc.jh)(i??void 0);es({doReport:!0});let d=a&&!t&&!i,m=a&&t,p=o===ei._.PRIMARY&&!e&&!d;return n.createElement(is.vL,{name:"rightPanels",focusOnMount:!0,handleKeyDown:u.lQ},n.createElement("div",{id:"dev-handoff-inspect-panel"},n.createElement(s3,null,d&&n.createElement(cv.yU,{isUI3:r}),m&&n.createElement(u_,{versions:c.versions}),e&&n.createElement(l8,null),p&&n.createElement(ud,{lastViewTimestamp:s}),n.createElement(sJ,null))))});var uh=a(961747),ug=a(553551);let uE="dev-handoff-breadcrumbs-dropdown",uy="dev-handoff-collapsed-breadcrumb-dropdown";function uv(e){return!!e}function ub(){let e=n.useRef(null),[t,a]=n.useState(null),r=n.useCallback(()=>{a(e?.current?.getBoundingClientRect()||null)},[e]);return n.useEffect(()=>(r(),uh._.addListener(r),window.addEventListener("resize",r),()=>{uh._.removeListener(r),window.removeEventListener("resize",r)}),[r]),[e,t,r]}function uC({selectedNode:e,targetRect:t}){let a=(0,r.wA)(),l=(e=>{let t=e.parentNode;return t?.childrenNodes??[e]})(e).map(t=>{let a=t?function({children:e}){return e.map(e=>({displayText:e.name,onMouseEnter:()=>aT.Uc(e.guid),onMouseExit:()=>aT.Uc(""),icon:n.createElement(tm.Bf,{guid:e.guid,isMenuIcon:!0}),callback:()=>aT.tJ([e.guid])})).filter(uv)}({children:t.childrenNodes}):void 0;return t?{displayText:t?.name??"",isChecked:t.guid===e.guid,onMouseEnter:()=>aT.Uc(t.guid),onMouseExit:()=>aT.Uc(""),icon:n.createElement(tm.Bf,{guid:t?.guid??"",isMenuIcon:!0}),callback:()=>aT.tJ([t.guid]),children:a&&a.length>0?a:void 0,callbackOnClickWithChildren:!0}:null}).filter(uv);return n.createElement(oZ.j,{showPoint:!1,items:l,onSelectItem:e=>{e.callback&&e.callback("",null,a)},parentRect:t,dispatch:a,displayAboveTarget:!0})}function uw({nodeID:e}){let t=(0,r.wA)(),[a,l,i]=ub(),o=(0,aS.Um)(),s=(0,tH.eY)().get(e);if(!s)return null;let c=o?.type===uE,d="INSTANCE"===s.type||"SYMBOL"===s.type;return n.createElement(n.Fragment,null,c&&l&&n.createElement(uC,{selectedNode:s,targetRect:l}),n.createElement("button",{className:"dev_handoff_breadcrumbs--pathElementSelected--w9aeS dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:function(){i(),c||t(ib.j7({type:uE,data:{hasOwnEscKeyHandler:!1}}))},ref:a,title:s.name},n.createElement(tm.Bf,{guid:s.guid,className:d?"dev_handoff_breadcrumbs--layerIconPurple--Qit6B":"dev_handoff_breadcrumbs--layerIcon--jR8ti"}),s.name))}function uT({nodeID:e}){let t=(0,tH.eY)().get(e);return t?n.createElement("button",{title:t.name,className:"dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:()=>aT.tJ([t.guid]),onMouseEnter:()=>aT.Uc(t.guid),onMouseLeave:()=>aT.Uc("")},t.name):null}function uS({nodeIDs:e}){let t=(0,r.wA)(),[a,l,i]=ub(),o=(0,aS.Um)(),s=o?.type===uy,c=(0,tH.eY)(),d=e.map(c.get).filter(e$.isNotNullish),u=d.map(e=>({displayText:e.name,onMouseEnter:()=>aT.Uc(e.guid),onMouseExit:()=>aT.Uc(""),icon:n.createElement(tm.Bf,{guid:e.guid,isMenuIcon:!0}),callback:()=>aT.tJ([e.guid])}));return n.createElement(n.Fragment,null,s&&l&&n.createElement(oZ.j,{showPoint:!1,items:u,onSelectItem:e=>{e.callback&&e.callback("",null,t)},parentRect:l,dispatch:t,displayAboveTarget:!0}),n.createElement("button",{ref:a,className:"dev_handoff_breadcrumbs--pathElementCollapsed--uY2eU dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:function(){i(),s||t(ib.j7({type:uy,data:{hasOwnEscKeyHandler:!1}}))},title:(0,m.t)("dev_handoff.breadcrumbs.hidden_nodes",{count:d.length})},(0,m.t)("dev_handoff.breadcrumbs.ellipsis")))}let uN=n.memo(()=>{let{selectedNodeID:e}=(0,er.R)(e=>({selectedNodeID:Object.keys(e.mirror.sceneGraphSelection)[0]})),t=(0,iD.J2)(tv.Ez5.devHandoffState().currentNodeId),a=(0,sp.Fk)((e,t,a)=>{let n=e.get(t);return n?function(e){return e.length<=4?e:[e[0],e.slice(1,-2),e[e.length-2],e[e.length-1]]}([...function e(t,a){if(a.guid===t)return[];let n=a.parentNode;return n?[...e(t,n),n]:[]}(a,n),n]):[]},e,t),r=P.q.instance.get(e);return 0!==a.length&&r?n.createElement("div",{className:"dev_handoff_breadcrumbs--container--BoCAA"},a.map((e,t)=>{let r=t===a.length-1,l=n.createElement(em.B,{svg:ug.A,className:r?"dev_handoff_breadcrumbs--chevronIconSelected--NrpAP dev_handoff_breadcrumbs--chevronIcon--MAw4y":"dev_handoff_breadcrumbs--chevronIcon--MAw4y",height:"3px",width:"6px"});return Array.isArray(e)?n.createElement(n.Fragment,{key:e.map(e=>e.guid).join("-")},l," ",n.createElement(uS,{nodeIDs:e.map(e=>e.guid)})):r?n.createElement(n.Fragment,{key:e.guid},l," ",n.createElement(uw,{nodeID:e.guid})):n.createElement(n.Fragment,{key:e.guid},l," ",n.createElement(uT,{nodeID:e.guid}))})):null});var ux=a(536825),uk=a(949632),uI=a(227944),uA=a(333483);let uL="dev_handoff_index_view_zoom_control--zoomButton--l1ZDl",uO="dev_handoff_index_view_zoom_control--buttonDisabled--krwH2";function uR(){let{Dropdown:e,toggleDropdown:t,dropdownTargetRef:a}=(0,tu.B)("DEV_HANDOFF_INDEX_VIEW_ZOOM_DROPDOWN"),r=(0,uI.Zr)("zoom-out"),l=(0,uI.Zr)("zoom-in"),i=Math.round(100*(0,iD.J2)((0,uk.d)().activeCanvasCurrentZoom)).toString(),o=[{displayText:(0,m.t)("dev_handoff.vscode.zoom_control.zoom_options_actual_size"),callback:()=>tv.glU.setCanvasZoomScale(1)},{displayText:(0,m.t)("dev_handoff.vscode.zoom_control.zoom_options_fit_to_screen"),callback:()=>tv.w3z.setFocusZoomLevel(tv.i1K.FIT_TO_SCREEN)},{displayText:(0,m.t)("dev_handoff.vscode.zoom_control.zoom_options_fit_to_width"),callback:()=>tv.w3z.setFocusZoomLevel(tv.i1K.FIT_TO_WIDTH)},{displayText:(0,m.t)("dev_handoff.vscode.zoom_control.zoom_options_fill_screen"),callback:()=>tv.w3z.setFocusZoomLevel(tv.i1K.FILL_SCREEN)}];return n.createElement("div",{className:"dev_handoff_index_view_zoom_control--container--oBEBg",ref:a},n.createElement(x.E,{className:A()(uL,uA.NB,{[uA.pq]:r}),onClick:()=>su.Y5.triggerAction("zoom-out",{source:"vscode-zoom-menu"}),disabled:!r,"aria-label":(0,m.t)("dev_handoff.vscode.zoom_control.zoom_out_button"),htmlAttributes:{"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":(0,m.t)("dev_handoff.vscode.zoom_control.zoom_out_button")}},n.createElement(ux.O,{className:A()({[uO]:!r})})),n.createElement("button",{className:"dev_handoff_index_view_zoom_control--zoomLevel--uI6yg text--fontPos11--2LvXf text--_fontBase--QdLsd",style:{width:`${Math.max(i.length,4)}em`},onClick:t},i,"% ",n.createElement(em.B,{svg:rN.A})),n.createElement(x.E,{className:A()(uL,uA.NB,{[uA.pq]:l}),onClick:()=>su.Y5.triggerAction("zoom-in",{source:"vscode-zoom-menu"}),disabled:!l,"aria-label":(0,m.t)("dev_handoff.vscode.zoom_control.zoom_in_button"),htmlAttributes:{"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":(0,m.t)("dev_handoff.vscode.zoom_control.zoom_in_button")}},n.createElement(eW.e,{className:A()({[uO]:!l})})),n.createElement(e,{items:o,showPoint:!0,displayAboveTarget:!0}))}var uM=a(870505),uD=a(901765),uP=a(741951);function uF({isToolbarOpen:e}){let[t,a]=n.useState(!1),r=n.useRef(null),l=n.useRef(null),i=n.useRef(null),[o,s]=n.useState(null),c=(0,iD.J2)(tv.Ez5.devHandoffState().currentNodeId),d=(0,eo.uQ)(),{inspectableRootNodeId:u,didSelectRow:p}=sU(c,d);n.useEffect(()=>a(!1),[d]),(0,uD.L)(l,()=>{t&&a(!1)},!0);let _=n.useCallback(()=>{a(!1)},[a]);return n.createElement("div",{ref:l,className:"frame_picker--container--tkwaQ"},n.createElement("button",{className:"frame_picker--trigger--ZPMqZ",ref:r,onClick:function(){if(t)a(!1);else{let e=r.current?.getBoundingClientRect();e&&(s(e),a(!0))}},"data-tooltip":(0,m.t)("dev_handoff.tag.layers"),"data-tooltip-type":ts.Ib.TEXT,"data-tooltip-show-above":!0},n.createElement(em.B,{svg:uP.A})),o&&n.createElement(cb.Cf,{className:t?void 0:"frame_picker--closedDropdown--ynVzU",targetRect:o,displayAboveTarget:!0,type:cb.it.MATCH_BACKGROUND,disableDropdownScrollContainer:!0,propagateCloseClick:!0},n.createElement("div",{ref:i,className:A()("frame_picker--frames--vobWI",e&&"frame_picker--isToolbarOpen--i2EBR")},n.createElement(sG,{onRowClick:_,didSelectRow:p,inspectableRootNodeId:u}))))}var uB=a(109388);let uU="inspect_tabs--column--6BLEt",uH="inspect_tabs--settingImage--VEeXo",uG="inspect_tabs--codeContainer--G3I2n",uV="inspect_tabs--codeContent--HOypb",uz="inspect_tabs--codeBoxModelInline--o-8PU",uK="inspect_tabs--codeBoxModelSide--4N2rL";var uW=a(841822);let uj="DEV_HANDOFF_DEV_RESOURCE_DROPDOWN";function uZ(e){return n.createElement("div",{className:"inspect_tabs--setting--OTZN3"},n.createElement("div",{className:"inspect_tabs--settingRow--qP9rB"},n.createElement("div",{className:"inspect_tabs--settingLabel--Fr85N"},e.label),n.createElement("button",{className:"inspect_tabs--settingLink--YT0SJ",onClick:e.onClick},(0,m.tx)("dev_handoff.inspect_panel.open_setting"))),n.createElement("div",{className:"inspect_tabs--settingDescription--Fxbgh"},e.description))}function uY(){let e=(0,eo.VW)();return(0,rY.h)()?n.createElement(sj,null):e?n.createElement("div",{className:uG},n.createElement("div",{className:uz},n.createElement(dm,null)),n.createElement("div",{className:uV},n.createElement(tT.tH,{boundaryKey:"Figmadoc",fallback:tT.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(no,null)),n.createElement(dp.J,null),n.createElement(cl,null),n.createElement(c3.GO,null),n.createElement(c0.t,null),n.createElement(lR,null),(0,e6.kc)().dt_lego_selection_styles&&n.createElement(ue,null)),n.createElement("div",{className:uK},n.createElement(dm,{fillContainer:!0}))):n.createElement(uX,null)}function uX(){return n.createElement("div",{className:"inspect_tabs--codeEmpty--B2DYX"},n.createElement("div",{className:uU},n.createElement("img",{alt:"",className:uH,src:"https://static.figma.com/uploads/90580516d4d39519d44b86a2e591f4e576475013",onDragStart:e=>e.preventDefault()}),n.createElement(uZ,{label:(0,m.t)("dev_handoff.inspect_panel.property_suggestions.title"),description:(0,m.t)("dev_handoff.inspect_panel.property_suggestions.body"),onClick:tV.KQ})),n.createElement("div",{className:uU},n.createElement("img",{alt:"",className:uH,src:"https://static.figma.com/uploads/4b9430b030179277555a6fe2114ceffc0f49ed61",onDragStart:e=>e.preventDefault()}),n.createElement(uZ,{label:(0,m.t)("dev_handoff.inspect_panel.block_suggestions.title"),description:(0,m.t)("dev_handoff.inspect_panel.block_suggestions.body"),onClick:tV.lk})))}function uq(){return n.createElement("div",{className:uG},n.createElement("div",{className:uz},n.createElement(dm,null)),n.createElement("div",{className:uV},n.createElement(dp.J,null),n.createElement(cK,null),n.createElement(c3.GO,null),n.createElement(c0.t,null),n.createElement(lR,null),(0,e6.kc)().dt_lego_selection_styles&&n.createElement(ue,null)),n.createElement("div",{className:uK},n.createElement(dm,{fillContainer:!0})))}function uJ(){return n.createElement("div",{className:"inspect_tabs--assetsContainer--ETjja"},n.createElement(c5.L,null),n.createElement(c4.L,null))}function uQ(){return n.createElement("div",{className:"inspect_tabs--componentsContainer--ERYGT"},n.createElement("div",{className:"inspect_tabs--componentsContent--qXnwd"},n.createElement(n2,null)),n.createElement("div",{className:"inspect_tabs--componentsPreview--79zEW"},n.createElement(nR,null)))}function u$({setActiveTabId:e}){let t=(0,r.wA)(),a=(0,aS.Um)(),i=n.useRef(null),[o,s]=(0,l.fp)(dZ),c=(0,eN.U)(),d=(0,tN.Nf)()??"",u=(0,tH.eY)().get(d),p=document.getElementById("dev-handoff-inspect-panel"),_=a?.type===uj;return n.createElement(n.Fragment,null,n.createElement("div",{ref:i},n.createElement(tf.YW,{svg:uW.A,onClick:function(){_?t(ib.oB()):t(ib.j7({type:uj}))},selected:_,"data-tooltip":(0,m.t)("dev_handoff.add_dev_resource"),"data-tooltip-type":ts.Ib.TEXT})),_&&i.current&&p&&(0,uB.createPortal)(n.createElement(oZ.j,{items:[{displayText:"Add link to code file...",action:"add_file_link"},{displayText:"Add link to dev resource... ",action:"add_link"}],onSelectItem:t=>{switch(t.action){case"add_file_link":e(ei._.DEV_RESOURCES),c("Dev Handoff Related Links Click Code File Link",{nodeId:d,nodeType:u?.type,source:"web"}),(0,tV.qE)();break;case"add_link":e(ei._.DEV_RESOURCES),s(!0)}},dispatch:t,parentRect:i.current.getBoundingClientRect(),showPoint:!1}),p))}function u0(){let[e,t]=(0,l.fp)(ei.H),a=(0,lw.LS)(),r=(0,eo.NM)(),i=(0,tN.ro)(),o=(0,l.md)(sY.be),s=r?[{id:ei._.ASSETS,title:(0,m.t)("dev_handoff.assets"),Component:uJ,recordingKey:"extensionAssetsTab"}]:[{id:ei._.PRIMARY,title:(0,m.t)("inspect_panel.code.code"),Component:uY,recordingKey:"extensionCodeTab"}];return a&&(s.push({id:ei._.PROPERTIES,title:(0,m.t)("fullscreen.properties_panel.properties"),Component:uq,recordingKey:"extensionPropertiesTab"}),i&&s.push({id:ei._.COMPONENT,title:(0,m.t)("dev_handoff.inspect_panel.component"),Component:uQ,recordingKey:"extensionComponentTab"}),s.push({id:ei._.DEV_RESOURCES,title:(0,m.t)("dev_handoff.developer_related_links.links"),Component:dX,recordingKey:"extensionRelatedLinksTab"}),s.push({id:ei._.ASSETS,title:(0,m.t)("dev_handoff.assets"),Component:uJ,recordingKey:"extensionAssetsTab"})),s.push({id:ei._.PLUGIN,title:(0,m.t)("dev_handoff.tab.plugins"),Component:sJ,recordingKey:"extensionPluginsTab"}),n.useEffect(()=>{s.find(t=>t.id===e)||t(ei._.PRIMARY)},[e,t,a]),n.createElement(n.Fragment,null,n.createElement("div",{className:"inspect_tabs--tabsBar--nbu1a"},n.createElement(ap.P,{innerClassName:"inspect_tabs--tabs--w8XOI",minContentWidth:100},s.map(a=>n.createElement(l9.je,{key:a.title,text:a.title,isActive:e===a.id,recordingKey:a.recordingKey,onClick:()=>{t(a.id)},isSingle:1===s.length}))),n.createElement("div",{className:"inspect_tabs--rightButtons--HeXhW"},o&&n.createElement(eK.K,{htmlAttributes:{"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":(0,m.t)("dev_handoff.inspect_panel.close_plugin")},"aria-label":(0,m.t)("dev_handoff.inspect_panel.close_plugin"),onClick:()=>{(0,s6.wY)()}},n.createElement(i0.A,null)),n.createElement(n5,null),n.createElement(u$,{setActiveTabId:t}))),s.map(t=>n.createElement("div",{key:t.title,className:"inspect_tabs--activeTabContainer--LBYjQ",style:{display:e===t.id?void 0:"none"}},n.createElement(t.Component,null))))}let u1="extension_bottom_panel--buttons--itG9x";var u2=a(301087),u5=a(87071);let u3=(0,nx.jz)(sh.YI7),u4=()=>.75*window.innerHeight,u6=(0,nx.jz)(sh.Qhc);function u7(){let[e,t]=(0,so.Vc)("extension_bottom_panel_expanded",!0),[a,r]=(0,l.fp)(uM.g),[i,o]=n.useState(!1),s=(0,eo.VW)(),c=(0,iD.J2)(tv.Ez5.devHandoffState().focusMode),d=(0,iD.J2)((0,lx.UK)().devHandoffInspectSplitPosition);n.useEffect(()=>{let t;t=e?a:u3,(0,lx.UK)().devHandoffInspectSplitPosition.set(t)},[e]);let u=n.useCallback(()=>{o(!0)},[]),p=n.useCallback(e=>{if(i){var t;let a=(t=window.innerHeight-e.clientY,Math.max(u3,Math.min(u4(),t||0)));a!==d&&((0,lx.UK)().devHandoffInspectSplitPosition.set(a),r(a))}},[i,d,r]),_=n.useCallback(()=>{o(!1)},[]);return n.useEffect(()=>(document.addEventListener("mousemove",p),document.addEventListener("mouseup",_),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",_)})),n.createElement("div",{id:"dev-handoff-inspect-panel",className:A()("vscode","extension_bottom_panel--container--zaRdX",ep.Dm,e&&"extension_bottom_panel--isOpen--m5UfA"),style:{height:`${d}px`}},c?n.createElement("div",{className:A()(u1,"extension_bottom_panel--buttonsNewUx--qjtmo")},n.createElement(uR,null)):n.createElement("div",{className:A()(u1)},n.createElement(sz.C,{floating:!1})),n.createElement("div",{className:"extension_bottom_panel--header--ZmzTG"},e&&n.createElement("div",{className:"extension_bottom_panel--edge--cuoAZ",onMouseDown:u,onDoubleClick:()=>{(0,lx.UK)().devHandoffInspectSplitPosition.set(u6+u3),r(u6+u3)},role:"none"}),n.createElement(uF,{isToolbarOpen:e}),s&&n.createElement(n.Fragment,null,n.createElement(uN,null)),n.createElement("div",{className:A()("extension_bottom_panel--headerRightButtons--qVDj-",O.cx.pt4.$)},n.createElement(lE.pm,null),n.createElement("button",{onClick:function(){t(!e)},style:{width:"32px"}},n.createElement(em.B,{"data-tooltip-type":ts.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip":e?(0,m.t)("dev_handoff.vscode.inspect_panel.hide_inspect_tooltip"):(0,m.t)("dev_handoff.vscode.inspect_panel.show_inspect_tooltip"),svg:e?u5.A:u2.A,autosize:!0})))),n.createElement("div",{className:"extension_bottom_panel--transitionContainer--5UlLL",style:{maxHeight:`${d-u3}px`}},n.createElement(u0,null)))}var u8=a(85304),u9=a(461837),me=a(341450),mt=a(774844),ma=a(589282),mn=a(849262),mr=a(465904),ml=a(132135),mi=a(707465),mo=a(294461);let ms="floating_layers_panel--isSymbol--3KTvH",mc="floating_layers_panel--layerName--LBYru";function md(){let e=(0,iD.J2)((0,lx.UK)().showGuids),t=(0,eo.Tv)(),a=(0,sp.Fk)((e,t)=>t&&e.get(t),t[0]||null),l=!!a&&["SYMBOL","INSTANCE"].includes(a.type),{inspectableRootNodeId:i,didSelectRow:o}=sU((0,iD.J2)(tv.Ez5.devHandoffState().currentNodeId),t[0]||null),s=(0,r.d4)(e=>e.mirror.appModel.currentPage),c=i||s,d=(0,tz.Xr)(sw),u=[{displayText:(0,m.t)("dev_handoff.layers.collapse_all_layers"),callback:()=>d([c])}],p=(0,iD.J2)(tv.Ez5.devHandoffState().automaticIconDetection),_=n.useMemo(()=>t.length>0?tv.w3z.getOrAddAssetInfo(t[0]):null,[t]);return 0!==t.length&&a?n.createElement(mo.P,{title:t.length>1?n.createElement("div",{className:mc},(0,m.tx)("dev_handoff.workflows.focus_view.multiple_layers_selected",{count:t.length})):n.createElement("div",{className:A()(mc,{[ms]:l})},a.name,e?` (${a.guid})`:""),nodeIcon:n.createElement("div",{className:A()("floating_layers_panel--layersIcon--q0eoA",{[ms]:l})},n.createElement(sf.rI,{node:a,showIcons:p,assetInfo:_})),panelActions:n.createElement(sN,{dropdownItems:u})},n.createElement(sT,{inspectableRootNodeId:i,didSelectRow:o,page:s,hideHeader:!0})):null}var mu=a(540828),mm=a(282741);let mp="focus_canvas_ui--nodeNameIcon--53sP1",m_=(0,nx.jz)(sh.M$q);function mf(){let e=(0,r.wA)(),t=(0,r.d4)(e=>e.versionHistory),{Dropdown:a,toggleDropdown:l,dropdownTargetRef:i,isDropdownShown:o}=(0,tu.B)("FOCUS_MODE_NAME_DROPDOWN"),s=(0,v.q5)(),c=(0,eo.uQ)(),d=(0,lQ.hA)(),u=(0,ti._6)(),p=(0,lw.$A)(u)?u.focusViewBackNavigation:void 0,_=(0,mu.TP)(p?.toEditorType),f=(0,eL.U)("focus_view_show_on_page"),h=(0,mu.TQ)(p?.toEditorType),g=[{displayText:(0,m.t)("dev_handoff.workflows.focus_view.show_canvas"),recordingKey:"dev_handoff.focus.show_on_page",callback:function(){"editorType"in _&&_.editorType===cj.nT.Design&&f("design"),t.activeId&&t.activeId!==cE.V_&&e((0,cE.Eg)()),h("Dev Mode Focus View Go To Canvas Clicked",d)}},{displayText:(0,m.t)("dev_handoff.workflows.focus_view.copy_link"),recordingKey:"dev_handoff.focus.copy_link",callback:()=>{e(ta.lW({stringToCopy:(0,ml.jN)({file:s,nodeId:c,isDevHandoff:!0,devModeFocusId:d,isReadOnly:!0,isFigJam:!1,attributionContext:null})}))}}];return n.createElement(n.Fragment,null,n.createElement("div",{ref:i},n.createElement(e0.d,{toggled:o,recordingKey:"dev_handoff.focus.options",onClick:l,"aria-label":(0,m.t)("dev_handoff.workflows.more_actions_tooltip"),htmlAttributes:{"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":(0,m.t)("dev_handoff.workflows.more_actions_tooltip")}},n.createElement(e2.J,null))),n.createElement(a,{items:g,showPoint:!0}))}function mh(){let e=(0,r.wA)(),t=(0,lx.UX)(),a=(0,tn.GS)(),i=(0,lQ.hA)(),o=(0,sp.Fk)((e,t)=>t?e.get(t):null,i),s=(0,v.tS)(),d=(0,r.d4)(e=>e.versionHistory),u=(0,mr.QV)(),p=(0,eN.U)(),_=(0,eL.U)("focus_view_back"),f=(0,iD.J2)((0,aT.aY)()),h=(0,r.d4)(e=>(0,lw.$A)(e.selectedView)?{...e.selectedView,editorType:e.selectedView.focusViewBackNavigation?.toEditorType??e.selectedView.editorType,showOverview:e.selectedView.focusViewBackNavigation?.toOverview??!0,focusViewBackNavigation:void 0,devModeFocusId:void 0}:e.selectedView),g=(0,r.d4)(e=>(0,mi.Np)(e,h)),E=(0,mu.U0)(),y=(0,r.d4)(e=>(0,mi.Np)(e,E)),[,b]=(0,l.fp)(mm._o),[C]=(0,l.fp)(mm.wz);if((0,c.h)(()=>{i&&tv.w3z.focusOnNode(i,!1),f===tv.FAf.PROTOTYPE&&(0,aT.NT)(tv.FAf.DESIGN),(0,e6.kc)().dt_workflows_recently_viewed&&s&&i&&u(s,i),p("Dev Mode Focus View Shown",{source:C||"init"},{forwardToDatadog:!0})}),!i||!o)return null;let w=d.activeId&&d.activeId!==cE.V_;return n.createElement("div",{className:"focus_canvas_ui--container--YwKdJ",style:{paddingRight:a?t+m_:t}},n.createElement("div",{className:"focus_canvas_ui--background--jKiDi"}),n.createElement("div",{className:"focus_canvas_ui--header--gxex-"},n.createElement(e7.lt,{className:"focus_canvas_ui--overviewLink--imOQr",onClick:function(t){t.preventDefault(),e(ib.$T(E)),d.activeId&&d.activeId!==cE.V_&&e((0,cE.Eg)()),b("breadcrumb_clicked")},href:y,"data-onboarding-key":c_,recordingKey:"dev_handoff.workflows.focus.overview_breadcrumb"},(0,m.tx)("dev_handoff.status.ready_for_dev")),n.createElement(me.e,{className:"focus_canvas_ui--breadCrumbSeparator--tkhRI"}),n.createElement("div",{className:"focus_canvas_ui--nodeName--kuQ54","data-onboarding-key":cu},o.isSection?n.createElement(mt.c,{className:mp}):n.createElement(ma.q,{className:mp})," ",n.createElement("span",{className:"focus_canvas_ui--nodeNameLabel--f7DnW"},o.name)),n.createElement(mf,null),!w&&n.createElement(mn.c,{node:o,sourceForLogging:"focus-ui",onboardingKey:cm}),n.createElement("a",{className:"focus_canvas_ui--backLink--oBW-6",onClick:function(t){t.preventDefault();let a="editorType"in h&&h.editorType===cj.nT.Design;!("showOverview"in h&&h.showOverview)&&a&&_("design"),e(ib.$T(h)),d.activeId&&d.activeId!==cE.V_&&e((0,cE.Eg)());let n="unknown";"fullscreen"===h.view&&(n=h.showOverview?"overview":h.editorType===cj.nT.Design?"design_canvas":"dev_mode_canvas"),b("focus_close_clicked"),p("Dev Mode Focus View Close Clicked",{target:n})},href:g,"data-tooltip-type":ts.Ib.TEXT,"data-tooltip":(0,m.t)("dev_handoff.workflows.focus_view.back_link_tooltip")},n.createElement(i0.A,null))),n.createElement("div",{className:"focus_canvas_ui--viewportContainer--E-aVJ"}),n.createElement(md,null),n.createElement(cf,null))}function mg(){let e=(0,i._I)(),t=(0,tH.aV)(),a=(0,r.d4)(e=>e.mirror.appModel.showUi),o=(0,to.iZ)(),s=(0,r.wA)(),c=(0,lQ.l7)();(0,iF.X_)(),(0,iM.z)({topLevelMode:lY.lyf.DEV_HANDOFF,eventName:"Dev Handoff Selection Changed"});let d=(0,v.tS)()??"";return((0,n.useEffect)(()=>{let e=()=>(0,iP.s2)({userID:o?.id??"",openFileKey:d});return e(),e},[e,d,o?.id]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{iB.sr.enrollUserInStatusChange({fileKey:d})?.then(e=>{let t=l.zl.get(iO.D);e.data?.meta?.newEnrollment&&!t&&s(iL.jK({userId:o?.id??"",fileKey:d}))})},5e3);return()=>clearTimeout(e)},[d,o?.id,s]),t||!a)?null:e||c?n.createElement(mv,null):n.createElement(iA,null)}function mE(){return(0,i$.O)(),null}function my(){let e=(0,th.R)(),t=(0,lQ.l7)(),a=(0,lQ.hA)(),r=(0,i._I)();return!a&&(r||t)?n.createElement("div",{className:"devHandoffLeftPanel"},n.createElement(eE.Q,{ignoreRulers:t},n.createElement(eh.B,null),n.createElement(e_.$,null,e&&n.createElement(n.Fragment,null,n.createElement(eg.n,null),n.createElement(ef.d,null)),t?n.createElement(mC,null):n.createElement(mb,null)))):null}let mv=n.memo(function(){n.useEffect(()=>df.K,[]);let e=n.useMemo(()=>tU.z4.getIsExtension(),[]),t=(0,lQ.l7)(),a=!!(0,lQ.hA)()&&!t;!function(){let e=(0,r.d4)(e=>e.mirror.appModel.currentPage),t=(0,v.tS)(),a=function(e){let t=(0,tH.eY)(),a=(0,r.d4)(aM.aD),l=(0,r.d4)(aN.BA),i=function(e){let t=(0,r.d4)(aR.MH),a=(0,r.d4)(e=>e.mirror.appModel.currentPage);return(0,n.useMemo)(()=>{let n=new Set;if(!(0,e6.kc)().dt_code_connect_preloading||!e)return n;for(let[r,l]of Object.entries(t))l.containing_frame?.pageId===a&&(l.containing_frame?.containingStateGroup?.nodeId?n.add(`${e},${l.containing_frame?.containingStateGroup.nodeId}`):n.add(`${e},${r}`));return n},[a,t])}(e);return(0,n.useMemo)(()=>{if(!(0,e6.kc)().dt_code_connect_preloading||a.length+l.size>50)return new Set;let n=new Set;for(let r of a){let a=aP(t.get(r.nodeId),t,e),{backingFileKey:l,backingNodeId:i}=(0,aO.HX)(r.nodeId,t,e);if(l&&i)for(let e of(n.add(`${l},${i}`),a))n.add(e)}let r=new Set;for(let a of l){let l=t.get(a),i=a;if(l?.containingStateGroupId&&(i=l.containingStateGroupId),r.has(i))continue;let o=aP(l,t,e);if(e&&i)for(let t of(n.add(`${e},${i}`),r.add(i),o))n.add(t)}for(let e of i)n.add(e);return n},[i,l,a])}(t);(0,n.useEffect)(()=>{l.zl.set(aD.z,null)},[e]);let i=(0,d.Rs)(b.p9d,{nodes:Array.from(a),openFileKey:t??""},{enabled:!!(0,e6.kc)().dt_code_connect_preloading&&a.size<50});(0,n.useEffect)(()=>{if("loaded"===i.status&&"loaded"===i.data.file.status&&i.data.file.data?.preload_code_connect){let e=i.data.file.data?.preload_code_connect;l.zl.set(aD.z,{...e,nodesWithCodeConnect:new Set(e.nodesWithCodeConnect)})}return()=>l.zl.set(aD.z,null)},[e,i.status])}(),n.useEffect(()=>{(0,iR.px)().prepareVmIfNeeded()},[]),(0,u8.W)(1700);let i=(0,u8.e)();return n.createElement(o.si,null,e?n.createElement(u7,null):n.createElement(n.Fragment,null,i&&n.createElement(sz.C,null),a&&n.createElement(mh,null),!t&&n.createElement(n.Fragment,null,n.createElement(uf,null),n.createElement(iU.p,null,n.createElement(o8,null)),n.createElement(iU.p,null,n.createElement(et,null)),n.createElement(iU.p,null,n.createElement(iq,null)),n.createElement(mE,null))),n.createElement(u9.uL,null))});function mb(){let e=(0,r.d4)(e=>e.mirror.appModel.currentPage),t=(0,iD.J2)(lY.Ez5.uiState().showCanvasSearch);return n.createElement(n.Fragment,null,t?n.createElement(iJ.EA.Provider,{value:!1},n.createElement(iQ.f,{showFilter:!0})):n.createElement(sV,{key:e}))}function mC(){let e=(0,r.d4)(e=>e.mirror.appModel.currentPage);return n.createElement(sV,{key:e})}},185157:(e,t,a)=>{a.d(t,{C:()=>A,z:()=>M});var n=a(411855),r=a(598045),l=a(693903),i=a(998917),o=a(760547),s=a(243742),c=a(629019),d=a.n(c),u=a(91408),m=a(794272),p=a(153234),_=a(201242),f=a(939863),h=a(256975),g=a(337745),E=a(457630),y=a(29680),v=a(698993),b=a(100197),C=a(279145),w=a(507956),T=a(239349),S=a(964881),N=a(860168);let x="dev_handoff_on_canvas_button--text--gcrgy";var k=a(18301),I=a(942723);function A({floating:e=!0}){let t=M(),{version:a}=(0,s.DP)(),l=(0,b.J2)(r.Ez5.devHandoffState().focusMode),i=(0,S.hA)(),o=(0,g.G)();return"ui3"===a?null:n.createElement(R,{floating:e},t?n.createElement(O,null):(!(l||i)||o)&&n.createElement(L,null))}function L(){let e=n.useCallback(e=>{(0,v.S)("stepper"),r.glU.triggerActionInUserEditScope(e,{})},[]),{nodeIndex:t,nodesForStepper:a,navigateForwardEnabled:l,navigateBackwardEnabled:i,handleStepForward:o,handleStepBack:s}=(0,g.Z)(e);return t<0?null:n.createElement(_.gA,{navigateForwardEnabled:l,navigateBackwardEnabled:i,shouldShowFrameCounter:!0,frameCount:a.length,currentFrameIndex:t,showPreviousFrame:s,showNextFrame:o,backIcon:k.A,nextIcon:I.A})}function O(){let e=(0,m.R)(e=>e.mirror.appModel.keyboardShortcuts);return n.createElement(i.E,{onClick:()=>{r.glU.triggerActionInUserEditScope("zoom-to-selection",void 0)},className:d()("dev_handoff_on_canvas_button--button--Kqr9E","dev_handoff_on_canvas_button--recenter--UbfZj"),recordingKey:(0,p.Pt)("devHandoffNavBar","recenter")},n.createElement(o.S,{className:"dev_handoff_on_canvas_button--icon--Lkbda"}),n.createElement("span",{className:x},(0,f.tx)("dev_handoff.recenter")),n.createElement("span",{className:d()(x,"dev_handoff_on_canvas_button--secondaryText--JwmTf")},(0,C.c1)(e,"zoom-to-selection")))}function R(e){let t=(0,E.ni)();return n.createElement("div",{className:"dev_handoff_on_canvas_button--base--n2Gb3",style:e.floating?{position:"fixed",left:t.x,width:t.width,bottom:(0,u.jz)(N.jUW)}:void 0},n.createElement("div",{className:"dev_handoff_on_canvas_button--container--fpCTC text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.children))}function M(){let e=(0,b.J2)(r.Ez5?.devHandoffState()?.focusAnimationIsRunning),t=(0,T.uQ)()??l.invalidGUIDStr,a=(0,w.LS)(),i=(0,h._I)(),o=(0,y.eY)(),[s,c]=n.useState(!1);return(0,E.D6)({subscribeToUpdates_expensive:!0},n.useCallback(n=>{if(!i||n.isPanning||n.isZooming||e)return;let r=o.get(t),l=r?.absoluteBoundingBox;if(!l||!a){c(!1);return}let s=(0,E.Yb)(n,{x:l.x,y:l.y,width:l.w,height:l.h});c(function(e,t){let a=0,n=0;if(t.width/e.width>t.height/e.height?(a=t.width,n=e.width):(a=t.height,n=e.height),e.zoomScale<.5&&a/n<.25)return!0;let r=Math.min(t.width,.25*e.width),l=Math.min(t.height,.25*e.height);return t.x+t.width<r||t.x>e.width-r||t.y+t.height<l||t.y>e.height-l}(n,s))},[i,e,o,t,a])),s}},461837:(e,t,a)=>{a.d(t,{fC:()=>c,uL:()=>d});var n=a(411855),r=a(188507),l=a(374626),i=a(931828),o=a(582947);let s=(0,o.Fu)("dev_handoff_has_seen_dev_mode"),c=(0,o.Fu)("dev_handoff_has_seen_dev_mode_ga");function d(){return function(){let e=(0,r.d4)(e=>e.currentUserOrgId),t=(0,r.d4)(e=>e.currentTeamId),a=(0,r.d4)(e=>e.openFile?.teamId)||null,o=(0,r.wA)(),c=(0,l.md)(s),d=(0,n.useRef)(!1);(0,n.useEffect)(()=>{d.current||"loaded"!==c.status||(d.current=!0,o(i.b({dev_handoff_has_seen_dev_mode:!0,dev_handoff_has_seen_dev_mode_ga:!0})))},[c,o,e,t||a])}(),null}},337745:(e,t,a)=>{a.d(t,{G:()=>s,Z:()=>c});var n=a(598045),r=a(239349),l=a(964881),i=a(341860),o=a(100197);function s(){let e=(0,l.hA)(),t=new i.q;return t.get(e??"")?.isSection}function c(e){let t=(0,r.uQ)(),a=(0,o.J2)(n.Ez5.devHandoffState().nodeIds),i=(0,l.hA)(),s=(0,o.J2)(n.Ez5.devHandoffState().focusNodeVisuallySortedChildren),c=i?s:a,d=t?c.indexOf(t):-1,u=d<c.length-1,m=d>0;return{nodeIndex:d,nodesForStepper:c,navigateForwardEnabled:u,navigateBackwardEnabled:m,handleStepForward:()=>{u&&e("dev-handoff-focus-next")},handleStepBack:()=>{m&&e("dev-handoff-focus-previous")}}}},143922:(e,t,a)=>{a.d(t,{Xn:()=>v,dU:()=>C,xY:()=>b});var n=a(411855),r=a(188507),l=a(203264),i=a(776250),o=a(344780),s=a(939683),c=a(374626),d=a(666930),u=a(239349),m=a(381618),p=a(662275),_=a(29680),f=a(335682),h=a(860178),g=a(118335),E=a(32067),y=a(754369);function v(e){let t=(0,E.VW)(),a=(0,u.mJ)(e),{singleBackingSymbol:l}=(0,y.$)([e??""]),s=(0,r.wA)();return n.useCallback(()=>{a&&l&&(o.sn.reset("dev_handoff.view_history",a.guid),o.sn.start("dev_handoff.view_history",{key:a.guid}),(0,i.sx)("Diff Modal Compare Changes Clicked",{nodeId:a.guid,mainComponentNodeId:l.guid,origin:"cc_overrides"}),s(p.to({type:g.ku,data:{changeNodeId:a.guid,basisNodeId:l.guid,initialSelectedNodeId:t?.guid&&t?.guid!==a.guid?t.guid:void 0,isComparingOverrides:!0}})))},[s,t,a,l])}function b(e){let t=(0,d.wS)(),a=(0,u.uQ)(),l=(0,r.wA)(),i=(0,s.U)();return n.useCallback(()=>{a&&"loaded"===t.status&&(i("Diff Modal Compare Changes Clicked",{nodeId:a,origin:"cc_detached_component"}),o.sn.reset("dev_handoff.view_history",a),o.sn.start("dev_handoff.view_history",{key:a}),l(p.to({type:g.jo,data:{nodeId:a,detachedInfoStatus:t,origin:e}})))},[a,t,i,l,e])}function C(e,t){let a=h.iZ()?.id,s=E.VW()?.name.trim(),d=(0,f.tS)(),u=(0,r.wA)(),y=(0,c.md)(m.d),v=(0,_.eY)();return n.useCallback(()=>{if(o.sn.reset("dev_handoff.view_history",e||void 0),o.sn.start("dev_handoff.view_history",{key:e||void 0}),(0,i.sx)("Diff Modal Compare Changes Clicked",{userId:a,fileKey:d,frameId:e,entrypoint:"lego_layer",analyticsEventOrigin:t}),e){let t=(0,l.BJ)(v,e,!0);if(t){let a=t.lastEditedAt;y[e]=new Date(a),c.zl.set(m.d,{...y})}}u(p.to({type:g.EH,data:{nodeId:e,layerName:s}}))},[t,u,d,e,s,v,y,a])}},625134:(e,t,a)=>{a.d(t,{$b:()=>v,jp:()=>x,gn:()=>w,Be:()=>T});var n=a(411855),r=a(188507),l=a(598045),i=a(153234),o=a(939863),s=a(308977),c=a(470669),d=a(370934),u=a(92597),m=a(318812),p=a(656399),_=a(206074),f=a(788612),h=a(538697);let g="code_settings_panel--codeSettingRow--81hbo",E="code_settings_panel--codeSettingLabel--OV3RZ",y="code_settings_panel--codeSettingValueWrapper--UMoQH";function v({onlyShowFirstPartyLanguages:e,disabled:t}){return(0,u.YE)(),n.createElement(f.VZ,{title:(0,o.t)("dev_handoff.code.settings"),recordingKey:"codeSettings",headerChildren:n.createElement(p.u,null)},n.createElement("div",{className:"code_settings_panel--codeSettingsPanel--LR2Tt text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(b,{onlyShowFirstPartyLanguages:e,disabled:t}),n.createElement(C,{disabled:t}),!t&&n.createElement(S,{recordingKey:"codeSettings.pluginSettings"})))}function b({onlyShowFirstPartyLanguages:e,disabled:t}){return n.createElement("div",{className:g},n.createElement("div",{className:E},(0,o.tx)("dev_handoff.code.settings.language")),n.createElement("div",{className:y},n.createElement(c.NH,{dropdownId:"DEV_HANDOFF_NO_SELECTION_CODE_LANGUAGE_DROPDOWN",onlyShowFirstPartyLanguages:e,disabled:t})))}function C({disabled:e}){let t=(0,u.Em)(),a=(0,s.v4)(),r=(0,u.Bs)(),l=(0,s.QN)(),i=(0,u.RH)(),c=n.useCallback(e=>r(a,l,{unit:e}),[a,r,l]);return t?n.createElement("div",{className:g},n.createElement("div",{className:E},(0,o.tx)("dev_handoff.alternative_units.dimension_unit")),!e&&n.createElement(w,{currentUnit:i,onChangeUnit:c})):null}function w({currentUnit:e,onChangeUnit:t}){let a=(0,u.wQ)(),{showing:l,toggle:i}=(0,m.BK)("DEV_HANDOFF_NO_SELECTION_DIMENSION_UNIT_DROPDOWN"),s=(0,r.wA)(),c=n.useRef(null),p=n.useMemo(()=>new T(a),[a]),f=n.useMemo(()=>d.zq.map(a=>({name:a.toString(),displayText:p.format(a),callback:()=>t(a),isChecked:a===e})),[e,p,t]);return n.createElement("div",{className:"code_settings_panel--codeSettingUnitDropdownContainer--ywHNy","data-tooltip":(0,o.t)("dev_handoff.alternative_units.dimension_unit"),"data-tooltip-show-above":!0},n.createElement("div",{ref:c,"data-testid":"dimension_unit",className:y},n.createElement(h.uQ,{formatter:p,property:e,onClick:()=>i()})),l&&c.current&&n.createElement(_.j,{items:f,onSelectItem:e=>{e.callback&&e.callback("",null,s)},dispatch:s,parentRect:c.current.getBoundingClientRect(),showPoint:!1,lean:"right",leanPadding:8,alwaysShowCheckMarkOffset:!0,activatePathOnMount:[p.format(e)]}))}class T{constructor(e){this.scaledUnitName=e}format(e){return e===l.tKW.PIXEL?(0,o.t)("dev_handoff.alternative_units.pixel_unit"):this.scaledUnitName}}function S(e){let t=(0,u.SF)({includeActions:!1});return 0===t.length?null:n.createElement(n.Fragment,null,t.map(t=>n.createElement(N,{key:t.name,item:t,recordingKey:i.Pt(e,`${t.name}`)})))}function N({item:e,recordingKey:t}){return n.createElement("div",{className:g},n.createElement("div",{className:E},e.displayText),n.createElement(x,{item:e,recordingKey:t}))}function x({item:e,recordingKey:t}){let{showing:a,data:l,toggle:o}=(0,m.BK)("CODEGEN_PLUGIN_SETTINGS_DROPDOWN"),s=(0,r.wA)(),c=n.useRef(null),d=e.name===l?.name&&a,u=e.children?.find(e=>e.isChecked)?.displayText??"",p=i.rf(i.Pt(t,"select"),"click",()=>o({data:{name:e.name??""}}));return n.createElement("div",null,n.createElement("div",{ref:c,className:y},n.createElement(h.uQ,{formatter:{format:e=>e},property:u,onClick:p})),d&&c.current&&n.createElement(_.j,{items:e.children??[],onSelectItem:e=>{e.callback?.("",null,s)},dispatch:s,recordingKey:i.Pt(t,"dropdown"),parentRect:c.current.getBoundingClientRect(),showPoint:!1,lean:"right",leanPadding:8,alwaysShowCheckMarkOffset:!0,activatePathOnMount:u?[u]:void 0}))}},105345:(e,t,a)=>{a.d(t,{C:()=>F});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(711117),s=a(939683),c=a(752553),d=a(522739),u=a(799569),m=a(67833),p=a(762638),_=a(939863),f=a(175290),h=a(553015),g=a(809840),E=a(911826),y=a(910741),v=a(360712),b=a(972457),C=a(662275),w=a(750293),T=a(101505),S=a(672517),N=a(710667),x=a(720647),k=a(978779),I=a(820113),A=a(984968),L=a(237870),O=a(620722),R=a(488578);function M(){return{panelTabs:[{text:(0,_.t)("dev_handoff.paywall.upsell_modal.advanced_inspection.tab_title"),id:"advanced_inspection"},{text:(0,_.t)("dev_handoff.paywall.upsell_modal.quick_handoff.tab_title"),id:"quick_handoff"},{text:(0,_.t)("dev_handoff.paywall.upsell_modal.track_changes.tab_title"),id:"track_changes"},{text:(0,_.t)("dev_handoff.paywall.upsell_modal.plugins_extensions.tab_title"),id:"plugins_extensions"}],contents:{advanced_inspection:{headerText:(0,_.t)("dev_handoff.paywall.upsell_modal.advanced_inspection.header"),description:(0,_.tx)("dev_handoff.paywall.upsell_modal.advanced_inspection.details"),imgSrc:"https://static.figma.com/uploads/39aa1e9a18601b9c7b904f84b8c8dd6d441f1e08",closeButtonTheme:"light"},quick_handoff:{headerText:(0,_.t)("dev_handoff.paywall.upsell_modal.quick_handoff.header"),description:(0,_.tx)("dev_handoff.paywall.upsell_modal.quick_handoff.details"),imgSrc:"https://static.figma.com/uploads/ba04aa94fd2bbd4f86b96e8e024c0d70a7318c5b",closeButtonTheme:"dark"},track_changes:{headerText:(0,_.t)("dev_handoff.paywall.upsell_modal.track_changes.header"),description:(0,_.tx)("dev_handoff.paywall.upsell_modal.track_changes.details"),imgSrc:"https://static.figma.com/uploads/234cba06210af50cc549b9e85edb9f6b3e78c5c8",closeButtonTheme:"dark"},plugins_extensions:{headerText:(0,_.t)("dev_handoff.paywall.upsell_modal.plugins_extensions.header"),description:(0,_.tx)("dev_handoff.paywall.upsell_modal.plugins_extensions.details"),imgSrc:"https://static.figma.com/uploads/335b2bfa4f4f9ff3ea062ef679353fca0d2422a3",closeButtonTheme:"dark"}},panelTitle:(0,_.t)("dev_handoff.paywall.upsell_modal.title")}}function D({id:e,headerText:t,description:a,imgSrc:r}){return n.createElement(f.Y,{direction:"vertical",verticalAlignItems:"start",spacing:0,height:"fill-parent",dataTestId:"dev_mode_features_tab_"+e},n.createElement(O.J,{alt:t,className:"dev_mode_features_upsell_modal--heroImage--T3C-o",src:r,width:457,height:255}),n.createElement("div",{className:p.cx.p24.pb0.flex.flexColumn.gap2.bt1.bSolid.colorBorder.$},n.createElement(g.E,{fontSize:14,fontWeight:"medium",color:"default"},t),n.createElement("div",{className:p.cx.minH32.$},n.createElement(g.E,{fontSize:13},a))))}function P(){let e=(0,N.N1)(N.Fq.TEAM_ADMIN_CONSOLE),[t]=(0,c.mI)(e),a=(0,I.LN)(),r=(0,k.G7)(t.data,a,x.G_.DESIGN),l=new I.vr(a);return n.createElement(f.Y,{padding:14,direction:"vertical",verticalAlignItems:"end",dataTestId:"dev_mode_pro_pricing"},n.createElement("div",{className:"dev_mode_features_upsell_modal--priceContainer--gmHBN"},n.createElement(m.oS,{type:m.y1.DESIGN_AND_DEV_MODE,size:m.LE.SMALL}),n.createElement("div",{className:"dev_mode_features_upsell_modal--priceProductName--sqfch"},n.createElement("div",null,n.createElement(g.E,{color:"design",fontSize:11},(0,_.tx)("general.figma_design_short"))," + "),n.createElement(g.E,{color:"brand",fontSize:11},(0,_.tx)("general.dev_mode"))),n.createElement("div",{className:"dev_mode_features_upsell_modal--priceContainerDivider--pwyC6"}),n.createElement("div",{className:"dev_mode_features_upsell_modal--priceItem--uGNa1","data-testid":"dev_mode_features_upsell_modal_pricing_text"},n.createElement(g.E,{fontWeight:"semi-bold",fontSize:18},l.formatMoney(r)))),n.createElement("div",{className:p.cx.p4.pt0.$},n.createElement(g.E,{color:"secondary",fontSize:11},(0,_.tx)("help_widget.collective_upsells.fullscreen.price.disclaimer.seat_rename"))))}let F=(0,L.Ju)(function({initialFeatureTab:e}){let t=(0,A.ol)(),a=(0,E.O)(),l=(0,v.q)(),c=(0,v.n)(),m=l&&!c,_=(0,n.useMemo)(M,[]),[N,x]=(0,n.useState)(e??_.panelTabs[0].id),k=(0,s.U)(),I=(0,r.wA)(),L=(0,y.m3)(),O=(0,n.useCallback)(()=>{I(C.Ce())},[I]);(0,n.useEffect)(()=>{L&&O()},[O,L]);let F=(0,b.BC)({dismissModal:O}),B=(0,n.useCallback)(()=>{F.hidden||F.onClick(function(e){switch(e){case"advanced_inspection":return w.i$.Inspection;case"track_changes":return w.i$.TrackChanges;case"quick_handoff":return w.i$.QuickHandoff;case"plugins_extensions":return w.i$.Plugin;default:return w.i$.SuperModal}}(N))},[N,F]),U=n.useCallback(t=>{k("Dev Mode Paywall clicked",{type:"Features Modal Tab Changed",entryPoint:e,currentTab:N},{forwardToDatadog:!0}),x(t)},[e,N,k]),H=n.useCallback(()=>{k("Dev Mode Paywall clicked",{type:"Features Modal Closed",entryPoint:e,currentTab:N},{forwardToDatadog:!0}),O()},[O,e,N,k]),G=_.panelTabs.map(e=>n.createElement(d.Bx,{role:"button",tabIndex:0,key:e.id,className:i()("dev_mode_features_upsell_modal--panelTab--64xK2",N===e.id&&"dev_mode_features_upsell_modal--panelTabActive--NiH9Q"),onClick:()=>{U(e.id)},onKeyDown:t=>{(" "===t.key||"Enter"===t.key)&&U(e.id)},trackingProperties:{tab:e.id,prevTab:N},recordingKey:"dev_mode_features_upsell_modal_tab_"+e.id},n.createElement(g.E,{fontSize:13},e.text))),V={id:N,..._.contents[N]};return L?null:n.createElement(n.Suspense,null,n.createElement(S.fu,{name:"Dev Mode Features Modal",properties:{currentPlan:a,teamId:t?.id}},n.createElement(R.Nb,{size:696,className:"dev_mode_features_upsell_modal--largeModal--HZ0cu",hide:H,enableEscapeToClose:!0,"data-testid":"dev_mode_features_upsell_modal"},n.createElement(o.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},n.createElement(f.Y,{verticalAlignItems:"start",height:m?510:460,spacing:0},n.createElement(f.Y,{direction:"vertical",width:239,strokeWidth:{right:1},padding:0,spacing:0,strokeColor:"default",height:"fill-parent",verticalAlignItems:"start"},n.createElement(f.M,{minSize:16}),n.createElement(f.Y,{direction:"vertical",height:"fill-parent",spacing:0},_.panelTitle&&n.createElement("div",{className:p.cx.p16.pt14.pb36.$},n.createElement(g.E,{fontSize:20,fontWeight:"semi-bold"},_.panelTitle)),G),m&&n.createElement(P,null)),n.createElement(f.Y,{direction:"vertical",height:"fill-parent",spacing:0},n.createElement("div",{className:p.cx.absolute.top0.right0.$,"data-preferred-theme":V.closeButtonTheme},n.createElement(u.s_,{className:"dev_mode_features_upsell_modal--closeBtn--CY10d",dispatch:I,onClose:H,trackingProperties:{trackingDescriptor:T.c.CLOSE},recordingKey:"dev_mode_features_upsell_modal_close_button"})),n.createElement("div",{className:p.cx.wFull.hFull.overflowAuto.$},n.createElement(D,{key:N+V.headerText,...V})),!F.hidden&&n.createElement(f.Y,{height:64,padding:16,horizontalAlignItems:"end",strokeColor:"default",strokeWidth:{top:1}},n.createElement(h.V,{variant:"primary",disabled:F.disabled,onClick:B,onKeyDown:e=>{(" "===e.key||"Enter"===e.key)&&B()},recordingKey:"dev_mode_features_upsell_modal_upgrade_button",dataTestId:"dev_mode_features_upsell_modal_upgrade_button"},F.label))))))))},"DevModeFeaturesModal")},948517:(e,t,a)=>{a.d(t,{A:()=>w});var n=a(411855),r=a(786013),l=a(320063),i=a(915440),o=a(762638),s=a(939863),c=a(332034),d=a(755594),u=a(349410),m=a(226055),p=a(456104),_=a(29680),f=a(335682),h=a(279453),g=a(984968),E=a(397065),y=a(340514),v=a(746806),b=a(601538),C=a(463546);function w(){let e=(0,u.ru)(),t=(0,d.J)(),a=(0,g.ol)(),w=(0,f.q5)(),T=(0,i.Rs)(h.kQI,{id:a?.id||""},{enabled:!!a?.id}),S=(0,_.eY)(),N=!0;try{N=!S.getCurrentPage()?.childrenNodes?.length}catch{}let{show:x,isShowing:k,complete:I}=(0,p.e)({overlay:C.jNM,priority:E.N.SECONDARY_MODAL,experiment:{check:()=>e(w,!0),predicate:e=>e,postCheck:()=>!0}},[T]);return(0,l.h)(()=>{t||N||x({canShow:e=>!!e.team?.hasPermission})}),n.createElement(y.rq,{isShowing:k,targetKey:(0,m.GS)()?b.ON:c.e,shouldCenterArrow:v.EL.BEST_EFFORT,trackingContextName:"Dev Mode Starter Trial Entry Nudge",title:(0,s.tx)("dev_handoff.paywall.starter_trial_nudge.title"),description:n.createElement("p",{className:o.cx.if((0,m.GS)(),o.cx.pb16).$},(0,s.tx)("dev_handoff.paywall.starter_trial_nudge.description_numdays",{numDays:r.N4S})),onClose:I,emphasized:!0,forceEditorTheme:"dev-handoff"})}},16397:(e,t,a)=>{a.d(t,{f:()=>C});var n=a(411855),r=a(188507),l=a(320063),i=a(374626),o=a(939863),s=a(256975),c=a(910741),d=a(931828),u=a(101505),m=a(456104),p=a(582947),_=a(397065),f=a(340514),h=a(364871),g=a(746806),E=a(601538),y=a(463546);let v="dev_mode_has_seen_direct_link_hint",b=(0,p.Fu)(v);function C(){let e=(0,i.md)(h.R),t=(0,c.m3)(),a=(0,s._I)(),p=(0,i.md)(b),C=(0,r.wA)(),{show:w,isShowing:T,complete:S}=(0,m.e)({overlay:y.gZN,priority:_.N.DEFAULT_MODAL},[p]),N=(0,n.useCallback)(()=>{S(),C(d.b({[v]:!0}))},[S,C]),x=(0,n.useCallback)(()=>{a||!e||t||w({canShow:e=>!e})},[a,e,t,w]);return((0,l.h)(()=>{x()}),n.useEffect(()=>{a&&T&&N()},[a,T,N]),T)?n.createElement(f.rq,{isShowing:T,targetKey:E.ON,shouldCenterArrow:g.EL.BEST_EFFORT,trackingContextName:"Dev Mode Direct Link Hint",title:(0,o.tx)("dev_handoff.paywall.direct_link_hint.title"),description:(0,o.tx)("dev_handoff.paywall.direct_link_hint.description"),primaryCta:{label:(0,o.tx)("general.got_it"),type:"button",onClick:N,variantOverride:"secondary",ctaTrackingDescriptor:u.c.DEV_MODE_DIRECT_LINK_HINT},onClose:N,emphasized:!1,disableHighlight:!0}):null}},531319:(e,t,a)=>{a.d(t,{A5:()=>_,Dt:()=>h,R_:()=>f});var n=a(411855),r=a(188507),l=a(374626),i=a(391388),o=a(461837),s=a(256975),c=a(931828),d=a(582947),u=a(335682),m=a(99506),p=a(507956);let _=(0,d.Fu)("dev_mode_notified_of_approved_org_request");function f(){let e=(0,p.ks)(),t=(0,s._I)(),a=(0,u.q5)(),i=(0,r.d4)(e=>e.openFile?.currentPartialOrgUser?.designAccountTypeRequest),o=(0,r.d4)(e=>e.openFile?.currentPartialOrgUser?.devModeAccountTypeRequest),d=!!(0,l.md)(_).data,m=(0,r.wA)(),f=!!a?.parentOrgId,h=!1;return o?.status==="approved"?h=!0:o?.status==="denied"&&i?.status==="approved"&&(h=!0),(0,n.useEffect)(()=>{f&&t&&e&&h&&!d&&m(c.b({dev_mode_notified_of_approved_org_request:!0}))},[t,m,e,f,h,d]),!!t&&!!f&&!e&&h&&!d}function h(){let e=(0,p.ks)(),t=(0,s._I)(),a=(0,l.md)(o.fC).data,d=(0,u.MY)(),_=i.Qw.useTransform(d,e=>{let a=e?.currentPartialOrgUser?.accountType===m.El.FULL&&e?.canEdit,n=e?.currentPartialOrgUser?.designAccountTypeRequest,r=e?.currentPartialOrgUser?.devModeAccountTypeRequest,l=!!e?.parentOrgId,i=!1;return r?.status==="approved"?i=!0:r?.status==="denied"&&n?.status==="approved"&&(i=!0),l&&!i&&!a&&t}).unwrapOr(!1),f=(0,r.wA)();return(0,n.useEffect)(()=>{_&&e&&f(c.b({dev_mode_notified_of_approved_org_request:!0}))},[f,e,_]),_&&!e&&!a}},810550:(e,t,a)=>{a.d(t,{U:()=>E});var n=a(411855),r=a(188507),l=a(374626),i=a(939863),o=a(332034),s=a(910741),c=a(531319),d=a(931828),u=a(226055),m=a(456104),p=a(397065),_=a(340514),f=a(746806),h=a(601538),g=a(463546);function E(){let e=(0,c.R_)(),t=(0,c.Dt)(),a=(0,l.md)(c.A5),E=(0,u.GS)(),y=(0,r.wA)(),{show:v,isShowing:b,complete:C}=(0,m.e)({overlay:g.Xu4,priority:p.N.DEFAULT_MODAL},[a]),w=(0,s.bZ)(),T=(0,n.useCallback)(()=>{C(),y(d.b({dev_mode_notified_of_approved_org_request:!0,dev_mode_seen_paywall_reminder:!0}))},[C,y]);return(0,n.useEffect)(()=>{e||t?v({canShow:e=>!e}):b&&C()},[C,b,e,t,v]),n.createElement(_.rq,{isShowing:b,targetKey:E?h.ON:o.e,shouldCenterArrow:f.EL.BEST_EFFORT,trackingContextName:"Dev Mode Approved Access Hint",title:(0,i.tx)("dev_handoff.paywall.approved.title"),description:(0,i.tx)("dev_handoff.paywall.approved.description"),onClose:T,emphasized:!0,disableHighlight:!1,trackingProperties:w,trackingEnabled:w?.gracePeriod!==void 0,forceEditorTheme:"dev-handoff"})}},65112:(e,t,a)=>{a.d(t,{k:()=>p,y:()=>m});var n=a(411855),r=a(629019),l=a.n(r),i=a(91408),o=a(620722),s=a(146935),c=a(706348);let d=(0,i.jz)(s.devHandoffPanelUpsellPadding),u=(0,i.jz)(s.devHandoffPanelUpsellMargin);function m({title:e,content:t,imgSrc:a,panelWidth:r,tight:i,dataTestId:s}){return n.createElement("div",{className:l()(c.dH,i&&c.vV),"data-testid":s},!!e&&n.createElement("div",{className:c.c6},e),n.createElement("div",{className:c.B},t),n.createElement(o.J,{src:a,alt:"",width:r-2*u-2*d}))}function p({title:e,content:t,tight:a,dataTestId:r}){return n.createElement("div",{className:l()(c.dH,a&&c.vV),"data-testid":r},!!e&&n.createElement("div",{className:c.c6},e),n.createElement("div",{className:c.B},t))}},956521:(e,t,a)=>{a.d(t,{T:()=>s});var n=a(411855),r=a(188507),l=a(939683),i=a(105345),o=a(662275);function s(e){let t=(0,r.wA)(),a=(0,l.U)();return n.useCallback(()=>{a("Dev Mode Paywall clicked",{type:"Dev Mode Upsell",entryPoint:e},{forwardToDatadog:!0}),t(o.to({type:i.C,data:{initialFeatureTab:e}}))},[t,e,a])}},360712:(e,t,a)=>{a.d(t,{n:()=>d,q:()=>c});var n=a(188507),r=a(335682),l=a(243987),i=a(428467),o=a(984968),s=a(668860);function c(){let e=(0,o.ol)(),t=(0,r.q5)(),a=!!t&&!!t.teamId&&!t.parentOrgId,n=!!e&&(0,l.w5)(e)&&!e?.org_id;return a&&!n}function d(){let e=c(),t=(0,o.ol)(),a=(0,n.d4)(e=>!!t&&(0,i.hasTeamAccess)(t?.id,s.e6.EDITOR,e));return e&&!a}},972457:(e,t,a)=>{a.d(t,{AR:()=>W,BC:()=>K,w_:()=>Z});var n=a(411855),r=a(188507),l=a(786013),i=a(737947),o=a(939683),s=a(794272),c=a(374626),d=a(915440),u=a(761870),m=a(195847),p=a(939863),_=a(392592),f=a(172115),h=a(256975),g=a(910741),E=a(471340),y=a(360712),v=a(755594),b=a(964881),C=a(738269),w=a(662275),T=a(995852),S=a(750293),N=a(229403),x=a(349410),k=a(6949),I=a(720647),A=a(335682),L=a(99506),O=a(279453),R=a(243987),M=a(241390),D=a(344339),P=a(984968),F=a(206193),B=a(239671),U=a(977466),H=a(364871),G=a(853079),V=a(213045),z=a(114959);function K({dismissModal:e,labelOverride:t}={}){let a=(0,x.ru)(),s=(0,A.q5)(),C=(0,P.ol)(),B=(0,d.Rs)(O.kQI,{id:C?.id||""},{enabled:!!C?.id}),H=function(e){let t=(0,h._I)(),a=(0,A.q5)(),l=(0,M.wy)({phase:"passthrough",component:"useUpgradeForDevMode",attribute:"isPlanUserInProTeamForFile",legacy:e=>e?.team_id===a?.teamId,migrated:e=>e?.key.type===D.h4.TEAM_USER&&e?.planKey.parentId===a?.teamId}),s=(0,M.wy)({phase:"passthrough",component:"useUpgradeForDevMode",attribute:"isPlanUserInOrgForFile",legacy:(e,t)=>t?.org_id===a?.parentOrgId,migrated:e=>e?.key.type===D.h4.ORG_USER&&e?.planKey.parentId===a?.parentOrgId}),p=(0,k.a9)(),b=(0,P.ol)(),C=(0,R.w5)(b)&&!b?.org_id,x=(0,y.q)(),B=(0,o.U)(),H=(0,r.wA)(),G=(0,g.m3)(),K=(0,v.J)(),[W,j]=(0,c.fp)(E.qI),Z=d.Rs(O.HdA,{key:a?.key??""},{enabled:!!a?.key})?.data?.file?.hasPermission,Y=n.useCallback(()=>{K&&j(E.cI.UPGRADING)},[K,j]);return(0,n.useCallback)((n=S.i$.DevMode)=>{if(a&&!t)try{if(x&&e()&&Z)H(N.Nu({adminIds:[],message:"",teamId:b?.id??"",seatType:{licenseType:L.G_.DEV_MODE},fileKey:a?.key,entryPoint:n??"",hideSuccessMessage:!0}));else if(a.parentOrgId)Y(),s?H(w.to({type:V.Y,data:{orgId:a.parentOrgId,orgUser:p,entryPoint:n,licenseType:I.Te.DEV_MODE,fileKey:a.key},showModalsBeneath:!0})):(H(u.Ts({origin:"dev_mode",formState:m.qB.JOIN_ORG,redirectUrl:i.Ay.location.pathname})),H(w.to({type:U.x,data:{}})));else if(C)l?(Y(),H(w.to({type:z.PK,data:{editorType:L._Y.DESIGN,team:{id:a.teamId},entryPoint:n,fileKey:a.key},showModalsBeneath:!0}))):H(_.F.enqueue({message:"No team user"}));else{B("Dev Mode Paywall clicked",{type:"Starter Tier Upgrade",entryPoint:n},{forwardToDatadog:!0});let e=b?.id;S.QH.includes(n)&&e?H(T.WX({teamId:e,openInNewTab:!0})):(Y(),H(w.to({type:f.V,data:{teamId:e??void 0,upsellSource:F.b.DEV_MODE_UPSELL,openCheckoutInNewTab:!0,onDone:G?()=>j(E.cI.DEFAULT):void 0}})))}}catch(e){K&&j(E.cI.DEFAULT),H(_.F.enqueue({message:e.message||e.data.message}))}},[a,t,x,e,Z,C,H,b?.id,Y,s,p,l,B,G,j,K])}(()=>a(s,!!B.data?.team?.hasPermission)),W=(0,G.U)("blocking_modal"),Y=Z(),X=(0,y.n)(),q=((0,b.hA)(),(0,g.lb)()),J=(0,y.q)(),Q=(0,A.tS)()??"",$=d.Rs(O.HdA,{key:Q})?.data?.file?.hasPermission,ee=(0,r.d4)(e=>(0,R.oc)(P.H7(e)?.id??"",e)),et=(0,v.J)(),ea=n.useCallback(t=>{e?.(),H(t)},[e,H]),en=n.useCallback(()=>{W("design")},[W]);return et?{label:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.request_access"),hidden:!1,disabled:Y,onClick:ea}:X?q?{label:ee?(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"):(0,p.tx)("dev_handoff.paywall.blocking_modal.button.learn_more"),hidden:!1,disabled:!1,onClick:ee?en:j}:{hidden:!0}:q?J&&a(s,!!B.data?.team?.hasPermission)&&$?{label:(0,p.tx)("dev_handoff.paywall.start_dev_mode_starter_trial",{numDays:l.N4S}),disabled:!1,hidden:!1,onClick:ea}:{label:ee?(0,p.tx)("dev_handoff.paywall.blocking_modal.button.locked.reactivate"):(0,p.tx)("payments_modal.upgrade_to_professional"),hidden:!1,disabled:!1,onClick:ea}:{label:t??(0,p.tx)("dev_handoff.paywall.get_dev_mode"),hidden:!1,disabled:!1,onClick:ea}}function W(){let e=!!(0,b.hA)(),t=(0,y.n)(),a=(0,c.md)(H.R),l=(0,G.U)("blocking_modal"),i=(0,r.wA)(),o=(0,s.R)(e=>({...e.selectedView,editorType:B.nT.Design,showOverview:!0,focusViewBackNavigation:void 0,devModeFocusId:void 0})),d=n.useCallback(()=>{l("design")},[l]),u=n.useCallback(()=>{i(C.$T(o))},[o,i]);return e?{label:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_summary"),onClick:u}:{label:a&&!t?(0,p.tx)("dev_handoff.paywall.blocking_modal.button.not_now"):(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),onClick:d}}function j(){i.Ay.unsafeRedirect("https://help.figma.com/hc/en-us/articles/15023124644247-Guide-to-Dev-Mode","_blank")}function Z(){let e=(0,r.d4)(e=>e.openFile?.currentPartialOrgUser?.designAccountTypeRequest),t=(0,r.d4)(e=>e.openFile?.currentPartialOrgUser?.devModeAccountTypeRequest),a=(0,r.d4)(e=>e.openFile?.currentTeamUser?.designAccountTypeRequest);return e?.status==="pending"||t?.status==="pending"||a?.status==="pending"}},103339:(e,t,a)=>{a.d(t,{DK:()=>x,MO:()=>O,d8:()=>I,oD:()=>R,q9:()=>k});var n=a(411855),r=a(188507),l=a(598045),i=a(776250),o=a(966712),s=a(38580),c=a(374626),d=a(776621),u=a(304783),m=a(572206),p=a(877432),_=a(939863),f=a(154483),h=a(666930),g=a(696673),E=a(44892),y=a(15859),v=a(927657),b=a(931770),C=a(335682),w=a(933342),T=a(234945),S=a(173454),N=(e=>(e.GENERIC="GENERIC",e.OFFLINE="OFFLINE",e.THUMBNAIL_TIMEOUT="THUMBNAIL_TIMEOUT",e))(N||{});function x(e){switch(e){case"GENERIC":return(0,_.t)("design_systems.playground.unable_to_load");case"OFFLINE":return(0,_.t)("design_systems.playground.unable_to_load_while_offline");case"THUMBNAIL_TIMEOUT":return(0,_.t)("design_systems.playground.unable_to_load_thumbnail")}}function k(e){switch(e){case"GENERIC":return(0,_.t)("design_systems.playground.unable_to_load_help_text");case"OFFLINE":return(0,_.t)("design_systems.playground.unable_to_load_while_offline_help_text");case"THUMBNAIL_TIMEOUT":return(0,_.t)("design_systems.playground.unable_to_load_thumbnail_help_hext")}}let I=(0,s.eU)(!1);function A(e){let[t,a]=n.useState(),[r,i]=n.useState(),[s,d]=n.useState(!1),[u,p]=n.useState(!1),[_,f]=n.useState(!1),[h,g]=(0,c.fp)(I),E=n.useCallback(()=>{let t=l.glU.generatePlaygroundThumbnail(e??null),n=l.glU.getPlaygroundNodeData();t.pixels?.length>0?(a({src:(0,b.Pv)(t.pixels,new m.Mi(t.width,t.height)),width:t.width/t.scale,height:t.height/t.scale}),i(n),p(!1),(0,o.kc)().dt_component_bg_improvements&&g(!0)):p(!0)},[g,e]),y=n.useCallback(e=>{d(e),f(!0)},[f]),{onSetPercentImagesLoaded:C,onResetTracker:w}=function(e){let[t,a]=n.useState(0),[r,l]=n.useState(0),[i,o]=n.useState(null),s=n.useCallback(()=>{a(0),l(0),o(null)},[]);return n.useEffect(()=>{function a(a,n){if(t>a&&t<n&&r<=a){let a=Date.now();(null===i||a-i>1e3)&&(o(a),l(t),e())}}a(.25,.5),a(.5,.75),a(.75,1)},[r,i,e,t]),n.useEffect(()=>{1===t&&(e(),l(1))},[e,t]),n.useMemo(()=>({onSetPercentImagesLoaded:a,onResetTracker:s}),[a,s])}(E);return n.useEffect(()=>(0,v.k)(y),[y]),n.useEffect(()=>()=>l.glU.clearPlaygroundScene(),[]),n.useEffect(()=>{_&&setTimeout(()=>{E(),f(!1)},0)},[_,f,E]),n.useMemo(()=>({setPlaygroundNodeData:i,onSetPercentImagesLoaded:C,onResetTracker:w,thumbnailData:t,playgroundNodeData:r,hasChangesToReset:s,hasThumbnailErrors:u,setHasChangesToReset:d}),[i,C,w,t,r,s,u,d])}let L=(0,f.fv)();function O({canViewPlaygroundQueryResult:e,canvasAsset:t,onLoaded:a,onError:r,thumbnailOptions:o}){let[s,c]=n.useState(t),{setPlaygroundNodeData:m,onSetPercentImagesLoaded:_,onResetTracker:f,thumbnailData:h,playgroundNodeData:v,hasChangesToReset:b,hasThumbnailErrors:T,setHasChangesToReset:N}=A(o),x=(0,C.tS)(),k=s!==t||!v||"loading"===e.status,[I,O]=n.useState(null),R=n.useCallback(()=>{l.glU.clearPlaygroundScene(),m(void 0)},[m]),M=n.useCallback(async(e=!0)=>{let a;if(t.type!==S.PW.COMPONENT&&t.type!==S.PW.STATE_GROUP&&t.type!==S.PW.MODULE){R();return}let n=Date.now();if(O(null),t.isLocal)a=null;else try{let e=E.Eo.getCanvas({canvas_url:t.canvas_url});await Promise.race([e,(0,p.fm)(100)])||(c(t),m(void 0),N(!1)),a=await e}catch(e){0===e.status?O("OFFLINE"):O("GENERIC"),R(),c(t),(0,d.$D)(u.e.DESIGN_SYSTEMS_ECOSYSTEM,e,{tags:{openFileKey:x,fileKey:L(t),libraryKey:t.library_key,isCommunityLibrary:(0,g.wJ)(L(t)),type:t.type}});return}let r=t.type!==S.PW.STATE_GROUP||t.isLocal?null:t.default_state_key;if(a?l.glU.setPlaygroundSceneFromBuffer(t.node_id,a,e,r,L(t)):l.glU.setPlaygroundSceneFromLocalAsset(t.node_id)){N(!1),m(l.glU.getPlaygroundNodeData()),c(t),i.az.trackDefinedEvent("playground.set_scene",{duration:Date.now()-n,assetType:t.type,isLocal:t.isLocal??!1,assetKey:(0,w.u2)(t)}),f(),(0,y.Jr)().loadAllImagesUnder(["0:0"],l.MoD.NON_ANIMATED_ONLY,"playground.initialLoad",(e,t)=>{_((t-e)/t)},l.glU.getPlaygroundScene());return}if(e){c(t),m(void 0),N(!1),setTimeout(()=>{M(!1)},50);return}O("GENERIC"),R()},[x,R,f,_,t,m,N]);return n.useEffect(()=>{"loaded"===e.status&&(e.data?M():c(t))},[e,m,t,R,M]),n.useMemo(()=>{let e=T?"THUMBNAIL_TIMEOUT":I;return!e&&k?{state:"LOADING",previousAssetData:{thumbnailData:h,hasChangesToReset:b,refetchAndResetScene:M,nodeData:v,asset:s}}:(a(),e)?(r(),{state:"ERROR",errorType:e,previousAssetData:{thumbnailData:h,hasChangesToReset:b,refetchAndResetScene:M,nodeData:v,asset:s}}):{state:"LOADED",currentAssetData:{hasChangesToReset:b,refetchAndResetScene:M,nodeData:v,thumbnailData:h,asset:s}}},[k,a,T,I,v,h,r,b,M,s])}function R(){let e=(0,r.d4)(T.AF),t=e?.guid,a=(0,h.wS)(),i="loaded"===a.status?a.result:void 0,{setPlaygroundNodeData:o,thumbnailData:s,playgroundNodeData:c,hasChangesToReset:d}=A(),u=n.useCallback(()=>{let e=!1;i?e=l.glU.setPlaygroundSceneFromDetachedInfo(i.dataComponentId,"temp-scene"===i.dataLocation):t&&(e=l.glU.setPlaygroundSceneFromSelection()),e||(l.glU.clearPlaygroundScene(),o(void 0))},[t,i,o]);return n.useEffect(()=>{u()},[u]),n.useMemo(()=>c&&s?{hasChangesToReset:d,refetchAndResetScene:u,nodeData:c,thumbnailData:s}:null,[c,s,d,u])}},567078:(e,t,a)=>{a.d(t,{b:()=>m});var n=a(411855),r=a(598045),l=a(531664),i=a(153234),o=a(939863),s=a(617453),c=a(100197),d=a(129978),u=a(564092);function m({fill:e,modes:t,recordingKey:a}){let m=(0,c.J2)((0,s.UK)().showGuids),p=Object.entries(t).map(([e,t])=>({...t,setKey:e})).filter(e=>e.modeOptions.length>1).sort((e,t)=>e.collectionName.toLocaleLowerCase().localeCompare(t.collectionName.toLocaleLowerCase()));return 0===p.length?null:n.createElement(n.Fragment,null,n.createElement("div",{className:"playground_modes_section--title--wPRzF text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,o.tx)("design_systems.playground.variable_modes_title")),p.map(t=>n.createElement(d.yj,{fill:e,key:t.setKey,onChange:e=>{e!==u.Mo&&e!==u.Yn&&((0,l.c2)(t.explicitMode||t.inheritMode,e)||(e===u.Ws||e===u.UE?r.glU.setVariableModeForPlayground(t.setKey,e):r.glU.setVariableModeForPlayground(t.setKey,e.guid)))},showExplicitOnly:!1,variableSetName:t.collectionName,variableSetKey:t.setKey,modeOptions:t.modeOptions,explicitModeID:t.explicitMode,inheritedModeID:t.inheritMode,isShowingGuids:m,showInheritedModeOption:!1,recordingKey:i.Pt(a,`mode-${t.setKey}`)})))}},108793:(e,t,a)=>{a.d(t,{x:()=>h});var n=a(411855),r=a(552048),l=a(449124),i=a(29680),o=a(273226),s=a(467302),c=a(907368),d=a(721478),u=a(371623),m=a(103339);let p="playground_props_section--divider--I23uK";var _=a(132208);function f({componentProps:e,bubbledComponentId:t,productComponentGUID:a,sceneGraph:l,instanceSwapPickerInitialHeight:m,instanceSwapPickerInitialPosition:p,recordingKey:_,containerWidth:f}){let h=(0,i.T3)(),{typedPropDefsExcludingHidden:g,variantPropDefs:E,assignmentValuesByDefId:y,allStateVariantProps:v,backingStateVariantProps:b,statePropertyValues:C}=(0,s.n)(t,e,a,h);return g.length||E.length?n.createElement(r.S,{titleClassName:"playground_props_section--bubbledPropsTitle--8SBPC",isInitiallyOpen:g.length<c.qC,title:n.createElement(d.iN,{canCollapse:!0,shouldHideButtons:!0,isInComponentPlayground:!0,instanceAndSublayerGUIDs:[t],containerWide:f===o.O2.WIDE,recordingKey:_})},n.createElement(c.tO,{typedPropDefs:g,variantPropDefs:E,assignmentValues:y,allStateVariantProps:v,backingStateVariantProps:b,statePropertyValues:C,productComponentGUID:a,propDimension:o.OE.ASSIGNMENT,guids:[t],forBubbledProps:!0,splitVariantAndTypedProps:!1,instanceSwapPickerInitialHeight:m,instanceSwapPickerInitialPosition:p,sceneGraph:l,inPlayground:!0,recordingKey:_,containerWidth:f,hideIcon:!0,entrypointForInstanceSwapPicker:u.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_PLAYGROUND_BUBBLED})):null}function h({componentProps:e,moduleProps:t,moduleFrameData:a,label:r,playgroundGUID:d,productComponentGUID:h,sceneGraph:g,viewOnlyMode:E,instanceSwapPickerInitialHeight:y,instanceSwapPickerInitialPosition:v,recordingKey:b,containerWidth:C,errorData:w,shouldShowDividerAboveProps:T}){let S=(0,i.T3)(),N=d&&e,{typedPropDefsExcludingHidden:x,variantPropDefs:k,assignmentValuesByDefId:I,allStateVariantProps:A,backingStateVariantProps:L,statePropertyValues:O}=(0,s.n)(d??"",e??{},h,S),R=n.useMemo(()=>{if(!N)return[];let n=e[d]?.bubbledNestedInstanceGUIDs;if(n)return n;let r=t?.[d]?.bubbledNestedInstanceGUIDs;if(r)return r;if(a?.selectedFrameGUID){let e=t?.[a.selectedFrameGUID]?.bubbledNestedInstanceGUIDs;if(e)return e}return[]},[e,N,a,t,d]);return w?w.shouldHideError?null:n.createElement(n.Fragment,null,n.createElement("div",{className:p}),n.createElement("div",{className:"playground_props_section--errorBannerContainer--d3nQO"},n.createElement(l.z,{orientation:"vertical",iconSrc:_.A,onClose:()=>w.setShouldHideError(!0),variant:"warning",title:(0,m.DK)(w.errorType)},(0,m.q9)(w.errorType)))):N&&(x.length||k.length||R.length)?n.createElement(n.Fragment,null,T&&n.createElement("div",{className:p}),r,n.createElement(c.tO,{typedPropDefs:x,variantPropDefs:k,assignmentValues:I,allStateVariantProps:A,backingStateVariantProps:L,statePropertyValues:O,productComponentGUID:h,propDimension:o.OE.ASSIGNMENT,guids:[d],viewOnlyMode:E,forBubbledProps:!1,splitVariantAndTypedProps:!!E,instanceSwapPickerInitialHeight:y,instanceSwapPickerInitialPosition:v,sceneGraph:g,inPlayground:!0,recordingKey:b,containerWidth:C,hideIcon:!0,entrypointForInstanceSwapPicker:u.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_PLAYGROUND}),R.map(t=>{let a=e[t]?.backingSymbol||"",r=e[a]?.containingStateGroupGUID||a;return r?n.createElement(f,{key:t,componentProps:e,bubbledComponentId:t,productComponentGUID:r,sceneGraph:g,instanceSwapPickerInitialHeight:y,instanceSwapPickerInitialPosition:v,recordingKey:b,containerWidth:C}):null})):null}},381618:(e,t,a)=>{a.d(t,{d:()=>n});let n=(0,a(38580).eU)({})},849262:(e,t,a)=>{a.d(t,{c:()=>w,v:()=>C});var n=a(411855),r=a(767129),l=a(460869),i=a(118786),o=a(629019),s=a.n(o),c=a(46481),d=a(939863),u=a(256975),m=a(17604),p=a(779709),_=a(601607),f=a(498606);let h="complete_button--completeButton--OC0XP",g="complete_button--disabled--jWBRb",E="complete_button--completedIcon--Op6qF",y="complete_button--disabledIcon--n9m3s";var v=a(411929),b=a(164828);function C({nodeId:e,sourceForLogging:t,isMinimal:a}){let r=(0,_.Jk)(e);return n.createElement(w,{node:r,sourceForLogging:t,isMinimal:a})}function w({node:e,sourceForLogging:t,onboardingKey:a,isMinimal:o}){let _=(0,m.D)(),C=(0,u._I)(),w=_&&C;if(!e)return null;let T=()=>{w&&p.z4.setNodesCompleted([e.guid],`${t}-complete-button`)},S=()=>{w&&p.z4.setNodesReady(!0,[e.guid],`${t}-complete-button`,null)};return e.hasReadyStatus?o?n.createElement(r.K,{onClick:T,disabled:!w,"aria-label":(0,d.t)("dev_handoff.status.mark_as_completed"),htmlAttributes:{"data-tooltip":w?(0,d.t)("dev_handoff.status.mark_as_completed"):(0,d.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"),"data-tooltip-type":f.Ib.TEXT}},n.createElement(l.W,null)):n.createElement("button",{className:s()(h,{[g]:!w}),onClick:T,disabled:!w,"data-tooltip-type":f.Ib.TEXT,"data-tooltip":w?void 0:(0,d.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"),"data-tooltip-text-left":!0,"data-onboarding-key":a},n.createElement(c.U,{svg:v.A,className:s()(E,{[y]:!w})},n.createElement(l.W,{className:s()({[y]:!w})})),(0,d.tx)("dev_handoff.status.mark_completed")):e.hasCompletedStatus?o?n.createElement(r.K,{onClick:S,disabled:!w,"aria-label":(0,d.t)("dev_handoff.status.mark_as_ready"),htmlAttributes:{"data-tooltip":w?(0,d.t)("dev_handoff.status.mark_as_ready"):(0,d.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"),"data-tooltip-type":f.Ib.TEXT}},n.createElement(i.g,null)):n.createElement("button",{className:s()(h,{[g]:!w}),onClick:S,disabled:!w,"data-tooltip-type":f.Ib.TEXT,"data-tooltip":w?void 0:(0,d.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"),"data-tooltip-text-left":!0,"data-onboarding-key":a},n.createElement(c.U,{svg:b.A,className:s()(E,{[y]:!w})},n.createElement(i.g,{className:s()({[y]:!w})})),(0,d.tx)("dev_handoff.status.completed")):n.createElement("button",{className:s()(h,g),disabled:!0,"data-tooltip-type":f.Ib.TEXT,"data-tooltip":(0,d.t)("dev_handoff.workflows.focus_view.complete_button.status_removed"),"data-tooltip-text-left":!0,"data-onboarding-key":a},n.createElement(c.U,{svg:v.A,className:s()(E,y)},n.createElement(l.W,{className:y})),(0,d.tx)("dev_handoff.status.mark_completed"))}},540828:(e,t,a)=>{a.d(t,{TP:()=>p,TQ:()=>g,U0:()=>f,VW:()=>_,ZJ:()=>h});var n=a(411855),r=a(188507),l=a(598045),i=a(939683),o=a(738269),s=a(611978),c=a(239671),d=a(187882),u=a(607672),m=a(331972);function p(e,t){let a=(0,s._6)();return"fullscreen"===a.view?{...a,editorType:e??a.editorType,focusViewBackNavigation:void 0,devModeFocusId:void 0,showOverview:!1,overviewBackButtonTargetNodeId:void 0,...t?{nodeId:t}:{}}:a}function _(e,t){let a=(0,s._6)();return"fullscreen"===a.view?{...a,editorType:c.nT.DevHandoff,focusViewBackNavigation:{toEditorType:a.editorType,toOverview:!0},showOverview:!1,devModeFocusId:e,...t?{nodeId:t}:{}}:a}function f(){let e=(0,s._6)();return"fullscreen"===e.view?{...e,showOverview:!0,focusViewBackNavigation:void 0,devModeFocusId:void 0}:e}function h(){let e=(0,r.wA)(),t=(0,s._6)();return(0,n.useCallback)(a=>{(0,m._)(e,t,a)},[e,t])}function g(e){let t=p(e),a=(0,r.wA)(),n=(0,i.U)(),s=(0,d.n0)(),m=(0,u.VS)({pagesList:s,isComparingChanges:!1});return async(e,r,i)=>{i&&await m(i),a(o.$T(t));let s="unknown";"fullscreen"===t.view&&(l.w3z.addToSelectionNoAnimation([r]),l.glU.panToNode(r),s=t.editorType===c.nT.Design?"design_canvas":"dev_mode_canvas"),n(e,{target:s,nodeId:r})}}},493414:(e,t,a)=>{a.d(t,{s:()=>H,$:()=>G});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(939683),s=a(794272),c=a(374626),d=a(522739),u=a(498480),m=a(574176),p=a(762638),_=a(939863),f=a(256975),h=a(693897),g=a(40987),E=a(320063),y=a(964881),v=a(101505),b=a(456104),C=a(397065),w=a(147723),T=a(507956),S=a(340514),N=a(493364),x=a(463546);function k(){let e=(0,T.ks)(),t=(0,y.l7)(),a=(0,r.wA)(),l=(0,c.md)(g.d),i=(0,c.md)(g.cR),o=c.md(g.hv)?.data,{show:s,isShowing:d,complete:u}=(0,b.e)({overlay:x.xjb,priority:C.N.DEFAULT_MODAL});(0,E.h)(()=>{t&&!o&&(0,w.nT)(a),!t&&!o&&(l||i)&&s()});let m={label:(0,_.tx)("dev_handoff.workflows.overview.onboarding.primary_cta"),type:"button",onClick:u,ctaTrackingDescriptor:v.c.GOT_IT},p={label:(0,_.tx)("dev_handoff.workflows.overview.onboarding.secondary_cta"),type:"link",href:"https://help.figma.com/hc/en-us/articles/23918228264855",ctaTrackingDescriptor:v.c.LEARN_MORE};return n.createElement(S.rq,{title:l?(0,_.tx)("dev_handoff.workflows.overview.onboarding.first_rfd.title"):(0,_.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.title"),description:l?(0,_.tx)("dev_handoff.workflows.overview.onboarding.first_rfd.description"):e?(0,_.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.dev_mode.description"):(0,_.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.design.description"),trackingContextName:"Dev Mode Overview Onboarding",targetKey:w.o5,isShowing:d,onClose:u,arrowPosition:N.F_.LEFT_TITLE,primaryCta:m,secondaryCta:p,disableHighlight:!0})}var I=a(738269),A=a(259927),L=a(809831),O=a(707465),R=a(239671),M=a(498606),D=a(402609),P=a(282741),F=a(354894);let B="overview_entry--isSelected--E6mSl";var U=a(873619);function H({count:e,isInTab:t,isActive:a}){return n.createElement(u.Ex,{className:i()("overview_entry--countBadge---5UQw",t&&"overview_entry--isInTab--J7wAV",a&&p.cx.colorText.$),text:`${e}`,size:u.vj.SMALL,color:u.zE.DEFAULT,subtle:!0})}function G(){let e=(0,o.U)(),t=(0,y.X0)(),a=!(0,f.U4)(),[l,u]=(0,c.fp)(g.gk),[,p]=(0,c.fp)(P._o),E=(0,r.wA)(),v=(0,r.d4)(e=>e.mirror.appModel.currentPage),b=(0,s.R)(e=>"fullscreen"===e.selectedView.view?{...e.selectedView,showOverview:!0,overviewBackButtonTargetNodeId:v}:e.selectedView),C=(0,r.d4)(e=>a?void 0:(0,O.Np)(e,b)),T=(0,y.l7)(),S=(0,y.ZI)(),N=c.md(g.hv)?.data,[x,G]=(0,c.fp)(g.cR),V=(0,c.md)(g.d),z=(0,r.Pj)(),K=(0,L.ow)(),W=(0,n.useCallback)(e=>{if(e.stopPropagation(),e.preventDefault(),a)return;let{clientX:t,clientY:n}=e;E((0,I.j7)({type:A.bx,data:{clientX:t,clientY:n}}))},[a,E]);return!t||K?null:0===S?null:(T||N||x||V||G(!0),n.createElement("div",{className:i()(F.hv,"overview_entry--wrapper--qBXOx")},n.createElement(d.lt,{className:i()("overview_entry--entryRow--l-Ofr",T&&B,a&&"overview_entry--isDisabled--OAHeM"),onClick:function(t){if(t.preventDefault(),a)return;e("Dev Mode Overview Entry Clicked");let n=z.getState();"editorType"in n.selectedView&&n.selectedView.editorType===R.nT.Design&&(0,h.Ym)(n,R.nT.DevHandoff,"overview_entry"),p("entry_clicked"),u(void 0),E((0,I.$T)(b))},onContextMenu:W,href:C,"data-tooltip-type":M.Ib.TEXT,"data-tooltip":a?(0,_.t)("dev_handoff.paywall.org_not_member_hint"):void 0,"data-tooltip-text-left":!0,recordingKey:"dev_handoff.workflows.overview_entry"},n.createElement("div",{className:i()("overview_entry--entryRowInner--fPECV",T&&B)},n.createElement("div",{className:"overview_entry--leftSide--0zNy- text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(m.B,{className:"overview_entry--readyIcon--QwDeG",svg:U.A}),(0,_.tx)("dev_handoff.workflows.overview.title")),n.createElement("div",{"data-onboarding-key":w.o5},n.createElement(H,{count:S})))),n.createElement(D.p,null,n.createElement(k,null))))}},465904:(e,t,a)=>{a.d(t,{QV:()=>s,YA:()=>o,n9:()=>i});var n=a(374626),r=a(330654);let l=(0,n.E2)("workflows_recently_viewed",{},r.record(r.string(),r.record(r.string(),r.number())));function i(e){let[t]=(0,n.fp)(l);return e?t[e]:null}function o(e,t){return(t.lastViewedTimestamp??0)-(e.lastViewedTimestamp??0)}function s(){let[e,t]=(0,n.fp)(l);return(a,n)=>{let r=Date.now();t({...e,[a]:{...e[a],[n]:r}})}}},282741:(e,t,a)=>{let n;a.d(t,{_6:()=>E,_o:()=>f,c7:()=>y,oz:()=>g,wz:()=>h,zz:()=>v});var r=a(411855),l=a(188507),i=a(776250),o=a(939683),s=a(320063),c=a(38580),d=a(374626),u=a(776621),m=a(304783),p=a(256975);let _=(0,a(940596).Wh)(()=>(0,c.eU)(!1),{preserveValue:!1}),f=(0,c.eU)(""),h=(0,c.eU)("");var g=(e=>(e.ALL="ALL",e.RECENTLY_VIEWED="RECENTLY_VIEWED",e.BUILD="BUILD",e.COMPLETED="COMPLETED",e))(g||{}),E=(e=>(e.RECENT="RECENT",e.PAGE="PAGE",e.ALPHABETICAL="ALPHABETICAL",e))(E||{});function y(e,t,a){let i=(0,o.U)(),c=(0,p._I)();(0,s.h)(()=>{n=null}),r.useEffect(()=>{if(0!==e.length)try{let r=new Set(e.map(e=>e.pageId)).size,o=new Set(e.filter(e=>e.userId).map(e=>e.userId)).size,s={numNodes:e.length,numNodesWithFallbackUser:e.filter(e=>e.isFallbackForLegacyStatus).length,numSectionsWithMissingUserInfo:e.filter(e=>!e.userId&&e.isSection).length,numFramesWithMissingUserInfo:e.filter(e=>!e.userId&&!e.isSection).length,numPages:r,numUsers:o,tab:t,sortedBy:a,type:c?"full":"lite"};(0,l.bN)(s,n)||(i("dev_mode.overview.stats",s,{forwardToDatadog:!0}),n=s)}catch(e){(0,u.$D)(m.e.DEVELOPER_TOOLS,e)}},[e,a,t,c,i])}function v(e,t,a){let[n,l]=(0,d.fp)(_),s=(0,o.U)();r.useEffect(()=>{if(!n)try{if(e.length>0&&t&&!t.loading){if(t.hasError||!t.usersById)l(!0),(0,i.sx)("dev_mode.overview.avatars.error",{},{forwardToDatadog:!0});else if(Object.keys(t.usersById).length===e.length){l(!0);let n=a.filter(e=>!e.userId),r=a.filter(e=>!e.userId&&e.isFallbackForLegacyStatus),i=a.filter(e=>!e.userId&&!e.isFallbackForLegacyStatus&&e.hasBeenEditedSinceLastStatusChange),o=Object.entries(t.usersById).filter(([e,t])=>e&&!t);s("dev_mode.overview.avatars.loaded",{numUsersRequested:e.length,numUsersNotFound:o.length,numNodesWithMissingUserInfo:n.length,numNodesWithMissingFallbackUserInfo:r.length,numNodesEditedWithMissingUserInfo:i.length},{forwardToDatadog:!0})}}}catch(e){l(!0),(0,u.$D)(m.e.DEVELOPER_TOOLS,e)}},[n,a,l,s,e.length,t])}},1851:(e,t,a)=>{a.d(t,{D:()=>v,f:()=>y});var n=a(881388),r=a(939863),l=a(392592),i=a(662275),o=a(320741),s=a(280945),c=a(411855),d=a(188507),u=a(946689),m=a(632923),p=a(672517),_=a(237870),f=a(488578),h=a(384890);let g=(0,_.Ju)(function(){let e=(0,d.wA)();return c.createElement(p.fu,{name:"google_device_try_file_claim_success_modal"},c.createElement(f.aF,{disableKeyboardEventPropagation:!0,className:h.tQ},c.createElement("div",{className:h.Dg},c.createElement("img",{className:h.Sl,src:"https://static.figma.com/uploads/e94b4d90f07d46f80c5d4d47a16ee2cd8df688bf",alt:""})),c.createElement(m.k0,{multiple:2}),c.createElement("div",{className:h.FS},c.createElement("h1",{className:h.DX},(0,r.tx)("google_device_try_file_modal.claim_success.header")," ")),c.createElement(m.k0,{multiple:1}),c.createElement("div",{className:h.FS},c.createElement("div",{className:h.Kc},(0,r.tx)("google_device_try_file_modal.claim_success.description"))),c.createElement(m.k0,{multiple:3}),c.createElement(u.nD,{type:"close",fullWidth:!0,onClick:t=>{t.preventDefault(),t.stopPropagation(),e(i.Ce())}},(0,r.tx)("google_device_try_file_modal.claim_success.button"))))},"GOOGLE_DEVICE_TRY_FILE_CLAIM_SUCCESS_MODAL");var E=a(980820);let y=(0,E.nF)((e,{fileKey:t,emailAddress:a,isResentEmail:i,onSuccess:c},{loadingKey:d})=>{let u=s.L.setClaimEmail({fileKey:t,emailAddress:a});(0,o.N)(u,e,d),u.then(()=>{if(i){e.dispatch(l.F.enqueue({message:(0,r.t)("google_device_try_file_modal.resent_email.visual_bell")}));return}c?.(a)}).catch(t=>{if(t.data?.message==="Hit Claim Email Job timeout lock"){e.dispatch(l.F.enqueue({message:(0,r.t)("google_device_try_file_modal.resent_email.email_resent")}));return}e.dispatch(n.s.error((0,r.t)("google_device_try_file_modal.enter_email.failed_to_send")))})}),v=(0,E.nF)((e,{fileKey:t},{loadingKey:a})=>{let l=s.L.claimDeviceFile({fileKey:t});(0,o.N)(l,e,a),l.then(()=>{e.dispatch(i.to({type:g,data:{}}))}).catch(t=>{e.dispatch(n.s.error((0,r.t)("google_device_try_file.save_board.generic_error")))})})},439384:(e,t,a)=>{a.d(t,{Te:()=>s,_O:()=>c,ew:()=>o});var n=a(966712),r=a(29680),l=a(335682),i=a(99506);function o(){let e=(0,r.p8)("pagesList");return e.some(t=>t.pageType!==e[0].pageType)}function s(){let e=(0,l.q5)();return e?.editorType===i._Y.DESIGN}function c(){let e=s(),t=o();return e&&(t||(0,n.kc)().interop_pages)}},543841:(e,t,a)=>{a.d(t,{ai:()=>u,yh:()=>p});var n=a(411855),r=a(598045),l=a(88823),i=a.n(l),o=a(572206),s=a(356390),c=a(15859),d=a(931770);function u({nodeId:e,width:t,height:a,shouldSkip:r,updateOnSceneGraphChange:l=!1}){let[c,u]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if(r){u(null);return}let n=null,c=()=>{n&&(n.abort(),n=null)},m=()=>{let n=(0,d._G)(new o.Mi(t,a),e,!0);n&&n.pixels&&n.pixelSize&&n.displaySize&&u({src:(0,d.Pv)(n.pixels,n.pixelSize),displaySize:n.displaySize})};u(null);let p=()=>{c(),n=new TaskController({priority:"user-visible"}),scheduler.postTask(m,{signal:n.signal})},_=i()(p,200,{trailing:!0,leading:!1});return p(),l&&s.Y5.fromFullscreen.on("sceneGraphMirrorUpdate",_),()=>{c(),_.cancel(),l&&s.Y5.fromFullscreen.removeListener("sceneGraphMirrorUpdate",_)}},[e,t,a,r,l]),c}let m={};function p({nodeId:e,width:t,height:a,version:l,reason:i,shouldSkip:s,regenerateAfterImagesLoaded:u,isDevModeBlendedSection:p=!1}){let[_,f]=(0,n.useState)(!1),h=function({nodeId:e,width:t,height:a}){return`${e}-${t}x${a}`}({nodeId:e,width:t,height:a}),[g,E]=(0,n.useState)(m[h]),y=g?.hasUnresolvedImages||!1;return(0,n.useEffect)(()=>{if(s)return;let t=!0;return u&&!_&&y&&(0,c.Jr)().waitForImagesUnder([e],r.MoD.LOW_RES_ONLY,i).then(()=>{t&&f(!0)}),()=>{t=!1}},[_,h,e,i,y,u,s]),(0,n.useEffect)(()=>{if(s)return;let n=null;(!g||g.version!==l||!g.imagesLoaded&&_&&g.hasUnresolvedImages)&&(n&&(n.abort(),n=null),n=new TaskController({priority:"user-visible"}),scheduler.postTask(()=>{let n=!!u&&(0,c.Jr)().unresolvedImagesUnder([e],r.MoD.LOW_RES_ONLY).length>0,i=(0,d._G)(new o.Mi(t,a),e,!0,r.tvY.TRANSPARENT,p);if(i&&i.pixels&&i.pixelSize&&i.displaySize){let e={thumbnail:{src:(0,d.Pv)(i.pixels,i.pixelSize),displaySize:i.displaySize},imagesLoaded:_,hasUnresolvedImages:n,version:l};m[h]=e,E(e)}},{signal:n.signal}))},[e,t,a,h,g,l,s,_,u,p]),g?g.thumbnail:null}},792675:(e,t,a)=>{a.d(t,{x:()=>r});var n=a(411855);function r(e,t="0px"){let a="IntersectionObserver"in window,[l,i]=(0,n.useState)(!a);return(0,n.useEffect)(()=>{if(!a||!e.current)return;let n=e.current,r=new IntersectionObserver(([e])=>{i(e.isIntersecting)},{rootMargin:t});return r.observe(n),()=>{r.unobserve(n)}},[e,t,a]),l}},170960:(e,t,a)=>{a.d(t,{W:()=>m,g:()=>u});var n=a(411855),r=a(188507),l=a(915440),i=a(711525),o=a(743282),s=a(725561),c=a(279453);function d(){let e=n.useMemo(()=>(0,o.g)(),[]),t=(0,l.Rs)(c.gvX,{cacheNonce:e}),a=(0,r.wA)();if("loaded"===t.status&&t.data.currentUser.notificationExperimentInfo.status===i.tT.Loaded){let e=(0,i.oA)(t.data.currentUser.notificationExperimentInfo);if(!e)return!1;if("exp_notification_catfile"===e.experimentName||"exp_notification_catfic"===e.experimentName){if("prompt_to_opt_in"===e.type)return!0;a(s.EJ({userId:e.userId,fileKey:e.fileKey,preference:e.preference}))}}return!1}function u(){let e=(0,r.wA)(),t=n.useMemo(()=>(0,o.g)(),[]),a=(0,l.Rs)(c.gvX,{cacheNonce:t}),u=d();n.useEffect(()=>{if(a.data){let t=(0,i.oA)(a.data.currentUser.notificationExperimentInfo);t&&!0===u&&e(s.hU({userId:t.userId,fileKey:t.fileKey,experimentName:t.experimentName}))}},[e,a,u])}function m(){let e=(0,r.wA)(),t=n.useMemo(()=>(0,o.g)(),[]),a=(0,l.Rs)(c.gvX,{cacheNonce:t}),u=d();n.useEffect(()=>{if(a.data){let t=(0,i.oA)(a.data.currentUser.notificationExperimentInfo);t&&!0===u&&e(s.ZI({userId:t.userId,fileKey:t.fileKey,experimentName:t.experimentName}))}},[e,a,u])}},590695:(e,t,a)=>{a.d(t,{N:()=>c,S:()=>d});var n=a(411855),r=a(38580),l=a(646240),i=a(374626);let o=(0,r.eU)(0),s=(0,r.eU)(e=>e(o)>0);function c({isVisible:e}){let t=(0,l.Xr)(o);(0,n.useLayoutEffect)(()=>{if(e)return t(e=>e+1),()=>t(e=>Math.max(0,e-1))},[e,t])}function d(){return(0,i.md)(s)}},801605:(e,t,a)=>{a.d(t,{A:()=>c8});var n=a(411855),r=a(966712),l=a(563706),i=a(30637),o=a(877723),s=a(188507),c=a(931828),d=a(672517),u=a(456104),m=a(397065),p=a(143678),_=a(147829),f=a(463546),h=a(598045),g=a(421757);function E(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.015 3.44 5.7 4.7l-1.26.315c-.505.126-.505.844 0 .97L5.7 6.3l.315 1.26c.126.505.844.505.97 0L7.3 6.3l1.26-.315c.505-.126.505-.844 0-.97L7.3 4.7l-.315-1.26c-.126-.505-.844-.505-.97 0Zm0 12L5.7 16.7l-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0L7.3 18.3l1.26-.315c.505-.126.505-.844 0-.97L7.3 16.7l-.315-1.26c-.126-.505-.844-.505-.97 0ZM5.7 10.7l.315-1.26c.126-.505.844-.505.97 0L7.3 10.7l1.26.315c.505.126.505.844 0 .97L7.3 12.3l-.315 1.26c-.126.505-.844.505-.97 0L5.7 12.3l-1.26-.315c-.505-.126-.505-.844 0-.97L5.7 10.7ZM10.5 5a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9Zm0 6a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9Zm0 6a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9Z",clipRule:"evenodd"}))}var y=a(374626),v=a(646240),b=a(768137),C=a(799569),w=a(210954),T=a(574176),S=a(762638),N=a(939863),x=a(809840),k=a(592096),I=a(226055),A=a(395701),L=a(843495),O=a(457630),R=a(498606),M=a(67048),D=a(477173),P=a(577023),F=a(978346),B=a(492521),U=a(341860),H=a(230646);let G=(e,t)=>e.filter(e=>t.get(e));var V=(e=>(e.DismissImmediately="dismiss-immediately",e.NoAutoDismiss="no-auto-dismiss",e.StartAutoDismissTimer="start-auto-dismiss-timer",e.noop="no-op",e))(V||{}),z=a(632084);function K(e){return n.useMemo(()=>{if(!e)return!0;let{data:t}=(0,z.b7)(new U.q);return JSON.stringify(t.map(e=>({t:e.t,id:e.id,type:e.type,stamps:e.stamps}))).length>12e3},[e])}var W=a(126049);function j(e=2e3){let t=(0,s.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),[a,r]=n.useState({hasDebounceSettled:!1,numNodesSelected:void 0}),l=(0,W.A)(e=>{r({hasDebounceSettled:!0,numNodesSelected:e})},e);n.useEffect(()=>{r({hasDebounceSettled:!1,numNodesSelected:t}),l(t??0)},[l,t]);let i=a.numNodesSelected!==t;return a.hasDebounceSettled&&!i}var Z=a(736916);let Y="ai_summary_nudge--buttonContents--oUSGP",X="ai_summary_nudge--badgeWrapper--QRaRq";var q=a(62573);function J({onClose:e,onSummarize:t,onAutoDismiss:a}){let l;let i=j(500),o=K(i),{lastSummarizableSelection:c}=function({onAutoDismiss:e,selectionIsStable:t}){let a=(0,H.cF)(),[r,l]=(0,n.useState)(0),i=(0,s.d4)(e=>e.mirror.sceneGraphSelection),o=n.useMemo(()=>Object.entries(i).filter(([e,t])=>t).map(([e,t])=>e),[i]),[c,d]=(0,n.useState)([]),u=new U.q,m=0===o.length&&c.length>0&&!G(c,u).length;return(0,n.useEffect)(()=>{switch(function({currentAutoDismissTimeoutId:e,stickySummarizationEnabledForSelection:t,lastSummarizableSelectionHasBeenDeleted:a,selectionSize:n,canRecomputeAutoDismissAction:r}){if(0===n&&a)return"dismiss-immediately";if(r){if(t)return"no-auto-dismiss";if(!e)return"start-auto-dismiss-timer"}return"no-op"}({currentAutoDismissTimeoutId:r,stickySummarizationEnabledForSelection:a,lastSummarizableSelectionHasBeenDeleted:m,selectionSize:o.length,canRecomputeAutoDismissAction:t})){case V.DismissImmediately:window.clearTimeout(r),l(0),e();break;case V.NoAutoDismiss:d(o),window.clearTimeout(r),l(0);break;case V.StartAutoDismissTimer:l(window.setTimeout(()=>{e()},1e4))}},[o.length,o,a,m,r,t,e]),{lastSummarizableSelection:c}}({onAutoDismiss:a,selectionIsStable:i});(0,n.useEffect)(()=>{y.zl.set(Z.EH,e=>e+1),y.zl.set(Z.ji,()=>new Date().toISOString())},[]);let{summarizeCanvasSelection:d}=(0,D.ss)(h.cfv.ABOVE,!1,"DISCOVERY_NUDGE"),u=(0,B.Cb)(),m=(0,v.Xr)(P.v),p=!!(0,r.kc)().figjam_summary_nudge_too_many_tokens&&i&&o;p&&(l=(0,N.t)("whiteboard.ai_summary.nudge.too_many_tokens"));let _=(0,n.useRef)(null),f=(0,I.GS)(),g=(0,O.ni)(),E=(0,k.FQ)(f?8:void 0);return(0,n.useLayoutEffect)(()=>{let e=_.current;if(!e)return;let t=f?g.y-8:g.y-k.zU,a=A.r.fromOriginAndSize(g.x,t,g.width,g.height),n=e.getBoundingClientRect(),r=E(A.r.fromOriginAndSize(a.right()-n.width-(f?12:24),a.top()+(f?20:0),n.width,n.height),a);if(n.x<0||n.y<0){let t=new Animation(new KeyframeEffect(e,[{transform:`translateX(${r.left()}px) translateY(-250px)`},{transform:`translateX(${r.left()}px) translateY(${r.top()}px)`}],{duration:600}));t.onfinish=()=>{e.style.transform=`translateX(${r.left()}px) translateY(${r.top()}px)`},t.play()}else e.style.transform=`translateX(${r.left()}px) translateY(${r.top()}px)`},[_,f,-250,g,E]),n.createElement("div",{ref:_,className:"ai_summary_nudge--container--Xt3Ld"},n.createElement("div",{className:"ai_summary_nudge--topContent--EYXY0"},n.createElement("div",{className:"ai_summary_nudge--topBar--3FRaK"},n.createElement("span",{className:S.cx.textHeadingMedium.$},(0,N.tx)("whiteboard.ai_summary.nudge.title")),n.createElement("div",{className:"ai_summary_nudge--closeButton--2Lr8q"},n.createElement(C.Jn,{"data-testid":"close-button",onClick:e}))),n.createElement("div",{className:S.cx.textBodyLarge.colorTextSecondary.$},(0,N.tx)("whiteboard.ai_summary.nudge.subtitle")),n.createElement("div",{className:"ai_summary_nudge--numberContainer--JqUxZ"},n.createElement($,{num:1}),n.createElement($,{num:2})),n.createElement(Q,{disabled:p,disabledTooltip:l,"data-testid":"summarize-button",onClick:()=>{L.wr(),L.Dh(c),d(),t(),u&&m(!0)},trackingProperties:{text:"summarize"}})),n.createElement("div",{className:"ai_summary_nudge--middlePerforation--z5eDN"}),n.createElement("div",{className:"ai_summary_nudge--bottomContent--EiPHE"},n.createElement("div",null,n.createElement("span",{className:S.cx.textBodyMedium.colorTextSecondary.$},(0,N.tx)("whiteboard.ai_summary.nudge.disclaimer")),"\xa0",n.createElement(w.N,{className:S.cx.textBodyMedium.inline.$,href:F.nG,target:"_blank",trusted:!0},(0,N.tx)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta")))),n.createElement("div",{className:"ai_summary_nudge--bottomPerforation---VeRC"}))}let Q=(0,d.tf)(function({onClick:e,disabled:t,disabledTooltip:a}){let r=(0,I.GS)();return n.createElement(d.fu,{name:"AI Summary Nudge CTA",properties:{disabled:t}},r?n.createElement(g.Pw,{onClick:e,variant:"primary",htmlAttributes:{"data-testid":"summarize-button","data-tooltip":t?a:"","data-tooltip-type":R.Ib.TEXT},disabled:t},n.createElement("div",{className:Y},n.createElement("span",{className:"ai_summary_nudge--buttonIcon--X-QPt"},n.createElement(E,null)),(0,N.tx)("whiteboard.ai_summary.nudge.cta"),n.createElement("div",{className:X},n.createElement(M.G,{location:t?"SUMMARIZE_NUDGE_DISABLED":"SUMMARIZE_NUDGE",overrideText:(0,N.t)("whiteboard.inline_menu.ai_quick_actions_beta_badge_text")})))):n.createElement(b.$$,{style:{maxWidth:"initial"},className:"ai_summary_nudge--button--DlY6r",onClick:e,"data-testid":"summarize-button",disabled:t,"data-tooltip":t?a:"","data-tooltip-type":R.Ib.TEXT},n.createElement("div",{className:Y},n.createElement(T.B,{svg:q.A,className:"ai_summary_nudge--svgIcon---Lky-"}),(0,N.tx)("whiteboard.ai_summary.nudge.cta"),n.createElement("div",{className:X},n.createElement(M.G,{location:t?"SUMMARIZE_NUDGE_DISABLED":"SUMMARIZE_NUDGE",overrideText:(0,N.t)("whiteboard.inline_menu.ai_quick_actions_beta_badge_text")})))))});function $({num:e}){let t=184/e;return n.createElement("div",{className:"ai_summary_nudge--numberGraphic--CnM2r","aria-hidden":"true"},n.createElement(x.E,{fontSize:14,color:"secondary"},e),n.createElement("div",{className:"ai_summary_nudge--textPlaceholder--tx2Yp",style:{width:`${t}px`}}))}function ee(){let e=(0,s.d4)(e=>e.mirror.selectionProperties.whiteboardSelectionCanShowAiSummaryNudge),t=j(),a=K(t);return t&&e&&!a}var et=a(711525),ea=a(773912);function en(){let e=(0,s.wA)(),{isShowing:t,complete:a}=function(){let e=function(){let e=function(){let e=(0,y.md)(ea.Bl),t=(0,y.md)(Z.xo),a=(0,y.md)(Z.MC),r=(0,y.md)(Z.ji),l=(0,y.md)(Z.EH);return n.useMemo(()=>{if("loaded"!==t.status||"loaded"!==a.status||"loaded"!==e.status||e.data)return(0,et.gB)({isEligibleToShowUser:!1});let n=new Date(r).getTime()>Date.now()-864e5;return l>=3||t.data||a.data||n?(0,et.gB)({isEligibleToShowUser:!1}):(0,et.gB)({isEligibleToShowUser:!0})},[e,t,a,l,r])}(),t=ee();return(0,et.gB)({shouldShowNudge:!!(e.data.isEligibleToShowUser&&t)})}(),{show:t,isShowing:a,complete:r}=(0,u.e)({overlay:f.RSb,priority:m.N.SECONDARY_MODAL},[e]),l=ee(),i=(0,s.d4)(e=>e.mirror.selectionProperties.numSelectedByType);return n.useEffect(()=>{t({canShow:e=>e.shouldShowNudge})},[t,e,i,l]),{isShowing:a,complete:r}}();return n.createElement(_.M,{isShowing:t},t&&n.createElement(d.fu,{name:p.e0.AI_SUMMARY_TOPBAR_NUDGE},n.createElement(J,{onClose:()=>{e(c.b({[Z.l0]:!0})),a()},onSummarize:()=>{e(c.b({[Z.zp]:!0})),e(c.b({[Z.l0]:!0})),a()},onAutoDismiss:()=>{a()}})))}var er=a(369870),el=a(779709),ei=a(335682),eo=a(181912),es=a(38580),ec=a(106757),ed=a(309798);let eu=(0,es.eU)(!1);var em=a(392592),ep=a(934533),e_=a(636227),ef=a(430196);let eh="slides_visual_bell_entrypoint_dismissed_user_flag";function eg(){return!function(){let e=(0,s.wA)(),t=(0,e_.Y)(),a=(0,e_.d)(),r=(0,ed.f)(eh),l=(0,ef.$)(),[i,o]=n.useState(!1),[d,u]=n.useState(!1),m=n.useCallback(()=>{e(em.F.enqueue({messageComponentKey:ep.Rw.SLIDE_CONVERSION_VISUAL_BELL,timeoutOverride:2e4,onDismiss:()=>{o(!0),e(c.b({[eh]:!0})),e(em.F.enqueue({message:(0,N.t)("slides.visual_bell.we_wont_ask_you_again")}))}}))},[e]);n.useEffect(()=>{!r?.createdAt&&!i&&a&&!d&&l>=3&&t().get("enabled",!1)&&(m(),u(!0))},[m,r,i,d,l,a,t])}(),null}var eE=a(172115),ey=a(662275),ev=a(349410),eb=a(101505),eC=a(251960),ew=a(723239),eT=a(582947),eS=a(206193),eN=a(374300),ex=a(59530),ek=a(394828),eI=a(740280),eA=a(864114);let eL=(0,eT.r1)(ex.IR);function eO(){let e=(0,v.md)(ew.mp),t=(0,v.md)(ew.t),a=(0,v.md)(eL),r=(0,v.md)(ei.yV),l=(0,s.wA)(),{uniqueId:i,isShowing:o,show:c,complete:d}=(0,u.e)({overlay:f.B14,priority:m.N.SECONDARY_MODAL},[e,t,a]),p=(0,ev.hn)();return(0,eC.E)(i,"properties-panel-select-tab",e=>{e.properties?.tab==="prototype"&&c({canShow:(e,t,a)=>(function(e){let t=Date.now();return e.getTime()<=t-2592e6})(e)&&t&&p()&&!a})}),n.createElement(eI.X,{isShowing:o,title:(0,N.tx)("upsell.advanced_prototyping.title"),description:(0,N.tx)("upsell.advanced_prototyping.description"),media:n.createElement(ek.w,{src:"https://static.figma.com/uploads/30507591ad5cd385aaf75d4a16ef140b74ec821b",aspectRatio:1.75}),primaryCta:{label:(0,N.tx)("upsell.advanced_prototyping.see_plans"),type:"button",onClick:()=>{l(ey.to({type:eE.V,data:{upsellSource:eS.b.ADVANCED_PROTOTYPING_UPSELL,teamId:r?.team?.id,openCheckoutInNewTab:!0,featureList:(0,eN.xp)(eN.Q1.filter(e=>e!==eN.Xj.AUDIO_CONVERSATIONS),eN.Xj.ADVANCED_PROTOTYPING)}})),d()},ctaTrackingDescriptor:eb.c.SEE_PLANS},secondaryCta:{label:(0,N.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/en-us/articles/14506587589399-Use-variables-in-prototypes",ctaTrackingDescriptor:eb.c.LEARN_MORE},trackingContextName:"Advanced Prototype Upsell Popup",userFlagOnShow:ex.IR,position:eA.Q.BOTTOM_RIGHT,onClose:d})}var eR=a(866564),eM=a(340514);let eD="seen_audio_nux",eP=(0,eT.r1)(eD);function eF(){let e=(0,y.md)(eP),t=(0,I.GS)(),a=(0,u.e)({overlay:f.y4J,priority:m.N.SECONDARY_MODAL},[e]);return(0,eC.E)(a.uniqueId,"Context Viewed",e=>{let t=e.properties?.name;"join-call-with-others"===t?a.show({canShow:e=>!e}):"should-close-open-audio-nux"===t&&a.isShowing&&a.complete()}),(0,eC.E)(a.uniqueId,"Lost DOM Target",()=>{a.isShowing&&a.complete()}),n.createElement(eM.rq,{isShowing:a.isShowing,userFlagOnShow:eD,emphasized:!0,title:(0,N.tx)("collaboration.voice.join_the_conversation"),description:n.createElement("div",{style:t?{display:"inline"}:void 0},n.createElement(eR.OS,null)),targetKey:"audio-nux-key",onClose:a.complete,trackingContextName:"audio_nux_pointer"})}var eB=a(29680),eU=a(594524),eH=a(665723),eG=a(585575),eV=a(916108),ez=a(218997),eK=a(377020),eW=a(334290),ej=a(443958),eZ=a(601538),eY=a(15839),eX=a(433546),eq=a(526360),eJ=a(756085),eQ=a(460187),e$=(e=>(e[e.DONT_SHOW=0]="DONT_SHOW",e[e.DEFAULT_TO_SRGB=1]="DEFAULT_TO_SRGB",e[e.DEFAULT_TO_DISPLAY_P3=2]="DEFAULT_TO_DISPLAY_P3",e))(e$||{});let e0={"Export PNG with Color Profile":"867977941678289774"};function e1(){let{plugins:e}=(0,eJ.wH)(),t=Object.fromEntries(Object.entries(e0).filter(([t,a])=>Object.values(e).some(e=>e.manifest.id===a)));return Object.keys(t).length>0?t:null}function e2(){let e=(0,eQ.Av)();return(0,eQ.tK)(e)}let e5=(0,es.eU)(null),e3="color_management_default_to_p3_modal--onboardingFooter--VSeAU",e4="color_management_default_to_p3_modal--content--FzYUr",e6="seen_color_management_default_to_p3_modal",e7=eZ.tO,e8=eK.O0,e9="color_management_default_to_p3_modal";function te(){let e=(0,u.e)({overlay:f.t_E,priority:m.N.SURVEY}),{currentStep:t,next:a,back:r}=(0,eU.A)({numSteps:2,onComplete:e.complete}),l=(0,ed.f)(e6),[i]=(0,eX.jJ)(),o=e2(),s=e1(),[c,d]=(0,y.fp)(e5),p=(0,eH.jK)(),[_,h]=(0,n.useState)(!1),[g]=(0,y.fp)(ej.n$),E=(0,eH.C$)();return n.useEffect(()=>{l||null!=c||p.colorProfilePreference!==eG.M.DEFAULT||(d(eG.M.DISPLAY_P3),E(eG.M.DISPLAY_P3,{canSeeP3:o,desktopSetting:i,p3Plugins:s}),e.show())},[o,c,i,l,e,s,d,E,p.colorProfilePreference]),(0,eC.E)(e.uniqueId,eW.kF,()=>{e.isShowing&&0===t&&e.complete()}),(0,eC.E)(e.uniqueId,eK.nu,()=>{e.isShowing&&1===t&&e.complete()}),(0,eC.E)(e.uniqueId,eW.kL,()=>{_||e.isShowing||0!==t||g||(a(),e.show())}),(0,eC.E)(e.uniqueId,ej.E1,()=>{_||e.isShowing||0!==t||(a(),e.show())}),n.createElement(eV.U,{currentStep:t,isShowing:e.isShowing},n.createElement(ez.h,{modalType:eY.q3.ANNOUNCEMENT_POINTER,title:n.createElement(n.Fragment,null,(0,N.tx)("fullscreen.color_management.curator.default_to_p3.user_color_profile.title")),ctaText:(0,N.tx)("general.next"),onClickPrimaryCta:a,stepCounter:n.createElement("span",{className:e3},(0,N.tx)("fullscreen.color_management.curator.step_1of2")),element:tt,onboardingKey:e7,trackingContextName:e9,userFlagOnShow:e6,isShowing:e.isShowing,onClose:e.complete,onManualDismiss:()=>{e.complete(),h(!0)},width:300}),n.createElement(ez.h,{modalType:eY.q3.ANNOUNCEMENT_POINTER,title:n.createElement(n.Fragment,null,(0,N.tx)("fullscreen.color_management.curator.change_document_color_profile.title")),ctaText:(0,N.tx)("general.got_it"),onClickPrimaryCta:()=>{e.complete(),h(!0)},secondaryCtaText:n.createElement("div",{onClick:r},(0,N.tx)("general.previous")),preventDismissOnClickSecondaryCta:!0,stepCounter:n.createElement("span",{className:e3},(0,N.tx)("fullscreen.color_management.curator.step_2of2")),element:ta,onboardingKey:e8,userFlagOnShow:e6,trackingContextName:e9,isShowing:e.isShowing,onClose:e.complete,onManualDismiss:()=>{e.complete(),h(!0)},width:300}))}function tt(){return n.createElement("p",{className:e4},(0,N.tx)("fullscreen.color_management.curator.default_to_p3.user_color_profile.content",{colorProfileSetting:n.createElement("strong",null,(0,N.tx)("fullscreen.color_management.curator.color_profile_setting"))})," ",n.createElement("a",{href:eq.s,target:"_blank"},(0,N.tx)("rcs.rcs_shared.learn_more")))}function ta(){return n.createElement("p",{className:e4},(0,N.tx)("fullscreen.color_management.curator.change_document_color_profile.content",{fileColorProfile:n.createElement("strong",null,(0,N.tx)("fullscreen.color_management.curator.file_color_profile"))})," ",n.createElement("a",{href:eq.s,target:"_blank"},(0,N.tx)("rcs.rcs_shared.learn_more")))}function tn(){let[e]=(0,eX.jJ)(),t=e2(),a=e1(),[r,l]=(0,y.fp)(e5),i=(0,eH.jK)(),o=(0,eH.C$)();return n.useEffect(()=>{null==r&&i.colorProfilePreference===eG.M.DEFAULT&&(l(eG.M.SRGB),o(eG.M.SRGB,{canSeeP3:t,desktopSetting:e,p3Plugins:a}))},[t,r,e,a,l,o,i.colorProfilePreference]),null}function tr(){let e=function(){let e=(0,eH.jK)().colorProfilePreference!==eG.M.DEFAULT,t=function(){let[e]=(0,eX.jJ)(),t=e2(),a=e1();return t&&a&&["unmanaged","default",null].includes(e)?eG.M.DISPLAY_P3:eG.M.SRGB}(),[a]=(0,y.fp)(e5);return e&&null===a?0:t===eG.M.SRGB?1:t===eG.M.DISPLAY_P3?2:0}();if(!function(e){let t=(0,eB.aV)(),[a,r]=function(e){let[t,a]=n.useState(!1),[r,l]=n.useState(!1);return n.useEffect(()=>{let e;return r&&(e=setTimeout(()=>{a(!t),l(!1)},2e3)),()=>clearTimeout(e)},[r,t,2e3]),[t,n.useCallback(()=>l(!0),[])]}(2e3);return n.useEffect(()=>{t||r()},[t,r]),a}(0))return null;switch(e){case e$.DONT_SHOW:return null;case e$.DEFAULT_TO_SRGB:return n.createElement(tn,null);case e$.DEFAULT_TO_DISPLAY_P3:return n.createElement(te,null)}}var tl=a(816073),ti=a(965480),to=a(177505),ts=a(601607),tc=a(653734),td=a(91564);function tu(){let e=(0,u.e)({overlay:f.qnr,priority:m.N.DEFAULT_MODAL}),t=(0,s.wA)(),a=(0,s.Pj)(),r=(0,ts.Fk)((e,t)=>(0,to.zC)(e,t),a.getState().mirror.appModel.currentPage),l=(0,ti.JU)((0,ti.J3)()),i=!!ei.q5()?.template,o=(0,eB.aV)(),d=!!(0,ed.f)("seen_custom_template_publish_nudge"),p=ed.f("figjam_editor_onboarded")?.updatedAt?.getTime(),_=!!p&&p<Date.now()-12096e5,h=!o&&!d&&l&&!r&&!i&&_;return((0,n.useEffect)(()=>{h&&setTimeout(()=>{e.show(),t(c.b({seen_custom_template_publish_nudge:!0}))},1e3)},[t,e,h]),e.isShowing)?n.createElement(tc.i,{step:{modalType:eY.q3.DRAGGABLE,element:td.ZH,trackingContextName:"custom_template_publish_nudge",onboardingKey:eZ.v4,title:n.createElement("div",{className:S.cx.font13.fontMedium.pl8.pt16.pb16.$},(0,N.tx)("whiteboard.inserts.custom_templates_header")),width:300,disableFooter:!0,hideStepCounter:!0,disableHighlight:!0},onClickPrimaryCta:e.complete,onClose:e.complete,dismissModal:e.complete,dispatch:t}):null}var tm=a(776250),tp=a(517333),t_=a(737947),tf=a(320063),th=a(218881);let tg=(0,eT.r1)("seen_desktop_download_modal_prompt"),tE=(0,eT.r1)("seen_desktop_download_modal_prompt_v2"),ty=(0,ew.tH)("used_desktop_app");function tv(){let e=(0,y.md)(tg),t=(0,y.md)(tE),a=(0,y.md)(ew.mp),r=(0,y.md)(ty),{getConfig:i}=(0,th.I7)("exp_desktop_download_prompts_v2"),o=()=>i().get("should_show_desktop_modal_prompt_v2",!1),{isShowing:s,show:c,complete:d}=(0,u.e)({overlay:f.kmj,priority:m.N.DEFAULT_MODAL,experiment:{check:()=>o(),predicate:e=>e,postCheck:e=>!e}},[t,e,a]);if((0,tf.h)(()=>{tp.eD||r||c({canShow:(e,t,a)=>(function(e){let t=Date.now();return e.getTime()<=t-12096e5})(a)&&!t})}),!s)return null;let p=()=>{d()};return n.createElement(eI.X,{isShowing:s,title:(0,N.tx)("desktop_download_modal_prompt.download_the_figma_desktop_app"),description:(0,N.tx)("desktop_download_modal_prompt.level_up_your_workflow_with_tabs"),media:n.createElement(ek.y,{aspectRatio:1.75,alt:"A graphic showing the desktop app with tabs",src:"https://static.figma.com/uploads/cedfb41ea4da3cb80d5d062e5b648aa1d6a5cf1b"}),primaryCta:{label:(0,N.tx)("desktop_download_modal_prompt.get_the_desktop_app"),type:"button",onClick:()=>{(0,tm.sx)("desktop_modal_download_prompt_cta_clicked_v2"),p(),t_.Ay.redirect(`/download/desktop/${l.Ay.mac?"mac":"win"}`,"_blank")},ctaTrackingDescriptor:eb.c.DESKTOP_APP_DOWNLOAD},trackingContextName:"Desktop Download Modal Prompt",onClose:p,userFlagOnShow:"seen_desktop_download_modal_prompt_v2",position:eA.Q.BOTTOM_RIGHT,secondaryCta:{label:(0,N.tx)("desktop_download_modal_prompt.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/5601429983767-Guide-to-the-Figma-desktop-app",ctaTrackingDescriptor:eb.c.LEARN_MORE}})}var tb=a(58994),tC=a(957379),tw=a(902139),tT=a(683694),tS=a(813648),tN=a(860178),tx=a(231472),tk=a(776008),tI=a(83012),tA=a(161074);function tL(e){let{jobTitle:t,viewedSidebar:a,setViewedSidebar:r}=e,l=(0,s.wA)(),i=(0,tI.j)(t);return n.useMemo(()=>{a||(r(!0),l(tw.En({initialX:0,initialY:0,pinned:tx.t.PINNED_AND_DOCKED_LEFT,initialSelectedCategory:i})))},[l,i,a,r]),n.createElement(n.Fragment,null)}function tO(){let e=(0,tN.TA)(),t=(0,s.d4)(e=>e.openFile),a=(0,s.d4)(e=>e.mirror.appModel.currentPage),r=(0,ts.Fk)((e,t)=>(0,to.zC)(e,t),a),l=(0,s.d4)(e=>!(0,tA.zP)(e.mirror.appModel.currentTool)),i=(0,tA.Uj)(t,e||""),o=(0,eT.Fu)("interacted_figjam_whats_new_v2_cta"),c=(0,y.md)(o),d=(0,y.md)(ew.NT),p=(0,tk.E)(d,["education"]),_=(0,y.md)(tT.wg),[h,g]=n.useState(!1),E=(0,u.e)({overlay:f.hsL,priority:m.N.HIGH_PRIORITY_MODAL},[c,d]);(0,tf.h)(()=>{E.show({canShow:e=>(0,tA.SS)(e)&&_&&(0,tA.ZQ)(t)&&r&&!l&&i})});let v=(0,tS.LR)(),b=()=>{v(),E.complete()};return n.createElement(ez.h,{isShowing:E.isShowing,modalType:eY.q3.SELF_CONTAINED,trackingContextName:"FigJam Templates",element:()=>n.createElement(tL,{jobTitle:p,viewedSidebar:h,setViewedSidebar:g}),testId:"figjam_templates_whats_new_overlay",onClickPrimaryCta:E.complete,onClose:b,onManualDismiss:b})}var tR=a(892677),tM=a(129318),tD=a(737499),tP=a(586459),tF=a(946689),tB=a(632923),tU=a(135876),tH=a(838e3),tG=a(1851),tV=a(214673);let tz="figjam_try_confirm_save_steps--descriptionBold--ou7xj";function tK({dismissModal:e}){let t=(0,s.wA)(),a=(0,ei.tS)(),r=(0,s.d4)(e=>e.user?.email_validated_at),l=(0,s.d4)(e=>a?e.loadingState[tH.Q.loadingKeyForPayload({file_key:a})]:null),i=(0,s.d4)(e=>a?e.loadingState[tG.D.loadingKeyForPayload({fileKey:a})]:null),o=(0,tR.s)(),c=(0,tD.Kx)(),d=l===tP.r.LOADING||"loading"===o.status||i===tP.r.LOADING,u=l===tP.r.SUCCESS||i===tP.r.SUCCESS;(0,n.useEffect)(()=>{u&&(e(),c?.updateFigJamTrySaveStatus&&c.updateFigJamTrySaveStatus(tV.Fl.SAVED))},[u,e,c]);let m=(0,tD.pt)();if((0,n.useEffect)(()=>{m&&(m._claim_fig_jam_try_file=e=>{t(tH.Q({file_key:e}))})},[m,t]),(0,n.useEffect)(()=>{c?.updateFigJamTrySaveStatus&&a&&r&&c.updateFigJamTrySaveStatus(tV.Fl.REQUESTED)},[c,a,r]),!a||!r)return null;let p=(0,eo.A)(r).isAfter((0,eo.A)().subtract(5,"minutes"));return n.createElement("div",{className:"figjam_try_confirm_save_steps--modalContent--DezcS"},n.createElement("div",{className:"figjam_try_confirm_save_steps--textContent--9da6-"},n.createElement("h1",{className:"figjam_try_confirm_save_steps--headline--RRPzl text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,N.tx)("figjam_try.save_modal.headline")),n.createElement(tB.k0,{multiple:1}),n.createElement("p",{className:"figjam_try_confirm_save_steps--description--bpGw9 text--fontPos13--xW8hS text--_fontBase--QdLsd"},p?(0,N.tx)("figjam_try.save_modal.new_team"):(0,N.tx)("figjam_try.save_modal.save_one_team",{share:n.createElement("p",{className:tz},(0,N.tx)("figjam_try.save_modal.share")),file_duplicate:n.createElement("p",{className:tz},(0,N.tx)("figjam_try.save_modal.file_duplicates"))})),n.createElement(tB.k0,{multiple:3}),n.createElement(tF.nD,{onClick:()=>{"loaded"===o.status&&(0,et.oA)(o.data?.deviceTryFile)?t(tG.D({fileKey:a})):t(tH.Q({file_key:a}))},disabled:d,fullWidth:!0,trackingProperties:{buttonContext:"Let\u2019s jam"}},n.createElement(tU.x,{isLoading:d},()=>(0,N.tx)("figjam_try.save_modal.cta")))))}function tW(){let e=(0,u.e)({overlay:f.JGK,priority:m.N.HIGH_PRIORITY_MODAL}),t=(0,y.md)(ei.yV),a=t?.isTryFile,r=(0,tD.Kx)(),l=(0,tR.s)(),[i,o]=n.useState(!1);return(0,n.useEffect)(()=>{e.isShowing&&!a&&(e.complete(),r?.updateFigJamTrySaveStatus&&r.updateFigJamTrySaveStatus(tV.Fl.SAVED))},[a,e,r]),(0,n.useEffect)(()=>{let t=(0,tM.QL)(eZ.ao.key)===eZ.ao.value,n="loaded"===l.status&&!!(0,et.oA)(l.data?.deviceTryFile);t&&n&&!i?(e.show(),o(!0)):t&&a&&!n?(e.show(),r?.updateFigJamTrySaveStatus&&r.updateFigJamTrySaveStatus(tV.Fl.REQUESTED)):t&&!a&&r?.updateFigJamTrySaveStatus&&r.updateFigJamTrySaveStatus(tV.Fl.SAVED)},[e,a,l,i,r]),n.createElement(ez.h,{isShowing:e.isShowing,trackingContextName:"Figjam Try Confirm Save Modal",modalType:eY.q3.WELCOME,element:({dismissModal:e})=>n.createElement(tK,{dismissModal:e}),onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete})}eY.q3.WELCOME,({dismissModal:e})=>n.createElement(tK,{dismissModal:e});var tj=a(502665),tZ=a(488578);let tY="figjam_try_confirm_save--textContainer--9YaF4";function tX(){let[e,t]=n.useState(!1),{show:a,isShowing:r,complete:l}=(0,u.e)({overlay:f.XAb,priority:m.N.HIGH_PRIORITY_MODAL}),i=(0,y.md)(ei.yV),o=i?.isTryFile,s=(0,tR.s)(),c=(0,tM.QL)(eZ.ao.key)===eZ.ao.value,d=(0,y.md)(tj.N);return(0,n.useEffect)(()=>{!e&&c&&!o&&"loaded"===s.status&&et.oA(s.data?.deviceTryFile)?.claimedAt&&et.oA(s.data?.deviceTryFile)?.claimedByUserId!==d.data&&a()},[e,o,c,s,a,d]),n.createElement(_.M,{isShowing:r},n.createElement(tq,{onClose:()=>{l(),t(!0)}}))}function tq(e){return n.createElement(d.fu,{name:"figjam_try_device_already_claimed_overlay"},n.createElement(tZ.aF,{onHide:e.onClose,disableKeyboardEventPropagation:!0,className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedModal--T7bRi"},n.createElement("div",{className:tY},n.createElement("h1",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedHeader--vNLRA text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,N.tx)("figjam_try.already_claimed_modal.header"))),n.createElement(tB.k0,{multiple:1}),n.createElement("div",{className:tY},n.createElement("div",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedDescription--WXdx- text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,N.tx)("figjam_try.already_claimed_modal.description",{file_duplicate:n.createElement("p",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedDescriptionBold--CZgl4"},(0,N.tx)("figjam_try.already_claimed_modal.file_duplicate"))}))),n.createElement(tB.k0,{multiple:3}),n.createElement(tF.nD,{type:"close",fullWidth:!0,onClick:e.onClose},(0,N.tx)("figjam_try.already_claimed_modal.continue"))))}var tJ=a(339690),tQ=a(616705),t$=a(833629),t0=a(832913);let t1=(0,eT.r1)(tQ.USER_FLAG_V2),t2=(0,ew.tH)("last_figjam_at"),t5=(0,eT.r1)("dont_show_figjam_updates_in_figma_design");function t3(){let e=(0,y.md)(t5),t=(0,y.md)(tT.wg),a=(0,y.md)(ew.mp),r=(0,y.md)(t2),l=(0,y.md)(t1),i=(0,y.md)(ew.NT),o=(0,y.md)(ew.Ot),s=(0,t$.jO)(),c=(0,u.e)({overlay:f.Ttn,priority:m.N.DEFAULT_MODAL},[e,a,l,o,i]);return(0,tf.h)(()=>{c.show({canShow:(e,a,n,l)=>{if(e||l)return!1;let i=(0,tk.f)({userCreatedAt:a,lastUsedFigjamDate:r,hasSeenOverlayV2:n});return(!t||s)&&i}})}),n.createElement(t0.A,{context:"editor",jobTitle:(0,tk.E)(i,["education"]),isShowing:c.isShowing,onClickPrimaryCta:c.complete,onClose:c.complete,onManualDismiss:c.complete})}var t4=a(629019),t6=a.n(t4),t7=a(860601),t8=a(6949),t9=a(356390),ae=a(99506),at=a(239671),aa=a(407844),an=a(164795);function ar(){return n.createElement("svg",{width:"23",height:"24",viewBox:"0 0 23 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:S.cx.colorIconBrand.$},n.createElement("g",{id:"Editor / Core / icon-32-visible"},n.createElement("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M11.5002 15C9.20033 15 7.17803 13.8058 6.02182 12C7.17803 10.1942 9.20033 9 11.5002 9C13.8 9 15.8223 10.1942 16.9785 12C15.8223 13.8058 13.8 15 11.5002 15ZM11.5002 8C14.3782 8 16.8776 9.6211 18.1351 12C16.8776 14.3789 14.3782 16 11.5002 16C8.62214 16 6.12273 14.3789 4.86523 12C6.12273 9.6211 8.62214 8 11.5002 8ZM11.5 14C12.6046 14 13.5 13.1046 13.5 12C13.5 10.8954 12.6046 10 11.5 10C10.3954 10 9.5 10.8954 9.5 12C9.5 13.1046 10.3954 14 11.5 14Z"})))}function al({onClose:e}){let t=(0,s.wA)(),a=!!(0,ed.f)("dismissed_gen1_design_viewer_banner"),r=(0,ei.q5)(),l=!!r?.parentOrgId,i=(0,t8.a9)(),o=!1;if(l&&i?.design_paid_status===ae.El.RESTRICTED?o=!0:r?.currentTeamUser?.designPaidStatus===ae.Zf.RESTRICTED&&(o=!0),a)return null;let u=n.createElement(C.Jn,{onClick:()=>{t(c.b({dismissed_gen1_design_viewer_banner:!0})),e()},"aria-label":(0,N.t)("banner.shared.close_banner"),className:"gen1_design_viewer_banner--closeButton--AKZWc"});return n.createElement(d.fu,{name:"Design Viewer Onboarding Banner",properties:{isViewerRestricted:o}},n.createElement(aa.C,{content:{id:an.om.Gen1DesignViewerBanner,bannerType:an.x1.INFO,mainText:n.createElement(ai,{isViewerRestricted:o}),button:{type:an.MA.CUSTOM,element:u},hideIcon:!0},editorType:at.nT.Design,onDismiss:t7.lQ}))}function ai({isViewerRestricted:e}){let t=n.createElement("div",{className:"gen1_design_viewer_banner--keyboardShortcutContainer--Xk1DL",onClick:()=>{t9.Y5.triggerAction("set-tool-comments")},role:"button",tabIndex:0},n.createElement("span",{className:"gen1_design_viewer_banner--keyboardShortcut--83jB0"},"C"));return n.createElement("div",{className:S.cx.colorTextBrand.fontMedium.flex.flexRow.columnGap8.$},n.createElement("div",{className:S.cx.flex.flexRow.itemsCenter.pl4.pr4.fontSemiBold.colorBgSelectedHover.bRadius4.ml8.noWrap.overflowHidden.$},n.createElement(ar,null),(0,N.tx)("file_browser.folder_settings.team_access_view_only")),n.createElement("span",{className:t6()(S.cx.flex.flexRow.itemsCenter.$,"gen1_design_viewer_banner--mainText--M1KK2")},e?(0,N.tx)("gen1_design_viewer_onboarding.feel_free_to_look_around_and_press_c_to_leave_comments_to_make_changes_request_a_full_design_seat_from_your_admin",{keyboardShortcut:t}):(0,N.tx)("gen1_design_viewer_onboarding.feel_free_to_look_around_and_press_c_to_leave_comments_to_make_changes_ask_to_edit_the_file",{keyboardShortcut:t})))}function ao({onClose:e,onClickPrimaryCta:t}){let a=n.createElement("div",{className:"gen1_design_viewer_walkthrough--viewOnlyBadge--e8riE"},n.createElement(ar,null),(0,N.tx)("gen1_design_viewer_onboarding.view_only"));return n.createElement(n.Fragment,null,n.createElement("div",{className:S.cx.fixed.top0.right0.bottom0.left0.zIndexSecondaryModal.eventsNone.$,style:{backgroundColor:"rgba(0, 0, 0, 0.27)"}}),n.createElement(eI.X,{title:(0,N.tx)("gen1_design_viewer_onboarding.take_a_quick_tour"),description:n.createElement("div",{className:"gen1_design_viewer_walkthrough--beginTourDescription--CGAEy"},n.createElement("span",null,"\u{1F44B} "),(0,N.tx)("gen1_design_viewer_onboarding.hey_there_welcome_to_your_first_figma_file_learn_how_to_explore_and_add_comments_in_this_file",{viewOnly:a})),onClose:e,trackingContextName:"Design Viewer Onboarding \u2014 Take Tour Step",position:eA.Q.BOTTOM_RIGHT,isShowing:!0,primaryCta:{label:(0,N.tx)("rcs.take_tour.let_s_go"),type:"button",onClick:t,ctaTrackingDescriptor:eb.c.LETS_GO},secondaryCta:{label:(0,N.tx)("rcs.take_tour.no_thanks"),type:"button",onClick:e,ctaTrackingDescriptor:eb.c.NO_THANKS}}))}var as=a(617453),ac=a(126911),ad=a(100197),au=(e=>(e[e.TRACKPAD_PAN=0]="TRACKPAD_PAN",e[e.TRACKPAD_ZOOM=1]="TRACKPAD_ZOOM",e[e.MOUSE_PAN_RIGHT_CLICK_DRAG=2]="MOUSE_PAN_RIGHT_CLICK_DRAG",e[e.MOUSE_PAN_SPACE_LEFT_CLICK_DRAG=3]="MOUSE_PAN_SPACE_LEFT_CLICK_DRAG",e[e.MOUSE_ZOOM_SCROLL_WHEEL=4]="MOUSE_ZOOM_SCROLL_WHEEL",e[e.MOUSE_ZOOM_CMD_SCROLL_WHEEL=5]="MOUSE_ZOOM_CMD_SCROLL_WHEEL",e))(au||{});function am({step:e}){let t=(0,ad.J2)((0,as.UK)().rightClickPan),a=(0,ad.J2)((0,as.UK)().scrollWheelZoom);return n.createElement("div",{className:S.cx.flex.flexRow.columnGap16.$},n.createElement(ap,{type:"pan"===e?0:1}),n.createElement(ap,{type:"pan"===e?t?2:3:a?4:5}))}function ap({type:e}){let t,a,r;switch(e){case 0:a="https://static.figma.com/uploads/863006f3b3055a16cb6674b2b38e180bbf2a3c3f",r=(0,N.tx)("gen1_design_viewer_onboarding.slide_with_two_fingers_to_move_on_a_trackpad");break;case 1:a="https://static.figma.com/uploads/69708e22f9ed801bf3d746142a3a90d8befb5d60",r=(0,N.tx)("gen1_design_viewer_onboarding.pinch_to_zoom_on_a_trackpad");break;case 3:t=n.createElement(af,null),r=(0,N.tx)("gen1_design_viewer_onboarding.hold_keyboard_shortcut_click_and_drag_with_your_mouse",{keyboardShortcut:n.createElement("span",{className:S.cx.colorTextBrand.colorBgBrandTertiary.pl4.pr4.pt2.pb2.fontMedium.bRadius2.$},(0,N.tx)("whiteboard.keyboard_shortcuts.key_label.space"))});break;case 2:t=n.createElement(a_,null),r=(0,N.tx)("gen1_design_viewer_onboarding.right_click_and_drag_to_pan_with_your_mouse");break;case 5:a="https://static.figma.com/uploads/b99f52810b351c4f827711787d5c46a01e829835",r=(0,N.tx)("gen1_design_viewer_onboarding.hold_and_scroll_your_mouse",{keyboardShortcut:n.createElement("span",{className:S.cx.colorTextBrand.colorBgBrandTertiary.pl4.pr4.pt2.pb2.fontMedium.bRadius2.$},(0,N.tx)(ac.y.isMac()?"tooltips_plus_onboarding.command_key":"tooltips_plus_onboarding.control_key"))});break;case 4:a="https://static.figma.com/uploads/b99f52810b351c4f827711787d5c46a01e829835",r=(0,N.tx)("gen1_design_viewer_onboarding.use_the_scroll_wheel_to_zoom_with_a_mouse")}return n.createElement("div",{className:"navigation_instructions--instructionPanel--LSUWY"},n.createElement("div",{className:"navigation_instructions--instructionAsset--92t2D"},t||n.createElement("video",{src:a,autoPlay:!0,loop:!0,muted:!0,style:{width:"100%"}})),n.createElement("div",null,r))}function a_(){return n.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"Rectangle 1"},n.createElement("rect",{width:"33.6014",height:"48",rx:"16.8007",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 41.9996 4.46875)",fill:"white"}),n.createElement("rect",{x:"-0.707083",y:"1.22474",width:"31.6014",height:"46",rx:"15.8007",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 40.2925 4.6935)",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"})),n.createElement("path",{id:"Vector 582",d:"M31.8131 31.5482L46.793 27.5343L45.9447 19.3759L40.1031 12.5554L31.9836 9.14054L26.2221 10.6843L31.8131 31.5482Z",fill:"#0D99FF"}),n.createElement("rect",{id:"Rectangle 3",x:"-0.707083",y:"1.22474",width:"31.6014",height:"46",rx:"15.8007",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 40.2925 4.6935)",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}),n.createElement("g",{id:"Rectangle 2"},n.createElement("rect",{width:"9.60041",height:"16.8",rx:"4.8002",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 32.8944 16.8467)",fill:"white"}),n.createElement("rect",{x:"-0.707083",y:"1.22474",width:"7.60041",height:"14.8",rx:"3.8002",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 31.1873 17.0714)",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"})))}function af(){return n.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"33.6014",height:"48",rx:"16.8007",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 42.5767 4.30371)",fill:"white"}),n.createElement("rect",{x:"-0.707083",y:"1.22474",width:"31.6014",height:"46",rx:"15.8007",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 40.8696 4.52846)",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}),n.createElement("path",{d:"M32.3639 31.0389L17.384 35.0528L14.0394 27.5632L15.6882 18.7357L21.0125 11.7186L26.774 10.1748L32.3639 31.0389Z",fill:"#0D99FF"}),n.createElement("rect",{width:"9.60041",height:"16.8",rx:"4.8002",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 33.4716 16.6816)",fill:"white"}),n.createElement("rect",{x:"-0.707083",y:"1.22474",width:"7.60041",height:"14.8",rx:"3.8002",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 31.7645 16.9064)",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}),n.createElement("rect",{x:"-0.707083",y:"1.22474",width:"31.6014",height:"46",rx:"15.8007",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 40.8696 4.52846)",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}))}let ah=[function({onClickPrimaryCta:e,onClose:t,currStepNum:a,totalNumSteps:r}){let l=eI.X;return n.createElement(l,{title:(0,N.tx)("gen1_design_viewer_onboarding.getting_around"),description:n.createElement(n.Fragment,null,n.createElement(tF.Kz,{multiple:1}),n.createElement(am,{step:"pan"})),onClose:t,trackingContextName:"Design Viewer Onboarding \u2014 Pan Instructions Step",primaryCta:{label:(0,N.tx)("general.next"),type:"button",onClick:e,ctaTrackingDescriptor:eb.c.NEXT},stepCounter:{stepNum:a,totalNumSteps:r},width:360,position:eA.Q.BOTTOM_RIGHT,isShowing:!0})},function({onClickPrimaryCta:e,onClickSecondaryCta:t,onClose:a,currStepNum:r,totalNumSteps:l}){let i=eI.X;return n.createElement(i,{title:(0,N.tx)("gen1_design_viewer_onboarding.look_closer_or_step_back"),description:n.createElement(n.Fragment,null,n.createElement(tF.Kz,{multiple:1}),n.createElement(am,{step:"zoom"})),onClose:a,trackingContextName:"Design Viewer Onboarding \u2014 Zoom Instructions Step",primaryCta:{label:(0,N.tx)("general.next"),type:"button",onClick:e,ctaTrackingDescriptor:eb.c.NEXT},secondaryCta:{label:(0,N.tx)("general.back"),type:"button",onClick:t,ctaTrackingDescriptor:eb.c.BACK},stepCounter:{stepNum:r,totalNumSteps:l},width:360,position:eA.Q.BOTTOM_RIGHT,isShowing:!0})},function({onClickPrimaryCta:e,onClickSecondaryCta:t,onClose:a,currStepNum:r,totalNumSteps:l}){let i=(0,eB.dH)();(0,tf.h)(()=>{i!==h.NLJ.COMMENTS&&t9.Y5.triggerAction("set-tool-comments")});let o=n.createElement("div",{className:S.cx.lh20.pt4.$},(0,N.tx)("gen1_design_onboarding.leave_a_comment_anywhere_in_the_canvas_to_give_feedback_ask_questions_or_mention_someone"));return n.createElement(eM.rq,{targetKey:"comment",title:(0,N.tx)("gen1_design_viewer_onboarding.share_your_thoughts"),description:o,onClose:a,trackingContextName:"Design Viewer Onboarding \u2014 Comments Step",primaryCta:{label:(0,N.tx)("general.next"),type:"button",onClick:e,ctaTrackingDescriptor:eb.c.NEXT},secondaryCta:{label:(0,N.tx)("general.back"),type:"button",onClick:t,ctaTrackingDescriptor:eb.c.BACK},stepCounter:{stepNum:r,totalNumSteps:l},isShowing:!0,disableHighlight:!0})},function({onClickPrimaryCta:e,onClickSecondaryCta:t,onClose:a,currStepNum:r,totalNumSteps:l}){let i=(0,eB.dH)();(0,tf.h)(()=>{i!==h.NLJ.NONE&&t9.Y5.triggerAction("set-tool-default")});let o=(0,s.d4)(e=>e.multiplayer.allUsers.length),c=n.createElement("div",{className:S.cx.lh20.pt4.$},(0,N.tx)("gen1_design_viewer_onboarding.yep_other_people_can_be_in_the_same_file_and_they_ll_appear_up_here_click_on_their_profile_picture_to_follow_and_see_where_they_are_in_real_time"));return n.createElement(eM.rq,{targetKey:o>1?"multiplayer-avatars":"multiplayer-users-container",title:(0,N.tx)("gen1_design_viewer_onboarding.follow_your_teammates"),description:c,onClose:a,trackingContextName:"Design Viewer Onboarding \u2014 Spotlight Step",primaryCta:{label:(0,N.tx)("general.done"),type:"button",onClick:e,ctaTrackingDescriptor:eb.c.DONE},secondaryCta:{label:(0,N.tx)("general.back"),type:"button",onClick:t,ctaTrackingDescriptor:eb.c.BACK},stepCounter:{stepNum:r,totalNumSteps:l},isShowing:!0,disableHighlight:!0,zIndex:eA.R.TERTIARY_MODAL})}];function ag({onCloseOrComplete:e}){let[t,a]=n.useState(!1),r=(0,eU.A)({numSteps:ah.length,onComplete:e}),l=n.useMemo(()=>ah.map((t,a)=>n.createElement(t,{onClickPrimaryCta:r.next,onClickSecondaryCta:r.back,onClose:e,currStepNum:a+1,totalNumSteps:ah.length})),[e,r.back,r.next]),i=(0,s.wA)();return((0,tf.h)(()=>{i(c.b({seen_gen1_design_viewer_onboarding:!0}))}),t)?n.createElement(eV.U,{currentStep:r.currentStep,children:l,isShowing:!0}):n.createElement(ao,{onClose:e,onClickPrimaryCta:()=>a(!0)})}function aE(){let{getConfig:e}=(0,th.I7)("exp_gen1_viewer_onboarding"),t=(0,y.md)(tT.wg),a=(0,y.md)(eu),l=!!(0,ed.f)("dismissed_gen1_design_viewer_banner"),i=!!(0,ed.f)("seen_gen1_design_viewer_onboarding"),[o,d]=n.useState(()=>!!i),p=!!(0,ed.f)("dismissed_gen1_design_viewer_onboarding"),_=i&&!l,h=(0,r.kc)().exp_gen1_viewer_onboarding_ff,{show:g,isShowing:E,complete:v}=(0,u.e)({overlay:f.Xh8,priority:m.N.OVERRIDING_MODAL,experiment:{check:()=>!!_||e().get("should_see_gen1_viewer_onboarding",!1),predicate:e=>e,postCheck:()=>!l||!i}}),b=(0,s.wA)();return(n.useEffect(()=>{h&&!E&&(a||_)&&!t&&g()},[t,h,a,E,_,g]),E)?n.createElement(n.Fragment,null,n.createElement(al,{onClose:()=>{(p||o)&&v()}}),a&&!o&&!p&&n.createElement(ag,{onCloseOrComplete:()=>{b(c.b({dismissed_gen1_design_viewer_onboarding:!0})),l&&v()}})):null}var ay=a(634732),av=a(293017),ab=a(493364);function aC(){let e=(0,s.wA)(),t=(0,s.d4)(e=>e.currentTeamId),a=(0,s.Pj)(),r=(0,y.md)(ew.t),l=(0,y.md)(tT.NZ),i=(0,t$.jO)(),o=(0,y.md)(tT.wg),{getConfig:c}=(0,th.I7)("exp_library_upsells_v2"),{isShowing:d,show:p,complete:_,uniqueId:g}=(0,u.e)({overlay:f.BrS,priority:m.N.DEFAULT_MODAL,experiment:{check:()=>c().get("show_library_upsell",!1),predicate:e=>e,postCheck:e=>!0}},[r]);(0,n.useEffect)(()=>{if(!d)return;let t=a.getState().leftPanel.activeTab;return e(av.FP({tab:h.xae.ASSETS})),()=>{e(av.FP({tab:t}))}},[e,a,d]);let E=(0,n.useCallback)(e=>{e.properties?.action==="copy_paste_from_different_file"&&o&&p({canShow:e=>e&&l&&i})},[o,p,l,i]),v=(0,n.useCallback)(()=>{d&&_()},[d,_]);return(0,eC.E)(g,"component_instance_inserted",E),n.createElement(eM.rq,{isShowing:d,targetKey:m.D,title:(0,N.tx)("rcs.upsell_libraries.reuse_components_across_all_files"),description:(0,N.tx)("rcs.upsell_libraries.quickly_access_components"),primaryCta:{label:(0,N.tx)("rcs.upsell_libraries.see_plans"),type:"button",onClick:()=>{e(ey.to({type:eE.V,data:{teamId:t??void 0,upsellSource:eS.b.UPSELL_LIBRARIES_REUSE_COMPONENTS_OVERLAY,openCheckoutInNewTab:!0}})),v()},ctaTrackingDescriptor:eb.c.GOT_IT},secondaryCta:{label:(0,N.tx)("rcs.upsell_libraries.not_now"),type:"button",onClick:v,ctaTrackingDescriptor:eb.c.GOT_IT},onClose:v,trackingContextName:"Upsell Libraries Reuse Components Overlay",arrowPosition:ab.F_.LEFT_TITLE,emphasized:!0,onTargetLost:v})}var aw=a(638889),aT=a(278733),aS=a(132572);let aN="seen_link_shortcut_overlay",ax=(0,eT.r1)(aN);function ak(){let e=(0,s.wA)(),t=(0,v.md)(ax),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.v75,priority:m.N.DEFAULT_MODAL},[t]),o=ac.y.isApple(),d=n.useMemo(()=>n.createElement(aw.S,{shortcut:o?"\u2318K":"Ctrl+K"}),[o]),p=n.useMemo(()=>n.createElement(aw.S,{shortcut:o?"\u21E7\u2318U":"Shift+Ctrl+U"}),[o]);return(0,eC.E)(i,["show_link_shortcuts_overlay"],()=>{a({canShow:t=>(e(c.b({seen_link_shortcut_overlay:!0})),!!(0,aS.AL)()&&!t)})}),n.createElement(eI.X,{width:350,isShowing:r,title:(0,N.tx)("fullscreen.link_shortcuts_onboarding.title"),description:n.createElement("div",null,(0,N.tx)("fullscreen.link_shortcuts_onboarding.description"),n.createElement("ul",{className:S.cx.py8.$,style:aT.sx.add({listStyle:"disc inside"}).$},n.createElement("li",null,(0,N.tx)("fullscreen.link_shortcuts_onboarding.show_actions_updated",{actionsKeyCommand:n.createElement("strong",null,d)})),n.createElement("li",null,(0,N.tx)("fullscreen.link_shortcuts_onboarding.show_links_updated",{link:n.createElement("strong",null,(0,N.tx)("fullscreen.link_shortcuts_onboarding.create_link")),linkKeyCommand:p})))),primaryCta:{label:(0,N.tx)("fullscreen.link_shortcuts_onboarding.got_it"),type:"button",onClick:l,ctaTrackingDescriptor:eb.c.GOT_IT},trackingContextName:"Link Shortcuts Preference Onboarding Modal",userFlagOnShow:aN,position:eA.Q.BOTTOM_RIGHT,onClose:l,testId:"linkShortcutOverlay"})}var aI=a(127122),aA=a(689404),aL=a(630834);let aO="dismissed_local_component_asset_panel_pointer",aR=(0,eT.r1)(aO);function aM(){let e=(0,s.wA)(),t=(0,tN.TA)(),a=(0,y.md)(tT.wg),r=(0,y.md)(aR),l=(0,y.md)(tT.NZ),i=(0,y.md)(tT.pQ),o=(0,y.md)(ew.t),d=(0,t$.jO)(),p=(0,s.d4)(e=>e.openFile?.teamId==null),_=(0,I.GS)(),{isShowing:h,show:g,complete:E,uniqueId:v}=(0,u.e)({overlay:f.Smd,priority:m.N.SECONDARY_MODAL,experiment:{check:()=>(0,aI.Hz)(t??void 0),predicate:e=>e,postCheck:e=>!e}},[r,o,i]),b=(0,n.useCallback)(()=>{a&&g({canShow:(e,t,a)=>d&&t&&(a||l)})},[d,a,l,g]),w=(0,n.useCallback)(()=>{h&&(E(),e(c.b({[aO]:!0})))},[e,E,h]);return(0,eC.E)(v,"action_create_symbol",b),(0,eC.E)(v,"component_instance_inserted",w),n.createElement(eM.rq,{isShowing:h,targetKey:eZ.Qr,description:n.createElement(n.Fragment,null,n.createElement("div",{className:S.cx.if(_,S.cx.pt6.mr36).$},p?(0,N.tx)("design_systems.assets_panel.drag_drop_component_draft"):(0,N.tx)("design_systems.assets_panel.drag_drop_component")),_&&n.createElement(C.Jn,{onClick:w,innerText:(0,N.t)("general.close"),"aria-label":(0,N.t)("general.close"),className:t6()(aA.Rf,S.cx.absolute.top0.right0.mr8.mt10.$),svg:aL.default})),primaryCta:{label:(0,N.tx)("design_systems.assets_panel.got_it"),type:"button",onClick:w,ctaTrackingDescriptor:eb.c.GOT_IT},onClose:w,trackingContextName:"Local Component Asset Panel Pointer",arrowPosition:ab.F_.LEFT_TITLE,emphasized:!0,hideCloseButton:_})}var aD=a(27087),aP=a(206121);let aF=(0,eT.r1)("seen_mobile_comment_download_modal_prompt");function aB(){let e=(0,s.wA)(),t=(0,y.md)(aF),a=(0,s.d4)(e=>e.userAnalyticsData?.is_active_mobile_user),l=(0,s.d4)(e=>e.user?.created_at),i=(0,eo.A)(l).add(14,"day").isSameOrAfter((0,eo.A)()),{isShowing:o,show:c,complete:d,uniqueId:p}=(0,u.e)({overlay:f.H2x,priority:m.N.DEFAULT_MODAL},[t]);if((0,eC.E)(p,aP.w,(0,n.useCallback)(()=>{c({canShow:e=>!!(0,r.kc)().mobile_download_modal_prompts&&!e&&!i&&!a})},[c,a,i])),!o)return null;let _=()=>{aD.Ay.post("/api/send_mobile_download_email",{type:"comment"}),(0,tm.sx)("post_comment_mobile_app_download_prompt_email_me_cta_clicked"),d(),e(em.F.enqueue({message:(0,N.t)("rcs.mobile_comment_reply_upsell.email_sent")}))};return n.createElement(eI.X,{isShowing:o,title:(0,N.tx)("mobile_download_prompts.never_miss_a_comment"),description:(0,N.tx)("mobile_download_prompts.scan_the_qr_code"),media:n.createElement(ek.y,{aspectRatio:1.75,alt:"A graphic show mobile comments with a qr code",src:"https://static.figma.com/uploads/6c270bb31fb5af03393425b7f0a6462ec59d04ab"}),primaryCta:{label:(0,N.tx)("mobile_download_prompts.email_me"),type:"button",onClick:()=>_(),ctaTrackingDescriptor:eb.c.MOBILE_APP_DOWNLOAD_COMMENT_PROMPT_CLICKED},trackingContextName:"Mobile Comment Download Modal Prompt",onClose:()=>{d()},userFlagOnShow:"seen_mobile_comment_download_modal_prompt",position:eA.Q.BOTTOM_RIGHT,secondaryCta:{label:(0,N.tx)("mobile_download_prompts.learn_more"),type:"link",href:"https://help.figma.com/hc/en-us/articles/1500007537281-Guide-to-the-Figma-mobile-app",ctaTrackingDescriptor:eb.c.LEARN_MORE}})}var aU=a(844647),aH=a(288527),aG=a(723200),aV=a(754407),az=a(720750),aK=a(186460),aW=a(47506);function aj(e){return n.createElement("div",{className:"connector_modal_wrapper--connectorModalWrapper--uCUjA"},e.children)}var aZ=a(63666),aY=a(50772),aX=a(698380);let aq="onboard_figjam_viewer--contentContainer--t9zim",aJ="onboard_figjam_viewer--imageContainer--rvqD8",aQ="onboard_figjam_viewer--image--ZdwAA",a$="onboard_figjam_viewer--mainContent--8TgvP text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",a0="onboard_figjam_viewer--normal--HjE2J",a1="onboard_figjam_viewer--bold--kC3mV";class a2 extends n.PureComponent{render(){return n.createElement("div",{className:aq},n.createElement("div",{style:aT.sx.add({width:`${this.props.imgContainerWidth}px`}).$,className:aJ},n.createElement("span",{className:"onboard_figjam_viewer--imgHelper--SJXYZ","aria-hidden":"true"}),n.createElement("img",{className:aQ,src:this.props.imgSrc,alt:""})),n.createElement("div",{className:t6()({[a$]:!0,[a0]:!this.props.isBold,[a1]:!!this.props.isBold})},this.props.titleText&&n.createElement("div",{className:"onboard_figjam_viewer--title--k1Gpk"},this.props.titleText),n.createElement("div",{className:"onboard_figjam_viewer--text--xkcTB"},this.props.bodyText),n.createElement("div",{className:"onboard_figjam_viewer--bottomContentRow--PgTeU"},n.createElement("div",{className:t6()({"onboard_figjam_viewer--secondaryText--THVcI":!0,[a0]:!this.props.isBold,[a1]:!!this.props.isBold})},this.props.steps?(0,N.tx)("rcs.rcs_shared.step_counter",{currentStepNum:this.props.steps.current,totalNumSteps:this.props.steps.total}):n.createElement(n.Fragment,null)),n.createElement(tF.vd,{className:t6()({"onboard_figjam_viewer--ctaButton--aFKKt text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0,[a1]:!!this.props.isBold}),onClick:this.props.onNext,autoFocus:!0},this.props.buttonText,!this.props.buttonText&&this.props.steps&&this.props.steps.current===this.props.steps.total&&(0,N.tx)("rcs.rcs_shared.done"),!this.props.buttonText&&this.props.steps&&this.props.steps.current<this.props.steps.total&&(0,N.tx)("rcs.figjam_onboarding.next")))),n.createElement(C.Jn,{className:t6()({"onboard_figjam_viewer--closeButton--hm43f close_button--closeX--Bc-63":!0,[a0]:!this.props.isBold,[a1]:!!this.props.isBold}),onClick:this.props.onDismiss,innerText:"close",svg:aL.default}))}}a2.displayName="FigJamOnboardingModal";var a5=a(259494);function a3(e){let t=(0,aX.O)();(0,n.useEffect)(()=>(t9.Y5.triggerAction("set-tool-hand",null),()=>t9.Y5.triggerAction("set-tool-default",null)),[]),(0,n.useEffect)(()=>(t({eventName:"hand_tooltip_shown"}),()=>t({eventName:"pan_zoom_completed"})),[t]);let a=(0,aI.Un)();return n.createElement(aj,null,n.createElement(aZ.Dv,{targetType:"dom",targetKey:a5.N,topPadding:-6,hasShadow:e.hasShadow},n.createElement(a2,{bodyText:n.createElement("span",null,(0,N.tx)("rcs.figjam_onboarding.use_the_hand_tool_and_drag_to_move_around_hold_space_to_activate_it_anytime",{spaceKey:n.createElement("b",null,(0,N.tx)("rcs.figjam_onboarding.space"))})),onNext:e.onClickPrimaryCta,steps:{current:2,total:a?2:3},onDismiss:()=>{e.dismissModal(),t({eventName:"hand_tooltip_dismissed"})},imgSrc:"https://static.figma.com/uploads/07ff49c75c8933ea70ff2e4776503291c31a35ef"})))}var a4=a(911738);function a6(e){let t=l.Ay.mac?(0,N.t)("rcs.figjam_onboarding.cmd"):(0,N.t)("rcs.figjam_onboarding.ctrl"),a=(0,a4.O)()?-10:-3,r=(0,aI.Un)(),i=(0,aX.O)();return(0,n.useEffect)(()=>{i({eventName:"zoom_tooltip_shown"})},[i]),n.createElement(aj,null,n.createElement(aZ.Dv,{targetType:"dom",topPadding:a,targetKey:a5.q,hasShadow:e.hasShadow},n.createElement(a2,{bodyText:n.createElement("span",null,(0,N.tx)("rcs.figjam_onboarding.pinch_to_zoom_on_a_trackpad_hold_command_while_scrolling_or_use",{commandKey:n.createElement("b",null,t),plusOrMinusKeys:n.createElement("b",null,(0,N.tx)("rcs.figjam_onboarding.plus_or_minus"))})),onNext:e.onClickPrimaryCta,steps:{current:1,total:r?2:3},onDismiss:()=>{e.dismissModal(),i({eventName:"zoom_tooltip_dismissed"})},imgSrc:"https://static.figma.com/uploads/4e36d3bbbf8633fef1b86238f66bb1bf54f54d2a"})))}function a7(e){return n.createElement(ez.h,{testId:e.testId?e.testId:"ZoomConnectorOverlay",modalType:eY.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Zoom",element:a6,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function a8(e){let t=(0,aI.Un)();return n.createElement(ez.h,{testId:e.testId?e.testId:"HandToolConnectorOverlay",modalType:eY.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Hand Tool",userFlagOnShow:t?"figjam_editor_onboarded":void 0,element:a3,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}let a9=[a7,a8,function(e){return n.createElement(ez.h,{testId:e.testId?e.testId:"ShareConnectorOverlay",modalType:eY.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Share",userFlagOnShow:"figjam_editor_onboarded",element:e=>n.createElement(aj,null,n.createElement(aZ.Dv,{targetType:"dom",targetKey:eZ.v4,topPadding:-6},n.createElement(a2,{bodyText:n.createElement("span",null,(0,N.tx)("rcs.figjam_onboarding.invite_others_or_share_this_file_with_a_link_to_jam_with_your_team")),onNext:e.onClickPrimaryCta,steps:{current:3,total:3},onDismiss:e.dismissModal,imgSrc:"https://static.figma.com/uploads/8f3066fc3906f11f2601a390725f2b7af58e01a1"}))),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}];var ne=a(67085),nt=a(767904),na=a(335775),nn=a(915440),nr=a(391388),nl=a(809831),ni=a(279453),no=a(680229);function ns({skipAccountCreationDateCheck:e=!1}){let t=(0,eB.aV)(),a=(0,nl.lg)(),l=!!(0,r.kc)().figjam_share_to_google_classroom,i=(0,ei.q5)(),o=(0,y.md)(ew.mp),s=(0,nn.Rs)(ni.KMT,{currentOrgId:i?.parentOrgId||null});return n.useMemo(()=>nr.Qw.all([o,s]).transform(n=>{let[r,i]=n,o=function(e){let t=Date.now();return e.getTime()<=t-12096e5}(r),s=!!i.org?.k12GoogleOrg||(0,no.aA)(i.currentUser.profile?.jobTitle||"");return!t&&l&&a===ae._Y.WHITEBOARD&&(e||o)&&s}),[o,s,a,l,t,e])}function nc({isShowing:e,onPrimaryCtaClick:t,onClose:a}){return n.createElement(_.M,{isShowing:e},n.createElement(d.fu,{name:"Share to Google Classroom New User Onboarding"},n.createElement(aZ.Dv,{targetType:"dom",targetKey:"share",isBold:!0,topPadding:-6,autoWidth:!0},n.createElement(a2,{isBold:!0,titleText:(0,N.tx)("whiteboard.google_classroom.onboarding.new_user.header"),bodyText:(0,N.tx)("whiteboard.google_classroom.onboarding.new_user.body"),buttonText:(0,N.tx)("whiteboard.google_classroom.onboarding.show_me"),onNext:t,onDismiss:a,imgSrc:"https://static.figma.com/uploads/db6976747d085e1350d443cd04b08e7ba979b86b",imgContainerWidth:105}))))}function nd({isShowing:e,onClose:t}){return n.createElement(eM.rq,{isShowing:e,zIndex:eA.R.MODAL,trackingContextName:"Share to Google Classroom Share Option Pointer",targetKey:na.pb,arrowPosition:ab.F_.LEFT_TITLE,description:n.createElement("div",null,(0,N.tx)("whiteboard.google_classroom.pointer.body")),onClose:t,onTargetLost:t,emphasized:!0,disableHighlight:!0,clickOutsideToHide:!0})}let nu="seen_figjam_share_to_google_classroom_existing_user_onboarding",nm=(0,eT.r1)(nu),np="seen_figjam_share_to_google_classroom_new_user_onboarding",n_=(0,eT.r1)(np),nf=(0,eT.r1)("has_shared_to_google_classroom"),nh=(0,eT.r1)("figjam_editor_onboarded"),ng="start_share_to_classroom_new_user_onboarding";function nE(){let e=(0,s.wA)(),t=ns({skipAccountCreationDateCheck:!0}),a=(0,y.md)(nm),r=(0,y.md)(n_),l=(0,y.md)(nf),i=(0,y.md)(na.Ij),{show:o,isShowing:d,complete:p,uniqueId:_}=(0,u.e)({overlay:f.DKg,priority:m.N.OVERRIDING_MODAL},[r,a,l,t]);(0,eC.E)(_,ng,()=>{o({onShow:()=>{e(c.b({[np]:!0}))},canShow:(e,t,a,n)=>!e&&!t&&!a&&n})}),n.useEffect(()=>{a.data&&p()},[a,p]);let{currentStep:h,next:g}=(0,eU.A)({numSteps:2,onComplete:p}),E=function({isShowing:e,next:t,complete:a}){let r=(0,s.wA)(),l=(0,ei.q5)();return[n.createElement(nc,{key:"share-to-google-classroom-new-user-callout",isShowing:e,onPrimaryCtaClick:()=>{if(!l){a();return}r((0,ey.to)({type:nt.g_,data:{fileKey:l.key,source:ne.nk.shareToGoogleClassroomOnboarding}})),t()},onClose:a}),n.createElement(nd,{key:"share-to-google-classroom-share-option-pointer",isShowing:e,onClose:a})]}({isShowing:d,next:g,complete:p});return n.useEffect(()=>{i&&d&&0===h&&g()},[h,d,i,g]),n.createElement(eV.U,{currentStep:h,isShowing:d,children:E})}var ny=a(554905);function nv(){let e=(0,s.d4)(e=>e.userFlags?.figjam_editor_onboarded),t=(0,nl.ow)(),a=!(0,ny.Td)(),n=(0,ei.q5)(),r=n?.creatorId,l=(0,tN.TA)(),i=null===n||r===l;return t&&!i&&a&&!e}function nb(e){let t=(0,s.wA)();return()=>{t(c.b({figjam_editor_onboarded:!0})),e()}}function nC({overlayUniqueId:e,afterReset:t}){let a=(0,s.wA)();(0,eC.E)(e,"Reset Onboarding",()=>{a(c.b({figjam_editor_onboarded:!1,figjam_browse_templates_modal_onboarded:!1,figjam_browse_templates_modal_onboarding_item_selected:!1,figjam_participant_onboarded:!1})),t&&t()})}function nw({steps:e,onComplete:t,isShowing:a,overlayUniqueId:r}){let{currentStep:l,next:i,reset:o}=(0,eU.A)({numSteps:e.length,onComplete:t});return nC({overlayUniqueId:r,afterReset:o}),n.createElement(eV.U,{currentStep:l,isShowing:a,children:n.useMemo(()=>e.map(e=>n.createElement(e,{onClickPrimaryCta:i,onClose:t7.lQ,onManualDismiss:t,isShowing:a})),[i,t,a,e])})}var nT=a(888699),nS=a(358145),nN=a(271779),nx=a(738274),nk=a(119198),nI=a(777078),nA=a(988022),nL=a(114716),nO=a(102310),nR=a(820642),nM=a(106112),nD=a(555328),nP=a(945020),nF=a(342720),nB=a(27928),nU=a(766926),nH=a(79132),nG=a(746806),nV=a(479296),nz=a(900073),nK=a(297666),nW=a(819338);function nj({onClickPrimaryCta:e,useCase:t}){let a=(0,ei.q5)(),r=(0,s.wA)(),l=(0,aX.O)();return{onNext:(0,n.useCallback)(()=>{a&&(r((0,ey.to)({type:nt.g_,data:{fileKey:a.key,source:ne.nk.expFigJamOnboardingShareVariant}})),(0,aW.YQ)({id:"open share modal"}),l({eventName:"share_board_clicked",useCase:t})),e()},[a,r,e,l,t])}}let nZ="make_something_assets--svg--hgXqn",nY="make_something_assets--svgHovered--3XZdi",nX="make_something_assets--transformable--Ku46s",nq="make_something_assets--transformLeftBrainstorm--To6dH",nJ="make_something_assets--transformRightBrainstorm--DH4Yj",nQ="make_something_assets--transformLeftUpdates--HVSJ5",n$="make_something_assets--transformRightUpdates--jOJJ-",n0="make_something_assets--transformLeftPlanning--6tBWf",n1="make_something_assets--transformRightPlanning--H2U0C",n2="make_something_assets--transformRightDiagramming--2ff-F";function n5(e){return n.createElement("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t6()(nZ,{[nY]:e.hovered})},n.createElement("rect",{x:"27.1868",y:"27.8497",width:"141.626",height:"142.374",fill:"#E5F4FF",stroke:"black",strokeWidth:"0.373684"}),n.createElement("rect",{x:"27.1868",y:"3.18684",width:"141.626",height:"19.8053",fill:"#0D99FF",stroke:"black",strokeWidth:"0.373684"}),n.createElement("g",{filter:"url(#filter0_d_351_43460)"},n.createElement("rect",{x:"37.4653",y:"38.1284",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),n.createElement("rect",{x:"37.6522",y:"38.3153",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("g",{filter:"url(#filter1_d_351_43460)"},n.createElement("rect",{x:"124.157",y:"81",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),n.createElement("rect",{x:"124.344",y:"81.1868",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("g",{filter:"url(#filter2_d_351_43460)"},n.createElement("rect",{x:"81",y:"38",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),n.createElement("rect",{x:"81.1868",y:"38.1868",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("g",{filter:"url(#filter3_d_351_43460)"},n.createElement("rect",{x:"80.8096",y:"123.326",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),n.createElement("rect",{x:"80.9964",y:"123.513",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("rect",{x:"84.9214",y:"128.181",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"40.8262",y:"42.2361",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"129.021",y:"85.1079",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"129.021",y:"100.057",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"40.8262",y:"49.7126",width:"18.3105",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"129.021",y:"92.584",width:"20.9263",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("path",{d:"M87.4033 45.8193C88.2079 46.4289 88.9008 47.0959 89.6122 47.8073",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),n.createElement("path",{d:"M97.5591 43.8335V48.0303",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),n.createElement("path",{d:"M103.975 49.5765C106.065 48.776 108.231 47.9817 110.38 47.3677",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),n.createElement("path",{d:"M103.748 57.5273H109.491",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),n.createElement("path",{d:"M98.8926 62.6094V67.4688",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),n.createElement("path",{d:"M90.1268 58.5264C89.2081 59.2528 88.1169 59.8811 87.2876 60.7104",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),n.createElement("g",{filter:"url(#filter4_d_351_43460)"},n.createElement("rect",{x:"81",y:"80.7251",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),n.createElement("rect",{x:"81.1868",y:"80.9119",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("path",{d:"M108.795 102.748L108.954 102.837L109.047 102.681L109.454 101.997C109.755 101.492 110.248 101.121 110.825 100.966C111.402 100.812 112.014 100.886 112.527 101.173C113.039 101.459 113.41 101.933 113.559 102.489C113.708 103.046 113.625 103.642 113.324 104.146L113.324 104.146L112.957 104.763L112.957 104.763L110.552 108.797L105.825 106.155C105.313 105.869 104.942 105.395 104.793 104.839C104.644 104.282 104.728 103.687 105.028 103.183C105.329 102.678 105.821 102.308 106.398 102.153C106.975 101.998 107.587 102.073 108.1 102.36L108.795 102.748Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.373684"}),n.createElement("path",{d:"M116.865 94.0866L116.958 94.2427L117.116 94.154L117.811 93.7653C118.324 93.4788 118.936 93.4037 119.513 93.5582C120.09 93.7127 120.583 94.0836 120.884 94.5878C121.185 95.0918 121.269 95.6876 121.12 96.2442C120.971 96.8009 120.6 97.2749 120.088 97.5613L120.088 97.5614L119.461 97.9124L119.461 97.9125L115.362 100.203L112.589 95.5518C112.288 95.0478 112.204 94.4522 112.353 93.8958C112.502 93.3393 112.873 92.8655 113.385 92.5793C113.897 92.293 114.51 92.2181 115.087 92.3727C115.664 92.5273 116.156 92.8982 116.457 93.4024L116.865 94.0866Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.373684"}),n.createElement("g",{filter:"url(#filter5_d_351_43460)",className:t6()(nX,nJ)},n.createElement("rect",{x:"124",y:"37.761",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),n.createElement("rect",{x:"124.187",y:"37.9478",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("path",{d:"M131.262 57.6483C132.364 58.2951 133.535 59.063 134.814 59.2976C138.578 59.9876 139.728 56.6784 139.99 53.525C140.181 51.2338 140.49 47.2706 137.707 46.3822C135.469 45.668 135.63 48.5222 135.525 50.0614C135.198 54.8126 139.249 59.0839 144.177 57.7244C145.893 57.251 147.804 55.2775 148.694 53.7787C149.217 52.8971 149.432 51.8588 149.988 51.0257",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round",className:t6()(nX,nJ)}),n.createElement("circle",{cx:"150.532",cy:"37.7597",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684",className:t6()(nX,nJ)}),n.createElement("g",{filter:"url(#filter6_d_351_43460)",className:t6()(nX,nq)},n.createElement("rect",{x:"37",y:"81.208",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),n.createElement("rect",{x:"37.1868",y:"81.3948",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("rect",{className:t6()(nX,nq),x:"41.8633",y:"87.5618",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("circle",{className:t6()(nX,nq),cx:"70.6325",cy:"98.0258",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684"}),n.createElement("circle",{className:t6()(nX,nq),cx:"61.2902",cy:"106.617",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684"}),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_351_43460",x:"37.4653",y:"38.1284",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),n.createElement("filter",{id:"filter1_d_351_43460",x:"124.157",y:"81",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),n.createElement("filter",{id:"filter2_d_351_43460",x:"81",y:"38",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),n.createElement("filter",{id:"filter3_d_351_43460",x:"80.8096",y:"123.326",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),n.createElement("filter",{id:"filter4_d_351_43460",x:"81",y:"80.7251",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),n.createElement("filter",{id:"filter5_d_351_43460",x:"124",y:"37.761",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),n.createElement("filter",{id:"filter6_d_351_43460",x:"37",y:"81.208",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"}))))}function n3(e){return n.createElement("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t6()(nZ,{[nY]:e.hovered})},n.createElement("rect",{width:"196",height:"121.761",fill:"white"}),n.createElement("rect",{x:"27.183",y:"49.6627",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"31.7598",y:"59.3601",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),n.createElement("circle",{cx:"58.6556",cy:"61.7423",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"76.5885",y:"49.6627",width:"42.82",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"80.7957",y:"59.3601",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),n.createElement("circle",{cx:"109.161",cy:"61.7423",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"76.5888",y:"3.18299",width:"42.82",height:"23.7889",rx:"2.01291",fill:"#FFCD29",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"80.7959",y:"12.8804",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),n.createElement("circle",{cx:"110.261",cy:"15.2623",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"125.631",y:"130.178",width:"43.0186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"27.183",y:"89.9188",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"33.5896",y:"99.6157",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),n.createElement("circle",{cx:"60.4899",cy:"101.998",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),n.createElement("g",{clipPath:"url(#clip0_351_43276)"},n.createElement("path",{d:"M61.0894 105.123C60.3396 105.1 59.722 104.946 59.1311 104.674C58.9431 104.588 58.7461 104.522 58.5542 104.448C58.3001 104.35 58.0777 104.2 57.9633 103.952C57.7015 103.384 57.427 102.818 57.2237 102.227C57.0344 101.676 57.1513 101.125 57.4918 100.655C57.7562 100.29 57.9163 99.8986 58.0319 99.4665C58.1742 98.9366 58.5669 98.643 59.1006 98.5287C59.3459 98.4766 59.5785 98.4931 59.8123 98.5833C60.0296 98.6672 60.2545 98.6812 60.482 98.6189C60.9039 98.5032 61.2889 98.6227 61.6663 98.8044C61.843 98.8883 62.0234 98.9772 62.2128 99.0192C62.8367 99.1564 63.157 99.5669 63.2421 100.164C63.284 100.46 63.2599 100.769 63.2383 101.07C63.2192 101.333 63.2472 101.582 63.331 101.83C63.5483 102.473 63.5153 103.102 63.2179 103.716C63.0362 104.092 62.7389 104.346 62.378 104.541C62.1251 104.677 61.8735 104.816 61.6282 104.966C61.43 105.087 61.2177 105.129 61.0894 105.123ZM61.083 104.886C61.2787 104.889 61.4274 104.827 61.6269 104.673C61.7616 104.57 61.9218 104.499 62.0704 104.415C62.2458 104.317 62.4517 104.251 62.594 104.118C63.1989 103.548 63.3361 102.819 63.1328 102.055C63.0019 101.562 62.9625 101.089 63.0197 100.591C63.0934 99.9405 62.7376 99.4512 62.1136 99.2784C61.8976 99.2187 61.6905 99.117 61.4872 99.0192C61.2266 98.8946 60.9585 98.7866 60.6713 98.8553C60.2977 98.9442 59.9419 98.9163 59.5835 98.7955C59.4666 98.7561 59.3345 98.7206 59.215 98.7345C58.7347 98.7904 58.3979 99.0738 58.2772 99.5237C58.1463 100.013 57.9264 100.439 57.6545 100.859C57.3724 101.296 57.2974 101.795 57.4982 102.297C57.6964 102.793 57.9125 103.284 58.126 103.774C58.2314 104.018 58.417 104.181 58.6673 104.274C58.9037 104.362 59.1426 104.444 59.3726 104.547C59.8796 104.772 60.4172 104.848 61.083 104.886Z",fill:"black"}),n.createElement("path",{d:"M60.5404 103.175C60.0016 103.198 59.5072 103.112 59.1222 102.711C59.0561 102.642 58.9938 102.566 58.9544 102.481C58.9354 102.441 58.9189 102.367 58.9926 102.326C59.0383 102.3 59.0968 102.327 59.1336 102.355C59.2264 102.424 59.3039 102.514 59.3979 102.583C59.8402 102.909 60.3294 103.011 60.8593 102.856C61.1275 102.778 61.3143 102.581 61.4795 102.365C61.5405 102.286 61.6078 102.167 61.7184 102.25C61.8289 102.333 61.7298 102.435 61.6726 102.511C61.3842 102.895 61.036 103.177 60.5404 103.175Z",fill:"black"}),n.createElement("path",{d:"M62.2294 101.088C62.2281 101.243 62.1099 101.367 61.9701 101.365C61.8253 101.362 61.7045 101.234 61.7083 101.088C61.7122 100.928 61.824 100.801 61.96 100.803C62.1124 100.805 62.2319 100.93 62.2294 101.088Z",fill:"black"}),n.createElement("path",{d:"M58.9061 101.294C58.9048 101.449 58.7867 101.573 58.6469 101.571C58.502 101.568 58.3813 101.44 58.3851 101.294C58.3889 101.134 58.5007 101.007 58.6367 101.009C58.7879 101.01 58.9074 101.136 58.9061 101.294Z",fill:"black"})),n.createElement("path",{d:"M96.5399 30.8149C96.5399 30.6128 96.7037 30.449 96.9058 30.449C97.108 30.449 97.2718 30.6128 97.2718 30.8149H96.5399ZM147.121 45.7131C146.978 45.856 146.747 45.856 146.604 45.7131L144.275 43.384C144.132 43.241 144.132 43.0093 144.275 42.8664C144.418 42.7234 144.649 42.7234 144.792 42.8664L146.863 44.9367L148.933 42.8664C149.076 42.7234 149.308 42.7234 149.45 42.8664C149.593 43.0093 149.593 43.241 149.45 43.384L147.121 45.7131ZM97.2718 30.8149V33.1938H96.5399V30.8149H97.2718ZM101.298 37.2196H142.471V37.9516H101.298V37.2196ZM147.229 41.9774V45.4543H146.497V41.9774H147.229ZM142.471 37.2196C145.098 37.2196 147.229 39.3498 147.229 41.9774H146.497C146.497 39.754 144.694 37.9516 142.471 37.9516V37.2196ZM97.2718 33.1938C97.2718 35.4172 99.0742 37.2196 101.298 37.2196V37.9516C98.67 37.9516 96.5399 35.8215 96.5399 33.1938H97.2718Z",fill:"black"}),n.createElement("path",{d:"M97.2684 30.8149C97.2684 30.6128 97.1045 30.449 96.9024 30.449C96.7002 30.449 96.5364 30.6128 96.5364 30.8149H97.2684ZM46.5039 45.7131C46.6468 45.856 46.8786 45.856 47.0215 45.7131L49.3506 43.384C49.4935 43.241 49.4935 43.0093 49.3506 42.8664C49.2077 42.7234 48.9759 42.7234 48.833 42.8664L46.7627 44.9367L44.6924 42.8664C44.5495 42.7234 44.3177 42.7234 44.1748 42.8664C44.0319 43.0093 44.0319 43.241 44.1748 43.384L46.5039 45.7131ZM96.5364 30.8149V33.1938H97.2684V30.8149H96.5364ZM92.5106 37.2196H51.1545V37.9516H92.5106V37.2196ZM46.3967 41.9774V45.4543H47.1287V41.9774H46.3967ZM51.1545 37.2196C48.5268 37.2196 46.3967 39.3498 46.3967 41.9774H47.1287C47.1287 39.754 48.9311 37.9516 51.1545 37.9516V37.2196ZM96.5364 33.1938C96.5364 35.4172 94.734 37.2196 92.5106 37.2196V37.9516C95.1382 37.9516 97.2684 35.8215 97.2684 33.1938H96.5364Z",fill:"black"}),n.createElement("path",{d:"M97.2686 30.6304C97.2686 30.4282 97.1047 30.2644 96.9026 30.2644C96.7005 30.2644 96.5366 30.4282 96.5366 30.6304H97.2686ZM96.6438 46.0775C96.7867 46.2204 97.0185 46.2204 97.1614 46.0775L99.4905 43.7484C99.6334 43.6054 99.6334 43.3737 99.4905 43.2308C99.3476 43.0879 99.1158 43.0879 98.9729 43.2308L96.9026 45.3011L94.8323 43.2308C94.6894 43.0879 94.4576 43.0879 94.3147 43.2308C94.1718 43.3737 94.1718 43.6054 94.3147 43.7484L96.6438 46.0775ZM96.5366 30.6304V45.8187H97.2686V30.6304H96.5366Z",fill:"black"}),n.createElement("g",{clipPath:"url(#clip1_351_43276)"},n.createElement("path",{d:"M58.8788 58.1369C59.7645 58.1496 60.4813 58.5105 61.1522 59.0925C62.5348 60.2921 62.6352 63.1971 60.4584 64.5085C58.9563 65.4133 56.9612 64.9838 55.998 63.3356C54.9331 61.5146 55.7781 59.0887 57.7364 58.3465C58.1036 58.2068 58.4836 58.133 58.8788 58.1369ZM61.8321 61.2731C61.8524 60.625 61.5258 59.874 60.9565 59.2831C60.2271 58.527 59.2867 58.2677 58.2511 58.5079C56.3449 58.9476 55.3105 61.1016 56.1263 62.9023C56.7032 64.1756 58.0592 64.8885 59.3554 64.6C60.8155 64.2747 61.8384 62.9874 61.8321 61.2731Z",fill:"black"}),n.createElement("path",{d:"M61.0418 62.2874C60.6491 63.2747 59.9489 63.8517 58.8903 63.8644C57.983 63.8746 57.3159 63.426 56.9105 62.5885C56.8851 62.6 56.8546 62.6152 56.8253 62.6254C56.7834 62.6406 56.7593 62.6508 56.7211 62.6025C56.7033 62.5796 56.6754 62.539 56.7275 62.497C56.8558 62.3916 56.9943 62.3001 57.1341 62.2124C57.1557 62.1984 57.2066 62.1971 57.2358 62.2416C57.2676 62.2912 57.2472 62.3229 57.2282 62.3484C57.1926 62.3954 57.1418 62.431 57.0909 62.4754C57.5764 63.2188 58.2232 63.6661 59.1483 63.5734C59.9641 63.492 60.5716 62.8872 60.794 62.1743C60.8041 62.1425 60.7685 62.1196 60.7342 62.0777C60.6771 62.0103 60.6377 61.9989 60.7025 61.8909C60.7495 61.8235 60.8219 61.8629 60.8639 61.8845C60.9973 61.9544 61.1294 62.0319 61.2464 62.126C61.2921 62.1628 61.376 62.2175 61.3213 62.3153C61.2705 62.4144 61.2006 62.3496 61.118 62.3255C61.0951 62.3153 61.0723 62.3013 61.0418 62.2874Z",fill:"black"}),n.createElement("path",{d:"M57.3933 60.2757C57.4657 60.1588 57.5445 60.066 57.6881 60.0953C57.8254 60.1232 57.8813 60.2427 57.8825 60.3532C57.8864 60.5718 57.8825 60.7967 57.8343 61.009C57.7847 61.2275 57.683 61.4359 57.5928 61.6431C57.5293 61.7892 57.4289 61.8184 57.3196 61.7117C56.9689 61.3661 56.7566 60.9518 56.7795 60.446C56.7859 60.3024 56.8634 60.1842 57.007 60.1359C57.162 60.0838 57.2815 60.155 57.3933 60.2757ZM57.6754 60.2999C57.6754 60.2999 57.6475 60.2592 57.6004 60.2732C57.5649 60.2706 57.5255 60.4219 57.5026 60.5019C57.481 60.5769 57.4848 60.6315 57.4314 60.6404C57.3463 60.6481 57.3526 60.5756 57.3171 60.54C57.3005 60.5223 57.2205 60.2961 57.1061 60.338C57.0324 60.3647 57.0286 60.4727 57.0324 60.5375C57.0502 60.8666 57.2001 61.1487 57.378 61.4512C57.5407 61.0611 57.7834 60.5375 57.6754 60.2999Z",fill:"black"}),n.createElement("path",{d:"M60.2957 60.1701C60.3885 60.118 60.4761 60.0736 60.5626 60.0914C60.6909 60.118 60.7163 60.2527 60.7278 60.3697C60.7646 60.742 60.6032 61.0571 60.4291 61.3672C60.3897 61.4371 60.3338 61.4981 60.297 61.5705C60.1915 61.7764 60.0098 61.7383 59.9094 61.5616C59.6997 61.1893 59.5802 60.7801 59.6184 60.3442C59.6323 60.1778 59.6946 60.0189 59.8789 59.9757C60.0644 59.93 60.2258 60.0469 60.2957 60.1701ZM60.067 61.3837C60.086 61.474 60.1051 61.4041 60.1229 61.3863C60.2499 61.1957 60.3783 61.005 60.4533 60.7954C60.5117 60.6314 60.6655 60.2159 60.5041 60.2578C60.4647 60.2604 60.424 60.3811 60.3897 60.4421C60.3618 60.4904 60.3046 60.5679 60.2804 60.5717C60.1877 60.5742 60.1991 60.4904 60.1813 60.4421C60.1394 60.3328 60.1432 60.1612 59.9869 60.1816C59.8319 60.2019 59.8497 60.3735 59.87 60.4853C59.9234 60.7865 59.9996 61.0851 60.067 61.3837Z",fill:"black"})),n.createElement("g",{clipPath:"url(#clip2_351_43276)"},n.createElement("path",{d:"M106.15 61.4002C106.19 60.3696 106.623 59.3517 107.641 58.6439C107.894 58.4685 108.194 58.3541 108.485 58.2436C110.078 57.6387 112.02 58.7328 112.438 60.7102C112.736 62.1156 112.387 63.3546 111.281 64.3014C109.773 65.5912 107.534 65.1172 106.591 63.3432C106.3 62.7917 106.153 62.2046 106.15 61.4002ZM109.218 64.6076C109.862 64.6089 110.388 64.4424 110.809 64.1489C112.465 62.9912 112.596 60.3836 111.064 59.062C110.367 58.4596 109.556 58.302 108.681 58.4965C108.409 58.5575 108.146 58.715 107.913 58.879C106.537 59.8511 106.176 61.8602 107.116 63.3127C107.638 64.1209 108.377 64.5784 109.218 64.6076Z",fill:"black"}),n.createElement("path",{d:"M108.781 63.6393C108.761 63.6736 108.735 63.708 108.716 63.7384C108.668 63.816 108.644 63.8439 108.552 63.8122C108.484 63.7728 108.498 63.6863 108.515 63.6393C108.564 63.5072 108.627 63.3801 108.701 63.2594C108.73 63.2111 108.787 63.1247 108.847 63.1526C108.893 63.1806 108.927 63.1971 108.888 63.3305C108.88 63.3559 108.871 63.3864 108.858 63.4271C109.174 63.586 109.496 63.6037 109.829 63.5237C110.313 63.4068 110.757 63.0421 111.012 62.5935C111.119 62.4054 111.164 62.225 111.222 61.9975C111.235 61.9505 111.269 61.8717 111.247 61.8577C111.218 61.8399 111.183 61.817 111.141 61.7992C111.059 61.7662 111.067 61.7052 111.084 61.6658C111.111 61.5972 111.165 61.5896 111.198 61.5985C111.387 61.6468 111.574 61.7078 111.758 61.7713C111.784 61.7802 111.818 61.8081 111.805 61.8691C111.791 61.9327 111.749 61.9441 111.713 61.9505C111.655 61.9606 111.593 61.9454 111.517 61.939C111.493 62.042 111.471 62.15 111.441 62.2542C111.208 63.0649 110.709 63.6139 109.876 63.8274C109.542 63.9125 109.203 63.8477 108.781 63.6393Z",fill:"black"}),n.createElement("path",{d:"M110.475 60.4918C110.475 60.3914 110.46 60.2859 110.481 60.1906C110.495 60.1296 110.527 60.0368 110.611 60.0381C110.692 60.0394 110.753 60.0991 110.772 60.1525C110.894 60.4994 110.944 60.859 110.894 61.2237C110.89 61.3216 110.795 61.38 110.752 61.38C110.674 61.38 110.597 61.3279 110.575 61.2377C110.517 60.9937 110.464 60.493 110.475 60.4918Z",fill:"black"}),n.createElement("path",{d:"M107.785 60.4853C107.791 60.4243 107.829 60.3175 107.921 60.2997C108.017 60.2743 108.052 60.39 108.063 60.4408C108.118 60.6848 108.104 60.639 108.132 60.9809C108.134 61.005 108.143 61.4129 108.133 61.5235C108.123 61.6404 108.059 61.6989 108.002 61.7014C107.894 61.7078 107.86 61.6353 107.836 61.5502C107.761 61.2909 107.725 61.0279 107.785 60.4853Z",fill:"black"})),n.createElement("g",{clipPath:"url(#clip3_351_43276)"},n.createElement("path",{d:"M111.595 18.3869C110.845 18.364 110.227 18.2102 109.637 17.9383C109.448 17.8519 109.251 17.7858 109.06 17.7121C108.805 17.6142 108.583 17.4643 108.469 17.2165C108.207 16.6485 107.932 16.0817 107.729 15.4908C107.54 14.9405 107.657 14.389 107.997 13.9188C108.262 13.5541 108.422 13.1627 108.537 12.7307C108.68 12.2007 109.072 11.9072 109.606 11.7928C109.851 11.7407 110.084 11.7572 110.318 11.8475C110.535 11.9313 110.76 11.9453 110.987 11.883C111.409 11.7674 111.794 11.8869 112.172 12.0686C112.348 12.1525 112.529 12.2414 112.718 12.2833C113.342 12.4206 113.662 12.831 113.747 13.4283C113.789 13.7244 113.765 14.0332 113.744 14.3344C113.725 14.5974 113.753 14.8465 113.836 15.0943C114.054 15.7373 114.021 16.3663 113.723 16.9801C113.542 17.3563 113.244 17.6104 112.883 17.8049C112.63 17.9408 112.379 18.0806 112.134 18.2306C111.935 18.3513 111.723 18.3932 111.595 18.3869ZM111.588 18.1505C111.784 18.1531 111.933 18.0908 112.132 17.937C112.267 17.8341 112.427 17.7629 112.576 17.6791C112.751 17.5812 112.957 17.5151 113.099 17.3817C113.704 16.8124 113.842 16.083 113.638 15.3192C113.507 14.8262 113.468 14.3534 113.525 13.8553C113.599 13.2047 113.243 12.7154 112.619 12.5426C112.403 12.4829 112.196 12.3812 111.993 12.2833C111.732 12.1588 111.464 12.0508 111.177 12.1194C110.803 12.2084 110.447 12.1804 110.089 12.0597C109.972 12.0203 109.84 11.9847 109.72 11.9987C109.24 12.0546 108.903 12.338 108.783 12.7878C108.652 13.2771 108.432 13.7028 108.16 14.1234C107.878 14.5606 107.803 15.0587 108.004 15.5607C108.202 16.0575 108.418 16.5481 108.631 17.0386C108.737 17.2826 108.922 17.4452 109.173 17.538C109.409 17.6257 109.648 17.7083 109.878 17.8112C110.385 18.0361 110.923 18.1124 111.588 18.1505Z",fill:"black"}),n.createElement("path",{d:"M111.046 16.4389C110.507 16.4618 110.013 16.3766 109.628 15.975C109.561 15.9064 109.499 15.8302 109.46 15.745C109.441 15.7056 109.424 15.6307 109.498 15.59C109.544 15.5646 109.602 15.5913 109.639 15.6192C109.732 15.6878 109.809 15.7781 109.903 15.8467C110.346 16.1733 110.835 16.2749 111.365 16.1199C111.633 16.0424 111.82 15.8454 111.985 15.6294C112.046 15.5506 112.113 15.4312 112.224 15.5138C112.334 15.5976 112.235 15.6993 112.178 15.7755C111.89 16.1593 111.541 16.4414 111.046 16.4389Z",fill:"black"}),n.createElement("path",{d:"M112.735 14.3521C112.733 14.5071 112.615 14.6316 112.475 14.6291C112.331 14.6266 112.21 14.4982 112.214 14.3521C112.218 14.192 112.329 14.0649 112.465 14.0674C112.618 14.0687 112.737 14.1945 112.735 14.3521Z",fill:"black"}),n.createElement("path",{d:"M109.411 14.5579C109.41 14.7129 109.292 14.8375 109.152 14.8349C109.007 14.8324 108.887 14.704 108.89 14.5579C108.894 14.3978 109.006 14.2707 109.142 14.2732C109.293 14.2745 109.413 14.4003 109.411 14.5579Z",fill:"black"})),n.createElement("path",{d:"M48.5913 77.6602C48.5913 77.458 48.4275 77.2942 48.2253 77.2942C48.0232 77.2942 47.8594 77.458 47.8594 77.6602H48.5913ZM47.9666 85.6046C48.1095 85.7475 48.3412 85.7475 48.4841 85.6046L50.8132 83.2755C50.9562 83.1326 50.9562 82.9008 50.8132 82.7579C50.6703 82.615 50.4386 82.615 50.2957 82.7579L48.2253 84.8282L46.155 82.7579C46.0121 82.615 45.7804 82.615 45.6375 82.7579C45.4945 82.9008 45.4945 83.1326 45.6375 83.2755L47.9666 85.6046ZM47.8594 77.6602V85.3458H48.5913V77.6602H47.8594Z",fill:"black"}),n.createElement("rect",{x:"125.264",y:"50.1747",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983",className:t6()(nX,n2)}),n.createElement("rect",{x:"131.664",y:"59.8726",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2",className:t6()(nX,n2)}),n.createElement("circle",{cx:"158.567",cy:"62.2545",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983",className:t6()(nX,n2)}),n.createElement("g",{clipPath:"url(#clip4_351_43276)",className:t6()(nX,n2)},n.createElement("path",{d:"M156.152 60.7639C156.525 60.325 156.935 59.9056 157.388 59.5486C157.703 59.3 157.811 59.2875 157.985 59.2403C158.032 59.2278 158.074 59.1986 158.114 59.1695C159.805 57.9764 161.959 58.8222 162.375 60.9278C162.652 62.325 161.939 63.7125 160.714 64.2792C160.695 64.2889 160.666 64.2917 160.656 64.307C160.413 64.6875 159.918 64.8347 159.617 64.9097C159.556 64.932 159.509 64.9958 159.453 65.0375C159.41 65.0695 159.367 65.1042 159.318 65.1264C157.725 65.8653 156.013 64.8764 155.638 63.2403C155.585 63.0097 155.353 61.6181 156.152 60.7639ZM159.47 64.1903C160.038 64.1875 160.409 64.0945 160.741 63.9125C162.338 63.0361 162.577 60.6556 161.171 59.4931C160.366 58.8278 159.335 58.7153 158.43 59.3528C157.353 60.1097 156.963 61.6611 157.566 62.8333C157.999 63.6764 158.686 64.1417 159.47 64.1903ZM160.013 64.55C160.082 64.525 160.092 64.507 160.081 64.4986C160.081 64.4986 160.052 64.4986 160.003 64.5C158.753 64.5945 157.813 64.0972 157.256 62.9764C156.711 61.882 156.843 60.807 157.486 59.7778C157.435 59.8028 157.393 59.8333 157.356 59.8681C156.489 60.6528 156.234 61.982 156.734 63.1181C157.195 64.1667 158.163 64.7889 159.252 64.7111C159.507 64.6931 159.759 64.6056 160.013 64.55ZM156.342 60.9472C156.343 60.907 156.306 60.957 156.3 60.9639C156.281 60.9903 156.261 61.0181 156.245 61.0458C156.016 61.432 155.873 61.85 155.853 62.2986C155.807 63.3208 156.166 64.1681 157.031 64.7458C157.606 65.1306 158.245 65.2097 158.913 65.0014C157.936 64.9028 157.175 64.45 156.661 63.6139C156.148 62.7806 156.066 61.8861 156.342 60.9472Z",fill:"black"}),n.createElement("path",{d:"M160.525 61.8376C160.717 61.8445 160.78 61.9445 160.717 62.1251C160.561 62.5695 160.124 62.7862 159.678 62.6307C159.414 62.5376 159.207 62.3682 159.064 62.1265C158.955 61.9404 159.003 61.8334 159.218 61.8195C159.443 61.8043 160.316 61.8293 160.525 61.8376ZM160.482 62.0543C160.099 62.0543 159.725 62.0543 159.348 62.0543C159.731 62.5001 160.298 62.5084 160.482 62.0543Z",fill:"black"}),n.createElement("path",{d:"M158.963 61.0499C158.964 61.2666 158.756 61.4638 158.528 61.4624C158.33 61.461 158.191 61.2819 158.189 61.0916C158.186 60.9013 158.381 60.7138 158.595 60.7082C158.8 60.7013 158.963 60.8513 158.963 61.0499ZM158.546 60.9124C158.443 60.9291 158.411 61.0263 158.42 61.0999C158.431 61.2069 158.511 61.2332 158.561 61.2346C158.609 61.236 158.702 61.1888 158.721 61.0971C158.746 61.0041 158.693 60.8777 158.546 60.9124Z",fill:"black"}),n.createElement("path",{d:"M161.617 61.1082C161.614 61.318 161.466 61.4721 161.267 61.4707C161.053 61.4694 160.899 61.2957 160.906 61.0638C160.912 60.8624 161.062 60.7069 161.248 60.711C161.441 60.7166 161.62 60.9082 161.617 61.1082ZM161.425 61.1027C161.425 60.9957 161.368 60.9235 161.28 60.9235C161.225 60.9235 161.134 60.9652 161.134 61.0791C161.134 61.2777 161.28 61.2666 161.28 61.2666C161.357 61.2638 161.425 61.2319 161.425 61.1027Z",fill:"black"})),n.createElement("rect",{x:"125.259",y:"90.4347",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"131.662",y:"100.132",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),n.createElement("circle",{cx:"158.562",cy:"102.514",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),n.createElement("g",{clipPath:"url(#clip5_351_43276)"},n.createElement("path",{d:"M155.773 101.196C156.115 100.794 156.49 100.41 156.904 100.084C157.192 99.8563 157.291 99.8449 157.45 99.8017C157.493 99.7903 157.532 99.7636 157.568 99.7369C159.115 98.6453 161.086 99.4192 161.467 101.346C161.72 102.624 161.068 103.894 159.947 104.412C159.93 104.421 159.903 104.424 159.894 104.437C159.672 104.786 159.219 104.92 158.943 104.989C158.887 105.009 158.844 105.068 158.793 105.106C158.754 105.135 158.715 105.167 158.67 105.187C157.213 105.863 155.646 104.958 155.303 103.462C155.254 103.251 155.042 101.977 155.773 101.196ZM158.809 104.331C159.328 104.328 159.668 104.243 159.971 104.077C161.433 103.275 161.651 101.097 160.365 100.033C159.628 99.4243 158.685 99.3213 157.857 99.9046C156.872 100.597 156.515 102.017 157.066 103.089C157.463 103.861 158.092 104.286 158.809 104.331ZM159.306 104.66C159.369 104.637 159.378 104.62 159.368 104.613C159.368 104.613 159.341 104.613 159.297 104.614C158.153 104.701 157.293 104.246 156.783 103.22C156.285 102.219 156.406 101.235 156.994 100.293C156.947 100.316 156.909 100.344 156.875 100.376C156.082 101.094 155.848 102.31 156.305 103.35C156.727 104.309 157.613 104.878 158.609 104.807C158.843 104.791 159.073 104.711 159.306 104.66ZM155.947 101.363C155.948 101.327 155.914 101.372 155.909 101.379C155.891 101.403 155.873 101.428 155.858 101.454C155.648 101.807 155.517 102.189 155.5 102.6C155.458 103.535 155.786 104.31 156.577 104.839C157.103 105.191 157.688 105.263 158.299 105.073C157.406 104.983 156.709 104.568 156.239 103.803C155.769 103.041 155.694 102.223 155.947 101.363Z",fill:"black"}),n.createElement("path",{d:"M159.774 102.178C159.95 102.185 160.007 102.276 159.95 102.441C159.808 102.848 159.407 103.046 158.999 102.904C158.758 102.819 158.568 102.664 158.438 102.442C158.337 102.272 158.382 102.174 158.579 102.162C158.785 102.148 159.583 102.171 159.774 102.178ZM159.735 102.376C159.384 102.376 159.042 102.376 158.697 102.376C159.048 102.784 159.566 102.792 159.735 102.376Z",fill:"black"}),n.createElement("path",{d:"M158.345 101.458C158.346 101.656 158.155 101.836 157.947 101.835C157.765 101.834 157.638 101.67 157.637 101.496C157.634 101.322 157.812 101.15 158.008 101.145C158.196 101.139 158.345 101.276 158.345 101.458ZM157.964 101.332C157.87 101.347 157.84 101.436 157.848 101.503C157.858 101.601 157.932 101.625 157.978 101.627C158.021 101.628 158.106 101.585 158.124 101.501C158.147 101.416 158.098 101.3 157.964 101.332Z",fill:"black"}),n.createElement("path",{d:"M160.773 101.511C160.771 101.703 160.635 101.844 160.453 101.843C160.257 101.841 160.116 101.683 160.123 101.47C160.128 101.286 160.265 101.144 160.435 101.148C160.612 101.153 160.776 101.328 160.773 101.511ZM160.598 101.506C160.598 101.408 160.546 101.342 160.465 101.342C160.415 101.342 160.331 101.38 160.331 101.484C160.331 101.666 160.465 101.656 160.465 101.656C160.536 101.653 160.598 101.624 160.598 101.506Z",fill:"black"})),n.createElement("path",{className:t6()(nX,n2),d:"M147.77 78.1765C147.77 77.9744 147.606 77.8105 147.404 77.8105C147.202 77.8105 147.038 77.9744 147.038 78.1765H147.77ZM147.145 86.1209C147.288 86.2639 147.52 86.2639 147.663 86.1209L149.992 83.7918C150.135 83.6489 150.135 83.4172 149.992 83.2743C149.849 83.1313 149.617 83.1313 149.474 83.2743L147.404 85.3446L145.333 83.2743C145.191 83.1313 144.959 83.1313 144.816 83.2743C144.673 83.4172 144.673 83.6489 144.816 83.7918L147.145 86.1209ZM147.038 78.1765V85.8622H147.77V78.1765H147.038Z",fill:"black"}),n.createElement("path",{d:"M147.77 118.432C147.77 118.23 147.606 118.066 147.404 118.066C147.202 118.066 147.038 118.23 147.038 118.432H147.77ZM147.145 126.376C147.288 126.519 147.52 126.519 147.663 126.376L149.992 124.047C150.135 123.904 150.135 123.673 149.992 123.53C149.849 123.387 149.617 123.387 149.474 123.53L147.404 125.6L145.333 123.53C145.191 123.387 144.959 123.387 144.816 123.53C144.673 123.673 144.673 123.904 144.816 124.047L147.145 126.376ZM147.038 118.432V126.118H147.77V118.432H147.038Z",fill:"black"}),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_351_43276"},n.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(56.6428 98.1511)"})),n.createElement("clipPath",{id:"clip1_351_43276"},n.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(55.1821 57.8955)"})),n.createElement("clipPath",{id:"clip2_351_43276"},n.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(105.685 57.8955)"})),n.createElement("clipPath",{id:"clip3_351_43276"},n.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(107.148 11.4153)"})),n.createElement("clipPath",{id:"clip4_351_43276"},n.createElement("rect",{width:"8",height:"8",fill:"white",transform:"translate(155 58)"})),n.createElement("clipPath",{id:"clip5_351_43276"},n.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(154.719 98.6667)"}))))}function n4(e){return n.createElement("svg",{width:"136",viewBox:"0 0 196 122",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t6()(nZ,{[nY]:e.hovered})},n.createElement("rect",{x:"27.1929",y:"3.19293",width:"69.0706",height:"15.0489",fill:"black",stroke:"black",strokeWidth:"0.38587"}),n.createElement("rect",{x:"99.7337",y:"3.19293",width:"69.0706",height:"15.0489",fill:"black",stroke:"black",strokeWidth:"0.38587"}),n.createElement("rect",{x:"99.7337",y:"23.2581",width:"69.0706",height:"15.0489",rx:"2.12228",fill:"#BDE3FF",stroke:"black",strokeWidth:"0.38587"}),n.createElement("rect",{x:"27.1929",y:"43.3228",width:"99.1685",height:"15.0489",rx:"2.12228",fill:"#E4CCFF",stroke:"black",strokeWidth:"0.38587"}),n.createElement("rect",{x:"27.1929",y:"103.518",width:"99.1685",height:"15.0489",rx:"2.12228",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.38587"}),n.createElement("rect",{x:"76.5833",y:"63.3882",width:"92.2228",height:"15.0489",rx:"2.12228",fill:"#BDE3FF",stroke:"black",strokeWidth:"0.38587"}),n.createElement("rect",{x:"83.3374",y:"68.5977",width:"25.8533",height:"4.63043",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"32.7886",y:"108.728",width:"32.0272",height:"4.63043",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"33.561",y:"48.5325",width:"31.2554",height:"4.63043",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"104.947",y:"28.4675",width:"21.6087",height:"4.63043",fill:"black",fillOpacity:"0.2"}),n.createElement("path",{d:"M161.035 74.752C160.165 74.7255 159.449 74.5471 158.764 74.2317C158.546 74.1315 158.317 74.0549 158.095 73.9694C157.8 73.8559 157.542 73.682 157.409 73.3946C157.106 72.7358 156.787 72.0785 156.552 71.3932C156.332 70.755 156.468 70.1154 156.863 69.5701C157.169 69.1471 157.355 68.6932 157.489 68.1921C157.654 67.5775 158.109 67.237 158.728 67.1044C159.013 67.044 159.283 67.0631 159.554 67.1678C159.806 67.2651 160.067 67.2813 160.33 67.209C160.82 67.0749 161.266 67.2135 161.704 67.4242C161.909 67.5215 162.118 67.6247 162.338 67.6733C163.061 67.8325 163.433 68.3085 163.532 69.0012C163.58 69.3446 163.552 69.7027 163.527 70.052C163.505 70.3571 163.537 70.646 163.635 70.9334C163.887 71.6791 163.848 72.4086 163.504 73.1205C163.293 73.5567 162.948 73.8515 162.529 74.077C162.236 74.2347 161.944 74.3968 161.66 74.5707C161.43 74.7107 161.184 74.7594 161.035 74.752ZM161.028 74.4779C161.255 74.4808 161.427 74.4086 161.658 74.2303C161.815 74.1109 162 74.0284 162.173 73.9311C162.376 73.8176 162.615 73.741 162.78 73.5862C163.481 72.9259 163.641 72.08 163.405 71.1942C163.253 70.6224 163.207 70.0741 163.274 69.4964C163.359 68.7418 162.946 68.1744 162.223 67.974C161.972 67.9047 161.732 67.7868 161.496 67.6733C161.194 67.5289 160.883 67.4036 160.55 67.4832C160.117 67.5863 159.704 67.5539 159.288 67.4139C159.153 67.3682 159 67.327 158.861 67.3432C158.304 67.408 157.913 67.7367 157.773 68.2584C157.622 68.8258 157.367 69.3195 157.051 69.8074C156.724 70.3144 156.637 70.8921 156.87 71.4742C157.1 72.0505 157.35 72.6194 157.598 73.1883C157.72 73.4713 157.936 73.6599 158.226 73.7675C158.5 73.8692 158.777 73.965 159.044 74.0844C159.632 74.3452 160.255 74.4337 161.028 74.4779Z",fill:"black"}),n.createElement("path",{d:"M160.398 72.4923C159.773 72.5188 159.2 72.4201 158.753 71.9543C158.677 71.8747 158.605 71.7863 158.559 71.6876C158.537 71.6419 158.518 71.5549 158.603 71.5078C158.656 71.4783 158.724 71.5092 158.767 71.5417C158.874 71.6212 158.964 71.7259 159.073 71.8055C159.586 72.1842 160.154 72.3021 160.768 72.1223C161.079 72.0324 161.296 71.804 161.487 71.5535C161.558 71.4621 161.636 71.3235 161.764 71.4193C161.893 71.5166 161.778 71.6345 161.711 71.7229C161.377 72.168 160.973 72.4952 160.398 72.4923Z",fill:"black"}),n.createElement("path",{d:"M162.357 70.0724C162.355 70.2522 162.218 70.3966 162.056 70.3937C161.888 70.3907 161.748 70.2419 161.753 70.0724C161.757 69.8867 161.887 69.7393 162.044 69.7422C162.221 69.7437 162.36 69.8896 162.357 70.0724Z",fill:"black"}),n.createElement("path",{d:"M158.503 70.3111C158.501 70.4909 158.364 70.6354 158.202 70.6324C158.034 70.6295 157.894 70.4806 157.899 70.3111C157.903 70.1254 158.033 69.9781 158.19 69.981C158.366 69.9825 158.504 70.1284 158.503 70.3111Z",fill:"black"}),n.createElement("g",{clipPath:"url(#clip0_351_42930)"},n.createElement("path",{d:"M160.653 34.6219C159.783 34.5953 159.067 34.417 158.381 34.1016C158.163 34.0014 157.935 33.9248 157.712 33.8393C157.418 33.7258 157.16 33.5519 157.027 33.2645C156.723 32.6057 156.405 31.9484 156.169 31.2631C155.95 30.6249 156.085 29.9853 156.48 29.44C156.787 29.017 156.973 28.563 157.107 28.0619C157.272 27.4474 157.727 27.1069 158.346 26.9743C158.631 26.9139 158.9 26.933 159.171 27.0377C159.423 27.1349 159.684 27.1511 159.948 27.0789C160.437 26.9448 160.884 27.0833 161.322 27.2941C161.527 27.3914 161.736 27.4945 161.955 27.5432C162.679 27.7023 163.051 28.1784 163.149 28.8711C163.198 29.2145 163.17 29.5726 163.145 29.9219C163.123 30.227 163.155 30.5158 163.252 30.8032C163.504 31.549 163.466 32.2785 163.121 32.9904C162.91 33.4266 162.566 33.7214 162.147 33.9469C161.854 34.1046 161.562 34.2667 161.278 34.4406C161.048 34.5806 160.801 34.6292 160.653 34.6219ZM160.645 34.3477C160.872 34.3507 161.045 34.2785 161.276 34.1001C161.432 33.9808 161.618 33.8982 161.79 33.801C161.994 33.6875 162.233 33.6108 162.398 33.4561C163.099 32.7958 163.258 31.9499 163.023 31.0641C162.871 30.4923 162.825 29.944 162.891 29.3663C162.977 28.6117 162.564 28.0443 161.841 27.8438C161.59 27.7746 161.35 27.6567 161.114 27.5432C160.812 27.3987 160.501 27.2735 160.168 27.353C159.734 27.4562 159.322 27.4238 158.906 27.2838C158.771 27.2381 158.617 27.1968 158.479 27.213C157.922 27.2779 157.531 27.6065 157.391 28.1283C157.239 28.6957 156.984 29.1894 156.669 29.6772C156.342 30.1842 156.255 30.762 156.488 31.3441C156.718 31.9204 156.968 32.4893 157.216 33.0582C157.338 33.3411 157.553 33.5298 157.844 33.6374C158.118 33.7391 158.395 33.8349 158.662 33.9542C159.25 34.2151 159.873 34.3035 160.645 34.3477Z",fill:"black"}),n.createElement("path",{d:"M160.016 32.3624C159.391 32.3889 158.818 32.2902 158.371 31.8244C158.294 31.7449 158.222 31.6564 158.177 31.5577C158.154 31.512 158.135 31.425 158.221 31.3779C158.274 31.3484 158.342 31.3794 158.384 31.4118C158.492 31.4914 158.582 31.596 158.691 31.6756C159.204 32.0544 159.771 32.1723 160.386 31.9925C160.697 31.9026 160.913 31.6741 161.105 31.4236C161.176 31.3322 161.254 31.1937 161.382 31.2895C161.51 31.3867 161.395 31.5046 161.329 31.5931C160.994 32.0381 160.591 32.3653 160.016 32.3624Z",fill:"black"}),n.createElement("path",{d:"M161.974 29.9422C161.973 30.122 161.836 30.2665 161.674 30.2635C161.506 30.2606 161.366 30.1117 161.37 29.9422C161.375 29.7565 161.504 29.6092 161.662 29.6121C161.839 29.6136 161.977 29.7595 161.974 29.9422Z",fill:"black"}),n.createElement("path",{d:"M158.12 30.181C158.119 30.3608 157.982 30.5052 157.82 30.5023C157.652 30.4993 157.512 30.3505 157.516 30.181C157.521 29.9953 157.65 29.8479 157.808 29.8509C157.983 29.8523 158.122 29.9983 158.12 30.181Z",fill:"black"})),n.createElement("g",{clipPath:"url(#clip1_351_42930)"},n.createElement("path",{d:"M114.675 114.329C114.278 114.328 114.256 114.309 114.215 113.917C114.185 113.631 114.162 113.343 114.154 113.056C114.112 111.501 114.087 109.946 114.039 108.393C114.025 107.893 114.025 107.893 114.462 107.849C114.934 107.802 115.45 107.815 115.924 107.803C117.613 107.764 119.304 107.73 120.993 107.694C121.058 107.693 121.127 107.697 121.183 107.703C121.305 107.716 121.319 107.809 121.321 107.868C121.332 108.088 121.311 108.309 121.311 108.53C121.308 110.144 121.308 111.758 121.307 113.371C121.307 113.565 121.302 113.759 121.301 113.952C121.298 114.281 121.192 114.39 120.854 114.388C120.221 114.387 119.587 114.381 118.953 114.378C118.542 114.377 115.69 114.332 114.675 114.329ZM120.946 108.032L114.356 108.123C114.336 108.123 114.319 108.141 114.321 108.16C114.384 110.116 114.446 112.049 114.51 114.007C114.51 114.026 114.526 114.042 114.545 114.042H120.952C120.977 114.042 120.996 114.021 120.996 113.998V108.082C120.996 108.054 120.974 108.032 120.946 108.032Z",fill:"black"}),n.createElement("path",{d:"M117.683 112.39C117.071 112.373 116.501 112.219 116.016 111.83C115.935 111.765 115.826 111.613 115.852 111.563C115.929 111.42 116.057 111.56 116.151 111.608C117.205 112.155 118.252 112.161 119.295 111.585C119.361 111.548 119.432 111.519 119.504 111.499C119.535 111.492 119.577 111.488 119.607 111.536C119.628 111.567 119.616 111.617 119.599 111.645C119.568 111.692 119.522 111.734 119.476 111.769C118.953 112.188 118.358 112.403 117.683 112.39Z",fill:"black"}),n.createElement("path",{d:"M117.349 109.66C117.133 110.082 116.915 110.502 116.696 110.922C116.68 110.953 116.576 111.096 116.462 111.038C116.421 111.018 116.384 110.978 116.384 110.884C116.384 110.836 116.405 110.78 116.427 110.735C116.627 110.338 116.829 109.942 117.034 109.548C117.063 109.492 117.102 109.433 117.152 109.398C117.193 109.369 117.267 109.354 117.311 109.37C117.469 109.426 117.373 109.615 117.349 109.66Z",fill:"black"}),n.createElement("path",{d:"M119.47 109.498C119.606 109.477 119.652 109.594 119.618 109.695C119.59 109.784 119.551 109.871 119.507 109.952C119.342 110.248 119.174 110.543 119.003 110.835C118.953 110.922 118.885 111.016 118.766 110.959C118.632 110.894 118.682 110.776 118.73 110.686C118.915 110.341 119.103 109.998 119.299 109.659C119.339 109.589 119.401 109.498 119.47 109.498Z",fill:"black"})),n.createElement("path",{d:"M66.4764 69.1441C66.5074 69.1087 66.5118 69.0557 66.4853 69.0159C66.2111 68.6622 65.9414 68.3306 65.6894 67.9857C65.4064 67.5966 65.4816 67.2959 65.9459 67.2031C67.2679 66.9334 68.5899 66.646 69.9296 66.4912C70.8138 66.394 70.9819 66.4205 70.8802 67.464C70.7608 68.6975 70.6105 69.6924 70.4336 70.9171C70.1727 72.7033 70.1064 72.92 69.7704 72.7431C69.6908 72.6989 69.4653 72.5795 69.3017 72.4381C69.1072 72.27 68.8728 72.1064 68.7623 71.9871C68.0902 72.973 67.5597 73.5478 66.7771 74.2729C65.4241 75.8028 62.873 76.0327 60.9187 74.3393C60.2953 73.7999 59.694 73.2383 59.0838 72.6857C58.1067 71.8014 56.9704 71.6289 55.7987 72.1418C54.9675 72.5044 54.2026 73.0261 53.4332 73.5125C52.0626 74.3791 50.6168 74.8787 48.9809 74.5161C48.6271 74.4365 48.2823 74.2818 47.9507 74.1226C47.4466 73.8794 47.2123 73.4727 47.2079 72.8935C47.2034 71.6289 47.1239 70.36 47.146 69.0955C47.1636 68.1449 47.3847 67.9945 48.3265 68.1625C50.1967 68.4897 51.9565 68.136 53.6631 67.3623C54.8039 66.845 55.9844 66.478 57.2445 66.3365C59.0175 66.2039 61.1486 66.8715 62.5856 68.4499C63.178 69.0999 63.9651 69.5553 64.8361 69.6879C65.4595 69.7719 65.8972 69.7321 66.4764 69.1441ZM66.4013 67.8265C66.64 68.1714 66.9009 68.4853 67.0777 68.839C67.1706 69.0291 67.3209 69.206 67.1131 69.5155C66.5737 70.3114 65.3888 70.8552 64.4381 70.5545C63.912 70.3909 63.4035 70.1124 62.9525 69.794C62.1876 69.2635 61.5112 68.6003 60.7286 68.1095C60.1626 67.7513 59.5038 67.4816 58.8495 67.3446C57.4832 67.0572 56.148 67.3578 54.879 67.8751C52.6993 68.7683 50.5283 69.6437 47.986 68.9142C47.986 70.1124 47.9949 71.2399 47.9816 72.3629C47.9728 73.3666 47.8357 73.2472 48.8349 73.5611C48.9853 73.6097 49.14 73.6495 49.2948 73.6716C50.6831 73.8794 51.8813 73.4019 53.022 72.6635C53.756 72.186 54.4899 71.682 55.2814 71.315C56.9969 70.5192 58.5134 70.8685 59.8443 72.2037C60.4146 72.7741 61.0292 73.3091 61.6836 73.7822C62.8022 74.5913 64.0225 75.1617 65.5037 74.3304C66.7284 73.5169 67.6304 72.6812 68.2317 71.3504C68.4837 70.7933 68.5368 70.8198 68.9613 71.2708C69.0983 71.4167 69.0983 71.4167 69.3592 71.6643C69.5537 71.9031 69.5626 71.6687 69.5758 71.483C69.7925 70.0151 69.9517 68.6489 70.1772 67.1235C68.8773 67.3623 67.6702 67.5878 66.4013 67.8265Z",fill:"black"}),n.createElement("rect",{x:"27.1929",y:"23.2581",width:"69.0706",height:"15.0489",rx:"2.12228",fill:"#E4CCFF",stroke:"black",strokeWidth:"0.38587",className:t6()(nX,n0)}),n.createElement("rect",{x:"33.561",y:"29.2361",width:"21.6087",height:"4.63043",fill:"black",fillOpacity:"0.2",className:t6()(nX,n0)}),n.createElement("g",{clipPath:"url(#clip2_351_42930)",className:t6()(nX,n0)},n.createElement("path",{d:"M83.8767 30.6015C83.9224 29.4063 84.425 28.2258 85.6055 27.4048C85.8988 27.2015 86.2466 27.0688 86.5841 26.9406C88.4322 26.2391 90.6842 27.508 91.1691 29.8013C91.514 31.4313 91.1102 32.8682 89.8265 33.9662C88.0785 35.4621 85.4817 34.9124 84.3881 32.855C84.0506 32.2153 83.8797 31.5344 83.8767 30.6015ZM87.4345 34.3214C88.1817 34.3229 88.7919 34.1298 89.2797 33.7894C91.2001 32.4467 91.3519 29.4225 89.5759 27.8897C88.7668 27.1911 87.8265 27.0084 86.8111 27.2339C86.4957 27.3046 86.1906 27.4874 85.9209 27.6775C84.3247 28.805 83.9062 31.135 84.9968 32.8196C85.6025 33.7569 86.4588 34.2875 87.4345 34.3214Z",fill:"black"}),n.createElement("path",{d:"M86.9275 33.1983C86.9039 33.2381 86.8744 33.2779 86.8523 33.3133C86.7963 33.4032 86.7683 33.4356 86.6622 33.3987C86.5826 33.3531 86.5988 33.2528 86.6194 33.1983C86.6754 33.045 86.7491 32.8976 86.8346 32.7576C86.8685 32.7016 86.9348 32.6014 87.0041 32.6338C87.0572 32.6663 87.097 32.6854 87.0513 32.8402C87.0424 32.8696 87.0321 32.905 87.0174 32.9522C87.3829 33.1364 87.7572 33.157 88.1434 33.0642C88.7049 32.9286 89.2192 32.5056 89.5155 31.9854C89.6393 31.7672 89.6909 31.558 89.7586 31.2941C89.7734 31.2396 89.8132 31.1482 89.7881 31.132C89.7542 31.1114 89.713 31.0849 89.6643 31.0642C89.57 31.0259 89.5788 30.9552 89.598 30.9095C89.6304 30.8299 89.6923 30.8211 89.7306 30.8314C89.9502 30.8874 90.1669 30.9581 90.3806 31.0318C90.4101 31.0421 90.4499 31.0745 90.4351 31.1453C90.4189 31.219 90.3703 31.2322 90.3275 31.2396C90.2612 31.2514 90.189 31.2337 90.1006 31.2263C90.0726 31.3457 90.0475 31.471 90.0121 31.5919C89.7424 32.5321 89.1632 33.1688 88.1979 33.4164C87.8103 33.5152 87.4168 33.44 86.9275 33.1983Z",fill:"black"}),n.createElement("path",{d:"M88.892 29.5476C88.892 29.4312 88.8744 29.3089 88.8994 29.1984C88.9156 29.1276 88.9525 29.02 89.0497 29.0215C89.1441 29.023 89.2148 29.0922 89.2369 29.1541C89.3784 29.5565 89.4359 29.9736 89.3784 30.3966C89.374 30.51 89.2634 30.5778 89.2133 30.5778C89.1234 30.5778 89.0335 30.5174 89.0085 30.4128C88.9407 30.1298 88.8788 29.5491 88.892 29.5476Z",fill:"black"}),n.createElement("path",{d:"M85.772 29.5404C85.7793 29.4697 85.8235 29.3459 85.9296 29.3252C86.0417 29.2957 86.0815 29.4299 86.0947 29.4888C86.1581 29.7718 86.1419 29.7187 86.1743 30.1152C86.1772 30.1432 86.1876 30.6163 86.1758 30.7445C86.164 30.8801 86.0903 30.9479 86.024 30.9508C85.8987 30.9582 85.8589 30.8742 85.8309 30.7754C85.7439 30.4748 85.7027 30.1697 85.772 29.5404Z",fill:"black"})),n.createElement("rect",{x:"106.08",y:"83.0787",width:"62.5109",height:"15.0489",rx:"2.12228",fill:"#AFF4C6",stroke:"black",strokeWidth:"0.38587",className:t6()(nX,n1)}),n.createElement("rect",{x:"112.062",y:"88.2883",width:"22.7663",height:"4.63043",fill:"black",fillOpacity:"0.2",className:t6()(nX,n1)}),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_351_42930"},n.createElement("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(155.496 26.5366)"})),n.createElement("clipPath",{id:"clip1_351_42930"},n.createElement("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(113.435 106.797)"})),n.createElement("clipPath",{id:"clip2_351_42930"},n.createElement("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(83.3374 26.5366)"}))))}function n6(e){return n.createElement("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t6()(nZ,{[nY]:e.hovered})},n.createElement("rect",{x:"27.172",y:"7.98674",width:"141.765",height:"41.2909",fill:"#E4CCFF"}),n.createElement("g",{filter:"url(#filter0_d_351_120552)"},n.createElement("rect",{x:"63.4768",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"63.6489",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"67.6057",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"67.6057",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("g",{filter:"url(#filter1_d_351_120552)"},n.createElement("rect",{x:"98.2268",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"98.3989",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"102.355",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"102.355",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("g",{filter:"url(#filter2_d_351_120552)"},n.createElement("rect",{x:"132.977",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"133.149",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"137.109",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"137.109",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"27.172",y:"7.98674",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),n.createElement("rect",{x:"27.172",y:"55.1305",width:"141.765",height:"41.2909",fill:"#BDE3FF"}),n.createElement("g",{filter:"url(#filter3_d_351_120552)"},n.createElement("rect",{x:"32.5081",y:"60.4646",width:"26.8391",height:"30.6241",fill:"white"}),n.createElement("rect",{x:"32.6801",y:"60.6366",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"35.4333",y:"63.0461",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091"}),n.createElement("g",{filter:"url(#filter4_d_351_120552)"},n.createElement("rect",{x:"63.4768",y:"60.4646",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"63.6489",y:"60.6366",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"67.6057",y:"64.5955",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"67.6057",y:"70.4438",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("g",{filter:"url(#filter5_d_351_120552)"},n.createElement("rect",{x:"98.2268",y:"60.4646",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"98.3989",y:"60.6366",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"102.355",y:"64.5955",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"102.355",y:"70.4438",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("g",{clipPath:"url(#clip0_351_120552)"},n.createElement("path",{d:"M52.4628 72.139C52.4653 75.5713 50.0667 78.5645 46.8075 79.1817C46.4186 79.2545 45.9344 79.3649 45.4652 79.3423C43.9397 79.2746 42.7856 78.9007 41.6465 77.9398C40.0834 76.6175 39.3433 74.8813 39.3884 72.8616C39.4461 70.2497 40.5727 68.1497 42.8057 66.7597C44.8831 65.4651 47.0785 65.3396 49.2663 66.5113C51.2635 67.5801 52.4603 69.7429 52.4628 72.139ZM51.8631 72.2494C51.8631 72.1992 51.8606 72.149 51.8556 72.0988C51.8105 71.7074 51.7804 71.3135 51.7101 70.9297C51.1732 67.9741 48.4785 65.9945 45.558 66.3959C41.215 66.993 38.6809 72.1214 40.816 75.9527C41.9451 77.9774 44.5018 79.0864 46.4563 78.705C49.5423 78.1029 51.7879 75.3906 51.8631 72.2494Z",fill:"black"}),n.createElement("path",{d:"M42.6576 74.7006C44.424 75.9777 47.5 76.2537 49.0179 74.3719C49.038 74.3468 49.0581 74.3268 49.0506 74.3217C48.9778 74.1812 48.7495 74.0081 48.9276 73.8551C49.1108 73.697 49.2563 73.8952 49.3767 74.0156C49.5524 74.1913 49.7305 74.3694 49.876 74.5701C49.9362 74.6554 50.0767 74.7934 49.9362 74.9139C49.8158 75.0318 49.7054 74.9716 49.5624 74.8637C49.5047 74.821 49.442 74.7658 49.4018 74.7332C49.2061 74.9139 49.033 75.0895 48.8448 75.2501C47.7384 76.196 46.4387 76.4067 45.0512 76.1884C44.0827 76.0354 43.1895 75.6741 42.4092 75.0594C42.3867 75.0418 42.3089 74.959 42.2738 74.9565C42.2035 74.9515 42.1859 74.9992 42.0931 75.0318C42.0279 75.0544 41.9902 75.1221 41.8598 74.9841C41.7519 74.8737 41.8272 74.7583 41.8773 74.7182C42.1408 74.5074 42.4193 74.3142 42.7053 74.1336C42.758 74.101 42.8784 74.0734 42.9386 74.1787C43.0039 74.2916 42.9437 74.3518 42.9035 74.4146C42.8433 74.5074 42.7505 74.5827 42.6551 74.6755C42.6526 74.6855 42.6526 74.6956 42.6576 74.7006Z",fill:"black"}),n.createElement("path",{d:"M49.5523 72.5779C49.5824 72.5804 49.6151 72.5729 49.6427 72.5603C49.8384 72.4575 49.8308 72.1639 49.8308 71.9858C49.8283 71.6094 49.7832 71.2958 49.7807 70.9345C49.7807 70.7865 49.7731 70.6284 49.8133 70.4904C49.8384 70.4051 49.9488 70.2972 50.0265 70.2922C50.1043 70.2872 50.2247 70.3223 50.2624 70.4603C50.4054 71.0549 50.4104 71.8403 50.3025 72.3496C50.2122 72.7786 49.8308 72.9894 49.5047 72.9919C49.1509 72.9944 48.762 72.7385 48.6566 72.3044C48.5437 71.8377 48.5362 71.3435 48.486 70.8617C48.4835 70.8341 48.4835 70.7438 48.486 70.7162C48.5061 70.5481 48.5663 70.4528 48.7821 70.4653C48.9401 70.4703 48.9853 70.6962 49.0154 70.8266C49.0681 71.0574 49.0505 71.3033 49.0907 71.5392C49.1534 71.898 49.191 72.5528 49.5523 72.5779Z",fill:"black"}),n.createElement("path",{d:"M42.7832 70.9848C42.7983 70.8819 42.7807 70.7339 42.989 70.7013C43.1721 70.6737 43.2549 70.8593 43.2625 70.9471C43.3051 71.4414 43.3528 71.9407 43.3126 72.4325C43.275 72.8891 42.866 73.273 42.4972 73.3181C42.0732 73.3708 41.604 73.1124 41.4635 72.6257C41.333 72.1765 41.2778 71.6396 41.2804 71.2206C41.2804 71.1504 41.3029 71.0174 41.4309 70.9973C41.594 70.9622 41.6316 71.1077 41.6542 71.1855C41.7495 71.4991 41.7972 71.8253 41.8951 72.1389C41.9528 72.3246 42.0456 72.5128 42.1685 72.6583C42.3693 72.8941 42.6327 72.849 42.713 72.5529C42.7908 72.2619 42.7506 71.198 42.7832 70.9848Z",fill:"black"})),n.createElement("path",{d:"M97.2147 88.2858L97.2147 88.2858L95.4155 90.1223L95.8404 92.7175C95.8404 92.7175 95.8404 92.7175 95.8404 92.7175C95.9069 93.1235 95.4922 93.4743 95.107 93.2618L92.891 92.0416L90.675 93.2618L90.6749 93.2619L97.2147 88.2858ZM97.2147 88.2858C97.5016 87.9928 97.3551 87.4674 96.9341 87.4033L97.2147 88.2858ZM90.3664 90.1223L89.9415 92.7175L92.4384 84.6696L92.4383 84.6698C92.4383 84.6698 92.4383 84.6698 92.4382 84.6699L91.3279 87.0259L88.8479 87.4033C88.8479 87.4033 88.8479 87.4033 88.8479 87.4033C88.4269 87.4674 88.2803 87.9928 88.5673 88.2858L88.5673 88.2858L90.3664 90.1223Z",fill:"#FFC700",stroke:"black",strokeWidth:"0.344091"}),n.createElement("rect",{x:"27.172",y:"55.1305",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),n.createElement("rect",{x:"27.172",y:"103.172",width:"141.765",height:"41.2909",fill:"#93E396"}),n.createElement("g",{filter:"url(#filter6_d_351_120552)"},n.createElement("rect",{x:"32.5081",y:"108.506",width:"26.8391",height:"30.6241",fill:"white"}),n.createElement("rect",{x:"32.6801",y:"108.678",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"35.4333",y:"111.088",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091"}),n.createElement("g",{clipPath:"url(#clip1_351_120552)"},n.createElement("path",{d:"M45.5755 113.495C47.3906 113.521 48.8594 114.261 50.2344 115.453C53.0677 117.912 53.2735 123.865 48.8125 126.552C45.7344 128.406 41.6458 127.526 39.6719 124.149C37.4896 120.417 39.2214 115.445 43.2344 113.925C43.987 113.638 44.7656 113.487 45.5755 113.495ZM51.6276 119.922C51.6693 118.594 51 117.055 49.8333 115.844C48.3386 114.294 46.4115 113.763 44.2891 114.255C40.3828 115.156 38.263 119.57 39.9349 123.261C41.1172 125.87 43.8958 127.331 46.5521 126.74C49.5443 126.073 51.6406 123.435 51.6276 119.922Z",fill:"black"}),n.createElement("path",{d:"M50.0078 122C49.2031 124.023 47.7682 125.206 45.5989 125.232C43.7396 125.253 42.3724 124.333 41.5417 122.617C41.4896 122.641 41.4271 122.672 41.3672 122.693C41.2812 122.724 41.2318 122.745 41.1536 122.646C41.1172 122.599 41.0599 122.516 41.1667 122.43C41.4297 122.213 41.7135 122.026 42 121.846C42.0443 121.818 42.1484 121.815 42.2083 121.906C42.2734 122.008 42.2318 122.073 42.1927 122.125C42.1198 122.221 42.0156 122.294 41.9114 122.385C42.9062 123.909 44.2318 124.825 46.1276 124.635C47.7995 124.469 49.0443 123.229 49.5 121.768C49.5208 121.703 49.4479 121.656 49.3776 121.57C49.2604 121.432 49.1797 121.409 49.3125 121.187C49.4088 121.049 49.5573 121.13 49.6432 121.174C49.9167 121.318 50.1875 121.476 50.4271 121.669C50.5208 121.745 50.6927 121.857 50.5807 122.057C50.4766 122.26 50.3333 122.128 50.1641 122.078C50.1172 122.057 50.0703 122.029 50.0078 122Z",fill:"black"}),n.createElement("path",{d:"M42.5313 117.878C42.6797 117.638 42.8412 117.448 43.1354 117.508C43.4167 117.565 43.5313 117.81 43.5339 118.036C43.5417 118.484 43.5339 118.945 43.4349 119.38C43.3334 119.828 43.125 120.255 42.9401 120.68C42.8099 120.979 42.6042 121.039 42.3802 120.82C41.6615 120.112 41.2266 119.263 41.2735 118.226C41.2865 117.932 41.4453 117.69 41.7396 117.591C42.0573 117.484 42.3021 117.63 42.5313 117.878ZM43.1094 117.927C43.1094 117.927 43.0521 117.844 42.9558 117.872C42.8828 117.867 42.8021 118.177 42.7552 118.341C42.711 118.495 42.7188 118.607 42.6094 118.625C42.4349 118.641 42.4479 118.492 42.375 118.419C42.3412 118.383 42.1771 117.919 41.9427 118.005C41.7917 118.06 41.7839 118.281 41.7917 118.414C41.8282 119.088 42.1354 119.667 42.5 120.286C42.8334 119.487 43.3308 118.414 43.1094 117.927Z",fill:"black"}),n.createElement("path",{d:"M48.4791 117.661C48.6692 117.555 48.8489 117.463 49.026 117.5C49.289 117.555 49.3411 117.831 49.3645 118.07C49.44 118.833 49.1093 119.479 48.7525 120.115C48.6718 120.258 48.5572 120.383 48.4817 120.531C48.2656 120.953 47.8932 120.875 47.6874 120.513C47.2578 119.75 47.013 118.911 47.0911 118.018C47.1197 117.677 47.2473 117.352 47.6249 117.263C48.0052 117.169 48.3359 117.409 48.4791 117.661ZM48.0104 120.148C48.0494 120.333 48.0885 120.19 48.1249 120.154C48.3854 119.763 48.6484 119.372 48.802 118.943C48.9218 118.607 49.2369 117.755 48.9062 117.841C48.8255 117.846 48.7421 118.094 48.6718 118.219C48.6145 118.318 48.4973 118.476 48.4479 118.484C48.2578 118.49 48.2812 118.318 48.2447 118.219C48.1588 117.995 48.1666 117.643 47.8463 117.685C47.5286 117.726 47.565 118.078 47.6067 118.307C47.7161 118.924 47.8723 119.536 48.0104 120.148Z",fill:"black"})),n.createElement("g",{filter:"url(#filter7_d_351_120552)"},n.createElement("rect",{x:"63.4768",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"63.6489",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"67.6057",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"67.6057",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("g",{filter:"url(#filter8_d_351_120552)"},n.createElement("rect",{x:"98.2268",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"98.3989",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"102.355",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"102.355",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("g",{filter:"url(#filter9_d_351_120552)"},n.createElement("rect",{x:"134",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"134.172",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"138.129",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"138.129",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"27.172",y:"103.172",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),n.createElement("path",{d:"M163.058 5.32444L163.144 5.46819L163.29 5.38648L163.93 5.02854C164.401 4.76472 164.965 4.6956 165.497 4.83787C166.028 4.98013 166.482 5.32166 166.759 5.78594C167.036 6.25002 167.113 6.7986 166.976 7.31116C166.839 7.82371 166.498 8.26021 166.026 8.52392L166.026 8.52399L165.449 8.84723L165.449 8.84732L161.674 10.9565L159.121 6.67356C158.844 6.20954 158.767 5.66108 158.904 5.1487C159.041 4.63631 159.382 4.20002 159.854 3.93649C160.326 3.67286 160.889 3.60389 161.421 3.74625C161.952 3.8886 162.406 4.23014 162.682 4.69436L163.058 5.32444Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.344091"}),n.createElement("g",{clipPath:"url(#clip2_351_120552)"},n.createElement("path",{d:"M50.4871 107.641C48.8069 109.488 47.7973 109.61 46.2305 108.164C44.1148 111.157 42.1849 111.774 39.8514 110.153C39.3857 111.079 38.7655 112.239 37.5921 112.305C36.4645 112.372 35.5675 111.561 35.5655 111.477C35.4727 112.106 34.6737 113.559 33.4639 113.686C32.2099 113.819 31.2714 113.252 30.5935 112.255C29.723 110.962 29.5512 109.451 29.3703 107.956C29.191 106.467 29.0468 104.962 28.982 103.463C28.9502 102.678 29.0635 101.875 29.1937 101.087C29.2925 100.431 29.6597 99.9338 30.3896 99.8121C31.1194 99.6905 31.6381 100.065 31.9285 100.641C32.3488 101.47 32.6502 102.369 32.9353 103.077C33.2923 102.692 33.636 101.824 34.3226 101.609C35.0214 101.392 35.4604 101.455 36.3429 102.413C36.466 102.004 36.5602 101.635 36.6897 101.277C36.8358 100.882 36.9849 100.473 37.1984 100.113C37.8619 99.0194 38.6917 99.0087 39.483 100.068C41.3417 97.8755 42.7542 97.6508 45.017 99.1989C45.1976 98.6844 45.3353 98.1548 45.5664 97.6599C45.9532 96.8325 46.466 96.1419 47.5332 96.2202C48.4276 96.284 49.1693 96.9204 49.4516 97.9734C49.6358 98.6678 49.71 99.3903 49.8425 100.137C50.3717 99.6633 50.906 99.2599 51.6015 99.843C51.9154 98.8326 52.1853 97.879 52.518 96.9418C52.6775 96.4977 52.9121 96.067 53.1866 95.691C53.8238 94.8256 54.8328 94.8797 55.2722 95.86C55.5988 96.6025 55.8035 97.4282 55.8874 98.2393C56.1186 100.567 56.1084 102.892 55.4407 105.164C55.1061 106.296 54.4433 107.24 53.5059 107.974C52.1712 109.011 51.4815 108.934 50.4871 107.641ZM39.1546 101.785C39.0891 101.528 38.9628 100.247 38.431 100.253C38.0747 100.207 37.9209 100.878 37.8281 101.226C37.5065 102.512 37.3242 103.834 36.9597 105.104C36.8457 105.497 36.6329 105.708 36.3764 105.748C36.1323 105.836 36.0697 105.286 36.0118 105.034C35.8691 104.375 35.8318 103.695 35.6418 103.054C35.5686 102.793 35.455 102.425 34.9767 102.437C34.7887 102.44 34.5019 102.539 34.3083 102.901C34.0965 103.293 33.9031 103.707 33.7862 104.14C33.5734 104.91 33.4662 105.712 33.2259 106.475C33.1403 106.751 33.0228 107.08 32.747 107.222C32.492 107.268 32.2728 107.149 32.1872 106.305C32.1341 105.818 32.0887 105.335 32.0157 104.847C31.8459 103.7 31.6608 102.544 31.3612 101.424C31.2831 101.119 31.078 100.495 30.4631 100.684C29.8482 100.874 29.9096 101.47 29.9595 101.945C29.9644 101.989 29.9784 102.044 29.9848 102.095C30.134 103.39 30.2893 104.683 30.4324 105.98C30.6126 107.625 30.698 109.282 30.9957 110.903C31.2384 112.233 32.1254 112.904 33.1276 112.829C34.0977 112.757 34.5588 112.118 34.7112 110.629C34.7807 109.935 34.8013 109.227 34.9106 108.536C34.9416 108.326 35.0266 107.947 35.3415 107.957C35.6613 108.012 35.7028 108.352 35.753 108.574C35.8707 109.136 35.8113 109.743 36.0098 110.264C36.1478 110.626 36.541 110.993 36.9117 111.146C37.3912 111.342 37.9451 111.194 38.2282 110.698C38.5189 110.182 38.8062 109.627 38.9192 109.052C39.3781 106.599 39.4945 104.13 39.1546 101.785ZM50.8522 100.321C50.6149 100.258 50.3557 100.923 50.2715 101.178C50.0578 101.792 49.9284 102.43 49.7147 103.044C49.647 103.237 49.5064 103.527 49.2543 103.533C48.9942 103.482 48.9645 103.366 48.8893 103.021C48.8485 102.837 48.8275 102.628 48.8218 102.427C48.7926 101.55 48.8153 100.673 48.7357 99.8021C48.6756 99.1606 48.5757 98.4902 48.3279 97.9031C48.1793 97.5509 47.7245 97.1208 47.3882 97.1028C47.0656 97.0877 46.6017 97.4861 46.4018 97.8234C46.0823 98.38 45.9086 99.0228 45.7102 99.6459C45.6547 99.8358 45.6715 100.105 45.7672 100.275C46.8416 102.238 46.9952 104.339 46.6722 106.483C46.563 107.2 46.9941 107.487 47.413 107.803C47.8581 108.144 48.4053 108.147 48.8005 107.76C49.2155 107.348 49.5459 106.834 49.8595 106.331C50.0246 106.061 50.0502 105.703 50.206 105.423C50.2847 105.273 50.5023 105.107 50.6476 105.115C50.7592 105.119 50.9256 105.362 50.9616 105.529C51.0227 105.793 50.986 106.082 51.0211 106.346C51.1198 107.062 51.2231 107.517 51.6431 107.735C51.8624 107.881 52.5903 107.395 52.9417 107.091C54.0901 106.088 54.7064 104.76 54.7639 103.255C54.8461 101.237 54.8412 99.2094 54.7797 97.1893C54.7667 96.7568 54.7833 95.881 54.1461 95.9074C53.7619 95.8041 53.4068 96.5518 53.3005 96.9498C52.8868 98.4345 52.594 99.9599 52.2232 101.46C52.1499 101.758 52.0432 102.358 51.7501 102.433C51.4493 102.477 51.3007 102.405 51.1703 101.488C51.1212 101.169 51.1439 100.292 50.8522 100.321ZM45.4285 102.079C45.2305 101.635 45.0085 100.996 44.6721 100.419C43.5398 98.484 41.2245 98.5104 40.1057 100.468C39.9544 100.741 39.8878 101.142 39.9537 101.45C40.4517 103.651 40.4271 105.869 40.2406 108.089C40.1474 109.225 40.646 109.852 41.8126 109.938C43.2636 110.041 44.5426 109.168 45.2218 107.602C45.9719 105.856 45.931 103.407 45.4285 102.079Z",fill:"black"}),n.createElement("path",{d:"M59.6396 92.9477C59.6565 93.5223 59.7124 95.0885 59.7076 96.163C59.6942 97.6363 59.661 99.1083 59.5957 100.582C59.5728 101.154 59.472 101.726 59.3543 102.283C59.2411 102.806 58.8621 103.105 58.3303 103.111C57.7603 103.12 57.3065 102.872 57.0987 102.313C57.001 102.059 56.917 101.781 56.9124 101.509C56.9306 98.9612 57.0382 96.5596 57.0869 94.004C57.0898 93.6845 57.1071 93.2183 57.1818 92.9C57.328 92.2512 57.6344 91.8216 58.4066 91.8907C59.0794 91.9528 59.6227 92.3732 59.6396 92.9477ZM58.2221 102.332C58.2955 102.339 58.3705 102.352 58.4373 102.283C58.5789 102.175 58.5611 102.004 58.5634 101.861C58.6363 98.9672 58.7107 96.0798 58.7514 93.1879C58.7564 92.9785 58.7327 92.5553 58.3965 92.5632C57.9562 92.5458 58.0021 93.3861 57.9966 93.7713C57.9589 96.3956 57.9427 99.0275 57.9433 101.649C57.9446 101.882 57.9833 102.263 58.2221 102.332Z",fill:"black"}),n.createElement("path",{d:"M59.9054 105.251C60.1529 106.345 59.539 107.276 58.6658 107.474C57.8782 107.649 57.0496 107.055 56.8431 106.171C56.6145 105.176 57.0259 104.394 57.9922 104.179C58.8348 103.99 59.7065 104.372 59.9054 105.251ZM57.6513 105.847C57.8325 106.555 58.3501 106.468 58.4661 106.438C58.8092 106.305 59.0463 106.062 58.7828 105.388C58.71 105.205 58.5347 105.003 58.249 105.031C57.696 105.081 57.5609 105.519 57.6513 105.847Z",fill:"black"}),n.createElement("path",{d:"M42.9659 102.547C42.9771 102.921 43.0739 105.537 43.0732 107.085C43.0759 107.299 42.9866 107.738 42.5969 107.74C42.2333 107.768 42.0919 107.343 42.0754 107.126C41.9862 105.607 41.9396 104.078 41.9404 102.555C41.9392 102.322 42.0882 101.913 42.4165 101.848C42.8885 101.812 42.9547 102.172 42.9659 102.547Z",fill:"black"})),n.createElement("g",{filter:"url(#filter10_d_351_120552)",className:t6()(nX,n$)},n.createElement("rect",{x:"132.649",y:"60.1077",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"132.821",y:"60.2797",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"136.782",y:"64.2385",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2",className:t6()(nX,n$)}),n.createElement("rect",{x:"136.782",y:"70.0869",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2",className:t6()(nX,n$)}),n.createElement("g",{filter:"url(#filter11_d_351_120552)",className:t6()(nX,nQ)},n.createElement("rect",{x:"32.7107",y:"12.5178",width:"26.8391",height:"30.6241",fill:"white"}),n.createElement("rect",{x:"32.8827",y:"12.6899",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"35.6359",y:"15.0993",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091",className:t6()(nX,nQ)}),n.createElement("path",{className:t6()(nX,nQ),d:"M40.2485 22.3512C41.0198 21.4451 41.8657 20.5791 42.8005 19.8422C43.4514 19.3289 43.6751 19.3031 44.0335 19.2056C44.131 19.1798 44.217 19.1196 44.3002 19.0594C47.7898 16.5963 52.2372 18.3425 53.0974 22.6896C53.668 25.5742 52.1971 28.4387 49.668 29.6086C49.6278 29.6287 49.5676 29.6345 49.5476 29.666C49.0458 30.4517 48.025 30.7556 47.4027 30.9105C47.2766 30.9563 47.1791 31.0882 47.0644 31.1743C46.9755 31.2402 46.8866 31.3119 46.7862 31.3578C43.4973 32.8832 39.9618 30.8416 39.1876 27.4638C39.0786 26.9878 38.5997 24.1147 40.2485 22.3512ZM47.0988 29.4251C48.2716 29.4194 49.0372 29.2273 49.7225 28.8516C53.02 27.0423 53.5132 22.1275 50.6114 19.7275C48.9483 18.354 46.8206 18.1217 44.9511 19.4379C42.7288 21.0006 41.9231 24.2036 43.1675 26.6237C44.0622 28.3642 45.4816 29.3248 47.0988 29.4251ZM48.2199 30.1678C48.3633 30.1162 48.3834 30.0789 48.3604 30.0617C48.3604 30.0617 48.3002 30.0617 48.1999 30.0646C45.6192 30.2596 43.6779 29.233 42.5281 26.919C41.4041 24.6595 41.6765 22.4401 43.0041 20.3153C42.898 20.3669 42.812 20.43 42.7346 20.5017C40.9453 22.1218 40.4177 24.8659 41.45 27.2115C42.4019 29.3764 44.4005 30.661 46.6486 30.5004C47.1762 30.4631 47.6952 30.2825 48.2199 30.1678ZM40.6413 22.7297C40.6442 22.6465 40.5668 22.7498 40.5553 22.7641C40.5152 22.8186 40.475 22.8759 40.4406 22.9333C39.9675 23.7304 39.6722 24.5935 39.632 25.5197C39.5374 27.6301 40.2772 29.3793 42.0636 30.5721C43.2507 31.3664 44.5697 31.5298 45.9489 31.0997C43.9331 30.8961 42.3618 29.9613 41.3009 28.2352C40.2399 26.5147 40.0707 24.6681 40.6413 22.7297Z",fill:"black"}),n.createElement("path",{className:t6()(nX,nQ),d:"M49.2781 24.5675C49.6738 24.5819 49.8028 24.7883 49.6738 25.1611C49.3526 26.0787 48.4494 26.526 47.529 26.2048C46.9841 26.0127 46.5569 25.6629 46.2616 25.164C46.035 24.7797 46.1354 24.5589 46.5798 24.5303C47.0444 24.4987 48.8451 24.5503 49.2781 24.5675ZM49.1892 25.0149C48.3978 25.0149 47.6265 25.0149 46.8465 25.0149C47.6379 25.9353 48.8078 25.9525 49.1892 25.0149Z",fill:"black"}),n.createElement("path",{className:t6()(nX,nQ),d:"M46.0523 22.9417C46.0552 23.389 45.625 23.7962 45.1548 23.7933C44.7447 23.7905 44.458 23.4206 44.4551 23.0277C44.4494 22.6349 44.8508 22.2478 45.2924 22.2363C45.7168 22.222 46.0523 22.5317 46.0523 22.9417ZM45.1921 22.6578C44.9799 22.6922 44.9139 22.893 44.9311 23.0449C44.9541 23.2657 45.1204 23.3202 45.2236 23.3231C45.3211 23.3259 45.5132 23.2284 45.5534 23.0392C45.605 22.8471 45.496 22.5861 45.1921 22.6578Z",fill:"black"}),n.createElement("path",{className:t6()(nX,nQ),d:"M51.5318 23.0622C51.5261 23.4952 51.2193 23.8135 50.8092 23.8106C50.3676 23.8077 50.0494 23.4493 50.0637 22.9704C50.0752 22.5547 50.3848 22.2335 50.7691 22.2421C51.1677 22.2536 51.5376 22.6493 51.5318 23.0622ZM51.1361 23.0507C51.1361 22.8299 51.0185 22.6808 50.835 22.6808C50.7232 22.6808 50.534 22.7669 50.534 23.002C50.534 23.412 50.835 23.3891 50.835 23.3891C50.9956 23.3833 51.1361 23.3174 51.1361 23.0507Z",fill:"black"}),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_351_120552",x:"63.4768",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter1_d_351_120552",x:"98.2268",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter2_d_351_120552",x:"132.977",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter3_d_351_120552",x:"32.5081",y:"60.4646",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter4_d_351_120552",x:"63.4768",y:"60.4646",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter5_d_351_120552",x:"98.2268",y:"60.4646",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter6_d_351_120552",x:"32.5081",y:"108.506",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter7_d_351_120552",x:"63.4768",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter8_d_351_120552",x:"98.2268",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter9_d_351_120552",x:"134",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter10_d_351_120552",x:"132.649",y:"60.1077",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter11_d_351_120552",x:"32.7107",y:"12.5178",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("clipPath",{id:"clip0_351_120552"},n.createElement("rect",{width:"14.4518",height:"14.4518",fill:"white",transform:"translate(38.6985 65.2793)"})),n.createElement("clipPath",{id:"clip1_351_120552"},n.createElement("rect",{width:"15",height:"15",fill:"white",transform:"translate(38 113)"})),n.createElement("clipPath",{id:"clip2_351_120552"},n.createElement("rect",{width:"36.296",height:"36.296",fill:"white",transform:"translate(23 89.9951) rotate(-14.3491)"}))))}var n7=a(794321),n8=a(537240);let n9="browse_templates_make_something_onboarding--faded--UuXrP";var re=a(764350),rt=a(325570),ra=a(518577),rn=a(13303),rr=a(663364);let rl="loadingMakeSomethingTemplate",ri=e=>{let t=(0,v.Xr)(nT.w),{name:a}=(0,d.j6)(),r=(0,s.wA)(),[l,i]=(0,n.useState)(n7.fD.NONE),o=(0,n.useCallback)(e=>{r(nx.Ji({isActive:e}))},[r]);(0,n.useEffect)(()=>(o(!0),()=>{o(!1)}),[o]);let u=(0,nL.g)();(0,n.useEffect)(()=>(u&&h.gw5?.setFigjamStarterKitEnabled(!0),()=>{h.gw5?.setFigjamStarterKitEnabled(!1)}),[u]);let m=(0,v.Xr)(nz.Qs);(0,n.useEffect)(()=>{m({type:"CLOSE"})},[m]);let p=(0,aX.O)(),_=(0,n.useRef)(Date.now()),f=e.onHideModal,g=(0,n.useCallback)(()=>{f(),(0,aW.YQ)({id:n7.Lz}),r(c.b({figjam_browse_templates_modal_onboarding_item_selected:!0})),r(ey.Ce()),t(nT.tX.COMPLETED)},[f,r,t]),E=t=>{(!e.shouldAcceptClickUseCaseTile||e.shouldAcceptClickUseCaseTile())&&((0,nA.Cu)({trackingContext:a,text:`${t} tile clicked`},"CTA Clicked"),e.onClickUseCaseTile(t))};function y(t,n){(0,nA.Cu)({trackingContext:a,text:`${t} tile hovered`},"CTA Hovered"),i(t),e.onUseCasePreview?.(t,n)}let b=[{headerText:(0,N.t)("figjam_onboarding_make_something.templates_modal.button_title.brainstorm"),headerIcon:re.A,previewSvg:e=>n.createElement(n5,{hovered:e}),useCase:n7.fD.BRAINSTORM,previewType:h.KpW.MAKE_SOMETHING_BRAINSTORM},{headerText:(0,N.t)("figjam_onboarding_make_something.templates_modal.button_title.team_updates"),headerIcon:rn.A,previewSvg:e=>n.createElement(n6,{hovered:e}),useCase:n7.fD.UPDATES,previewType:h.KpW.MAKE_SOMETHING_TEAM_UPDATES},{headerText:(0,N.t)("figjam_onboarding_make_something.templates_modal.button_title.planning_ahead"),headerIcon:rt.A,previewSvg:e=>n.createElement(n4,{hovered:e}),useCase:n7.fD.PLAN,previewType:h.KpW.MAKE_SOMETHING_PLANNING},{headerText:(0,N.t)("figjam_onboarding_make_something.templates_modal.button_title.team_chart"),headerIcon:ra.A,previewSvg:e=>n.createElement(n3,{hovered:e}),useCase:n7.fD.TEAM,previewType:h.KpW.MAKE_SOMETHING_TEAM_CHART}];function C(e,t){let a=b.findIndex(t=>t.useCase===e)+t;return a>b.length-1?a=0:a<0&&(a=b.length-1),a}return{hoveredUseCase:l,setHoveredUseCase:i,onClickCloseButton:()=>{e.onHideModal(),(0,aW.YQ)({id:n7.Lz}),t(nT.tX.COMPLETED);let a=Math.round((Date.now()-_.current)/1e3);p({eventName:"msv2_dismissed",style:e.style,secondsAfterShown:a})},onClickMoreTemplatesButton:()=>{(0,nB.KF)(r,{templateInsertionLocation:e.templateInsertionLocation,triggeredFrom:"makeSomething",onTemplateInsertedCurrentFile:g,onTemplateInsertedNewFile:g,hideModal:()=>{r(ey.Ce())}}),p({eventName:"more_templates_clicked",style:e.style})},onClickUseCaseTile:E,onUseCasePreview:y,useCaseTiles:b,onListBoxKeydown:function(e){let t;if("Enter"===e.key){l!==n7.fD.NONE&&b.find(({useCase:e})=>e===l)&&E(l);return}if("Home"===e.key)t=0;else if("End"===e.key)t=b.length-1;else if(["ArrowUp","ArrowLeft"].includes(e.key))t=C(l,-1);else{if(!["ArrowDown","ArrowRight"].includes(e.key))return;t=C(l,1)}let a=b[t];i(a.useCase),y(a.useCase,a.previewType)}}},ro={[n7.fD.BRAINSTORM]:n7.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED,[n7.fD.PLAN]:n7.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED,[n7.fD.UPDATES]:n7.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED,[n7.fD.TEAM]:n7.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED},rs=(0,nV.n)(({onSuccess:e}={})=>{let t=(0,v.Xr)(nT.w),a=(0,s.wA)(),r=(0,eB.aV)(),l=(0,nL.g)(),i=(0,s.d4)(e=>e.mirror.appModel.multiplayerSessionState===h.kul.JOINED),{hubFiles:o,templates:d,categoryIds:u,isLoading:m}=(0,nH.bg)({templatesShelfType:nD.cS.FIGJAM_SIMPLE_TEMPLATES_PICKER,source:"make-something-v2"}),{insertTemplate:p}=(0,nI.Fz)(),_=(0,n.useMemo)(()=>{let e={};return Object.keys(o).filter(e=>u.some(t=>d[t].includes(e))).reduce((e,t)=>{let a=o[t];return e[(0,nR.a6)(a).name.toUpperCase()]=a,e},e),e},[o,d,u]),f=l&&!m&&!r&&i;return{insert:(0,n.useCallback)(n=>{if(!f)return;if(n===n7.fD.NONE){e?.();return}let r=_[n],l=ro[n];p({template:{template:r,type:nM.n.HubFile},onSuccess:()=>{e?.(),a(em.F.dequeue({matchType:rl})),(0,aW.YQ)({id:l}),a(c.b({figjam_browse_templates_modal_onboarding_item_selected:!0})),t(nT.tX.USE_CASE_STEPS),n===n7.fD.PLAN?h.glU.setCanvasZoomScale(.8):n===n7.fD.TEAM&&h.glU.setCanvasZoomScale(1.2)},triggeredFrom:"browse-templates-make-something",selectTemplateAfterInsertion:!1}),a(em.F.enqueue({message:(0,N.t)("figjam_onboarding_make_something.visual_bell.loading_template"),icon:ep.zX.SPINNER,type:rl}))},[a,e,p,t,_,f]),canInsert:f}});function rc(e){let t=(0,s.d4)(e=>{let t=e?.mirror?.appModel?.currentPage,a=e?.mirror?.sceneGraph,n=a?.get(t);return!n||!n.childrenNodes.length||n.childrenAreAllGhosts}),a=(0,aI.Un)(),r=(0,aX.O)(),l=!a||t,i=l?"banner":"popup",o=()=>{e.hideModal?.()},c=e=>{r({eventName:"use_case_hovered",useCase:e,style:i})},d=e=>{r({eventName:"use_case_clicked",useCase:e,style:i})};return function(e){let t=(0,aX.O)(),a=(0,nS.ZC)(e);(0,n.useEffect)(()=>{if(!a){t({eventName:"msv2_shown",style:e});return}if(a!==e){t({eventName:"msv2_style_changed",style:e,prevStyle:a});return}},[a,e,t])}(i),l?n.createElement(rd,{onHideModal:o,trackUseCaseHover:c,trackUseCaseClick:d}):n.createElement(ru,{onHideModal:o,trackUseCaseHover:c,trackUseCaseClick:d})}function rd(e){let{onHideModal:t,trackUseCaseHover:a,trackUseCaseClick:r}=e,[l,i]=(0,n.useState)(!1),o=(0,n.useRef)(!1),{insert:s,canInsert:c}=rs({onSuccess:()=>{o.current=!1}}),{hoveredUseCase:d,setHoveredUseCase:u,onClickCloseButton:m,onClickMoreTemplatesButton:p,onClickUseCaseTile:_,onUseCasePreview:f,useCaseTiles:g,onListBoxKeydown:E}=ri({templateInsertionLocation:nR.RD.CURRENT_FILE,onHideModal:t,onClickUseCaseTile(e){o.current=!0,s(e),t(),r(e)},onUseCasePreview(e,t){h.gw5.clearFigjamStarterKitPreview(),h.gw5.rotateFigjamStarterKitStrings(),h.gw5.showFigjamStarterKitPreview(t),a(e)},shouldAcceptClickUseCaseTile:()=>!o.current,style:"banner"});function y(){i(!1),h.gw5.clearFigjamStarterKitPreview(),u(n7.fD.NONE)}let v=(0,aI.Un)();return c?n.createElement(tZ.Nb,{size:"fitContent",className:"browse_templates_make_something_onboarding--modalContainer--tYRC4",backgroundClassName:v?"browse_templates_make_something_onboarding--modalBackgroundWithPassthroughClicks--Lrf3O browse_templates_make_something_onboarding--modalBackground--Cyb7O":"browse_templates_make_something_onboarding--modalBackground--Cyb7O",hide:t,tintedModalBackground:!1,disableClickOutsideToHide:!0,enableEscapeToClose:!0},n.createElement(nN.i,{displayAs:nN.C.Block},n.createElement("div",{className:t6()("browse_templates_make_something_onboarding--closeHeader--tGUaS",{[n9]:l})},n.createElement(C.Jn,{dataTestId:"MakeSomethingCloseButton",onClick:m,trackingEventName:"modal closed"})),n.createElement("div",{className:"browse_templates_make_something_onboarding--makeSomethingContainer--rxr6G"},n.createElement("div",{className:t6()("browse_templates_make_something_onboarding--titleContainer--41-OQ",{[n9]:l})},n.createElement("div",{className:"browse_templates_make_something_onboarding--title--OqmHP text--fontPos20Whyte--o3mBO text--_fontBaseWhyte--efAjI"},(0,N.tx)("figjam_onboarding_make_something.templates_modal.main_title")),n.createElement("div",{className:"browse_templates_make_something_onboarding--subtitle--T-kBc text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI"},(0,N.tx)("figjam_onboarding_make_something.templates_modal.main_subtitle")),n.createElement("div",{className:t6()("browse_templates_make_something_onboarding--templateButtonContainer--ey3hb",{[n9]:l})},n.createElement(tF.vd,{className:t6()({"browse_templates_make_something_onboarding--templateButtonParent--4zUAI text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0}),trackingEventName:"more templates click",onClick:p,onFocus:y,autoFocus:!1,tabIndex:0},n.createElement("div",{className:"browse_templates_make_something_onboarding--templateButton--gmFOn"},n.createElement("div",{className:"browse_templates_make_something_onboarding--templateButtonContent--Sl5TE text--fontPos11Whyte--wZDnv text--_fontBaseWhyte--efAjI"},n.createElement(T.B,{svg:rr.A,className:"browse_templates_make_something_onboarding--templatesButtonIcon--m4jW4",useOriginalSrcFills_DEPRECATED:!0}),n.createElement("div",{className:"browse_templates_make_something_onboarding--templatesButtonText--CzC6F"},(0,N.tx)("figjam_onboarding_make_something.templates_modal.button_title.templates_button"))))))),n.createElement("div",{"aria-activedescendant":d,"aria-label":(0,N.t)("figjam_onboarding_make_something.use_case_listbox.aria_label"),"aria-orientation":"horizontal",className:"browse_templates_make_something_onboarding--listItems--57vh3",onKeyDown:E,onMouseEnter:()=>i(!0),onMouseLeave:y,role:"listbox",tabIndex:0},g.map(({headerIcon:e,headerText:t,useCase:a,previewSvg:r,previewType:l})=>n.createElement("div",{tabIndex:-1,role:"option",className:t6()("browse_templates_make_something_onboarding--useCaseContainer--nnBm-",{[n9]:![n7.fD.NONE,a].includes(d)}),onFocus:()=>f(a,l),onMouseEnter:()=>f(a,l),onClick:()=>_(a),key:a,"aria-label":t,"aria-selected":d===a,id:`make-something-onboarding-${a}`},n.createElement("div",{className:"browse_templates_make_something_onboarding--useCaseHeader--0ad0i text--fontPos11Whyte--wZDnv text--_fontBaseWhyte--efAjI"},n.createElement(T.B,{svg:e,height:"28px",width:"28px",autosize:!0,className:"browse_templates_make_something_onboarding--useCaseIcon--0Dqvb",useOriginalSrcFills_DEPRECATED:!0}),t),n.createElement("div",{className:"browse_templates_make_something_onboarding--previewContainer--lohmG"},r(d===a)))))))):null}function ru(e){let{onHideModal:t,trackUseCaseHover:a,trackUseCaseClick:r}=e,{shiftPopupUp:l,popupRef:i}=function(){let e=nW.C()?.dltContainerNode,t=(0,n.useRef)(null),[a,r]=(0,n.useState)(!1);return(0,n.useLayoutEffect)(()=>{let a=(0,nK.s)(()=>{let a=t.current?.getBoundingClientRect(),n=e?.getBoundingClientRect();a&&n&&r(n.left-a.right<24)},100);return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[e]),{popupRef:t,shiftPopupUp:a}}(),o=(0,s.wA)(),c=(0,nO.B)(),{hoveredUseCase:u,setHoveredUseCase:m,onClickCloseButton:p,onClickMoreTemplatesButton:_,onClickUseCaseTile:f,onUseCasePreview:h,useCaseTiles:g,onListBoxKeydown:E}=ri({templateInsertionLocation:nR.RD.NEW_FILE,onHideModal:t,onClickUseCaseTile(e){o(nk.zE({state:c,from:nP.f6.FIGJAM_MAKE_SOMETHING_POPUP,editorType:ae._Y.WHITEBOARD,team:void 0,openNewFileIn:nP.ai.NEW_TAB,figjamMakeSomethingUseCase:e})),r(e)},onUseCasePreview(e){a(e)},style:"popup"});return n.createElement(tZ.Nb,{modalRef:i,className:"browse_templates_make_something_onboarding--popupModal--y2117",backgroundClassName:t6()("browse_templates_make_something_onboarding--popupBackground--qUE9z",{"browse_templates_make_something_onboarding--popupBackgroundAboveDlt--3VTFo":l}),size:"fitContent",hide:t,tintedModalBackground:!1,disableClickOutsideToHide:!0,enableEscapeToClose:!0,disableFocusTrap:!0},n.createElement(nN.i,{displayAs:nN.C.Block},n.createElement("div",{className:"browse_templates_make_something_onboarding--popupHeader--gqTTZ"},n.createElement("div",{className:"browse_templates_make_something_onboarding--popupTitle--qSiMo text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI"},(0,N.tx)("figjam_onboarding_make_something.popup.title")),n.createElement(C.Jn,{dataTestId:"MakeSomethingCloseButton",onClick:p,trackingEventName:"modal closed"})),n.createElement("div",{"aria-activedescendant":u,"aria-label":(0,N.t)("figjam_onboarding_make_something.use_case_listbox.aria_label"),"aria-orientation":"horizontal",onKeyDown:E,role:"listbox",tabIndex:0},g.map(({headerIcon:e,headerText:t,useCase:a})=>n.createElement("button",{className:t6()("browse_templates_make_something_onboarding--popupButton--r5tGZ text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",{"browse_templates_make_something_onboarding--popupButtonActive--EbHMe":u===a}),tabIndex:-1,role:"option",onFocus:()=>h(a),onBlur:()=>m(n7.fD.NONE),onMouseEnter:()=>h(a),onMouseLeave:()=>m(n7.fD.NONE),onClick:()=>f(a),key:a,"aria-label":t,"aria-selected":u===a,id:`make-something-onboarding-${a}`},n.createElement(T.B,{className:t6()({"browse_templates_make_something_onboarding--brainstormIcon--O0mh5":a===n7.fD.BRAINSTORM}),svg:e,height:a===n7.fD.BRAINSTORM?"16px":"20px",width:a===n7.fD.BRAINSTORM?"16px":"20px",autosize:!0,useOriginalSrcFills_DEPRECATED:!0}),t)),n.createElement(d.Co,{className:"browse_templates_make_something_onboarding--popupTemplates--aTTD4 text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",trackingEventName:"more templates click",onFocus:()=>m(n7.fD.NONE),onMouseEnter:()=>m(n7.fD.NONE),onClick:_,tabIndex:0},(0,N.tx)("figjam_onboarding_make_something.templates_modal.button_title.templates_button")))))}function rm(){let{insert:e,canInsert:t}=rs(),[a,r]=(0,y.fp)(nT.l5),l=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{t&&a!==n7.fD.NONE&&!l.current&&(e(a),l.current=!0)},[a,e,t]),(0,n.useEffect)(()=>()=>r(n7.fD.NONE),[r]),null}n7.Og,eY.q3.SELF_CONTAINED,e=>n.createElement(rc,{hideModal:e.dismissModal});let rp=`${n7.Og} Templates Toolbar Connector Tooltip`,r_=`${n7.Og} Templates Toolbar Onboarding Finished Connector Tooltip`;function rf(e){return n.createElement(aZ.Dv,{targetType:"dom",targetKey:nU.G,topPadding:-6,autoWidth:!0,isBold:!0,arrowPosition:nG.F_.BOTTOM},n.createElement(nF.mI,{bodyText:n.createElement("span",{className:t6()(n8.RL)},(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_connector.body_text",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_connector.body_text_bold"))})),buttonText:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_connector.done_button"),onButtonClick:e.onClickPrimaryCta}))}function rh(e){return n.createElement(aZ.Dv,{targetType:"dom",targetKey:nU.G,topPadding:-6,autoWidth:!0,isBold:!0,arrowPosition:nG.F_.BOTTOM},n.createElement(nF.mI,{titleText:n.createElement("span",{className:"browse_templates_make_something_onboarding--tooltipTitle--EmYZQ"},(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.title_want_to_try_something_else")),bodyText:n.createElement("span",{className:n8.$s},(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.body_text",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.body_text_bold"))})),buttonText:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_connector.done_button"),onButtonClick:e.onClickPrimaryCta}))}function rg(e){let t=(0,v.Xr)(nT.w);return(0,tf.h)(()=>{t(nT.tX.MODAL_SHOWING)}),n.createElement(ez.h,{testId:e.testId?e.testId:"MakeSomethingOnboardingOverlay",modalType:eY.q3.SELF_CONTAINED,trackingContextName:"Make Something Modal Onboarding",element:n.useCallback(e=>n.createElement(rc,{hideModal:e.dismissModal}),[]),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}eY.q3.SELF_CONTAINED,eY.q3.SELF_CONTAINED;let rE="figjam_unified_onboarding_product",ry="figjam_unified_onboarding_pz";function rv(e){(0,aW.YQ)({id:e===aI.jg.PRODUCT_THEN_PZ?rE:ry})}let rb=[a7,a8];function rC(){let e=(0,y.md)(aI.Am),{show:t,uniqueId:a,isShowing:r,complete:l}=(0,u.e)({overlay:f.wRI,priority:m.N.OVERRIDING_MODAL}),i=nb((0,n.useCallback)(()=>{l(),e===aI.jg.PZ_THEN_PRODUCT&&(0,aW.YQ)({id:rE}),e===aI.jg.PRODUCT_THEN_PZ&&(0,aW.YQ)({id:ng})},[l,e]));return(0,eC.E)(a,ry,()=>{t()}),n.createElement(nw,{steps:rb,onComplete:i,isShowing:r,overlayUniqueId:a})}function rw(){let e=(0,y.md)(aI.Am),t=(0,y.md)(nT.w),{show:a,uniqueId:r,isShowing:l,complete:i}=(0,u.e)({overlay:f.Kze,priority:m.N.OVERRIDING_MODAL}),o=nb(i);return(0,eC.E)(r,rE,()=>{a()}),(0,n.useEffect)(()=>{t===nT.tX.COMPLETED&&e===aI.jg.PRODUCT_THEN_PZ&&(0,aW.YQ)({id:ry}),t===nT.tX.COMPLETED&&e===aI.jg.PZ_THEN_PRODUCT&&(0,aW.YQ)({id:ng})},[t,e]),n.createElement(rg,{onClickPrimaryCta:o,onClose:t7.lQ,onManualDismiss:o,isShowing:l})}var rT=a(286640),rS=a(650769),rN=a(205548),rx=a(288706),rk=a(373119),rI=a(325746);let rA="figjam_participant_onboarded";var rL=(e=>(e.CREATE_STICKY="create_sticky",e.CREATE_STAMP="create_stamp",e.CANVAS_ZOOM="first_user_zoom_with_device",e.CANVAS_PAN="first_user_pan_with_device",e))(rL||{});function rO(e,t,a){let n=(0,v.Xr)(rI.EW),r=(0,rI.yk)(e);(0,eC.E)(a.uniqueId,t,()=>{r&&n({type:"DISMISS_TOOLTIP",tooltip:e})})}let rR=(0,eT.r1)(rA);function rM(){let e=nv(),t=(0,y.md)(rR),a=(0,y.md)(rI.$j),r=(0,y.md)((0,rx.Rq)(tT.Sb)),l="hasData"===r.state&&r.data||void 0,i=(0,tN.TA)(),{resetFullscreenEvents:o}=function(){let e=(0,rk.q)(),t=(0,rI.LW)(),a=n.useCallback(()=>{(0,tm.sx)(rL.CANVAS_ZOOM)},[]),r=n.useCallback(()=>{(0,tm.sx)(rL.CANVAS_PAN)},[]);return n.useEffect(()=>{if(e&&t)return h.glU.setUsedZoomAction(!1),h.glU.setUsedPanAction(!1),t9.Y5.fromFullscreen.on("zoomActionMessageForOnboarding",a),t9.Y5.fromFullscreen.on("panActionMessageForOnboarding",r),()=>{t9.Y5.fromFullscreen.removeListener("zoomActionMessageForOnboarding",a),t9.Y5.fromFullscreen.removeListener("panActionMessageForOnboarding",r)}},[e,t,r,a]),{resetFullscreenEvents:()=>{h.glU.setUsedZoomAction(!1),h.glU.setUsedPanAction(!1)}}}(),d=(0,v.Xr)(rI.EW),p=(0,s.wA)(),_=(0,u.e)({overlay:f.P0g,priority:m.N.OVERRIDING_MODAL+1},[t,r]);return nC({overlayUniqueId:_.uniqueId,afterReset:n.useCallback(()=>{p(c.b({[rA]:!1})),e&&!1===l&&(o(),d({type:"INITIALIZE_ONBOARDING"}),p(c.b({[rA]:!0})))},[e,l,d,p,o])}),rO(rI.eh.STICKY,rL.CREATE_STICKY,_),rO(rI.eh.STAMP,rL.CREATE_STAMP,_),rO(rI.eh.ZOOM,rL.CANVAS_ZOOM,_),rO(rI.eh.PAN,rL.CANVAS_PAN,_),(0,n.useEffect)(()=>{_.isShowing&&a&&_.complete()},[a,_]),(0,n.useEffect)(()=>{e&&!a&&_.show({onShow:()=>{o(),d({type:"INITIALIZE_ONBOARDING"}),p(c.b({[rA]:!0}))},canShow:(e,t)=>!e&&!t})},[a,e,_,i,d,p,o]),n.createElement("div",{"data-testid":"FigJamParticipantOnboardingOverlay"})}var rD=a(796823),rP=a(808324),rF=a(776621),rB=a(493323),rU=a(989329),rH=a(507877),rG=a(340159),rV=a(691205),rz=a(984968);let rK=(0,nV.D)((e,t)=>{t(rH.V3({url:e}))});function rW(e){let t=(0,s.wA)(),a=(0,rU.qm)(),r=rz.ol()?.id,[l]=(0,rV.IT)(rG.XZ({currentOrgId:a,currentTeamId:r,fileTags:["figjam_template"],shouldRecreate:!0})),{dismissModal:i}=e;return n.useEffect(()=>{"errors"===l.status&&(i(),rj("failure","curator"))},[l.status,i]),n.useEffect(()=>{let e=setTimeout(()=>{"loading"===l.status&&rj("timeout","curator")},5e3);return()=>clearTimeout(e)},[l.status]),n.createElement("div",{className:"onboard_figjam_viewer--openTutorialModalContainer--O1ld1"},n.createElement("div",{className:"onboard_figjam_viewer--openTutorialModalShadow--HF-Gb onboard_figjam_viewer--openTutorialModalBase--vDoVP"},n.createElement("div",{className:"onboard_figjam_viewer--openTutorialModal--3j-H4 onboard_figjam_viewer--openTutorialModalBase--vDoVP"},n.createElement("div",{className:aq},n.createElement("div",{className:aJ},n.createElement("img",{className:aQ,src:"https://static.figma.com/uploads/964c3ddf18b0f2712b664efde991dfc4f2c58eb8",alt:""})),n.createElement("div",{className:t6()({[a$]:!0,[a0]:!0})},n.createElement("div",{className:"onboard_figjam_viewer--openTutorialModalText--9oABQ onboard_figjam_viewer--text--xkcTB"},(0,N.tx)("rcs.figjam_onboarding.for_more_tips_and_tricks_here_s_a_2_minute_hands_on_tutorial")),n.createElement("div",{className:"onboard_figjam_viewer--openTutorialBottomContentRow--rVWqG onboard_figjam_viewer--bottomContentRow--PgTeU"},n.createElement("div",{className:"onboard_figjam_viewer--secondaryTextClickable--iF6eC onboard_figjam_viewer--secondaryText--THVcI",onClick:e.dismissModal},(0,N.tx)("rcs.figjam_onboarding.maybe_later")),n.createElement(tF.vd,{className:"loading"===l.status||null==l.data?"onboard_figjam_viewer--openTutorialButtonDisabled--EYffC onboard_figjam_viewer--openTutorialButton--4AqFo onboard_figjam_viewer--ctaButton--aFKKt text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":"onboard_figjam_viewer--openTutorialButton--4AqFo onboard_figjam_viewer--ctaButton--aFKKt text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",onClick:()=>{"loaded"!==l.status||null==l.data||l.data.length<1||(rK(l.data[0].url,t),e.dismissModal())},disabled:"loading"===l.status},"loading"===l.status||null==l.data?n.createElement(rB.kt,{"data-testid":"loading-spinner",className:"onboard_figjam_viewer--openTutorialSpinner--zV-nH publish_modal--spinner--7DaqW"}):(0,N.tx)("rcs.figjam_onboarding.open_tutorial"))))))))}function rj(e,t){(0,rF.kF)("type",e),(0,rF.kF)("source",t),(0,rF.us)("FigJam onboarding - failed to load open tutorial button")}async function rZ(e){let t=(await e).data;if(!t)return!1;let a=(0,rN.kd)(t),n=(0,rN.mW)(a,"figjam_editor_onboarded");return!n&&!n&&!(()=>{let e=(0,rT.DN)();try{return!!e.get(rS.Xk)}catch(e){}return!1})()}function rY({openFile:e}){return!!(e&&e.trackTags?.isTemplate&&e.editorType===ae._Y.WHITEBOARD)}function rX(e){return n.createElement(ez.h,{testId:e.testId?e.testId:"OpenFigJamTutorialOverlay",modalType:eY.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Open Tutorial",userFlagOnShow:"figjam_editor_onboarded",element:rW,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rq(){let e=(0,s.wA)(),t=(0,ei.MY)(),{show:a,uniqueId:r,complete:l,isShowing:i}=(0,u.e)({overlay:f.MJs,priority:m.N.OVERRIDING_MODAL},[t]),o=function(e,t){let a=(0,n.useRef)(),r=(0,n.useRef)(),l=(0,n.useRef)();return((0,n.useEffect)(()=>()=>{a.current?.()},[]),r.current)?r.current:null==a.current||null==l.current?(r.current=new Promise(n=>{a.current?.(),a.current=(0,rP.WB)().subscribe(e,t,e=>{("loaded"===e.status||e.errors)&&(l.current=e,n(l.current),r.current=void 0)})}),r.current):Promise.resolve(l.current)}(ni.Tej,{}),d=(0,y.md)(ei.yV),p=(0,ny.Td)(),_=!rY({openFile:d}),h=(0,n.useRef)(!1);(0,n.useEffect)(()=>{rZ(o).then(e=>{e&&!h.current&&a({canShow:e=>{let t=e?.editorType===ae._Y.WHITEBOARD&&!e?.canEdit;return t&&(h.current=!0),t}})})},[a,o]);let{currentStep:g,next:E,reset:v}=(0,eU.A)({numSteps:_?4:3,onComplete:l});(0,eC.E)(r,"Reset Onboarding",()=>{e(c.b({figjam_editor_onboarded:!1})),p&&(v(),a())});let b=nb(l),C=n.useMemo(()=>{let e=a9.map(e=>n.createElement(e,{key:e.name,isShowing:i,onClickPrimaryCta:E,onClose:t7.lQ,onManualDismiss:b}));return _&&e.push(n.createElement(rX,{key:"OpenFigJamTutorialOverlay",isShowing:i,onClickPrimaryCta:E,onClose:t7.lQ,onManualDismiss:b,testId:"open_figjam_tutorial_overlay"})),e},[E,b,i,_]);return n.createElement(eV.U,{currentStep:g,isShowing:i,children:C})}var rJ=a(583765),rQ=a(315944);let r$="Browse Templates Modal";function r0(e){return n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.WELCOME,trackingContextName:r$,element:n.useCallback(e=>n.createElement(nB.N$,{editorType:ae._Y.WHITEBOARD,templateInsertionLocation:nR.RD.CURRENT_FILE,triggeredFrom:"newFile",hideModal:e.dismissModal,hideTintedModalBackground:!0}),[]),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function r1(e){return n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.WELCOME,trackingContextName:r$,element:n.useCallback(e=>n.createElement(nB.N$,{editorType:ae._Y.WHITEBOARD,templateInsertionLocation:nR.RD.CURRENT_FILE,triggeredFrom:"newFile",hideModal:e.onClickPrimaryCta,hideTintedModalBackground:!0}),[]),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}let r2=(0,nV.D)(()=>{let e=(0,rT.DN)();try{return!!e.get(rS.Xk)}catch(e){}return!1});function r5({userFlags:e,emailValidatedAt:t,userSpace:a,isTemplateFile:n,isTryFile:l,canvasEmpty:i,onboardedToFigJam:o,jobTitle:s,cameFromWhatsNew:c}){let d=(0,rN.mW)(e,"not_gen_0"),u=a===p.qo.ORG,m=(0,rD.d2)({emailValidatedAt:t,jobTitle:s});if((o||r2())&&(u||d||m))return[];if(!m&&(0,rN.of)(e)&&!u&&!c)return l?(0,r.kc)().nux_gen0_overlay_enabled?[l?r1:r0]:[rD.vm,l?r1:r0]:(0,r.kc)().nux_gen0_overlay_enabled?[rg]:[rD.vm,rg];let _=(0,aY.O)()?[]:a9;if(n)return _;let f=[..._,rX];return c||l||!i?f:[rg]}function r3({openFile:e}){let t=(0,y.md)(nT.l5),a=(0,y.md)(tT.zo),r=(0,y.md)(aI.Am);return t!==n7.fD.NONE?null:("loaded"!==a.status||a.data)&&!r?n.createElement(r7,{openFile:e}):n.createElement(r6,{openFile:e})}let r4=(e,t)=>{let a=(0,ei.MY)(),r=(0,v.Xr)(aI.Am),l=(0,v.Xr)(nT.w),i=(0,y.md)(tT.zo),o=(0,eB.aV)(),s=(0,y.md)(rJ.dO).status===rQ.c.LOADING;nC({overlayUniqueId:e,afterReset:()=>{r(null),l(nT.tX.NOT_STARTED)}});let c=(0,n.useRef)(!1);(0,n.useEffect)(()=>{!c.current&&"loaded"===i.status&&!o&&!s&&a.data?.canEdit&&a.data?.editorType==="whiteboard"&&(c.current=!0,t())},[t,i.status,o,s,a])};function r6({openFile:e}){let t=(0,y.md)(ew.g5),a=(0,y.md)(eT.qG),l=(0,y.md)(ew.d2),i=(0,y.md)(ew.NT),o=(0,s.d4)(e=>e.mirror.appModel.currentPage),c=(0,ts.Fk)((e,t)=>(0,to.zC)(e,t),o),d=(0,y.md)(tT.zo),_=(0,eT.Fu)("interacted_figjam_whats_new_v2_cta"),h=(0,y.md)(_),g=(0,v.Xr)(aI.Am),{getConfig:E}=(0,th.XV)("exposed_exp_figjam_unified_onboarding","figjam_unified_onboarding"),b=(0,n.useCallback)(()=>{let e=E().get("sequence",aI.jg.DEFAULT);return g(e),e},[E,g]),[C,w]=(0,n.useState)(!1),[T,S]=(0,n.useState)(!1),[N,x]=(0,n.useState)([]),{show:k,uniqueId:I,isShowing:A,complete:L,experimentResult:O}=(0,u.e)({overlay:f.zoI,priority:m.N.OVERRIDING_MODAL,experiment:{check:b,predicate:e=>e!==aI.jg.DEFAULT,postCheck:(e,t,a,n,l)=>{let i=a===p.qo.ORG,o=!(0,rD.d2)({emailValidatedAt:t,jobTitle:l})&&(0,rN.of)(e),s=!(0,r.kc)().nux_gen0_overlay_enabled&&o&&!i;return S(s),n||r2()||w(!0),s}}},[a,t,l,d,i,h]),R=(0,n.useRef)(c);(0,n.useEffect)(()=>{R.current=c},[c]);let{show:M,isShowing:D,complete:P}=(0,u.e)({overlay:f.lLk,priority:m.N.OVERRIDING_MODAL,experiment:{check:b,predicate:e=>e===aI.jg.DEFAULT,postCheck:(t,a,n,r,l,i)=>{let o=r5({userFlags:t,emailValidatedAt:a,userSpace:n,isTemplateFile:rY({openFile:e}),isTryFile:e.isTryFile,canvasEmpty:R.current,onboardedToFigJam:r,jobTitle:l,cameFromWhatsNew:(0,tA.SS)(i)}),s=o.length>0;return s&&x(o),s}}},[a,t,l,d,i,h]),F=O||aI.jg.DEFAULT,B=F===aI.jg.DEFAULT?D:A,U=F===aI.jg.DEFAULT?P:L,H=(0,n.useMemo)(()=>F===aI.jg.DEFAULT?N:T?[rD.vm]:[],[F,T,N]);r4(I,(0,n.useCallback)(()=>{k(),M()},[k,M]));let G=nb(U),V=(0,n.useCallback)(()=>{F===aI.jg.DEFAULT?G():C&&(U(),rv(F))},[G,U,C,F]);return((0,n.useEffect)(()=>{0===H.length&&C&&F!==aI.jg.DEFAULT&&rv(F)},[C,H,F]),O&&B&&0!==H.length)?n.createElement(nw,{steps:H,onComplete:V,isShowing:B,overlayUniqueId:I}):null}function r7({openFile:e}){let t=(0,y.md)(ew.g5),a=(0,y.md)(eT.qG),r=(0,y.md)(ew.d2),l=(0,y.md)(ew.NT),i=(0,s.d4)(e=>e.mirror.appModel.currentPage),o=(0,ts.Fk)((e,t)=>(0,to.zC)(e,t),i),c=(0,y.md)(tT.zo),d=(0,eT.Fu)("interacted_figjam_whats_new_v2_cta"),p=(0,y.md)(d),{show:_,uniqueId:h,isShowing:g,complete:E}=(0,u.e)({overlay:f.lLk,priority:m.N.OVERRIDING_MODAL},[a,t,r,c,l,p]),[v,b]=(0,n.useState)([]);r4(h,(0,n.useCallback)(()=>{_({canShow:(t,a,n,r,l,i)=>{let s=r5({userFlags:t,emailValidatedAt:a,userSpace:n,isTemplateFile:rY({openFile:e}),isTryFile:e.isTryFile,canvasEmpty:o,onboardedToFigJam:r,jobTitle:l,cameFromWhatsNew:(0,tA.SS)(i)}),c=s.length>0;return c&&b(s),c}})},[_,b,o,e]));let C=nb(E);return g&&0!==v.length?n.createElement(nw,{steps:v,onComplete:C,isShowing:g,overlayUniqueId:h}):null}function r8({openFile:e}){return"figjam_participant_onboarding"===function(){let e=nv(),t=(0,tN.TA)();return e&&(0,aI.dQ)(t)?"figjam_participant_onboarding":"figjam_editor_onboarding"}()?n.createElement(rM,null):n.createElement(r3,{openFile:e})}let r9=(0,es.eU)(async()=>{if(document.fonts&&FontFace){let e=new FontFace("Whyte","url(https://static.figma.com/webfont/1/Whyte-Regular.woff)");document.fonts.add(e)}await document.fonts.ready}),le=(0,rx.Rq)(r9);function lt(e){return n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:rp,userFlagOnShow:"figjam_browse_templates_modal_onboarded",element:rf,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function la(e){return n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:r_,userFlagOnShow:"figjam_browse_templates_modal_onboarded",element:rh,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ln(){let e=(0,eT.r1)("figjam_browse_templates_modal_onboarded"),t=(0,y.md)(e),a=(0,y.md)(le),[r,l]=(0,n.useState)(!1),i=(0,aI.Un)(),{show:o,isShowing:s,uniqueId:c,complete:d}=(0,u.e)({overlay:f.kp0,priority:m.N.OVERRIDING_MODAL},[t,a]);return(0,eC.E)(c,n7.Lz,()=>{l(!0),o({canShow:e=>!e&&!i})}),(0,eC.E)(c,eZ.P7,()=>{o({canShow:e=>!e&&!i})}),r?n.createElement(lt,{isShowing:s,onClickPrimaryCta:d,onClose:d,onManualDismiss:d}):n.createElement(la,{isShowing:s,onClickPrimaryCta:d,onClose:d,onManualDismiss:d})}var lr=a(244673),ll=a(178498),li=a(972283),lo=a(728406),ls=a(487392);function lc(e){return n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.BRAINSTORM},n.createElement(nF.wV,{bodyText:n.createElement("span",{className:n8.R9},(0,N.tx)("figjam_onboarding_make_something.brainstorm.fig_jam_s_great_for_brainstorming",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.brainstorm.fig_jam_s_great_for_brainstorming_prefix"))})),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:re.A}))}function ld(e){let{onClickPrimaryCta:t,dismissModal:a}=e;return n.useEffect(()=>{function e(){t()}return t9.Y5.fromFullscreen.on("createdSticky",e),()=>{t9.Y5.fromFullscreen.removeListener("createdSticky",e)}},[t]),n.createElement(nF.vX,{onSkipClick:a,useCase:n7.fD.BRAINSTORM},n.createElement(aZ.Dv,{targetType:"dom",targetKey:ll.s,topPadding:-22,autoWidth:!0,isBold:!0},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.brainstorm.sticky_notes_let_you_share_ideas_go_ahead_drag_one_into_the_blue_box_above",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.brainstorm.sticky_notes_let_you_share_ideas_go_ahead_drag_one_into_the_blue_box_above_bold_text"))}))})))}function lu(e){let[t]=n.useState(()=>h.glU.getPointerModalNodeId("createdSticky")||""),{handleTargetLost:a}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.BRAINSTORM},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.LEFT_TITLE,onTargetLost:a},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.brainstorm.just_like_that_keep_it_to_one_idea_per_sticky_next_let_s_check_out_stamps",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.brainstorm.just_like_that_keep_it_to_one_idea_per_sticky_next_let_s_check_out_stamps_bold_text"))})),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lm(e){let{onClickPrimaryCta:t,dismissModal:a}=e,{handleTargetLost:r}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>{function e(){t()}return t9.Y5.fromFullscreen.on("createdStamp",e),()=>{t9.Y5.fromFullscreen.removeListener("createdStamp",e)}},[t]),n.createElement(nF.vX,{onSkipClick:a,useCase:n7.fD.BRAINSTORM},n.createElement(aZ.Dv,{targetType:"dom",targetKey:li.E$,topPadding:-27,isBold:!0,autoWidth:!0,onTargetLost:r},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.brainstorm.stamps_are_here_or_press_e_they_re_good_for_voting_go_ahead_stamp_something",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.brainstorm.stamps_are_here_or_press_e_they_re_good_for_voting_go_ahead_stamp_something_bold_text"))}))})))}function lp(e){let[t]=n.useState(()=>h.glU.getPointerModalNodeId("createdStamp")||""),{handleTargetLost:a}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.BRAINSTORM},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.TOP,onTargetLost:a},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.brainstorm.lovely_just_one_more_thing",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.brainstorm.lovely_just_one_more_thing_bold_text"))})),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function l_(e){let t=(0,s.wA)(),a=(0,ls.MR)(),r=(0,ls.qU)(),[l,i]=n.useState("invalid"),{handleTargetLost:o}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>(a({source:ls.OO.MAKE_SOMETHING_V2_ONBOARDING}),t(lr.lu({state:"open",userInitiated:!1})),i(lo.Hm),()=>{r({source:ls.OO.MAKE_SOMETHING_V2_ONBOARDING}),t(lr.lu({state:"closed",userInitiated:!1}))}),[r,t,a]),n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.BRAINSTORM},n.createElement(aZ.Dv,{targetType:"dom",targetKey:l,topPadding:-4,isBold:!0,autoWidth:!0,onTargetLost:o},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.brainstorm.use_the_timer_to_keep_things_moving",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.brainstorm.use_the_timer_to_keep_things_moving_bold_text"))})),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lf(e){let{onNext:t}=nj({...e,useCase:n7.fD.BRAINSTORM});return n.createElement(aZ.Dv,{targetType:"dom",targetKey:eZ.v4,topPadding:-4,isBold:!0,hasShadow:!0},n.createElement(a2,{titleText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.when_you_re_ready"),bodyText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.start_a_brainstorm_by_inviting_a_few_people_here_that_s_it"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:nF.mN,isBold:!0}))}function lh(e){return(0,nF.rL)({useCase:n7.fD.BRAINSTORM,stepName:"Intro",stepNum:1}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Brainstorm - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:lc,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lg(e){return(0,nF.rL)({useCase:n7.fD.BRAINSTORM,stepName:"Sticky Prompt",stepNum:2}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Brainstorm - Sticky Prompt`,userFlagOnShow:"figjam_editor_onboarded",element:ld,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lE(e){return(0,nF.rL)({useCase:n7.fD.BRAINSTORM,stepName:"Sticky Reaction",stepNum:3}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Brainstorm - Sticky Reaction`,userFlagOnShow:"figjam_editor_onboarded",element:lu,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ly(e){return(0,nF.rL)({useCase:n7.fD.BRAINSTORM,stepName:"Stamp Prompt",stepNum:4}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Brainstorm - Stamp Prompt`,userFlagOnShow:"figjam_editor_onboarded",element:lm,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lv(e){return(0,nF.rL)({useCase:n7.fD.BRAINSTORM,stepName:"Stamp Reaction",stepNum:5}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Brainstorm - Stamp Reaction`,userFlagOnShow:"figjam_editor_onboarded",element:lp,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lb(e){return(0,nF.rL)({useCase:n7.fD.BRAINSTORM,stepName:"Timer",stepNum:6}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Brainstorm - Timer`,userFlagOnShow:"figjam_editor_onboarded",element:l_,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lC(e){let t=(0,aX.O)();return(0,nF.rL)({useCase:n7.fD.BRAINSTORM,stepName:"Share",stepNum:7}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Brainstorm - Share`,userFlagOnShow:"figjam_editor_onboarded",element:lf,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:n7.fD.BRAINSTORM}),e.onClose()},onManualDismiss:e.onManualDismiss})}var lw=a(202232);function lT(e){return n.useEffect(()=>{h.glU.populatePointerModalNodeTrackerForPlanningAhead()},[]),n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.PLAN},n.createElement(nF.wV,{bodyText:n.createElement("span",{className:n8.R9},(0,N.tx)("figjam_onboarding_make_something.planning_ahead.fig_jam_s_great_for_planning_ahead_here_s_how_it_s_done",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.planning_ahead.fig_jam_s_great_for_planning_ahead_here_s_how_it_s_done_bold_text"))})),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:rt.A}))}function lS(e){let[t]=n.useState(()=>h.glU.getPointerModalNodeId("planningAheadInitialNode")||""),{handleTargetLost:a}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.PLAN},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:t,topPadding:-7,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.BOTTOM,onTargetLost:a},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.planning_ahead.start_with_a_simple_timeline_with_a_row_for_each_member_of_your_team")),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lN(e){let{onClickPrimaryCta:t,dismissModal:a}=e,[r]=n.useState(()=>h.glU.getPointerModalNodeId("planningAheadPerson")||""),{handleTargetLost:l}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>{function e(){t()}return t9.Y5.fromFullscreen.on("finishedEditingText",e),()=>{t9.Y5.fromFullscreen.removeListener("finishedEditingText",e)}},[t]),n.createElement(nF.vX,{onSkipClick:a,useCase:n7.fD.PLAN},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:r,topPadding:2,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.LEFT_TITLE,onTargetLost:l},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.planning_ahead.type_your_name_here_right_at_the_top",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.planning_ahead.type_your_name_here_right_at_the_top_bold_text"))}))})))}function lx(e){let{onClickPrimaryCta:t,dismissModal:a}=e,[r]=n.useState(()=>h.glU.getPointerModalNodeId("planningAheadProject")||""),{handleTargetLost:l}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>{function e(){t()}return t9.Y5.fromFullscreen.on("finishedEditingShapeWithText",e),()=>{t9.Y5.fromFullscreen.removeListener("finishedEditingShapeWithText",e)}},[t]),n.createElement(nF.vX,{onSkipClick:a,useCase:n7.fD.PLAN},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:r,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.BOTTOM,onTargetLost:l},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.planning_ahead.what_are_you_working_on_this_month_rename_this_block_to_your_current_project",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.planning_ahead.what_are_you_working_on_this_month_rename_this_block_to_your_current_project_bold_text"))}))})))}function lk(e){let[t]=n.useState(()=>h.glU.getPointerModalNodeId("planningAheadProject")||""),{handleTargetLost:a}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.PLAN},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.LEFT_TITLE,onTargetLost:a},n.createElement(nF.mI,{bodyText:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.you_can_resize_blocks_by_dragging_their_ends"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lI(e){let{handleTargetLost:t}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.PLAN},n.createElement(aZ.Dv,{targetType:"dom",targetKey:lw.BC,topPadding:-23,isBold:!0,autoWidth:!0,onTargetLost:t},n.createElement(nF.mI,{bodyText:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.and_grab_more_shapes_as_needed_from_your_toolbar"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lA(e){let{onNext:t}=nj({...e,useCase:n7.fD.PLAN});return n.createElement(aZ.Dv,{targetType:"dom",targetKey:eZ.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0},n.createElement(a2,{titleText:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.try_it_with_your_team"),bodyText:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.share_this_board_and_your_whole_team_can_contribute"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:nF.mN,isBold:!0}))}function lL(e){return(0,nF.rL)({useCase:n7.fD.PLAN,stepName:"Intro",stepNum:1}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Planning Ahead - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:lT,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lO(e){return(0,nF.rL)({useCase:n7.fD.PLAN,stepName:"Section",stepNum:2}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Planning Ahead - Section`,userFlagOnShow:"figjam_editor_onboarded",element:lS,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lR(e){return(0,nF.rL)({useCase:n7.fD.PLAN,stepName:"Person",stepNum:3}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Planning Ahead - Person`,userFlagOnShow:"figjam_editor_onboarded",element:lN,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lM(e){return(0,nF.rL)({useCase:n7.fD.PLAN,stepName:"Project Name",stepNum:4}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Planning Ahead - Project Name`,userFlagOnShow:"figjam_editor_onboarded",element:lx,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lD(e){return(0,nF.rL)({useCase:n7.fD.PLAN,stepName:"Project Block",stepNum:5}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Planning Ahead - Project Block`,userFlagOnShow:"figjam_editor_onboarded",element:lk,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lP(e){return(0,nF.rL)({useCase:n7.fD.PLAN,stepName:"Shape",stepNum:6}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Planning Ahead - Shape`,userFlagOnShow:"figjam_editor_onboarded",element:lI,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lF(e){let t=(0,aX.O)();return(0,nF.rL)({useCase:n7.fD.PLAN,stepName:"Share",stepNum:7}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Planning Ahead - Share`,userFlagOnShow:"figjam_editor_onboarded",element:lA,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:n7.fD.PLAN}),e.onClose()},onManualDismiss:e.onManualDismiss})}function lB(e){return n.useEffect(()=>{h.glU.populatePointerModalNodeTrackerForTeamChart()},[]),n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.TEAM},n.createElement(nF.wV,{bodyText:n.createElement("span",{className:n8.R9},(0,N.tx)("figjam_onboarding_make_something.team_chart.in_fig_jam_you_can_diagram_all_sorts_of_things_here_s_an_example",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.team_chart.in_fig_jam_you_can_diagram_all_sorts_of_things_here_s_an_example_bold_text"))})),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:ra.A}))}function lU(e){let{onClickPrimaryCta:t,dismissModal:a}=e,[r]=n.useState(()=>h.glU.getPointerModalNodeId("teamChartName")||""),{handleTargetLost:l}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>{function e(){t()}return t9.Y5.fromFullscreen.on("finishedEditingShapeWithText",e),()=>{t9.Y5.fromFullscreen.removeListener("finishedEditingShapeWithText",e)}},[t]),n.createElement(nF.vX,{onSkipClick:a,useCase:n7.fD.TEAM},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:r,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.BOTTOM,onTargetLost:l},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.team_chart.double_click_this_text_to_type_in_the_manager_s_name_go_ahead_try_it",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.team_chart.double_click_this_text_to_type_in_the_manager_s_name_go_ahead_try_it_bold_text"))}))})))}function lH(e){let[t]=n.useState(()=>h.glU.getPointerModalNodeId("teamChartImage")||""),{handleTargetLost:a}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.TEAM},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.LEFT_TITLE,onTargetLost:a},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.team_chart.you_can_add_images_by_simply_dragging_them_into_fig_jam")),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lG(e){let{onClickPrimaryCta:t,dismissModal:a}=e,[r]=n.useState(()=>h.glU.getPointerModalNodeId("teamChartQuickCreate")||""),{handleTargetLost:l}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>{function e(){t()}return t9.Y5.fromFullscreen.on("quickCreate",e),()=>{t9.Y5.fromFullscreen.removeListener("quickCreate",e)}},[t]),n.createElement(nF.vX,{onSkipClick:a,useCase:n7.fD.TEAM},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:r,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.RIGHT_TITLE,onTargetLost:l},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.team_chart.adding_to_a_diagram_is_simple_hover_over_a_shape_and_click_this_button_try_it",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.team_chart.adding_to_a_diagram_is_simple_hover_over_a_shape_and_click_this_button_try_it_bold_text"))}))})))}function lV(e){let{handleTargetLost:t}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.TEAM},n.createElement(aZ.Dv,{targetType:"dom",targetKey:lw.BC,topPadding:-23,isBold:!0,autoWidth:!0,onTargetLost:t},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.team_chart.you_can_also_grab_more_shapes_from_here")),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lz(e){let{handleTargetLost:t}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.TEAM},n.createElement(aZ.Dv,{targetType:"dom",targetKey:lw.Nr,isBold:!0,autoWidth:!0,onTargetLost:t},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.team_chart.and_use_the_connector_tool_to_connect_any_two_things_together")),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lK(e){let{onNext:t}=nj({...e,useCase:n7.fD.TEAM});return n.createElement(aZ.Dv,{targetType:"dom",targetKey:eZ.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0},n.createElement(a2,{titleText:(0,N.tx)("figjam_onboarding_make_something.team_chart.diagram_together"),bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.team_chart.share_this_board_and_your_whole_team_can_pitch_in")),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:nF.mN,isBold:!0}))}function lW(e){return(0,nF.rL)({useCase:n7.fD.TEAM,stepName:"Intro",stepNum:1}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Chart - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:lB,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lj(e){return(0,nF.rL)({useCase:n7.fD.TEAM,stepName:"Name",stepNum:2}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Chart - Name`,userFlagOnShow:"figjam_editor_onboarded",element:lU,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lZ(e){return(0,nF.rL)({useCase:n7.fD.TEAM,stepName:"Image",stepNum:3}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Chart - Image`,userFlagOnShow:"figjam_editor_onboarded",element:lH,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lY(e){return(0,nF.rL)({useCase:n7.fD.TEAM,stepName:"Quick Create",stepNum:4}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Chart - Quick Create`,userFlagOnShow:"figjam_editor_onboarded",element:lG,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lX(e){return(0,nF.rL)({useCase:n7.fD.TEAM,stepName:"Shape",stepNum:5}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Chart - Shape`,userFlagOnShow:"figjam_editor_onboarded",element:lV,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lq(e){return(0,nF.rL)({useCase:n7.fD.TEAM,stepName:"Connector",stepNum:6}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Chart - Connector`,userFlagOnShow:"figjam_editor_onboarded",element:lz,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lJ(e){let t=(0,aX.O)();return(0,nF.rL)({useCase:n7.fD.TEAM,stepName:"Share",stepNum:7}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Chart - Share`,userFlagOnShow:"figjam_editor_onboarded",element:lK,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:n7.fD.TEAM}),e.onClose()},onManualDismiss:e.onManualDismiss})}function lQ(e){return n.useEffect(()=>{h.glU.populatePointerModalNodeTrackerForTeamUpdates()},[]),n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.UPDATES},n.createElement(nF.wV,{bodyText:n.createElement("span",{className:n8.R9},(0,N.tx)("figjam_onboarding_make_something.team_updates.fig_jam_s_great_for_team_syncs_here_s_how_it_works",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.team_updates.fig_jam_s_great_for_team_syncs_here_s_how_it_works_bold_text"))})),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:rn.A}))}function l$(e){let[t]=n.useState(()=>h.glU.getPointerModalNodeId("teamUpdatesSection")||""),{handleTargetLost:a}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.UPDATES},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:t,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.BOTTOM,onTargetLost:a},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.team_updates.each_person_gets_a_row_of_their_own_for_sharing_updates_and_priorities")),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function l0(e){let[t]=n.useState(()=>h.glU.getPointerModalNodeId("teamUpdatesPhotoBooth")||""),{handleTargetLost:a}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.UPDATES},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:t,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.BOTTOM,onTargetLost:a},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.team_updates.take_a_selfie_then_drag_it_into_whichever_row_you_d_like_try_and_click_the_red_dot",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.team_updates.take_a_selfie_then_drag_it_into_whichever_row_you_d_like_try_and_click_the_red_dot_bold_text"))})),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function l1(e){let[t]=n.useState(()=>h.glU.getPointerModalNodeId("teamUpdatesUpdates")||""),{handleTargetLost:a}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.UPDATES},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:t,topPadding:-5,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.BOTTOM,onTargetLost:a},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.team_updates.your_whole_team_can_share_updates_here")),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function l2(e){let[t]=n.useState(()=>h.glU.getPointerModalNodeId("teamUpdatesImportantDates")||""),{handleTargetLost:a}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nF.vX,{onSkipClick:e.dismissModal,useCase:n7.fD.UPDATES},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:t,topPadding:-5,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.BOTTOM,onTargetLost:a},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.team_updates.and_can_add_important_dates_to_the_calendar_over_here")),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function l5(e){let{onClickPrimaryCta:t,dismissModal:a}=e,[r]=n.useState(()=>h.glU.getPointerModalNodeId("teamUpdatesSticky")||""),{handleTargetLost:l}=(0,aZ.Du)({shouldSkipConnectorModalAtom:nT.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>{function e(){t()}return t9.Y5.fromFullscreen.on("finishedEditingSticky",e),()=>{t9.Y5.fromFullscreen.removeListener("finishedEditingSticky",e)}},[t]),n.createElement(nF.vX,{onSkipClick:a,useCase:n7.fD.UPDATES},n.createElement(aZ.Dv,{targetType:"canvas",targetKey:r,topPadding:-16,isBold:!0,autoWidth:!0,arrowPosition:nG.F_.TOP,onTargetLost:l},n.createElement(nF.mI,{bodyText:n.createElement("span",null,(0,N.tx)("figjam_onboarding_make_something.team_updates.give_it_a_go_try_typing_your_priorities_in_this_sticky_note",{boldText:n.createElement("b",null,(0,N.tx)("figjam_onboarding_make_something.team_updates.give_it_a_go_try_typing_your_priorities_in_this_sticky_note_bold_text"))}))})))}function l3(e){let{onNext:t}=nj({...e,useCase:n7.fD.UPDATES});return n.createElement(aZ.Dv,{targetType:"dom",targetKey:eZ.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0},n.createElement(a2,{titleText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.when_you_re_ready"),bodyText:(0,N.tx)("figjam_onboarding_make_something.team_updates.invite_your_teammates_and_run_a_quick_team_check_in"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:nF.mN,isBold:!0}))}function l4(e){return(0,nF.rL)({useCase:n7.fD.UPDATES,stepName:"Intro",stepNum:1}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Updates - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:lQ,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l6(e){return(0,nF.rL)({useCase:n7.fD.UPDATES,stepName:"Section",stepNum:2}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Updates - Section`,userFlagOnShow:"figjam_editor_onboarded",element:l$,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l7(e){return(0,nF.rL)({useCase:n7.fD.UPDATES,stepName:"Photo Booth",stepNum:3}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Updates - Photo Booth`,userFlagOnShow:"figjam_editor_onboarded",element:l0,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l8(e){return(0,nF.rL)({useCase:n7.fD.UPDATES,stepName:"Updates",stepNum:4}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Updates - Updates`,userFlagOnShow:"figjam_editor_onboarded",element:l1,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l9(e){return(0,nF.rL)({useCase:n7.fD.UPDATES,stepName:"Important Dates",stepNum:5}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Updates - Important Dates`,userFlagOnShow:"figjam_editor_onboarded",element:l2,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ie(e){return(0,nF.rL)({useCase:n7.fD.UPDATES,stepName:"Sticky",stepNum:6}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Updates - Sticky`,userFlagOnShow:"figjam_editor_onboarded",element:l5,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function it(e){let t=(0,aX.O)();return(0,nF.rL)({useCase:n7.fD.UPDATES,stepName:"Share",stepNum:7}),n.createElement(ez.h,{testId:e.testId,modalType:eY.q3.SELF_CONTAINED,trackingContextName:`${nF.CM} - Team Updates - Share`,userFlagOnShow:"figjam_editor_onboarded",element:l3,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:n7.fD.UPDATES}),e.onClose()},onManualDismiss:e.onManualDismiss})}function ia(e){switch(e){case n7.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED:return[lh,lg,lE,ly,lv,lb,lC,ir];case n7.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED:return[l4,l6,l7,l8,l9,ie,it,ir];case n7.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED:return[lL,lO,lR,lM,lD,lP,lF,ir];case n7.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED:return[lW,lj,lZ,lY,lX,lq,lJ,ir];default:return[]}}function ir({onClickPrimaryCta:e}){let t=(0,s.d4)(e=>e.modalShown),a=(0,n.useRef)(t);return(0,n.useEffect)(()=>{!t&&a.current&&(e(),(0,aW.YQ)({id:eZ.P7}))},[e,t]),n.createElement(n.Fragment,null)}function il(){let[e,t]=n.useState([]),a=(0,v.Xr)(nT.w),{complete:r,uniqueId:l,show:i,isShowing:o}=(0,u.e)({overlay:f.Njd,priority:m.N.OVERRIDING_MODAL}),s=n.useCallback(()=>{r(),a(nT.tX.COMPLETED)},[r,a]);return((0,eC.E)(l,n7.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED,()=>{t(ia(n7.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED)),a(nT.tX.USE_CASE_STEPS),i()}),(0,eC.E)(l,n7.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED,()=>{t(ia(n7.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED)),a(nT.tX.USE_CASE_STEPS),i()}),(0,eC.E)(l,n7.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED,()=>{t(ia(n7.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED)),a(nT.tX.USE_CASE_STEPS),i()}),(0,eC.E)(l,n7.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED,()=>{t(ia(n7.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED)),a(nT.tX.USE_CASE_STEPS),i()}),nC({overlayUniqueId:l,afterReset:r}),0===e.length)?null:n.createElement(nw,{steps:e,onComplete:s,isShowing:o,overlayUniqueId:l})}var ii=a(992303),io=a(835691),is=a(784578),ic=a(317946);let id="edit_action_experiment_dont_show_again";function iu({dismissModal:e}){let t=(0,ic.E)(),a=(0,s.wA)(),r=(0,ei.q5)();return n.createElement(n.Fragment,null,n.createElement("div",{className:"edit_action_experiment_steps--header--kBYL2 onboarding--editorOnboardingHeader--Kk5Cb"},(0,N.tx)("pro_edit_action.heading")),n.createElement("div",{className:"edit_action_experiment_steps--content---HMhp"},(0,N.tx)("pro_edit_action.body_text")),n.createElement("div",{className:"edit_action_experiment_steps--cta--3U128"},n.createElement(tF.tM,{onClick:()=>{a(c.b({[id]:!0})),e()},trackingProperties:{text:"Not now"}},(0,N.tx)("pro_edit_action.dismiss_button_text")),n.createElement(tF.vd,{className:"edit_action_experiment_steps--primaryButton--R2FKA",onClick:()=>{e(),r&&t(r,is.$5)},trackingProperties:{text:"Start editing"}},(0,N.tx)("pro_edit_action.primary_button_text"))))}var im=a(22774),ip=a(708277),i_=a(217071);let ih=(0,ip.Op)({initial:"await_button_or_fullscreen",states:[{id:"await_button_or_fullscreen",transitions:[(0,ip.nr)("Context Viewed","check_in_drafts",{condition:({event:e})=>"Editor > Toolbar > File Edit Button"===e.properties.name||"Editor > Toolbelt > File Edit Button"===e.properties.name}),(0,ip.nr)(i_.R,"check_show_button",{condition:({event:e})=>0!==e.properties.numSelected&&null!=e.properties.numSelected}),(0,ip.nr)(im.cZ,"check_show_button")]},{id:"check_in_drafts",transitions:[(0,ip.MR)("static_checks_in_drafts","await_button_or_fullscreen",{condition:({event:e})=>!e.succeeded}),(0,ip.MR)("static_checks_in_drafts","show_overlay",{condition:({event:e})=>e.succeeded})]},{id:"check_show_button",transitions:[(0,ip.MR)("static_checks_show_button","await_button_or_fullscreen",{condition:({event:e})=>!e.succeeded}),(0,ip.MR)("static_checks_show_button","show_overlay",{condition:({event:e})=>e.succeeded})]},{id:"show_overlay",terminal:!0}]}),ig="edit_action_experiment_shown_once",iE="edit_action_experiment_shown_twice",iy=(0,eT.r1)("edit_action_experiment_dont_show_again"),iv=(0,eT.r1)(ig),ib=(0,eT.r1)(iE);function iC(){let e=(0,s.wA)(),t=(0,io.eD)(ih),a=(0,y.md)(iy),r=(0,y.md)(tT.$q),l=(0,y.md)(iv),i=(0,y.md)(ib),o=(0,y.md)(tT.aT),d=(0,u.e)({overlay:f.UGT,priority:m.N.HIGH_PRIORITY_MODAL},[a,l,i]),p=(0,n.useCallback)(()=>{d.show({canShow:e=>!e})},[d]),_=(0,n.useCallback)(()=>{"loaded"!==l.status||l.data||e(c.b({[ig]:!0})),"loaded"===l.status&&l.data&&e(c.b({[iE]:!0})),d.complete()},[e,d,l]);(0,io.ST)(t,(0,n.useCallback)(({to:e})=>{"check_in_drafts"===e&&t.transition({id:"static_checks_in_drafts",succeeded:!r}),"check_show_button"===e&&t.transition({id:"static_checks_show_button",succeeded:o}),"show_overlay"===e&&(p(),t.reset())},[r,t,o,p]));let h=(0,n.useCallback)(({dismissModal:e})=>n.createElement(iu,{dismissModal:e}),[]);return n.createElement(ez.h,{className:"edit_action_experiment_steps--modal--3KhyN pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",element:h,disableHighlight:!0,isShowing:d.isShowing,modalType:eY.q3.WALK_THROUGH,onboardingKey:is.m7,onClickPrimaryCta:_,onClose:_,onManualDismiss:_,shouldCenterArrow:nG.EL.FALLBACK,shouldDismissWhenLostDOMTarget:!0,trackingContextName:"Edit Action Experiment Modal (no checkbox)",width:300-2*aZ.uv,additionalOnExplicitDismiss:()=>{e(c.b({[id]:!0}))}})}var iw=a(217266),iT=a(401352),iS=a(175290),iN=a(898211),ix=a(237870);function ik(){return n.createElement("svg",{width:"146",height:"191",viewBox:"0 0 146 191",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M35 153H3C1.34315 153 0 154.343 0 156V188C0 189.657 1.34315 191 3 191H35C36.6569 191 38 189.657 38 188V156C38 154.343 36.6569 153 35 153Z",fill:"#007BE5"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.875 166.25C22.4943 166.25 21.375 167.369 21.375 168.75C21.375 170.131 22.4943 171.25 23.875 171.25C25.2557 171.25 26.375 170.131 26.375 168.75C26.375 167.369 25.2557 166.25 23.875 166.25ZM19.875 168.75C19.875 166.541 21.6659 164.75 23.875 164.75C26.0841 164.75 27.875 166.541 27.875 168.75C27.875 170.3 26.9937 171.644 25.7049 172.308C28.337 173.03 30.3125 175.271 30.3125 178.012V179.312V180.062H29.5625H20.5625H19.8125H18.1875H8.4375H7.6875V179.312V178.012C7.6875 175.271 9.663 173.03 12.2951 172.308C11.0063 171.644 10.125 170.3 10.125 168.75C10.125 166.541 11.9159 164.75 14.125 164.75C16.3341 164.75 18.125 166.541 18.125 168.75C18.125 170.3 17.2437 171.644 15.9549 172.308C17.1449 172.634 18.2008 173.271 19.0005 174.125C19.7985 173.271 20.8514 172.633 22.0433 172.307C20.7555 171.642 19.875 170.299 19.875 168.75ZM9.1875 178.012C9.1875 175.617 11.3334 173.562 14.125 173.562C16.9166 173.562 19.0625 175.617 19.0625 178.012V178.562H18.1875H9.1875V178.012ZM20.5625 178.562H28.8125V178.012C28.8125 175.617 26.6666 173.562 23.875 173.562C22.2296 173.562 20.7911 174.286 19.8997 175.374C20.323 176.164 20.5625 177.058 20.5625 178.012V178.562ZM11.625 168.75C11.625 167.369 12.7443 166.25 14.125 166.25C15.5057 166.25 16.625 167.369 16.625 168.75C16.625 170.131 15.5057 171.25 14.125 171.25C12.7443 171.25 11.625 170.131 11.625 168.75Z",fill:"white"}),n.createElement("path",{d:"M89 153H57C55.3431 153 54 154.343 54 156V188C54 189.657 55.3431 191 57 191H89C90.6569 191 92 189.657 92 188V156C92 154.343 90.6569 153 89 153Z",fill:"#9747FF"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M77.875 166.25C76.4943 166.25 75.375 167.369 75.375 168.75C75.375 170.131 76.4943 171.25 77.875 171.25C79.2557 171.25 80.375 170.131 80.375 168.75C80.375 167.369 79.2557 166.25 77.875 166.25ZM73.875 168.75C73.875 166.541 75.6659 164.75 77.875 164.75C80.0841 164.75 81.875 166.541 81.875 168.75C81.875 170.3 80.9937 171.644 79.7049 172.308C82.337 173.03 84.3125 175.271 84.3125 178.012V179.312V180.062H83.5625H74.5625H73.8125H72.1875H62.4375H61.6875V179.312V178.012C61.6875 175.271 63.663 173.03 66.2951 172.308C65.0063 171.644 64.125 170.3 64.125 168.75C64.125 166.541 65.9159 164.75 68.125 164.75C70.3341 164.75 72.125 166.541 72.125 168.75C72.125 170.3 71.2437 171.644 69.9549 172.308C71.1449 172.634 72.2008 173.271 73.0005 174.125C73.7985 173.271 74.8514 172.633 76.0433 172.307C74.7555 171.642 73.875 170.299 73.875 168.75ZM63.1875 178.012C63.1875 175.617 65.3334 173.562 68.125 173.562C70.9166 173.562 73.0625 175.617 73.0625 178.012V178.562H72.1875H63.1875V178.012ZM74.5625 178.562H82.8125V178.012C82.8125 175.617 80.6666 173.562 77.875 173.562C76.2296 173.562 74.7911 174.286 73.8997 175.374C74.323 176.164 74.5625 177.058 74.5625 178.012V178.562ZM65.625 168.75C65.625 167.369 66.7443 166.25 68.125 166.25C69.5057 166.25 70.625 167.369 70.625 168.75C70.625 170.131 69.5057 171.25 68.125 171.25C66.7443 171.25 65.625 170.131 65.625 168.75Z",fill:"white"}),n.createElement("path",{d:"M143 153H111C109.343 153 108 154.343 108 156V188C108 189.657 109.343 191 111 191H143C144.657 191 146 189.657 146 188V156C146 154.343 144.657 153 143 153Z",fill:"#FFCD29"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M131.875 166.25C130.494 166.25 129.375 167.369 129.375 168.75C129.375 170.131 130.494 171.25 131.875 171.25C133.256 171.25 134.375 170.131 134.375 168.75C134.375 167.369 133.256 166.25 131.875 166.25ZM127.875 168.75C127.875 166.541 129.666 164.75 131.875 164.75C134.084 164.75 135.875 166.541 135.875 168.75C135.875 170.3 134.994 171.644 133.705 172.308C136.337 173.03 138.312 175.271 138.312 178.012V179.312V180.062H137.562H128.562H127.812H126.188H116.438H115.688V179.312V178.012C115.688 175.271 117.663 173.03 120.295 172.308C119.006 171.644 118.125 170.3 118.125 168.75C118.125 166.541 119.916 164.75 122.125 164.75C124.334 164.75 126.125 166.541 126.125 168.75C126.125 170.3 125.244 171.644 123.955 172.308C125.145 172.634 126.201 173.271 127 174.125C127.799 173.271 128.851 172.633 130.043 172.307C128.755 171.642 127.875 170.299 127.875 168.75ZM117.188 178.012C117.188 175.617 119.333 173.562 122.125 173.562C124.917 173.562 127.062 175.617 127.062 178.012V178.562H126.188H117.188V178.012ZM128.562 178.562H136.812V178.012C136.812 175.617 134.667 173.562 131.875 173.562C130.23 173.562 128.791 174.286 127.9 175.374C128.323 176.164 128.562 177.058 128.562 178.012V178.562ZM119.625 168.75C119.625 167.369 120.744 166.25 122.125 166.25C123.506 166.25 124.625 167.369 124.625 168.75C124.625 170.131 123.506 171.25 122.125 171.25C120.744 171.25 119.625 170.131 119.625 168.75Z",fill:"white"}),n.createElement("path",{d:"M112.581 1L125 13.7668V113H20V1H112.581Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5 0.5H112.792L125.5 13.5637V113.5H19.5V0.5ZM20.5 1.5V112.5H124.5V14.2668H112.081V1.5H20.5ZM113.081 2.23108L123.816 13.2668H113.081V2.23108Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M38 71C41.866 71 45 67.866 45 64C45 60.134 41.866 57 38 57C34.134 57 31 60.134 31 64C31 67.866 34.134 71 38 71Z",fill:"#56CCF2",fillOpacity:"0.8"}),n.createElement("path",{d:"M60 71C63.866 71 67 67.866 67 64C67 60.134 63.866 57 60 57C56.134 57 53 60.134 53 64C53 67.866 56.134 71 60 71Z",fill:"#EB5757"}),n.createElement("path",{d:"M82 71C85.866 71 89 67.866 89 64C89 60.134 85.866 57 82 57C78.134 57 75 60.134 75 64C75 67.866 78.134 71 82 71Z",fill:"#F2994A"}),n.createElement("path",{d:"M104 71C107.866 71 111 67.866 111 64C111 60.134 107.866 57 104 57C100.134 57 97 60.134 97 64C97 67.866 100.134 71 104 71Z",fill:"#F2C94C"}),n.createElement("path",{d:"M38 49C41.866 49 45 45.866 45 42C45 38.134 41.866 35 38 35C34.134 35 31 38.134 31 42C31 45.866 34.134 49 38 49Z",fill:"#333333"}),n.createElement("path",{d:"M60 49C63.866 49 67 45.866 67 42C67 38.134 63.866 35 60 35C56.134 35 53 38.134 53 42C53 45.866 56.134 49 60 49Z",fill:"#4F4F4F"}),n.createElement("path",{d:"M82 49C85.866 49 89 45.866 89 42C89 38.134 85.866 35 82 35C78.134 35 75 38.134 75 42C75 45.866 78.134 49 82 49Z",fill:"#828282"}),n.createElement("path",{d:"M104 49C107.866 49 111 45.866 111 42C111 38.134 107.866 35 104 35C100.134 35 97 38.134 97 42C97 45.866 100.134 49 104 49Z",fill:"#E0E0E0"}),n.createElement("path",{d:"M36.66 20L36.1 18.36H33.26L32.68 20H31.05L33.72 13H35.69L38.34 20H36.66ZM33.7 17.1H35.67L35.15 15.58C34.99 15.11 34.97 14.59 34.96 13.85H34.42C34.41 14.59 34.4 15.11 34.23 15.59L33.7 17.1ZM39.9023 21.95C38.9523 21.95 38.6523 21.49 38.6523 21.01C38.6523 20.61 38.9823 20.32 39.3423 20.21V19.75C39.0223 19.66 38.7723 19.44 38.7723 19.08C38.7723 18.54 39.1623 18.28 39.5923 18.14V17.69C39.2423 17.44 39.0223 17.16 39.0223 16.65C39.0223 15.6 39.9323 14.85 41.1023 14.85C41.9223 14.85 42.6723 15.17 42.9323 15.9H43.3623C43.4423 15.17 43.6723 15 44.1523 15H44.4123V16.08H43.8623C43.5523 16.08 43.4723 16.15 43.4123 16.66L43.4023 16.75C43.2823 17.83 42.4123 18.49 41.2423 18.49C40.8723 18.49 40.5023 18.45 40.2023 18.32C39.9223 18.4 39.8223 18.51 39.8223 18.67C39.8223 18.89 40.0323 18.89 40.3223 18.89H42.4723C43.5423 18.89 44.2123 19.59 44.2123 20.4C44.2123 21.41 43.4523 21.95 42.4723 21.95H39.9023ZM41.2323 17.56C41.7623 17.56 42.1123 17.22 42.1123 16.71C42.1123 16.19 41.7623 15.81 41.2323 15.81C40.7023 15.81 40.3523 16.19 40.3523 16.71C40.3523 17.22 40.7023 17.56 41.2323 17.56ZM40.2423 20.92H42.1923C42.6623 20.92 42.8123 20.73 42.8123 20.45C42.8123 20.22 42.6623 20 42.1923 20H40.0023C39.8823 20.07 39.7423 20.25 39.7423 20.45C39.7423 20.77 39.9723 20.92 40.2423 20.92Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M54.62 20L53.97 18.15H50.89L50.23 20H49.15L51.78 13H53.16L55.74 20H54.62ZM51.22 17.23H53.64L52.97 15.33C52.77 14.75 52.66 14.35 52.65 13.7H52.23C52.21 14.35 52.11 14.76 51.9 15.33L51.22 17.23ZM57.4441 21.95C56.5441 21.95 56.2441 21.45 56.2441 21.05C56.2441 20.6 56.5041 20.27 56.9341 20.08V19.72C56.6641 19.63 56.4441 19.41 56.4441 19.11C56.4441 18.73 56.7041 18.43 57.1841 18.23V17.87C56.8741 17.62 56.6441 17.28 56.6441 16.64C56.6441 15.7 57.4141 14.9 58.5441 14.9C59.5941 14.9 60.0441 15.46 60.2141 15.87H60.5641C60.6041 15.4 60.8441 15.04 61.3241 15.04H61.6641V15.82H61.2541C60.8341 15.82 60.6741 15.92 60.6341 16.49L60.6141 16.73C60.5241 17.85 59.7541 18.57 58.6441 18.57C58.3041 18.57 57.9841 18.53 57.7041 18.38C57.4341 18.49 57.2641 18.67 57.2641 18.85C57.2641 19.02 57.3641 19.17 57.7041 19.17H59.8541C60.8241 19.17 61.4541 19.73 61.4541 20.56C61.4541 21.49 60.7341 21.95 59.8741 21.95H57.4441ZM58.6441 17.83C59.2941 17.83 59.7141 17.4 59.7141 16.74C59.7141 16.09 59.2941 15.64 58.6441 15.64C57.9941 15.64 57.5741 16.09 57.5741 16.74C57.5741 17.4 57.9941 17.83 58.6441 17.83ZM57.8241 21.15H59.7541C60.1541 21.15 60.5041 21.04 60.5041 20.57C60.5041 20.1 60.1541 20 59.7541 20H57.4341C57.2741 20.1 57.0741 20.32 57.0741 20.63C57.0741 21.03 57.3441 21.15 57.8241 21.15Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M67.4862 20H66.2205L68.5249 13.4545H69.9886L72.2962 20H71.0305L69.2823 14.7969H69.2312L67.4862 20ZM67.5277 17.4336H70.9794V18.386H67.5277V17.4336ZM75.1377 21.9432C74.7222 21.9432 74.3653 21.8867 74.067 21.7738C73.7687 21.663 73.529 21.5138 73.3479 21.3263C73.1668 21.1388 73.0411 20.9311 72.9708 20.7031L74.0127 20.4506C74.0596 20.5465 74.1277 20.6413 74.2172 20.7351C74.3067 20.831 74.4271 20.9098 74.5784 20.9716C74.7318 21.0355 74.9246 21.0675 75.1569 21.0675C75.485 21.0675 75.7566 20.9876 75.9718 20.8278C76.187 20.6701 76.2946 20.4102 76.2946 20.0479V19.1179H76.2371C76.1775 19.2372 76.0901 19.3597 75.975 19.4854C75.8621 19.6112 75.7119 19.7166 75.5244 19.8018C75.339 19.8871 75.1057 19.9297 74.8245 19.9297C74.4473 19.9297 74.1054 19.8413 73.7986 19.6644C73.4939 19.4854 73.251 19.2191 73.0699 18.8654C72.8909 18.5096 72.8014 18.0643 72.8014 17.5295C72.8014 16.9904 72.8909 16.5355 73.0699 16.1648C73.251 15.7919 73.4949 15.5096 73.8017 15.3178C74.1086 15.1239 74.4505 15.027 74.8277 15.027C75.1153 15.027 75.3518 15.076 75.5372 15.174C75.7247 15.2699 75.8738 15.386 75.9846 15.5224C76.0954 15.6566 76.1796 15.7834 76.2371 15.9027H76.301V15.0909H77.442V20.0799C77.442 20.4996 77.3419 20.8469 77.1416 21.1218C76.9413 21.3967 76.6675 21.6023 76.3202 21.7386C75.9729 21.875 75.5787 21.9432 75.1377 21.9432ZM75.1473 19.022C75.3923 19.022 75.6011 18.9624 75.7737 18.843C75.9463 18.7237 76.0773 18.5522 76.1668 18.3285C76.2563 18.1048 76.301 17.8363 76.301 17.5231C76.301 17.2141 76.2563 16.9435 76.1668 16.7113C76.0794 16.479 75.9495 16.299 75.7769 16.1712C75.6064 16.0412 75.3966 15.9762 75.1473 15.9762C74.8895 15.9762 74.6743 16.0433 74.5017 16.1776C74.3291 16.3118 74.1991 16.4961 74.1118 16.7305C74.0244 16.9627 73.9807 17.2269 73.9807 17.5231C73.9807 17.8235 74.0244 18.0866 74.1118 18.3125C74.2013 18.5362 74.3323 18.7109 74.5049 18.8366C74.6796 18.9602 74.8937 19.022 75.1473 19.022Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M84.0611 20H83.2301L85.6335 13.4545H86.4517L88.8551 20H88.0241L86.0682 14.4901H86.017L84.0611 20ZM84.3679 17.4432H87.7173V18.1463H84.3679V17.4432ZM91.7989 21.9432C91.4346 21.9432 91.1213 21.8963 90.8593 21.8026C90.5972 21.7109 90.3788 21.5895 90.2041 21.4382C90.0315 21.2891 89.8941 21.1293 89.7918 20.9588L90.3927 20.5369C90.4608 20.6264 90.5471 20.7287 90.6515 20.8438C90.7559 20.9609 90.8987 21.0621 91.0798 21.1474C91.263 21.2347 91.5027 21.2784 91.7989 21.2784C92.1952 21.2784 92.5223 21.1825 92.7801 20.9908C93.0379 20.799 93.1668 20.4986 93.1668 20.0895V19.0923H93.1029C93.0475 19.1818 92.9687 19.2926 92.8664 19.4247C92.7662 19.5547 92.6213 19.6708 92.4317 19.7731C92.2442 19.8732 91.9907 19.9233 91.6711 19.9233C91.2748 19.9233 90.9189 19.8295 90.6036 19.642C90.2904 19.4545 90.0422 19.1818 89.8589 18.8239C89.6778 18.4659 89.5873 18.0312 89.5873 17.5199C89.5873 17.017 89.6757 16.5792 89.8525 16.2063C90.0294 15.8313 90.2755 15.5415 90.5908 15.337C90.9062 15.1303 91.2705 15.027 91.6838 15.027C92.0035 15.027 92.257 15.0803 92.4445 15.1868C92.6341 15.2912 92.779 15.4105 92.8792 15.5447C92.9814 15.6768 93.0603 15.7855 93.1157 15.8707H93.1924V15.0909H93.9211V20.1406C93.9211 20.5625 93.8252 20.9055 93.6334 21.1697C93.4438 21.4361 93.1881 21.631 92.8664 21.7546C92.5468 21.8803 92.191 21.9432 91.7989 21.9432ZM91.7733 19.2457C92.0759 19.2457 92.3316 19.1765 92.5404 19.038C92.7492 18.8995 92.9079 18.7003 93.0166 18.4403C93.1253 18.1804 93.1796 17.8693 93.1796 17.5071C93.1796 17.1534 93.1263 16.8413 93.0198 16.5707C92.9133 16.3001 92.7556 16.0881 92.5468 15.9347C92.338 15.7812 92.0802 15.7045 91.7733 15.7045C91.4537 15.7045 91.1874 15.7855 90.9743 15.9474C90.7634 16.1094 90.6047 16.3267 90.4981 16.5994C90.3937 16.8722 90.3415 17.1747 90.3415 17.5071C90.3415 17.848 90.3948 18.1495 90.5013 18.4116C90.61 18.6715 90.7698 18.8761 90.9807 19.0252C91.1938 19.1722 91.458 19.2457 91.7733 19.2457Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M75.8419 93V88.6364H77.4399C77.7496 88.6364 78.006 88.6875 78.2091 88.7898C78.4122 88.8906 78.5642 89.0277 78.6651 89.201C78.7659 89.3729 78.8163 89.5668 78.8163 89.7827C78.8163 89.9645 78.783 90.1179 78.7162 90.2429C78.6494 90.3665 78.5599 90.4659 78.4477 90.5412C78.3369 90.6151 78.2148 90.669 78.0813 90.7031V90.7457C78.2261 90.7528 78.3675 90.7997 78.5053 90.8864C78.6445 90.9716 78.7595 91.093 78.8504 91.2507C78.9413 91.4084 78.9868 91.6001 78.9868 91.826C78.9868 92.049 78.9342 92.2493 78.8291 92.4268C78.7254 92.603 78.5649 92.7429 78.3476 92.8466C78.1303 92.9489 77.8526 93 77.5145 93H75.8419ZM76.5003 92.4354H77.4506C77.7659 92.4354 77.9918 92.3743 78.1281 92.2521C78.2645 92.13 78.3327 91.9773 78.3327 91.794C78.3327 91.6562 78.2979 91.5298 78.2283 91.4148C78.1587 91.2997 78.0592 91.2081 77.93 91.1399C77.8021 91.0717 77.6501 91.0376 77.474 91.0376H76.5003V92.4354ZM76.5003 90.5241H77.3824C77.5301 90.5241 77.6629 90.4957 77.7808 90.4389C77.9001 90.3821 77.9946 90.3026 78.0642 90.2003C78.1352 90.0966 78.1707 89.9744 78.1707 89.8338C78.1707 89.6534 78.1075 89.5021 77.9811 89.38C77.8547 89.2578 77.6608 89.1967 77.3994 89.1967H76.5003V90.5241ZM81.8197 91.6428V89.7273H82.4589V93H81.8325V92.4332H81.7984C81.7231 92.608 81.6024 92.7536 81.4362 92.87C81.2714 92.9851 81.0662 93.0426 80.8204 93.0426C80.6102 93.0426 80.4241 92.9964 80.2622 92.9041C80.1017 92.8104 79.9752 92.6719 79.8829 92.4886C79.792 92.3054 79.7465 92.0788 79.7465 91.8089V89.7273H80.3836V91.7322C80.3836 91.9553 80.4454 92.1328 80.569 92.2649C80.6926 92.397 80.8531 92.4631 81.0505 92.4631C81.1698 92.4631 81.2885 92.4332 81.4063 92.3736C81.5257 92.3139 81.6244 92.2237 81.7025 92.103C81.7821 91.9822 81.8211 91.8288 81.8197 91.6428ZM84.8726 89.7273V90.2386H83.085V89.7273H84.8726ZM83.5644 88.9432H84.2014V92.0391C84.2014 92.1626 84.2199 92.2557 84.2568 92.3182C84.2938 92.3793 84.3414 92.4212 84.3996 92.4439C84.4593 92.4652 84.5239 92.4759 84.5935 92.4759C84.6446 92.4759 84.6894 92.4723 84.7277 92.4652C84.7661 92.4581 84.7959 92.4524 84.8172 92.4482L84.9323 92.9744C84.8953 92.9886 84.8428 93.0028 84.7746 93.017C84.7064 93.0327 84.6212 93.0412 84.5189 93.0426C84.3513 93.0455 84.195 93.0156 84.0502 92.9531C83.9053 92.8906 83.7881 92.794 83.6986 92.6634C83.6091 92.5327 83.5644 92.3686 83.5644 92.1712V88.9432ZM87.135 89.7273V90.2386H85.3474V89.7273H87.135ZM85.8268 88.9432H86.4639V92.0391C86.4639 92.1626 86.4823 92.2557 86.5193 92.3182C86.5562 92.3793 86.6038 92.4212 86.662 92.4439C86.7217 92.4652 86.7863 92.4759 86.8559 92.4759C86.907 92.4759 86.9518 92.4723 86.9901 92.4652C87.0285 92.4581 87.0583 92.4524 87.0796 92.4482L87.1947 92.9744C87.1578 92.9886 87.1052 93.0028 87.037 93.017C86.9688 93.0327 86.8836 93.0412 86.7813 93.0426C86.6137 93.0455 86.4575 93.0156 86.3126 92.9531C86.1677 92.8906 86.0505 92.794 85.961 92.6634C85.8715 92.5327 85.8268 92.3686 85.8268 92.1712V88.9432ZM89.2131 93.0661C88.9063 93.0661 88.6386 92.9957 88.4099 92.8551C88.1812 92.7145 88.0036 92.5178 87.8772 92.2649C87.7508 92.0121 87.6876 91.7166 87.6876 91.3786C87.6876 91.0391 87.7508 90.7422 87.8772 90.4879C88.0036 90.2337 88.1812 90.0362 88.4099 89.8956C88.6386 89.755 88.9063 89.6847 89.2131 89.6847C89.52 89.6847 89.7877 89.755 90.0164 89.8956C90.2451 90.0362 90.4227 90.2337 90.5491 90.4879C90.6755 90.7422 90.7387 91.0391 90.7387 91.3786C90.7387 91.7166 90.6755 92.0121 90.5491 92.2649C90.4227 92.5178 90.2451 92.7145 90.0164 92.8551C89.7877 92.9957 89.52 93.0661 89.2131 93.0661ZM89.2153 92.5312C89.4141 92.5312 89.5789 92.4787 89.7096 92.3736C89.8403 92.2685 89.9369 92.1286 89.9994 91.9538C90.0633 91.7791 90.0952 91.5866 90.0952 91.3764C90.0952 91.1676 90.0633 90.9759 89.9994 90.8011C89.9369 90.625 89.8403 90.4837 89.7096 90.3771C89.5789 90.2706 89.4141 90.2173 89.2153 90.2173C89.015 90.2173 88.8488 90.2706 88.7167 90.3771C88.586 90.4837 88.4887 90.625 88.4248 90.8011C88.3623 90.9759 88.331 91.1676 88.331 91.3764C88.331 91.5866 88.3623 91.7791 88.4248 91.9538C88.4887 92.1286 88.586 92.2685 88.7167 92.3736C88.8488 92.4787 89.015 92.5312 89.2153 92.5312ZM92.1169 91.0568V93H91.4798V89.7273H92.0913V90.2599H92.1318C92.2071 90.0866 92.325 89.9474 92.4855 89.8423C92.6474 89.7372 92.8513 89.6847 93.097 89.6847C93.32 89.6847 93.5153 89.7315 93.683 89.8253C93.8506 89.9176 93.9805 90.0554 94.0729 90.2386C94.1652 90.4219 94.2114 90.6484 94.2114 90.9183V93H93.5743V90.995C93.5743 90.7578 93.5125 90.5724 93.3889 90.4389C93.2653 90.304 93.0956 90.2365 92.8797 90.2365C92.732 90.2365 92.6006 90.2685 92.4855 90.3324C92.3719 90.3963 92.2817 90.4901 92.2149 90.6136C92.1496 90.7358 92.1169 90.8835 92.1169 91.0568Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 83C71.8954 83 71 83.8954 71 85V97C71 98.1046 71.8954 99 73 99H97C98.1046 99 99 98.1046 99 97V85C99 83.8954 98.1046 83 97 83H73ZM70 85C70 83.3431 71.3431 82 73 82H97C98.6569 82 100 83.3431 100 85V97C100 98.6569 98.6569 100 97 100H73C71.3431 100 70 98.6569 70 97V85Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M58 82H34C32.3431 82 31 83.3431 31 85V97C31 98.6569 32.3431 100 34 100H58C59.6569 100 61 98.6569 61 97V85C61 83.3431 59.6569 82 58 82Z",fill:"#56CCF2",fillOpacity:"0.8"}),n.createElement("path",{d:"M36.7669 93V88.6364H38.3649C38.6746 88.6364 38.931 88.6875 39.1341 88.7898C39.3372 88.8906 39.4892 89.0277 39.5901 89.201C39.6909 89.3729 39.7413 89.5668 39.7413 89.7827C39.7413 89.9645 39.708 90.1179 39.6412 90.2429C39.5744 90.3665 39.4849 90.4659 39.3727 90.5412C39.2619 90.6151 39.1398 90.669 39.0063 90.7031V90.7457C39.1511 90.7528 39.2925 90.7997 39.4303 90.8864C39.5695 90.9716 39.6845 91.093 39.7754 91.2507C39.8663 91.4084 39.9118 91.6001 39.9118 91.826C39.9118 92.049 39.8592 92.2493 39.7541 92.4268C39.6504 92.603 39.4899 92.7429 39.2726 92.8466C39.0553 92.9489 38.7776 93 38.4395 93H36.7669ZM37.4253 92.4354H38.3756C38.6909 92.4354 38.9168 92.3743 39.0531 92.2521C39.1895 92.13 39.2577 91.9773 39.2577 91.794C39.2577 91.6562 39.2229 91.5298 39.1533 91.4148C39.0837 91.2997 38.9842 91.2081 38.855 91.1399C38.7271 91.0717 38.5751 91.0376 38.399 91.0376H37.4253V92.4354ZM37.4253 90.5241H38.3074C38.4551 90.5241 38.5879 90.4957 38.7058 90.4389C38.8251 90.3821 38.9196 90.3026 38.9892 90.2003C39.0602 90.0966 39.0957 89.9744 39.0957 89.8338C39.0957 89.6534 39.0325 89.5021 38.9061 89.38C38.7797 89.2578 38.5858 89.1967 38.3244 89.1967H37.4253V90.5241ZM42.7747 91.6428V89.7273H43.4139V93H42.7875V92.4332H42.7534C42.6781 92.608 42.5574 92.7536 42.3912 92.87C42.2264 92.9851 42.0212 93.0426 41.7754 93.0426C41.5652 93.0426 41.3791 92.9964 41.2172 92.9041C41.0567 92.8104 40.9302 92.6719 40.8379 92.4886C40.747 92.3054 40.7015 92.0788 40.7015 91.8089V89.7273H41.3386V91.7322C41.3386 91.9553 41.4004 92.1328 41.524 92.2649C41.6476 92.397 41.8081 92.4631 42.0055 92.4631C42.1248 92.4631 42.2435 92.4332 42.3613 92.3736C42.4807 92.3139 42.5794 92.2237 42.6575 92.103C42.7371 91.9822 42.7761 91.8288 42.7747 91.6428ZM45.8576 89.7273V90.2386H44.07V89.7273H45.8576ZM44.5494 88.9432H45.1864V92.0391C45.1864 92.1626 45.2049 92.2557 45.2418 92.3182C45.2788 92.3793 45.3264 92.4212 45.3846 92.4439C45.4443 92.4652 45.5089 92.4759 45.5785 92.4759C45.6296 92.4759 45.6744 92.4723 45.7127 92.4652C45.7511 92.4581 45.7809 92.4524 45.8022 92.4482L45.9173 92.9744C45.8803 92.9886 45.8278 93.0028 45.7596 93.017C45.6914 93.0327 45.6062 93.0412 45.5039 93.0426C45.3363 93.0455 45.18 93.0156 45.0352 92.9531C44.8903 92.8906 44.7731 92.794 44.6836 92.6634C44.5941 92.5327 44.5494 92.3686 44.5494 92.1712V88.9432ZM48.15 89.7273V90.2386H46.3624V89.7273H48.15ZM46.8418 88.9432H47.4789V92.0391C47.4789 92.1626 47.4973 92.2557 47.5343 92.3182C47.5712 92.3793 47.6188 92.4212 47.677 92.4439C47.7367 92.4652 47.8013 92.4759 47.8709 92.4759C47.922 92.4759 47.9668 92.4723 48.0051 92.4652C48.0435 92.4581 48.0733 92.4524 48.0946 92.4482L48.2097 92.9744C48.1728 92.9886 48.1202 93.0028 48.052 93.017C47.9838 93.0327 47.8986 93.0412 47.7963 93.0426C47.6287 93.0455 47.4725 93.0156 47.3276 92.9531C47.1827 92.8906 47.0655 92.794 46.976 92.6634C46.8865 92.5327 46.8418 92.3686 46.8418 92.1712V88.9432ZM50.2581 93.0661C49.9513 93.0661 49.6836 92.9957 49.4549 92.8551C49.2262 92.7145 49.0486 92.5178 48.9222 92.2649C48.7958 92.0121 48.7326 91.7166 48.7326 91.3786C48.7326 91.0391 48.7958 90.7422 48.9222 90.4879C49.0486 90.2337 49.2262 90.0362 49.4549 89.8956C49.6836 89.755 49.9513 89.6847 50.2581 89.6847C50.565 89.6847 50.8327 89.755 51.0614 89.8956C51.2901 90.0362 51.4677 90.2337 51.5941 90.4879C51.7205 90.7422 51.7837 91.0391 51.7837 91.3786C51.7837 91.7166 51.7205 92.0121 51.5941 92.2649C51.4677 92.5178 51.2901 92.7145 51.0614 92.8551C50.8327 92.9957 50.565 93.0661 50.2581 93.0661ZM50.2603 92.5312C50.4591 92.5312 50.6239 92.4787 50.7546 92.3736C50.8853 92.2685 50.9819 92.1286 51.0444 91.9538C51.1083 91.7791 51.1402 91.5866 51.1402 91.3764C51.1402 91.1676 51.1083 90.9759 51.0444 90.8011C50.9819 90.625 50.8853 90.4837 50.7546 90.3771C50.6239 90.2706 50.4591 90.2173 50.2603 90.2173C50.06 90.2173 49.8938 90.2706 49.7617 90.3771C49.631 90.4837 49.5337 90.625 49.4698 90.8011C49.4073 90.9759 49.376 91.1676 49.376 91.3764C49.376 91.5866 49.4073 91.7791 49.4698 91.9538C49.5337 92.1286 49.631 92.2685 49.7617 92.3736C49.8938 92.4787 50.06 92.5312 50.2603 92.5312ZM53.1919 91.0568V93H52.5548V89.7273H53.1663V90.2599H53.2068C53.2821 90.0866 53.4 89.9474 53.5605 89.8423C53.7224 89.7372 53.9263 89.6847 54.172 89.6847C54.395 89.6847 54.5903 89.7315 54.758 89.8253C54.9256 89.9176 55.0555 90.0554 55.1479 90.2386C55.2402 90.4219 55.2864 90.6484 55.2864 90.9183V93H54.6493V90.995C54.6493 90.7578 54.5875 90.5724 54.4639 90.4389C54.3403 90.304 54.1706 90.2365 53.9547 90.2365C53.807 90.2365 53.6756 90.2685 53.5605 90.3324C53.4469 90.3963 53.3567 90.4901 53.2899 90.6136C53.2246 90.7358 53.1919 90.8835 53.1919 91.0568Z",fill:"white"}),n.createElement("mask",{id:"mask0_1_30",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"20",y:"121",width:"107",height:"22"},n.createElement("path",{d:"M126.001 121H20.5566V143H126.001V121Z",fill:"white"})),n.createElement("g",{mask:"url(#mask0_1_30)",className:"oss_sales_upsell_modal--graphicLine--6Z-mU"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 143V121H74V143H73Z"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.5566 121.477L20.5566 143L19.8759 142.267L39.8759 120.745L40.5566 121.477Z"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M126 142.523L106 121L106.681 120.267L126.681 141.79L126 142.523Z"})))}let iI=[{key:1,elem:(0,N.tx)("oss_sales_upsell_overlay.feature1")},{key:2,elem:(0,N.tx)("oss_sales_upsell_overlay.feature2")},{key:3,elem:(0,N.tx)("oss_sales_upsell_overlay.feature3")}],iA=(0,ix.Ju)(function({onDismiss:e}){let t=(0,y.md)(ei.yV),a=(0,s.wA)();return n.createElement(tZ.Rw,{isLoading:!t?.teamId,confirmationTitle:(0,N.tx)("oss_sales_upsell_overlay.title"),titleClass:"oss_sales_upsell_modal--title--wpaS5",confirmText:(0,N.tx)("oss_sales_upsell_overlay.primary_cta"),cancelText:(0,N.tx)("oss_sales_upsell_overlay.secondary_cta"),onConfirm:()=>{if(!t?.teamId)return;let e=eS.b.LIBRARY_DUPLICATE_OSS_SALES_UPSELL;a((0,ey.to)({type:eE.V,data:{upsellSource:e,teamId:t.teamId,isProCurrent:!0,overrideHighlightedPlan:"none",openCheckoutInNewTab:!0}}))},onCancel:()=>{a((0,ey.to)({type:iN.lk,data:{source:iN.B7.LIBRARY_DUPLICATE_OSS_SALES_UPSELL,overridePlaceholderText:(0,N.t)("oss_sales_upsell_overlay.contact_sales_form.text_placeholder")}}))},onCloseButtonClick:e,className:"oss_sales_upsell_modal--modal--fdI6U",overrideOnHide:e,hideOnConfirm:!1,hideOnCancel:!1,autoFocusCta:!1},n.createElement("div",{className:S.cx.lh24.font13.pt24.pr0.pb32.pl0.$},n.createElement(iS.Y,{spacing:"40px"},n.createElement(iS.Y,{direction:"vertical",spacing:"12px"},n.createElement("p",null,(0,N.tx)("oss_sales_upsell_overlay.body1")),n.createElement(iS.Y,{direction:"vertical",spacing:8},n.createElement("p",{className:S.cx.fontSemiBold.$},(0,N.tx)("oss_sales_upsell_overlay.body2")),n.createElement(iS.Y,{direction:"vertical",spacing:8},iI.map(e=>n.createElement(iS.Y,{key:e.key,spacing:8,horizontalAlignItems:"start"},n.createElement("p",null,"\u2713"),n.createElement("p",null,e.elem))))),n.createElement("p",{className:S.cx.pt4.$},(0,N.tx)("oss_sales_upsell_overlay.body3"))),n.createElement("div",{className:S.cx.mr16.$},n.createElement(ik,null)))),n.createElement("div",{className:S.cx.bt1.colorBorder.bSolid.$}))},"OssSalesUpsellModal");function iL(){let e=(0,y.md)(ei.As),t=(0,y.md)(ei.ze);return e&&t?n.createElement(iO,{teamId:e,fileKey:t}):null}function iO({teamId:e,fileKey:t}){let a=(0,s.wA)(),r=(0,y.md)(ew.M$),l=(0,nn.Rs)(ni.TNJ,{id:e}),i=(0,u.e)({overlay:f.jRE,priority:m.N.DEFAULT_MODAL},[r,l]),o=(0,iw.b6)({undefinedIfKnownDomain:!0});return(0,tf.h)(()=>{i.show({canShow:(e,a)=>!!(o&&(0,iT.nN)(t)&&!e&&a.team?.hasPermission)})}),(0,n.useEffect)(()=>{i.isShowing&&(0,iT.wj)()},[o,i.isShowing]),n.createElement(ez.h,{isShowing:i.isShowing,modalType:eY.q3.FEATURE_UPDATE,element:function(e){return(0,tf.h)(()=>{a((0,ey.to)({type:iA,data:{onDismiss:e.dismissModal}}))}),n.createElement("div",null)},trackingContextName:"oss_sales_upsell_overlay",onClickPrimaryCta:t7.lQ,onClose:i.complete,onManualDismiss:i.complete,testId:"oss_sales_upsell_overlay_test_id"})}let iR=(0,a(422237).ex)("old_outline_shortcuts",function(){let e=ac.y.isApple();return n.createElement("div",{className:S.cx.flex.flexRow.gap12.$},n.createElement("div",{className:S.cx.flex.flexColumn.alignLeft.$},n.createElement("span",null,(0,N.tx)("fullscreen.outline_shortcuts_onboarding.show_outlines")),n.createElement("span",null,(0,N.tx)("fullscreen.outline_shortcuts_onboarding.outline_stroke")),n.createElement("span",null,(0,N.tx)("fullscreen.outline_shortcuts_onboarding.team_library"))),n.createElement("div",{className:S.cx.flex.flexColumn.alignRight.$},n.createElement("span",null,n.createElement(aw.S,{shortcut:e?"\u21E7O":"Shift+O"})),n.createElement("span",null,n.createElement(aw.S,{shortcut:e?"\u21E7\u2318O":"Ctrl+Shift+O"})),n.createElement("span",null,n.createElement(aw.S,{shortcut:e?"\u2325\u2318O":"Ctrl+Alt+O"}))))}),iM="seen_outline_mode_shortcut_pref_overlay",iD=(0,eT.r1)(iM),iP=new Date("2024-03-15T18:00:00.000Z").getTime();function iF(e){let t=(0,v.md)(ew.mp),a=(0,v.md)(iD),l=(0,as.S0)(),{show:i,isShowing:o,complete:s,uniqueId:c}=(0,u.e)({overlay:f.x9K,priority:m.N.DEFAULT_MODAL},[a,t]),d=ac.y.isApple(),p=ac.y.isChromeOS(),_=n.useMemo(()=>n.createElement(aw.S,{shortcut:d?"\u21E7\u2318O":"Ctrl+Shift+O"}),[d]),h=n.useMemo(()=>n.createElement(aw.S,{shortcut:d?"\u2325\u2318O":"Ctrl+Alt+O"}),[d]),g=n.useMemo(()=>n.createElement(aw.S,{shortcut:p?"Alt+Shift+3":d?"\u23253":"Alt+3"}),[d,p]),[E,y]=n.useState(!1);return n.useEffect(()=>{o&&l&&s()},[o,l,s]),(0,eC.E)(c,["show_outline_shortcuts_overlay"],e=>{o||y(e.properties?.entrypoint==="alt+meta+O"),i({canShow:(e,t)=>!!(0,r.kc)().ce_outlines_shortcut_onboarding&&!l&&!e&&null!=t&&t.getTime()<=iP})}),n.createElement(eI.X,{width:350,isShowing:o,title:(0,N.tx)("fullscreen.outline_shortcuts_onboarding.title"),description:n.createElement("div",null,E?(0,N.tx)("fullscreen.outline_shortcuts_onboarding.changed_shortcuts"):(0,N.tx)("fullscreen.outline_shortcuts_onboarding.changed_outline_shortcuts"),n.createElement("ul",{className:"outline_mode_shortcut_pref_overlay--shortcutList--DJ5Vg"},n.createElement("li",null,(0,N.tx)("fullscreen.outline_shortcuts_onboarding.show_outlines_updated",{showOutlines:n.createElement("strong",null,(0,N.tx)("fullscreen.outline_shortcuts_onboarding.show_outlines")),showOutlinesKeyCommand:_})),n.createElement("li",null,(0,N.tx)("fullscreen.outline_shortcuts_onboarding.outline_stroke_updated",{outlineStroke:n.createElement("strong",null,(0,N.tx)("fullscreen.outline_shortcuts_onboarding.outline_stroke")),outlineStrokeKeyCommand:h})),E?n.createElement("li",null,(0,N.tx)("fullscreen.outline_shortcuts_onboarding.team_library_updated",{teamLibrary:n.createElement("strong",null,(0,N.tx)("fullscreen.outline_shortcuts_onboarding.team_library")),teamLibraryKeyCommand:g})):null),(0,N.tx)("fullscreen.outline_shortcuts_onboarding.opt_out_options")),primaryCta:{label:(0,N.tx)("fullscreen.outline_shortcuts_onboarding.got_it"),type:"button",onClick:s,ctaTrackingDescriptor:eb.c.GOT_IT},secondaryCta:{label:(0,N.tx)("fullscreen.outline_shortcuts_onboarding.keep_old_shortcuts"),type:"button",onClick:()=>{t9.Y5.triggerAction("toggle-use-old-outline-shortcuts"),s()},ctaTrackingDescriptor:eb.c.KEEP_OLD_SHORTCUTS,tooltipProperties:{"data-tooltip-type":R.Ib.SPECIAL,"data-tooltip":iR,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0}},trackingContextName:"Outline Shortcuts Preference Onboarding Modal",userFlagOnShow:iM,position:eA.Q.BOTTOM_RIGHT,onClose:s})}var iB=a(862442),iU=a(433861);function iH(){let{show:e,isShowing:t,complete:a,uniqueId:r}=(0,u.e)({overlay:f.Q8d,priority:m.N.DEFAULT_MODAL}),l=!!(0,ed.f)("seen_pinned_comments_education_callout"),i=!!(0,ed.f)("has_toggled_comment_pin"),o=(0,ei.q5)(),s=(0,tN.TA)(),c=n.useContext(iU.kw),d=(0,iB.Z)();return((0,eC.E)(r,"Context Viewed",t=>{t.properties?.name==="Editor > Pin comment icon"&&e({canShow:()=>!l&&o?.creatorId===s&&!i,onShow:()=>{let{offsetX:e,offsetY:t,zoomScale:a}=c.getViewportInfo();d({centerX:e,centerY:t-72/a,scale:a})}})}),t)?n.createElement("div",{onClick:()=>{a()},role:"button",tabIndex:0},n.createElement(eM.rq,{userFlagOnShow:"seen_pinned_comments_education_callout",description:n.createElement("div",{className:S.cx.alignCenter.$},(0,N.tx)("comments.pinning.pinned_comments_always_show_up_first_great_for_a_project_intro_or_important_info")),onClose:()=>a(),trackingContextName:"Pinned Comments Creator Education Callout",targetKey:"pin-comment-icon",isShowing:t,arrowPosition:ab.F_.BOTTOM,width:320,disableHighlight:!0,emphasized:!0,hideCloseButton:!0,pointerOffsetOverride:196,zIndex:eA.R.UNSET,onTargetLost:()=>a()})):null}function iG(){let{show:e,isShowing:t,complete:a,uniqueId:r}=(0,u.e)({overlay:f.S$N,priority:m.N.DEFAULT_MODAL}),l=(0,s.wA)(),i=!!(0,ed.f)("seen_pinned_comments_navigation_callout"),o=(0,ei.q5)(),d=(0,tN.TA)(),p=t&&!i;n.useEffect(()=>{p&&l(c.b({seen_pinned_comments_navigation_callout:!0}))},[l,p]);let _=n.useContext(iU.kw),h=(0,iB.Z)();return((0,eC.E)(r,"Context Viewed",n=>{n.properties?.name==="Editor > Pin comment icon"&&(t&&i&&n.properties?.isPinned&&a(),e({canShow:()=>!i&&o?.creatorId!==d&&!!n.properties?.isPinned,onShow:()=>{let{offsetX:e,offsetY:t,zoomScale:a}=_.getViewportInfo();h({centerX:e,centerY:t-72/a,scale:a})}}))}),t)?n.createElement("div",{onClick:()=>{a()},role:"button",tabIndex:0},n.createElement(eM.rq,{userFlagOnShow:"seen_pinned_comments_education_callout",description:n.createElement("div",{className:S.cx.justifyCenter.alignCenter.$},(0,N.tx)("comments.pinning.feedback_giver_callout")),onClose:()=>a(),trackingContextName:"Pinned Comments Feedback Giver Education Callout",targetKey:"thread-header-left-section",isShowing:t,arrowPosition:ab.F_.BOTTOM,width:320,disableHighlight:!0,emphasized:!0,hideCloseButton:!0,pointToLeftEdge:!0,pointerOffsetOverride:20,zIndex:eA.R.UNSET,onTargetLost:()=>a()})):null}var iV=a(384303),iz=a(963067),iK=a(212957),iW=a(507956),ij=a(258751),iZ=a(787523),iY=a(428467),iX=a(338400),iq=a(442617),iJ=a(611047),iQ=a(66154);let i$=iJ.qv.AUDIO,i0=iJ.qQ.getOnboardingStepTriggerEventId(i$),i1=iJ.qQ.getOnboardingStepUserFlag(i$),i2=(0,eT.r1)(i1);function i5(e){let t=(0,y.md)(i2),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.U3h,priority:m.N.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),o=(0,s.wA)(),p=(0,s.d4)(e=>e.openFile?.key&&!!e.voice.activeCall[e.openFile.key]),h=(0,s.d4)(e=>{let{allUsers:t,deviceNameFilter:a}=e.multiplayer;return new Set(t.filter(e=>e.deviceName===a).map(e=>e.userID)).size}),g=(0,n.useCallback)(()=>o(c.b({[i1]:!0})),[o]);return(0,eC.E)(i,[nP.M8],(0,n.useCallback)(()=>{h<2||p||a({canShow:e=>!e,onShow:g})},[a,g,p,h])),(0,eC.E)(i,[i0],(0,n.useCallback)(()=>{a({onBlocked:e=>iJ.qQ.trackActivelyTriggeredOnboardingStepBlocked(e,i$)})},[a])),n.createElement(_.M,{isShowing:r},n.createElement(d.fu,{name:iK.S.getTooltipTrackingContext(i$),properties:iK.S.getTrackingProperties()},n.createElement(iQ.Mi,{dismissModal:l})))}let i3=iJ.qv.COMPONENT_PUBLISHING,i4=iJ.qQ.getOnboardingStepTriggerEventId(i3),i6=iJ.qQ.getOnboardingStepUserFlag(i3),i7=(0,eT.r1)(i6);function i8(e){let t=(0,y.md)(i7),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.K_4,priority:m.N.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),o=(0,s.wA)(),p=(0,n.useCallback)(()=>o(c.b({[i6]:!0})),[o]);return(0,eC.E)(i,["action_create_symbol"],(0,n.useCallback)(()=>{a({onShow:p,canShow:e=>!e})},[a,p])),(0,eC.E)(i,[i4],(0,n.useCallback)(()=>{a({onBlocked:e=>iJ.qQ.trackActivelyTriggeredOnboardingStepBlocked(e,i3)})},[a])),n.createElement(_.M,{isShowing:r},n.createElement(d.fu,{name:iK.S.getTooltipTrackingContext(i3),properties:iK.S.getTrackingProperties()},n.createElement(iQ.Ec,{dismissModal:l})))}var i9=a(707465);let oe=iJ.qv.OPEN_SESSIONS,ot=iJ.qQ.getOnboardingStepTriggerEventId(oe),oa=iJ.qQ.getOnboardingStepUserFlag(oe),on=(0,eT.r1)(oa);function or(e){let t=(0,y.md)(on),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.bJw,priority:m.N.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),o=(0,s.wA)(),p=(0,s.d4)(e=>(0,i9.zg)(e.selectedView)),h=(0,s.d4)(e=>e.modalShown?.type===nt.g_.type),g=(0,nS.ZC)(h),E=(0,n.useCallback)(()=>o(c.b({[oa]:!0})),[o]);return(0,eC.E)(i,["multiplayer_toolbar_share_button"],(0,n.useCallback)(()=>{p||a({onShow:E,canShow:e=>!e})},[a,E,p])),(0,eC.E)(i,[ot],(0,n.useCallback)(()=>{a({onShow:()=>o((0,ey.to)({type:nt.g_,data:{source:ne.nk.expProTrialsV3CardStackWidget}})),onBlocked:e=>iJ.qQ.trackActivelyTriggeredOnboardingStepBlocked(e,oe)})},[a,o])),n.useEffect(()=>{!h&&g&&l()},[l,h,g]),n.createElement(_.M,{isShowing:r},n.createElement(d.fu,{name:iK.S.getTooltipTrackingContext(oe),properties:iK.S.getTrackingProperties()},n.createElement(iQ.Nm,{dismissModal:l})))}let ol=iJ.qv.PASSWORD_PROTECTION,oi=iJ.qQ.getOnboardingStepTriggerEventId(ol),oo=iJ.qQ.getOnboardingStepUserFlag(ol),os=iJ.qQ.getOnboardingStepUserFlag(iJ.qv.OPEN_SESSIONS),oc=(0,eT.r1)(oo),od=(0,eT.r1)(os);function ou(e){let t=(0,y.md)(oc),a=(0,y.md)(od),{show:r,isShowing:l,complete:i,uniqueId:o}=(0,u.e)({overlay:f.GUu,priority:m.N.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t,a]),p=(0,s.wA)(),h=(0,s.d4)(e=>(0,nl.XE)(e.selectedView)===at.nT.Whiteboard),g=(0,s.d4)(e=>(0,i9.zg)(e.selectedView)),E=(0,s.d4)(e=>e.modalShown?.type===nt.g_.type),v=(0,nS.ZC)(E),b=(0,n.useCallback)(()=>p(c.b({[oo]:!0})),[p]);return(0,eC.E)(o,["multiplayer_toolbar_share_button"],(0,n.useCallback)(()=>{g||r({onShow:b,canShow:(e,t)=>!e&&(!h||!!t)})},[r,b,h,g])),(0,eC.E)(o,[oi],(0,n.useCallback)(()=>{r({onShow:()=>p((0,ey.to)({type:nt.g_,data:{source:ne.nk.expProTrialsV3CardStackWidget}})),onBlocked:e=>iJ.qQ.trackActivelyTriggeredOnboardingStepBlocked(e,ol)})},[r,p])),n.useEffect(()=>{!E&&v&&i()},[i,E,v]),n.createElement(_.M,{isShowing:l},n.createElement(d.fu,{name:iK.S.getTooltipTrackingContext(ol),properties:iK.S.getTrackingProperties()},n.createElement(iQ._G,{dismissModal:i})))}let om=iJ.qv.UNLIMITED_PAGES,op=iJ.qQ.getOnboardingStepTriggerEventId(om),o_=iJ.qQ.getOnboardingStepUserFlag(om),of=(0,eT.r1)(o_);function oh(e){let t=(0,y.md)(of),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.fR0,priority:m.N.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),o=(0,s.wA)(),p=(0,n.useCallback)(()=>o(c.b({[o_]:!0})),[o]);return(0,tf.h)(()=>{a({onShow:p,canShow:e=>!e})}),(0,eC.E)(i,[op],(0,n.useCallback)(()=>{a({onBlocked:e=>iJ.qQ.trackActivelyTriggeredOnboardingStepBlocked(e,om)})},[a])),n.createElement(_.M,{isShowing:r},n.createElement(d.fu,{name:iK.S.getTooltipTrackingContext(om),properties:iK.S.getTrackingProperties()},n.createElement(iQ.BI,{dismissModal:l})))}var og=a(738269),oE=a(157147),oy=a(485861);let ov=iJ.qv.VIDEO,ob=iJ.qQ.getOnboardingStepTriggerEventId(ov),oC=iJ.qQ.getOnboardingStepUserFlag(ov),ow=(0,eT.r1)(oC);function oT(e){let t=(0,y.md)(ow),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.juT,priority:m.N.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),o=(0,s.wA)(),p=(0,s.d4)(e=>e.dropdownShown?.type==="flyout-dropdown-shape-flyout"),h=(0,nS.ZC)(p),g=(0,n.useCallback)(()=>o(c.b({[oC]:!0})),[o]);return(0,n.useEffect)(()=>{p&&a({onShow:g,canShow:e=>!e})},[a,g,p]),(0,eC.E)(i,[ob],(0,n.useCallback)(()=>{let e=(0,oy.xT)("shape-flyout");e&&a({onShow:()=>o(og.j7({type:"flyout-dropdown-shape-flyout",data:{items:oE.yY.children,targetRect:e.getBoundingClientRect()}})),onBlocked:e=>iJ.qQ.trackActivelyTriggeredOnboardingStepBlocked(e,ov)})},[a,o])),n.useEffect(()=>{h&&!p&&r&&l()},[h,p,l,r]),n.createElement(_.M,{isShowing:r},n.createElement(d.fu,{name:iK.S.getTooltipTrackingContext(ov),properties:iK.S.getTrackingProperties()},n.createElement(iQ.Lz,{dismissModal:l})))}let oS="seen_pro_onboarding_variables_overlay",oN=(0,eT.r1)(oS);function ox(){let e=(0,y.md)(oN),t=(0,ev.kO)(),{show:a,isShowing:r,complete:l}=(0,u.e)({overlay:f.wwW,priority:m.N.DEFAULT_MODAL,experiment:{check:t,predicate:e=>e,postCheck:e=>!e}},[e]);return(0,tf.h)(()=>{a()}),n.createElement(_.M,{isShowing:r,userFlagOnShow:oS},n.createElement(d.fu,{name:iK.S.getTooltipTrackingContext("Variables"),properties:iK.S.getTrackingProperties()},n.createElement(iQ.rQ,{dismissModal:l})))}let ok="seen_pro_onboarding_voting_overlay",oI=(0,eT.r1)(ok);function oA(){let e=(0,y.md)(oI),t=(0,ev.kO)(),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.oyU,priority:m.N.DEFAULT_MODAL,experiment:{check:t,predicate:e=>e,postCheck:e=>!e}},[e]),o=(0,s.d4)(e=>!!e.modalShown),c=(0,s.d4)(e=>{let{allUsers:t,deviceNameFilter:a}=e.multiplayer;return new Set(t.filter(e=>e.deviceName===a).map(e=>e.userID)).size});return(0,eC.E)(i,[nP.M8],(0,n.useCallback)(()=>{o||c<2||a()},[a,o,c])),n.createElement(_.M,{isShowing:r,userFlagOnShow:ok},n.createElement(d.fu,{name:iK.S.getTooltipTrackingContext("Voting"),properties:iK.S.getTrackingProperties()},n.createElement(iQ.lj,{dismissModal:l})))}function oL(e){let{teamId:t,isDesignEditor:a,isFigJamEditor:r}=e,l=function(){let e=(0,y.md)(ij.P),t=(0,iW.ks)(),a=(0,eB.p8)("showUi"),n=(0,eB.aV)(),r=(0,s.d4)(e=>e.openFile),l=(0,s.d4)(e=>e.selectedView),i=(0,s.d4)(e=>e.userFlags),o=(0,s.d4)(e=>e.notifications.length>0);return!!r&&!!r.editorType&&!!r.canEdit&&iK.S.canSeeOnboardingInFile({editorType:r.editorType,selectedView:l,showStarterKit:e!==iZ.iH.FALSE,userFlags:i,hasNotifications:o,isDevHandoffView:t,isAppUiShown:a,isLoading:n})}(),i=(0,ei.q5)(),o=(0,s.d4)(e=>e.teams[t])||null,c=(0,iz.yy)()||null,d=i?.editorType||null,u=(0,s.d4)(e=>(0,iY.canEditTeam)(t,e)),m=(0,iX.Lk)(),p=(0,iq.M_)({team:o,org:c,editorType:d}),_=(0,ev.kO)();return l&&o&&o.pro_team&&u?n.createElement("div",{"data-testid":"proOnboardingOverlayWrapper"},n.createElement(ou,{experimentCheck:_}),m&&n.createElement(i5,{experimentCheck:_}),a&&n.createElement(i8,{experimentCheck:_}),a&&n.createElement(oh,{experimentCheck:_}),a&&n.createElement(oT,{experimentCheck:_}),r&&p&&n.createElement(or,{experimentCheck:_}),r&&n.createElement(oA,null),a&&n.createElement(ox,null)):null}var oO=a(498270);function oR(e){let{teamId:t,isDesignEditor:a,isFigJamEditor:r}=e,l=(0,oO.i)(t),i=(0,ei.q5)(),o=(0,s.d4)(e=>e.teams[t])||null,c=(0,iz.yy)()||null,d=i?.editorType||null,u=(0,iX.Lk)(),m=(0,iq.M_)({team:o,org:c,editorType:d});return l?n.createElement("div",{"data-testid":"proTrialsV3EditorOverlayWrapper"},n.createElement(ou,null),u&&n.createElement(i5,null),a&&n.createElement(i8,null),a&&n.createElement(oh,null),a&&n.createElement(oT,null),r&&m&&n.createElement(or,null)):null}var oM=a(279994),oD=a(520177),oP=a(5231),oF=a(983238);let oB="seen_figjam_section_preset_picker_callout",oU=(0,eT.Fu)(oB),oH=e=>(0,s.d4)(t=>{if(!e)return!1;let a=Object.keys(t.mirror.sceneGraphSelection);return 1===a.length&&a[0]===e});function oG({sectionNodeId:e,isShowing:t,complete:a}){let r=(0,O._X)({subscribeToUpdates_expensive:!0}),l=U.q.instance.get(e);if(!l)return null;let i=l.sectionPresetPickerCalloutPosition;if(isNaN(i.x)||isNaN(i.y))return null;let o=(0,O.Z0)(r,i,!0),s=parseFloat(oF._1),c={top:o.y+r.y+s+2,left:o.x+r.x-150,pointerOffset:150-s,pointerPosition:ab.F_.TOP};return n.createElement(eM.rq,{isShowing:t,userFlagOnShow:oB,fixedPosition:!0,location:c,onClose:a,clickOutsideToHide:!0,trackingContextName:"section_preset_picker_callout",title:(0,N.tx)("whiteboard.section_presets_onboarding.picker_callout.title"),description:(0,N.tx)("whiteboard.section_presets_onboarding.picker_callout.description"),primaryCta:{label:(0,N.tx)("rcs.got_it"),type:"button",onClick:a,ctaTrackingDescriptor:eb.c.GOT_IT},width:300})}function oV(){let e=(0,rk.q)(),t=(0,y.md)(oD.w),a=(0,y.md)(oP.m5),r=(0,y.md)(oU),l=(0,n.useRef)({numShown:0,hasLoggedToSentry:!1}),[i,o]=(0,n.useState)(null),s=oH(i),{show:c,isShowing:d,complete:p}=(0,u.e)({overlay:f.Byv,priority:m.N.DEFAULT_MODAL},[a,r]);return((0,n.useEffect)(()=>{t&&i&&s&&e&&c({canShow:(e,t)=>!!e&&!t})},[c,e,t,i,s]),(0,n.useEffect)(()=>{if("loaded"===r.status&&!r.data&&"loaded"===a.status&&a.data)return(0,oM.H)(function(e){o(e)})},[r,a]),(0,n.useEffect)(()=>{d&&l.current.numShown++,l.current.numShown>1&&!l.current.hasLoggedToSentry&&(l.current.hasLoggedToSentry=!0,(0,rF.x1)("SectionPresetPickerCallout","Callout shown more than once, this should not happen. Please investigate.",void 0,{reportAsSentryError:!0}))},[d]),d&&i)?n.createElement(oG,{sectionNodeId:i,isShowing:d,complete:p}):null}function oz({isShowing:e,onPrimaryCtaClick:t,onClose:a}){return n.createElement(eM.rq,{testId:"share-to-google-classroom-onboarding",isShowing:e,trackingContextName:"Share to Google Classroom Onboarding",targetKey:"share",title:(0,N.tx)("whiteboard.google_classroom.onboarding.header"),description:(0,N.tx)("whiteboard.google_classroom.onboarding.body"),media:n.createElement(ek.y,{src:"https://static.figma.com/uploads/90c10991400b728428a200de3b347bba3f6d1d1e",alt:(0,N.t)("whiteboard.google_classroom.onboarding.image_alt"),aspectRatio:300/169}),primaryCta:{label:(0,N.tx)("whiteboard.google_classroom.onboarding.show_me"),type:"button",onClick:t,ctaTrackingDescriptor:eb.c.SHOW_ME},onClose:a})}function oK(){let e=(0,s.wA)(),t=ns({}),a=(0,y.md)(nm),r=(0,y.md)(n_),l=(0,y.md)(nf),i=(0,y.md)(nh),o=(0,y.md)(na.Ij),{show:d,isShowing:p,complete:_}=(0,u.e)({overlay:f.Y2_,priority:m.N.DEFAULT_MODAL},[r,a,l,i,t]);n.useEffect(()=>{d({onShow:()=>{e(c.b({[nu]:!0}))},canShow:(e,t,a,n,r)=>!e&&!t&&!a&&n&&r})},[t,e,d]),n.useEffect(()=>{r.data&&_()},[r,_]);let{currentStep:h,next:g}=(0,eU.A)({numSteps:2,onComplete:_}),E=function({isShowing:e,next:t,complete:a}){let r=(0,s.wA)(),l=(0,ei.q5)();return[n.createElement(oz,{key:"share-to-google-classroom-existing-user-callout",onPrimaryCtaClick:()=>{if(!l){a();return}r((0,ey.to)({type:nt.g_,data:{fileKey:l.key,source:ne.nk.shareToGoogleClassroomOnboarding}})),t()},onClose:a,isShowing:e}),n.createElement(nd,{key:"share-to-google-classroom-share-option-pointer",isShowing:e,onClose:a})]}({isShowing:p,next:g,complete:_});return n.useEffect(()=>{o&&p&&0===h&&g()},[h,p,o,g]),n.createElement(eV.U,{currentStep:h,isShowing:p,children:E})}var oW=a(147723);let oj=240/135,oZ=m.N.HIGH_PRIORITY_MODAL+3,oY="seen_exit_ui3_ai_help_callout";function oX(){let{show:e,isShowing:t,complete:a,uniqueId:r}=(0,u.e)({overlay:f.Pke,priority:oZ}),l=!!(0,ed.f)(oY);return(0,eC.E)(r,oW.p,()=>{e({canShow:()=>!l})}),n.createElement(eM.rq,{userFlagOnShow:oY,description:n.createElement("div",{className:S.cx.pr8.$},n.createElement("div",{className:S.cx.colorTextTooltip.textBodyMediumStrong.$},(0,N.tx)("ui3_and_ai_callouts.exit_ui3_ai.title")),n.createElement("div",{className:S.cx.colorTextTooltipSecondary.$},(0,N.tx)("ui3_and_ai_callouts.exit_ui3_ai.description"))),onClose:()=>a(),trackingContextName:"Exit UI3 AI Help Callout",targetKey:eZ.J_,isShowing:t,arrowPosition:ab.F_.BOTTOM,disableHighlight:!0,hideCloseButton:!0,onTargetLost:()=>a(),testId:"exitUi3HelpCallout",isTooltip:!0})}let oq="seen_exit_ui3_help_callout";function oJ(){let{show:e,isShowing:t,complete:a,uniqueId:r}=(0,u.e)({overlay:f.$lu,priority:oZ}),l=!!(0,ed.f)(oq);return(0,eC.E)(r,oW.e7,()=>{e({canShow:()=>!l})}),n.createElement(eM.rq,{userFlagOnShow:oq,description:n.createElement("div",{className:S.cx.pr8.$},n.createElement("div",{className:S.cx.colorTextTooltip.textBodyMediumStrong.$},(0,N.tx)("ui3_and_ai_callouts.exit_ui3.title")),n.createElement("div",{className:S.cx.colorTextTooltipSecondary.$},(0,N.tx)("ui3_and_ai_callouts.exit_ui3.description",{back_to_old_design_option:n.createElement("div",{className:S.cx.textBodyMediumStrong.$},(0,N.tx)("ui3_and_ai_callouts.exit_ui3.back_to_old_design_option"))}))),onClose:()=>a(),trackingContextName:"Exit UI3 Help Callout",targetKey:eZ.J_,isShowing:t,arrowPosition:ab.F_.BOTTOM,disableHighlight:!0,hideCloseButton:!0,onTargetLost:()=>a(),testId:"exitUi3HelpCallout",isTooltip:!0})}var oQ=a(256975),o$=a(964881),o0=a(69961),o1=a(991820),o2=a(239737),o5=a(360712),o3=a(74487);let o4="has_onboarded_ui3",o6="has_onboarded_ai",o7="did_sign_up_as_ui3_user";function o8(){let e=!!(0,r.kc)().ui3_and_ai_welcome_modal,t=(0,o3.$)(),a=(0,o3.Q)(),n=t&&a,l=(0,nl.E3)(),i=l===at.nT.Design,s=(0,o5.q)(),c=l===at.nT.DevHandoff&&!s,d=(0,o.Mq)(),u=(0,I.GS)();return e&&(i||c)&&u?{shouldShowUI3AndAIModal:n&&d,shouldShowUI3OnlyModal:a&&(!t||!d),shouldShowAIOnlyModal:n&&d}:{shouldShowUI3AndAIModal:!1,shouldShowUI3OnlyModal:!1,shouldShowAIOnlyModal:!1}}var o9=a(520607),se=a(384775);function st(e,t){(0,tf.h)(()=>{e(c.b({[t]:!0}))})}let sa=n.createElement(o9.Jm,{src:"https://static.figma.com/uploads/acb6a1c0e3ac6be7b238b37570ad0496ff594610",aspectRatio:oj,width:240});function sn({onClose:e,isShowing:t,onTargetLost:a}){return st((0,s.wA)(),oW.jx),n.createElement(eM.rq,{isShowing:t,targetKey:oW.Ij,trackingContextName:"UI3/AI Onboarding > AI",onClose:e,arrowPosition:ab.F_.BOTTOM,title:(0,N.tx)("ui3_and_ai_tour.ai_callout.title"),description:(0,N.tx)("ui3_and_ai_tour.ai_callout.description"),media:sa,primaryCta:{type:"button",label:(0,N.tx)("ui3_and_ai_tour.ai_callout.show_me"),onClick:()=>{(0,se.$I)({trackingData:{source:"onboarding_ai_callout_component"}}),e()},ctaTrackingDescriptor:eb.c.SHOW_ME},secondaryCta:{type:"link",label:(0,N.tx)("ui3_and_ai_tour.ai_callout.playground_link"),href:"https://www.figma.com/community/file/1375505114072192161",ctaTrackingDescriptor:eb.c.AI_PLAYGROUND},testId:oW.T4,highlightBlue:!0,onTargetLost:a})}var sr=a(260906),sl=a(511617),si=a(245700),so=a(36816),ss=a(279145);let sc=n.createElement(o9.Jm,{src:"https://static.figma.com/uploads/acb6a1c0e3ac6be7b238b37570ad0496ff594610",aspectRatio:oj,width:240});function sd({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){let o=(0,s.wA)();return st(o,oW.jx),st(o,oW.pN),n.createElement(eM.rq,{isShowing:a,testId:oW.T2,targetKey:oW.Ij,trackingContextName:"UI3/AI Onboarding > Toolbar with AI",onClose:t,arrowPosition:ab.F_.BOTTOM,title:(0,N.tx)("ui3_and_ai_tour.toolbar_with_ai.title"),description:n.createElement("span",{className:S.cx.preWrap.$},(0,N.tx)("ui3_and_ai_tour.toolbar_with_ai.description",{actions:n.createElement("strong",null,(0,N.tx)("ui3_and_ai_tour.actions"))})),media:sc,stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,secondaryCta:{type:"link",label:(0,N.tx)("ui3_and_ai_tour.toolbar_with_ai.playground_link"),href:"https://www.figma.com/community/file/1375505114072192161",ctaTrackingDescriptor:eb.c.AI_PLAYGROUND},highlightBlue:!0,onTargetLost:i})}let su=n.createElement(o9.Jm,{src:"https://static.figma.com/uploads/1530d9f6ebfd38448a0c74c5b5077a5f2b9a271e",aspectRatio:oj,width:240});function sm({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return st((0,s.wA)(),oW.pN),n.createElement(eM.rq,{isShowing:a,testId:oW.hM,targetKey:oW.Ij,trackingContextName:"UI3/AI Onboarding > Toolbar without AI",onClose:t,arrowPosition:ab.F_.BOTTOM,title:(0,N.tx)("ui3_and_ai_tour.toolbar_without_ai.title"),description:n.createElement("span",{className:S.cx.preWrap.$},(0,N.tx)("ui3_and_ai_tour.toolbar_without_ai.description",{actions:n.createElement("strong",null,(0,N.tx)("ui3_and_ai_tour.actions"))})),media:su,stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,secondaryCta:{type:"link",label:(0,N.tx)("general.learn_more"),href:"https://help.figma.com/hc/en-us/articles/360041064174-Access-design-tools-from-the-toolbar",ctaTrackingDescriptor:eb.c.LEARN_MORE},highlightBlue:!0,onTargetLost:i})}let sp=n.createElement(o9.Jm,{src:"https://static.figma.com/uploads/48302e800da0dcfe895346a2e008912fbe371b26",aspectRatio:oj,width:240});function s_({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return st((0,s.wA)(),oW.pN),n.createElement(eM.rq,{isShowing:a,targetKey:oW.hH,testId:oW.W_,trackingContextName:"UI3/AI Onboarding > Toolbar view only",onClose:t,arrowPosition:ab.F_.BOTTOM,title:(0,N.tx)("ui3_and_ai_tour.toolbar_view_only.title"),description:(0,N.tx)("ui3_and_ai_tour.toolbar_view_only.description"),media:sp,stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,disableHighlight:!0,onTargetLost:i})}let sf=n.createElement(o9.Jm,{src:"https://static.figma.com/uploads/5aec067cec384a36a40e18c66ea26d3f87908092",aspectRatio:oj,width:240});function sh({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){let o=(0,s.wA)(),d=(0,y.md)(tT.wg),u=(0,t8.a9)(),m=(0,rz.$w)(),p=d||u?.design_paid_status===ae.El.FULL||m?.design_paid_status===so.Zf.FULL,_=1===l,f=(0,eB.p8)("keyboardShortcuts"),h=n.createElement(aw.S,{shortcut:(0,ss.c1)(f,"enter-inspect-mode")}),g=_&&p?(0,N.tx)("ui3_and_ai_tour.dev_mode_toggle_editor_callout.description",{toggleDevModeKeyCommand:h}):(0,N.tx)("ui3_and_ai_tour.dev_mode_toggle_callout.description",{toggleDevModeKeyCommand:h}),E=(0,ed.f)(oW.pN);return(0,tf.h)(()=>{_?o(c.b({[oW.TT]:!0})):E||o(c.b({[oW.pN]:!0}))}),n.createElement(eM.rq,{isShowing:a,testId:oW.e0,targetKey:eZ.ON,trackingContextName:_?"Dev mode callout":"UI3/AI Onboarding > Dev Mode",onClose:t,arrowPosition:ab.F_.BOTTOM,title:(0,N.tx)("ui3_and_ai_tour.dev_mode_callout.title"),description:n.createElement("span",null,g),media:sf,stepCounter:_?void 0:{stepNum:r,totalNumSteps:l},primaryCta:e,highlightBlue:!0,onTargetLost:i})}function sg({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return st((0,s.wA)(),oW.pN),n.createElement(eM.rq,{isShowing:a,testId:oW.zW,targetKey:oW.ue,trackingContextName:"UI3/AI Onboarding > Resize or Minimize",onClose:t,arrowPosition:ab.F_.LEFT_TITLE,title:(0,N.tx)("ui3_and_ai_callouts.resize_or_minimize.title"),description:n.createElement("span",null,(0,N.tx)("ui3_and_ai_callouts.resize_or_minimize.description",{minimizeUI:n.createElement("span",{className:S.cx.inlineFlex.itemsCenter.$},n.createElement("div",{className:"design_steps--minimizeUIIcon--EFBdo"},n.createElement(sr.O,null)),n.createElement("strong",{className:S.cx.pl24.$},(0,N.tx)("ui3_and_ai_callouts.resize_or_minimize.minimize_ui")))})),media:n.createElement(o9.Jm,{src:"https://static.figma.com/uploads/153732307961af828ec166c51c12e01ad44cbe2f",aspectRatio:oj,width:240}),stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,secondaryCta:void 0,highlightBlue:!0,onTargetLost:i})}function sE({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return st((0,s.wA)(),oW.pN),n.createElement(eM.rq,{isShowing:a,testId:oW.U7,targetKey:oW.D9,trackingContextName:"UI3/AI Onboarding > Refreshed properties",onClose:t,arrowPosition:ab.F_.RIGHT_BODY,title:(0,N.tx)("ui3_and_ai_callouts.refreshed_properties.title"),description:(0,N.tx)("ui3_and_ai_callouts.refreshed_properties.description"),media:n.createElement(o9.Jm,{src:"https://static.figma.com/uploads/d0a1b9bbdccdd25601052b98f6d5ff0f72e91bff",aspectRatio:oj,width:240}),stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,secondaryCta:{label:(0,N.tx)("general.learn_more"),type:"button",ctaTrackingDescriptor:eb.c.LEARN_MORE,onClick:()=>(0,sl.FJ)("https://help.figma.com/hc/en-us/articles/360039832014-Design-prototype-and-explore-layer-properties-in-the-right-sidebar","_blank")},highlightBlue:!0,onTargetLost:i})}function sy({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return st((0,s.wA)(),oW.pN),n.createElement(eM.rq,{isShowing:a,testId:oW.EB,targetKey:oW.hH,trackingContextName:"UI3/AI Onboarding > Ask to edit",onClose:t,arrowPosition:ab.F_.BOTTOM,title:(0,N.tx)("ui3_and_ai_callouts.ask_to_edit.title"),description:(0,N.tx)("ui3_and_ai_callouts.ask_to_edit.description"),media:n.createElement(ek.y,{src:"https://static.figma.com/uploads/6629092993720542f2e7befaccf593e6e604551b",alt:"Ask to edit in toolbar",aspectRatio:oj}),stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,highlightBlue:!0,onTargetLost:i})}function sv({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return st((0,s.wA)(),(0,iW.ks)()?oW.qM:oW.pN),n.createElement(eM.rq,{isShowing:a,testId:oW.DX,targetKey:si.Z8,trackingContextName:"UI3/AI Onboarding > Help resources",onClose:t,arrowPosition:ab.F_.RIGHT_BODY,title:(0,N.tx)("ui3_and_ai_callouts.help.title"),description:n.createElement("span",{className:S.cx.preWrap.$},(0,N.tx)("ui3_and_ai_callouts.help.description")),media:n.createElement(ek.y,{src:"https://static.figma.com/uploads/bda3ec9e88a20e645af9aa542d2f13c8fe04c4db",alt:"image of the help widget with the menu expanded",aspectRatio:oj}),stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,secondaryCta:void 0,highlightBlue:!0,onTargetLost:i})}function sb({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){let o=(0,s.wA)();return st(o,oW.Ih),st(o,oW.qM),n.createElement(eM.rq,{isShowing:a,testId:oW.xd,targetKey:oW.o5,trackingContextName:"UI3/AI Onboarding > Ready for Dev",onClose:t,arrowPosition:ab.F_.LEFT_TITLE,title:(0,N.tx)("ui3_and_ai_tour.ready_for_dev.title"),description:(0,N.tx)("ui3_and_ai_tour.ready_for_dev.description"),stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,secondaryCta:{type:"link",label:(0,N.tx)("general.learn_more"),href:"https://help.figma.com/hc/en-us/articles/23918228264855",ctaTrackingDescriptor:eb.c.LEARN_MORE},disableHighlight:!0,onTargetLost:i})}function sC({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return st((0,s.wA)(),oW.qM),n.createElement(eM.rq,{isShowing:a,testId:oW.j1,targetKey:oW.aE,trackingContextName:"UI3/AI Onboarding > Toolbar in Dev Mode",onClose:t,arrowPosition:ab.F_.BOTTOM,title:(0,N.tx)("ui3_and_ai_tour.toolbar_dev_mode.title"),description:(0,N.tx)("ui3_and_ai_tour.toolbar_dev_mode.description"),stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,disableHighlight:!0,onTargetLost:i})}var sw=a(233387);function sT({onClose:e,isShowing:t,onTargetLost:a}){return st((0,s.wA)(),oW.af),n.createElement(eM.rq,{title:(0,N.tx)("ui3_and_ai_callouts.fragment_search.title"),description:(0,N.tx)("ui3_and_ai_callouts.fragment_search.description"),primaryCta:{type:"button",label:(0,N.tx)("ui3_and_ai_callouts.fragment_search.cta"),onClick:()=>{(0,sw.Bd)(),e()},ctaTrackingDescriptor:eb.c.TRY_IT_OUT},onClose:()=>e(),trackingContextName:"Fragment Search Callout",targetKey:oW.Ij,isShowing:t,arrowPosition:ab.F_.BOTTOM,highlightBlue:!0,testId:"fragmentSearchCallout",onTargetLost:a})}var sS=a(935283),sN=a(168039),sx=a(694687);let sk="https://static.figma.com/uploads/7d9b7756fe36b9026b905b376304df5075524455",sI="https://static.figma.com/uploads/3204fbc71d9f4e689987acfb4166d88b7107273d",sA="https://static.figma.com/uploads/d9343cbdcd73dbbc6573e25e38b6b74682f31107";var sL=(e=>(e.UI3_ONLY="UI3_ONLY",e.AI_ONLY="AI_ONLY",e.UI3_AND_AI="UI3_AND_AI",e))(sL||{});function sO(e,t){e(c.b({has_onboarded_ai:t}))}function sR(e,t){e(c.b({has_onboarded_ui3:t}))}function sM({label:e,href:t}){return n.createElement("a",{href:t,className:S.cx.colorTextBrand.cursorPointer.$,target:"_blank"},e)}function sD({variant:e,onClose:t,onStartTour:a}){let r=(0,s.wA)(),l=(0,sx.sL)(),i=(0,n.useMemo)(()=>n.createElement(sM,{label:(0,N.tx)("ui3_and_ai_welcome.learn_more_ai_link"),href:"https://help.figma.com/hc/en-us/articles/24039793359767"}),[]),o="dark"===(0,sN.DP)(),{title:c,imgSrc:d,body:u,betaDisclaimer:m,ctaLabel:p}=(0,n.useMemo)(()=>{switch(e){case"UI3_AND_AI":return{title:(0,N.tx)("ui3_and_ai_welcome.ui3_and_ai.title"),imgSrc:o?sI:sk,body:(0,N.tx)("ui3_and_ai_welcome.ui3_and_ai.body"),betaDisclaimer:(0,N.tx)("ui3_and_ai_welcome.ui3_and_ai.beta_disclaimer",{learnMore:i}),ctaLabel:(0,N.tx)("ui3_and_ai_welcome.ui3_and_ai.cta")};case"UI3_ONLY":return{title:(0,N.tx)("ui3_and_ai_welcome.ui3_only.title"),imgSrc:o?"https://static.figma.com/uploads/0a7b90ceb5dd62bb538f1220ba12c0cf1f0be4f0":sA,body:(0,N.tx)("ui3_and_ai_welcome.ui3_only.body"),betaDisclaimer:null,ctaLabel:(0,N.tx)("ui3_and_ai_welcome.ui3_only.cta")};case"AI_ONLY":return{title:(0,N.tx)("ui3_and_ai_welcome.ai_only.title"),imgSrc:o?sI:sk,body:(0,N.tx)("ui3_and_ai_welcome.ai_only.body"),betaDisclaimer:(0,N.tx)("ui3_and_ai_welcome.ai_only.beta_disclaimer",{learnMore:i}),ctaLabel:(0,N.tx)("ui3_and_ai_welcome.ai_only.cta")};default:(0,sS.xb)(e)}},[e,i,o]);function _(){switch(e){case"UI3_AND_AI":sR(r,!0),sO(r,!0);break;case"UI3_ONLY":sR(r,!0);break;case"AI_ONLY":sO(r,!0);break;default:(0,sS.xb)(e)}}let f=(0,n.useMemo)(()=>n.createElement(sM,{label:(0,N.tx)("ui3_and_ai_welcome.ai_legal_consent.ai_subprocessors_link"),href:"https://www.figma.com/sub-processors/"}),[]),h=(0,n.useMemo)(()=>n.createElement(sM,{label:(0,N.tx)("ui3_and_ai_welcome.ai_legal_consent.software_services_agreement_link"),href:"https://www.figma.com/ssa/"}),[]),g="UI3_AND_AI"===e||"AI_ONLY"===e,E=l.length>0,y=(0,n.useMemo)(()=>g&&E?(0,N.tx)("ui3_and_ai_welcome.ai_legal_consent.subprocessors_and_ssa",{subprocessorsLink:f,softwareServicesAgreementLink:h}):g?(0,N.tx)("ui3_and_ai_welcome.ai_legal_consent.subprocessors_only",{subprocessorsLink:f}):E?(0,N.tx)("ui3_and_ai_welcome.ai_legal_consent.ssa_only",{softwareServicesAgreementLink:h}):void 0,[g,E,f,h]);return(0,tf.h)(()=>{(0,tm.sx)(oW.LK,{variant:e})}),n.createElement("div",{"data-testid":oW.Hl,"data-variant":e},n.createElement(o9._l,{isShowing:!0,onClose:function(){switch(t(),_(),e){case"UI3_AND_AI":(0,tm.sx)(oW.p);break;case"UI3_ONLY":(0,tm.sx)(oW.e7);break;case"AI_ONLY":break;default:(0,sS.xb)(e)}},description:n.createElement("div",{className:S.cx.flex.flexColumn.gap8.$},n.createElement("p",null,u),m&&n.createElement("p",null,m)),trackingContextName:"UI3 And AI Welcome Modal",title:n.createElement("div",{className:"welcome_modal--title--N2oxD"},n.createElement(tF.Kz,{multiple:4}),c,n.createElement(tF.Kz,{multiple:1})),primaryCta:{label:p,onClick:function(){a(),_()},ctaTrackingDescriptor:eb.c.UI3_AND_AI_WELCOME,type:"button"},disclaimerFooter:y,orientation:"portrait",media:n.createElement("img",{width:332,src:d,alt:"An illustration showcasing the new Figma"}),closeButtonColor:d===sA?"dark":"light"}))}function sP({primaryCta:e,onClose:t}){return n.createElement(sD,{variant:"UI3_AND_AI",onClose:t,onStartTour:e.onClick})}function sF({primaryCta:e,onClose:t}){return n.createElement(sD,{variant:"UI3_ONLY",onClose:t,onStartTour:e.onClick})}function sB({primaryCta:e,onClose:t}){return n.createElement(sD,{variant:"AI_ONLY",onClose:t,onStartTour:e.onClick})}function sU({openFile:e}){var t;let a=(0,I.GS)(),l=function({openFile:e}){let t=function(){let e=o8(),t=(0,ed.f)(o4),a=(0,ed.f)(o6),r=(0,eB.p8)("showUi"),l=(0,n.useMemo)(()=>t,[r]),i=(0,n.useMemo)(()=>a,[r]),o=(0,iW.ks)(),s=(0,nl.Em)();return!e.shouldShowUI3AndAIModal||l||i?e.shouldShowUI3OnlyModal&&!l?sF:e.shouldShowAIOnlyModal&&!i&&!o&&s?sB:null:sP}(),a=function({openFile:e}){let t=o8(),a=(0,eB.p8)("topLevelMode")===h.lyf.LAYOUT,r=(0,oQ.U4)(),l=(0,iW.ks)(),i=(0,y.md)(tT.wg),o=(0,eB.aV)(),c=(0,tN.iZ)(),d=(0,s.d4)(t=>o&&e?e.canEdit:t.mirror?.appModel?.isReadOnly),u=!!c&&!!e&&!!d,m=(0,is.kU)({file:e,viewOnly:u}),p=!i&&m&&m?.type!==is.Kw.VIEW_ONLY;return(0,n.useMemo)(()=>{let e=[];return a?t.shouldShowAIOnlyModal||t.shouldShowUI3AndAIModal?e.push(sd):e.push(sm):e.push(s_),(!l||r)&&e.push(sh),e.push(sg),a&&e.push(sE),p&&e.push(sy),e.push(sv),e},[r,a,l,t.shouldShowAIOnlyModal,t.shouldShowUI3AndAIModal,p])}({openFile:e}),r=function(){let e=(0,o$.ZI)();return(0,n.useMemo)(()=>{let t=[];return e>0&&t.push(sb),t.push(sC),t.push(sv),t},[e])}(),l=(0,o0.o3)(o0.nt.ui3DevModeCallout),i=(0,ed.f)(oW.pN),o=(0,ed.f)(oW.qM),c=(0,ed.f)(oW.$9),d=(0,ed.f)(oW.af),u=(0,ed.f)(oW.TT),m=(0,eB.p8)("showUi"),p=(0,n.useMemo)(()=>i,[m]),_=(0,n.useMemo)(()=>o,[m]),f=(0,n.useMemo)(()=>c,[m]),g=(0,n.useMemo)(()=>d,[m]),E=(0,n.useMemo)(()=>u,[m]),v=(0,iW.ks)(),b=(0,nl.Em)(),C=(0,o2.vh)(),w=function(){let e=(0,I.GS)(),t=(0,o2.LC)();return e&&(0,aS.C7)()&&t}(),T=(0,oQ._I)(),S=(0,oQ.U4)(),N=[];return t&&N.push(t),v&&T&&!_?N.push(...r):v||p||N.push(...a),(0===N.length||1===N.length&&N[0]===sB)&&!v&&b&&C&&!f&&N.push(sn),0===N.length&&!v&&b&&S&&!_&&!E&&l&&N.push(sh),0===N.length&&!v&&b&&w&&!g&&N.push(sT),N}({openFile:e}),i=(t=l[0])===sF||t===sB||t===sP,o=o8(),c=(0,eT.r1)(o4),d=(0,y.md)(c),m=(0,eT.r1)(o6),p=(0,y.md)(m),_=(0,ed.f)(o7),g=(0,eT.r1)(o7),E=(0,y.md)(g),v=(0,eT.r1)(oW.pN),b=(0,y.md)(v),C=(0,eT.r1)(oW.qM),w=(0,y.md)(C),T=(0,eT.r1)(oW.$9),S=(0,y.md)(T),x=(0,eT.r1)(oW.af),k=(0,y.md)(x),A=(0,nl.Em)(),L=(0,o$.l7)(),O=(0,o$.hA)(),R=!!(0,r.kc)().ui3_and_ai_welcome_modal,M=(0,o0.o3)(o0.nt.ui3DevModeCallout),D=(0,eB.aV)(),{uniqueId:P,show:F,isShowing:B,complete:U}=(0,u.e)({overlay:f.S$7,priority:oZ},[d,p,b,w,S,E,k]),{currentStep:H,next:G}=(0,eU.A)({numSteps:0===l.length?1:l.length,onComplete:()=>U});(0,eC.E)(P,[(0,o1.w)("dev"),(0,o1.w)("design")],()=>{V()});let V=(0,n.useCallback)(()=>{R&&A&&a&&(M?!D&&0!==l.length&&!_&&F():D||F({canShow:(e,t,a,n,r,l,i)=>(!e||!t||!a||!n||!r||!i)&&!l}))},[R,A,a,M,D,l.length,_,F]);(0,n.useEffect)(()=>{D||V()},[D,V]),(0,eC.E)(P,"CTA Clicked",e=>{l[H]===sv&&e.properties?.text==="HelpWidget"&&U()});let z=(0,n.useCallback)(()=>{U(),o.shouldShowUI3AndAIModal?(0,tm.sx)(oW.p):o.shouldShowUI3OnlyModal&&(0,tm.sx)(oW.e7)},[U,o]),K=n.useMemo(()=>{let e={type:"button",label:(0,N.tx)("general.next"),onClick:G,ctaTrackingDescriptor:eb.c.NEXT},t={type:"button",label:(0,N.tx)("general.done"),onClick:U,ctaTrackingDescriptor:eb.c.DONE};return l.map((a,r)=>n.createElement(a,{primaryCta:r===l.length-1?t:e,onClose:r===l.length-1?U:z,stepNum:i?r:r+1,totalNumSteps:i?l.length-1:l.length,isShowing:B,onTargetLost:r===l.length-1?U:G}))},[G,U,l,z,i,B]);return((0,n.useEffect)(()=>{(!K||0===l.length||!a||L||O)&&U()},[K,l.length,a,L,O,U]),B)?n.createElement(eV.U,{currentStep:H,isShowing:B,children:K}):null}var sH=a(424863),sG=a(984032),sV=a(593788),sz=(e=>(e.AwaitIsShowing="AwaitIsShowing",e.AwaitPastedElementsSelected="AwaitPastedElementsSelected",e.AwaitOtherElementsSelected="AwaitOtherElementsSelected",e.Completed="Completed",e))(sz||{}),sK=(e=>(e.OnShow="OnShowUpsellLibariesConsecutivePaste",e[e.SelectionChanged=i_.R]="SelectionChanged",e))(sK||{});let sW=(0,ip.Op)({initial:"AwaitIsShowing",states:[{id:"AwaitIsShowing",transitions:[(0,ip.nr)("OnShowUpsellLibariesConsecutivePaste","AwaitPastedElementsSelected")]},{id:"AwaitPastedElementsSelected",transitions:[(0,ip.nr)(sK.SelectionChanged,"AwaitOtherElementsSelected",{condition:({event:e})=>!!e.properties.didSelectedNodeIdsChange})]},{id:"AwaitOtherElementsSelected",transitions:[(0,ip.nr)(sK.SelectionChanged,"Completed",{condition:({event:e})=>!!e.properties.didSelectedNodeIdsChange})]},{id:"Completed",terminal:!0}]}),sj=(0,sV.rn)("paste_deselected_machine",sW),sZ=(0,eT.r1)("explicitly_dismissed_create_component_pointer"),sY=(0,ew.tH)("first_component_created_date");function sX(){let e=(0,s.wA)(),t=(0,y.md)(ew.t),a=(0,y.md)(tT.NZ),r=(0,y.md)(tT.pQ),l=(0,t$.jO)(),i=(0,y.md)(sY),o=(0,y.md)(sZ),d=(0,io.zl)(sj),p=(0,u.e)({overlay:f.g4U,priority:m.N.SECONDARY_MODAL},[t,r,o]);return(0,eC.E)(p.uniqueId,sH.zb,()=>{null===i&&p.show({canShow:(e,t,n)=>e&&(t||a)&&l&&!n,onShow:()=>{(0,aW.YQ)({id:sK.OnShow})}})}),(0,eC.E)(p.uniqueId,"action_create_symbol",()=>{p.isShowing&&(e(c.b({explicitly_dismissed_create_component_pointer:!0})),p.complete())}),(0,io.ST)(d,({to:e})=>{e===sz.Completed&&(p.complete(),d.reset())}),n.createElement(sq,{isShowing:p.isShowing,onAbort:p.complete},n.createElement(ez.h,{isShowing:p.isShowing,modalType:eY.q3.SELF_CONTAINED,trackingContextName:"Consecutive Paste Create Component Pointer",element:sG.gL,onClickPrimaryCta:p.complete,onClose:p.complete,onManualDismiss:p.complete,testId:"upsell_libraries_consecutive_paste_overlay"}))}function sq(e){let[t,a]=n.useState(!1),l=r.Ay().user_data?.id,{isShowing:i,onAbort:o}=e;return n.useEffect(()=>{!t&&i&&((0,aI.Hz)(l)?a(!0):o())},[a,t,i,o,l]),t?e.children:null}var sJ=a(70964),sQ=a(972045);let s$="seen_chrome_version_warning",s0=["Chrome/77.0.3865.75","Chrome/77.0.3865.90","Chrome/77.0.3865.105"];function s1(e){let t=navigator&&navigator.userAgent&&navigator.userAgent.match(/CrOS/),a=(0,N.tx)("rcs.chrome_version.please_update_your_browser_to_avoid_losing_work"),l=n.createElement("p",null,(0,N.tx)("rcs.chrome_version.the_version_of_chrome_you_are_using_has_a_networking_issue_which_may_prevent_you_from_saving_your_work_please_upgrade_your_browser_to_version_77_0_3865_120_or_greater_to_avoid_any_issues",{upgradeYourBrowser:n.createElement(tF.Us,{target:"_blank",href:"https://help.figma.com/hc/articles/360040035734",trusted:!0},(0,N.tx)("rcs.chrome_version.upgrade_your_browser"))}));return t&&(a=(0,N.tx)("rcs.chrome_version.please_update_chrome_os_to_avoid_losing_work"),l=n.createElement("p",null,(0,N.tx)("rcs.chrome_version.the_version_of_chrome_os_you_are_using_has_a_networking_issue_which_may_prevent_you_from_saving_your_work_a_patch_has_been_released_with_version_77_0_3865_120_starting_november_4_2019_make_sure_to_allow_chrome_os_to_update_automatically",{updateAutomatically:n.createElement(tF.Us,{target:"_blank",href:"https://support.google.com/chromebook/answer/177889",trusted:!0},(0,N.tx)("rcs.chrome_version.update_automatically"))}))),n.createElement(sJ.mS,null,n.createElement("h1",null,a),n.createElement("br",null),l,n.createElement("br",null),n.createElement(function(){return n.createElement("p",null,(0,N.tx)("rcs.chrome_version.if_you_have_any_questions_please_email_us_at",{figmaSupportEmail:n.createElement(tF.Us,{href:`mailto:${(0,r.W4)()}`,trusted:!0},(0,r.W4)())}))},null),n.createElement(C.Jn,{className:sQ.b,onMouseDown:e=>e.stopPropagation(),onClick:e.dismissModal,innerText:"close"}))}let s2=(0,eT.r1)(s$);function s5(){let e=(0,ei.q5)(),t=e?.canEdit,a=(0,y.md)(s2),r=(0,u.e)({overlay:f.ZTu,priority:m.N.URGENT_ALERT},[a]);return(0,tf.h)(()=>{let e=(0,sl.n5)()||"";t&&s0.includes(e)&&r.show({canShow:e=>!e})}),n.createElement(ez.h,{modalType:eY.q3.DRAGGABLE,trackingContextName:"Chrome Version Warning Redalert 10-16-19",disableFooter:!0,userFlagOnShow:s$,element:s1,onClickPrimaryCta:r.complete,onClose:r.complete,onManualDismiss:r.complete,isShowing:r.isShowing,currentStepIndex:0,totalNumSteps:1})}var s3=a(410424),s4=a(944682),s6=a(116135),s7=a(867795),s8=a(178911);let s9="seen_workflow_interop_diagram_onboarding",ce=(0,eT.r1)(s9),ct="FigJam Diagram Onboarding (Workflow Interop Experiment)",ca={connectors:`${ct} - Connectors`,shapes:`${ct} - Shapes`,templates:`${ct} - Templates`};function cn(){!function(){let e=(0,eB.p8)("pagesList");(0,n.useMemo)(()=>{let t=(0,tM.QL)("preservePageIndex");if(t&&e.length>0){(0,tM.EM)("preservePageIndex");let a=parseInt(t);if(isNaN(a)||a<0||a>=e.length)return;e.forEach((e,t)=>{t!==a&&t9.Y5.triggerAction("page-delete",{args:{nodeId:e.nodeId,skipVisualBell:!0}})})}},[e])}(),function(){let{insertTemplate:e}=(0,nI.Fz)(),t=(0,s.wA)();(0,tf.h)(()=>{let a=(0,tM.QL)("templateId");null!=a&&((0,tM.EM)("templateId"),t(s3.ts({hubFileId:a,callback:t=>{e({template:{template:t,type:nM.n.HubFile},userTriggered:!1,templateInsertionDirection:h.hKj.ABOVE,triggeredFrom:"workflow-interop"})}})))})}();let e=(0,y.md)(ce),t=(0,u.e)({overlay:f.uPw,priority:m.N.OVERRIDING_MODAL},[e]),a=function(e){let t=(0,s.wA)();return n.useMemo(()=>[{title:(0,N.tx)("rcs.figjam_diagram_onboarding.connectors_title"),trackingContextName:ca.connectors,arrowPosition:ab.F_.BOTTOM,media:n.createElement(ek.y,{src:"https://static.figma.com/uploads/2655e9f0e4247dff3d5a46cf59f788473bffe0c6",aspectRatio:900/508,alt:(0,N.t)("rcs.figjam_diagram_onboarding.connectors_title")}),description:(0,N.tx)("rcs.figjam_diagram_onboarding.connectors"),targetKey:lw.BC,onClose:t7.lQ},{title:(0,N.tx)("rcs.figjam_diagram_onboarding.shapes_title"),trackingContextName:ca.shapes,arrowPosition:ab.F_.BOTTOM,media:n.createElement(ek.y,{aspectRatio:900/507,src:"https://static.figma.com/uploads/0c9201d8164c2390cdcf3fb8d316b6bacdddb438",alt:(0,N.t)("rcs.figjam_diagram_onboarding.shapes_title")}),description:(0,N.tx)("rcs.figjam_diagram_onboarding.shapes"),targetKey:lw.BC,onClose:t7.lQ},{title:(0,N.tx)("rcs.figjam_diagram_onboarding.templates_title"),trackingContextName:ca.templates,arrowPosition:ab.F_.BOTTOM,media:n.createElement(ek.y,{aspectRatio:900/505,src:"https://static.figma.com/uploads/b8b42ba263794abd20364c3da0f3f4993fd4ed86",alt:(0,N.t)("rcs.figjam_diagram_onboarding.templates_title")}),description:(0,N.tx)("rcs.figjam_diagram_onboarding.templates"),targetKey:s8.yl,secondaryCta:{type:"button",label:(0,N.tx)("rcs.figjam_diagram_onboarding.see_templates"),onClick:()=>{t(tw.En({initialX:0,initialY:0,initialTab:s7.p.TEMPLATES})),e.complete()}},onClose:t7.lQ}],[t,e])}(t);return(0,tf.h)(()=>{(0,tM.QL)(s4.tX.key)===s4.tX.value&&t.show({canShow:e=>!e})}),n.createElement(s6.WZ,{testId:"workflow-interop-machine-overlay",userFlagOnShow:s9,isShowing:t.isShowing,onComplete:t.complete,steps:a})}let cr="seen_figjam_workshop_onboarding",cl=(0,eT.r1)(cr);function ci(e){let t=(0,y.md)(tT.J1),a=(0,y.md)(cl),r=(0,y.md)(tT.zo),l=(0,y.md)(tT.PD),i=(0,u.e)({overlay:f.Fq3,priority:m.N.SECONDARY_MODAL},[t,a,r,l]);return(0,tf.h)(()=>{i.show({canShow:(e,t,a,n)=>e&&!t&&a&&!n})}),n.createElement(ez.h,{onboardingKey:eZ.v4,modalType:eY.q3.DRAGGABLE,trackingContextName:"Fig Jam Workshop Onboarding",title:()=>(0,N.t)("rcs.figjam_workshop.invite_the_world_to_your_workshop"),disableFooter:!0,width:301,element:co,isShowing:i.isShowing,onClickPrimaryCta:i.complete,onClose:i.complete,onManualDismiss:i.complete,currentStepIndex:0,totalNumSteps:1,userFlagOnShow:cr})}function co(e){return n.createElement(n.Fragment,null,n.createElement(sJ.Gv,{width:301,src:"https://static.figma.com/uploads/a97e76df2b43ae8b408127c1c63ea0b8485ba8ac"}),n.createElement(sJ.ak,null,(0,N.tx)("rcs.figjam_workshop.open_sessions_let_you_jam_with_anyone_even_people_who_don_t_have_a_figma_account")))}var cs=a(666258),cc=a(396021),cd=a(173101),cu=a(600907),cm=a(469572),cp=a(752795),c_=a(627776),cf=a(787133),ch=a(256320);function cg(){let e=(0,s.wA)(),t=(0,cf.C)();return n.useEffect(()=>{if(t)return;let a=(0,eW.Es)(),n=document.querySelector(`[data-tooltip=${a}]`);return n&&e(og.j7({type:ss.pi,data:{targetRect:n.getBoundingClientRect()}})),()=>{e(og.oB())}},[t,e]),n.createElement(n.Fragment,null,n.createElement(sJ.Gv,{width:350,src:"https://static.figma.com/uploads/30b3da35c8e26b773e6fc4b88528ff8077543ad8"}),n.createElement(sJ.ak,null,(0,N.tx)("rcs.back_to_file_browser.the_file_browser_allows_you_to"),n.createElement("br",null),n.createElement("br",null),(0,N.tx)("rcs.back_to_file_browser.you_can_head_there_by_clicking_on_option_in_the_main_menu",{optionName:n.createElement("span",{className:sQ.Cr},(0,N.tx)("rcs.back_to_file_browser.back_to_files"))})))}function cE(e){return n.createElement(ez.h,{testId:"BackToFileBrowserOverlay",modalType:eY.q3.DRAGGABLE,trackingContextName:"Back to File Browser Modal",element:cg,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sQ.Yl,footerClassName:ch.ay,title:(0,N.tx)("rcs.back_to_file_browser.file_browser"),onboardingKey:"back-to-files",pointDirection:eY._L.LEFT_TITLE,currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,userFlagOnShow:"back_to_file_browser_onboarded",UNSAFE_disableFocus:!0})}function cy(){return n.createElement("div",null,n.createElement(sJ.Gv,{src:"https://static.figma.com/app/onboarding/page-3.gif"}),n.createElement(sJ.ak,null,(0,N.tx)("rcs.comments.leave_notes_right_in_your_design_files"),n.createElement("br",null),n.createElement("br",null),(0,N.tx)("rcs.comments.get_feedback_requests_and_copy_updates_where_you_ll_use_them_not_in_your_inbox")))}function cv(e){return n.createElement(d.fu,{name:"Community Hub Duplicate Onboarding Modal"},n.createElement(_.M,{userFlagOnShow:"editor_community_duplicate_onboarded",isShowing:e.isShowing},n.createElement(tZ.Nb,{className:sQ.W8,hide:e.onManualDismiss,size:eY.pN,disableClickOutsideToHide:!0},n.createElement("div",{className:sQ.SI},n.createElement("h1",null,(0,N.tx)("rcs.community_hub_file_duplicate.welcome_to_figma")),n.createElement(tF.Kz,{multiple:4}),n.createElement("p",null,(0,N.tx)("rcs.community_hub_file_duplicate.you_just_duplicated_this_file_from_the_community_to_get_started_let_us_show_you_some_of_the_things_that_make_figma_special_and_different_from_other_design_tools")),n.createElement(tF.Kz,{multiple:4}),n.createElement(tB.Go,{fullWidth:!1,onClick:e.onClickPrimaryCta},(0,N.tx)("rcs.community_hub_file_duplicate.show_me_around")),n.createElement(tF.Kz,{multiple:3}),n.createElement(tF.Ph,{className:sQ.X8,onClick:e.onManualDismiss,trusted:!0},(0,N.tx)("rcs.community_hub_file_duplicate.no_thanks"))))))}function cb(){return n.createElement("div",null,n.createElement(sJ.Gv,{src:"https://static.figma.com/app/onboarding/export.png",width:350}),n.createElement(sJ.ak,null,(0,N.tx)("rcs.export.export_your_designs_for_use_in_production_or_to_share_with_your_team"),n.createElement("br",null),n.createElement("br",null),(0,N.tx)("rcs.export.figma_can_export_to_png_jpeg_svg_and_pdf")))}function cC(){return n.createElement("div",null,n.createElement(sJ.Gv,{src:"https://static.figma.com/app/onboarding/livepreview.gif"}),n.createElement(sJ.ak,null,(0,N.tx)("rcs.live_device_preview.to_view_your_frames_live_on_your_device_just_download_figma_mirror",{linkToIOS:n.createElement(sJ.lp,{href:"https://itunes.apple.com/app/figma-mirror/id1152747299"},(0,N.tx)("rcs.live_device_preview.i_os")),linkToAndroid:n.createElement(sJ.lp,{href:"https://play.google.com/store/apps/details?id=com.figma.mirror&hl=en"},(0,N.tx)("rcs.live_device_preview.android"))}),n.createElement("br",null),n.createElement("br",null),(0,N.tx)("rcs.live_device_preview.they_ll_update_instantly_no_matter_what_network_you_re_on_and_with_no_need_to_connect_via_usb")))}function cw(){return n.createElement("div",null,n.createElement(sJ.Gv,{src:"https://static.figma.com/app/onboarding/multiplayer.gif"}),n.createElement(sJ.ak,null,(0,N.tx)("rcs.multiplayer.collaborate_in_real_time_with_your_team_and_never_worry_about_your_files"),n.createElement("br",null),n.createElement("br",null),(0,N.tx)("rcs.multiplayer.no_syncing_no_waiting_no_merge_conflicts")))}function cT(){return n.createElement("div",null,n.createElement(sJ.Gv,{src:"https://static.figma.com/app/onboarding/sharing.gif"}),n.createElement(sJ.ak,null,(0,N.tx)("rcs.sharing.share_your_projects_with_teammates_clients_and_stakeholders"),n.createElement("br",null),n.createElement("br",null),(0,N.tx)("rcs.sharing.control_their_access_with_granular_permissions_and_manage_their_access_in_one_simple_place")))}function cS(){let e=(0,s.wA)(),t=(0,s.Pj)();return n.useEffect(()=>{let a=t.getState().leftPanel.activeTab;return e(av.FP({tab:h.xae.ASSETS})),()=>{e(av.FP({tab:a}))}},[e,t]),n.createElement("div",null,n.createElement(sJ.Gv,{src:"https://static.figma.com/app/onboarding/library.gif"}),n.createElement(sJ.ak,null,(0,N.tx)("rcs.team_library.share_components_and_styles_across_your_team_by_publishing_them"),n.createElement("br",null),n.createElement("br",null),(0,N.tx)("rcs.team_library.enable_quick_access_to_other_libraries_in_this_file")))}function cN(){return n.createElement("div",null,n.createElement(sJ.Gv,{src:"https://static.figma.com/uploads/238ff8ea8ab49de9355932f62342f3f859ad8f4a"}),n.createElement(sJ.ak,null,(0,N.tx)("rcs.universal_inserts.insert_components_from_your_libraries")))}let cx=["editor_community_duplicate_onboarded","editor_onboarded","shared_component_library_onboarded","shared_component_publish_onboarded","library_modal_onboarded","styles_onboarded","pdf_onboarded","coco_onboarded","line_height_update_onboarded","gifs_onboarded","opentype_onboarded","seen_community_hub_landing_editor_onboarding","variants_onboarded","multiple_starting_points_onboarded"],ck=[function(e){return n.createElement(eI.X,{emphasized:!0,testId:"LaunchNuxModalViewOverlay",trackingContextName:"LaunchNux",isShowing:e.isShowing,position:eA.Q.BOTTOM_RIGHT,title:(0,N.tx)("rcs.launch_nux_modal.take_a_quick_tour_of_figma"),description:(0,N.tx)("rcs.launch_nux_modal.walk_through_figma_s_unique_editor_and_collaboration_features"),primaryCta:{type:"button",label:(0,N.tx)("rcs.launch_nux_modal.show_me_around"),onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:eb.c.SHOW_ME_AROUND},secondaryCta:{type:"button",label:(0,N.tx)("rcs.launch_nux_modal.no_thanks"),onClick:e.onManualDismiss,ctaTrackingDescriptor:eb.c.NO_THANKS},onClose:e.onManualDismiss})},function(e){return n.createElement(eM.rq,{testId:"ConstraintsOverlay",trackingContextName:"Constraints Onboarding Modal",title:(0,N.tx)("rcs.constraints.constraints"),media:n.createElement(ek.y,{src:"https://static.figma.com/app/onboarding/page-2.gif",alt:"An animation showing how constraints works in Figma.",aspectRatio:1280/720}),description:n.createElement(n.Fragment,null,(0,N.tx)("rcs.constraints.setting_precise_constraints_lets_you_build_fluid_layouts_to_support_multiple_device_sizes_and_breakpoints_within_the_same_group"),n.createElement("br",null),n.createElement("br",null),(0,N.tx)("rcs.constraints.all_of_your_layers_adjust_the_way_you_expect_no_magic_you_get_full_control")),isShowing:e.isShowing,primaryCta:{type:"button",label:(0,N.tx)("rcs.rcs_shared.next"),onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:eb.c.NEXT},onClose:e.onManualDismiss,targetKey:"frame",secondaryCta:{type:"link",label:(0,N.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360039957734",ctaTrackingDescriptor:eb.c.LEARN_MORE},stepCounter:{stepNum:e.currentStepIndex+1,totalNumSteps:e.totalNumSteps}})},function(e){return n.createElement(eM.rq,{testId:"VectorNetworksOverlay",trackingContextName:"Vector Networks Onboarding Modal",title:(0,N.tx)("rcs.vector_networks.vector_networks"),media:n.createElement(ek.y,{src:"https://static.figma.com/app/onboarding/page-1.gif",alt:"An animation showing how to use the pen tool",aspectRatio:1280/720}),description:n.createElement(n.Fragment,null,(0,N.tx)("rcs.vector_networks.pen_tools_have_always_been_scary_to_use"),n.createElement("br",null),n.createElement("br",null),(0,N.tx)("rcs.vector_networks.now_they_re_both_simpler_and_more_powerful_paths_finally_work_the_way_they_should")),isShowing:e.isShowing,primaryCta:{type:"button",label:(0,N.tx)("rcs.rcs_shared.next"),onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:eb.c.NEXT},onClose:e.onManualDismiss,targetKey:"pen",secondaryCta:{type:"link",label:(0,N.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360040450213",ctaTrackingDescriptor:eb.c.LEARN_MORE},stepCounter:{stepNum:e.currentStepIndex+1,totalNumSteps:e.totalNumSteps}})},function(e){return n.createElement(ez.h,{testId:"UniversalInsertsOverlay",modalType:eY.q3.DRAGGABLE,trackingContextName:"Universal Inserts Onboarding Modal",element:cN,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sQ.Yl,footerClassName:ch.ay,title:(0,N.tx)("rcs.universal_inserts.find_components_plugins_and_widgets"),onboardingKey:"insert",additionalButton:{onClickBehavior:"link",label:(0,N.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360038510693-Guide-to-Figma-Community"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return n.createElement(ez.h,{testId:"CommentsOverlayOverlay",modalType:eY.q3.DRAGGABLE,trackingContextName:"Comments Onboarding Modal",element:cy,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sQ.Yl,footerClassName:ch.ay,title:(0,N.tx)("rcs.comments.comments"),onboardingKey:"comment",additionalButton:{onClickBehavior:"link",label:(0,N.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360039825314"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return n.createElement(ez.h,{testId:"SharingOverlay",modalType:eY.q3.DRAGGABLE,trackingContextName:"Sharing Onboarding Modal",element:cT,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sQ.Yl,footerClassName:ch.ay,title:(0,N.tx)("rcs.sharing.sharing_and_permissions"),onboardingKey:eZ.v4,additionalButton:{onClickBehavior:"link",label:(0,N.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360039485514"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return n.createElement(ez.h,{testId:"MultiplayerOverlay",modalType:eY.q3.DRAGGABLE,trackingContextName:"Multiplayer Onboarding Modal",element:cw,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sQ.Yl,footerClassName:ch.ay,title:(0,N.tx)("rcs.multiplayer.multiplayer"),onboardingKey:eZ.v4,additionalButton:{onClickBehavior:"link",label:(0,N.tx)("rcs.rcs_shared.learn_more"),href:"https://blog.figma.com/multiplayer-editing-in-figma-8f8076c6c3a6"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return n.createElement(ez.h,{testId:"TeamLibraryOverlay",modalType:eY.q3.DRAGGABLE,trackingContextName:"Team Library Onboarding Modal",element:cS,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sQ.Yl,footerClassName:ch.ay,title:(0,N.tx)("rcs.team_library.team_library"),onboardingKey:"library",additionalButton:{onClickBehavior:"link",label:(0,N.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360041051154"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,userFlagOnShow:"library_modal_onboarded",UNSAFE_disableFocus:!0})},function(e){return n.createElement(ez.h,{testId:"ExportOverlay",modalType:eY.q3.DRAGGABLE,trackingContextName:"Export Onboarding Modal",element:cb,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sQ.Yl,footerClassName:ch.ay,title:(0,N.tx)("rcs.export.export"),additionalButton:{onClickBehavior:"link",label:(0,N.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360040028114"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return n.createElement(ez.h,{testId:"LiveDevicePreviewOverlay",modalType:eY.q3.DRAGGABLE,trackingContextName:"Live Device Preview Onboarding Modal",element:cC,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sQ.Yl,footerClassName:ch.ay,title:(0,N.tx)("rcs.live_device_preview.live_device_preview"),currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})}];function cI(){return tp.eD||(0,c_.ce)()?ck:[...ck,cE]}function cA(){let e=(0,s.wA)(),t=(0,y.md)(eT.qG),a=(0,y.md)(ew.d2),r=(0,y.md)(ew.g5),l=(0,y.md)(ew.NT),i=(0,ei.q5)(),o=(0,cp.isNotNullish)(i)&&(0,nA.pi)({editorType:i.editorType})===ae._Y.DESIGN,d=(0,cp.isNotNullish)(i)&&i.canEdit,_=(0,u.e)({overlay:f.LiP,priority:m.N.OVERRIDING_MODAL},[t,r,a,l]),[h,g]=n.useState([]),E=n.useCallback(e=>{_.show({canShow:(t,a,n,r)=>{let l=(function({userFlags:e,emailValidatedAt:t,userSpace:a,isReset:n,jobTitle:r}){let l=(0,t$._q)(e),i=(0,rN.mW)(e,"editor_community_duplicate_onboarded"),o=(0,rD.d2)({emailValidatedAt:t,jobTitle:r}),s=(0,rN.mW)(e,"claimed_invite_with_pending_user_mention"),c=(0,rN.mW)(e,"has_closed_comment"),d=!!t_.Ay.location.hash,u=a===p.qo.ORG,m=(0,aI.XX)(e),_=(0,tM.QL)(nR.pt.KEY)===nR.pt.VALUE;return l&&!n||s&&!c&&d?[]:_||m?i||o?[]:u?m?[]:[cv,...cI()]:m||l&&!n?[]:[cv,...cI()]:cI()})({userFlags:t,emailValidatedAt:a,userSpace:n,isReset:e,jobTitle:r}).filter(e=>!!e);return l.length>0&&(g(l),!0)}})},[_]);n.useEffect(()=>{d&&o&&E(!1)},[E,d,o]),(0,eC.E)(_.uniqueId,"Reset Onboarding",()=>E(!0));let v=n.useCallback(()=>{let t={};for(let e of cx)t[e]=!0;e(c.b(t)),_.complete()},[e,_]);return _.isShowing&&0!==h.length?n.createElement(cL,{steps:h,onComplete:v}):null}function cL(e){let{steps:t,onComplete:a}=e,r=(0,eU.A)({numSteps:t.length,onComplete:a});return n.createElement(eV.U,{currentStep:r.currentStep,isShowing:!0,children:t.map((e,l)=>n.createElement(e,{onClickPrimaryCta:r.next,onClose:t7.lQ,onManualDismiss:a,isShowing:!0,currentStepIndex:l,totalNumSteps:t.length}))})}var cO=a(239349),cR=a(168289),cM=a(165195),cD=a(721047),cP=a(425037),cF=a(354537);function cB(){let{uniqueId:e,show:t,isShowing:a,complete:r}=(0,u.e)({overlay:f.a9B,priority:m.N.OVERRIDING_MODAL}),l=(0,s.wA)(),i=(0,ed.f)("cursor_bot_v2__no_basics_file__played_frame_formatting"),o=(0,ed.f)("design_panel_step_shown"),d=(0,ed.f)("cursor_bot_v2__basics_file__started_flow"),p=(0,t$.Ai)(["exp_cursor_bot_onboarding"]),_=(0,cD.b)();(0,eC.E)(e,"create_frame",n.useCallback(()=>{!i||o||d||p||a||t()},[o,d,a,i,t,p]));let h=(0,y.md)(cs.a8),g=!!(0,ed.f)((0,cc.Of)(cR.wn.FORMAT_FRAME,!1).tutorialPlayedUserFlag),E=n.useMemo(()=>(0,cP.p)(g,!1),[g]);if(!a)return null;if(h===cR.h0.PLAYING)return n.createElement(cM.a,{cursorBotStateManager:_,currentTutorial:E});let v=()=>{l(c.b({design_panel_step_shown:!0})),r()};return n.createElement(E.TooltipElement,{onClickNext:v,onClickShowMe:()=>{_.runTutorial(E)},onClickClose:v,skip:v,isFollowUp:!0})}function cU(){let{uniqueId:e,show:t,isShowing:a,complete:r}=(0,u.e)({overlay:f.ENg,priority:m.N.OVERRIDING_MODAL}),l=(0,s.wA)(),i=(0,ed.f)("cursor_bot_v2__no_basics_file__played_text_formatting"),o=(0,ed.f)("format_text_step_shown"),d=(0,ed.f)("cursor_bot_v2__basics_file__started_flow"),p=(0,cD.b)(),_=(0,t$.Ai)(["exp_cursor_bot_onboarding"]),[g,E]=n.useState(!1),v=(0,cO.VW)(),b=(0,s.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);(0,eC.E)(e,"create_text",()=>{E(!0)}),n.useEffect(()=>{!i||o||d||_||a||!g||v?.type!=="TEXT"||b!==h.m1T.DESIGN_LAYOUT||a||t()},[v,g,a,t,b,i,o,d,_]);let C=!!(0,ed.f)((0,cc.Of)(cR.wn.FORMAT_TEXT,!1).tutorialPlayedUserFlag),w=n.useMemo(()=>(0,cF.Z)(C,!1),[C]),T=(0,y.md)(cs.a8);if(!a)return null;if(T===cR.h0.PLAYING)return n.createElement(cM.a,{cursorBotStateManager:p,currentTutorial:w});let S=()=>{l(c.b({format_text_step_shown:!0})),r()};return n.createElement(w.TooltipElement,{onClickNext:S,onClickShowMe:()=>{p.runTutorial(w)},onClickClose:S,skip:S,isFollowUp:!0})}var cH=a(460528),cG=a(258525);function cV(){let e=(0,u.e)({overlay:f.CVA,priority:m.N.OVERRIDING_MODAL}),t=(0,ed.f)("no_figma_basics_tooltips_design_panel_step"),a=(0,ed.f)("design_panel_step_shown"),r=(0,ed.f)("started_figma_basics_onboarding"),l=(0,s.wA)(),i=t&&!a&&!r;if((0,eC.E)(e.uniqueId,"create_frame",n.useCallback(()=>{i&&!e.isShowing&&e.show()},[e,i])),!e.isShowing)return null;let o=()=>{e.complete(),l(c.b({design_panel_step_shown:!0}))};return n.createElement(eM.rq,{onClose:o,title:(0,N.tx)("tooltips_plus_onboarding.change_properties_in_the_design_panel"),description:(0,N.tx)("tooltips_plus_onboarding.design_panel.description"),trackingContextName:"Tooltips+ > Reactive Follow Ups > Frame Formatting",isShowing:e.isShowing,targetKey:cH.W,arrowPosition:ab.F_.RIGHT_BODY,onTargetLost:o,emphasized:!0,disableHighlight:!0})}function cz(){let e=(0,u.e)({overlay:f.IQ,priority:m.N.OVERRIDING_MODAL}),t=(0,ed.f)("no_figma_basics_tooltips_format_text_step"),a=(0,ed.f)("format_text_step_shown"),r=(0,ed.f)("started_figma_basics_onboarding"),l=(0,s.wA)(),i=!a&&t&&!r;if((0,eC.E)(e.uniqueId,"create_text",n.useCallback(()=>{i&&!e.isShowing&&e.show()},[e,i])),!e.isShowing)return null;let o=()=>{e.complete(),l(c.b({format_text_step_shown:!0}))};return n.createElement(eM.rq,{onClose:o,title:(0,N.tx)("tooltips_plus_onboarding.text_formatting.title"),description:(0,N.tx)("tooltips_plus_onboarding.text_formatting.description"),trackingContextName:"Tooltips+ > Reactive Follow Ups > Text Formatting",isShowing:e.isShowing,targetKey:cG.B,arrowPosition:ab.F_.RIGHT_BODY,onTargetLost:o,emphasized:!0,disableHighlight:!0})}var cK=a(502601),cW=a(841563),cj=a.n(cW),cZ=a(877645),cY=a(529928),cX=a(717156),cq=a(971646);function cJ(e){let t;let{file:a,org:r,overlay:l}=e,i=(0,cZ.B)(a,r.id),o=(0,n.useRef)(void 0),s=l.complete;if((0,n.useEffect)(()=>{i&&o.current&&!cj()(i.filePermissionsData,o.current?.filePermissionsData)&&s(),o.current=i},[i,s]),!i)return null;let c=i.isBranch,d=i.branchMatchesRepo,u=i.linkExpiresAt,m=(0,ne.Ch)(i.filePermissionsData,e.org),p=(0,cq.M3)((0,eo.A)(u)),_=!d&&c?(0,N.tx)("link_expired_overlay.different_branch_permissions_header"):(0,N.tx)("link_expired_overlay.header");return t=d?(0,N.tx)("link_expired_overlay.same_branch_permissions_body",{formattedTimestamp:p,audience:m}):c?(0,N.tx)("link_expired_overlay.different_branch_permissions_body",{formattedTimestamp:p,audience:m}):(0,N.tx)("link_expired_overlay.body",{formattedTimestamp:p,audience:m}),n.createElement(eM.rq,{isShowing:l.isShowing,trackingContextName:"Link Expired Overlay",title:_,description:t,targetKey:eZ.v4,onClose:l.complete})}let cQ=(0,cY.bt)(e=>e.modalShown);function c$(e){let t=(0,n.useRef)(null),a=(0,u.e)({overlay:f.K_h,priority:m.N.SECONDARY_MODAL}),r=(0,sx.sZ)(),l=(0,y.md)(ei.yV),i=y.md(cQ)?.type===nt.jS;return((0,eC.E)(a.uniqueId,[cX.q2],()=>{r&&l&&!a.isShowing&&!i&&a.show()}),(0,n.useEffect)(()=>(a.isShowing?t.current=setTimeout(()=>{t.current=null,a.complete()},45e3):t.current&&clearTimeout(t.current),()=>{t.current&&clearTimeout(t.current)}),[a]),r&&l)?n.createElement(cJ,{overlay:a,org:r,file:l}):null}var c0=a(144119),c1=a(621925),c2=a(924430);function c5(){let e=(0,s.wA)(),t=(0,o2.vh)(),a=(0,eT.r1)(c2.Kt),r=(0,y.md)(a),l=(0,eT.r1)(c2.wl),i=(0,y.md)(l),o=(0,c0.sO)(),d=(0,eB.aV)(),{show:m,isShowing:p,complete:_}=(0,u.e)({overlay:f.Fff,priority:oZ},[r,i]),h=(0,n.useCallback)(()=>{o&&t&&(d||m({canShow:(e,t)=>e&&!t}))},[t,d,o,m]);return(0,n.useEffect)(()=>h(),[h]),(0,c1.i)({onClickPrimaryCta:_,onClickSecondaryCta:()=>{e(c.b({agreed_to_slides_ai_terms:!1}))},isShowing:p,isOnboarding:!1,totalSteps:1})}let c3=(0,eT.r1)(c2.CH);function c4(){let e=(0,v.md)(c3),t=(0,c0.sO)(),a=(0,eB.aV)(),l=(0,c0.jY)(),{isShowing:i,show:o,complete:s}=(0,u.e)({overlay:f.c8r,priority:m.N.SECONDARY_MODAL},[e]),c=(0,n.useCallback)(()=>{t&&(0,r.kc)().piper_skip_slides&&!a&&l&&o({canShow:e=>!e})},[a,t,o,l]);return(0,n.useEffect)(()=>c(),[c]),n.createElement(eI.X,{isShowing:i,title:(0,N.tx)("slides.onboarding.ten_release.title"),description:(0,N.tx)("slides.onboarding.ten_release.description"),media:n.createElement(ek.y,{aspectRatio:1.75,src:"https://static.figma.com/uploads/5db17040a81ca137260f760a965e8d74806ed092",alt:"A graphic showing the skip slide functionality"}),primaryCta:{label:(0,N.tx)("slides.onboarding.ten_release.see_whats_new"),type:"button",onClick:()=>{(0,sl.FJ)("https://www.figma.com/release-notes/","_blank","noopener"),s()},ctaTrackingDescriptor:eb.c.SEE_WHATS_NEW},trackingContextName:"Slides Ten Release Announcement Popup",userFlagOnShow:c2.CH,position:eA.Q.BOTTOM_RIGHT,onClose:s})}var c6=a(211041),c7=a(402609);let c8=n.memo(function({isFigjamEditor:e,isDesignEditor:t,openFile:a}){let i=n.useRef(!t);n.useEffect(()=>{i.current=!t},[t]),function(e){let t=(0,y.md)(cs.a8),a=(0,s.d4)(e=>e.user?.created_at),r=!!a&&(0,eo.A)("2023-05-01").isBefore(a);n.useEffect(()=>{if(!r){e.current=!0;return}e.current=e.current||(0,cc.XC)(t)},[e,t,r]);let l=(0,s.wA)();(0,cm.yE)("x",e),(0,cm.yE)("y",e),(0,cm.yE)("width",e),(0,cm.yE)("height",e),(0,cm.yE)("angle",e),(0,cm.yE)("cornerRadius",e),(0,cm.yE)("strokePaints",e),(0,cm.yE)("fillPaints",e),(0,cm.yE)("effects",e),(0,cm.yE)("fontSize",e),(0,cm.yE)("fontFamily",e),(0,cm.yE)("fontStyle",e),(0,cu.g)("has_zoomed_in_design_file",e),(0,cd.U)("has_panned_in_design_file",e);let i=(0,ed.f)("has_created_text"),o=(0,ed.f)("has_created_frame"),d=(0,ed.f)("has_selected_frame_tool"),m=(0,u.e)({overlay:f._5$,priority:0});(0,eC.E)(m.uniqueId,"action_set_tool_frame",n.useCallback(()=>{e&&e.current||d||l(c.b({has_selected_frame_tool:!0}))},[e,l,d])),(0,eC.E)(m.uniqueId,"create_frame",n.useCallback(()=>{e&&e.current||o||l(c.b({has_created_frame:!0}))},[e,l,o])),(0,eC.E)(m.uniqueId,"create_text",n.useCallback(()=>{e&&e.current||i||l(c.b({has_created_text:!0}))},[e,l,i])),e.current}(i),function(e){let t=(0,s.wA)(),a=(0,y.md)(ec.mp),r=null!=a&&(0,eo.A)("2023-10-31").isBefore(a),l=!!(0,ed.f)("has_opened_design_editor"),[i,o]=(0,y.fp)(eu);(0,n.useEffect)(()=>{r&&!l&&e&&(o(!0),t(c.b({has_opened_design_editor:!0})))},[t,l,e,o,r]),(0,n.useEffect)(()=>{i&&!e&&o(!1)},[i,e,o])}(t);let o=(0,ei.MY)();return el.z4.getIsExtension()||!(0,r.kc)().redep_open_file_thinning&&!a||(0,r.kc)().redep_open_file_thinning&&"loaded"!==o.status||er.pb.isGoogleClassroomIntegration()?null:n.createElement(n.Fragment,null,n.createElement(c9,{isFigjamEditor:e,isDesignEditor:t,openFile:a}),!l.Ay.isIpadNative&&n.createElement(de,{isFigjamEditor:e,isDesignEditor:t,openFile:a}))});function c9({isFigjamEditor:e}){return n.createElement(n.Fragment,null,e&&n.createElement(c7.p,null,n.createElement(tW,null),n.createElement(tX,null)))}function de({isFigjamEditor:e,isDesignEditor:t,openFile:a}){let s=(0,c6.tG)(),c=(0,o.q8)();return n.createElement(n.Fragment,null,t&&!(0,i.nl)()&&n.createElement(c7.p,null,n.createElement(tr,null)),e&&!t&&n.createElement(cK.Q,null,n.createElement(c7.p,null,n.createElement(tu,null))),n.createElement(c7.p,null,n.createElement(ay.P,null)),a?.teamId&&n.createElement(cK.Q,null,n.createElement(c7.p,{featureFlag:"pro_trials_v3_ux"},n.createElement(oR,{teamId:a.teamId,isDesignEditor:t,isFigJamEditor:e}))),a?.teamId&&n.createElement(cK.Q,null,n.createElement(c7.p,null,n.createElement(oL,{teamId:a.teamId,isDesignEditor:t,isFigJamEditor:e}))),t&&n.createElement(c7.p,null,n.createElement(aM,null)),n.createElement(c7.p,null,n.createElement(aU.A,null)),n.createElement(c7.p,null,n.createElement(aH.F,null)),n.createElement(c7.p,null,n.createElement(aG.w,null)),!l.Xb&&n.createElement(c7.p,null,n.createElement(aK.$l,null)),a?.canEditCanvas&&e&&!t&&n.createElement(c7.p,null,n.createElement(r8,{openFile:a}),n.createElement(il,null),n.createElement(rm,null),n.createElement(ln,null),n.createElement(rC,null),n.createElement(rw,null)),e&&!t&&n.createElement(n.Fragment,null,n.createElement(c7.p,{featureFlag:"nux_gen0_overlay_enabled"},n.createElement(az.L,null)),n.createElement(c7.p,null,n.createElement(rq,null))),n.createElement(c7.p,null,n.createElement(ii.KX,null)),e&&n.createElement(c7.p,null,n.createElement(ci,null)),n.createElement(c7.p,null,n.createElement(iC,null)),n.createElement(c7.p,null,n.createElement(iV.Wk,null)),t&&n.createElement(c7.p,null,n.createElement(s5,null)),t&&n.createElement(c7.p,null,n.createElement(cA,null)),t&&n.createElement(c7.p,null,n.createElement(aE,null)),e&&n.createElement(c7.p,null,n.createElement(cn,null)),n.createElement(c7.p,null,n.createElement(c$,null)),n.createElement(c7.p,null,n.createElement(eF,null)),e&&n.createElement(n.Fragment,null,n.createElement(c7.p,null,n.createElement(tO,null))),t&&a?.canEdit&&n.createElement(c7.p,null,n.createElement(sX,null)),t&&a?.canEdit&&n.createElement(c7.p,null,n.createElement(aC,null)),t&&n.createElement(c7.p,null,n.createElement(t3,null)),n.createElement(c7.p,null,n.createElement(tv,null)),!l.Xb&&n.createElement(c7.p,null,n.createElement(aB,null)),n.createElement(c7.p,null,n.createElement(aV.b,null)),t&&n.createElement(c7.p,null,n.createElement(iL,null)),t&&n.createElement(c7.p,null,n.createElement(cV,null),n.createElement(cz,null)),t&&n.createElement(c7.p,{featureFlag:"cursor_bot"},n.createElement(cB,null),n.createElement(cU,null)),e&&!c&&!(0,r.kc)().figjam_synthesize_handbrake&&n.createElement(c7.p,null,e&&n.createElement(en,null)),e&&!c&&!(0,r.kc)().figjam_synthesize_handbrake&&n.createElement(c7.p,null,e&&n.createElement(P.Cw,null)),e&&n.createElement(c7.p,{featureFlag:"figjam_pages_in_figjam"},e&&n.createElement(tC.$8,null)),e&&n.createElement(c7.p,null,n.createElement(tJ.PC,null)),s&&n.createElement(c7.p,null,e&&n.createElement(tb.vi,null)),t&&n.createElement(c7.p,null,n.createElement(eO,null)),e&&n.createElement(c7.p,null,n.createElement(oP.rj,null),n.createElement(oV,null)),t&&n.createElement(c7.p,{featureFlag:"rollout_pinned_comments_ff"},n.createElement(iH,null),n.createElement(iG,null)),t&&n.createElement(c7.p,{featureFlag:"ce_outline_mode_shortcut_pref"},n.createElement(iF,null)),n.createElement(c7.p,{featureFlag:"qa_v2"},n.createElement(ak,null)),e&&n.createElement(c7.p,{featureFlag:"figjam_share_to_google_classroom"},n.createElement(oK,null),n.createElement(nE,null)),n.createElement(c7.p,{featureFlag:"config_24_feature_carousel"},n.createElement(tl.M,null)),a&&n.createElement(c7.p,{featureFlag:"ui3_and_ai_welcome_modal"},n.createElement(sU,{openFile:a}),n.createElement(oJ,null),n.createElement(oX,null)),n.createElement(c7.p,null,n.createElement(c5,null)),n.createElement(c7.p,null,n.createElement(c4,null)),n.createElement(c7.p,null,n.createElement(eg,null)))}},58994:(e,t,a)=>{a.d(t,{AI:()=>b,bX:()=>v,i1:()=>I,vi:()=>k});var n=a(411855),r=a(320063),l=a(374626),i=a(288706),o=a(646240),s=a(939863),c=a(101505),d=a(456104),u=a(683694),m=a(582947),p=a(397065),_=a(143678),f=a(394828),h=a(340514),g=a(493364),E=a(463546),y=a(583765);let v="ai_generate_onboarding_key",b="ai_new_file_modal_v2_onboarding_key",C="has_seen_figjam_ai_modal_overlay",w="has_seen_figjam_ai_toolbar_tooltip",T=(0,m.r1)(y.W1),S=(0,m.r1)(C),N=(0,m.r1)(w),x=(0,m.r1)("figjam_editor_onboarded");function k(){let e=(0,l.md)(N),t=(0,l.md)(y.qe),a=(0,l.md)(y.rM),r=(0,d.e)({overlay:E.QLv,priority:p.N.HIGH_PRIORITY_MODAL},[e]);return(0,n.useEffect)(()=>{let e=setTimeout(()=>{r.show({canShow:e=>!e&&a&&t})},1e3);return()=>clearTimeout(e)},[t,a,r]),n.createElement(h.rq,{isShowing:r.isShowing,userFlagOnShow:w,targetKey:v,onClose:r.complete,trackingContextName:_.e0.AI_TOPBAR_TOOLTIP,title:(0,s.tx)("whiteboard.ai_onboarding.ai_templates_toolbar.title"),description:(0,s.tx)("whiteboard.ai_onboarding.ai_templates_toolbar.description"),emphasized:!0})}function I({targetKey:e}){let t=(0,l.md)((0,i.Rq)(u.Sb)),a=(0,l.md)(T),m=(0,l.md)(S),v=(0,l.md)(x),b=(0,o.Xr)(y.RC),w=(0,d.e)({overlay:E.xiH,priority:p.N.HIGH_PRIORITY_MODAL},[a,m,t,v]);(0,r.h)(()=>{w.show({canShow:(e,t,a,n)=>!e&&!t&&!a&&n})});let N=()=>{w.complete(),b(!0)};return(0,r.h)(()=>()=>{N()}),n.createElement(h.rq,{isShowing:w.isShowing,userFlagOnShow:C,targetKey:e,onClose:N,onTargetLost:N,trackingContextName:_.e0.AI_MODAL_ONBOARDING_TOOLTIP,arrowPosition:g.F_.LEFT_TITLE,title:(0,s.tx)("whiteboard.ai_onboarding.new_file_modal.title"),media:n.createElement(f.y,{src:"https://static.figma.com/uploads/b306123ab827a626d46db70bcc5a74e9e76feacf",alt:"",aspectRatio:301/154}),description:(0,s.tx)("whiteboard.ai_onboarding.new_file_modal.footer"),primaryCta:{label:(0,s.tx)("rcs.got_it"),type:"button",onClick:N,ctaTrackingDescriptor:c.c.GOT_IT}})}},957379:(e,t,a)=>{a.d(t,{$8:()=>S,gh:()=>C,jn:()=>b});var n=a(411855),r=a(374626),l=a(913016),i=a(939863),o=a(226055),s=a(456104),c=a(683694),d=a(723239),u=a(582947),m=a(29680),p=a(335682),_=a(694687),f=a(243987),h=a(984968),g=a(397065),E=a(340514),y=a(463546);let v="seen_figjam_pages_launch_tooltip",b="used_figjam_pages",C="figjam-pages-onboarding-key",w=(0,u.r1)(v),T=(0,u.r1)(b);function S(){let e=(0,r.md)(w),t=(0,r.md)(T),a=(0,r.md)(c.zo),u=(0,r.md)(d.Fy),b=(0,o.GS)(),S=(0,m.aV)(),N=(0,p.q5)(),x=!!(N&&(0,f.dT)(N)),k=Date.now()<=l.rn.getTime()+2592e6,I=(0,h.ol)(),A=(0,_.sZ)(),L=!!(I?.student_team||A?.k12_google_org),{show:O,isShowing:R,complete:M}=(0,s.e)({overlay:y.$8i,priority:g.N.SECONDARY_MODAL},[e,a,u,t]);return n.useEffect(()=>{O({canShow:(e,t,a,n)=>!e&&x&&t&&a&&!n&&k&&!b&&!S&&!L})},[O,e,x,a,u,t,k,b,S,L]),n.createElement(E.rq,{isShowing:R,userFlagOnShow:v,emphasized:!0,title:(0,i.tx)("pages_panel.toolbar.rcs_title"),description:n.createElement("p",null,(0,i.tx)("pages_panel.toolbar.rcs_desc")),targetKey:C,onClose:M,trackingContextName:"figjam_pages_onboarding_pointer"})}},339690:(e,t,a)=>{a.d(t,{AV:()=>f,Lj:()=>h,PC:()=>b,sW:()=>E});var n=a(411855),r=a(374626),l=a(939863),i=a(226055),o=a(456104),s=a(683694),c=a(723239),d=a(582947),u=a(29680),m=a(397065),p=a(116135),_=a(463546);let f="figjam-ui3-left-panel-onboarding-key",h="figjam-ui3-right-rpanel-onboarding-key",g="seen_figjam_ui3_launch_tooltip",E="used_figjam_ui3",y=(0,d.r1)(g),v=(0,d.r1)(E);function b(){let e=(0,r.md)(y),t=(0,r.md)(v),a=(0,r.md)(s.zo),d=(0,r.md)(c.Fy),E=(0,i.GS)(),b=(0,u.aV)(),{show:C,isShowing:w,complete:T}=(0,o.e)({overlay:_.PCP,priority:m.N.SECONDARY_MODAL},[e,a,d,t]);n.useEffect(()=>{C({canShow:(e,t,a,n)=>!e&&t&&a&&!n&&E&&!b})},[C,e,a,d,t,E,b]);let S=[{title:(0,l.tx)("whiteboard.ui3_panels.rcs_title"),description:(0,l.tx)("whiteboard.ui3_left_panel.rcs_description"),trackingContextName:"figjam_ui3_left_panel_onboarding_pointer",targetKey:f,emphasized:!0,disableHighlight:!0},{title:(0,l.tx)("whiteboard.ui3_panels.rcs_title"),description:(0,l.tx)("whiteboard.ui3_right_panel.rcs_description"),trackingContextName:"figjam_ui3_right_panel_onboarding_pointer",targetKey:h,emphasized:!0,disableHighlight:!0}];return n.createElement(p.WZ,{isShowing:w,steps:S,onComplete:T,userFlagOnShow:g})}},698380:(e,t,a)=>{a.d(t,{O:()=>l});var n=a(411855),r=a(939683);function l(){let e=(0,r.U)();return(0,n.useCallback)(t=>{e("figjam_onboarding_event",t,{batchRequest:!1})},[e])}},342720:(e,t,a)=>{a.d(t,{CM:()=>g,mI:()=>E,wV:()=>b,mN:()=>y,vX:()=>v,rL:()=>C});var n=a(411855),r=a(629019),l=a.n(r),i=a(946689),o=a(511443),s=a(574176),c=a(47506),d=a(939863);function u({onClick:e,autoFocus:t,children:a,trackingEventName:r,large:o}){return n.createElement(i.vd,{className:l()({"connector_modal_cta_button--button--mhvSu text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0,"connector_modal_cta_button--buttonLarge--4RXeh text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI":o}),onClick:e,autoFocus:t,trackingEventName:r},a)}var m=a(698380),p=a(601538),_=a(979686),f=a(537240),h=a(874529);let g="FigJam Editor Onboarding";function E(e){return n.createElement("div",{className:f.hQ},e.svg&&n.createElement("div",{className:f.ZS},n.createElement(s.B,{svg:e.svg,useOriginalSrcFills_DEPRECATED:!0})),n.createElement("div",{className:f.IP},e.titleText?e.titleText:"",e.bodyText),e.buttonText&&e.onButtonClick&&n.createElement("div",{className:f.UD},n.createElement(u,{onClick:e.onButtonClick,autoFocus:!0},e.buttonText)))}let y="https://static.figma.com/uploads/8f3066fc3906f11f2601a390725f2b7af58e01a1";function v(e){let t=(0,m.O)(),a=(0,_.hO)()<o.lc+110;return n.createElement(n.Fragment,null,e.children,n.createElement(i.vd,{className:l()(f.SZ,{[f.x1]:a}),onClick:()=>{e.onSkipClick(),(0,c.YQ)({id:p.P7}),t({eventName:"msv2_skipped",useCase:e.useCase})},autoFocus:!0,trackingProperties:{text:"Skip intro"}},(0,d.tx)("figjam_onboarding_make_something.all.skip_intro"),n.createElement(s.B,{svg:h.A})))}function b(e){return n.createElement("div",{className:l()({[f.xn]:!0})},n.createElement(E,{bodyText:e.bodyText,buttonText:e.buttonText,onButtonClick:e.onButtonClick,svg:e.svg}))}function C(e){let{useCase:t,stepName:a,stepNum:r}=e,l=(0,m.O)();(0,n.useEffect)(()=>{l({eventName:"msv2_step_shown",useCase:t,stepName:a,stepNum:r})},[a,r,l,t])}},5231:(e,t,a)=>{a.d(t,{m5:()=>L,pN:()=>I,rj:()=>O});var n=a(411855),r=a(188507),l=a(598045),i=a(374626),o=a(288706),s=a(939863),c=a(101505),d=a(456104),u=a(683694),m=a(723239),p=a(582947),_=a(373119),f=a(177505),h=a(601607),g=a(397065),E=a(394828),y=a(340514),v=a(493364),b=a(463546),C=a(583765),w=a(315944),T=a(979686),S=a(520177),N=a(258751),x=a(787523),k=a(526518);let I="section_presets_announcement_key",A="seen_figjam_section_presets_announcement",L=(0,p.Fu)(A);function O(){let e=(0,i.md)(N.P)===x.iH.TRUE,t=(0,r.d4)(e=>e.mirror.appModel.currentPage),a=(0,h.Fk)((t,a)=>(0,f.zC)(t,a)||e&&(0,f.re)(t,a),t),p=(0,_.q)(),O=(0,i.md)((0,o.Rq)(u.Sb)),R=(0,i.md)(L),M=(0,i.md)(S.w),D=(0,T.FF)(),P=function(){let[e,t]=(0,n.useState)(!1),a=(0,r.d4)(e=>e.isMakeSomethingV2Active),l=(0,i.md)(C.rM);return(0,n.useEffect)(()=>{(a||l)&&t(!0)},[l,a]),e}(),F=(0,i.md)(C.dO),B=(0,i.md)(m.mp),U=F.status!==w.c.NONE,[H,G]=(0,n.useState)(!1),{show:V,isShowing:z,complete:K}=(0,d.e)({overlay:b.pjo,priority:g.N.SECONDARY_MODAL},[R,O,B]),W=1e3*parseFloat(k.H)+1e3;return(0,n.useEffect)(()=>{let e=setTimeout(()=>{G(!0)},W);return()=>{clearTimeout(e)}},[W]),(0,n.useEffect)(()=>{M&&!P&&!U&&a&&p&&D&&H&&V({canShow:(e,t,a)=>{let n=function(e){let t=Date.now();return e.getTime()<=t-12096e5}(a);return!e&&!t&&n}})},[V,a,p,M,D,H,U,P]),n.createElement(y.rq,{isShowing:z,userFlagOnShow:A,targetKey:I,onClose:K,trackingContextName:"section_preset_picker_dlt_announcement",title:(0,s.tx)("whiteboard.section_presets_onboarding.feature_announcement.title"),description:(0,s.tx)("whiteboard.section_presets_onboarding.feature_announcement.description"),media:n.createElement(E.w,{src:"https://static.figma.com/uploads/0ccb9b0b677f719939bd9bacd937201dfea4e8c9",aspectRatio:4/3}),primaryCta:{label:(0,s.tx)("rcs.got_it"),type:"button",onClick:K,ctaTrackingDescriptor:c.c.GOT_IT},secondaryCta:{label:(0,s.tx)("whiteboard.section_presets_onboarding.feature_announcement.secondary"),type:"button",onClick:()=>{e&&l.gw5.setFigjamStarterKitEnabled(!1),l.T4N.createSectionForOnboarding(),K()},ctaTrackingDescriptor:c.c.SECTION_PRESET_PICKER_SHOW_ME},arrowPosition:v.F_.BOTTOM})}},287928:(e,t,a)=>{a.r(t),a.d(t,{EmbeddedFigmaScopeView:()=>O,EmbeddedPrototypingFigmaScopeViewEnabled:()=>D});var n=a(411855),r=a(188507),l=a(598045),i=a(346124),o=a(829816),s=a(395096),c=a(966159),d=a(91408),u=a(189430),m=a(966712),p=a(646240),_=a(97395),f=a(395281),h=a(259927),g=a(809831),E=a(693707),y=a(168039),v=a(617453),b=a(843495),C=a(335682),w=a(611978),T=a(100197),S=a(444576),N=a(234945),x=a(552657),k=a(863822),I=a(258159),A=a(109022),L=a(860168);let O=n.memo(function(){return(0,m.kc)().internal_only_debug_tools?n.createElement(M,null):null});function R(e,t){n.useEffect(()=>{let a=a=>{70===a.keyCode&&a.ctrlKey&&a.altKey&&a.metaKey&&t(!e&&!!(0,m.kc)().internal_only_debug_tools)};return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[e,t])}function M(){let e=(0,T.J2)((0,v.UK)().showFigmaScope),{setIsOpen:t,setClosed:a}=n.useMemo(()=>{let e=e=>(0,v.UK)().showFigmaScope.set(e);return{setIsOpen:e,setClosed:()=>e(!1)}},[]);return R(e,t),e?n.createElement(P,{onClose:a}):null}function D(){let[e,t]=n.useState(!1),a=n.useCallback(()=>{t(!1)},[t]);return R(e,t),e?n.createElement(F,{onClose:a,appSelection:void 0,setAppSelection:void 0}):null}function P({onClose:e}){let t=(0,r.wA)(),a=(0,r.d4)(U),i=n.useCallback(e=>{"canvas"===e.selectionType&&l.Egt.setSelectedNodeAndCanvas(e.guidStr,!1)&&(b.hq(e.guidStr),l.NfO.scrollAndZoomIntoView([e.guidStr])),"local_style"===e.selectionType&&(b.wr(),t(f.Bn({type:e.styleType,styleIds:new Set([e.guidStr]),folderNames:new Set})))},[t]);return n.createElement(F,{onClose:e,appSelection:a,setAppSelection:i})}function F({onClose:e,appSelection:t,setAppSelection:a}){let m=(0,w._6)(),_=(0,C.tS)(),f=(0,T.J2)(l.Hcu.sceneGeneration()),[v]=(0,s.A)(f,500,{trailing:!0}),b=(0,p.Xr)(k.o3),S=(0,r.d4)(e=>{if("prototype"===m.view)return!0;try{return null!=e.mirror.sceneGraph.getCurrentPage()}catch(e){return!1}}),N=(0,r.d4)(e=>e.mirror.appModel.pagesList);n.useEffect(()=>{if(S){let e={type:"server_file",key:_??"unknown",backend:"fullscreen"};b((0,c.NY)({resource:e,scenes:[new x.I({resource:e,sensitiveTextPolicy:"show",inPrototypeViewer:"prototype"===m.view})]}))}},[v,b,S,m.view,_]);let O=(0,y.dB)(),R=n.useRef(null);(0,E.Z)("legacy"===O?"light":O,R,m);let M=(0,g.lg)(),{windowInnerHeight:D}=(0,u.l)(),[P,F]=n.useState(window.innerHeight/2),U=n.useMemo(()=>D-(0,i.clamp)(P,(0,d.hG)("design"===M?L.LdP:L.tui),D-32),[P,M,D]),H=(0,p.Xr)(I.O);n.useEffect(()=>{H(U)},[H,U]);let[,G]=(0,o.i)({onDrag(e){F(e.clientY)}});return S?n.createElement(B,null,n.createElement("div",{style:{zIndex:6,height:U,color:"#000",position:"relative"},ref:R,className:h.Dm,tabIndex:-1},n.createElement("div",{...G({style:{cursor:"ns-resize",position:"absolute",left:0,right:0,top:"-3px",height:"5px"}})}),n.createElement(A.J,{embedded:!0,onClose:e,appSelection:t,setAppSelection:a,pagesList:N}))):null}class B extends n.PureComponent{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){console.error(e)}render(){return this.state.hasError?null:this.props.children}}let U=(0,_.P8)([N.Xt,S.nt],(e,t)=>{let a=Object.keys(e);if(a.length>0)return{selectionType:"canvas",guidStr:a[0]};if(t){let e=Array.from(t.styleIds);if(e.length>0)return{selectionType:"local_style",guidStr:e[0],styleType:t.type}}})},287832:(e,t,a)=>{a.d(t,{T:()=>Q,G:()=>X});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(395096),s=a(121913),c=a(966712),d=a(563706),u=a(96328),m=a(192437),p=a(939863),_=a(392592),f=a(37943),h=a(529906),g=a(516398),E=a(617453),y=a(630331),v=a(457630),b=a(100197),C=a(239671),w=a(325621),T=a(554905),S=a(448211),N=a(598045),x=a(862442),k=a(601607),I=a(681816),A=a(237395),L=a(842164),O=a(752795),R=a(126049),M=a(234945),D=a(531664);class P{constructor(e){this.store=e}get graph(){return this.store.getState().mirror.sceneGraph}children(e){return(0,S.dl)(this.graph,e)?[]:N.glU.getSortedChildGuids(e.guid).map(e=>this.graph.get(e)).filter(O.isNotNullish)}id(e){return e.guid}isRoot(e){let t=this.parent(e);return!t||"DOCUMENT"===t.type}parent(e){let t=e.parentNode;return t&&"DOCUMENT"!==t.type?t:void 0}interpret(e){if(!e||"SECTION_OVERLAY"===e.type)return{inclusion:L.v.OMIT};if("CANVAS"===e.type)return{inclusion:L.v.INCLUDE};if(e.resizeToFit)return{inclusion:L.v.CHILDREN};let t=(0,S.xR)(N.Egt.getNodeTransformProperties(e.guid)),a=(0,S.U3)(e),n=(0,S.sh)({type:e.type,name:e.name}),r=(0,S.q4)(e),l=(0,S.q4)(e.textSublayer),i=N.Egt.getStickableFrequencies(e.guid)||{},o=e.accessibleLabel,s="TABLE"===e.type?(0,S.qJ)(this.graph,e):null,c="SECTION"===e.type&&e.sectionContentsHidden;return{guid:e.guid,inclusion:L.v.INCLUDE,type:e.type,author:e.authorVisible&&e.authorName?e.authorName:null,directTextContent:r,innerTextContent:l,tableCells:s,transformProperties:t,ariaRole:a,name:e.name,headerLabel:n,shapeType:"SHAPE_WITH_TEXT"===e.type?e.shapeWithTextType:null,stampFrequencies:i,accessibleLabel:o,contentsHidden:c,absoluteTransform:e.absoluteTransform,dimensions:e.size}}comparePayloads({transformProperties:e,directTextContent:t,innerTextContent:a,stampFrequencies:n,accessibleLabel:l,dimensions:i,absoluteTransform:o,...s},{transformProperties:c,directTextContent:d,innerTextContent:u,stampFrequencies:m,accessibleLabel:p,dimensions:_,absoluteTransform:f,...h}){return(0,r.bN)(s,h)&&(0,r.bN)(i,_)&&(0,r.bN)(o,f)&&(0,r.bN)(e,c)&&(0,r.bN)(n,m)&&(0,r.bN)(l,p)&&(0,D.c2)(t,d)&&(0,D.c2)(a,u)}}function F({logAction:e,nodeMapping:t,currentPage:a}){let l=(0,r.Pj)(),i=(0,n.useMemo)(()=>new P(l),[l]),o=(0,A._)(i,e),s=(0,r.d4)(M.dK);(0,r.d4)(M.Xt);let c=(0,R.A)(()=>{if(!a)return;let e=N.AlE.getActiveDocument(),t=N.yGz.flushChangedNodes(e);if(t.length){let e=t.map(e=>s.get(e)).filter(O.isNotNullish);o.updateDirtyNodes(e)}},500,{leading:!0,trailing:!0,maxWait:1e3});(0,n.useEffect)(c);let d=a?N.AlE.getActiveDocument():void 0;return(0,n.useEffect)(()=>{if(void 0!==d)return N.yGz.setMapping(d,t),()=>{N.yGz.flushChangedNodes(d),N.yGz.setMapping(d,N.Zbk.NONE)}},[d,t]),(0,n.useEffect)(()=>{if(!a)return;let e=l.getState().mirror.sceneGraph.get(a);e&&o.updateDirtyNodes([e])},[a,l,o]),o}let B=(0,n.memo)(function(e){let t=(0,k.Fk)(e=>e.getCurrentPage()?.guid),a=(0,x.Z)("design_navigate"),l=(0,b.J2)((0,E.UK)().accessibilityDomDebug),i=F({currentPage:t,logAction:s.h.DESIGN_UPDATE_NODE,nodeMapping:N.Zbk.FIGJAM}),{self:o,parent:c,child:d,next:u,prev:m,siblingCount:p,positionAmongSiblings:_}=function(e,t){let{parentId:a,childId:n,prevId:r,nextId:l,selfId:i,siblingCount:o,positionAmongSiblings:s}=(0,k.wA)((e,t,a)=>{let n,r,l;let i=e.get(t),o=i?function(e,t){let a=e?.parentNode??null;for(;a&&t.adjacencies.get(a.guid)?.inclusion!==L.v.INCLUDE;)a=a.parentNode;return a}(i,a):null,s=o?a.adjacencies.get(o.guid)?.childIds:[];s?.length&&((l=s.indexOf(t))>0&&(n=s[l-1]),l<s.length-1&&(r=s[l+1]));let c=a.adjacencies.get(t)?.childIds?.[0];return{selfId:i?.guid,parentId:o?.guid,prevId:n,nextId:r,childId:c,siblingCount:s?.length,positionAmongSiblings:l}},e,t);return{parent:(0,A.A)(a,t),child:(0,A.A)(n,t),next:(0,A.A)(l,t),prev:(0,A.A)(r,t),self:(0,A.A)(i,t),siblingCount:o,positionAmongSiblings:s}}((0,r.d4)(e=>{let t=e.mirror.appModel.currentPage;return Object.keys(e.mirror.sceneGraphSelection)[0]||t||"-1:-1"}),i);if(!o?.transformProperties)return null;let f=n.createElement(n.Fragment,null,m?.transformProperties&&n.createElement(I.cH,{isDebugMode:l,navigate:a,accessibilityScope:i,...m,size:m.childIds.length||0,parentId:c?.guid,nodeId:m.guid,setSize:p??1,headingLevel:0,setPosition:void 0!==_?_-1:0}),n.createElement(I.cH,{isDebugMode:l,navigate:a,accessibilityScope:i,...o,size:o.childIds.length||0,parentId:c?.guid,nodeId:o.guid,setSize:p??1,headingLevel:0,setPosition:_??0},d?.transformProperties&&n.createElement(I.cH,{isDebugMode:l,navigate:a,accessibilityScope:i,...d,size:d.childIds.length||0,parentId:o.guid,nodeId:d.guid,setSize:1,headingLevel:0,setPosition:0})),u?.transformProperties&&n.createElement(I.cH,{isDebugMode:l,navigate:a,accessibilityScope:i,...u,size:u.childIds.length||0,parentId:c?.guid,nodeId:u.guid,setSize:p??1,headingLevel:0,setPosition:void 0!==_?_+1:0}));return c?.transformProperties?n.createElement(I.cH,{isDebugMode:l,navigate:a,accessibilityScope:i,...c,size:c.childIds.length,parentId:"",nodeId:c.guid,setSize:1,headingLevel:0,setPosition:0},f):f}),U=(0,n.memo)(function(e){let t=(0,k.Fk)(e=>e.getCurrentPage()?.guid),a=(0,x.Z)("figjam_navigate"),r=(0,b.J2)((0,E.UK)().accessibilityDomDebug),l=F({currentPage:t,logAction:s.h.FIGJAM_UPDATE_NODE,nodeMapping:N.Zbk.FIGJAM});return n.createElement(I.cU,{nodeId:t||"",accessibilityScope:l,navigate:a,isDebugMode:r})}),H=n.createContext({getLastEventWasTab:()=>!1});function G({children:e}){let t=(0,n.useRef)(!1);(0,n.useEffect)(()=>{let e=()=>{t.current=!1},a=({key:e})=>{t.current="Tab"===e};return document.addEventListener("pointerdown",e),document.addEventListener("pointermove",e),document.addEventListener("keydown",a),()=>{document.removeEventListener("pointerdown",e),document.removeEventListener("pointermove",e),document.removeEventListener("keydown",a)}},[]);let a=(0,n.useCallback)(()=>t.current,[]),r=(0,n.useMemo)(()=>({getLastEventWasTab:a}),[a]);return n.createElement(H.Provider,{value:r},e)}var V=a(274071),z=a(157663),K=a(794272),W=a(356390),j=a(913964);let Z="textInputRegistered";var Y=a(420711);let X=n.createContext({loggerEventName:"uninit_navigate"}),q=new Map([[C.nT.Whiteboard,{loadAction:s.h.FIGJAM_INITIAL_TREE_LOAD,RootComponent:U}]]),J=new Map([...q,[C.nT.Design,{loadAction:s.h.DESIGN_INITIAL_TREE_LOAD,RootComponent:B}]]),Q=(0,n.memo)(function(){return n.createElement(G,null,n.createElement($,null))});function $(){let e=(0,r.d4)(e=>e.selectedView.editorType),{loggerEventName:t}=n.useContext(X);!function({loggerEvent:e}){let t=(0,x.Z)(e),{getLastEventWasTab:a}=(0,n.useContext)(H),l=(0,r.d4)(e=>1===Object.keys(e.mirror.sceneGraphSelection).length?Object.keys(e.mirror.sceneGraphSelection)[0]:null),i=n.useMemo(()=>N.CUU&&N.CUU.exists(N.Sie.REDUX)?N.CUU.getSelectedTextRange(N.Sie.REDUX)?.textNodeId:null,[]),o=l||i;n.useEffect(()=>{o&&a()&&t((0,v.QZ)({nodeId:o,...I.B5}),I.tp)},[t,a,o])}({loggerEvent:t});let a=(0,h.e)();(0,V.of)(e);let l=(0,r.wA)(),i=(0,r.d4)(e=>!!e.modalShown);(0,n.useEffect)(()=>{a&&d.Xb&&(i||l(_.F.enqueue({message:(0,p.t)("fullscreen.accessibility.platform_error"),role:"alert",type:"accessibility-dom-react-error"})),l((0,f.mC)({errorType:"platform_error"})))},[l,i,a]);let o=n.useRef(null);(0,g.k4)(o);let s=!d.Xb,u=n.useMemo(()=>(0,c.u4)("a11y_design_dom_mirror",J,q).get(e),[e]);if(!s)return null;if(!(u&&a))return n.createElement(w.K,null);{let{loadAction:e,RootComponent:t}=u;return n.createElement(m.tH,{onError:()=>{i||l(_.F.enqueue({message:(0,p.t)("fullscreen.accessibility.dom_error"),role:"alert",type:"accessibility-dom-react-error"})),l((0,f.mC)({errorType:"render_error"}))},fallback:n.createElement("div",null),boundaryKey:"FigjamAccessibilityTreeInnerWithViewport"},n.createElement(ee,{loadAction:e,accessibleAreaRef:o},n.createElement(t,null)))}}function ee({children:e,accessibleAreaRef:t,loadAction:a}){let l=(0,v._X)({subscribeToUpdates_expensive:!0});!function(){let e=(0,n.useRef)(),t=(0,n.useRef)(!1),a=(0,n.useRef)({value:null}),l=W.Y5&&W.Y5.isReady()&&N.VDs.getFocusElementsRegistered(),i=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),o=(0,r.d4)(e=>e.mirror.sceneGraphSelection),s=(0,r.d4)(e=>e.mirror.sceneGraph),{textValue:c,selectionRange:d}=(0,K.R)(e=>{let t=e.mirror.appModel.activeCanvasEditModeType,a=e.mirror.sceneGraph,n=e.mirror.sceneGraphSelection;if(t!==N.m1T.TEXT)return{textValue:null,selectionRange:null};let r=Object.keys(n);if(0===r.length)return{textValue:null,selectionRange:null};let l=a.get(r[r.length-1]);if(null==l)return{textValue:null,selectionRange:null};let i=null!=l.containingCanvas?a.get(l.containingCanvas):null,o=i?.getSelectedTextRange();return{textValue:l?.textContent,selectionRange:o}});a.current.value=c,a.current.selectionStart=d?.start,a.current.selectionEnd=d?.end;let u=(0,n.useCallback)((a,n,r)=>{t.current||null==e.current||null==a||(e.current.value=a),t.current||null==e.current||null==n||null==r||e.current.setSelectionRange(n,r)},[]);(0,n.useEffect)(()=>{u(c,d?.start,d?.end)},[c,d?.end,d?.start,d?.textNodeId,u]);let m=()=>{t.current=!1},_=()=>{t.current=!0},f=(0,n.useCallback)(()=>{u(a.current.value,a.current.selectionStart,a.current.selectionEnd),t.current=!1},[u]);(0,n.useEffect)(()=>{if(l){if(e.current=function(){let e=document.getElementById("fullscreen-root")?.getElementsByClassName("focus-target"),t=null==e?null:Array.from(e).filter(e=>"textarea"===e.tagName.toLowerCase()&&!e.hasAttribute("readonly")).map(e=>e);return t?.length===1?t[0]:null}(),e.current?.hasAttribute(Z)){z.k.error("Input mirror hook registered multiple times");return}return e.current?.setAttribute(Z,"true"),e.current?.addEventListener("compositionend",m),e.current?.addEventListener("compositionstart",_),e.current?.addEventListener("focus",f),e.current?.addEventListener("input",m),()=>{e.current?.removeAttribute(Z),e.current?.removeEventListener("compositionend",m),e.current?.removeEventListener("compositionstart",_),e.current?.removeEventListener("focus",f),e.current?.removeEventListener("input",m)}}},[l,f]);let h=i===N.m1T.TEXT?function(e,t){let a=Object.keys(t),n=a.length>0?e.get(a[0]):null,{guid:r,type:l,shapeWithTextType:i}=n??{guid:void 0,type:void 0,shapeWithTextType:void 0};if(null==r)return"";if("SHAPE_WITH_TEXT"===l)return(0,S.ZG)(i);if("TABLE"===l){let t=e.get(a[a.length-1]);if(null==t)return(0,j.r)(l);{let{tableCellRowIndex:e,tableCellColumnIndex:a}=t;return(0,p.t)("fullscreen.accessibility_dom.node_name_table_cell",{r:e,c:a})}}return n?.isSymbolSublayer||n?.isInstanceSublayer?(0,p.t)("fullscreen.accessibility_dom.node_name_instance"):(0,j.r)(l)}(s,o):"";(0,n.useEffect)(()=>{e.current&&(e.current.ariaLabel=h)},[h])}();let[c]=(0,o.A)(l,500,{trailing:!0}),d=(0,b.J2)((0,E.UK)().accessibilityDomDebug),m=(0,T.Td)();(0,y.gf)();let _=(0,r.wA)();(0,n.useEffect)(()=>{_((0,f.mC)({errorType:null}))},[_]),(0,n.useEffect)(()=>{(0,s.f)(a)},[a]);let h=(0,n.useMemo)(()=>m?(0,u.Yx)([(0,p.t)("fullscreen.accessibility.main_region"),(0,p.t)("fullscreen.filename_view.view-only")],"unit"):(0,p.t)("fullscreen.accessibility.main_region"),[m]),g=(0,n.useMemo)(()=>(0,S.it)(c),[c]),C=i()(Y.kL,{[Y.Qg]:!d});return n.createElement("div",{className:C,ref:e=>{t.current=e},id:V.Gl,"aria-label":h,role:"main",tabIndex:0,"data-fullscreen-intercept-dangerously-include-tab":!0,onFocusCapture:()=>{t.current?.setAttribute("aria-hidden","false")}},n.createElement("div",{style:g},e))}},433195:(e,t,a)=>{a.d(t,{V1:()=>r,WX:()=>n,b6:()=>l});let n="dev_handoff_seen_annotation_introduction_overlay",r="dev_handoff_seen_annotation_tools_overlay",l="dev_handoff_seen_annotation_upsell_overlay"},170399:(e,t,a)=>{a.d(t,{wc:()=>S,QU:()=>N});var n=a(411855),r=a(188507),l=a(598045),i=a(776250),o=a(737947),s=a(799569),c=a(946689),d=a(574176),u=a(939863),m=a(738269),p=a(809831),_=a(678340),f=a(100197),h=a(239671),g=a(447402);let E="memory_warning--memoryUsageContainer--CWdMy";var y=a(450147),v=a(967063),b=a(586599),C=a(890666),w=a(612325);function T(e){let t,a,i,o,s;let m=(0,r.d4)(e=>!e.openFile?.canEdit),p=(0,f.J2)(l.Ez5.uiState().isRecovery),h=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===l.m1T.HISTORY&&e.versionHistory.activeId&&"current_version"!==e.versionHistory.activeId),g=e.warningLevel,E=(g===_.Wy.WARNING?(s=(0,u.tx)("fullscreen.pages_panel.memory_usage_try_removing_unneeded_content"),p?s=(0,u.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):m&&!h?s=(0,u.tx)("fullscreen.pages_panel.memory_usage_warning_edit_access_needed"):m&&h?s=(0,u.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!m&&h&&(s=(0,u.tx)("fullscreen.pages_panel.memory_usage_warning_edit_view_version_history"))):g===_.Wy.ERROR?(s=(0,u.tx)("fullscreen.pages_panel.memory_usage_to_avoid_losing_file_access"),p?s=(0,u.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):m&&!h?s=(0,u.tx)("fullscreen.pages_panel.memory_usage_error_contact_file_owner"):m&&h?s=(0,u.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!m&&h&&(s=(0,u.tx)("fullscreen.pages_panel.memory_usage_error_edit_view_version_history"))):g===_.Wy.SAFE&&e.previousWarningLevelUnsafe&&(s=(0,u.tx)("fullscreen.pages_panel.memory_usage_this_file_has_enough_memory"),p&&(s=(0,u.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low_content"))),s);if(g===_.Wy.WARNING)t="memory_warning--warningMemoryContentContainerWarning--SUOy5 memory_warning--warningMemoryContentContainer--xajq3",a="memory_warning--memoryWarningContentIconWarning--7lQhY",i=p?C.A:v.A,o=p?(0,u.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,u.tx)("fullscreen.pages_panel.memory_usage_memory_running_low");else if(g===_.Wy.ERROR)t="memory_warning--warningMemoryContentContainerError---AmhI memory_warning--warningMemoryContentContainer--xajq3",a="memory_warning--memoryWarningContentIconError--iWcmQ",i=p?C.A:w.A,o=p?(0,u.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,u.tx)("fullscreen.pages_panel.memory_usage_almost_out_of_memory");else{if(g!==_.Wy.SAFE||!e.previousWarningLevelUnsafe)return null;t="memory_warning--warningMemoryContentContainerSafe--KUmYN memory_warning--warningMemoryContentContainer--xajq3",a="memory_warning--memoryWarningContentIconSafe--BHw5o",i=y.A,o=p?(0,u.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low"):(0,u.tx)("fullscreen.pages_panel.memory_usage_youre_good_to_go")}return n.createElement("div",{className:"memory_warning--memoryWarningContentBetaContainer--xcDgj"},n.createElement("div",{className:t},n.createElement("div",{className:"memory_warning--memoryWarningContentIconContainer--CeqsI"},n.createElement(d.B,{className:a,svg:i})),n.createElement("div",{className:"memory_warning--memoryWarningContentBodyHeader--HRmSt"},n.createElement("div",{className:"memory_warning--memoryWarningContentHeader--b9El-"},o),n.createElement("p",null,E,(g===_.Wy.ERROR||g===_.Wy.WARNING)&&n.createElement(c.Us,{className:g===_.Wy.ERROR?"memory_warning--learnMoreLinkError--JsmPQ":"memory_warning--learnMoreLinkWarning--AHB-S",href:"https://help.figma.com/hc/articles/360040528173-Reduce-memory-usage-in-files",target:"_blank",trusted:!1,trackingEventName:"memory_warning_learn_more_clicked"}," ",(0,u.tx)("fullscreen.pages_panel.memory_usage_learn_more"))))))}function S(e){let t=e.showSidePercentage,a=e.warningLevel&&e.warningLevel>=_.Wy.ERROR;return n.createElement(n.Fragment,null,n.createElement("div",{className:"memory_warning--usageBarContainer--F67OB"},n.createElement(d.B,{style:{left:`${_.xk}%`},className:"memory_warning--icon--HcqCK",svg:b.A}),n.createElement("div",{className:t&&a?"memory_warning--usageBarBorderDanger--3tbol memory_warning--usageBarBorder--RmhaH":"memory_warning--usageBarBorder--RmhaH"},n.createElement("div",{className:t&&a?"memory_warning--usageBarFillDanger--Ew9Tl memory_warning--usageBarFill--ximmI":"memory_warning--usageBarFill--ximmI",style:{width:`${e.memoryUsagePercent}%`}}))),t&&n.createElement("div",{className:a?"memory_warning--usageBarTextDanger--d9-gr memory_warning--usageBarText--6Z1O9":"memory_warning--usageBarText--6Z1O9"},`${Math.trunc(e.memoryUsagePercent).toString()}%`))}function N(e){let t=(0,r.wA)(),[a,i]=(0,n.useState)(!1),{warningLevel:o,memoryUsedPercent:s,usingTestMemory:c,previousWarningLevel:d,previousWarningLevelUnsafe:u,warningTracked:m,setWarningTracked:h}=(0,_.Mk)(),E=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),y=(0,r.d4)(e=>!e.openFile?.canEdit),v=(0,r.d4)(e=>e.user?.id),b=(0,r.d4)(e=>e.selectedView),C=(0,p.XE)(b),w=(0,f.J2)(l.Ez5.uiState().isRecovery),[T,S]=(0,n.useState)(l.Ez5.uiState()&&w);(0,n.useEffect)(()=>{if(o!==d&&!m&&(l.glU?.setMemoryWarningLevel(o),!c)){var t,a;h(!0),t={warningEvent:"BANNER_LEVEL_CHANGE",fileKey:e.fileKey},a={warningLevel:_.Wy[o],memoryUsedPercent:s,topLevelMode:E,isReadOnly:y},(0,g.$w)(t,{warningOnPct:_.xk,errorOnPct:_.pl,...a})}},[o,d,s,c,e.fileKey,E,y,m,h]),(0,n.useEffect)(()=>{if(o===_.Wy.SAFE){let e=()=>{"hidden"===document.visibilityState&&i(!1)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}l.Ez5.uiState().showMemoryUsage.set(!0),l.Ez5.uiState().showInFileMemoryPercentage.set(!0),i(!0)},[o,t,v]);let N=(0,f.J2)(l.Ez5.uiState().showMemoryUsage);return N||a||w?n.createElement(x,{fileKey:e.fileKey,warningLevel:o,previousWarningLevelUnsafe:u,memoryUsedPct:s,showMemoryUsage:N,dispatch:t,closeManageMemoryModal:e.closeManageMemoryModal,toggleManageMemoryModal:e.toggleManageMemoryModal,topLevelMode:E,editorType:C,recoveryMemDisplay:T,setRecoveryMemDisplay:S}):null}function x(e){let t=t=>{let a={view:"fullscreen",editorType:t===h.nT.Design?h.nT.Design:h.nT.Whiteboard,fileKey:e.fileKey,isRecoveryMode:!1};(0,i.sx)("exit_recovery_mode",{currentAllocatedBytes:l.hMR?.getTotalUsedHeapMemory(),maxAllocatedBytes:l.hMR?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),e.dispatch(m.$T(a)),o.Ay.reload("Memory warning panel")},{warningLevel:a,previousWarningLevelUnsafe:r,memoryUsedPct:d,showMemoryUsage:p,editorType:g,recoveryMemDisplay:y}=e,v=a===_.Wy.ERROR,b=(0,f.J2)(l.Ez5.uiState().isRecovery);return n.createElement(n.Fragment,null,(p||y)&&n.createElement("div",{className:E,id:E},n.createElement("div",{className:"memory_warning--memoryUsageHeader--WNS5R"},n.createElement("div",{className:"memory_warning--memoryUsageHeaderTitle--65Nsp"},(0,u.tx)("fullscreen.pages_panel.memory_usage")),n.createElement("div",{className:"memory_warning--memoryUsageCloseIcon--6rw0p"},n.createElement(s.Jn,{onClick:()=>{(0,i.sx)("manage_memory_modal_closed",{currentAllocatedBytes:l.hMR?.getTotalUsedHeapMemory(),maxAllocatedBytes:l.hMR?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),l.Ez5.uiState().showMemoryUsage.set(!1),l.Ez5.uiState().showInFileMemoryPercentage.set(!1),e.closeManageMemoryModal(),e.setRecoveryMemDisplay(!1)},disabled:v,className:v?"memory_warning--memoryUsageCloseButtonError--m6jl7":""}))),n.createElement("div",{className:v?"memory_warning--memoryUsageBodyContainerError--6oxZX":"memory_warning--memoryUsageBodyContainer--NE4lJ"},n.createElement(S,{memoryUsagePercent:d,showSidePercentage:!0,warningLevel:a})),n.createElement(T,{warningLevel:a,previousWarningLevelUnsafe:r,topLevelMode:e.topLevelMode}),(()=>{let t=(0,u.t)("manage_memory_modal.manage_memory_button"),a=()=>{e.toggleManageMemoryModal()};return n.createElement("div",{className:"memory_warning--memoryWarningButtonContainer--GkcGB"},n.createElement(c.tM,{onClick:()=>a(),trackingProperties:{buttonContext:t}},t))})(),b&&d<_.im&&n.createElement("div",{className:p?"memory_warning--recoveryModeBannerExitButtonContainer--7A1pw":"memory_warning--recoveryModeExitButtonContainer--Y21eB"},n.createElement(c.vd,{onClick:()=>t(g)},(0,u.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_exit")))))}},590843:(e,t,a)=>{a.d(t,{P:()=>o,X:()=>i});var n=a(411855),r=a(335682),l=a(377747);let i=(0,n.createContext)(null);function o({children:e}){let t=(0,r.q5)(),a=t?.fileRepoId,o=(0,l.Yj)(a??null),s=(0,n.useMemo)(()=>o&&"loaded"===o.status?o.data.activeBranches.length:null,[o]);return n.createElement(i.Provider,{value:s},e)}},100303:(e,t,a)=>{a.d(t,{A5:()=>M,CT:()=>D,EA:()=>O,II:()=>G,L4:()=>P,SK:()=>H,SQ:()=>F,WB:()=>U,ih:()=>R});var n=a(411855),r=a(188507),l=a(598045),i=a(693903),o=a(126049),s=a(344780),c=a(173292),d=a(939683),u=a(374626),m=a(498750),p=a(316082),_=a(96328),f=a(456363),h=a(939863),g=a(772167),E=a(809831),y=a(478556),v=a(283942),b=a(862442),C=a(843495),w=a(493862),T=a(341860),S=a(29680),N=a(479118),x=a(100197),k=a(776726),I=a(179536),A=a(326127),L=a(81804);let O=n.createContext(!1);function R({onChange:e,query:t,focusedByButtons:a,innerRef:r,onKeyDown:l,onKeyUp:i,onPasteCapture:o,onFocus:s,editorType:c}){return n.createElement(A.H,{innerRef:r,value:t,placeholder:(0,h.t)("canvas_search.search_placeholder"),onFocus:e=>{s&&s(e),!a.current&&e.target&&e.target.select(),a.current=!1},onPasteCapture:o,onKeyDown:e=>{e.keyCode===m.Uz.F?(0,m.Te)(e)?(e.currentTarget.select(),e.preventDefault()):(0,v.jr)(e,v.W0.NO,v.VA.NO)&&e.stopPropagation():l(e)},onKeyUp:i,onChange:e,dataTestId:"canvas-search-input",recordingKey:`${c}.canvas_search.search`})}function M(e,t,a){let r=(0,n.useCallback)(({direction:n,shouldSelectInput:r})=>{if(e&&!e.current?.matches(":focus")){let t=new IntersectionObserver(n=>{let[l]=n;r?e.current?.select():(a.current=!0,e.current?.focus()),l.isIntersecting&&t.disconnect()});return e.current&&t.observe(e.current),()=>t.disconnect()}n&&t(n,"keyboard")},[a,e,t]);(0,c.p)(y.r.FocusEvent,r)}function D(){let e=(0,n.useRef)(!1),[t,a]=(0,n.useState)(!0),{query:l}=(0,r.d4)(e=>e.canvasSearch),{total:i}=(0,u.md)(f.Fk);return{focusedByButtons:e,hidden:t,setHidden:a,inputRef:n.useRef(null),navDisabled:!l||i<=1,showUi:(0,S.p8)("showUi")}}function P(){let e=(0,b.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope);return(0,n.useCallback)((a,n)=>{e(l.YEY.setActiveResultAndGetViewportSettings(a,n),{additionalTrackEventParams:{searchScope:l.Lov[t]}})},[e,t])}function F(){let e=(0,b.Z)("canvas_search_navigate"),{query:t,scope:a,filters:c,mode:u}=(0,r.d4)(e=>e.canvasSearch),m=(0,r.wA)(),f=(0,n.useRef)(!1),h=(0,S.p8)("currentPage"),E=(0,x.J2)(l.Ez5.uiState().showCanvasSearch),y=(0,S.p8)("pagesList"),[v,T]=(0,n.useState)(!1),[k,I]=(0,n.useState)(l.Ez5.uiState().isRecovery.getCopy()),[A,L]=(0,n.useState)(!1),O=B(),R=(0,d.am)(),M=(0,p.y)(),D=(0,n.useMemo)(()=>M&&(0,N.lH)(y),[M,y])||M&&l.h3O?.isValidatingIncremental(),P=(0,n.useMemo)(()=>!M&&(0,N.lH)(y),[M,y]);(0,n.useLayoutEffect)(()=>{a!==l.Lov.ALL_PAGES||A||!D&&k?l.YEY.setSearchScope(a):(L(!0),scheduler.postTask(async()=>{D&&await (0,w.qd)(l._em.FIND_AND_REPLACE),l.YEY.setSearchScope(a),I(!0)},{priority:"user-blocking"}))},[k,y,a,A,D]);let F=(0,n.useCallback)(async(t,n=!0)=>{s.sn.start("canvas_search_time_to_results"),L(!0);let{nav:r,resultsByPage:o}=await O(t,n);Object.keys(o).filter(e=>e!==h&&e!==i.rootGUIDStr).length?T(!0):T(!1),L(!1),n&&e(r,{additionalTrackEventParams:{searchScope:l.Lov[a]}});let c=s.sn.tryStop("canvas_search_time_to_results");c&&R("canvas_search_time_to_results",{timeElapsedMs:c,searchScope:l.Lov[a],resultCount:Object.values(o).reduce((e,t)=>e+=t.length,0)})},[h,e,a,O,R]),U=(0,o.A)(F,300),H=(0,n.useCallback)((e,t=!0)=>{m(g.NY(e)),L(!!e&&!(0,_.jN)(e)),U(e,t)},[m,U]);return(0,n.useEffect)(()=>{E&&t&&(a!==l.Lov.ALL_PAGES||!D&&k)&&F(t,!1)},[c,u,a,E,y,k,D]),{query:t,showSearch:E,resultsOnOtherPages:v,search:H,next:(0,n.useCallback)((t,a)=>{(0,C.Uc)(""),l.YEY.setHoveredResult(i.invalidGUIDStr,-1);let n=!f.current;f.current=!1,e(l.YEY.setNextSearchResultAndGetViewportSettings(t,n),{additionalTrackEventParams:{source:a}})},[e]),exit:(0,n.useCallback)(()=>{l.YEY?.exitSearchMode(l.dNx.NONE)},[]),setNavigateNearestOnce:function(){f.current=!0},mode:u,isLoading:A,allInstancesExpanded:k,missingResultsOnSomePages:P}}function B(){let{scope:e,filters:t,mode:a}=(0,r.d4)(e=>e.canvasSearch),o=(0,S.p8)("currentPage"),s=(0,d.am)(),c=(0,E.lg)(),u=(0,r.d4)(e=>e.mirror.appModel.pagesList);return(0,n.useCallback)(async(n,r=!0,d)=>{let m=d??o;if(!n||(0,_.jN)(n)){let{nav:e}=l.YEY.setSearchResultsAndGetViewportSettings([],m,"",{categories:[],mode:a});return{nav:e,resultsByPage:{}}}let p=!!t[I.kM.MatchCase],f=!!t[I.kM.WholeWords],{resultsByPage:h,metrics:g}=await k.H1.search(n,{searchLayerNames:"design"===c,matchCase:p,wholeWords:f}),E=(0,L.kH)(t),y=e===l.Lov.ACTIVE_PAGE?h[m]?[{pageId:m,results:h[m]}]:[]:Object.keys(h).map(e=>({pageId:e,results:h[e]}));if(e===l.Lov.ACTIVE_PAGE&&h[i.rootGUIDStr]){let e=h[i.rootGUIDStr];e.length&&y.push({pageId:i.rootGUIDStr,results:e})}if(1===n.length){let e=0,t=[],a=y.findIndex(e=>e.pageId===i.rootGUIDStr);for(let n of(a>-1&&t.push(y[a]),u)){let a=y.findIndex(e=>e.pageId===n.nodeId);if(-1===a)continue;let r=y[a];if(r.results.length>1e3-e){t.push({results:r.results.slice(0,1e3-e),pageId:r.pageId});break}e+=r.results.length,t.push(r)}y=t}let{nav:v,...b}=l.YEY.setSearchResultsAndGetViewportSettings(y,m,n,{categories:E,mode:a}),C=E.map(e=>I.kM[e]);return s("canvas_search_results",{...g,...b,nodeTypes:C,searchScope:l.Lov[e],matchCase:p,wholeWords:f}),{nav:v,resultsByPage:h}},[o,c,t,a,u,e,s])}function U(){let e=(0,x.J2)(l.Ez5.uiState().showCanvasSearch),t=l.YEY.hasDirtyPrimaryInstances(),a=(0,u.md)(f.Fk),r=(0,n.useRef)([]),i=t&&r.current.length,o=(0,n.useMemo)(()=>{if(!e||!a.total||i)return[];let t=l.YEY.getSearchResults(),n=[];return t.forEach(e=>{let t=e.results.map(e=>{let t=T.q.instance.get(e.guid);return t?{...e,textContent:t.textContent,name:t.name}:e});n.push({results:t,pageId:e.pageId})}),r.current=n,n},[a,e,i]);return i?r.current:o}function H(e){return!e.clientX&&!e.clientY}function G(){let{query:e,scope:t}=(0,r.d4)(e=>e.canvasSearch),a=B();return(0,n.useCallback)(n=>{let r=l.YEY.getActiveResult(),i=r.type===l.Z6A.CANVAS,o=n||i&&r.guid;return!!o&&(T.q.instance.setCurrentPageAsync(o).then(()=>{t===l.Lov.ACTIVE_PAGE?a(e,!1,o):l.YEY.setActiveResultAndGetViewportSettings(o,0)}),!0)},[e,t,a])}},332721:(e,t,a)=>{a.d(t,{_:()=>p});var n=a(411855),r=a(767129),l=a(782683),i=a(243742),o=a(574176),s=a(939863),c=a(498606),d=a(227795),u=a(976726),m=a(130715);function p({onClick:e}){return"ui3"===(0,i.DP)().version?n.createElement(r.K,{onClick:e,recordingKey:"canvas_search.search_icon_button","aria-label":(0,s.t)("fullscreen_actions.find"),htmlAttributes:{"data-onboarding-key":"canvas-search","data-tooltip":"canvas-search","data-tooltip-type":c.Ib.LOOKUP}},n.createElement(l.h,null)):n.createElement(d.K0,{"data-onboarding-key":"canvas-search","data-tooltip-type":c.Ib.LOOKUP,"data-tooltip":"canvas-search",onClick:e,recordingKey:"canvas_search.search_icon_button",isBackgroundTransparent:!0,className:u.gV},n.createElement(o.B,{svg:m.A,className:u.v9}))}},326127:(e,t,a)=>{a.d(t,{H:()=>u});var n=a(411855),r=a(629019),l=a.n(r),i=a(498750),o=a(860601),s=a(563706),c=a(91271),d=a(976726);function u({innerRef:e,value:t,placeholder:a,onChange:r,onFocus:u,onKeyDown:m,onKeyUp:p,shiftEnterInsertsNewline:_,dataTestId:f,recordingKey:h,onPasteCapture:g}){let E=(0,n.useCallback)(t=>{e&&(e.current=t?.textarea??null)},[e]),y=t.includes("\n");return n.createElement(c.v,{className:l()(d.Rt,{[d.tI]:!y}),ref:E,focusOnMount:!0,placeholder:a,value:t,spellCheck:!1,recordingKey:h,dataTestId:f,onEscape:o.lQ,disableBorderStyles:!0,onFocus:u,onPasteCapture:g,onKeyDown:e=>{switch(e.keyCode){case i.Uz.ENTER:if(e.preventDefault(),_&&(e.shiftKey||s.Ay.mac&&e.ctrlKey)){let{selectionStart:t,selectionEnd:a}=e.currentTarget;e.currentTarget.setRangeText("\n",t,a,"end"),e.currentTarget.scrollLeft=0,e.stopPropagation(),r(e.currentTarget.value);return}break;case i.Uz.UP_ARROW:case i.Uz.DOWN_ARROW:if(y)return}m(e)},onKeyUp:p,onChange:e=>r(e.currentTarget.value)})}},796825:(e,t,a)=>{a.d(t,{a:()=>T});var n=a(411855),r=a(188507),l=a(598045),i=a(344780),o=a(939683),s=a(374626),c=a(498750),d=a(153234),u=a(456363),m=a(574176),p=a(939863),_=a(392592),f=a(553015),h=a(809831),g=a(662531),E=a(283942),y=a(862442),v=a(193212),b=a(326127),C=a(976726),w=a(969893);function T({query:e,value:t,onChange:a,onFocus:T,recordingKey:S,hasMultipleSelections:N}){let x=(0,r.wA)(),k=(0,v.aq)(),I=(0,y.Z)("canvas_search_navigate"),A=(0,r.d4)(e=>e.canvasSearch.scope),{total:L}=(0,s.md)(u.Fk),O="whiteboard"===(0,h.lg)(),[R,M]=(0,n.useState)(!1),D=e.toLocaleLowerCase()!==t.toLocaleLowerCase(),P=(0,o.am)(),F=!e||!L,B=g.nc.user("canvas-search-replace",a=>{if(N){let{numReplaced:n,timeMs:r}=l.YEY.replaceInMultipleResults(t,{preserveCase:D},l.rpt.ONLY_ACTIVE);P("canvas_search_multi_replace",{source:a,timeMs:r,numReplaced:n,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),M(!0);return}let n=l.YEY.replaceInActiveResult(t,{preserveCase:D});M(!0),P("canvas_search_replace",{source:a,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),I(n,{delay:300,additionalTrackEventParams:{searchScope:l.Lov[A]}})});return n.createElement("div",null,n.createElement("div",{className:C.N6},!O&&n.createElement("div",{className:C.v9},n.createElement(m.B,{svg:w.A})),n.createElement(b.H,{value:t,placeholder:(0,p.t)("canvas_search.replace_placeholder"),recordingKey:d.Pt(S,"replace_input"),onChange:a,onFocus:e=>{T?.(e,!k())},onKeyDown:e=>{e.keyCode===c.Uz.ENTER?(B("enter"),e.stopPropagation()):R&&(0,c.Fo)(e)&&(0,E.jr)(e,E.W0.YES)&&e.stopPropagation()},shiftEnterInsertsNewline:!0})),n.createElement("div",{className:C._E},n.createElement(f.$,{disabled:F,onClick:()=>B("button"),recordingKey:d.Pt(S,"replace_one")},(0,p.tx)("canvas_search.replace_one")),n.createElement(f.$,{disabled:F,onClick:g.nc.user("canvas-search-replace-all",()=>{i.sn.start("canvas_search_replace_all");let{numReplaced:a,timeMs:n}=l.YEY.replaceInMultipleResults(t,{preserveCase:D},l.rpt.ALL);a>0&&(M(!0),x(_.F.enqueue({type:"canvas-search-replace-all",message:(0,p.t)(O?"canvas_search.replace_all_message_figjam":A===l.Lov.ACTIVE_PAGE?"canvas_search.replace_all_message":"canvas_search.replace_all_message_all_pages",{count:a})}))),P("canvas_search_replace_all",{source:"button",timeMs:n,numReplaced:a,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),i.sn.tryStop("canvas_search_replace_all")}),recordingKey:d.Pt(S,"replace_all")},(0,p.tx)("canvas_search.replace_all"))))}},687351:(e,t,a)=>{a.d(t,{g:()=>P,F:()=>U});var n=a(411855),r=a(188507),l=a(598045),i=a(459401),o=a(629019),s=a.n(o),c=a(374626),d=a(563706),u=a(153234),m=a(456363),p=a(268537),_=a(574176),f=a(939863),h=a(772167),g=a(798099),E=a(809831),y=a(318812),v=a(29680),b=a(179536),C=a(498606),w=a(720488),T=a(227795),S=a(81804),N=a(77499),x=a(968109),k=a(170379),I=a(313888),A=a(638496),L=a(142284),O=a(999918),R=a(931493),M=a(970823),D=a(785496);function P({lean:e,minWidth:t,recordingKey:a}){let i=(0,r.wA)(),o=(0,y.BK)("CANVAS_SEARCH_FILTER_DROPDOWN"),s=n.useRef(null),_=(0,v.p8)("isReadOnly"),S=(0,c.md)(m.yo),N=(0,r.d4)(e=>e.canvasSearch.filters),x=(0,r.d4)(e=>e.canvasSearch.mode),I="whiteboard"===(0,E.lg)(),A=n.useMemo(()=>{let e=_?[]:[n.createElement(p.y0,{key:"find",primaryText:(0,f.t)("canvas_search.search"),checked:x===l.EW4.FIND,onClick:()=>{i(h.sV(l.EW4.FIND)),o.hide()},recordingKey:u.Pt(a,"settings.find")}),n.createElement(p.y0,{key:"replace",primaryText:(0,f.t)("canvas_search.replace"),checked:x===l.EW4.REPLACE,onClick:()=>{i(h.sV(l.EW4.REPLACE)),o.hide()},recordingKey:u.Pt(a,"settings","replace")}),n.createElement(p.wv,{key:"sep1"})],t=(t,r=!1)=>{let l=!!N[t];e.push(n.createElement(F,{key:t,option:t,checked:l,counts:S,onClick:e=>{r||e.ctrlKey||d.Ay.mac&&e.metaKey?(i(h.DI(t)),r&&o.hide()):(i(h.zx(t)),o.hide())},recordingKey:a}))};if(x===l.EW4.FIND&&!I){let r=!b.b4.some(e=>!!N[e]),l=Object.values(S).reduce((e,t)=>e+t,0);e.push(n.createElement(B,{checked:r,icon:k.A,label:(0,f.t)("canvas_search.filter.all"),count:l,onClick:()=>{i(h.dY()),o.hide()},recordingKey:u.Pt(a,"settings","All")})),b.b4.forEach(e=>t(e)),e.push(n.createElement(p.wv,{key:"sep2"}))}return b._V.forEach(e=>t(e,!0)),e},[i,o,N,I,_,x,S,a]);return(0,n.useEffect)(()=>{_&&x===l.EW4.REPLACE&&i(h.sV(l.EW4.FIND))},[i,_,x]),n.createElement("div",{role:"none",onClick:g.dG,onMouseUp:g.dG},n.createElement("div",{ref:s},n.createElement(T.YW,{svg:O.A,selected:o.showing,"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,f.t)("canvas_search.settings"),onClick:e=>o.showing&&e.stopPropagation(),onMouseDown:o.toggle,recordingKey:u.Pt(a,"settings")})),o.showing&&s.current&&n.createElement(w.Jz,{showPoint:!0,targetRect:s.current.getBoundingClientRect(),options:A,hideDropdown:o.hide,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!1,lean:e,minWidth:t,recordingKey:u.Pt(a,"settings"),propagateCloseClick:!0}))}function F(e){let t=e.counts[e.option],a=function(e){switch(e){case b.kM.Text:return L.A;case b.kM.FrameOrGroup:return N.A;case b.kM.Component:return I.A;case b.kM.Instance:return x.A;case b.kM.Image:return M.A;case b.kM.Shape:return A.A;case b.kM.Other:return R.A;case b.kM.MatchCase:case b.kM.WholeWords:return null}}(e.option),r=G(e.option);return n.createElement(B,{checked:e.checked,icon:a,label:r,count:t,onClick:e.onClick,buttonRef:e.buttonRef,recordingKey:u.Pt(e,"settings",b.kM[e.option])})}function B({checked:e,icon:t,label:a,count:r,onClick:l,buttonRef:i,recordingKey:o}){return n.createElement(p.MM,{checked:e,onClick:l,recordingKey:o,buttonRef:i},n.createElement("div",{className:"canvas_search_settings--optionRow--KS01b"},t&&n.createElement(_.B,{className:"canvas_search_settings--optionIcon---0QYX",svg:t}),n.createElement("span",{className:"canvas_search_settings--optionLabel--Ygpmi"},a),!!r&&n.createElement("span",{className:"canvas_search_settings--optionCount--BzzTP"},r)))}function U({short:e,mode:t,recordingKey:a}){let o=(0,r.wA)(),c=(0,r.d4)(e=>e.canvasSearch.filters),d=t===l.EW4.FIND?S.D4:S.IM,u=(0,i.mapAndFilterNullish)(d,e=>c[e]?n.createElement(H,{key:e,option:e,onClose:()=>{o(h.DI(e))},recordingKey:a}):null);return 0===u.length?null:n.createElement("div",{className:s()("canvas_search_settings--filterPills--tbdih",{"canvas_search_settings--filterPillsShort--GX-Rn":e})},u)}function H({option:e,onClose:t,recordingKey:a}){return n.createElement("div",{className:"canvas_search_settings--filterPill--hjIaF"},G(e),n.createElement(T.K0,{className:"canvas_search_settings--pillRemove--Om1tg",svg:D.A,onClick:t,isBackgroundTransparent:!0,"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,f.t)("canvas_search.filter.remove"),tooltipForScreenReadersOnly:!0,recordingKey:u.Pt(a,b.kM[e],"remove")}))}function G(e){switch(e){case b.kM.Text:return(0,f.t)("canvas_search.filter.text");case b.kM.FrameOrGroup:return(0,f.t)("canvas_search.filter.frame_or_group");case b.kM.Component:return(0,f.t)("canvas_search.filter.component");case b.kM.Instance:return(0,f.t)("canvas_search.filter.instance");case b.kM.Image:return(0,f.t)("canvas_search.filter.image");case b.kM.Shape:return(0,f.t)("canvas_search.filter.shape");case b.kM.Other:return(0,f.t)("canvas_search.filter.other");case b.kM.MatchCase:return(0,f.t)("canvas_search.filter.match_case");case b.kM.WholeWords:return(0,f.t)("canvas_search.filter.whole_words")}}},137345:(e,t,a)=>{a.d(t,{Y:()=>eE,f:()=>ey});var n=a(411855),r=a(188507),l=a(729064),i=a(598045),o=a(693903),s=a(782683),c=a(243742),d=a(629019),u=a.n(d),m=a(939683),p=a(622422),_=a(966712),f=a(38580),h=a(374626),g=a(646240),E=a(498750),y=a(860601),v=a(316082),b=a(563706),C=a(153234),w=a(522739),T=a(735536),S=a(96328),N=a(456363),x=a(268537),k=a(80161),I=a(659838),A=a(493323),L=a(827586),O=a(574176),R=a(46481),M=a(271779),D=a(939863),P=a(392592),F=a(772167),B=a(356390),U=a(478556),H=a(541524),G=a(283942),V=a(862442),z=a(843495),K=a(318812),W=a(29680),j=a(479118),Z=a(967409),Y=a(498606),X=a(798558),q=a(720488),J=a(227795),Q=a(144119),$=a(100303),ee=a(332721),et=a(796825),ea=a(687351),en=a(81804),er=a(976726),el=a(949207),ei=a(432023),eo=a(247245),es=a(370903),ec=a(995382),ed=a(761070),eu=a(593701),em=a(289298),ep=a(130715),e_=a(630834),ef=(e=>(e[e.NONE=0]="NONE",e[e.SINGLE=1]="SINGLE",e[e.MULTI=2]="MULTI",e))(ef||{}),eh=(e=>(e[e.NONE=0]="NONE",e[e.TOP=1]="TOP",e[e.MIDDLE=2]="MIDDLE",e[e.BOTTOM=3]="BOTTOM",e[e.ALL=4]="ALL",e))(eh||{});let eg=(0,f.eU)(!1),eE=n.memo(function(e){let{onFocus:t}=e;return n.createElement("div",{className:er.i$},n.createElement("div",{className:er.PP},n.createElement("div",{className:er.JA},n.createElement(ee._,{onClick:e.onFocus}),n.createElement(I.L,{className:er.Rt,onFocus:t,placeholder:(0,D.t)("canvas_search.search_placeholder")}))))}),ey=n.memo(function({showFilter:e}){let{query:t,resultsOnOtherPages:a,next:r,exit:l,setNavigateNearestOnce:d,search:m,showSearch:p,mode:_,isLoading:f,allInstancesExpanded:g,missingResultsOnSomePages:y}=(0,$.SQ)(),[v,b]=(0,n.useState)(""),{focusedByButtons:C,inputRef:w}=(0,$.CT)(),T=(0,n.useRef)(null),x=(0,V.Z)("canvas_search_navigate"),k=(0,h.md)(N.Wy),I=(0,h.md)(N.ml),L=(0,n.useContext)($.EA),O=(0,h.md)(eg),[P,F]=(0,n.useState)(null),[U,G]=(0,n.useState)(0),[z,K]=(0,n.useState)(!1);(0,n.useLayoutEffect)(()=>{if(L){if(I.size>1||k.size>1){K(!0);return}for(let e of k.values())e.size>1&&K(!0)}},[k,L,I]);let W=(e,t)=>{K(!1),r(e,t)},j=function(e,t,a){if(!a)return!1;if(t.size>1||e.size>1)return!0;for(let t of e.values())return t.size>1;return!1}(k,I,L),X=function(e,t,a,r,l){let s=ek(e,a,e=>{let a=(e.keyCode===E.Uz.D||e.keyCode===E.Uz.F)&&(0,E.Fo)(e)&&e.shiftKey;eA(e)&&!a&&t.current?.focus()},l);return(0,n.useCallback)(e=>{let n=eL(e);switch(e.keyCode){case E.Uz.RIGHT_ARROW:case E.Uz.LEFT_ARROW:(0,E.Te)(e)||s(e);break;case E.Uz.C:case E.Uz.X:(0,E.Te)(e)&&window.getSelection&&!window.getSelection().toString()&&(B.Y5.triggerAction(e.keyCode===E.Uz.C?"copy":"cut"),e.preventDefault(),e.stopPropagation(),e.keyCode===E.Uz.X&&t.current?.focus());break;case E.Uz.V:case E.Uz.Z:break;default:s(e)}a||n===o.invalidGUIDStr||r(i.YEY.setActiveResultAndGetViewportSettings(n,0),{delay:300})},[a,s,t,r])}(W,T,j,x,G),q=eI(G);(0,$.A5)(w,r,C);let Q="ui3"===(0,c.DP)().version;if(!p)return null;let ee=n.createElement(n.Fragment,null,n.createElement("div",{className:u()(er.v9,{[er.ei]:Q&&""===t})},n.createElement(R.U,{svg:ep.A},n.createElement(s.h,null))),n.createElement($.ih,{onChange:e=>{K(!1),m(e)},query:t,focusedByButtons:C,onKeyDown:X,onKeyUp:q,innerRef:w,onPasteCapture:e=>{(0,H.gk)(e)&&(B.Y5.triggerActionInUserEditScope("paste"),e.preventDefault(),T.current?.focus())},editorType:Z._Y.DESIGN}));return n.createElement(M.i,null,n.createElement("div",{className:er.G$,onBlurCapture:e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&(i.YEY.setOverlayVisible(!1),d(),G(0))}},n.createElement("div",{className:er.PP},n.createElement("div",{className:er.Wv},Q?n.createElement("div",{className:er.Z9},ee):ee,e&&n.createElement(ea.g,{lean:"right",recordingKey:"figma_design_search"}),n.createElement(J.K0,{svg:e_.default,onClick:l,"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,D.t)("canvas_search.close"),tooltipForScreenReadersOnly:!0,recordingKey:"figma_design_search.close"})),n.createElement(ea.F,{mode:_,short:_===i.EW4.REPLACE,recordingKey:"figma_design_search.filterPills"}),_===i.EW4.REPLACE&&n.createElement(et.a,{query:t,value:v,onChange:b,onFocus:(e,a)=>{!t&&a&&w.current?.focus()},hasMultipleSelections:j,recordingKey:"figma_design_search"})),f||O?n.createElement("div",{className:u()(er.S,er.dz)},n.createElement(A.dW,{size:"medium",testId:"canvas-search-loading-spinner"})):t&&!(0,S.jN)(t)&&n.createElement(ev,{onNext:W,navigate:x,replacement:_===i.EW4.REPLACE?v:void 0,resultsOnOtherPages:a,allInstancesExpanded:g,resultInputHandlerRef:T,hoveredResult:P,hasMultipleSelections:j,isInMultiselectMode:z,hoverSelectMode:U,missingResultsOnSomePages:y,setIsInMultiselectMode:K,setHoverSelectMode:G,setHoveredResult:F})))});function ev({onNext:e,navigate:t,replacement:a,resultsOnOtherPages:s,resultInputHandlerRef:c,hoveredResult:d,hasMultipleSelections:_,isInMultiselectMode:f,missingResultsOnSomePages:g,hoverSelectMode:v,setIsInMultiselectMode:b,setHoverSelectMode:C,setHoveredResult:T,allInstancesExpanded:S}){let x=(0,r.wA)(),k=(0,$.WB)(),I=(0,$.II)(),O=(0,W.p8)("currentPage"),R=(0,n.useRef)(null),M=(0,r.d4)(e=>e.canvasSearch.scope),P=i.YEY.hasDirtyPrimaryInstances(),U=(0,h.md)(N.Fk),H=(0,h.md)(N.Ch),G=(0,h.md)(N.Wy),z=(0,h.md)(N.ml),K=(0,h.md)(N.hw),j=(0,n.useContext)($.EA),Z=!f,X=null==a,q=(0,$.L4)(),Q=function(e,t){let a=(0,V.Z)("canvas_search_navigate"),l=(0,r.d4)(e=>e.canvasSearch.scope),o=(0,m.am)(),s=(0,n.useContext)($.EA),c=(0,n.useCallback)((n,r,s)=>{let{nav:c,numNewNodes:d,numNewTextMatches:u}=i.YEY.addActiveResultAndGetViewportSettings(n,r,s);e&&o("canvas_search_enter_multi_select",{numberOfNodes:d,numberOfTextMatches:u,source:"cmd/ctrl+click",mode:t?"find":"replace"}),a(c,{additionalTrackEventParams:{searchScope:i.Lov[l]}})},[t,a,l,o,e]);return s?c:y.lQ}(Z,X),ee=function(e,t){let a=(0,V.Z)("canvas_search_navigate"),l=(0,r.d4)(e=>e.canvasSearch.scope),o=(0,m.am)(),s=(0,n.useContext)($.EA),c=(0,n.useCallback)(n=>{let{nav:r,numNewNodes:s,numNewTextMatches:c}=i.YEY.addActiveResultsAndGetViewportSettings(n);e&&o("canvas_search_enter_multi_select",{numberOfNodes:s,numberOfTextMatches:c,source:"shift+click",mode:t?"find":"replace"}),a(r,{additionalTrackEventParams:{searchScope:i.Lov[l]}})},[t,a,l,o,e]);return s?c:y.lQ}(Z,X),et=function(){let e=(0,V.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),a=(0,n.useContext)($.EA),l=(0,n.useCallback)((a,n,r)=>{e(i.YEY.removeActiveResultAndGetViewportSettings(a,n,r),{additionalTrackEventParams:{searchScope:i.Lov[t]}})},[e,t]);return a?l:y.lQ}(),[ea,el]=function(...e){let[t,a]=(0,n.useState)(()=>e.reduce((e,t)=>(e[t]=!0,e),{}));return[t,(0,n.useCallback)((e,t=!0)=>{a(a=>a[e]!==t?{...a,[e]:t}:a)},[])]}(o.rootGUIDStr,O),ei=(0,n.useRef)({}),eo=(0,n.useMemo)(()=>{let e=[],t=k.find(e=>e.pageId===o.rootGUIDStr),a=M===i.Lov.ALL_PAGES||!!t,n=k.find(e=>e.pageId===O),r=k;M===i.Lov.ACTIVE_PAGE&&(r=[],t&&r.push(t),n&&r.push(n));let l=0;for(let{pageId:t,results:n}of(ei.current={},r)){if(0===n.length)continue;let r=!!ea[t];if(a&&(e.push({type:"header",data:{pageId:t,open:r,numResults:n.reduce((e,t)=>e+=t.textMatches.length,0)}}),++l),a&&!r)continue;ei.current[t]=l;let i=0;for(let a of n){let{textMatches:n,...r}=a;n.forEach((a,n)=>{e.push({type:"result",data:{...r,matchIndex:n,textMatch:a,index:i,pageId:t}}),++i,++l})}}return e},[O,ea,M,k]);(0,n.useEffect)(()=>{null!=H&&el(H.pageId)},[H,el]);let ed=(0,l.z)({size:eo.length,parentRef:R,overscan:10}),eu=e=>{if(null==H||null==H.index)return[];let t=ei.current[H.pageId];if(null==t)return[];let a=t+H.index;if(a===e)return[];let n=[],r=Math.min(a,e),l=Math.max(a,e);if("header"===eo[e].type)return n;for(let e=r;e<=l;e++)"result"===eo[e].type&&n.push(eo[e].data);return n},em=(0,n.useCallback)(e=>!!j&&"header"!==e.type&&(!!f||0!==v)&&(e.data.textMatch.matchType===i.Ifi.TEXT_MATCH&&z.has(e.data.resultGuid)&&!G.has(e.data.resultGuid)||K.has(e.data.resultGuid)),[G,j,z,v,K,f]),ep=(0,n.useCallback)(e=>"header"!==e.type&&(j?e.data.textMatch.matchType===i.Ifi.PAGE_MATCH?e.data.index===H?.index&&e.data.pageId===H?.pageId:e.data.textMatch.matchType===i.Ifi.LAYER_MATCH?z.has(e.data.resultGuid)&&!G.get(e.data.resultGuid):G.get(e.data.resultGuid)?.has(e.data.matchIndex)??!1:e.data.index===H?.index&&e.data.pageId===H?.pageId),[H?.index,H?.pageId,G,j,z]),e_=(0,n.useCallback)((e,t,a)=>{let n=e+a,r=t+a,l=e=>"result"===e.type&&(ep(e)||em(e));for(;n>0&&n<=eo.length&&l(eo[n-1]);)n-=1;for(;r<eo.length&&l(eo[r]);)r+=1;return[n-a,r-a]},[em,ep,eo]),ef=(0,n.useCallback)((e,t)=>{if(e+t>=eo.length)return!1;let a=eo[e+t];return!ep(a)&&!em(a)},[em,ep,eo]),eh=(0,n.useCallback)((e,t,a)=>{let n=!1;for(let r=e;r<=t&&!(r+a>=eo.length);r+=1){let e=eo[r+a];if(!ep(e)&&!em(e)){n=!0;break}}return n},[em,ep,eo]),[eg,eE]=(0,n.useMemo)(()=>{let e=d?.nodeGuid??o.invalidGUIDStr,t=H?.pageId!=null?ei.current[H.pageId]:null;if(j&&0!==v&&d&&e!==o.invalidGUIDStr&&d.pageId===H?.pageId&&null!=t){let a=d.index,n=d.matchIndex;if((1===v||H?.index==null)&&ef(a,t))return[a,i.YEY.getSingleHoveredSelectionEndIndex(e,n)];if(2===v&&H?.index!=null&&H.index!==d.index){let r=a>H.index?H.index:a;return eh(r,a>H.index?a:H.index,t)?e_(r,i.YEY.getMultiHoveredSelectionEndIndex(e,n),t):[null,null]}}return[null,null]},[H?.index,H?.pageId,j,e_,v,d,eh,ef]),ey=(0,n.useCallback)(e=>!j||null==eg||null==eE||e<eg||e>=eE?0:e===eg&&e===eE-1?4:e===eg?1:e===eE-1?3:2,[j,eg,eE]),ev=(0,p.$)(H);(0,n.useEffect)(()=>{if(f||0!==v||null==H||null==H.index||0===eo.length||!ev)return;let e=ei.current[H.pageId];if(null==e)return;let t=e+H.index,a=t>=ed.virtualItems[0].index&&t<=ed.virtualItems[ed.virtualItems.length-1].index,n=!1;if(a){let e=ed.virtualItems.find(e=>e.index===t);if(e){let{start:t,size:a}=e;n=function(e,t){if(!t)return!0;let a=t.scrollTop,n=a+t.clientHeight;return e.top>=a&&e.bottom<=n}({top:t,bottom:t+a},R.current)}}n||P||ed.scrollToIndex(t,{align:"center"})},[H,ev,c,f,eo,P,ed,v]);let eb=(e,t,a,n)=>{let r=()=>{n?et(t.resultGuid,t.matchIndex,t.textMatch.matchType):Q(t.resultGuid,t.matchIndex,t.textMatch.matchType)};t.pageId===o.rootGUIDStr?(I(t.guid),el(t.guid),b(!1)):j&&t.pageId===H?.pageId?e.shiftKey&&H?.index==null?(n||r(),b(!0)):e.shiftKey?((()=>{let e=eu(a),t=[];e.forEach(e=>{let a=t.length?t[t.length-1]:void 0;a?.nodeId===e.resultGuid&&a?.searchResultType===i.Ifi.TEXT_MATCH?a.matchIndices.push(e.matchIndex):t.push({nodeId:e.resultGuid,matchIndices:[e.matchIndex],searchResultType:e.textMatch.matchType})}),ee(t)})(),b(!0)):(0,E.Fo)(e)&&t.textMatch.matchType!==i.Ifi.PAGE_MATCH?(r(),b(!0)):(q(t.resultGuid,t.matchIndex),b(!1)):(q(t.resultGuid,t.matchIndex),b(!1))},eS=function(e,t,a,l,s,c,d){let u=function(e,t){let a=(0,V.Z)("canvas_search_navigate"),l=(0,r.d4)(e=>e.canvasSearch.scope),o=(0,m.am)(),s=(0,n.useContext)($.EA),c=(0,n.useCallback)(()=>{let{nav:n,numNewNodes:r,numNewTextMatches:s}=i.YEY.setAllResultsAsActiveAndGetViewportSettings();e&&o("canvas_search_enter_multi_select",{numberOfNodes:r,numberOfTextMatches:s,source:"cmd/ctrl+A",mode:t?"find":"replace"}),a(n,{additionalTrackEventParams:{searchScope:i.Lov[l]}})},[t,a,l,o,e]);return s?c:y.lQ}(a,l),p=(0,n.useContext)($.EA),_=ek(e,s,eA,c);return(0,n.useCallback)(e=>{let a=eL(e);switch(e.keyCode){case E.Uz.UP_ARROW:case E.Uz.DOWN_ARROW:case E.Uz.RIGHT_ARROW:case E.Uz.LEFT_ARROW:s?(function(){let e=document.getElementById("fullscreen-root")?.getElementsByClassName("focus-target");if(null!=e&&0!==e.length){for(let t of e)if(t.hasAttribute("readonly")&&"application"===t.getAttribute("role")){t?.focus();break}}}(),eA(e,!0)):_(e);break;case E.Uz.A:if(p&&(0,E.Te)(e)){u(),d(!0),e.stopPropagation(),e.preventDefault();break}eA(e);break;case E.Uz.C:(0,E.Te)(e)?(B.Y5.triggerActionInUserEditScope("copy"),e.stopPropagation()):eA(e);break;case E.Uz.V:(0,E.Te)(e)?(B.Y5.triggerActionInUserEditScope("paste"),e.stopPropagation()):eA(e);break;case E.Uz.X:(0,E.Te)(e)?(B.Y5.triggerActionInUserEditScope("cut"),e.stopPropagation()):eA(e);break;case E.Uz.DELETE:case E.Uz.BACKSPACE:eA(e,!0);break;default:_(e)}s||a===o.invalidGUIDStr||t(i.YEY.setActiveResultAndGetViewportSettings(a,0),{delay:300})},[s,p,_,u,d,t])}(e,t,Z,X,_,C,b),eN=eI(C);return n.createElement("div",{className:er.sb},n.createElement("div",{className:er.Jo},n.createElement(eC,{totalOnActivePage:U.total,resultsOnOtherPages:s,allInstancesExpanded:S}),0!==eo.length&&n.createElement(n.Fragment,null,n.createElement(J.K0,{svg:ec.A,onClick:t=>{e(en.OP.PREV,"button")},"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,D.t)("canvas_search.previous"),"data-tooltip-shortcut-key":"canvas-search-prev",recordingKey:"figma_design_search.previous",disabled:U.total<=1}),n.createElement(J.K0,{svg:es.A,onClick:t=>{e(en.OP.NEXT,"button")},"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,D.t)("canvas_search.next"),"data-tooltip-shortcut-key":"canvas-search-next",recordingKey:"figma_design_search.next",disabled:U.total<=1}))),n.createElement(L.P,{className:er.bB,scrollContainerRef:R},n.createElement(w.D8,{style:{height:ed.totalSize,position:"relative"},tabIndex:0,role:"listbox",recordingKey:"figma_design_search.results_list",onKeyDown:eS,onKeyUp:eN,forwardedRef:c},ed.virtualItems.map(e=>{let t=eo[e.index];if(!t)return null;let r=ep(t),l="result"===t.type&&t.data.pageId===H?.pageId?ey(t.data.index):0;return n.createElement("div",{key:"header"===t.type?t.data.pageId:`${t.data.pageId}#${t.data.index}`,ref:e.measureRef,className:u()({[er.T]:1===l,[er.fz]:2===l,[er.Nf]:3===l,[er.HR]:(1===v||H?.index==null)&&d?.isPurple}),style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${e.start}px)`}},"header"===t.type?n.createElement(ew,{...t.data,setOpen:e=>el(t.data.pageId,e)}):n.createElement(eT,{activePageId:H?.pageId,onSelect:a=>eb(a,t.data,e.index,r),onDoubleClick:()=>{i.YEY.exitSearchMode(i.dNx.SELECT_ACTIVE)},resultInputHandlerRef:c,result:t.data,replacement:a,selected:r,indirectlySelected:em(t),singletonHoverSelected:4===l,isInMultiselectMode:f,isInHoveredSelectMode:0!==v&&!!d,hasMultipleSelections:_,setHoveredResult:T}))})),P&&n.createElement("div",{className:er.S},n.createElement(A.dW,{size:"medium"})),s&&M===i.Lov.ACTIVE_PAGE&&n.createElement(w.GG,{recordingKey:"figma_design_search.other_pages_button",className:u()(er.fp,er.AX),onClick:()=>{x(F.V2(i.Lov.ALL_PAGES))}},(0,D.tx)("canvas_search.results_other_pages")),g&&M===i.Lov.ALL_PAGES&&n.createElement("div",{className:er.du},(0,D.tx)("canvas_search.results_unavailable_offline"))))}let eb={[i.Lov.ACTIVE_PAGE]:()=>(0,D.tx)("canvas_search.this_page"),[i.Lov.ALL_PAGES]:()=>(0,D.tx)("canvas_search.all_pages")};function eC({totalOnActivePage:e,resultsOnOtherPages:t,allInstancesExpanded:a}){let l=(0,r.wA)(),o=(0,Q.sO)(),s=(0,K.BK)("CANVAS_SEARCH_PAGE_SCOPE_DROPDOWN"),c=(0,n.useRef)(null),d=(0,r.d4)(e=>e.canvasSearch.scope),u=(0,r.d4)(e=>e.mirror.appModel.pagesList),m=(0,g.Xr)(eg),p="";p=0===e?(0,j.lH)(u)||!a?o?(0,D.t)("canvas_search.no_results_in_this_deck"):(0,D.t)("canvas_search.no_results_on_page"):t?(0,D.t)("canvas_search.no_results"):(0,D.t)("canvas_search.no_results_in_file"):(0,D.t)("canvas_search.results_count",{total:e});let f=(!o||(0,_.kc)().interop_pages)&&(e>0||t||(0,j.lH)(u)||!a);return n.createElement("div",{className:er._M},n.createElement("span",{"data-testid":"canvas-search-info",className:er.qp},p),f&&n.createElement(n.Fragment,null,n.createElement("span",{className:er.hY},"\xb7"),n.createElement("div",{role:"none",onClick:e=>e.stopPropagation()},n.createElement(w.GG,{forwardedRef:c,recordingKey:"figma_design_search_page_scope_dropdown",className:er.Vz,"data-testid":"figma-design-search-scope-dropdown",onClick:e=>s.showing&&e.stopPropagation(),onMouseDown:()=>s.toggle(),onKeyDown:e=>{(e.keyCode===E.Uz.ENTER||e.keyCode===E.Uz.SPACE)&&(e.preventDefault(),s.toggle())}},n.createElement(n.Fragment,null,eb[d](),n.createElement(O.B,{svg:em.A}))),c.current&&s.showing&&n.createElement(q.Jz,{showPoint:!1,maxWidth:160,minWidth:160,className:er.NB,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,lean:"right",leanPadding:0,targetRect:c.current.getBoundingClientRect(),hideDropdown:s.hide,recordingKey:"figma_design_search_page_scope",propagateCloseClick:!0,options:[i.Lov.ACTIVE_PAGE,i.Lov.ALL_PAGES].map(e=>n.createElement(x.MM,{recordingKey:`figma_design_search_page_scope.${e}`,key:e,checked:e===d,onClick:()=>{s.hide(),e===i.Lov.ALL_PAGES&&((0,j.lH)(u)||!a)?(m(!0),requestAnimationFrame(()=>{l(F.V2(e)),m(!1)})):l(F.V2(e))}},n.createElement("div",{className:er.VM},eb[e]())))}))))}function ew({pageId:e,open:t,setOpen:a,numResults:r}){let l=(0,W.eY)().get(e),i=e===o.rootGUIDStr?(0,D.t)("fullscreen.canvas_search.pages"):l.name;return n.createElement(w.GG,{className:er.kQ,onClick:()=>a(!t)},n.createElement(O.B,{className:er.eO,svg:t?el.A:ei.A}),n.createElement("span",{className:er.rB},i),n.createElement("span",{className:er.hs},r))}function eT({result:e,replacement:t,activePageId:a,resultInputHandlerRef:l,selected:s,indirectlySelected:c,singletonHoverSelected:d,onSelect:m,onDoubleClick:p,isInMultiselectMode:_,isInHoveredSelectMode:f,hasMultipleSelections:h,setHoveredResult:g}){let E=(0,W.eY)(),T=(0,W.p8)("currentPage"),S=e.textMatch.matchType===i.Ifi.TEXT_MATCH,N=null!=t&&S&&(E.get(e.guid)?.hasMissingFont||!1),x=!(0,v.y)(),k=(0,r.d4)(e=>e.mirror.appModel.pagesList),I=x&&e.textMatch.matchType===i.Ifi.PAGE_MATCH&&i.h3O.isIncrementalSession()&&(0,j.Fy)(k,e.resultGuid)!==i.xal.LOADED,A=(0,r.wA)(),L=u()(er.V3,{[er.HR]:e.isPurple,[er.wH]:s,[er.r9]:I}),R=n.createElement(X.Bf,{className:L,guid:e.guid});return N?R=n.createElement("div",{className:er.v9+" "+L},n.createElement(O.B,{svg:eu.A})):e.guid===T&&(R=n.createElement("div",{className:er.v9+" "+L},n.createElement(O.B,{svg:eo.A}))),n.createElement(w.GG,{className:u()({[er.AX]:!0,[er.wH]:s,[er.Xt]:!s&&c,[er.rX]:d,[er.Dw]:f,[er.HR]:e.isPurple,[er.r9]:I}),onMouseDown:e=>{e.preventDefault()},onClick:t=>{I?A(P.F.enqueue({type:"offline-page-switch",message:(0,D.t)("fullscreen.pages_panel.unavailable_offline")})):(l.current?.focus(),_||!s||(b.Ay.mac?t.metaKey:t.ctrlKey)||e.textMatch.matchType===i.Ifi.PAGE_MATCH?m(t):h||i.YEY.setOverlayVisible(!0)),t.preventDefault(),t.stopPropagation()},onDoubleClick:_||I?y.lQ:p,onMouseEnter:()=>{e.pageId===o.rootGUIDStr||e.pageId!==a?g(null):g({nodeGuid:e.resultGuid,pageId:e.pageId,index:e.index,matchIndex:e.matchIndex,isPurple:e.isPurple}),S?i.YEY.setHoveredResult(e.resultGuid,e.matchIndex):e.textMatch.matchType===i.Ifi.LAYER_MATCH&&(0,z.Uc)(e.resultGuid)},onMouseLeave:()=>{(0,z.Uc)(""),g(null),i.YEY.setHoveredResult(o.invalidGUIDStr,-1)},recordingKey:C.Pt("figma_design_search","result",e.pageId,e.index)},n.createElement("div",{className:er._P},R),n.createElement("div",{className:u()(er.D6,{[er.c1]:S})},e.textContent&&S?n.createElement(eN,{text:e.textContent,match:e.textMatch,replacement:N?void 0:t,multiline:!0}):n.createElement(eS,{result:e})),I&&n.createElement("div",{className:er.QF,"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,D.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline"},n.createElement(O.B,{className:er.VQ,svg:ed.A})))}function eS({result:e}){let{query:t}=(0,r.d4)(e=>e.canvasSearch),a=e.name&&e.stateGroupName?(0,T.w)(e.name):e.name;if(!a)return null;let l=e.stateGroupName||e.containerName,o=-1;e.textContent&&(a=e.textContent,o=e.name?.toLowerCase().indexOf(t)??-1,l=e.name);let s=a.toLowerCase().indexOf(t)??-1;return n.createElement("div",null,a&&s>-1?n.createElement(eN,{text:a,match:{start:s,end:s+t.length,matchType:i.Ifi.LAYER_MATCH},multiline:!0}):n.createElement(k.ph,{text:a}),l&&n.createElement("div",{className:er.Gu},o>-1?n.createElement(eN,{text:l,match:{start:o,end:o+t.length,matchType:i.Ifi.LAYER_MATCH}}):n.createElement(k.ph,{text:l})))}function eN({text:e,match:t,replacement:a,multiline:r}){let[l,i]=(0,n.useState)(e),[o,s]=(0,n.useState)(!1);(0,n.useEffect)(()=>{i(e)},[e]),(0,n.useEffect)(()=>{if(!o||l!==e)return;let a=t.start,n=0;for(let t=a-1;t>=0;--t)if(/\s/.test(e[t])&&n++,3===n){a=t;break}n<3&&(a=0),i(e.slice(a))},[o,l,e,t.start]);let c=(0,n.useMemo)(()=>n.createElement(ex,{text:l,replacement:a,fullString:e,match:t}),[l,t,a,e]);return n.createElement(k.ph,{className:r?er.c1:"",text:c,multiline:r,onTruncationChange:s})}function ex({text:e,replacement:t,fullString:a,match:r}){let l=0;a&&e!==a&&(l=a.length-e.length);let i=r.start-l,o=r.end-l,s=e.substring(0,i),c=e.substring(i,o),d=e.substring(o);if(t&&c.toLocaleLowerCase()!==t.toLocaleLowerCase()){let e=U.r.detectTextTransform(c);t=U.r.applyTextTransform(t,e)}return n.createElement(n.Fragment,null,l?"\u2026":"",s,t?n.createElement(n.Fragment,null,n.createElement("span",{className:er.of},c),n.createElement("b",null,t)):n.createElement("b",null,c),d)}function ek(e,t,a,l){let o=(0,$.II)(),s=function(){let e=(0,V.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),a=(0,m.am)(),l=(0,n.useContext)($.EA),o=(0,n.useCallback)(()=>{a("canvas_search_multi_hierarchy",{order:"down"}),e(i.YEY.moveActiveResultsDownOneLevelAndGetViewportSettings(),{additionalTrackEventParams:{searchScope:i.Lov[t]}})},[e,t,a]);return l?o:y.lQ}(),c=function(){let e=(0,V.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),a=(0,m.am)(),l=(0,n.useContext)($.EA),o=(0,n.useCallback)(()=>{a("canvas_search_multi_hierarchy",{order:"up"}),e(i.YEY.moveActiveResultsUpOneLevelAndGetViewportSettings(),{additionalTrackEventParams:{searchScope:i.Lov[t]}})},[e,t,a]);return l?o:y.lQ}(),d=(0,n.useContext)($.EA);return(0,n.useCallback)(n=>{switch(d?(0,E.Fo)(n)&&!n.shiftKey?l(1):n.shiftKey?l(2):l(0):l(0),n.keyCode){case E.Uz.P:case E.Uz.UP_ARROW:(n.keyCode!==E.Uz.P||b.Ay.mac&&(0,E.vN)(n,E.xH.CONTROL))&&(e(en.OP.PREV,"keyboard"),n.stopPropagation(),n.preventDefault());break;case E.Uz.N:case E.Uz.DOWN_ARROW:(n.keyCode!==E.Uz.N||b.Ay.mac&&(0,E.vN)(n,E.xH.CONTROL))&&(e(en.OP.NEXT,"keyboard"),n.stopPropagation(),n.preventDefault());break;case E.Uz.ENTER:if((0,E.Fo)(n)){i.YEY.exitSearchMode(i.dNx.SELECT_ACTIVE);break}if(o())break;n.shiftKey?t?c():e(en.OP.PREV,"keyboard"):t?s():e(en.OP.NEXT,"keyboard"),n.stopPropagation(),n.preventDefault();break;case E.Uz.ESCAPE:i.YEY.exitSearchMode(i.dNx.NONE),n.preventDefault(),n.stopPropagation();break;default:a(n)}},[d,l,o,a,e,t,c,s])}function eI(e){return(0,n.useCallback)(t=>{if(t.keyCode===E.Uz.SHIFT){(!b.Ay.mac||t.metaKey)&&(b.Ay.mac||t.ctrlKey)||e(0);return}let a=b.Ay.mac&&"Meta"===t.key,n=!b.Ay.mac&&t.keyCode===E.Uz.CTRL;(a||n)&&!t.shiftKey&&e(0)},[e])}function eA(e,t=!1){if(t||(0,G.U5)(e,G.W0.YES)){let t=(0,G.f7)(e);return t&&e.stopPropagation(),t}return!1}function eL(e){switch(e.keyCode){case E.Uz.DELETE:case E.Uz.BACKSPACE:return i.YEY.getNextResultForActiveResultRemoval();case E.Uz.X:if((0,E.Te)(e))return i.YEY.getNextResultForActiveResultRemoval();break;case E.Uz.H:case E.Uz.R:if((0,E.Fo)(e)&&e.shiftKey)return i.YEY.getNextResultForActiveResultRemoval()}return o.invalidGUIDStr}},372252:(e,t,a)=>{a.d(t,{Yz:()=>S,Z7:()=>w});var n=a(411855),r=a(188507),l=a(598045),i=a(91408),o=a(966712),s=a(38580),c=a(646240),d=a(939863),u=a(103907),m=a(313516),p=a(617453),_=a(341860),f=a(100197),h=a(433861),g=a(514736),E=a(531461),y=a(187882),v=a(366501),b=a(448879),C=a(860168);let w=(0,s.eU)(new Map),T=(0,i.jz)(C.LdP);function S({children:e}){let t=(0,f.ut)(l.Ez5?.singleSlideView().isInSingleSlideView,!1),a=(0,f.J2)(l.Ez5.slideDeck().slideGrid),i=(0,v.rY)(a),s=n.useMemo(()=>i.reduce((e,t,a)=>(e.set(t,a),e),new Map),[i]),C=function(){let e=(0,u.wq)(),t=(0,c.Xr)(w),[a,r]=n.useState(new Map),[l,i]=n.useState(new Map);return n.useEffect(()=>{let n=new Set,o=new Map;"loaded"===e.status&&e.data.forEach(e=>{let t=e.canvasPosition,a=l.get(e.id),r={commentCount:e.comments.filter(e=>!e.resolved_at).length,threadIds:[],hasUnread:e.comments.some(e=>!e.resolved_at&&e.isUnread)};o.set(e.id,r),t&&(!a||t.x!==a.x&&t.y!==a.y)&&n.add(e)}),n.forEach(e=>{let t=e.comments[0]?.client_meta?.node_id;if(!t||!e.canvasPosition)return;let a=_.q.instance.get(t),n=a?a.findContainingSlideOrSelf():m.K8;n!==m.K8&&e.canvasPosition&&(i(t=>new Map(t.set(e.id,e.canvasPosition))),r(t=>new Map(t.set(e.id,n))))});let s=new Map;a.forEach((e,t)=>{let a=o.get(t);if(!a)return;let{commentCount:n,hasUnread:r}=a,l=s.get(e),i={commentCount:(l?.commentCount??0)+n,threadIds:[...l?.threadIds??[],t],hasUnread:l?.hasUnread||r};s.set(e,i)}),t(s)},[t,l,a,e.data,e.status]),a}(),S=(0,r.d4)(e=>e.mirror?.appModel.showUi),N=(0,p.qw)(),x=!(0,y.Ye)(),k=(0,p.dP)(),I=n.useCallback(e=>{let t=C.get(e.id);if(t)return t;let a=e.comments[0]?.client_meta?.node_id;if(!a)return m.K8;let n=_.q.instance.get(a);return n?n.findContainingSlideOrSelf():m.K8},[C]),{xDelta:A,yDelta:L}=(0,b.m)(),O=n.useMemo(()=>({xDelta:A,yDelta:L}),[A,L]),R=n.useMemo(()=>{let e=[E.mW.RESOLVED,E.mW.YOURS];return t&&e.push(E.mW.CURRENT_SLIDE),e},[t]),M=n.useMemo(()=>[E.qN.CREATION_DATE,E.qN.UNREAD,E.qN.SLIDE],[]),D=(0,r.d4)(e=>e.mirror.appModel.currentPage),P=n.useContext(h.kw),F=(0,f.ut)(l.Ez5?.singleSlideView().focusedSlideId,""),B=(0,v.po)(),U=n.useCallback(e=>{let t=e&&D?P.getCommentDestinationForCanvasPosition(e,D)?.nodeId:void 0;if(!t)return!1;let a=_.q.instance.get(t),n=a?a.findContainingSlideOrSelf():m.K8;return F&&(0,m.fn)(F)?n!==F:!(0,m.fn)(n)},[D,F,P]),H=n.useCallback((e,t)=>{let a=t?_.q.instance.get(t):void 0,n=a?a.findContainingSlideOrSelf():m.K8,r=n&&(0,m.fn)(n)?n:l.glU.getSlideAtPosition(e.x,e.y);return r?l.Egt.getBoundsForNode(r):null},[]),G=n.useCallback(e=>{let t=I(e),a=s.get(t);return void 0===a||t===m.K8?(0,d.t)("comments.slide"):(0,d.t)("comments.slide_number",{orderNum:a+1})},[I,s]),V=n.useMemo(()=>!!t,[t]),z=n.useCallback(e=>{if(!t)return()=>{};let a=I(e);return a!==m.K8?()=>{B(a)}:()=>{}},[I,B,t]),K=n.useMemo(()=>({slide:(e,t)=>{let a=1/0,n=I(e),r=I(t),l=s.get(n)??a,i=s.get(r)??a;return l!==i?l-i:Date.parse(t.comments[0].created_at)-Date.parse(e.comments[0].created_at)}}),[I,s]),W=(0,f.J2)(l.Ez5.editorPreferences().speakerNotesHeight),j=n.useMemo(()=>{let e=0,a=0,n=0;return S&&(e+=T,a+=N,t&&(e+=W+l.Ez5.singleSlideView().dragHandleTotalHeight()),x&&(n+=k)),{maxHeightDelta:-e,minBottomMarginDelta:e,minLeftMarginDelta:n,minRightMarginDelta:a}},[t,N,x,k,S,W]),Z=n.useMemo(()=>{if(S)return{paddingRight:N}},[N,S]),Y=n.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,disableZoomViewportOnCommentSelection:V,clusterBy:(0,o.kc)().comments_corner_cluster?"slide":"page",orphanedBy:"non_slide_anchors",filterBy:"non_slide_anchors",sidebarFilters:R,sidebarSorts:M,sidebarModesDisabled:!0,dockPositionAdjustment:O,isCommentingDisabledAtPosition:U,commentDisabledPositionBellMessage:(0,d.t)("comments.comments_can_only_be_placed_on_slides"),calculateSelectionCommentContainerBounds:H,getParentName:G,getOnCommentSelect:z,sortComparatorOverrides:K,commentPositionPaddingAdjustment:Z,draggableModalBoundsAdjustment:j}),[V,R,M,O,U,H,G,z,K,Z,j]);return n.createElement(g.a.Provider,{value:Y},e)}},991820:(e,t,a)=>{a.d(t,{M:()=>e0,w:()=>e1});var n=a(411855),r=a(598045),l=a(511324),i=a(155190),o=a(123252),s=a(487982),c=a(146751),d=a(336417),u=a(522632),m=a(589282);function p(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M13 5h5a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-8h7a1 1 0 0 0 1-1V5Zm-1 0H6a1 1 0 0 0-1 1v3h7V5Zm0-1h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6Z",clipRule:"evenodd"}))}var _=a(774844);function f(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M11.5 11.25 3 19.5h5.5a3 3 0 0 0 3-3v0m0-5.25 5.742-5.742a1.78 1.78 0 0 1 2.516 0v0a1.78 1.78 0 0 1 .016 2.5L11.5 16.5m0-5.25v5.25"}))}var h=a(439761),g=a(600432),E=a(623402),y=a(87671),v=a(900729),b=a(216980),C=a(165710),w=a(518943),T=a(449217),S=a(197067),N=a(23149),x=a(219477),k=a(689947),I=a(38148),A=a(803038),L=a(610430),O=a(308548),R=a(544236),M=a(42086),D=a(55034),P=a(915377);function F(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8.293 15.707a1 1 0 0 1-.274-.903l.5-2.5a1 1 0 0 1 .274-.511l8.146-8.147a1.5 1.5 0 0 1 2.122 0l-.707.708a.5.5 0 0 0-.708 0l-1.042 1.042 2 2 1.042-1.042a.5.5 0 0 0 0-.707l-1.293-1.293.708-.708 1.293 1.294a1.5 1.5 0 0 1 0 2.12l-8.147 8.147a1 1 0 0 1-.511.274l-2.5.5a1 1 0 0 1-.903-.274ZM9.5 12.5l6.397-6.397 2 2L11.5 14.5l-1.438.287L9 15l.212-1.062L9.5 12.5Zm8.5-.05V18a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h5.55a.5.5 0 0 0 0-1H6a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-5.55a.5.5 0 0 0-1 0Z",clipRule:"evenodd"}))}var B=a(114535),U=a(39108),H=a(927457),G=a(935283),V=a(320063),z=a(358145),K=a(38580),W=a(374626),j=a(860601),Z=a(153234),Y=a(499574),X=a(490418),q=a(50366),J=a(289820),Q=a(362442),$=a(628085),ee=a(635897),et=a(478023),ea=a(332227),en=a(47506),er=a(939863),el=a(553015),ei=a(256975),eo=a(948517),es=a(16397),ec=a(810550),ed=a(964881),eu=a(103907),em=a(672517),ep=a(683694),e_=a(516398),ef=a(728325),eh=a(855418),eg=a(813648),eE=a(29680),ey=a(529928),ev=a(143678),eb=a(402609),eC=a(147723),ew=a(132572),eT=a(562432),eS=a(777804),eN=a(436749),ex=a(13894),ek=a(719624),eI=a(178772),eA=a(784578),eL=a(371026),eO=a(157147),eR=a(188507),eM=a(760547),eD=a(755020),eP=a(341450),eF=a(787978);function eB({children:e}){return n.createElement("div",{className:"toolbelt_label--toolbeltLabel--mlRIG"},e)}var eU=a(185157),eH=a(337745),eG=a(279145),eV=a(264077),ez=a(204753);function eK({handleAction:e}){let t=(0,eU.z)(),a=(0,eR.d4)(e=>e.mirror.appModel.keyboardShortcuts),r=!!(0,ed.hA)(),l=(0,eH.G)(),{nodeIndex:i,nodesForStepper:o,handleStepForward:s,handleStepBack:c}=(0,eH.Z)(e);return t||-1!==i&&(!r||l)?n.createElement(eV.a,null,t&&n.createElement(n.Fragment,null,n.createElement(eF.C,{onMouseDown:()=>{e("zoom-to-selection")},tooltipText:(0,er.t)("dev_handoff.recenter")},n.createElement(eM.S,null)),n.createElement(Q.X,null),n.createElement(eB,null,n.createElement("span",{className:ez.Cg},(0,er.tx)("dev_handoff.recenter")),n.createElement("span",{style:{marginLeft:"var(--spacer-1)",color:"var(--color-text-secondary)"}},(0,eG.c1)(a,"zoom-to-selection")))),!t&&-1!==i&&n.createElement(n.Fragment,null,n.createElement(eF.C,{onMouseDown:c,tooltipText:(0,er.t)("viewer.footer.previous_frame")},n.createElement(eD.C,null)),n.createElement(Q.X,null),n.createElement(eB,null,(0,er.tx)("viewer.footer.frame_progress",{currentFrameIndex:i+1,frameCount:o.length})),n.createElement(Q.X,null),n.createElement(eF.C,{onMouseDown:s,tooltipText:(0,er.t)("viewer.footer.next_frame")},n.createElement(eP.e,null)))):null}var eW=a(695020),ej=a(36038),eZ=(e=>(e.SelectTools="SelectTools",e.FrameTools="FrameTools",e.PenTools="PenTools",e.ShapeTools="ShapeTools",e))(eZ||{}),eY=(e=>(e.None="None",e.PenTool="PenTool",e.ImageOrVideoTool="ImageOrVideoTool",e.DevModeInspectTool="DevModeInspectTool",e))(eY||{});function eX(e,t){return t&&e===r.NLJ.SELECT?"set-tool-default-dev-handoff":(0,ee.O_)(e)}function eq(e){return(0,ee.uh)(t=>eX(t,e))}let eJ=(0,ey.bt)(eg.kg),eQ=(0,K.eU)(e=>e(ee.Kh),(e,t,a)=>{let n=eX(a,e(ee.Q)===r.lyf.DEV_HANDOFF);(0,ee.$v)(n)}),e$={...ee.lW,activeToolIdAtom:eQ};function e0(){let e=(0,eh.SD)(r.NLJ.ANNOTATE);(0,G.KF)(null!==e,"No icon for tool or action");let{activeToolId:t,activateTool:a,topLevelMode:l,editModeType:i}=(0,ea.rM)(e$),o=(0,eE.aV)(),s=l===r.lyf.LAYOUT,c=l===r.lyf.DEV_HANDOFF,{activeSecondaryToolbeltId:d,setActiveSecondaryToolbeltId:u,closeSecondaryToolbelt:m}=(0,ee.LH)("None"),p=(0,ed.l7)(),_=!!(0,ed.hA)(),f=(0,z.ZC)(c),h=void 0!==f&&f!==c,g=n.useRef(null);(0,e_.C_)(g,o||p),(0,eS.k)(g);let{close:E}=(0,eT.cq)(),y=eq(c);return((0,n.useEffect)(()=>{h&&([r.NLJ.COMMENTS,r.NLJ.SELECT].includes(t)||c&&t===r.NLJ.ANNOTATE||a(r.NLJ.SELECT),E())},[a,t,E,h,c]),(0,n.useEffect)(()=>{t!==r.NLJ.VECTOR_BEND&&t!==r.NLJ.VECTOR_PAINT_BUCKET&&(s&&i===r.m1T.VECTOR?u("PenTool"):t===r.NLJ.IMAGE_OR_VIDEO?u("ImageOrVideoTool"):c&&t===r.NLJ.SELECT?u("DevModeInspectTool"):u("None"))},[t,s,c,i,u]),o||p)?n.createElement(n.Fragment,null):n.createElement(em.fu,{name:ev.e0.EDITOR_TOOLBELT},n.createElement("div",{className:ej.bl,ref:g},n.createElement(q.I,null,n.createElement("div",{"data-onboarding-key":eC.aE},n.createElement(e2,{topLevelMode:l,activateTool:a})),!_&&n.createElement(n.Fragment,null,n.createElement(Q.X,null),n.createElement(J.a,{icon:n.createElement(eL.Z,{recordingKey:"toolbarView.switchToDevModeButton",extraPadding:!1}),recordingKey:"toolbarView.switchToDevModeAction",onAction:j.lQ,tooltipText:"",tooltipShortcut:""}),n.createElement(eb.p,null,!o&&n.createElement(ec.U,null),!o&&n.createElement(es.f,null),!o&&n.createElement(eo.A,null)))),n.createElement(X.kS,{onActivateTool:a}),"PenTool"===d&&i===r.m1T.VECTOR&&n.createElement(eW.A,{activeToolId:t,activateTool:a,getShortcutTextForTool:y,closeSecondaryToolbelt:m}),"DevModeInspectTool"===d&&n.createElement(eK,{handleAction:ee.$v})))}function e1(e){return`ui3_finished_entering_${e}_mode`}function e2(e){let{topLevelMode:t,activateTool:a}=e,l=t===r.lyf.DEV_HANDOFF,i=l?r.lyf.LAYOUT:t,o=n.useMemo(()=>[n.createElement(e5,{key:r.lyf.LAYOUT,topLevelMode:i,activateTool:a,suppressRecordingKeys:l}),n.createElement(e5,{key:r.lyf.DEV_HANDOFF,topLevelMode:r.lyf.DEV_HANDOFF,activateTool:a,suppressRecordingKeys:!l})],[a,i,l]),s=n.useCallback(()=>{(0,en.YQ)({id:e1(l?"dev":"design")})},[l]);return(0,V.h)(()=>{s()}),n.createElement($.Q,{rows:o,activeRowIndex:l?1:0,onAnimationCompletion:s})}function e5(e){let{topLevelMode:t,activateTool:a}=e,V=(0,eu.n6)(),z=(0,eh.SD)(r.NLJ.ANNOTATE);(0,G.KF)(null!==z,"No icon for tool or action");let K=(0,ea.XZ)(),{activeToolId:q,dropdownShown:Q,openOverlay:en,closeOpenOverlay:eo,editModeType:es}=(0,ea.rM)(e$,K),ec=t===r.lyf.LAYOUT,ed=t===r.lyf.DEV_HANDOFF,em=t===r.lyf.HISTORY||es===r.m1T.DEV_HANDOFF_HISTORY,e_=(0,ee.zr)(es),eg=(0,ew.AL)(),eE=(0,ei._I)(),ey=(0,W.md)(ep.wg),ev=(0,W.md)(eJ),eb=(0,W.md)(ek.Bu),eT=(0,eI.P)(),eS=t=>{if(!e.suppressRecordingKeys)return Z.Pt("toolbarView",t)},eL=eq(ed),eR=(0,ee.AE)();return n.createElement($.k,{editorTheme:ed?"dev-handoff":"design"},ec&&n.createElement(X.Iu,{overlayId:"SelectTools",recordingKey:eS("moveFlyout"),tooltipText:(0,er.t)("fullscreen.flyout.move_tools"),items:[{type:et.U.Tool,toolId:r.NLJ.SELECT,text:(0,er.t)("fullscreen_actions.set-tool-default"),shortcutText:eL(r.NLJ.SELECT),icon:n.createElement(l.H,null),smallIcon:n.createElement(i.y,null),recordingKey:"toolDefault"},{type:et.U.Tool,toolId:r.NLJ.HAND,text:(0,er.t)("fullscreen_actions.set-tool-hand"),shortcutText:eL(r.NLJ.HAND),icon:n.createElement(o.t,null),smallIcon:n.createElement(s.O,null),recordingKey:"toolHand"},{type:et.U.Tool,toolId:r.NLJ.SCALE,text:(0,er.t)("fullscreen_actions.set-tool-scale"),shortcutText:eL(r.NLJ.SCALE),icon:n.createElement(c.a,null),smallIcon:n.createElement(d.l,null),recordingKey:"toolScale"}],dropdownShown:Q,onOpen:en,onClose:eo,activeToolId:q,onActivateTool:a}),ed&&n.createElement(Y.N,{toolId:r.NLJ.SELECT,icon:n.createElement(l.H,null),onActivateTool:a,activeToolId:q,tooltipText:(0,er.t)("fullscreen_actions.set-tool-default-dev-handoff"),tooltipShortcut:eL(r.NLJ.SELECT),recordingKey:eS("toolDefault")}),e_&&n.createElement(n.Fragment,null,n.createElement(Y.N,{toolId:r.NLJ.SELECT,icon:n.createElement(l.H,null),onActivateTool:a,activeToolId:q,tooltipText:(0,er.t)("fullscreen_actions.set-tool-default"),tooltipShortcut:eL(r.NLJ.SELECT)}),n.createElement(Y.N,{toolId:r.NLJ.HAND,icon:n.createElement(o.t,null),onActivateTool:a,activeToolId:q,tooltipText:(0,er.t)("fullscreen_actions.set-tool-hand"),tooltipShortcut:eL(r.NLJ.HAND)})),ec&&n.createElement(X.Iu,{overlayId:"FrameTools",recordingKey:eS("regionFlyout"),onboardingKey:"frame",tooltipText:(0,er.t)("fullscreen.flyout.region_tools"),items:[{type:et.U.Tool,toolId:r.NLJ.FRAME,text:(0,er.t)("fullscreen_actions.set-tool-frame"),shortcutText:eL(r.NLJ.FRAME),icon:n.createElement(u.v,null),smallIcon:n.createElement(m.q,null),recordingKey:"toolFrame"},{type:et.U.Tool,toolId:r.NLJ.SECTION,text:(0,er.t)("fullscreen_actions.set-tool-section"),shortcutText:eL(r.NLJ.SECTION),icon:n.createElement(p,null),smallIcon:n.createElement(_.c,null),recordingKey:"toolSection"},{type:et.U.Tool,toolId:r.NLJ.SLICE,text:(0,er.t)("fullscreen_actions.set-tool-slice"),shortcutText:eL(r.NLJ.SLICE),icon:n.createElement(f,null),smallIcon:n.createElement(h.h,null),recordingKey:"toolSlice"}],dropdownShown:Q,onOpen:en,onClose:eo,activeToolId:q,onActivateTool:a}),ec&&n.createElement(X.Iu,{overlayId:"ShapeTools",recordingKey:eS("shapeFlyout"),tooltipText:(0,er.t)("fullscreen.flyout.shape_tools"),items:[{type:et.U.Tool,toolId:r.NLJ.SHAPE_RECTANGLE,text:(0,er.t)("fullscreen_actions.set-tool-rectangle"),shortcutText:eL(r.NLJ.SHAPE_RECTANGLE),icon:n.createElement(g.n,null),smallIcon:n.createElement(E.y,null),recordingKey:"toolShapeRectangle"},{type:et.U.Tool,toolId:r.NLJ.SHAPE_LINE,text:(0,er.t)("fullscreen_actions.set-tool-line"),shortcutText:eL(r.NLJ.SHAPE_LINE),icon:n.createElement(y.W,null),smallIcon:n.createElement(v.h,null),recordingKey:"toolShapeLine"},{type:et.U.Tool,toolId:r.NLJ.SHAPE_ARROW,text:(0,er.t)("fullscreen_actions.set-tool-arrow"),shortcutText:eL(r.NLJ.SHAPE_ARROW),icon:n.createElement(b.F,null),smallIcon:n.createElement(C.E,null),recordingKey:"toolShapeArrow"},{type:et.U.Tool,toolId:r.NLJ.SHAPE_ELLIPSE,text:(0,er.t)("fullscreen_actions.set-tool-ellipse"),shortcutText:eL(r.NLJ.SHAPE_ELLIPSE),icon:n.createElement(w.m,null),smallIcon:n.createElement(T.B,null),recordingKey:"toolShapeEllipse"},{type:et.U.Tool,toolId:r.NLJ.SHAPE_REGULAR_POLYGON,text:(0,er.t)("fullscreen_actions.set-tool-regular-polygon"),icon:n.createElement(S.o,null),smallIcon:n.createElement(N.h,null),recordingKey:"toolShapePolygon"},{type:et.U.Tool,toolId:r.NLJ.SHAPE_STAR,text:(0,er.t)("fullscreen_actions.set-tool-star"),icon:n.createElement(x.e,null),smallIcon:n.createElement(k.Z,null),recordingKey:"toolShapeStar"},{type:et.U.Tool,toolId:r.NLJ.IMAGE_OR_VIDEO,text:(0,er.t)("fullscreen_actions.place_image_or_video"),icon:n.createElement(I.T,null),smallIcon:n.createElement(A.s,null),shortcutText:eL(r.NLJ.IMAGE_OR_VIDEO),recordingKey:"image-tool"}],dropdownShown:Q,onOpen:en,onClose:eo,activeToolId:q,onActivateTool:a}),ec&&n.createElement(X.Iu,{overlayId:"PenTools",recordingKey:eS("penFlyout"),tooltipText:(0,er.t)("fullscreen.flyout.drawing_tools"),items:[{type:et.U.Tool,toolId:r.NLJ.VECTOR_PEN,text:(0,er.t)("fullscreen_actions.set-tool-pen"),shortcutText:eL(r.NLJ.VECTOR_PEN),icon:n.createElement(L.N,null),smallIcon:n.createElement(O.k,null),recordingKey:"toolPen"},{type:et.U.Tool,toolId:r.NLJ.VECTOR_PENCIL,text:(0,er.t)("fullscreen_actions.set-tool-pencil"),shortcutText:eL(r.NLJ.VECTOR_PENCIL),icon:n.createElement(R.L,null),smallIcon:n.createElement(M.A,null),recordingKey:"toolPencil"}],dropdownShown:Q,onOpen:en,onClose:eo,activeToolId:q,onActivateTool:a}),ec&&n.createElement(Y.N,{toolId:r.NLJ.TYPE,icon:n.createElement(D.B,null),onActivateTool:a,activeToolId:q,recordingKey:eS("toolType"),tooltipText:(0,er.t)("fullscreen_actions.set-tool-type"),tooltipShortcut:eL(r.NLJ.TYPE),onboardingKey:"tool-type-onboarding"}),ed&&eE&&ey&&!em&&n.createElement(n.Fragment,null,n.createElement(Y.N,{toolId:r.NLJ.MEASURE,icon:n.createElement(P._,null),onActivateTool:a,activeToolId:q,tooltipText:(0,er.t)("fullscreen_actions.set-tool-measure"),tooltipShortcut:eL(r.NLJ.MEASURE),recordingKey:eS("toolMeasure"),onboardingKey:"tool-measurements-onboarding"}),n.createElement(Y.N,{toolId:r.NLJ.ANNOTATE,icon:n.createElement(F,null),onActivateTool:a,activeToolId:q,recordingKey:eS("toolAnnotate"),tooltipText:(0,er.t)("fullscreen_actions.set-tool-annotate"),tooltipShortcut:eL(r.NLJ.ANNOTATE),onboardingKey:"tool-annotations-onboarding"})),!em&&n.createElement(Y.N,{toolId:r.NLJ.COMMENTS,icon:V>0?n.createElement(B.X,null):n.createElement(U.f,null),onActivateTool:q===r.NLJ.COMMENTS?()=>a(r.NLJ.SELECT):a,activeToolId:q,recordingKey:eS("toolComment"),tooltipText:(0,er.t)("fullscreen_actions.comment"),tooltipShortcut:eL(r.NLJ.COMMENTS)}),eg&&ec&&n.createElement(Y.N,{toolId:ex.y,icon:n.createElement(eN._,null),onActivateTool:()=>(0,ee.$v)("toggle-menu"),activeToolId:eb?ex.y:q,tooltipText:(0,er.t)("qa.extensions.tooltip_actions"),tooltipShortcut:eR("toggle-menu"),onboardingKey:eC.Ij}),!eg&&ec&&n.createElement(J.a,{icon:n.createElement(H.e,null),onAction:()=>{ec&&ef.VU.get("component-insert","toolbar")()},tooltipText:"Insert",elementId:"toolbelt-action-component-insert",isActive:ev,onboardingKey:eO.sY}),e_&&!ey&&n.createElement(J.a,{icon:n.createElement("div",{"data-onboarding-key":eC.hH},n.createElement(eA.RJ,{viewOnly:!ey,variant:"primary"}),n.createElement("div",{className:ej.LR},n.createElement(el.$,{variant:"primary"},(0,er.tx)("fullscreen.toolbar.request.request_sent")))),tooltipText:"",onAction:j.lQ}),ed&&eT&&n.createElement(J.a,{icon:n.createElement(eI.T,null),tooltipText:"",onAction:j.lQ}))}},264077:(e,t,a)=>{a.d(t,{a:()=>l});var n=a(411855),r=a(204753);function l({children:e}){return n.createElement("div",{role:"toolbar",className:r.zr,"data-secondary-toolbelt":!0},n.createElement("div",{className:r.pk},e))}},695020:(e,t,a)=>{a.d(t,{A:()=>p});var n=a(411855),r=a(598045);function l(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.5 8a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm0 1a2.5 2.5 0 1 0-2.45-3H14a8 8 0 0 0-8 8v1.05a2.5 2.5 0 1 0 1 0V14a7 7 0 0 1 7-7h1.05a2.5 2.5 0 0 0 2.45 2Zm-11 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z",clipRule:"evenodd"}))}function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M13.207 3.293a1 1 0 0 0-1.414 0L9.396 5.689 7.354 3.646a.5.5 0 1 0-.708.708L8.69 6.396 4.207 10.88a3 3 0 0 0 0 4.242l4.672 4.672a3 3 0 0 0 4.242 0l7.586-7.586a1 1 0 0 0 0-1.414l-7.5-7.5Zm-3.81 3.81-4.483 4.483a2 2 0 0 0 0 2.828l4.672 4.672a2 2 0 0 0 2.828 0l6.879-6.879L20 11.5l-.707-.707-6.086-6.086L12.5 4l-.707.707-1.69 1.69 2.75 2.75a1.5 1.5 0 1 1-.707.707l-2.75-2.75ZM19 20a1 1 0 0 0 1-1c0-.27-.15-.694-.47-1.22a8.14 8.14 0 0 0-.53-.758 8.14 8.14 0 0 0-.53.758c-.32.526-.47.95-.47 1.22a1 1 0 0 0 1 1Zm0 1a2 2 0 0 0 2-2c0-1.108-1.09-2.488-1.661-3.134a.448.448 0 0 0-.678 0C18.09 16.512 17 17.892 17 19a2 2 0 0 0 2 2Zm-5-10.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",clipRule:"evenodd"}))}var o=a(139689),s=a(499574),c=a(787978),d=a(362442),u=a(939863),m=a(264077);function p({activeToolId:e,activateTool:t,getShortcutTextForTool:a,closeSecondaryToolbelt:p}){return n.createElement(m.a,null,n.createElement(s.N,{recordingKey:"toolbarView.toolBend",toolId:r.NLJ.VECTOR_BEND,icon:n.createElement(l,null),onActivateTool:t,activeToolId:e,tooltipText:(0,u.t)("fullscreen_actions.set-tool-bend"),tooltipShortcut:a(r.NLJ.VECTOR_BEND)}),n.createElement(s.N,{recordingKey:"toolbarView.toolPaintBucket",toolId:r.NLJ.VECTOR_PAINT_BUCKET,icon:n.createElement(i,null),onActivateTool:t,activeToolId:e,tooltipText:(0,u.t)("fullscreen_actions.set-tool-paint-bucket"),tooltipShortcut:a(r.NLJ.VECTOR_PAINT_BUCKET)}),n.createElement(d.X,null),n.createElement(c.C,{onMouseDown:p,tooltipText:(0,u.t)("fullscreen.toolbar.secondary_toolbar.close"),recordingKey:"toolbarView.toolLeaveVectorEditMode"},n.createElement(o.A,null)))}},363668:(e,t,a)=>{a.d(t,{J:()=>f});var n=a(411855),r=a(598045),l=a(776250),i=a(374626),o=a(809831),s=a(662531),c=a(326069),d=a(457630),u=a(874560),m=a(57289),p=a(883211);let _=a(194792).zS;function f(){let[e,t]=(0,i.fp)(p.ph),a=(0,i.md)(p.KG),f=(0,i.md)(p.kh),h=(0,d._X)({subscribeToUpdates_expensive:!0}),[g,E]=(0,n.useState)(null),y="whiteboard"===(0,o.lg)(),v=n.useCallback(()=>{if(e){let{emojis:t,index:a}=e;if(t&&a>=0&&a<t.length){let e=(0,c._Q)(t[a]);e&&s.l7.user("insert-emoji",()=>{(0,l.sx)("inserted_editor_emoji",{emoji:e}),r.SmY.replaceCurrentShortcodeWithEmoji(e)})}}},[e]),b=n.useCallback(()=>{t(null)},[t]);if(!f||!e||null===a)return null;let C=(0,d.Yb)(h,f);if(!(0,d.ZT)(C,h))return null;let w={top:C.y+h.y-8,bottom:C.y+h.y+C.height+8,left:C.x+h.x,right:C.x+h.x+C.width,height:C.height,width:C.width},T=g&&w.height>0&&w.bottom>h.height-g&&w.top>h.height-w.bottom?{positionFromBottom:{left:w.left,bottom:h.height+h.y-w.top},direction:m.ri.UPWARDS}:{targetRect:w,direction:m.ri.DOWNWARDS};return n.createElement("div",null,n.createElement(u.j,{dispatchTypeahead:t,typeahead:e,onInsert:v,onClear:b,width:168,...T,setMaxTypeaheadHeight:E,zIndex:_,isFigJam:y,recordingKey:"emojiTypeaheadView",emojiImageSet:a}))}},548377:(e,t,a)=>{a.d(t,{G:()=>sX});var n=a(411855),r=a(188507),l=a(598045),i=a(517333),o=a(531664),s=a(358145),c=a(966712),d=a(374626),u=a(304783),m=a(30637),p=a(192437),_=a(695763),f=a(824189),h=a(384252),g=a(987067),E=a(934635),y=a(332034),v=a(256975),b=a(17604),C=a(809831),w=a(441088),T=a(507956),S=a(853079),N=a(964881),x=a(998917),k=a(767129),I=a(755020),A=a(222903),L=a(666309),O=a(782683),R=a(13583),M=a(341450),D=a(769335),P=a(935829),F=a(841368),B=a(538649),U=a(629019),H=a.n(U),G=a(203264),V=a(776250),z=a(91408),K=a(737947),W=a(939683),j=a(320063),Z=a(38580),Y=a(522739),X=a(438741),q=a(330654),J=a(268537),Q=a(946689),$=a(564577),ee=a(659838),et=a(493323),ea=a(827586),en=a(574176),er=a(762638),el=a(939863),ei=a(40987),eo=a(849262),es=a(331972),ec=a(465904),ed=a(738269),eu=a(428654),em=a(818),ep=a(226055),e_=a(774191),ef=a(617453),eh=a(543841),eg=a(843495),eE=a(318812),ey=a(29680),ev=a(335682),eb=a(754209),eC=a(161325),ew=a(611978),eT=a(860178),eS=a(792675),eN=a(940596),ex=a(100197),ek=a(601607),eI=a(707465),eA=a(498606),eL=a(563814),eO=a(187882),eR=a(607672),eM=a(720488),eD=a(32067),eP=a(538697),eF=a(549166),eB=a(238629),eU=a(540828),eH=a(421757),eG=a(137035),eV=a(139689),ez=a(511617),eK=a(931828),eW=a(672517),ej=a(309798),eZ=a(999394);function eY(){let e=(0,r.wA)();return(0,ej.f)("dismissed_dev_mode_overview_banner")?null:n.createElement(eW.fu,{name:"Dev Mode Overview Banner",properties:{severity:eZ.c.EVENT}},n.createElement("div",{className:"overview_banner--banner--9cAw3"},n.createElement(eG.b,{className:"overview_banner--icon--NQ9zx"}),n.createElement("div",{className:"overview_banner--bannerContent--Toai2 text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement("div",{className:"overview_banner--title--JuiVK ellipsis--ellipsis--Tjyfa"},(0,el.tx)("dev_handoff.workflows.overview.banner.title")),n.createElement("div",{className:"overview_banner--subTitle--BEeYg ellipsis--ellipsis--Tjyfa"},(0,el.tx)("dev_handoff.workflows.overview.banner.subtitle"))),n.createElement("div",{className:"overview_banner--rightItems--T2QEG"},n.createElement(eH.$n,{variant:"secondary",onClick:()=>{(0,ez.FJ)("https://help.figma.com/hc/en-us/articles/23918228264855","_blank")}},(0,el.tx)("dev_handoff.workflows.overview.banner.learn_more")),n.createElement(x.E,{className:"overview_banner--dismissButton--cMyLN",onClick:()=>{e(eK.b({dismissed_dev_mode_overview_banner:!0}))}},n.createElement(eV.A,null)))))}function eX(e){return n.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.18 11.384a.5.5 0 0 0 .704-.064l2.5-3a.5.5 0 0 0 0-.64l-2.5-3a.5.5 0 1 0-.768.64L13.349 8l-2.233 2.68a.5.5 0 0 0 .064.704ZM4.82 4.616a.5.5 0 0 0-.704.064l-2.5 3a.5.5 0 0 0 0 .64l2.5 3a.5.5 0 1 0 .768-.64L2.651 8l2.233-2.68a.5.5 0 0 0-.064-.704Zm4.654.542a.5.5 0 1 0-.948-.316l-2 6a.5.5 0 0 0 .948.316l2-6Z",clipRule:"evenodd"}))}var eq=a(902008),eJ=a(130097),eQ=a(976999),e$=a(67294),e0=a(99506),e1=a(279453),e2=a(118335),e5=a(165514);let e3="overview--background--LdDDC",e4="overview--overviewBase--8lImP",e6="overview--focusViewLink--PFEvh",e7="overview--overviewRecentActivityRow--uTKSo",e8="overview--overviewRecentActivity--JwGnv",e9="overview--editInfo--PHbLh",te="overview--timestamp--EH-pe",tt="overview--avatarIcon--c711v",ta="overview--layerTypeIcon--zRdir",tn="overview--editedIcon--MhN1N";function tr({showDescription:e,previewUrl:t,onClick:a}){return n.createElement("a",{className:H()(e8,e6),href:t,onClick:a},n.createElement("div",{className:e9},n.createElement(eQ.Qp,{className:"overview--avatarLoading--jMjJk",animationType:eQ.JR.NO_SHIMMER}),n.createElement(eQ.Qp,{className:"overview--editInfoRecentActivityLoading--w-QoB overview--editInfoRecentActivity---jsVr",animationType:eQ.JR.NO_SHIMMER})),e&&n.createElement(eQ.Qp,{className:"overview--editDescriptionLoading--hrI6B",animationType:eQ.JR.NO_SHIMMER}))}function tl({user:e,icon:t,editedString:a}){return n.createElement("div",{className:e9},n.createElement("div",{className:"overview--avatarContainer--OD44p"},n.createElement(e$.H8,{user:e,size:24}),t),n.createElement("div",{className:"overview--editInfoRecentActivity---jsVr"},n.createElement("span",{className:"overview--editInfoUser--P4GkS"},a)))}function ti(e,t,a){if(!e||a)return null;switch(e.status){case l.zIx.BUILD:return n.createElement(eX,{className:H()(t?tn:"overview--readyIcon--A94uc",tt)});case l.zIx.COMPLETED:return n.createElement(eq.l,{className:H()(t?tn:"overview--completedIcon--9Nbjl",tt)})}return null}function to({nodeId:e,user:t,previewUrl:a,isFallbackForLegacyStatus:r,onClick:l}){let i=(0,ek.Fk)(t=>t.get(e)?.getStatusInfo(),e),o=(0,G.ei)(e),s=(0,$.Ak)(o?.lastEditedAt);return t?n.createElement("div",{className:e7},n.createElement("a",{className:H()(e8,e6),href:a,onClick:l},n.createElement(tl,{user:t,icon:ti(i,!0,r),editedString:(0,el.tx)("dev_handoff.workflows.edit_info.edited",{user:t.handle,dateFromNow:n.createElement("span",{className:te},s)})})),(0,c.kc)().dt_workflows_cc_overview&&n.createElement(tc,{nodeId:e,isEdited:!0})):n.createElement(tr,{previewUrl:a,onClick:l})}function ts({nodeId:e,user:t,description:a,previewUrl:r,isFallbackForLegacyStatus:i,onClick:o}){let s=(0,ek.Fk)(t=>t.get(e)?.getStatusInfo(),e),d=s?.lastUpdateUnixTimestamp?1e3*s.lastUpdateUnixTimestamp:null,u=(0,$.Ak)(d);if(!d)return n.createElement(to,{nodeId:e,user:t,previewUrl:r,isFallbackForLegacyStatus:i,onClick:o});if(!s||!t)return n.createElement(tr,{showDescription:!!a,previewUrl:r,onClick:o});let m=e5.TR(s.status,s.prevStatus)?.toLowerCase();if(!m)return n.createElement(to,{nodeId:e,user:t,previewUrl:r,isFallbackForLegacyStatus:i,onClick:o});let p=s.status===l.zIx.BUILD&&(s.status===s.prevStatus||!!s.description),_=p?(0,el.tx)("dev_handoff.workflows.edit_info.updated_design",{user:t.handle,dateFromNow:n.createElement("span",{className:te},u)}):(0,el.tx)("dev_handoff.workflows.edit_info.marked",{user:t.handle,status:m,dateFromNow:n.createElement("span",{className:te},u)});return n.createElement("div",{className:e7},n.createElement("a",{className:H()(e8,e6),href:r,onClick:o},n.createElement(tl,{user:t,icon:ti(s,!1,i),editedString:_}),!!a&&n.createElement("div",{className:"overview--editDescription--rb1Qn"},a)),p&&(0,c.kc)().dt_workflows_cc_overview&&n.createElement(tc,{nodeId:e,isEdited:!1}))}function tc({nodeId:e,isEdited:t}){let a=(0,r.wA)(),l=ev.q5()?.key,i=(0,W.U)(),o=(0,ep.GS)(),s=async()=>{if(!l)return;i("Dev Mode Activity Compare Changes",{source:"compare_previous_overview"});let n=await (0,eJ.Ek)(e1.WND,{fileKey:l,nodeId:e});if("loaded"===n.file.status&&n.file.data){let r=n.file.data.devModeActivity.filter(e=>e.activityType===e0.o6.STATUS_CHANGE).sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime()),l=t||1===r.length?r[0]:r[1];l?.version?.id&&(0,e2.L$)(l.version?.id,a,!0,e)}};return n.createElement(eH.$n,{variant:o?"secondary":"link",onClick:s},(0,el.tx)("inspect_panel.history.compare_changes"))}var td=a(493414),tu=a(126049),tm=a(36867);let tp=(0,eN.Wh)(()=>(0,Z.eU)(""),{preserveValue:!1});var t_=a(395900);let tf="performance.dev_mode.workflows.overview.time_to_first_thumbnail",th=new t_.jk(tf,{}),tg=(0,eN.rt)(void 0),tE=(0,eN.rt)(!1);var ty=a(282741),tv=a(24973),tb=a(860168),tC=a(768067),tw=a(191278),tT=a(420584);let tS=2*(0,z.jz)(tb.Evg),tN=tS/tb.RtY,tx=tS/8,tk=tN/8;function tI(e){return n.createElement("div",{className:tv.vR},e.tabs.map(t=>{let a=t.key===e.selected;return n.createElement("button",{className:H()(a?"overview--selectedTab--LPpAj overview--tab--djrt7 tab_group--tab--j43X- tab_group--selectedTab--dwZ1b tab_group--tab--j43X- utilities--bodyMediumStrong--1R5cZ":"overview--tab--djrt7 tab_group--tab--j43X-",void 0!==t.count&&"overview--tabWithBadge--f0pPx"),key:t.key,onClick:()=>e.onTabSelected(t.key),"data-label":`${t.label}${void 0!==t.count?t.count:""}`},n.createElement("span",null,t.label),void 0!==t.count&&n.createElement(td.s,{count:t.count,isInTab:!0,isActive:a}))}))}let tA=(0,eN.Wh)(()=>(0,Z.eU)(!1),{preserveValue:!1});function tL(){let e=(0,ev.q5)(),t=(0,r.wA)(),a=(0,eT.iZ)(),l=(0,eE.Um)(),i=(0,r.d4)(e=>e.multiplayer),o=n.useMemo(()=>i.allUsers.find(e=>e.sessionID===i.sessionID)||null,[i.allUsers,i.sessionID]),s=(0,eb.dR)(),c=(0,X.B4)(),d=n.useCallback(e=>{(0,eF.Lx)(e,o?.sessionID,t,!1,i,s,c)},[o?.sessionID,t,i,s,c]);return n.createElement("div",{className:"overview--toolbarRightItems--tjF72"},i&&e&&o&&n.createElement(eF.v7,{dropdownShown:l,multiplayer:i,currentUser:o,onUserClick:d}),e&&n.createElement(eB.w,{user:a,editingFile:e,isFileInWorkshop:!1,appendedClassname:"overview--shareButton--5BlrF"}))}let tO=(0,d.E2)("workflows_summary_tab",ty.oz.ALL,q.nativeEnum(ty.oz)),tR=(0,eN.Wh)(()=>(0,Z.eU)({}),{preserveValue:!0}),tM=(0,d.E2)("workflows_overview_sorted_by",ty._6.RECENT,q.nativeEnum(ty._6));function tD(){let e=(0,r.d4)(e=>e.selectedView.overviewBackButtonTargetNodeId),t=(0,r.d4)(e=>e.mirror.appModel.pagesList[0]),a=function(){let e=(0,r.d4)(e=>e.mirror.appModel.pagesList),t=(0,ex.J2)(l.Ez5.currentSceneState().numReadyNodesByPage),a=(0,ex.J2)(l.Ez5.currentSceneState().numCompletedNodesByPage);return n.useMemo(()=>e.filter(e=>{let n=e.nodeId,r=t.has(n)?t.get(n)>0:l.glU.nodeStatusesOnPage(n).includes(l.zIx.BUILD),i=a.has(n)?a.get(n)>0:l.glU.nodeStatusesOnPage(n).includes(l.zIx.COMPLETED);return r||i}),[e,t,a])}()[0],i=e||a?.nodeId||t?.nodeId,o=(0,eU.ZJ)(),s=(0,eU.TP)(void 0,i),c=(0,r.d4)(e=>(0,eI.Np)(e,s)),d=(0,eO.n0)(),u=(0,eR.VS)({pagesList:d,isComparingChanges:!1});return i?n.createElement(Y.lt,{className:"overview--backLink--vAo8c",onClick:function(e){e.preventDefault(),i?u(i).then(()=>{o("overview_back_clicked")}):o("overview_back_clicked")},href:c,"data-testid":"dev_handoff.workflows.overview.back_button",recordingKey:"dev_handoff.workflows.overview.back_button"},n.createElement(I.C,null)):null}function tP(){let e=(0,v._I)(),t=ev.q5()?.key,a=(0,ef.dP)(),i=(0,ep.GS)(),o=(0,em.b)(),s=(0,W.U)(),u=function(){let[e,t]=(0,d.fp)(tg);return n.useCallback(a=>{e||(t({source:a}),th.start())},[e,t])}(),m=(0,ew._6)(),p=(0,r.wA)();(0,eL.O)();let _=(0,ex.J2)(l.Ez5.currentSceneState().nodesWithStatusForFile),f=(0,n.useRef)(null),[h,g]=(0,d.fp)(ei.gk),[E,y]=(0,d.fp)(tM),b=n.useCallback(e=>{s("Dev Mode Overview Sort Changed",{sort:e}),y(e)},[y,s]),C=e?E:ty._6.PAGE,[w,T]=(0,d.fp)(tO),S=(0,ec.n9)(t),{setSearchString:x,searchString:k,searchFilter:I,searchActive:L}=function(){let[e,t]=(0,d.fp)(tp),a=(0,W.U)(),r=(0,n.useMemo)(()=>(function(e){let t=e?new tm.A(e.toLowerCase()):null;return{filter:e=>{let a=t?t.matchAgainst(e):null;return!a||!!a.find(e=>e.score>0)}}})(e),[e]),l=(0,n.useCallback)(e=>r.filter([e.nodeName,e.pageName,e.description]),[r]),i=(0,tu.A)(()=>{a("Dev Mode Overview Search",{})},1e3);return{setSearchString:(0,n.useCallback)(e=>{t(e),i()},[t,i]),searchString:e,searchFilter:l,searchActive:e.length>0}}(),O=n.useMemo(()=>_.filter(e=>e.status===l.zIx.BUILD&&I(e)),[_,I]),R=n.useMemo(()=>_.filter(e=>e.status===l.zIx.COMPLETED&&I(e)),[_,I]),M=n.useMemo(()=>{switch(w){case ty.oz.ALL:return _.filter(I);case ty.oz.RECENTLY_VIEWED:if(!S)return[];return Object.entries(S).reduce((e,[t,a])=>{let n=_.find(e=>e.nodeId===t&&I(e));return n&&e.push({...n,lastViewedTimestamp:a}),e},[]);case ty.oz.BUILD:return O;case ty.oz.COMPLETED:return R}},[_,w,S,I,O,R]),D=n.useMemo(()=>[{key:ty.oz.ALL,label:(0,el.t)("dev_handoff.workflows.overview.tab_all")},...(0,c.kc)().dt_workflows_recently_viewed?[{key:ty.oz.RECENTLY_VIEWED,label:(0,el.t)("dev_handoff.workflows.overview.tab_recent")}]:[],{key:ty.oz.BUILD,count:O.length,label:(0,el.t)("dev_handoff.workflows.overview.tab_ready")},{key:ty.oz.COMPLETED,count:R.length,label:(0,el.t)("dev_handoff.workflows.overview.tab_completed")}],[O.length,R.length]),P=n.useMemo(()=>{if(0===M.length)return[];if(w===ty.oz.RECENTLY_VIEWED)return[{key:"recent",sortedNodesWithStatusForFile:M.slice().sort(ec.YA)}];switch(C){case ty._6.PAGE:let e={};return M.slice().sort((e,t)=>e.visualOrder-t.visualOrder).forEach(t=>{e[t.pageId]||(e[t.pageId]={key:t.pageId,pageId:t.pageId,pageName:t.pageName,sortedNodesWithStatusForFile:[]}),e[t.pageId].sortedNodesWithStatusForFile.push(t)}),Object.values(e);case ty._6.RECENT:return[{key:"recent",sortedNodesWithStatusForFile:M.slice().sort((e,t)=>t.updatedAt-e.updatedAt)}];case ty._6.ALPHABETICAL:return[{key:"alphabetical",sortedNodesWithStatusForFile:M.slice().sort((e,t)=>e.nodeName.localeCompare(t.nodeName))}]}},[w,M,C]),[F,B]=(0,d.fp)(tR);n.useEffect(()=>{B(e=>{let t={...e};return P.forEach(({pageId:e})=>{e&&void 0===t[e]&&(t[e]=!0)}),t})},[B,P]);let U=n.useCallback(e=>{B(t=>{let a={...t};return a[e]=!a[e],a})},[B]),{numSections:G,numFrames:z,numPages:K}=n.useMemo(()=>({numSections:_.filter(e=>e.isSection).length,numFrames:_.filter(e=>!e.isSection).length,numPages:new Set(_.map(e=>e.pageId)).size}),[_]),Z=(0,N.US)();!function({nodesWithStatusForFile:e,enabled:t}){let[a,r]=(0,d.fp)(tA),l=n.useRef(),i=(0,ey.eY)();n.useEffect(()=>{if(!t)return;let n=0,o=0,s=performance.now();if(void 0===l.current&&(l.current=new Set),e.forEach(e=>{if(!l.current.has(e.nodeId)){n++;let t=performance.now();i.get(e.nodeId)?.materializeDescendants();let a=performance.now()-t;a>o&&(o=a),l.current.add(e.nodeId)}}),!a){let e=performance.now()-s;(0,V.sx)("performance.dev_mode.workflows.overview.materialize_nodes",{nodeCount:n,worstNodeMs:o,elapsedMs:e},{forwardToDatadog:!0}),r(!0)}},[e,l,i,a,r,t])}({enabled:Z,nodesWithStatusForFile:_});let[Y,X]=n.useState(!1),q=n.useCallback(()=>{X(!0),g(f.current?.scrollTop)},[g]),[J]=(0,d.fp)(ty._o);(0,j.h)(()=>{let t=J||"init";s("Dev Mode Overview Shown",{type:e?"full":"lite",source:t},{forwardToDatadog:!0}),u(t),eg.wr()});let $=[...new Set(M.map(e=>e.userId).filter(e=>e))],ee=(0,eC.zy)($);(0,ty.c7)(M,w,C),(0,ty.zz)($,ee,M);let en=n.useCallback(e=>{s("Dev Mode Overview Tab Clicked",{tab:e}),T(e)},[T,s]);if(n.useEffect(()=>{"fullscreen"===m.view&&m.commentThreadId&&(0,es._)(p,m,"overview_open_notification")},[p,m]),!Z||Y)return n.createElement("div",{className:e3},n.createElement("div",{className:H()(e4,"overview--overviewSpinner--zv-dq"),style:{left:a}},n.createElement(et.kt,{size:"large"})));let eo="";G>0&&(eo+=(0,el.t)("dev_handoff.workflows.overview.sections_count",{count:G})),z>0&&(G>0&&(eo+=", "),eo+=(0,el.t)("dev_handoff.workflows.overview.frames_count",{count:z})),G+z>0&&(eo+=" "+(0,el.t)("dev_handoff.workflows.overview.pages_count",{count:K}));let ed=0===P.length;return n.createElement("div",{className:e3},n.createElement("div",{className:H()(e4,{"overview--withInsetEditorEnabled--ktYXp":o}),style:{left:a}},n.createElement("div",{className:"overview--overviewHeader--BBr9p"},(0,c.kc)().dt_workflows_overview_back_button&&n.createElement(tD,null),n.createElement("div",{className:"overview--overviewTitle--gEd5D text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement("div",{className:"overview--overviewTitleIcon--NvF-4"},n.createElement(A.O,null)),n.createElement("h1",null,(0,el.tx)("dev_handoff.workflows.overview.title"))),n.createElement("div",{className:"overview--overviewTitleInfo--3e2oX text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("span",null,eo)),n.createElement(tj,null),n.createElement("div",{className:"overview--overviewHeaderSpacer--oRKTg"}),e&&n.createElement(tB,{value:k,onChange:x}),i&&n.createElement(tL,null)),n.createElement("div",{className:"overview--bannerWrapper--D8N5z"},n.createElement(eY,null)),n.createElement("div",{className:"overview--scrollAndEmptyMessage--3hOyM"},ed&&n.createElement("span",{className:"overview--emptyMessage--lyEC8"},L?(0,el.tx)("dev_handoff.workflows.overview.empty_message_search"):n.createElement("div",{className:er.cx.preWrap.$},(0,el.tx)("dev_handoff.workflows.overview.no_designs",{status:function(e){switch(e){case ty.oz.BUILD:return(0,el.tx)("dev_handoff.workflows.overview.no_designs_ready");case ty.oz.COMPLETED:return(0,el.tx)("dev_handoff.workflows.overview.no_designs_completed");default:return(0,el.tx)("dev_handoff.workflows.overview.no_designs_ready")}}(w),link:n.createElement(Q.CY,{href:"https://help.figma.com/hc/en-us/articles/23918228264855",trusted:!0,target:"_blank",className:"overview--learnMoreLink--Yrujk"},(0,el.tx)("dev_handoff.workflows.overview.learn_more"))}))),n.createElement(ea.P,{className:"overview--overviewNodesScrollContainer--uc1ey",scrollContainerRef:f,initialScrollTop:h},n.createElement("div",{className:"overview--overviewNodesScrollContainerContents--fTO-e"},e&&n.createElement("div",{className:"overview--overviewTabsContainer--sjuS-"},n.createElement(tI,{tabs:D,selected:w,onTabSelected:en}),w!==ty.oz.RECENTLY_VIEWED&&n.createElement(tW,{sortedBy:C,setSortedBy:b})),!ed&&n.createElement("div",{className:"overview--overviewNodesContainer--P3anz"},n.createElement("div",{className:"overview--overviewSections--2H4Qw"},P.map(({key:e,pageId:t,pageName:a,sortedNodesWithStatusForFile:r})=>{let l=!t||F[e];return n.createElement(tU,{isExpanded:l,key:e,pageId:t,pageName:a,overviewNodes:r,users:ee,onExpandCollapseClicked:t?()=>U(t):void 0,onPreviewClick:q})}))))))))}function tF({pageName:e,isExpanded:t,onExpandCollapseClicked:a}){return n.createElement(x.E,{className:"overview--pageHeader--dubsT",onClick:a,"aria-label":(0,c.kc)().dt_fpl_migration?t?(0,el.t)("dev_handoff.workflows.overview.collapse_page",{pageName:e}):(0,el.t)("dev_handoff.workflows.overview.expand_page",{pageName:e}):void 0},n.createElement("div",{className:"overview--pageHeaderContent--Bq-Ol text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement(en.B,{svg:t?tw.A:tT.A,className:"overview--caretIcon--gssmY"}),n.createElement(L.A,{className:"overview--pageIcon--w9-M7"}),n.createElement("span",null,e)))}function tB({value:e,onChange:t}){return n.createElement("div",{className:"overview--searchBar--NX8cb",role:"presentation","data-editor-theme":"dev-handoff"},n.createElement(O.h,null),n.createElement(ee.L,{placeholder:(0,el.t)("dev_handoff.workflows.overview.search_placeholder"),value:e,onChange:e=>{t(e.target.value)},className:"overview--searchInput--3X9vp text--fontPos11--2LvXf text--_fontBase--QdLsd",spellCheck:!1}),!!e&&n.createElement("div",{className:"overview--searchInputClose--lNMFC"},n.createElement(k.K,{onClick:()=>t(""),"aria-label":(0,el.t)("dev_handoff.workflows.overview.clear_search"),htmlAttributes:{"data-tooltip":(0,el.t)("dev_handoff.workflows.overview.clear_search"),"data-tooltip-type":eA.Ib.TEXT}},n.createElement(R.L,null))))}function tU({pageName:e,overviewNodes:t,users:a,isExpanded:r,onExpandCollapseClicked:l,onPreviewClick:i}){return n.createElement(n.Fragment,null,e&&n.createElement(tF,{pageName:e,isExpanded:r,onExpandCollapseClicked:l}),r&&n.createElement("div",{className:"overview--overviewNodesList--ipsOp"},t.map(r=>n.createElement(tV,{key:r.nodeId,overviewNode:r,onPreviewClick:i,renderPageName:!e,users:a,nodeCount:t.length}))))}function tH({overviewNode:e,onClick:t,renderPageName:a,showLastUpdated:i}){let{nodeId:o,isSection:s,updatedAt:c,pageName:d,nodeName:u,pageId:m}=e,p=(0,eU.VW)(o,m),_=(0,r.d4)(e=>(0,eI.Np)(e,p)),f=(0,r.d4)(e=>(0,eI.xS)(e,p)),h=(0,eD.Cj)(f),g=(0,eU.TQ)(),E=n.useRef(null),y=(0,eE.BK)(`DEV_HANDOFF_OVERVIEW_OPTIONS_DROPDOWN_${o}`),v=function(e,t){let a=(0,ek.Fk)(t=>t.get(e)?.getStatusInfo(),e),n=a?.lastUpdateUnixTimestamp?1e3*a.lastUpdateUnixTimestamp:null,r=(0,G.ei)(e),l=t?r?.lastEditedAt:n,i=(0,$.Ak)(l);return l?i:null}(o,e.hasBeenEditedSinceLastStatusChange),b=n.useMemo(()=>e.hasBeenEditedSinceLastStatusChange?(0,el.tx)("dev_handoff.workflows.edit_info.changed"):e.status===l.zIx.COMPLETED?(0,el.tx)("dev_handoff.status.completed"):e.status===l.zIx.BUILD?e.description?(0,el.tx)("dev_handoff.workflows.edit_info.new version"):(0,el.tx)("dev_handoff.status.ready_for_dev"):(0,el.tx)("dev_handoff.workflows.edit_info.changed"),[e.description,e.hasBeenEditedSinceLastStatusChange,e.status]);return n.createElement("div",{className:"overview--overviewNodeCardHeader--C-KTf"},n.createElement(Y.lt,{className:H()("overview--overviewNodeCardHeaderLeft--jYCXL",e6),onClick:t,href:_,recordingKey:"dev_handoff.workflows.overview.card"},a&&d&&n.createElement("div",{className:"overview--pageNameAndChevron--5v8px"},n.createElement("span",{className:"overview--pageName--TURV8"},d),n.createElement(M.e,{className:"overview--chevronIcon--RIPpv"})),n.createElement("div",{className:"overview--nodeNameAndIcon--Tl3e-"},n.createElement("div",null,s?n.createElement(D.e,{className:ta}):n.createElement(P.q,{className:ta})),n.createElement("span",{className:"overview--nodeName--20NeF"},u)),i&&c>1&&n.createElement("div",{className:"overview--updatedAtText--z05FL text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,el.tx)("dev_handoff.overview_mode.design_status",{fromNow:v,status:b}))),n.createElement("div",{className:"overview--overviewNodeCardHeaderRight--wRNMN"},n.createElement(k.K,{"aria-label":(0,el.t)("dev_handoff.workflows.more_actions_tooltip"),ref:E,onClick:()=>y.toggle(),htmlAttributes:{"data-tooltip":(0,el.t)("dev_handoff.workflows.more_actions_tooltip"),"data-tooltip-type":eA.Ib.TEXT}},n.createElement(F.J,null)),y.showing&&E.current&&n.createElement(eM.Cf,{targetRect:E.current.getBoundingClientRect(),minWidth:180,lean:"left"},n.createElement(J.c$,{onClick:()=>g("Dev Mode Overview Card Go To Canvas Clicked",o,m)},(0,el.tx)("dev_handoff.workflows.overview.show_on_page_action")),n.createElement(J.c$,{onClick:h},(0,el.tx)("dev_handoff.status.copy_focus_link"))),n.createElement(eo.v,{nodeId:o,isMinimal:!0,sourceForLogging:"overview"})))}function tG({overviewNode:e,onClick:t,user:a}){let{description:l,nodeId:i,hasBeenEditedSinceLastStatusChange:o}=e,s=(0,eU.VW)(e.nodeId),c=(0,r.d4)(e=>(0,eI.Np)(e,s));return n.createElement(n.Fragment,null,n.createElement("div",{className:"overview--overviewAvatarRowMediaQueryHeader--nigbr"},n.createElement("div",{className:"overview--overviewRecentActivityHeader--sPkSZ"},o?n.createElement(to,{nodeId:i,user:a,previewUrl:c,isFallbackForLegacyStatus:e.isFallbackForLegacyStatus,onClick:t}):n.createElement(ts,{nodeId:i,user:a,description:l,previewUrl:c,isFallbackForLegacyStatus:e.isFallbackForLegacyStatus,onClick:t}))))}function tV({overviewNode:e,onPreviewClick:t,renderPageName:a,users:l,nodeCount:i}){let o=(0,r.wA)(),s=(0,W.U)(),{nodeId:c,pageId:u,updatedAt:m}=e,p=(0,eU.VW)(c),_=(0,r.d4)(e=>(0,eI.Np)(e,p)),[f]=(0,d.fp)(tM),h=f===ty._6.RECENT&&m>1,[,g]=(0,d.fp)(ty.wz),E=l.usersById?.[e.userId],y=h&&(l.loading||E);function v(e){e.preventDefault(),s("Dev Mode Overview Card Clicked",{nodeId:c}),g("overview"),t(),o(ed.$T(p))}return n.createElement("div",{className:"overview--overviewNodeCard--NsmYU"},y&&n.createElement(tG,{overviewNode:e,onClick:v,user:E}),n.createElement("div",{className:"overview--previewContainer--5NeGg"},n.createElement(tH,{overviewNode:e,onClick:v,renderPageName:a,showLastUpdated:!y}),n.createElement(tz,{nodeId:c,pageId:u,updatedAt:m,previewUrl:_,onClick:v,nodeCount:i})))}function tz({nodeId:e,pageId:t,updatedAt:a,previewUrl:r,onClick:i,nodeCount:o}){let s=function(e,t){let a=function(e){let t=(0,ek.Fk)(t=>t.get(e)?.backgroundColor);return t?eu.F.format(t):"var(--color-bg)"}(t),n=l.w3z.backgroundColorOverride(e);return n?eu.F.format((0,e_.aH)(n)):a}(e,t),c=(0,ek.Fk)(t=>t.get(e)?.size),u=1+(5-5*Math.pow(Math.min(1,Math.max(0,Math.max(c?1-(tx-c.x)/tx:1,c?1-(tk-c.y)/tk:1))),.5)),m=c?{width:c.x*u,height:c.y*u}:{width:tS,height:tN},p=Math.min(1,Math.min(tS/m.width,tN/m.height)),_={width:Math.round(m.width*p),height:Math.round(m.height*p)},f=n.useRef(null),h=(0,eS.x)(f,"100%"),g=(0,eh.yh)({nodeId:e,width:_.width,height:_.height,shouldSkip:!h,version:a,reason:"workflows.overview.thumbnail",regenerateAfterImagesLoaded:!0,isDevModeBlendedSection:l.w3z.canBeBlendedSection(e)}),E=function(){let[e,t]=(0,d.fp)(tE),[a]=(0,d.fp)(tg),r=(0,W.U)();return n.useCallback(n=>{if(!e&&a){t(!0);let e=th.stop();r(tf,{nodeCount:n,source:a.source,elapsedMs:e},{forwardToDatadog:!0})}},[e,t,a,r])}();return n.useEffect(()=>{g&&E(o)},[g,E,o]),n.createElement("a",{ref:f,className:H()("overview--previewThumbnail--zofC5",e6),style:{background:s},onClick:i,href:r},g&&n.createElement("img",{src:g.src,style:{maxWidth:g.displaySize.x,maxHeight:g.displaySize.y},alt:(0,el.t)("dev_handoff.nodes_panel.thumbnail_alt_text")}),n.createElement("div",{className:"overview--previewExpandIcon--nqhxn","data-preferred-theme":"dark","data-tooltip":(0,el.t)("dev_handoff.workflows.overview.card_hover_expand_tooltip"),"data-tooltip-type":"text"},n.createElement(B.O,null)))}let tK=new class{format(e){switch(e){case ty._6.PAGE:return(0,el.t)("dev_handoff.workflows.overview.sort_pages");case ty._6.RECENT:return(0,el.t)("dev_handoff.workflows.overview.sort_recent");case ty._6.ALPHABETICAL:return(0,el.t)("dev_handoff.workflows.overview.sort_alphabetical")}}};function tW({sortedBy:e,setSortedBy:t}){let a=(0,r.wA)(),l=(0,eE.Um)();return n.createElement(eP.l6,{dispatch:a,property:e,id:"DEV_MODE_OVERVIEW_SORT_DROPDOWN",onChange:t,formatter:tK,dropdownShown:l,className:"overview--sortDropdownButtonContainer--rL8cS",inputClassName:"overview--sortDropdownButton--Doetn text--fontPos11--2LvXf text--_fontBase--QdLsd",dropdownWidth:180,dropdownAlignment:"right",neverConstrain:!0},n.createElement(eP.c$,{formattedValue:(0,el.t)("dev_handoff.workflows.overview.sort_by"),additionalStylesClassName:"overview--sortByOption--rjLiK",isHeader:!0,ignoreCheck:!0}),Object.values(ty._6).map(t=>n.createElement(eP.c$,{key:t,value:t,selected:e===t,fullWidth:!0})))}function tj(){return n.createElement("button",{"data-editor-theme":"dev-handoff",onClick:()=>K.Ay.unsafeRedirect("https://form.asana.com/?k=dyYqSpHdZqetESFQzNb8hQ&d=10497086658021","_blank"),className:"overview--betaFeedbackBadge--PUv9s text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,el.tx)("dev_handoff.workflows.overview.feedback"),n.createElement(en.B,{className:"overview--badgeIcon--rKOUQ",svg:tC.A}))}var tZ=a(521033),tY=a(592096),tX=a(506599),tq=a(243742),tJ=a(988022),tQ=a(974105),t$=a(356390),t0=a(373119),t1=a(369870),t2=a(396697),t5=a(536651),t3=a(601978),t4=a(760640),t6=a(809511),t7=a(488983),t8=a(737499),t9=a(770333),ae=a(85098),at=a(698993),aa=a(69961),an=a(336599),ar=a(428467),al=a(939562),ai=a(776615),ao=a(400466),as=a(402609),ac=a(720750),ad=a(293017),au=a(101505),am=a(456104),ap=a(696673),a_=a(833629),af=a(397065),ah=a(740280),ag=a(864114),aE=a(756159),ay=a(463546),av=a(455263);function ab(){let e=(0,ep.GS)(),{isShowing:t,complete:a,show:i}=(0,am.e)({overlay:ay.N5c,priority:af.N.SECONDARY_MODAL}),o=(0,r.wA)(),s=(0,ey.aV)(),c=!!(0,ej.f)("ui_kits_intro_tooltip"),u=!!(0,ej.f)("seen_explore_ui_kits_blue_tooltip"),{hasAnyUiKit:m}=(0,ap.I7)(),p=(0,d.md)(aE.Cl),_=(0,a_.jO)(),f=(0,av.t)(),h=ev.q5()?.canEdit,g=(0,r.d4)(e=>e.leftPanel.activeTab===l.xae.LAYERS);return(n.useEffect(()=>{!h||!m||p||c||u||!_||s||f||!g||t||i()},[i,h,m,c,u,_,s,f,t,p,g]),n.useEffect(()=>{!g&&t&&a()},[g,t,a]),t)?n.createElement(ah.X,{isShowing:t,title:(0,el.tx)("rcs.ui_kits.jump_start_your_designs_with_ui_kits"),description:(0,el.tx)("rcs.ui_kits.grab_pre_built_ui",{strongAssets:n.createElement("strong",{style:{display:"contents"}},(0,el.tx)("design_systems.assets_panel.assets"))}),primaryCta:{label:(0,el.tx)("rcs.presets_baseline.try_it"),type:"button",onClick:()=>{o(ad.FP({tab:l.xae.ASSETS})),a()},ctaTrackingDescriptor:au.c.PRESETS_TRY_IT},position:e?ag.Q.UI3_EDITOR_TOP_LEFT:ag.Q.EDITOR_TOP_LEFT,trackingContextName:"UI Kits Intro Tooltip",userFlagOnShow:"ui_kits_intro_tooltip",onClose:()=>{o(eK.b({seen_explore_ui_kits_blue_tooltip:!0})),a()}}):null}var aC=a(129318),aw=a(895123),aT=a(601538),aS=a(864089),aN=a(799569),ax=a(135876),ak=a(47506),aI=a(410424),aA=a(777078),aL=a(106112);let aO="starting_points_templates_modal--templateOption--qYXkm",aR="starting_points_templates_modal--templateOptionTitle--DmVPR",aM="starting_points_templates_modal--verticalTemplateImage--kAzQz";var aD=a(630834);function aP({onClose:e}){let{insertTemplate:t}=(0,aA.Fz)(),a=(0,r.wA)(),[l,i]=n.useState(!1);if(!(0,c.kc)().starting_points_modal)return null;let o=(0,c.Ay)().starting_points,s=n=>{i(!0);let r=null;switch(n){case"basics":r=o?.figma_basics_hub_file_id;break;case"desktop":r=o?.desktop_templates_hub_file_id;break;case"mobile":r=o?.mobile_templates_hub_file_id;break;case"website":r=o?.website_templates_hub_file_id}r&&a(aI.ts({hubFileId:r,callback:async a=>{await t({template:{template:a,type:aL.n.HubFile},userTriggered:!1,editScopeType:t6.zkO.ONBOARDING,triggeredFrom:"starting-points",templateInsertionDirection:t6.hKj.RIGHT}),"basics"===n&&(0,ak.YQ)({id:"starting_points_learn_the_basics_clicked"}),e(),i(!1)}}))},d=n.createElement(eW.$z,{onClick:()=>s("basics"),trackingProperties:{trackingDescriptor:au.c.LEARN_THE_BASICS}},(0,el.tx)("starting_points.learn_the_basics"));return n.createElement(eW.fu,{name:"Starting Points Modal"},n.createElement("div",{className:"starting_points_templates_modal--startingPointsTemplatesModalPositioner--R8g3u"},n.createElement(ax.x,{isLoading:l},()=>n.createElement("div",{className:"starting_points_templates_modal--startingPointsTemplatesModal--dUQte"},n.createElement("div",{className:"starting_points_templates_modal--modalInstructions--ZtdTL"},n.createElement("div",{className:"starting_points_templates_modal--modalTitle--HT3eZ"},(0,el.t)("starting_points.what_do_you_want_to_make_today")),n.createElement("div",{className:"starting_points_templates_modal--modalLearnMore--g-GWo"},(0,el.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:d}))),n.createElement("div",{className:"starting_points_templates_modal--optionContainer--mYEsG"},n.createElement(eW.$z,{className:aO,onClick:()=>s("website"),trackingProperties:{trackingDescriptor:au.c.WEBSITE_TEMPLATES}},n.createElement("div",{className:aR},(0,el.t)("starting_points.website")),n.createElement(aS.oW,{className:aM,src:"https://static.figma.com/uploads/9b8475fdab7c1ed3cd1c0d16b957d65a80840b74",alt:"Website template"})),n.createElement(eW.$z,{className:aO,onClick:()=>s("mobile"),trackingProperties:{trackingDescriptor:au.c.MOBILE_APP_TEMPLATES}},n.createElement("div",{className:aR},(0,el.t)("starting_points.mobile_app")),n.createElement(aS.oW,{className:aM,src:"https://static.figma.com/uploads/b262e57bed515b9f0da45ae54fa43824d9704c14",alt:"Mobile app template"})),n.createElement(eW.$z,{className:aO,onClick:()=>s("desktop"),trackingProperties:{trackingDescriptor:au.c.DESKTOP_APP_TEMPLATES}},n.createElement("div",{className:aR},(0,el.t)("starting_points.desktop_app")),n.createElement(aS.oW,{className:"starting_points_templates_modal--desktopTemplateImage--3kplg",src:"https://static.figma.com/uploads/cb2f715253dacb4e7d3fb211ff2792fc28a38832",alt:"Desktop app template"}))),n.createElement("div",{className:"starting_points_templates_modal--modalLearnMoreFooter--pSvfX"},(0,el.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:d})),n.createElement(aN.Jn,{className:"starting_points_templates_modal--closeButton--io-14",onClick:e,innerText:"close",svg:aD.default})))))}function aF(){let e=(0,r.wA)(),t=!(0,ej.f)("not_gen_0"),a=(0,ej.f)("dismissed_starting_points_templates_modal"),l=(0,d.md)(aw.z),i=(0,c.Ay)().starting_points,{show:o,isShowing:s,complete:u}=(0,am.e)({overlay:ay.EYw,priority:af.N.OVERRIDING_MODAL+1});return(n.useEffect(()=>{let e=!!(0,c.kc)().starting_points_modal,n=(0,aC.QL)(aT.E_.key)===aT.E_.value;s||o({canShow:()=>e&&!!t&&!a&&(l||n)&&!!i})},[s,o,t,l,a,i]),s)?n.createElement(aP,{onClose:()=>{e(eK.b({dismissed_starting_points_templates_modal:!0})),u()}}):null}var aB=a(574310),aU=a(314766),aH=a(153234),aG=a(768137),aV=a(75224),az=a(154483),aK=a(175290),aW=a(912666),aj=a(173454),aZ=a(184027),aY=a(704762),aX=a(761334),aq=a(746806),aJ=a(927990),aQ=a(502242);function a$({initialPosition:e,initialVariableValue:t,initialView:a,inheritStyleKeyField:r,initialStyleCreationPaint:l,resolvedType:i,recordingKey:o,onCreateStyleSubmit:s,onCreateVariableSubmit:c,onClose:d,disableStyleModal:u}){let[m,p]=aU.tU.useTabs({createVariable:!0,createStyle:!0},{recordingKey:aH.Pt(o,"viewTabs"),defaultActive:()=>(function(e){let t=["createVariable","createStyle"];return e&&t.includes(e)?e:t[0]})(a)});return n.createElement(aq.vx,{title:n.createElement(aU.tU.TabStrip,{manager:p},!u&&n.createElement(aU.tU.Tab,{...m.createStyle},(0,el.tx)("design_systems.create_style.style")),n.createElement(aU.tU.Tab,{...m.createVariable},(0,el.tx)("variables.create_modal.title"))),initialPosition:e,initialWidth:aY.iG,onClose:d},n.createElement(aU.tU.TabPanel,{...m.createVariable},n.createElement(aY.Ty,{resolvedType:i,initialValue:t,recordingKey:aH.Pt(o,"createVariableForm"),onSubmit:c})),n.createElement(aU.tU.TabPanel,{...m.createStyle},n.createElement(a0,{inheritStyleKeyField:r,initialStyleCreationPaint:l,recordingKey:"createStyleModal",onSubmit:s})))}function a0({inheritStyleKeyField:e,initialStyleCreationPaint:t,recordingKey:a,onSubmit:l}){let i=(0,r.d4)(e=>e.mirror.selectedStyleProperties),o=(0,r.d4)(e=>e.mirror.sceneGraphSelection),s=n.useRef(Object.keys(o).length>0),c=(0,aW.sg)(e),{styleRef:d,createStyle:u}=(0,aJ.u)({inheritStyleKeyField:e,initialStyleCreationPaint:t,isCreatingFromSelection:s.current,trackingOptions:{styleType:c}}),m=aH.of(a,"submit",()=>{u(),l(d)});return i.styleType?n.createElement(n.Fragment,null,n.createElement(aZ.zK.Provider,{value:aZ.zM.CREATE_VARIABLE_STYLE},n.createElement(aQ.O8,{type:i.styleType,recordingKey:a,isInspectPanel:!1,selectedStyleProperties:i,showProperties:!0,onEnterPressed:m}),n.createElement(aK.Y,{horizontalAlignItems:"end",verticalAlignItems:"center",padding:16},n.createElement(aG.$$,{style:{justifySelf:"right"},onClick:m,disabled:!d},(0,el.tx)("design_systems.create_style.create_style"))))):null}var a1=a(716253),a2=a(621945),a5=a(228739),a3=a(302717),a4=a(935283),a6=a(572206),a7=a(46481),a8=a(719269),a9=a(992271),ne=a(862442),nt=a(341860),na=a(457630),nn=a(155300),nr=a(94500),nl=a(206074),ni=a(7959),no=a(816660),ns=a(765165),nc=a(914205);let nd="hit-target-resize";function nu(e){let t=a9.hY[e.devicePresetIdentifier].inlinePreviewInfo?.hitTargetSvgUrl,[a,r]=n.useState(null);(0,n.useEffect)(()=>{fetch(t).then(e=>e.text()).then(e=>r(e)).catch(()=>console.warn("Failed to fetch hit target SVG. Falling back to rectangular resize boundary."))},[t]);let l=n.useMemo(()=>a?(0,en.V)(a):null,[a]);return null!==l?n.createElement(nm,{...e,hitTargetSvg:l}):n.createElement(ns.K,{...e})}function nm({resizeTo:e,getCurrentContainerBounds:t,lockAspectRatio:a,isResizing:r,setIsResizing:l,onResizeEnd:i,setResizeDirections:o,devicePresetIdentifier:s,isDeviceRotatedCCW:c,hitTargetSvg:d,hidden:u,recordingKey:m}){let p=n.useCallback(()=>{let e=t(),a=(16/((c?e.bottom-e.top:e.right-e.left)/a9.hY[s].imageSize.x)).toFixed(2);document.querySelectorAll(`[id^=${nd}]`).forEach(e=>e.setAttribute("stroke-width",`${a}`))},[s,c,t]);(0,n.useEffect)(()=>{p()},[p]);let _=n.useCallback(()=>{p(),i?.()},[i,p]),{startResizing:f}=(0,ns.Q)({resizeTo:e,getCurrentContainerBounds:t,isResizing:r,setIsResizing:l,setResizeDirections:o,onResizeEnd:_,lockAspectRatio:a,hidden:u,recordingKey:m}),h=n.useRef(null),g=n.useRef(null),E=n.useMemo(()=>(0,a9.qt)(s)===a9.bq.WATCH,[s]),y=n.useCallback(e=>{let t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientY-t.top;return E?n_({x:a,y:n},t):np({x:a,y:n},t)},[E]),v=aH.rf(m,"mousedown",n.useCallback(e=>{e.stopPropagation(),e.preventDefault(),f(y(e),{x:e.clientX,y:e.clientY})},[y,f]),{recordMetadata:e=>{let t=e.currentTarget;return{clientX:e.clientX,clientY:e.clientY,svgElementId:t.id}},playbackMetadata:e=>({currentTarget:document.querySelector(`#${e.svgElementId}`),clientX:e.clientX,clientY:e.clientY})}),b=aH.rf(aH.Pt(m,"deviceFrameResizeTarget"),"mousemove",n.useCallback(e=>{if(r)return aH.aH;e.stopPropagation(),e.preventDefault();let t=y(e),a=e.currentTarget;g.current&&a.classList.remove(g.current);let n=(0,no.as)(t);n&&a.classList.add(n),g.current=n},[y,r]),{recordMetadata:e=>{let t=e.currentTarget;return{clientX:e.clientX,clientY:e.clientY,svgElementId:t.id}},playbackMetadata:e=>({currentTarget:document.querySelector(`#${e.svgElementId}`),clientX:e.clientX,clientY:e.clientY})}),C=n.useCallback(e=>{e.onmousemove=b,e.onmousedown=v},[v,b]);return((0,n.useEffect)(()=>{document.querySelectorAll(`[id^=${nd}]`).forEach(e=>C(e))},[s,C]),u)?null:c?(()=>{let e=a9.hY[s].imageSize,t=e.x/e.y;return n.createElement("div",null,n.createElement(en.B,{svg:d,svgClassName:H()(nc.Q0,nc._d,nc.iZ),svgWidth:`${100*t}%`,ref:h,useOriginalSrcFills_DEPRECATED:!0}))})():n.createElement("div",null,n.createElement(en.B,{svg:d,svgClassName:nc.iZ,ref:h,useOriginalSrcFills_DEPRECATED:!0}))}let np=(e,t)=>{let{x:a,y:n}=e,r=.1*Math.min(t.width,t.height),l=[];return n<r?l.push(no.OP.TOP):n>t.height-r&&l.push(no.OP.BOTTOM),a<r?l.push(no.OP.LEFT):a>t.width-r&&l.push(no.OP.RIGHT),l},n_=(e,t)=>{let{x:a,y:n}=e,r=.1*t.width;if(n<r)return[no.OP.TOP];if(n>t.height-r)return[no.OP.BOTTOM];if(a<r)return[no.OP.LEFT];if(a>t.width-r)return[no.OP.RIGHT];let l=[];return n<t.height/2?l.push(no.OP.TOP):l.push(no.OP.BOTTOM),a<t.width/2?l.push(no.OP.LEFT):l.push(no.OP.RIGHT),l};var nf=a(144119),nh=a(223556),ng=a(705940),nE=a(371435),ny=a(744108),nv=a(523931),nb=a(999918),nC=a(39004),nw=a(717682),nT=a(885722),nS=a(323322),nN=a(479991),nx=a(503618),nk=a(844076),nI=a(122975);let nA={x:600,y:600},nL="inlinePreviewModal",nO=e=>{let t=(0,na.MG)({subscribeToUpdates_expensive:!0}),a=(0,na.TZ)({subscribeToUpdates_expensive:!0}),r=(0,eO.GQ)()+a1.gN;return(0,n.useMemo)(()=>e?new a6.Mi(t+r+a1.wR,a+a1.gN):new a6.Mi(t+a1.wR,a+a1.wR),[e,t,a,r])},nR=n.memo(function({pageId:e,viewerControl:t}){let[{previewKeyForErrorBoundary:a},r]=(0,d.fp)(t.stateAtom);return n.createElement(p.tH,{key:a,boundaryKey:"InlinePreviewModal",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{if((0,V.sx)("inline_preview_crashed",{},{forwardToDatadog:!0}),r({type:"HANDLE_PREVIEW_CRASHED"}),(0,m.Lg)()||(0,m.nl)()||(0,c.b5)())throw Error("Inline preview crashed")}},n.createElement(nM,{pageId:e,viewerControl:t}))}),nM=n.memo(function({pageId:e,viewerControl:t}){let a=n.useRef(null),i=(0,ep.GS)(),o=(0,r.d4)(e=>e.openFile?.key),c=(0,n.useRef)(!1),[{currentPresentedNode:u,navigateBackwardEnabled:m,navigateForwardEnabled:p,modalStatus:_,sizeInfo:f,showDeviceFrameEnabled:h,scalingInfo:g},E]=(0,d.fp)(t.stateAtom),y=(0,r.wA)(),v=(0,ey.eY)(),b=(0,n.useMemo)(()=>_===nE.b.OPEN,[_]),C=f?.initialViewerSize??nA,w=(0,s.ZC)(C),T=nO(i),[S,N]=n.useState(T),[x,k]=n.useState(C.x),[I,A]=n.useState(C.y+no.uF),L=nt.q.instance.getCurrentPage()?.prototypeDevice||null,O=L?.presetIdentifier,R=!!O&&(0,a9.L_)(O),M=b&&R&&h,{showing:D}=(0,eE.BK)(t.overflowDropdownType),P=(0,ne.Z)(),F=(0,ex.J2)(l.Ez5.singleSlideView().isInSingleSlideView),[B,U]=n.useState(!1),G=n.useCallback(()=>{U(!0),t$.Y5.triggerAction("inline-preview-iframe-focus-state-changed",{isFocused:!0})},[U]),V=(0,nf.sO)(),K=B||D?nv.cD:nv.Xt,W=n.useCallback(e=>{y((0,nr.Zh)({name:"prototype.close_inline_viewer",params:{source:e}})),E({type:"CLOSE_INLINE_PREVIEW"})},[y,E]),j=n.useCallback(()=>((0,a4.vA)(!!I),(0,a4.vA)(!!x),{x:x,y:I-no.uF}),[I,x]),Z=n.useCallback(e=>{k(e.x),A(e.y+no.uF)},[k,A]),Y=n.useCallback(()=>{let e=j();if(!M)return e;(0,a4.B1)(O,"devicePresetIdentifier must be set");let t=L.rotation,{framePresetSize:a,idealDeviceSize:n}=(0,nh.is)(O,t);return(0,nh.BX)(e,a,n)},[O,j,M,L?.rotation]);n.useEffect(()=>{c.current||N(T)},[T]),n.useEffect(()=>{E({type:"SET_CURRENT_VIEWER_SIZE_CALLBACK",payload:Y})},[E,Y]);let X=n.useMemo(()=>f?.breakpoint?.type!==a1.l5.DEVICE,[f]),q=n.useCallback(e=>{if(!X)return;let t=Y();(0,a4.vA)(!!u,"currentPresentedNode must be set");let a=v.get(u);(0,a4.vA)(!!a,"expected selectedNode to exist");let n=(0,a1.HS)(v,a),r=(0,a1.hX)(t,a,n,v);(0,a4.vA)(r.breakpoint.type!==a1.l5.DEVICE,"fit to aspect ratio not allowed for device"),Z(r.initialViewerSize),y((0,nr.Zh)({name:"prototype.resize_to_fit_aspect_ratio",params:{source:e}}))},[X,Y,u,v,Z,y]),J=()=>{if(!u)return!1;let e=!1;if(M){let{idealDeviceSize:t}=(0,nh.is)(O,L.rotation);e=t.x>=a1.Fe&&t.y>=a1.Sq}else{let t=v.get(u);if(!t)return!1;let a=(0,a1.HS)(v,t),n=(0,a1.nw)(a,t);e=n.x>=a1.Fe&&n.y>=a1.Sq}return e},Q=n.useCallback(e=>{E({type:"SET_PREVIEW_IS_RESPONSIVE",payload:e})},[E]),$=n.useCallback(()=>{E({type:"RESIZE_MODAL",payload:{sceneGraph:v}})},[E,v]),ee=n.useCallback(e=>{if(e){let t=(0,na.QZ)({nodeId:e,alwaysPan:!0,maxScale:.6});V?_===nE.b.OPEN&&(P(t),F&&l.Ez5.singleSlideView().focusSlideInSingleSlideView(e,!0)):P(t)}},[P,V,F,_]);n.useEffect(()=>{E({type:"SET_SCROLL_CALLBACK",payload:ee})},[E,ee]);let et=n.useCallback(e=>{Z({x:e.x,y:e.y+(0,z.jz)(tb.m8f)})},[Z]),ea=n.useMemo(()=>{if(M&&a9.hY[O].inlinePreviewInfo?.hitTargetSvgUrl)return function(e){let t=L.rotation===l.xOL.CCW_90;return n.createElement(nu,{...e,mirrorResizeHorizontally:!1,devicePresetIdentifier:O,isDeviceRotatedCCW:t})}},[M,O,L?.rotation]),en=n.useCallback(e=>{(0,a4.vA)(f?.breakpoint.type===a1.l5.DEVICE,"device must be set to toggle device frame"),(0,a4.vA)(!!L,"prototypeDevice must be set to toggle device frame");let t=Y();if(e){let e=L.presetIdentifier,{idealDeviceSize:a,framePresetSize:n}=(0,nh.is)(e,L.rotation);et((0,nh.Ho)(t,n,a))}else Z(t)},[f?.breakpoint.type,L,Y,Z,et]);(0,a4.vA)(!b||null!==f,"sizeInfo should always be set when open"),n.useLayoutEffect(()=>{if(w!==C){if(M){let{idealDeviceSize:e,framePresetSize:t}=(0,nh.is)(O,L.rotation);et((0,nh.Ho)(C,t,e))}else Z(C)}},[C,w,O,M,L,et,Z]),n.useEffect(()=>{O&&(0,a9.L_)(O)&&(0,a9.Gn)(O)},[O]);let er=n.useCallback(()=>{let e=j(),{width:t,height:a}=t$.Y5.getViewportInfo(),n=e.x/t,r=e.y/a;y((0,nr.Zh)({name:"prototype.inline_preview_manually_resized",params:{isDeviceFrameShown:M,horizontalCoverage:n,verticalCoverage:r}}))},[y,j,M]),el=(0,n.useMemo)(()=>{let e={height:"100%"};return i&&!M?{...e,borderBottomLeftRadius:"var(--radius-small)",borderBottomRightRadius:"var(--radius-small)"}:e},[M,i]);if(_===nE.b.NOT_LOADED)return null;let ei=H()(V?nv.CN:nv.aq,M?null:K),eo=H()(M?[K,nc.k9]:null,{[nv.FO]:V}),{x:es,y:ec}=(0,a1.ut)(nt.q.instance,!0),ed=!b||!f?.initialViewerSize;return n.createElement(aq.BL,{position:S,setPosition:N,width:x,setWidth:k,height:I,setHeight:A,recordingKey:nL,ignoreCloseShortcut:!b,title:n.createElement(nP,{navigateBackwardEnabled:m,navigateForwardEnabled:p,width:x,onBack:t.onBack,onForward:t.onForward,onRestart:t.onRestart}),tabIndex:0,onFocus:()=>{t.onFocus()||G()},onEdgeDoubleClick:()=>q("double_click"),onResize:$,onResizeEnd:er,onClose:()=>{W("modal")},onDragStart:()=>c.current=!0,hidden:ed,frameStyle:el,transparentContentBackground:M,containerClassName:ei,containerFillsPage:V,headerClassName:eo,minHeight:ec,minWidth:es,preventKeyboardFocus:!0,allowResizeHeight:B&&!V,allowResizeWidth:B&&!V,disableDragging:V,alwaysEnsureHeaderModalOnScreen:!0,allowPartialHeaderOnScreen:!0,makeContentPixelPerfect:!0,dragHeaderOnly:!0,lockAspectRatio:f?.breakpoint?.type===a1.l5.DEVICE,customButton:n.createElement(nD,{viewerControl:t,allowSizeReset:X,allowActualSizeReset:J(),isPrototypeDeviceSet:!!L&&L.type!==l.XQq.NONE,isPreviewFittedToAspectRatio:()=>{if(!u||!X)return!1;let e=v.get(u);if(!e)return!1;let t=Y(),a=(0,a1.HS)(v,e),n=(0,a1.hX)(t,e,a,v),r=t.x/t.y,l=n.initialViewerSize.x/n.initialViewerSize.y;return(0,nn.o)(r,l)},isDeviceSupportedForPreview:R,openFileKey:o,showOverflow:!V,showFullscreenButton:V,iframeRef:a,resizeToFitAspectRatio:()=>q("overflow_menu"),scrollToNode:ee,resizeToActualSize:()=>{if(!J())return;(0,a4.vA)(!!u),(0,a4.vA)(!!f);let e=v.get(u);(0,a4.vA)(!!e),y((0,nr.Zh)({name:"prototype.resize_to_actual_size"}));let t=M?(0,nh.is)(O,L.rotation).idealDeviceSize:(0,a1.nw)(f.breakpoint,e),a=(e,t)=>{Z(e),N(new a6.Mi(t.x,t.y))},n=j();(0,a1.UB)(t,y,()=>a(n,S)),Z(t)},isPreviewShownAtActualSize:()=>{if(!u||!a.current)return!1;let e=v.get(u);if(!e||!f?.breakpoint)return!1;let t=M?(0,nh.is)(O,L.rotation).framePresetSize:(0,a1.nw)(f.breakpoint,e),n=Y();return(0,nn.o)(t.x,n.x,1e-4)&&(0,nn.o)(t.y,n.y,1e-4)},setPreviewIsResponsive:Q,isPreviewResponsive:"responsive"===g.contentScalingMode,closeInlinePreview:W,onToggleShowDeviceFrame:en,width:x}),ResizeTargetComponent:ea},(()=>{let r=t.ViewerComponent;return n.createElement(ng.H,{initialViewerSize:C,isDeviceFrameShown:M},n.createElement(r,{ref:a,key:e,pageId:e,openFileKey:o,closeInlinePreview:W,isOpen:b,iframeFocused:B,setIframeFocused:U,onIframeFocus:G}))})())});function nD({allowSizeReset:e,allowActualSizeReset:t,isPrototypeDeviceSet:a,isDeviceSupportedForPreview:i,openFileKey:o,resizeToFitAspectRatio:s,scrollToNode:c,showOverflow:u,showFullscreenButton:m,iframeRef:p,resizeToActualSize:_,isPreviewShownAtActualSize:f,setPreviewIsResponsive:h,isPreviewResponsive:g,closeInlinePreview:E,onToggleShowDeviceFrame:y,width:v,isPreviewFittedToAspectRatio:b,viewerControl:C}){let w=(0,r.wA)(),T=n.useRef(null),[{currentPresentedNode:S,targetFrameFollowingEnabled:N,showDeviceFrameEnabled:x},k]=(0,d.fp)(C.stateAtom),{showing:I,toggle:A}=(0,eE.BK)(C.overflowDropdownType),L=n.useCallback(()=>{if(!o)throw Error("Expected openFileKey to exist");if(!S)throw Error("openPrototypeInNewTab called without currentPresentedNode");w(a8.F({fileKey:o,nodeId:S,startingPointNodeId:l.X3B.getActivePrototypeStartingPointNodeIdOnCurrentPage(),source:"inline_viewer",scalingInfo:g?a?{contentScalingMode:"responsive",viewportScalingMode:"scale-down"}:{contentScalingMode:"responsive",viewportScalingMode:"contain"}:void 0})),E("open_in_new_tab")},[o,S,w,g,a,E]),O=n.useCallback(()=>{let e=!N;w((0,nr.Zh)({name:"prototype.toggle_follow_previewed_frame",params:{enabled:e}})),k({type:"TOGGLE_TARGET_FRAME_FOLLOWING"}),c(S)},[w,k,N,c,S]),R=n.useCallback(()=>{let e=!x;w((0,nr.Zh)({name:"prototype.toggle_show_device_frame",params:{enabled:e,location:"preview"}})),k({type:"TOGGLE_SHOW_DEVICE_FRAME"}),y(e)},[w,x,y,k]),M=n.useCallback(()=>{let r={displayText:(0,el.t)("inline_preview.overflow_menu.responsive"),name:"responsive",recordingKey:"responsiveButton",callback:()=>{h(!0)},isChecked:g,icon:n.createElement(a7.U,{svg:nk.A,className:ny.Fp},n.createElement(a2.V,null)),unsetStrokeOnActiveOption:!0},l={displayText:i?(0,el.t)("inline_preview.overflow_menu.fixed"):(0,el.t)("inline_preview.overflow_menu.fit_width"),name:i?"fixed":"fit-width",isChecked:!g,recordingKey:"fixedButton",icon:i?n.createElement(a7.U,{svg:nN.A,className:ny.Fp},n.createElement(a5.O,null)):n.createElement(a7.U,{svg:nx.A,className:ny.Fp},n.createElement(a3.v,null)),callback:()=>{h(!1)},unsetStrokeOnActiveOption:!0},o={displayText:(0,el.t)("inline_preview.overflow_menu.follow_prototype"),name:"follow-active-frame",recordingKey:"followActiveFrame",callback:O,isChecked:N},c={displayText:i?(0,el.t)("inline_preview.overflow_menu.resize_device_100_percent"):(0,el.t)("inline_preview.overflow_menu.resize_window_100_percent"),name:"actual-size",recordingKey:"actualSizeButton",callback:_,disabled:!t,isChecked:f(),"data-onboarding-key":"resize-to-actual-size"},d={displayText:(0,el.t)("inline_preview.overflow_menu.reset_aspect_ratio"),name:"reset-size",recordingKey:"resetSizeButton",callback:s,isChecked:b(),disabled:!e,hidden:a},u={displayText:(0,el.t)("inline_preview.overflow_menu.show_device_frame"),name:"show-device-frame",recordingKey:"showDeviceFrame",callback:R,isChecked:x&&i,disabled:!i,hidden:!a};return[i?r:l,i?l:r,{separator:!0,displayText:""},o,c,d,u,{displayText:(0,el.t)("inline_preview.new_tab"),recordingKey:"openInNewTabButton",name:"open-in-new-tab",callback:L,hidden:v>a1.kl}]},[g,i,O,N,_,t,f,s,b,e,a,R,x,L,v,h]),D=n.useCallback(()=>{p.current&&p.current.requestFullscreen()},[p]);return n.createElement(n.Fragment,null,u&&n.createElement("div",{ref:T},n.createElement(ni.K0,{svg:nb.A,"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":(0,el.t)("inline_preview.overflow_menu"),onMouseDown:e=>{e.stopPropagation(),A(e)},recordingKey:(0,aH.Pt)(nL,"overflowMenuButton")})),v>a1.kl&&n.createElement(ni.K0,{svg:nC.A,"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":(0,el.t)("inline_preview.new_tab"),onClick:L,recordingKey:(0,aH.Pt)(nL,"openInNewTabButton"),dataTestId:"preview-open-in-presentation-view"}),m&&n.createElement(ni.K0,{svg:nI.A,onClick:D,"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":(0,el.t)("inline_preview.open_fullscreen")}),I&&T.current&&n.createElement(nl.j,{dispatch:w,parentRect:T.current.getBoundingClientRect(),onFocus:e=>{e.stopPropagation()},onDismissMenu:C.onDismissOverflow,onDropdownHidden:C.onDismissOverflow,showPoint:!0,lean:"center",onSelectItem:e=>{e.callback&&e.callback()},recordingKey:(0,aH.Pt)(nL,"overflowMenu"),items:M()}))}function nP({navigateForwardEnabled:e,navigateBackwardEnabled:t,onRestart:a,width:l,onBack:i,onForward:o}){let s=(0,r.wA)();return n.createElement("div",{className:nv.KW},l<=a1.Ah?null:n.createElement(n.Fragment,null,n.createElement(ni.K0,{svg:nS.A,tooltipForScreenReadersOnly:!0,"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":(0,el.t)("viewer.footer.previous_frame"),onClick:i,disabled:!t,recordingKey:(0,aH.Pt)(nL,"navigateBackwardButton"),dataTestId:"preview-navigate-backward"}),n.createElement(ni.K0,{svg:nT.A,tooltipForScreenReadersOnly:!0,"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":(0,el.t)("viewer.footer.next_frame"),onClick:o,disabled:!e,recordingKey:(0,aH.Pt)(nL,"navigateForwardButton"),dataTestId:"preview-navigate-forward"})),l<=a1.kl?null:n.createElement(ni.K0,{svg:nw.A,"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":(0,el.t)("inline_preview.restart"),onClick:()=>{s((0,nr.Zh)({name:"prototype.replay_clicked",params:{source:"inline viewer"}})),a()},recordingKey:(0,aH.Pt)(nL,"restartButton"),dataTestId:"preview-restart-prototype"}))}var nF=a(701750),nB=a(646240),nU=a(132135),nH=a(241437),nG=a(274071),nV=a(711490),nz=a(127775);let nK=n.forwardRef(function({pageId:e,openFileKey:t,closeInlinePreview:a,isOpen:r,iframeFocused:i,setIframeFocused:o,onIframeFocus:s},c){let u=(0,nB.Xr)(nE.h),[p,_]=n.useState(!1),f=(0,d.md)(nH.yw),{isResizing:h,isDragging:g}=n.useContext(nV.O),E=n.useMemo(()=>h||g||!i,[h,g,i]),y=n.useMemo(()=>h||g,[h,g]);n.useEffect(()=>{nF.A.setDisableCloseWithShortcut(y)},[y]),n.useEffect(()=>{c.current&&(r?c.current.focus():(0,nG.$z)())},[c,r]),n.useEffect(()=>{let e=c.current;if(!e||p)return;let t=e=>{let t=e.shiftKey&&"Space"===e.code,n="Escape"===e.code;(t||n)&&!y&&a("keyboard")};return e.contentWindow?.addEventListener("keydown",t),()=>{e&&e.contentWindow?.removeEventListener("keydown",t)}},[c,p,y,a]);let v=t?function(e,t){let a=encodeURIComponent((0,nU.Kw)({base:"proto",file:{key:e},nodeId:t}));return`${location.origin}/embed?embed_host=inline-viewer&url=${a}&hide-ui=1&inline-viewer=1`}(t,e):"";return(n.useEffect(()=>{if(!c.current)return;let e=nF.A.initialize(c.current,{closeInlinePreview:a,dispatch:u,onLoad:()=>{_(!0)}});return()=>{u({type:"RESET_INLINE_PREVIEW"}),e(),_(!1)}},[a,u,e,c]),n.useEffect(()=>{},[v,e,f]),n.useEffect(()=>{let e=c.current;if(!e)return;let t=()=>{o(!1),t$.Y5.triggerAction("inline-preview-iframe-focus-state-changed",{isFocused:!1})};return e.contentWindow?.addEventListener("focus",s),e.contentWindow?.addEventListener("blur",t),()=>{e&&(e.contentWindow?.removeEventListener("focus",s),e.contentWindow?.removeEventListener("blur",t))}},[c,o,s]),n.useEffect(()=>()=>(0,nH.Bm)("inline_prototype_viewer"),[]),t)?n.createElement("div",{className:nv.Wc},n.createElement("iframe",{ref:c,title:"Inline Preview",src:(0,m.PN)()?"/test/interactions/proto?secondary=1&inline-viewer=1":v,className:H()(nv.VR,E?nv.dS:null)}),!p&&n.createElement(nz.z2,{shouldNotOverflow:!0,isViewer:!0,editorType:e0._Y.DESIGN,progressBarMode:l.Oin.HIDE_UI})):null}),nW={overflowDropdownType:"INLINE_PREVIEW_OVERFLOW_DROPDOWN",stateAtom:nE.h,ViewerComponent:nK,onBack:()=>{nF.A.navigateBackward()},onForward:()=>{nF.A.navigateForward()},onRestart:()=>{nF.A.restartPrototype()},onFocus:()=>!!nF.A.isIframeInitialized()&&(nF.A.focus(),!0),onDismissOverflow:()=>{nF.A.focus()}};var nj=a(347240);function nZ(){let e=(0,t8.m0)(),t=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);return n.useEffect(()=>{e&&(e._keyboard_will_show_with_height=e=>{l.glU.keyboardWillShowWithHeight(e)},e._keyboard_will_hide=()=>{t===l.m1T.TEXT&&l.glU.setDefaultEditMode()},window.FigmaAppObj?(window.FigmaAppObj.keyboardWillShow=()=>{l.glU.keyboardWillShow()},window.FigmaAppObj.keyboardWillShowWithHeight=e=>{l.glU.keyboardWillShowWithHeight(e)}):window.FigmaAppObj={keyboardWillShow:()=>{l.glU.keyboardWillShow()},keyboardWillShowWithHeight:e=>{l.glU.keyboardWillShowWithHeight(e)}})},[e,t]),null}var nY=a(324666),nX=a(872429),nq=a(38329),nJ=a(286640),nQ=a(177505),n$=a(92566),n0=a(648836),n1=a(75888),n2=a(677859),n5=a(835510),n3=a(94958);function n4({nodeIDs:e}){let t=(0,ex.J2)(l.Ez5.slideDeck().isDraggingSlides),a=(0,r.d4)(e=>e.mirror.selectionProperties.pasteSources),i=(0,ek.ew)(e);if(t||0===i.length)return null;if("INTERACTIVE_SLIDE_ELEMENT"===(i.every(e=>e.type===i[0].type)?i[0].type:null))for(let e of i){let{InlineControl:t}=(0,n5.Z)(e.interactiveSlideElementType);if(t)return n.createElement(t,{nodeId:e.guid})}return a&&a.length===e.length?n.createElement(n3.p,{pasteSources:a,recordingKey:"slides-inline-menu"}):null}let n6=n.memo(function(){let e=Object.keys((0,r.d4)(e=>e.mirror.sceneGraphSelection));return e?n.createElement(n0.k,{isShown:!0},n.createElement(n1.IA,null,n.createElement(n2.W1,null,n.createElement(n4,{nodeIDs:e})))):null});var n7=a(366501),n8=a(302442),n9=a.n(n8),re=a(395096),rt=a(195601);function ra(){let e=(0,ex.J2)(l.Ez5.slideDeck().slideGrid),t=(0,ex.J2)(l.Ez5.slideThumbnailEdits()),a=(0,d.md)(n$.uY);return n.createElement(rn,{ids:e.flat(),thumbnailEdits:t,idsInViewport:a})}function rn({ids:e,thumbnailEdits:t,idsInViewport:a}){let r=(0,n7.Jj)(),l=(0,ev.tS)(),[i,o]=(0,n.useState)([]),[s]=(0,re.A)(i,100,{equalityFn:rl});(0,n.useEffect)(()=>{if((!a||0!==a.length)&&s.length){let e=[...s];e.sort((e,t)=>e===r?-1:t===r?1:a?.includes(e)&&!a?.includes(t)?-1:a?.includes(t)&&!a?.includes(e)?1:0),n9()(e,a?a.length:5).forEach((e,t)=>{e.forEach(e=>{let n=e===r||!!a?.includes(e);setTimeout(()=>(0,rt.I)(e,n,l||""),40*t)})}),o([])}},[s,r,a,l]);let c=(0,n.useCallback)(e=>{o(t=>t.includes(e)?t:[...t,e])},[]);return n.createElement(n.Fragment,null,e.map(e=>n.createElement(rr,{key:e,guid:e,editCount:t.get(e)||0,requestThumbnailGeneration:c})))}function rr({guid:e,editCount:t,requestThumbnailGeneration:a}){let[r]=(0,re.A)(t,400);return(0,n.useEffect)(()=>{a(e)},[e,r,a]),n.createElement(n.Fragment,null)}function rl(e,t){return e.length===t.length&&e.every((e,a)=>e===t[a])}var ri=a(621925);function ro(){let e=(0,ef.qw)();return n.createElement("div",{style:{paddingRight:`calc(${e}px + var(--spacer-2))`}})}var rs=a(786884),rc=a(953289),rd=a(179243),ru=a(452883),rm=a(266294),rp=a(342753);function r_(){let[e,t]=(0,d.fp)(nE.h),a=(0,nQ.dh)(),r=(0,nB.Xr)(rc.bY),i=(0,ru.$)();(0,rm.TG)();let[o,s]=(0,nJ.Vc)("last-used-variable-set-bottoms-up",null);(0,n.useEffect)(()=>{let e=nq.D.getState().selectedView,t=l.Ez5.slideDeck().slideGrid.getCopy()[0]?.[0];if(e.nodeId&&e.nodeId!==a){let n=e.nodeId,r=nt.q.instance.get(n);r?.type==="SLIDE"&&r?.containingCanvas===a&&(t=n)}t&&(0,n7.Lk)(t)},[a]),(0,n.useEffect)(()=>{(0,c.kc)().piper_inline_preview&&e.modalStatus===nE.b.NOT_LOADED&&t({type:"OPEN_SLIDES_INLINE_PREVIEW"})},[e.modalStatus,t]),(0,n.useEffect)(()=>{let e=(0,rd.Dh)(i);e&&s(e.variableSetID)},[i,s]),(0,n.useEffect)(()=>()=>{r({type:rc.Vf.ALL})},[r]);let u=(0,rp.A)(),m=(0,nB.Xr)(n$.I3);return(0,n.useEffect)(()=>{m(u),l.Ez5?.canEnterSlidesDesignMode().set(u)},[u,m]),n.createElement(n.Fragment,null,n.createElement(n6,null),n.createElement("div",{className:er.cx.flex.hFull.itemsEnd.$},n.createElement(ro,null)),n.createElement(rs.g,null),n.createElement(rs.h,null),n.createElement(ra,null),n.createElement(ri._,null))}var rf=a(976404),rh=a(259927),rg=a(74930),rE=a(338400),ry=a(590695),rv=a(498750),rb=a(563706),rC=a(456363),rw=a(271779),rT=a(283942),rS=a(967409),rN=a(227795),rx=a(100303),rk=a(796825),rI=a(687351),rA=a(81804),rL=a(976726),rO=a(370903),rR=a(995382);let rM="figjam_search";function rD(){return(0,ex.J2)(l.Ez5.uiState().showCanvasSearch)?n.createElement(rP,null):null}function rP(){let{query:e,next:t,exit:a,setNavigateNearestOnce:r,search:i,isLoading:o,mode:s}=(0,rx.SQ)(),{focusedByButtons:c,hidden:d,setHidden:u,inputRef:m,navDisabled:p}=(0,rx.CT)(),_=(0,t8.BI)();(0,j.h)(()=>{u(!1)}),(0,rx.A5)(m,t,c);let[f,h]=(0,n.useState)(""),g=(0,n.useCallback)(e=>{e.keyCode===rv.Uz.ESCAPE?(e.target?.blur?.(),u(!0)):"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&(0,rT.jr)(e,rT.W0.YES,rT.VA.NO)&&e.stopPropagation()},[u]),E=(0,n.useCallback)(e=>{switch(e.keyCode){case rv.Uz.P:case rv.Uz.UP_ARROW:(e.keyCode!==rv.Uz.P||rb.Ay.mac&&(0,rv.vN)(e,rv.xH.CONTROL))&&(t(rA.OP.PREV,"keyboard"),e.stopPropagation(),e.preventDefault());break;case rv.Uz.N:case rv.Uz.DOWN_ARROW:(e.keyCode!==rv.Uz.N||rb.Ay.mac&&(0,rv.vN)(e,rv.xH.CONTROL))&&(t(rA.OP.NEXT,"keyboard"),e.stopPropagation(),e.preventDefault());break;case rv.Uz.ENTER:if((0,rv.Fo)(e)){l.YEY.exitSearchMode(l.dNx.SELECT_ACTIVE);break}t(e.shiftKey?rA.OP.PREV:rA.OP.NEXT,"keyboard"),e.stopPropagation(),e.preventDefault()}},[t]),y=(0,rf.U1)(),v=!_?.shouldOptimizeForIpadApp;return n.createElement(rw.i,{displayAs:rw.C.Block},n.createElement("div",{ref:y,role:"none",className:H()(rh.Dm,"figjam_search--container--p-leE",{"figjam_search--hidden--FjJ1m":d}),onTransitionEnd:()=>{d&&a()},onBlurCapture:e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&(l.YEY.setOverlayVisible(!1),r())},onKeyDown:g},n.createElement("div",{className:"figjam_search--searchBarRow--sTc8s"},n.createElement(rx.ih,{onChange:e=>i(e),query:e,focusedByButtons:c,innerRef:m,onKeyDown:E,editorType:rS._Y.FIGJAM}),o?n.createElement("div",{className:rL.dz},n.createElement(et.kt,{testId:"canvas-search-loading-spinner"})):n.createElement(n.Fragment,null,!!e&&n.createElement(rF,null),!p&&n.createElement(n.Fragment,null,n.createElement(rN.K0,{svg:rR.A,disabled:p,onClick:e=>{t(rA.OP.PREV,"button"),!(0,rx.SK)(e)&&v&&(c.current=!0,m.current.focus())},"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":(0,el.t)("canvas_search.previous"),"data-tooltip-shortcut-key":"canvas-search-prev",recordingKey:"canvas_search.previous"}),n.createElement(rN.K0,{svg:rO.A,disabled:p,onClick:e=>{t(rA.OP.NEXT,"button"),!(0,rx.SK)(e)&&v&&(c.current=!0,m.current.focus())},"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":(0,el.t)("canvas_search.next"),"data-tooltip-shortcut-key":"canvas-search-next",recordingKey:"canvas_search.next"}))),n.createElement(rI.g,{lean:"left",minWidth:160,recordingKey:rM}),n.createElement(rN.K0,{svg:aD.default,onClick:()=>{u(!0)},"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":(0,el.t)("canvas_search.close"),tooltipForScreenReadersOnly:!0,recordingKey:"canvas_search.close"})),s===l.EW4.REPLACE&&n.createElement(rk.a,{query:e,value:f,onChange:h,recordingKey:rM,onFocus:(t,a)=>{!e&&a&&m.current?.focus()},hasMultipleSelections:!1})))}function rF(){let{total:e}=(0,d.md)(rC.Fk),t=(0,d.md)(rC.Ch),a=t?.index==null?"?":`${t.index+1}`,r=0===e?(0,el.t)("canvas_search.no_results"):(0,el.t)("canvas_search.results_index_count",{index:a,total:e});return n.createElement("span",{className:"figjam_search--resultsCount--VfQrc","data-testid":"canvas-search-info"},r)}var rB=a(457749),rU=a(236192),rH=a(830111),rG=a(868912),rV=a(10706),rz=a(583765),rK=a(983382);let rW=n.forwardRef(function(e,t){return n.createElement("div",{ref:t,style:e.style,className:H()("whiteboard_sidebar_modal--WhiteboardSidebarModal--PALf6",e.className)},e.children)});var rj=a(525040),rZ=a(728406),rY=a(392592),rX=a(244673),rq=a(649958),rJ=a(318137);let rQ=()=>{let[e,t]=n.useState({}),a=(0,r.d4)(e=>e.music.music);return n.useEffect(()=>{if(!a||a?.isPaused||a?.isStopped)return;let e=setTimeout(()=>t({}),500);return()=>{clearTimeout(e)}},[e,a,a?.isPaused]),e};var r$=a(348425),r0=a(487392),r1=a(587467),r2=a(411189),r5=a(688477);let r3={song_id:"fake track for no selection",title:"",album_art:"",playback_url:"",start_at_ms:0,cuesheet:{tracks:[]}};function r4({selectedSong:e,activeSongs:t,isLoading:a,withRightMargin:l,withBorder:i,withHeavyFont:o}){let s=(0,r.d4)(e=>e.dropdownShown?.type==="song-dropdown"?e.dropdownShown:null),c=(0,r.Pj)(),d=(0,r.wA)(),u=(0,r.d4)(e=>e.music.playerInstance),m=e||r3,p=(0,r0.$3)(),_=[n.createElement(eP.c$,{fullWidth:!0,ignoreCheck:!0,key:"loading-music-options"},n.createElement("div",{className:"music_dropdown--loadingSpinner--0IUIG"},n.createElement(et.kt,null)))];n.useEffect(()=>{let n=t.length&&!a,r=!e;n&&r&&d(rX.Dx({selectedSongID:t[0].song_id}))},[a,e,d,t]),a||(_=t.map(e=>n.createElement(eP.c$,{key:e.song_id,value:e,icon:n.createElement("img",{src:e.album_art,alt:`album art for ${e.title}`,className:"music_dropdown--inDropdownAlbumArt---OmqE"}),formattedValue:r6.format(e),height:48})));let f=async t=>{t.song_id===r3.song_id?e&&((0,r1.$B)(c.getState(),e.song_id),d(rX.L({selectedSongID:"",musicStartTimeMs:0}))):await (0,r2._s)({songID:t.song_id,onSuccess:()=>{let e=u?.isPlaying();(0,r1.tU)(c.getState(),t.song_id,e||!1);let a=t.song_id;d(rX.Dx({selectedSongID:a,dontTransmitWhenPaused:!0}))},onNotFound:()=>{d(rX.qV()),d(rY.F.enqueue({message:(0,el.t)("whiteboard.timer.song_not_available_error"),error:!0,type:rX.lm}))}})},h=m===r3?(0,el.t)("whiteboard.music.loading"):void 0;return n.createElement(eP.l6,{id:"song-dropdown",ariaLabel:(0,el.t)("whiteboard.music_player_select.aria_label"),"data-testid":"music-dropdown-button",className:"music_dropdown--songDropdownClosed--PEWeP",property:m,willShowDropdown:()=>new Promise(e=>{(0,r1.eT)(c.getState()),e()}),onChange:f,dropdownWidth:224,formatter:r6,dispatch:d,dropdownShown:s,dropdownOverride:h,inputClassName:H()("music_dropdown--songDropdownInput--VQjWF",{"music_dropdown--songInputTextSongSelected--4mWzH":!!e,"music_dropdown--songInputTextNoSongSelected--AW4Zi":!e,"music_dropdown--songDropdownRightMargin--SiuxZ":l,"music_dropdown--songDropdownHeavyFont--fIlJd":o,"music_dropdown--border--8RslA":i,"music_dropdown--withHover--5STIo":i&&!p}),chevronClassName:"music_dropdown--songDropdownChevronStandalone--0F6eP music_dropdown--songDropdownChevronStandalone--0F6eP",icon:m===r3?n.createElement(r$.t,{className:"music_dropdown--musicIcon--rYDUF",svg:r5.A}):void 0,neverConstrain:!0,hideDropdownWhenContainerMoves:!0,targetDomNode:document.body},_)}let r6={format:e=>e?.title||(0,el.t)("whiteboard.timer.none")};var r7=a(669074),r8=a(151166),r9=a(198371);function le(){let e=(0,r9.nF)(!0),t=!(0,r8.N)()&&e.enabled,a=(0,r.d4)(e=>e.userFlags.dismissed_figjam_music_volume_hint),l=(0,r.d4)(e=>e.music.music?.selectedSongID&&e.music.music?.selectedSongID!==""),i=(0,r.d4)(e=>e.music.music?.isPaused===!1&&e.music.music?.isStopped===!1),o=(0,r.wA)();return t||a||!i||!l?null:n.createElement("div",{className:H()("volume_hint--hintContainer--A9gj2",rh.Dm),"data-testid":"volume-hint"},n.createElement("div",null,(0,el.tx)("whiteboard.timer.music_volume_hint_prompt_cta_v2",{promptQuestion:n.createElement("span",{className:"volume_hint--bold--vS77N"},(0,el.t)("whiteboard.timer.music_volume_hint_prompt_question"))})),n.createElement(aN.Jn,{className:"volume_hint--hintCloseButton--Rubtd",onClick:()=>{o(eK.b({dismissed_figjam_music_volume_hint:!0}))}}))}var lt=a(893606);let la="buttons--secondaryButton--Y7X0E",ln="buttons--withHover--csWRq",lr="buttons--primaryButton--cOfBR",ll="buttons--flexGrow--Qu8-s";function li(e){let{flexGrow:t,...a}=e,r=(0,r0.$3)();return(0,lt.R)()?n.createElement("div",{className:H()(la,{[ll]:e.flexGrow})},n.createElement(eH.IK,{...a,variant:"secondary"},e.children)):n.createElement(Q.nR,{className:H()(la,{[ll]:e.flexGrow,[ln]:!r}),...a},e.children)}function lo(e){let{flexGrow:t,...a}=e,r=(0,r0.$3)();return(0,lt.R)()?n.createElement("div",{className:H()(lr,{[ll]:e.flexGrow})},n.createElement(eH.IK,{...a,variant:"primary"},e.children)):n.createElement(Q.$$,{className:H()(lr,{[ll]:e.flexGrow,[ln]:!r}),...a},e.children)}function ls(e){let{titleText:t,bodyText:a,cancelButtonText:r,confirmButtonText:l,onCancel:i,onConfirm:o,onCancelDisabled:s,onConfirmDisabled:c,recordingKey:d}=e;return n.createElement("div",{className:"meeting_tool_cancel_view--cancelViewContainer--W8dpk"},n.createElement("div",{className:"meeting_tool_cancel_view--headerTitleV2--KRaEU text--fontPos14--OL9Hp text--_fontBase--QdLsd"},t),n.createElement("div",{className:"meeting_tool_cancel_view--descriptionSectionV2--fAYp- text--fontPos11--2LvXf text--_fontBase--QdLsd"},a),n.createElement("div",{className:er.cx.flex.gap10.$},n.createElement(li,{flexGrow:!0,onClick:i,disabled:s,recordingKey:aH.Pt(d,"cancel")},r),n.createElement(lo,{flexGrow:!0,onClick:o,disabled:c,recordingKey:aH.Pt(d,"confirm")},l)))}var lc=a(921211),ld=a(622405);function lu(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("rect",{width:"11",height:"11",x:"6.5",y:"6.5",stroke:"var(--color-icon)",rx:"1"}))}let lm="playback_control_button--mediaControlButton--Wp3H1",lp="playback_control_button--withHover--9DG-T";var l_=a(814239),lf=a(351731),lh=a(674321),lg=(e=>(e.PLAY="play",e.PAUSE="pause",e.STOP="stop",e))(lg||{});function lE(e){let t=(0,r0.$3)(),{buttonState:a,onClick:r,disabled:l,dataTooltip:i,dataOnboardingKey:o}=e;switch(a){case"play":return n.createElement("button",{className:H()("playback_control_button--playButton--a1I8c playback_control_button--mediaControlButton--Wp3H1",{[lp]:!t}),"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":i,"data-onboarding-key":o,disabled:l,onClick:r},n.createElement(a7.U,{svg:lf.A},n.createElement(lc.K,null)));case"pause":return n.createElement("button",{className:H()(lm,{[lp]:!t}),"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":i,"data-onboarding-key":o,disabled:l,onClick:r},n.createElement(a7.U,{svg:l_.A},n.createElement(ld.p,null)));case"stop":return n.createElement("button",{className:H()(lm,{[lp]:!t}),"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":i,disabled:l,onClick:r,"data-onboarding-key":o},n.createElement(a7.U,{svg:lh.A},n.createElement(lu,null)))}}function ly(){let[e,t]=n.useState(!1),a=(0,r.d4)(e=>e.music.music),l=(0,r.d4)(e=>e.music.playerInstance),i=a?.selectedSongID||"",o=(0,rJ.N)(i),s=o?.start_at_ms,c=(0,r.d4)(e=>e.multiplayer.allUsers.length),[d,u]=n.useState(!1),m=(0,r.d4)(e=>e.music.activeSongs,r2.b2),p=(0,rq.fk)(),_=(0,r.wA)();n.useEffect(()=>{m.length&&u(!1)},[m.length]);let f=(0,r.Pj)(),h=n.useCallback(()=>{i&&(0,r1.xf)(f.getState(),i),_(rX.mF({musicStartTimeMs:s}))},[_,s,i,f]),g=n.useCallback(()=>{i&&(0,r1.fx)(f.getState(),i),_(rX.g_())},[_,i,f]),E=n.useCallback(()=>{h()},[h]),y=n.useCallback(()=>{let e=l?.lastPlayedTimestamp?l.lastPlayedTimestamp:0;(0,r2.nz)(e,c)?t(!0):g()},[g,l,c]),v=n.useCallback(()=>h(),[h]);return e?n.createElement(ls,{titleText:(0,el.t)("whiteboard.music.stop_music_confirmation_prompt"),bodyText:(0,el.t)("whiteboard.music.stop_music_confirmation_subtext"),cancelButtonText:(0,el.t)("whiteboard.music.stop_music_cancel_button"),confirmButtonText:(0,el.t)("whiteboard.timer.stop_timer_confirmation_button"),onCancel:()=>t(!1),onConfirm:()=>{t(!1),g()}}):n.createElement(n.Fragment,null,n.createElement("div",{id:"musicModal",className:"music_view--musicView--XegVa","data-testid":"music-modal"},n.createElement(r7.U,{handlePause:g,handleTonearmResume:E,size:"large",grayCoverArtWhenPaused:!0,withoutBorder:!0}),n.createElement("div",{className:"music_view--controlContainer--GYIKD"},n.createElement("div",{className:"music_view--selectSongContainer--qoUiA"},n.createElement(r4,{selectedSong:o,activeSongs:m,isLoading:d,withBorder:!0,withHeavyFont:!0})),n.createElement(lE,{buttonState:p?lg.STOP:lg.PLAY,onClick:p?y:v,dataTooltip:p?(0,el.t)("whiteboard.music.end_music_tooltip"):(0,el.t)("whiteboard.music.play_music_tooltip")}))),n.createElement(le,null))}var lv=a(397863),lb=a(322907),lC=a(68517),lw=a(802174),lT=a(890297);function lS(){(0,lw.rJ)(),(0,lw.OI)();let[e,t]=(0,lw.Jg)(),{startTimer:a,stopTimer:l,addMinutes:i,pauseTimer:o,resumeTimer:s}=t,c=(0,d.md)(lC.jo),u=(0,r.d4)(e=>e.multiplayer.allUsers.length),[m,p]=n.useState(!1),_=c.time,f=(0,rZ.RE)(e),h=(0,rZ.G8)(_),g=(0,rZ.CM)(_),E=(0,rZ.IQ)(_),y=(0,rZ.$V)(_,e)&&!E;n.useEffect(()=>{E&&p(!1)},[E]);let v=n.useCallback(()=>{o()},[o]),b=n.useCallback(()=>{a()},[a]),C=n.useCallback(()=>{s()},[s]),w=n.useCallback(()=>{l()},[l]);if(m&&!E)return n.createElement(ls,{titleText:(0,el.t)("whiteboard.timer.end_timer_confirmation_new"),bodyText:(0,el.t)("whiteboard.timer.end_timer_confirmation_subtext_new"),cancelButtonText:(0,el.t)("whiteboard.timer.end_timer_go_back_new"),confirmButtonText:(0,el.t)("whiteboard.timer.end_timer_button_new"),onCancel:()=>p(!1),onConfirm:()=>{p(!1),w()}});let T=h?(0,el.t)("whiteboard.timer.start_timer_tooltip"):_?.isPaused?(0,el.t)("whiteboard.timer.resume_timer_tooltip"):(0,el.t)("whiteboard.timer.pause_timer_tooltip"),S=h&&f<=0,N=_?.isPaused||h;return n.createElement("div",{className:"timer_view--timerContainer--kRcU1","data-testid":"timer-modal"},n.createElement("div",{className:er.cx.flex.flexColumn.p16.gap12.$},n.createElement("div",{className:"timer_view--timerBackground--NUQ4g"},n.createElement(lb.qT,{timerActions:t,timerState:e,isStopped:h,size:lb.ZP.XLARGE,withoutUnderline:!0,isInUI3Toolbar:!1})),n.createElement("div",{className:er.cx.flex.justifyBetween.itemsCenter.$},n.createElement(li,{onClick:e=>{i(rZ.AC),e.preventDefault()},disabled:!y},n.createElement("div",{className:"timer_view--addTimeButton--tKy9r"},n.createElement(a7.U,{className:H()("timer_view--plusIcon--NOOSc",{"timer_view--disabled--iHZ7I":!y}),svg:lT.A},n.createElement(lv.x,null)),(0,el.tx)("whiteboard.timer.min",{timeIncrement:rZ.AC}))),n.createElement("div",{className:er.cx.flex.gap12.$},!h&&n.createElement(lE,{buttonState:lg.STOP,onClick:()=>{_&&((0,rZ.fQ)(_,u)?p(!0):w())},dataTooltip:(0,el.t)("whiteboard.timer.end_timer_tooltip"),disabled:h||E}),n.createElement(lE,{buttonState:N?lg.PLAY:lg.PAUSE,onClick:N?()=>{g?C():b()}:v,dataTooltip:T,disabled:N?S:E,dataOnboardingKey:rZ.Hm})))))}var lN=a(625651),lx=a(140871);function lk({onCancel:e}){let t=(0,lx.C3)(),a=(0,r.wA)(),l=(0,ev.tS)(),i=(0,an.oh)(lN.wQ(l||"")),o=n.useCallback(()=>{a(lN.PK({uiSurface:"MeetingsPanel"})),(0,V.sx)("confirm_end_voting_session",{source:"voting_modal",votingSessionId:t?.id,fileKey:l})},[a,t,l]),s=n.useCallback(()=>{e(),(0,V.sx)("cancel_end_voting_session",{source:"voting_modal",votingSessionId:t?.id,fileKey:l})},[e,t,l]);return n.createElement(ls,{titleText:(0,el.t)("voting.modal.end_voting_session_modal_header"),bodyText:(0,el.t)("voting.modal.end_voting_session_modal_description"),cancelButtonText:(0,el.t)("meetings_panel.voting.go_back"),confirmButtonText:(0,el.t)("voting.modal.end_voting_session_modal_confirm_button"),onCancel:s,onConfirm:o,onCancelDisabled:i||!t,onConfirmDisabled:i||!t,recordingKey:"endVotingModal"})}var lI=a(507877),lA=a(266023);let lL="face_pile--facePileAvatarPositioner--pWI9a",lO="face_pile--active--5AAUF";var lR=a(95779);function lM({userId:e,isActive:t}){let{user:a,loading:r}=(0,eC.wW)(e),l=(0,lt.R)();return n.createElement(lA.v,{userId:e,size:l?16:24,user:a,loading:r,defaultClassName:H()("face_pile--facePileAvatar--pZDZe",t&&lO),loadingClassName:H()("face_pile--facePileAvatarLoading--uhhTa face_pile--facePileAvatar--pZDZe",t&&lO)})}function lD({overflowUserIds:e,isActive:t}){return n.createElement(n.Fragment,null,n.createElement("div",{className:lL},n.createElement("div",{className:H()({"face_pile--facePileOverflowIcon--qL11N":!0,[lO]:t})},n.createElement(en.B,{className:"face_pile--overflowIcon--q-7wp",svg:lR.A}))))}function lP({userIds:e,maxHeadsBeforeOverflow:t,isActive:a}){let r=e.length>t,l=r?e.slice(0,t-1):e,i=r?e.slice(t-1):[];return n.createElement("div",{className:"face_pile--facePileContainer--DzqrO"},i.length?n.createElement(lD,{overflowUserIds:i,isActive:a}):null,[...l].reverse().map(e=>n.createElement("div",{className:lL,key:e},n.createElement(lM,{userId:e,isActive:a}))))}var lF=a(189430),lB=a(726864);function lU({userId:e}){let{user:t,loading:a}=(0,eC.wW)(e);return n.createElement(n.Fragment,null,n.createElement(lA.v,{userId:e,user:t,loading:a,size:24,loadingClassName:"voting_user_overflow_dropdown--loadingAvatar---1jYn"}),n.createElement(lA.m,{userId:e,user:t,loading:a,defaultClassName:"voting_user_overflow_dropdown--userName--huz8P text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsis--Tjyfa",loadingClassName:"voting_user_overflow_dropdown--loadingUserName--pC-X-"}))}let lH=e=>{let{windowInnerHeight:t}=(0,lF.l)(),a=(0,lB.Yk)();return t-(e.y+e.height)-a-22};function lG({userIds:e,targetRect:t}){let a=lH(t),r=(0,lt.R)(),l=0===e.length;return n.createElement(eM.Cf,{className:"voting_user_overflow_dropdown--pointingDropdown--equm6",targetRect:t,lean:"center",disableDropdownScrollContainer:!0,propagateCloseClick:!0},n.createElement(ea.P,{maxHeight:a,width:r?192:240},n.createElement("ol",{className:"voting_user_overflow_dropdown--dropdownPadding---VKEq"},l?n.createElement("div",{className:"voting_user_overflow_dropdown--noVotesText--T2dVF text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L"},(0,el.tx)("voting.modal.during_voting_no_votes_dropdown")):e.map(e=>n.createElement("li",{key:e,className:"voting_user_overflow_dropdown--listItem--d7eTA"},n.createElement(lU,{userId:e}))))))}var lV=a(522322);let lz="users_voted--rootSelected--y6VPJ";var lK=a(783423);function lW({votingSessionInfo:e}){return(0,n.useMemo)(()=>e.votedNodes.reduce((e,t)=>(Object.entries(t.userIdToNodeVotes).forEach(([t,a])=>{e[t]=(e[t]||0)+a.length}),e),{}),[e.votedNodes])}let lj=e=>{let t=(0,r.wA)();return{isDropdownOpen:(0,r.d4)(e=>e.dropdownShown?.type===lY),handleTargetClick:()=>{t(lI.gR({type:lY}))}}};function lZ({votingSessionInfo:e,userVoteLimit:t}){let[a,r]=(0,n.useState)(null),[l,i]=(0,n.useState)(!1),o=(0,eT.TA)(),s=lW({votingSessionInfo:e}),c=(0,lt.R)(),d=(0,n.useMemo)(()=>Object.entries(s).filter(([e,a])=>a&&a>=t).map(([e])=>e).sort((0,lV.zi)(o)),[s,t,o]),{isDropdownOpen:u,handleTargetClick:m}=lj(d);return n.createElement(n.Fragment,null,n.createElement("button",{className:H()({"users_voted--duringSessionRoot--XC-59 users_voted--rootBase--KRjQs text--fontPos12--YsUAh text--_fontBase--QdLsd":!0,[lz]:u}),onMouseDown:e=>e.stopPropagation(),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:m,ref:e=>r(e)},c&&n.createElement(lP,{userIds:d,maxHeadsBeforeOverflow:4,isActive:l||u}),n.createElement("p",{className:"users_voted--duringSessionText--glncG"},d.length>0?(0,el.tx)("voting.modal.voted",{numVotes:d.length}):(0,el.tx)("voting.modal.during_voting_no_ones_voted")),!c&&n.createElement(lP,{userIds:d,maxHeadsBeforeOverflow:4,isActive:l||u}),n.createElement(en.B,{className:H()({"users_voted--chevronDown--LWnXw":!0,"users_voted--chevronDownActive---IB9j":u}),svg:lK.A})),u&&a&&n.createElement(lG,{targetRect:a.getBoundingClientRect(),userIds:d}))}let lY="USERS_VOTED_DROPDOWN";function lX({votingSessionInfo:e}){let[t,a]=(0,n.useState)(null),r=(0,eT.TA)(),l=lW({votingSessionInfo:e}),i=(0,n.useMemo)(()=>Object.keys(l).sort((0,lV.zi)(r)),[l,r]),{isDropdownOpen:o,handleTargetClick:s}=lj(i);return n.createElement(n.Fragment,null,n.createElement("button",{className:H()({"users_voted--resultsDetailRoot--K2wEg users_voted--rootBase--KRjQs text--fontPos12--YsUAh text--_fontBase--QdLsd":!0,[lz]:o}),onMouseDown:e=>e.stopPropagation(),onClick:s,ref:e=>a(e)},n.createElement("p",null,i.length>0?(0,el.tx)("voting.modal.voted",{numVotes:i.length}):(0,el.tx)("voting.modal.after_voting_no_one_voted"))),o&&t&&n.createElement(lG,{targetRect:t.getBoundingClientRect(),userIds:i}))}function lq({title:e,useSmallerText:t}){let[a,r]=(0,n.useState)(!1),l=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=l.current;e?r(e.scrollHeight>e.clientHeight):r(!1)},[e,l]),n.createElement("div",{ref:l,className:H()("voting_components--votingSessionTitle--KDhQJ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",{"voting_components--smallerText--rtDFU text--fontPos11--2LvXf text--_fontBase--QdLsd":t}),"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":a?e:void 0},e)}function lJ({votingSessionInfo:e,onEndClick:t,recordingKey:a}){let l=(0,lx.C3)(),i=(0,r.d4)(e=>!e.user),o=(0,ev.tS)(),s=(0,lt.R)();return l?n.createElement("div",{className:"joined_vote_view--joinedVoteViewContainer--2w8-v"},n.createElement("div",{className:"joined_vote_view--votingSessionTitleContainer--Yj49f"},n.createElement(lq,{title:(0,lV.DG)(l),useSmallerText:s})),n.createElement("div",{className:"joined_vote_view--usersVotedContainer--nEFTt"},n.createElement(lZ,{votingSessionInfo:e,userVoteLimit:l.userVoteLimit})),!rb.Ay.isMeetDevice&&n.createElement("div",{className:er.cx.flex.$},n.createElement(li,{flexGrow:!0,onClick:()=>{t(),(0,V.sx)("click_end_voting_session",{source:"voting_modal",votingSessionId:l.id,fileKey:o})},disabled:i,"data-tooltip-type":i?eA.Ib.TEXT:void 0,"data-tooltip":i?(0,el.t)("voting.modal.end_disabled_logged_out_tooltip"):void 0,recordingKey:aH.Pt(a,"endVotingSession")},n.createElement("span",null,(0,el.tx)("voting.modal.end_for_all"))))):null}function lQ({votingSessionInfo:e,recordingKey:t}){let[a,r]=n.useState(!1),l=n.useCallback(()=>{r(!1)},[r]),i=n.useCallback(()=>{r(!0)},[r]);return n.createElement(n.Fragment,null,a?n.createElement(lk,{onCancel:l}):n.createElement(lJ,{votingSessionInfo:e,onEndClick:i,recordingKey:t}))}function l$(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"142",height:"115",viewBox:"0 0 142 115",fill:"none"},n.createElement("g",{filter:"url(#filter0_d_536_1194)"},n.createElement("mask",{id:"mask0_536_1194",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"9",y:"7",width:"112",height:"121"},n.createElement("path",{d:"M30.3749 27.8343C32.0497 25.2359 34.6296 23.3518 37.6144 22.5472L95.2853 7.00006L120.973 102.285L25.6874 127.973L9.4772 67.8424C8.5589 64.4361 9.1256 60.8001 11.037 57.8348L30.3749 27.8343Z",fill:"white"})),n.createElement("g",{mask:"url(#mask0_536_1194)"},n.createElement("path",{d:"M95.2854 7.00012L120.973 102.285L25.6875 127.973L0 32.6875L95.2854 7.00012Z",fill:"#FFD966"}),n.createElement("g",{filter:"url(#filter1_f_536_1194)"},n.createElement("rect",{x:"-9.06198",y:"72.871",width:"80.2756",height:"13.9108",transform:"rotate(-57 -9.06198 72.871)",fill:"black",fillOpacity:"0.3"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.7476 28.8039L10.2326 59.1223C15.1411 51.4964 30.0572 48.6566 30.0572 48.6566C30.0572 48.6566 25.2827 35.7405 29.7476 28.8039Z",fill:"#FFD966"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.7476 28.8039L10.2326 59.1223C15.1411 51.4964 30.0572 48.6566 30.0572 48.6566C30.0572 48.6566 25.2827 35.7405 29.7476 28.8039Z",fill:"url(#paint0_linear_536_1194)"}))),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_536_1194",x:"-20.5598",y:"-13.5598",width:"162.092",height:"162.092",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"10.2799"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_536_1194"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_536_1194",result:"shape"})),n.createElement("filter",{id:"filter1_f_536_1194",x:"-35.6799",y:"-21.0717",width:"108.624",height:"128.137",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"13.3089",result:"effect1_foregroundBlur_536_1194"})),n.createElement("linearGradient",{id:"paint0_linear_536_1194",x1:"20.32",y1:"42.4426",x2:"29.6252",y2:"49.517",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.5"}),n.createElement("stop",{offset:"0.319642",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.2"}))))}function l0(){return n.createElement("svg",{width:"52",height:"52",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{filter:"url(#filter0_d_1904_66844)"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.6975 43.3947V28.2216C17.2146 28.9246 15.5806 29.3745 13.8194 29.4818L9.75977 29.729L9.75977 13.542L13.3208 13.2938C16.2911 13.0869 18.6537 11.8389 19.8608 8.79489L20.819 6.37863H34.6307V43.3947H18.6975ZM18.6975 23.7911C20.2723 22.6622 21.5839 21.1021 22.5245 19.3196V39.5677H30.8037V10.2056H23.4183C21.5367 14.9506 17.6323 16.8297 13.5868 17.1116V25.6618C14.9507 25.5788 16.2382 25.1962 17.4138 24.5825C17.8583 24.3505 18.2869 24.0855 18.6975 23.7911Z",fill:"white"}),n.createElement("path",{d:"M22.5245 39.5677H30.8037V10.2057H23.4183C21.5367 14.9506 17.6323 16.8297 13.5868 17.1116V25.6618C17.4441 25.427 20.6899 22.7961 22.5245 19.3196V39.5677Z",fill:"#9747FF"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64916 24.2332H9.86288L17 28L20.5 28.0597V39.5527H19.1422V43.3803H7.64916V39.5527L3.82166 39.5527L3.82166 28.0597L7.64916 28.0597V24.2332ZM11.4822 35.7197H7.65466V31.8927L11.4822 31.8927V28.0662H15.3092L15.3092 31.8867M15.3092 31.8927H19.1357ZM15.3092 35.7197H15.3152ZM19.1357 35.7197V31.8927ZM15.3092 35.7257V39.5473ZM11.4822 39.5473H15.3092ZM11.4822 35.7197V39.5473ZM15.3152 35.7197L19.1357 35.7197Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3092 28.0662H11.4822V31.8927L7.65466 31.8927V35.7197L11.4822 35.7197V39.5473H15.3092V35.7197L19.1357 35.7197V31.8927L15.3092 31.8927V28.0662Z",fill:"#9747FF"}),n.createElement("path",{d:"M38.9984 23.4121C39.1678 22.8781 39.9234 22.8781 40.0928 23.4121L41.5337 27.9551C41.584 28.1137 41.7006 28.2427 41.8533 28.3086L45.9788 30.0896C46.4408 30.289 46.4408 30.9442 45.9788 31.1437L41.8533 32.9246C41.7006 32.9906 41.584 33.1195 41.5337 33.2781L40.0928 37.8211C39.9234 38.3551 39.1678 38.3551 38.9984 37.8211L37.5575 33.2781C37.5072 33.1195 37.3906 32.9906 37.2378 32.9246L33.1124 31.1437C32.6503 30.9442 32.6503 30.289 33.1124 30.0896L37.2378 28.3086C37.3906 28.2427 37.5072 28.1137 37.5575 27.9551L38.9984 23.4121Z",fill:"#EFBA00"}),n.createElement("path",{d:"M38.9984 23.4121C39.1678 22.8781 39.9234 22.8781 40.0928 23.4121L41.5337 27.9551C41.584 28.1137 41.7006 28.2427 41.8533 28.3086L45.9788 30.0896C46.4408 30.289 46.4408 30.9442 45.9788 31.1437L41.8533 32.9246C41.7006 32.9906 41.584 33.1195 41.5337 33.2781L40.0928 37.8211C39.9234 38.3551 39.1678 38.3551 38.9984 37.8211L37.5575 33.2781C37.5072 33.1195 37.3906 32.9906 37.2378 32.9246L33.1124 31.1437C32.6503 30.9442 32.6503 30.289 33.1124 30.0896L37.2378 28.3086C37.3906 28.2427 37.5072 28.1137 37.5575 27.9551L38.9984 23.4121Z",fill:"url(#paint0_linear_1904_66844)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.3739 28.313C37.4969 28.2595 37.5912 28.1537 37.6324 28.023L39.0624 23.4807C39.1998 23.0443 39.8002 23.0443 39.9376 23.4807L41.3676 28.023C41.4088 28.1537 41.5031 28.2595 41.6261 28.313L45.6529 30.0643C46.0273 30.2272 46.0273 30.7728 45.6529 30.9357L41.6261 32.687C41.5031 32.7405 41.4088 32.8463 41.3676 32.977L39.9376 37.5193C39.8002 37.9557 39.1998 37.9557 39.0624 37.5193L37.6324 32.977C37.5912 32.8463 37.4969 32.7405 37.3739 32.687L33.3471 30.9357C32.9727 30.7728 32.9727 30.2272 33.3471 30.0643L37.3739 28.313ZM42.8548 22.5094L43.9178 25.8859L46.8472 27.1599C49.7176 28.4083 49.7176 32.5917 46.8472 33.8401L43.9178 35.1141L42.8548 38.4906C41.8014 41.8365 37.1986 41.8364 36.1452 38.4906L35.0822 35.1141L32.1528 33.8401C32.1009 33.8175 32.05 33.794 32 33.7696L32 27.2304C32.05 27.206 32.1009 27.1825 32.1528 27.1599L35.0822 25.8859L36.1452 22.5094C37.1986 19.1635 41.8014 19.1636 42.8548 22.5094Z",fill:"white"}),n.createElement("path",{d:"M38.9985 23.4116C39.1678 22.8776 39.9235 22.8776 40.0929 23.4116L41.5338 27.9546C41.5841 28.1132 41.7007 28.2422 41.8534 28.3081L45.9789 30.0891C46.4409 30.2886 46.4409 30.9437 45.9789 31.1432L41.8534 32.9241C41.7007 32.9901 41.5841 33.1191 41.5338 33.2776L40.0929 37.8206C39.9235 38.3546 39.1678 38.3546 38.9985 37.8206L37.5576 33.2776C37.5073 33.1191 37.3906 32.9901 37.2379 32.9241L33.1125 31.1432C32.6504 30.9437 32.6504 30.2886 33.1125 30.0891L37.2379 28.3081C37.3906 28.2422 37.5073 28.1132 37.5576 27.9546L38.9985 23.4116Z",fill:"url(#paint1_linear_1904_66844)"}),n.createElement("path",{d:"M38.9985 23.4116C39.1678 22.8776 39.9235 22.8776 40.0929 23.4116L41.5338 27.9546C41.5841 28.1132 41.7007 28.2422 41.8534 28.3081L45.9789 30.0891C46.4409 30.2886 46.4409 30.9437 45.9789 31.1432L41.8534 32.9241C41.7007 32.9901 41.5841 33.1191 41.5338 33.2776L40.0929 37.8206C39.9235 38.3546 39.1678 38.3546 38.9985 37.8206L37.5576 33.2776C37.5073 33.1191 37.3906 32.9901 37.2379 32.9241L33.1125 31.1432C32.6504 30.9437 32.6504 30.2886 33.1125 30.0891L37.2379 28.3081C37.3906 28.2422 37.5073 28.1132 37.5576 27.9546L38.9985 23.4116Z",fill:"url(#paint2_linear_1904_66844)"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_1904_66844",x:"-1.91351",y:"-1.27567",width:"54.8539",height:"54.8539",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"0.637836"}),n.createElement("feGaussianBlur",{stdDeviation:"0.956754"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1904_66844"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1904_66844",result:"shape"})),n.createElement("linearGradient",{id:"paint0_linear_1904_66844",x1:"46.6528",y1:"37.3139",x2:"29.2026",y2:"24.1295",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.33271",stopColor:"white",stopOpacity:"0.11"}),n.createElement("stop",{offset:"0.449925",stopColor:"white",stopOpacity:"0.5"}),n.createElement("stop",{offset:"0.562473",stopColor:"white",stopOpacity:"0.11"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint1_linear_1904_66844",x1:"31.8916",y1:"21.6864",x2:"47.5581",y2:"39.2257",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#F7C000"}),n.createElement("stop",{offset:"1",stopColor:"#E8B604"})),n.createElement("linearGradient",{id:"paint2_linear_1904_66844",x1:"47.1997",y1:"39.5458",x2:"31.5331",y2:"22.0066",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),n.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function l1(){return n.createElement("svg",{width:"46",height:"45",viewBox:"0 0 46 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{filter:"url(#filter0_d_1904_66832)"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.6036 25.0556C1.12383 20.6128 1.12383 13.3775 5.6036 8.93478C7.76292 6.7933 10.6465 5.61081 13.6925 5.61081C16.5194 5.61081 19.209 6.62902 21.3102 8.49271C23.4103 6.62969 26.0996 5.60886 28.9298 5.60886C31.9764 5.60886 34.8598 6.79177 37.0207 8.93478C39.1809 11.0772 40.3839 13.9501 40.3839 16.9962C40.3839 20.038 39.1847 22.91 37.0234 25.0548C37.0232 25.055 37.0236 25.0547 37.0234 25.0548C37.0226 25.0556 37.0214 25.0568 37.0207 25.0575L35.3114 26.7566L21.3162 40.6361L5.6036 25.0556ZM21.3102 13.2071L19.4117 11.3243C17.8838 9.80902 15.8532 8.97612 13.6925 8.97612C11.5298 8.97612 9.49924 9.81097 7.97334 11.3243C4.821 14.4506 4.821 19.5398 7.97334 22.6661L21.3161 35.8966L32.9417 24.3671L34.6509 22.6681C36.1788 21.1528 37.0186 19.139 37.0186 16.9962C37.0186 14.8514 36.1768 12.8376 34.6509 11.3243C33.1231 9.80902 31.0925 8.97416 28.9298 8.97416C26.7671 8.97416 24.7365 9.80902 23.2087 11.3243L21.3102 13.2071Z",fill:"white"}),n.createElement("path",{d:"M7.97332 22.6661C4.82098 19.5398 4.82098 14.4506 7.97332 11.3243C9.49922 9.81098 11.5298 8.97612 13.6925 8.97612C15.8532 8.97612 17.8838 9.80902 19.4116 11.3243L21.3101 13.2071L23.2087 11.3243C24.7365 9.80902 26.7671 8.97417 28.9298 8.97417C31.0924 8.97417 33.123 9.80902 34.6509 11.3243C36.1768 12.8376 37.0186 14.8514 37.0186 16.9962C37.0186 19.139 36.1788 21.1528 34.6509 22.6681L32.9417 24.3671L21.3161 35.8966L7.97332 22.6661Z",fill:"#FF8577"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.0424 27.6444C30.9973 27.7838 30.8938 27.8968 30.7588 27.9538L26.3392 29.8229C25.9283 29.9966 25.9283 30.579 26.3392 30.7527L30.7588 32.6217C30.8938 32.6788 30.9973 32.7918 31.0424 32.9312L32.6119 37.7787C32.7627 38.2444 33.4216 38.2444 33.5724 37.7787L35.142 32.9312C35.1871 32.7918 35.2906 32.6788 35.4256 32.6217L39.8452 30.7527C40.2561 30.579 40.2561 29.9966 39.8452 29.8229L35.4256 27.9538C35.2906 27.8968 35.1871 27.7838 35.142 27.6444L33.5724 22.7969C33.4216 22.3312 32.7627 22.3312 32.6119 22.7969L31.0424 27.6444ZM37.9408 25.3637L36.7741 21.7603C35.618 18.1897 30.5664 18.1896 29.4103 21.7603L28.2436 25.3637L25.0284 26.7233C21.8781 28.0556 21.8781 32.52 25.0284 33.8523L28.2436 35.2119L29.4103 38.8153C30.5664 42.3859 35.618 42.386 36.7741 38.8153L37.9408 35.2119L41.156 33.8523C44.3062 32.52 44.3062 28.0556 41.156 26.7233L37.9408 25.3637Z",fill:"white"}),n.createElement("path",{d:"M32.6119 22.7969C32.7627 22.3312 33.4216 22.3312 33.5724 22.7969L35.142 27.6444C35.1871 27.7838 35.2906 27.8968 35.4256 27.9538L39.8452 29.8229C40.2561 29.9966 40.2561 30.5789 39.8452 30.7527L35.4256 32.6217C35.2906 32.6788 35.1871 32.7917 35.142 32.9312L33.5724 37.7787C33.4216 38.2444 32.7627 38.2444 32.6119 37.7787L31.0424 32.9312C30.9973 32.7917 30.8938 32.6788 30.7588 32.6217L26.3392 30.7527C25.9283 30.5789 25.9283 29.9966 26.3392 29.8229L30.7588 27.9538C30.8938 27.8968 30.9973 27.7838 31.0424 27.6444L32.6119 22.7969Z",fill:"url(#paint0_linear_1904_66832)"}),n.createElement("path",{d:"M32.6119 22.7969C32.7627 22.3312 33.4216 22.3312 33.5724 22.7969L35.142 27.6444C35.1871 27.7838 35.2906 27.8968 35.4256 27.9538L39.8452 29.8229C40.2561 29.9966 40.2561 30.5789 39.8452 30.7527L35.4256 32.6217C35.2906 32.6788 35.1871 32.7917 35.142 32.9312L33.5724 37.7787C33.4216 38.2444 32.7627 38.2444 32.6119 37.7787L31.0424 32.9312C30.9973 32.7917 30.8938 32.6788 30.7588 32.6217L26.3392 30.7527C25.9283 30.5789 25.9283 29.9966 26.3392 29.8229L30.7588 27.9538C30.8938 27.8968 30.9973 27.7838 31.0424 27.6444L32.6119 22.7969Z",fill:"url(#paint1_linear_1904_66832)"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_1904_66832",x:"-1.68265",y:"-1.12177",width:"48.2361",height:"48.2361",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"0.560885"}),n.createElement("feGaussianBlur",{stdDeviation:"0.841327"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1904_66832"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1904_66832",result:"shape"})),n.createElement("linearGradient",{id:"paint0_linear_1904_66832",x1:"25.2398",y1:"21.3136",x2:"40.9446",y2:"39.2619",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#F7C000"}),n.createElement("stop",{offset:"1",stopColor:"#E8B604"})),n.createElement("linearGradient",{id:"paint1_linear_1904_66832",x1:"40.9446",y1:"39.2619",x2:"25.2398",y2:"21.3136",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),n.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function l2(){return n.createElement("svg",{width:"41",height:"40",viewBox:"0 0 41 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{filter:"url(#filter0_d_1972_66634)"},n.createElement("path",{d:"M25.0742 24.5505V24.5597H25.7273C26.0169 24.5611 26.3027 24.6243 26.565 24.7451C26.8274 24.8659 27.0598 25.0414 27.2464 25.2593L27.2793 25.3009C27.5241 25.587 27.6808 25.9359 27.7307 26.3067C27.7807 26.6774 27.7219 27.0545 27.5612 27.3935C27.4006 27.7324 27.1448 28.0191 26.824 28.2198C26.5033 28.4204 26.1309 28.5267 25.7508 28.526H25.0068V28.5368C25.2967 28.5379 25.5827 28.6012 25.8451 28.7223C26.1075 28.8434 26.3398 29.0194 26.526 29.2379L26.5589 29.2764C26.8032 29.5625 26.9595 29.9114 27.0091 30.2818C27.0588 30.6523 26.9999 31.0291 26.8393 31.3678C26.6787 31.7064 26.4232 31.9929 26.1027 32.1935C25.7822 32.3941 25.4102 32.5004 25.0303 32.5H8.91728C8.46859 32.5002 8.02426 32.4134 7.60966 32.2446C7.19507 32.0758 6.81834 31.8283 6.50099 31.5162C6.18365 31.2041 5.93191 30.8336 5.76016 30.4257C5.5884 30.0179 5.5 29.5808 5.5 29.1393V19.8199H6.85C7.91966 19.8199 8.49287 19.6181 9.14907 18.1249C11.16 13.1555 14.6305 11.3018 14.6305 8.66534V7.82863C14.633 7.54171 14.7506 7.26738 14.9577 7.06536C15.1647 6.86334 15.4446 6.74999 15.7362 6.75H16.0682C16.5994 6.74951 17.1152 6.9252 17.5323 7.24869C17.9495 7.57218 18.2437 8.02458 18.3673 8.53282C18.5022 9.0959 18.5705 9.67242 18.5709 10.2509C18.5703 11.2371 18.3745 12.2137 17.9945 13.1262L17.058 15.379C17.0007 15.5145 16.9783 15.6619 16.9929 15.8079C17.0074 15.954 17.0584 16.0942 17.1413 16.2162C17.2242 16.3382 17.3365 16.4382 17.4682 16.5072C17.5998 16.5762 17.7467 16.6121 17.8959 16.6118H25.7508C26.0404 16.6131 26.3262 16.6764 26.5885 16.7971C26.8508 16.9179 27.0833 17.0934 27.2699 17.3113L27.3028 17.3545C27.5467 17.6406 27.7025 17.9893 27.7519 18.3595C27.8013 18.7298 27.7423 19.1062 27.5818 19.4446C27.4212 19.783 27.1659 20.0692 26.8457 20.2698C26.5255 20.4703 26.1538 20.5767 25.7742 20.5765H25.1478H26.479C26.7688 20.5775 27.0549 20.6408 27.3173 20.7619C27.5797 20.883 27.8121 21.059 27.9981 21.2776L28.0326 21.3177C28.2769 21.6037 28.4331 21.9524 28.4828 22.3227C28.5326 22.6931 28.4738 23.0697 28.3134 23.4083C28.153 23.7469 27.8976 24.0334 27.5774 24.2341C27.2572 24.4348 26.8853 24.5414 26.5056 24.5412L25.0742 24.5505Z",fill:"#0FA958"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.0742 24.5505V24.5597H25.7273C25.9951 24.561 26.2598 24.6152 26.5056 24.7189C26.506 24.719 26.5064 24.7192 26.5068 24.7194C26.5263 24.7276 26.5457 24.7362 26.565 24.7451C26.8274 24.8659 27.0598 25.0414 27.2464 25.2593L27.2793 25.3009C27.5241 25.587 27.6808 25.9359 27.7307 26.3067C27.7326 26.3206 27.7343 26.3346 27.7359 26.3485C27.7761 26.7057 27.7158 27.0672 27.5612 27.3935C27.5549 27.4069 27.5484 27.4202 27.5417 27.4334C27.3802 27.7549 27.1321 28.027 26.824 28.2198C26.5566 28.387 26.2533 28.4887 25.9396 28.5175C25.8794 28.5231 25.8187 28.5259 25.7579 28.526C25.7555 28.526 25.7531 28.526 25.7508 28.526H25.0069L25.0068 28.5368C25.2622 28.5378 25.5146 28.587 25.7505 28.6815C25.7504 28.6815 25.7506 28.6816 25.7505 28.6815C25.7822 28.6943 25.814 28.7079 25.8451 28.7223C26.1075 28.8434 26.3398 29.0194 26.526 29.2379L26.5589 29.2764C26.8032 29.5625 26.9595 29.9113 27.0091 30.2818C27.0588 30.6523 26.9999 31.0291 26.8393 31.3678C26.8322 31.3827 26.825 31.3975 26.8175 31.4123C26.6561 31.7315 26.409 32.0018 26.1027 32.1935C25.7822 32.3941 25.4102 32.5004 25.0303 32.5H8.91728C8.46859 32.5002 8.02426 32.4134 7.60966 32.2446C7.19507 32.0758 6.81834 31.8283 6.50099 31.5162C6.18365 31.2041 5.93191 30.8336 5.76016 30.4257C5.5884 30.0179 5.5 29.5808 5.5 29.1393V19.8199H6.85C7.91966 19.8199 8.49287 19.6181 9.14907 18.1249C10.1339 15.6911 11.4689 14.0047 12.5748 12.6076C13.727 11.152 14.6305 10.0106 14.6305 8.66534V7.82863C14.633 7.54171 14.7506 7.26738 14.9577 7.06536C15.1647 6.86333 15.4446 6.74999 15.7362 6.75H16.0682C16.5994 6.74951 17.1152 6.9252 17.5323 7.24869C17.9495 7.57218 18.2437 8.02458 18.3673 8.53282C18.5022 9.0959 18.5705 9.67242 18.5709 10.2509C18.5703 11.2371 18.3745 12.2137 17.9945 13.1262L17.058 15.379C17.0007 15.5145 16.9783 15.6619 16.9929 15.8079C17.0074 15.954 17.0584 16.0942 17.1413 16.2162C17.2242 16.3382 17.3365 16.4382 17.4682 16.5072C17.5998 16.5762 17.7467 16.6121 17.8959 16.6118H25.7508C26.0404 16.6131 26.3262 16.6764 26.5885 16.7971C26.8508 16.9179 27.0833 17.0934 27.2699 17.3113L27.3028 17.3545C27.3916 17.4587 27.4687 17.5711 27.5333 17.6899C27.646 17.8974 27.7205 18.1241 27.7519 18.3595C27.8013 18.7298 27.7423 19.1062 27.5818 19.4446C27.4212 19.783 27.1659 20.0692 26.8457 20.2698C26.7297 20.3424 26.6069 20.4027 26.4794 20.45C26.4793 20.4501 26.4796 20.45 26.4794 20.45C26.2558 20.5331 26.0174 20.5764 25.7761 20.5765H26.479C26.6908 20.5772 26.9005 20.6112 27.1005 20.6767C27.1742 20.7008 27.2466 20.7292 27.3173 20.7619C27.5797 20.883 27.8121 21.059 27.9981 21.2776L28.0326 21.3177C28.2769 21.6037 28.4331 21.9524 28.4828 22.3227C28.486 22.3465 28.4888 22.3703 28.4911 22.3941C28.5035 22.5228 28.5029 22.6519 28.4896 22.7795C28.4671 22.9963 28.4078 23.2089 28.3134 23.4083C28.153 23.7469 27.8976 24.0334 27.5774 24.2341C27.3012 24.4072 26.9866 24.5103 26.6617 24.5353C26.6099 24.5393 26.5578 24.5413 26.5056 24.5412L25.7273 24.5463L25.0742 24.5505ZM30.6292 19.7802C31.0668 20.4164 31.3522 21.1496 31.4561 21.9234C31.5833 22.8701 31.4325 23.8314 31.0246 24.6926C30.9059 24.9431 30.7671 25.1818 30.6102 25.4067C30.6498 25.5708 30.6811 25.7375 30.7039 25.9061C30.8315 26.8538 30.6807 27.8162 30.2721 28.6783C30.1597 28.9155 30.0293 29.142 29.8825 29.3563C29.9252 29.5293 29.9587 29.7051 29.9825 29.8831C30.1095 30.8302 29.9584 31.7918 29.55 32.6531C29.1418 33.514 28.4957 34.2349 27.6943 34.7365C26.8943 35.2372 25.9703 35.5004 25.0303 35.5C25.0299 35.5 25.0295 35.5 25.0291 35.5C25.0284 35.5 25.0277 35.5 25.027 35.5L8.91864 35.5C8.91819 35.5 8.91774 35.5 8.91728 35.5C8.08167 35.5002 7.25308 35.3386 6.4784 35.0231C5.70321 34.7075 4.99568 34.2435 4.39746 33.6552C3.79913 33.0667 3.32186 32.3655 2.99533 31.5901C2.66875 30.8146 2.5 29.9817 2.5 29.1393V16.8199H6.44186C7.5825 14.0786 9.10204 12.1602 10.1873 10.7901C10.2224 10.7458 10.2571 10.702 10.2913 10.6587C10.8805 9.91414 11.2289 9.45761 11.4543 9.0645C11.5547 8.8895 11.5982 8.78019 11.6169 8.72094C11.6258 8.69274 11.6288 8.67673 11.6298 8.67077L11.6305 8.66562L11.6305 7.81567L11.6306 7.80272C11.6401 6.70885 12.0887 5.67306 12.8628 4.91793C13.6352 4.1644 14.6688 3.74999 15.7362 3.75M30.6292 19.7802C30.773 19.1888 30.807 18.5728 30.7255 17.9626C30.6037 17.0498 30.2293 16.1933 29.6503 15.4855L29.6042 15.425L29.5489 15.3604C29.0789 14.8114 28.4963 14.3728 27.8434 14.0722C27.1906 13.7716 26.4815 13.6151 25.7646 13.6118L21.0159 13.6118C21.382 12.5311 21.5702 11.3969 21.5709 10.2528L21.5709 10.2489C21.5703 9.43548 21.4743 8.62505 21.2847 7.8339L21.2823 7.82375C20.9966 6.64915 20.3191 5.61336 19.3707 4.87796C18.424 4.14383 17.2605 3.74951 16.0682 3.75C16.0679 3.75 16.0685 3.75 16.0682 3.75H15.7362",fill:"white"}),n.createElement("path",{d:"M29.0719 19.3222C29.2063 18.9071 29.7937 18.9071 29.9281 19.3222L31.3273 23.6435C31.3675 23.7678 31.4598 23.8685 31.5801 23.9194L35.5199 25.5855C35.8862 25.7404 35.8862 26.2595 35.5199 26.4145L31.5801 28.0806C31.4598 28.1315 31.3675 28.2321 31.3273 28.3564L29.9281 32.6777C29.7937 33.0929 29.2063 33.0929 29.0719 32.6777L27.6727 28.3564C27.6325 28.2321 27.5402 28.1315 27.4199 28.0806L23.48 26.4145C23.1137 26.2595 23.1137 25.7404 23.48 25.5855L27.4199 23.9194C27.5402 23.8685 27.6325 23.7678 27.6727 23.6435L29.0719 19.3222Z",fill:"url(#paint0_linear_1972_66634)"}),n.createElement("path",{d:"M29.0719 19.3222C29.2063 18.9071 29.7937 18.9071 29.9281 19.3222L31.3273 23.6435C31.3675 23.7678 31.4598 23.8685 31.5801 23.9194L35.5199 25.5855C35.8862 25.7404 35.8862 26.2595 35.5199 26.4145L31.5801 28.0806C31.4598 28.1315 31.3675 28.2321 31.3273 28.3564L29.9281 32.6777C29.7937 33.0929 29.2063 33.0929 29.0719 32.6777L27.6727 28.3564C27.6325 28.2321 27.5402 28.1315 27.4199 28.0806L23.48 26.4145C23.1137 26.2595 23.1137 25.7404 23.48 25.5855L27.4199 23.9194C27.5402 23.8685 27.6325 23.7678 27.6727 23.6435L29.0719 19.3222Z",fill:"url(#paint1_linear_1972_66634)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.6727 23.6435C27.6325 23.7678 27.5402 23.8685 27.4199 23.9194L23.48 25.5855C23.1137 25.7404 23.1137 26.2595 23.48 26.4145L27.4199 28.0806C27.5402 28.1315 27.6325 28.2321 27.6727 28.3564L29.0719 32.6777C29.2063 33.0929 29.7937 33.0929 29.9281 32.6777L31.3273 28.3564C31.3675 28.2321 31.4598 28.1315 31.5801 28.0806L35.5199 26.4145C35.8862 26.2595 35.8862 25.7404 35.5199 25.5855L31.5801 23.9194C31.4598 23.8685 31.3675 23.7678 31.3273 23.6435L29.9281 19.3222C29.7937 18.9071 29.2063 18.9071 29.0719 19.3222L27.6727 23.6435ZM33.8223 21.6104L32.7822 18.3981C31.7516 15.2151 27.2484 15.2151 26.2177 18.3981L25.1777 21.6104L22.3116 22.8224C19.5033 24.0101 19.5032 27.9899 22.3116 29.1775L25.1777 30.3896L26.2177 33.6018C27.2483 36.7849 31.7516 36.7849 32.7822 33.6018L33.8223 30.3896L36.6884 29.1775C39.4967 27.9899 39.4968 24.0101 36.6884 22.8225L33.8223 21.6104Z",fill:"white"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_1972_66634",x:"-1.5",y:"-1",width:"43",height:"43",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"0.5"}),n.createElement("feGaussianBlur",{stdDeviation:"0.75"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1972_66634"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1972_66634",result:"shape"})),n.createElement("linearGradient",{id:"paint0_linear_1972_66634",x1:"23.2053",y1:"19.0109",x2:"35.3845",y2:"33.3378",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#F7C000"}),n.createElement("stop",{offset:"1",stopColor:"#E8B604"})),n.createElement("linearGradient",{id:"paint1_linear_1972_66634",x1:"35.7947",y1:"32.9891",x2:"23.6155",y2:"18.6622",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),n.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function l5(){return n.createElement("div",{className:"vote_graphic--stampContainer--Gg9nN"},n.createElement("div",{className:"vote_graphic--sticky--5vnwr"},n.createElement(l$,null)),n.createElement("div",{className:"vote_graphic--plusOneStamp--lqNsf vote_graphic--stamp---bJ3m"},n.createElement(l0,null)),n.createElement("div",{className:"vote_graphic--heartStamp--EhTYO vote_graphic--stamp---bJ3m"},n.createElement(l1,null)),n.createElement("div",{className:"vote_graphic--thumbsUpStamp--d1jHf vote_graphic--stamp---bJ3m"},n.createElement(l2,null)))}function l3({recordingKey:e}){let t=(0,r.wA)(),a=(0,lV.Pd)(n.useCallback(()=>{t(lN.H1({votingStage:t6.W8Y.JOINED}))},[t]));return n.createElement("div",{className:er.cx.flex.flexColumn.p16.$},n.createElement("div",{className:er.cx.flex.gap8.itemsCenter.mb8.$},n.createElement(l5,null)),n.createElement("div",{className:er.cx.flex.justifyCenter.$},n.createElement(lo,{onClick:a,recordingKey:aH.Pt(e,"joinVotingSession")},(0,el.tx)("meetings_panel.voting.join_vote"))))}var l4=a(404095);let l6="create_new_vote_view--stepperButtonWrapper--MA6-g";var l7=a(349307),l8=a(98285);let l9=e=>{let t=null;try{t=parseInt(e,10)}catch(e){}return t};function ie(){let e=(0,r.wA)(),t=(0,ev.tS)(),{title:a,userVoteLimit:l}=(0,r.d4)(e=>e.voting.votingParams),i=(0,r.d4)(e=>!e.user),o=(0,an.oh)(lN.$c(t||"")),[s,c]=n.useState(l.toString());(0,n.useEffect)(()=>{let t=l9(s);t&&e(lN.hL(t))},[s,e]);let d=i||o;return n.createElement("div",{className:er.cx.flex.flexColumn.p16.gap12.$},n.createElement(l5,null),n.createElement(it,{userVoteLimitInput:s,setUserVoteLimitInput:c,title:a,isTitleDisabled:d,isLimitDisabled:d,userVoteLimit:l,setTitle:n.useCallback(t=>e(lN.D6(t)),[e])}))}function it(e){let t=n.useRef(null),a=(0,r.wA)(),l=(0,ev.tS)(),i=(0,r.d4)(e=>!e.user),o=(0,an.oh)(lN.$c(l||"")),s=(0,r.d4)(e=>e.multiplayer.allUsers.length),c=(0,ek.Fk)(e=>e.getCurrentPage()?.guid),d=lx.NE()?.id,u=i||o||!c,{userVoteLimitInput:m,userVoteLimit:p,title:_,setTitle:f,isLimitDisabled:h,isTitleDisabled:g,setUserVoteLimitInput:E}=e,y=n.useCallback(e=>{let t=parseInt(m);(t+=e)<1||t>99||E(t.toString())},[E,m]),v=n.useCallback(e=>{"ArrowUp"===e.key||"ArrowDown"===e.key?(y("ArrowUp"===e.key?1:-1),e.preventDefault()):("Enter"===e.key||"Escape"===e.key)&&t.current?.blur()},[y]),b=n.useCallback(()=>{t.current?.select()},[t]),C=n.useCallback(e=>{if(!e.currentTarget.value.match(/^(\s*|\d+)$/)){e.preventDefault();return}E(e.currentTarget.value)},[E]),w=n.useCallback(e=>{let a=t.current.value,n=l9(m);(""===a||!n||isNaN(n)||n<1)&&E("1")},[m,E]),T=(0,el.t)("voting.modal.voting_setup_responsive_placeholder_prompt",{numVotes:p}),S=(0,lV.Pd)(n.useCallback(()=>{if(!c)throw Error("Cannot start a voting session since currentPageNodeId is null");a(lN.vt({source:"voting_modal",usedCustomTitle:""!==_,requestBody:{title:_,in_progress:!0,user_vote_limit:p,num_people_in_file:s,page_node_id:c,voting_session_id_to_end:d},uiSurface:"MeetingsPanel"}))},[a,_,p,s,c,d])),N=(0,lt.R)();return n.createElement("div",{className:"create_new_vote_view--container--mzVZ7"},n.createElement(ee.L,{autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:"create_new_vote_view--promptInput--Fd2W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",spellCheck:!1,placeholder:T,value:_,onChange:e=>f(e.target.value),disabled:g,"aria-label":(0,el.t)("voting.modal.voting_setup_prompt_input_field_aria_label")}),n.createElement("div",{className:"create_new_vote_view--voteLimitContainer--ga1AC"},n.createElement("div",{className:"create_new_vote_view--voteLimitControls--7D-Fi"},N?n.createElement("div",{className:l6},n.createElement(k.K,{onClick:()=>{h||y(-1)},"aria-label":(0,el.t)("voting.modal.reduce_limit_tooltip_aria_label"),htmlAttributes:{"aria-disabled":h}},n.createElement(a7.U,{svg:l7.A},n.createElement(l4.f,null)))):n.createElement(en.B,{svg:l7.A,className:l6,onClick:()=>{h||y(-1)},role:"button","aria-label":(0,el.t)("voting.modal.reduce_limit_tooltip_aria_label"),"aria-disabled":h}),n.createElement("input",{className:"create_new_vote_view--limitInput--1dzSR create_new_vote_view--promptInput--Fd2W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",maxLength:2,type:"text",inputMode:"numeric",ref:t,value:m,onKeyDown:v,onFocus:b,onChange:C,onBlur:w,disabled:h,"aria-label":(0,el.t)("voting.modal.voting_limit_input_field_aria_label")}),N?n.createElement("div",{className:l6},n.createElement(k.K,{onClick:()=>{h||y(1)},"aria-label":(0,el.t)("voting.modal.increase_limit_tooltip_aria_label"),htmlAttributes:{"aria-disabled":h}},n.createElement(a7.U,{svg:l8.A},n.createElement(lv.x,null)))):n.createElement(en.B,{svg:l8.A,className:l6,onClick:()=>{h||y(1)},role:"button","aria-label":(0,el.t)("voting.modal.increase_limit_tooltip_aria_label"),"aria-disabled":h})),n.createElement(lo,{flexGrow:!0,onClick:S,disabled:u,"data-tooltip-type":i?eA.Ib.TEXT:void 0,"data-tooltip":i?(0,el.t)("voting.modal.start_disabled_logged_out_tooltip"):void 0,recordingKey:"votingModalStartVotingSession"},n.createElement("span",null,(0,el.tx)("voting.modal.start_voting_session")))))}var ia=a(900073);function ir(e){let{setOnPastVotesClick:t,setOnNewSessionClick:a,recordingKey:r}=e,l=(0,ev.tS)(),i=void 0!==t;return n.createElement("div",{className:er.cx.flex.flexColumn.p16.$},n.createElement("div",{className:er.cx.flex.gap8.itemsCenter.mb12.$},n.createElement(l5,null)),n.createElement("div",{className:er.cx.flex.gap6.justifyCenter.$},i&&n.createElement(li,{flexGrow:i,onClick:()=>{(0,V.sx)("view_past_voting_sessions",{source:"meetings_panel",fileKey:l}),t()},recordingKey:aH.Pt(r,"viewPastVotingSessions")},(0,el.tx)("meetings_panel.voting.view_past_results_prompt")),!rb.Ay.isMeetDevice&&n.createElement(lo,{flexGrow:i,onClick:()=>{(0,V.sx)("creating_new_vote_start",{source:"meetings_panel",fileKey:l}),a()},recordingKey:aH.Pt(r,"newVote")},n.createElement("div",{className:er.cx.px4.$},(0,el.tx)("meetings_panel.voting.new_vote")))))}function il({recordingKey:e}){let[t,a]=n.useState(!1),r=(0,lV.Ld)(),l=(0,nB.Xr)(ia.Qs),i=(0,lV.Pd)(n.useCallback(()=>{a(!0)},[])),o=(0,lV.Pd)(n.useCallback(()=>{l({type:"SET_VIEW",payload:ia.iN.PAST_VOTES})},[l]));return t?n.createElement(ie,null):n.createElement(ir,{setOnPastVotesClick:r?o:void 0,setOnNewSessionClick:i,recordingKey:e})}function ii(){let e=(0,r.d4)(e=>e.mirror.appModel.votingSessionInfo),t=(0,r.d4)(e=>e.mirror.appModel.votingSessionInfo),a="meetingsPanel";switch(t.votingStage){case l.W8Y.JOINED:return n.createElement(lQ,{votingSessionInfo:e,recordingKey:a});case l.W8Y.NOT_JOINED:return n.createElement(l3,{recordingKey:a});case l.W8Y.NO_SESSION:case l.W8Y.ENDED:return n.createElement(il,{recordingKey:a})}}var io=a(662275),is=a(237870),ic=a(488578);let id="meetings_panel",iu=(0,is.Ju)(function({votingSessionId:e}){let t=(0,r.wA)(),a=(0,ev.tS)(),i=()=>{(0,V.sx)("cancel_delete_voting_session",{source:id,votingSessionId:e,fileKey:a})};return n.createElement(ic.Rw,{confirmationTitle:(0,el.t)("voting.modal.delete_voting_session_modal_header"),content:(0,el.t)("voting.modal.delete_voting_session_modal_description"),onConfirm:()=>{t(lN.$l({votingSessionId:e})),t(lN.H1({votingStage:l.W8Y.NO_SESSION})),(0,V.sx)("confirm_delete_voting_session",{source:id,votingSessionId:e,fileKey:a})},confirmText:(0,el.t)("voting.modal.delete_voting_session_modal_confirm_button"),size:"small",destructive:!0,disableClickOutsideToHide:!0,hideOnConfirm:!0,cancelText:(0,el.t)("voting.modal.delete_voting_session_modal_cancel_button"),onCancel:i,onCloseButtonClick:i,hideCancel:!1,popStack:!0,recordingKey:"deleteVotingSessionModal"})},"DeleteVotingSessionModal",is.ZU.YES);function im({recordingKey:e}){let t=(0,lx.jz)(),[a,r]=(0,n.useState)(null);return n.createElement(n.Fragment,null,t&&t.length>0?n.createElement(ea.P,{className:"previous_votes_view--scrollContainer--Jb0sL"},n.createElement("ol",{className:"previous_votes_view--resultsList--IWpfo"},t.map((t,l,i)=>{let o=i[l+1]?.id,s=t.id!==a&&(!o||o!==a)&&!!o;return n.createElement(ip,{key:t.id,title:(0,lV.DG)(t),id:t.id,userId:t.userId,createdAt:t.createdAt,shouldShowSeparator:s,setAsHovered:()=>r(t.id),setAsNotHovered:()=>r(e=>e===t.id?null:e),recordingKey:e})}))):n.createElement("div",{className:"previous_votes_view--nullResultsList--xAcum"},n.createElement("p",{className:"previous_votes_view--nullResultsListTextHeader--vWsPe previous_votes_view--nullResultsListText--qaiMF text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,el.tx)("voting.modal.previous_votes_null_text_title")),n.createElement("p",{className:"previous_votes_view--nullResultsListTextDescription--CNedi previous_votes_view--nullResultsListText--qaiMF text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,el.tx)("voting.modal.after_you_vote_results_will_show_up_right_here"))))}function ip({title:e,id:t,userId:a,createdAt:l,shouldShowSeparator:i,setAsHovered:o,setAsNotHovered:s,recordingKey:c}){let d=(0,r.wA)(),u=(0,ev.tS)();return n.createElement("li",null,n.createElement(Y.GG,{recordingKey:aH.Pt(c,"viewPastVotingSession"),className:H()("previous_votes_view--previousVotesListItem--77yUn",i&&"previous_votes_view--showSeparator--nHjDd"),onClick:()=>{(0,V.sx)("view_past_voting_session",{votingSessionId:t,source:"meetings_panel",fileKey:u}),d(lN.H1({sessionId:t,votingStage:t6.W8Y.ENDED}))},onMouseEnter:()=>o(),onMouseLeave:()=>s()},n.createElement("div",{className:"previous_votes_view--title--ndUJI text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},e),n.createElement("div",{className:"previous_votes_view--previousVotesListItemMetadata--BDnIc"},n.createElement(i_,{userId:a}),n.createElement("div",{className:"previous_votes_view--timestamp--A1VKx"},n.createElement($.h1,{date:l})))))}function i_({userId:e}){let{user:t,loading:a}=(0,eC.wW)(e);return n.createElement(n.Fragment,null,n.createElement(lA.v,{userId:e,user:t,loading:a,size:24,loadingClassName:"previous_votes_view--loadingAvatar--JzmIH",defaultClassName:"previous_votes_view--userAvatarPadding---Zhpj"}),n.createElement(lA.m,{userId:e,user:t,loading:a,defaultClassName:"previous_votes_view--username--l6MHn text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",loadingClassName:"previous_votes_view--loadingUsername--VL2uA"}))}var ih=a(776621),ig=a(433861),iE=a(240416),iy=a(599486);function iv(){return n.createElement("div",{className:"figjam_panel_separator--separator--D-ffn"})}var ib=a(42173),iC=a(781779);let iw=new Map([["STICKY",iy.BV],["TEXT",iy.N$],["FRAME",iy.H0],["SYMBOL",iy.yc],["ROUNDED_RECTANGLE",iy.xf],["CODE_BLOCK",iy.I5]]),iT=["ROUNDED_RECTANGLE","SYMBOL","FRAME"],iS=n.memo(({votingSessionInfo:e})=>{let t=(0,lx.jz)(),a=t?.find(t=>t.id===e.sessionId),r=(0,n.useMemo)(()=>[...e.votedNodes].sort((e,t)=>{let a=(0,lV.oC)(e),n=(0,lV.oC)(t);return a!==n?n-a:e.guid.localeCompare(t.guid)}),[e]),l=(0,n.useMemo)(()=>(0,lV.yn)(e.votedNodes),[e.votedNodes]);if(!a)return null;let i=!!r.length;return n.createElement("div",{className:er.cx.flex.flexColumn.minH0.flexGrow1.$},n.createElement("div",{className:"voting_results_detail_view--titleContainer--gt1pA"},n.createElement(lq,{title:(0,lV.DG)(a)})),n.createElement("div",{className:"voting_results_detail_view--byline--Fye6w"},n.createElement(lX,{votingSessionInfo:e}),n.createElement("p",{className:"voting_results_detail_view--bylineTimestamp--3Ugv4 text--fontPos12--YsUAh text--_fontBase--QdLsd"},n.createElement($.h1,{date:a.createdAt}))),i&&n.createElement(iv,null),i&&n.createElement(ea.P,null,n.createElement("ol",{className:"voting_results_detail_view--resultsList---owZd"},r.map((e,t)=>{let a=1===l.size&&l.has(e.guid);return n.createElement(iN,{isMostVoted:a,nodeVoteInfo:e,nextNodeId:r[t+1]?.guid??null,key:e.guid})}))))});function iN({nodeVoteInfo:e,nextNodeId:t,isMostVoted:a}){let l=e.guid,i=(0,ek.Jk)(l),o=(0,ne.Z)("figjam_voting"),s=(0,r.wA)(),c=(0,r.d4)(e=>e.voting.selectedVotePinId===l),d=(0,r.d4)(e=>!!t&&e.voting.selectedVotePinId===t),u=(0,r.d4)(e=>e.voting.hoveredInModalVotePinId===l),m=(0,r.d4)(e=>!!t&&e.voting.hoveredInModalVotePinId===t),p=n.useContext(ig.kw);(0,n.useEffect)(()=>{if(u)return()=>{s(lN.gA({votePinId:l}))}},[u,s,l]);let _=function(e){if(!e)return iC.xri;let t=e.whiteboardColor,a=(0,ib.BV)(t,"STICKY"===e.type?"sticky":"base");return a?eu.F.format(a):iC.xri}(i),f=i?"SHAPE_WITH_TEXT"===i.type?function(e){switch(e){case"SQUARE":return iy.dH;case"ELLIPSE":return iy.Yl;case"ROUNDED_RECTANGLE":return iy.EW;case"TRIANGLE_UP":return iy.D5;case"TRIANGLE_DOWN":return iy.kj;case"PARALLELOGRAM_RIGHT":return iy.h9;case"PARALLELOGRAM_LEFT":return iy._K;case"ENG_DATABASE":return iy.rQ;case"ENG_QUEUE":return iy.pt;case"ENG_FILE":return iy.ak;case"ENG_FOLDER":return iy.Mi;case"TRAPEZOID":return iy.qn;case"PREDEFINED_PROCESS":return iy.dA;case"SHIELD":return iy.lm;case"PENTAGON":return iy.Un;case"OCTAGON":return iy.JK;case"HEXAGON":return iy.CB;case"PLUS":return iy.c1;case"STAR":return iy.Gg;case"MANUAL_INPUT":return iy.Cu;case"DOCUMENT_SINGLE":return iy.R8;case"DOCUMENT_MULTIPLE":return iy.H$;case"CHEVRON":return iy.zp;case"ARROW_LEFT":case"ARROW_RIGHT":return iy.HK;case"SUMMING_JUNCTION":return iy.QZ;case"OR":return iy.Vq;case"SPEECH_BUBBLE":return iy.QD;case"INTERNAL_STORAGE":return iy.sJ;default:return(0,ih.x1)("voting","error unhandled shape type for shapeTypeToSvg",{shapeType:e}),iy._K}}(i.shapeWithTextType):iw.get(i.type)||iy.BV:iy.BV,h=!!i&&iT.includes(i.type),g=(()=>{if(!i)return{width:0,height:0};let e=i.absoluteBoundingBox,t=e.w,a=e.h,n=Math.min(t/72,a/72);return{width:t/n,height:a/n}})(),E=(0,eh.ai)({nodeId:l,width:g.width,height:g.height,shouldSkip:!h}),y=(0,n.useMemo)(()=>{if(i){if(i.textSublayer)return i.textSublayer.textContent;if(i.textContent)return i.textContent;if(i.name)return i.name}return""},[i]),v=(0,lV.oC)(e);return n.createElement("li",null,n.createElement("button",{className:H()("voting_results_detail_view--resultsListItemButton--4llQi",{"voting_results_detail_view--resultsListItemButtonWinner--6bIhk":a,"voting_results_detail_view--resultsListItemButtonSelected--Z3vdm":c,"voting_results_detail_view--showSeparator--6aQOA":!c&&!d&&!u&&!m&&!!t}),onClick:function(){s(lN.w9({votePinId:e.guid})),i&&o((0,iE.e)(i,p,"vote"))},onMouseEnter:function(){(0,rb.aJ)()&&s(lN.Vw({votePinId:l}))},onMouseLeave:function(){(0,rb.aJ)()&&s(lN.gA({votePinId:l}))}},n.createElement("div",{className:"voting_results_detail_view--resultsListItemCountContainer--1fD-h"},n.createElement("div",{className:"voting_results_detail_view--resultsListItemCountText--m6rWN text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,el.tx)("voting.modal.votes",{numVotes:v,numVotesElem:n.createElement("p",{className:"voting_results_detail_view--resultsListItemCount--DLrXt text--fontPos13--xW8hS text--_fontBase--QdLsd"},v)}))),n.createElement("p",{className:"voting_results_detail_view--resultsListItemDetails--hz7gX text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k"},y),n.createElement("div",{className:"voting_results_detail_view--resultsListItemThumbnail--Qjux6"},E&&h?n.createElement("img",{className:"voting_results_detail_view--nodePreviewImage--fugfT",src:E.src,width:E.displaySize.x,height:E.displaySize.y,alt:(0,el.t)("voting.modal.voting_results_image_preview_alt")}):n.createElement(f,{color:_}),a&&n.createElement("img",{src:iy.G7,className:"voting_results_detail_view--medal--JzOBO",alt:(0,el.t)("voting.modal.medal_img_alt")}))))}var ix=a(60088),ik=a(647173);function iI(e){let{headerText:t,goBack:a,options:r,onMinimize:l,onOptionsMenuClick:i,recordingKey:o}=e;return n.createElement("div",{className:"meetings_panel_header--meetingsPanelPageContainer--TK5qd"},n.createElement(iA,{headerText:t,goBack:a,options:r,onMinimize:l,onOptionsMenuClick:i,recordingKey:o}),n.createElement(iv,null),e.children)}let iA=n.memo(e=>{let{headerText:t,goBack:a,options:r,onMinimize:l,onOptionsMenuClick:i,recordingKey:o}=e,{Dropdown:s,toggleDropdown:c,dropdownTargetRef:d,isDropdownShown:u}=(0,ix.B)("MEETINGS_PANEL_HEADER_OVERFLOW_MENU"),m=n.useCallback(e=>{i?.(),c()},[c,i]),p=n.useMemo(()=>r&&r.length>0?r.map(e=>({displayText:e.text,isChecked:!1,callback:e.callback,recordingKey:e.recordingKey})):null,[r]);return n.createElement(n.Fragment,null,n.createElement("div",{className:"meetings_panel_header--meetingsPanelHeader--6cBGV"},n.createElement(en.B,{svg:ik.A,className:"meetings_panel_header--panelHeaderBackButton--03dhC",onClick:rb.Ay.isIpad?void 0:a,onPointerDown:rb.Ay.isIpad?a:void 0,recordingKey:aH.Pt(o,"backButton")}),t&&n.createElement("span",{className:"meetings_panel_header--meetingsPanelHeaderText--KW2Jw text--fontPos11--2LvXf text--_fontBase--QdLsd"},t),n.createElement("div",{className:er.cx.mlAuto.$,ref:d},p&&n.createElement(rN.YW,{svg:lR.A,label:"dots",className:"meetings_panel_header--panelHeaderOverflowMenuIcon--zCGI4",onClick:m,"aria-label":(0,el.t)("meetings_panel.header.overflow_menu_aria_label"),"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":(0,el.t)("meetings_panel.header.overflow_menu_aria_label"),selected:u,recordingKey:aH.Pt(o,"expandMenuItems")})),n.createElement("div",null,p&&n.createElement(s,{items:p,showPoint:!0,minWidth:135,recordingKey:aH.Pt(o,"expandMenuItems")}),l&&n.createElement(aN.Jn,{onClick:l}))))}),iL="meetings_panel";function iO(){let e=(0,r.d4)(e=>e.mirror.appModel.votingSessionInfo),t=n.useMemo(()=>e&&e.sessionId.length>0,[e]),a=(0,r.wA)(),i=(0,nB.Xr)(ia.Qs),o=(0,r0.qU)(),s=(0,r.Pj)(),c=(0,W.am)(),d="pastVotingSessions",u=n.useCallback(()=>{t?a(lN.H1({votingStage:l.W8Y.NO_SESSION})):i({type:"SET_VIEW",payload:ia.iN.DEFAULT})},[t,a,i]),m=n.useCallback(()=>{o({source:r0.OO.MEETINGS_PANEL})},[o]),p=n.useCallback(()=>{c("click_voting_results_more_options",{votingSessionId:e.sessionId,source:iL})},[c,e]),_=n.useCallback(()=>{a(io.$O({type:iu.type,showModalsBeneath:!0,data:{votingSessionId:e.sessionId}})),c("click_delete_voting_session",{votingSessionId:e.sessionId,source:iL})},[a,e,c]),f=n.useCallback(()=>{c("click_export_voting_session_as_csv",{votingSessionId:e.sessionId,source:iL}),lN.Ev(s.getState(),e.sessionId)},[s,e,c]),h=n.useMemo(()=>{if(t){let e=[{text:(0,el.t)("voting.modal.actions.delete_voting_session"),callback:_,recordingKey:"votingModalDeleteVotingSession"}];return rb.Ay.isIpadNative||e.unshift({text:(0,el.t)("voting.modal.actions.export_as_csv"),callback:f,recordingKey:"votingModalExportAsCsv"}),e}},[t,f,_]);return n.createElement(iI,{headerText:(0,el.t)("meetings_panel.voting.results"),goBack:u,onMinimize:m,onOptionsMenuClick:p,options:h,recordingKey:d},t?n.createElement(iS,{votingSessionInfo:e}):n.createElement(im,{recordingKey:d}))}var iR=a(2342),iM=a(136068),iD=a(304298);function iP(){let e=(0,r0.$3)();return n.createElement("div",{className:"volume_view--volumeView--XbP1r"},n.createElement(iM.aY,{volumeJustification:iD.Z.INLINE,sliderVisibilitySetting:e?iM.s1.NEVER:iM.s1.ALWAYS,sliderFullWidth:!0,buttonGap:5,iconColor:iM.J.DEFAULT,withDarkHoverBg:!0,muteOnTouch:e}))}function iF(){let[e,t]=(0,lw.Jg)(),a=(0,r.d4)(e=>e.mirror.appModel.showUi);return((0,lw.ey)(t.playStartChime),(0,lw.YO)(),!function(){rQ();let e=(0,rq.oc)({musicSource:"StandaloneMusic",loadingPlaybackUrl:"https://static.figma.com/uploads/f4e48159672101a168b296a94e39ef02f032e171",previousPlayerInstance:(0,r.d4)(e=>e.music.playerInstance)||void 0,timeUpdateListener:(0,c.kc)().figjam_more_tracks_listen?e=>{e.currentTime>e.duration-.3&&(e.currentTime=0,e.play())}:void 0}),t=(0,r.d4)(e=>e.music.music),a=t?.selectedSongID,l=rJ.N(a||"")?.playback_url,i=(0,r.d4)(e=>e.music.volume),o=(0,r.d4)(e=>e.music.isMuted),s=(0,r.wA)();n.useEffect(()=>{s(rX.qV())},[s]),n.useEffect(()=>{(0,c.kc)().figjam_more_tracks_listen&&s(rX.jt())},[s]),n.useEffect(()=>{s(rX.wk(e))},[s,e]),n.useEffect(()=>()=>{e.stop()},[e]),n.useEffect(()=>{s(rX.tk({isMuted:0===i,userInitiated:!1}))},[s,i]);let d=n.useCallback(()=>{s(rX.tk({isMuted:!0,userInitiated:!1})),s(rY.F.enqueue({message:(0,el.t)("whiteboard.timer.unmute_music_message"),button:{text:(0,el.t)("whiteboard.timer.unmute_music_button"),action:()=>{s(rX.tk({isMuted:!1,userInitiated:!0}))}},type:rq.XZ,onDismiss:()=>{}}))},[s]);n.useEffect(()=>{if(l!==e.audio.currentSrc&&e.setSource(l||""),!l){e.stop();return}if(t?.isPaused){e.pause();return}if(!t?.isPaused){if(!e.isPaused()||!l)return;e.playAtTimestamp({src:l,timestamp:(0,rX.UQ)(t),onFailure:d})}},[l,t,e,d,o])}(),(0,lV.YR)(),(0,lV.FJ)(),(0,lw.OI)(),(0,lw.rJ)(),(0,d.md)(ia.Qs).isOpen&&a)?n.createElement(iB,null):null}function iB(){let e=(0,d.md)(ia.Qs),t=(0,r0.$3)(),a=(0,r0.qU)(),r=(0,lV.Av)(),l=(0,rf.U1)();return n.createElement("div",{className:"meetings_panel--meetingsPanelModal--2NL5Z",ref:l},e.view!==ia.iN.PAST_VOTES||t?n.createElement("div",{className:"meetings_panel--meetingsPanelContents--nnSLj"},n.createElement(iR.w,{title:r?(0,el.t)("meetings_panel.toolbar_tooltip"):(0,el.t)("meetings_panel.toolbar_tooltip.no_voting"),onClose:()=>a({source:r0.OO.MEETINGS_PANEL})}),n.createElement(ea.P,{className:"meetings_panel--meetingToolsScrollWrapper--D5CUY"},n.createElement(iU,null))):n.createElement(iO,null))}function iU(){let e=(0,lV.Av)(),t=(0,lV.Ld)(),a=e&&rb.Ay.isMeetDevice&&t,r=rb.Ay.isMeetDevice?a:e;return n.createElement("div",{className:er.cx.colorBg.$},n.createElement(iP,null),n.createElement(iv,null),n.createElement(lS,null),n.createElement(iv,null),n.createElement(ly,null),r&&n.createElement(n.Fragment,null,n.createElement(iv,null),n.createElement(ii,null)))}var iH=a(655515),iG=a(665194),iV=a(653671),iz=a(412371),iK=a(448169),iW=a(547841);function ij(e){let t=(0,nB.Xr)(iH.Cx),[a,r]=(0,n.useState)(!1),l=(0,iG.hs)();return n.createElement("div",null,n.createElement(iK.V,null,n.createElement(iR.w,{title:(0,el.t)("fullscreen.pages_panel.pages"),onClose:t,showBottomBorder:a}),n.createElement(iZ,{width:e.width,pagesList:e.pagesList,setIsScrolled:r},n.createElement(eR.bU,{isReadOnly:e.isReadOnly,pages:e.pagesList,shouldHighlightActivePage:!0,isComparingChanges:!1,onContextMenu:e.onPageContextMenu})),l&&n.createElement(iY,{recordingKey:"figjamPagesPanel"})))}function iZ({width:e,pagesList:t,setIsScrolled:a,children:r}){let l=(0,iG.hs)(),i=(0,n.useRef)(null);(0,iW.a)({pagesList:t,scrollContainerRef:i});let o=(0,n.useCallback)(e=>{a(e>0)},[a]);return n.createElement(ea.P,{horizontalScrollingDisabled:!0,width:e,onScroll:o,ref:i,innerClassName:H()("pages_panel_ui2--scrollContainerInner---lutT",{"pages_panel_ui2--withBottomPadding--b4Z0j":!l})},r)}function iY({recordingKey:e}){return n.createElement("div",{className:"pages_panel_ui2--footerContainer--4Nk4z"},n.createElement(iX,{recordingKey:(0,aH.Pt)(e,"addPage")}))}function iX({recordingKey:e}){let t=(0,nQ.rE)(),a=aH.rf(e,"click",()=>{t(null)});return n.createElement(aG.tM,{className:H()("pages_panel_ui2--secondaryButton--xllEl","pages_panel_ui2--flexGrow--22c55","pages_panel_ui2--withHover--iwz0G"),onClick:a},(0,el.tx)("fullscreen_actions.new_page"))}function iq(){let e=(0,eO.cT)(),t=(0,eO.n0)(),a=(0,nB.Xr)(iV.aN);(0,n.useEffect)(()=>{a(!0)},[a]);let r=(0,iG.sv)(),l=(0,iz.g)({pagesList:t,shouldShowDuplicateOption:r});return n.createElement(n.Fragment,null,n.createElement(ij,{isReadOnly:e,width:200,pagesList:t,onPageContextMenu:l}))}function iJ(){let e=(0,r.d4)(e=>e.mirror.appModel.showUi),t=(0,d.md)(iH.ET),a=(0,nB.Xr)(iH.Cx);return(0,n.useEffect)(()=>a,[a]),t&&e?n.createElement("div",{key:"figjam-pages-sidebar",className:H()("pages_sidebar_ui2--positioner--MStQb",rh.Dm)},n.createElement("div",{className:"pages_sidebar_ui2--panel--ZLyMB"},n.createElement(iq,null))):null}var iQ=a(877723);function i$({children:e,hasHoverableBackground:t,onboardingKey:a}){return n.createElement("div",{className:H()("floating_panel--container--3qp3k",{"floating_panel--hoverableBackground--h8B5i":t}),"data-onboarding-key":a},e)}var i0=a(339690),i1=a(27947),i2=a(135298),i5=a(368702),i3=a(861717),i4=a(932037);function i6(){let[e,t]=(0,d.fp)(og),a=n.useCallback(()=>{e?t(!1):((0,i5.W)("right",()=>t(!1)),t(!0))},[e,t]);return(0,c.kc)().async_spotlight?n.createElement(i3.Z,{onClick:a,tooltip:{type:eA.Ib.TEXT,text:(0,el.t)("recordings.recordings")},isActive:e},n.createElement(en.B,{svg:i4.A})):null}var i7=a(334290),i8=a(766926),i9=a(435898),oe=a(535688),ot=a(194092);let oa="figjam_right_panel--container--z4q5E",on="figjam_right_panel--controls--1DAKo",or="figjam_right_panel--leftSection--wZTVw",ol="figjam_right_panel--middleSection--xMAsd";function oi(){let e=(0,r.wA)(),t=(0,ev.q5)(),a=(0,eE.Um)(),i=(0,r.d4)(e=>e.multiplayer),o=(0,eb.dR)(),s=(0,eT.iZ)(),d=n.useMemo(()=>i.allUsers.find(e=>e.sessionID===i.sessionID)||null,[i.allUsers,i.sessionID]),u=(0,X.B4)(),m=(0,ey.aV)(),p=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===l.lyf.HISTORY),_=!(0,iQ.q8)()&&(0,i9.Uy)(),f=rb.Ay.isMeetDevice,h=(0,c.kc)().async_spotlight&&!f,g=(0,r9.DG)(t?.key||"").enabled,E=n.useCallback(t=>{(0,eF.Lx)(t,d?.sessionID,e,!1,i,o,u)},[d?.sessionID,e,i,o,u]),y=(0,rf.U1)();return m?n.createElement("div",{className:oa},n.createElement(i$,{hasHoverableBackground:!1},n.createElement("div",{className:on},n.createElement("div",{className:or},n.createElement(os,null)),n.createElement("div",{className:ol},n.createElement(oc,null),n.createElement(oc,null),n.createElement(oc,null),n.createElement(od,null),!h&&n.createElement(oc,null)),n.createElement(ou,null)))):n.createElement(iK.V,{ref:y,className:H()(oa,rh.Dm),"data-cancel-insertable-resource-drag-and-drop":!0},n.createElement(i$,{hasHoverableBackground:!1,onboardingKey:i0.Lj},n.createElement("div",{className:on},n.createElement("div",{className:or},n.createElement(i1.sK,{isUI3:!0}),i&&t&&d&&n.createElement(eF.v7,{dropdownShown:a,multiplayer:i,currentUser:d,onUserClick:E})),!p&&n.createElement("div",{className:ol},_&&n.createElement(oe.V,null),n.createElement(i8.y,null),!f&&n.createElement(i2.j,null),n.createElement(ot.J,null),h&&n.createElement(i6,null)),t&&n.createElement(eB.w,{user:s,editingFile:t,isFileInWorkshop:g}),!s&&!f&&n.createElement(i7.tO,null))))}function oo({width:e,borderRadius:t="medium"}){return n.createElement("div",{className:"figjam_right_panel--loadingPlaceholder--Z4Q63",style:{width:e,borderRadius:"full"===t?"var(--radius-full)":"var(--radius-medium)",visibility:"hidden"}},n.createElement(eQ._b,null))}function os(){return n.createElement("div",{className:"figjam_right_panel--multiplayerPlaceholderContainer--ZLhPf"},n.createElement(oo,{width:40,borderRadius:"full"}))}function oc(){return n.createElement(oo,{width:32})}function od(){return n.createElement(oo,{width:90})}function ou(){return n.createElement(oo,{width:55})}var om=a(59779);let op="whiteboard_ui--leftSidebar--WE2SD whiteboard_ui--figjamModalSidebar--TXgbQ whiteboard_ui--sidebarBase--2SwnS",o_="whiteboard_ui--uiHidden--Hsyad",of="whiteboard_ui--stackedContainer--2mtV9",oh="whiteboard_ui--rightSidebarUI3--9Xzv3",og=(0,Z.eU)(!1),oE=(0,z.jz)(tb.uj0),oy=n.memo(function(){let e=(0,rj.Vi)(),t=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===t6.lyf.HISTORY),a=(0,ey.p8)("showUi"),l=(0,ep.GS)();(function(){let e=(0,t8.Kx)(),t=(0,r.d4)(e=>e.timer.modalState),a=(0,d.md)(ia.Qs);n.useEffect(()=>{e?.updateTimerModalState&&e.updateTimerModalState(a.isOpen?"open":"closed")},[e,t,a.isOpen]);let l=(0,r.d4)(e=>e.timer.time);n.useEffect(()=>{e?.updateTimerTime&&l&&e.updateTimerTime(l)},[e,l])})(),(0,rg.M)(),function(){let e=(0,nB.Xr)(ia.Qs);n.useEffect(()=>()=>{e({type:"CLOSE"})},[e])}();let i=(0,t8.Kx)(),o=a&&!i?.shouldOptimizeForIpadApp&&e;return n.createElement(l?oC:ob,{showUi:a,inVersionHistory:t,isCommentsPanelOpen:o})});function ov(){return n.createElement("div",{className:"whiteboard_ui--commentsContainer--HLR1i"},n.createElement(rG.L,{showSidebar:!0,scrollable:!1},n.createElement(rB.B,{hidePageName:!0,hideResolve:!1,onCloseButton:()=>l.glU.triggerActionInUserEditScope("set-tool-default",null)})))}function ob({showUi:e,inVersionHistory:t,isCommentsPanelOpen:a}){let r=(0,rK.WQ)(),l=(0,rE.Lk)(),i=(0,c.kc)().figjam_pages_in_figjam,o=(0,rZ.FR)(),s=(0,d.md)(ia.Qs).isOpen,u=(0,ry.S)();if(t1.pb.isGoogleClassroomIntegration())return n.createElement(n.Fragment,null,a&&n.createElement(ov,null));if(t)return n.createElement(n.Fragment,null,e&&n.createElement(n.Fragment,null,n.createElement("div",{className:H()(op,rh.Dm),style:{bottom:r}},i&&n.createElement(iJ,null)),n.createElement(rW,{className:"whiteboard_ui--versionHistoryRightSidebar--7wtYE whiteboard_ui--rightSidebar--CJHYf whiteboard_ui--figjamModalSidebar--TXgbQ whiteboard_ui--sidebarBase--2SwnS",style:{bottom:r}},n.createElement(rU.yU,null))),n.createElement(oN,{isTopToolbarShowing:e,isRightSidebarShowing:e},n.createElement(rD,null)));let m=!!e&&(!!a||!o&&!!s||!!u);return n.createElement(n.Fragment,null,n.createElement("div",{className:H()(op,rh.Dm,{[o_]:!e}),style:{bottom:r}},i&&n.createElement(iJ,null),o&&n.createElement(iF,null)),n.createElement("div",{className:H()("whiteboard_ui--rightSidebar--CJHYf whiteboard_ui--figjamModalSidebar--TXgbQ whiteboard_ui--sidebarBase--2SwnS",{[o_]:!e}),style:{bottom:r,right:a?oE+16:16}},n.createElement("div",{className:H()(of,rh.Dm)},l&&n.createElement(rV.s,null),!o&&n.createElement(iF,null))),a&&n.createElement(ov,null),n.createElement(oN,{isTopToolbarShowing:e,isRightSidebarShowing:m},n.createElement(rD,null)))}function oC({showUi:e,inVersionHistory:t,isCommentsPanelOpen:a}){let r=(0,d.md)(ia.Qs).isOpen,i=(0,d.md)(rz.zS)===rz.Wl.TOP_BAR,o=(0,d.md)(og),s=(0,ry.S)(),c=(0,rE.Lk)(),u=(0,ex.J2)(l.Ez5.uiState().showCanvasSearch),m=(0,n.useRef)(null),[p,_]=n.useState(null),f=(0,rK.$9)(p);n.useLayoutEffect(()=>{_(m.current?.lastElementChild)},[m,a,r,i,o,s,t,u]);let h=t?e?n.createElement(oS,null):null:n.createElement(oT,{isCommentsPanelOpen:a});return t1.pb.isGoogleClassroomIntegration()?n.createElement("div",{className:oh,style:{bottom:f}},n.createElement("div",{ref:m,className:H()(of,rh.Dm)},a&&n.createElement(ow,null))):n.createElement("div",{className:oh,style:{bottom:f}},n.createElement("div",{ref:m,className:H()(of,rh.Dm)},e&&n.createElement(oi,null),n.createElement(rD,null),c&&n.createElement(rV.s,null),h))}function ow(){return n.createElement("div",{className:"whiteboard_ui--commentsContainerUI3--0VMH4"},n.createElement(rW,null,n.createElement(rB.B,{hidePageName:!0,hideResolve:!1,onCloseButton:()=>l.glU.triggerActionInUserEditScope("set-tool-default",null)})))}function oT({isCommentsPanelOpen:e}){let[t,a]=(0,d.fp)(og);return n.createElement(n.Fragment,null,n.createElement(iF,null),(0,c.kc)().async_spotlight&&t&&n.createElement(rH.h,{onClose:()=>a(!1)}),n.createElement(om.fh,null),e&&n.createElement(ow,null))}function oS(){let e=(0,rf.U1)();return n.createElement(rW,{ref:e},n.createElement(rU.yU,{isUI3:!0}))}function oN({isTopToolbarShowing:e,isRightSidebarShowing:t,children:a}){return n.createElement("div",{className:H()("whiteboard_ui--searchContainerUI2--OYScK",{"whiteboard_ui--withTopToolbar---Orkn":e,"whiteboard_ui--withRightSidebar--6yF6U":t})},a)}var ox=a(251960),ok=a(683694),oI=a(723239),oA=a(582947),oL=a(394828),oO=a(340514),oR=a(991820),oM=a(433195);let oD=(0,oA.r1)(oM.WX),oP=(0,oA.r1)(oM.b6),oF=!1;function oB(){let e=(0,r.wA)(),t=(0,d.md)(ok.wg),a=(0,ey.aV)(),l=(0,d.md)(oI.mp),i=(0,v._I)(),o=(0,ep.GS)(),s=(0,d.md)(oP),c=(0,d.md)(oD),{uniqueId:u,show:m,complete:p,isShowing:_}=(0,am.e)({overlay:ay.kc4,priority:af.N.SECONDARY_MODAL},[c,s,l]),f=(0,S.U)("modal"),h=n.useCallback(()=>{!a&&!oF&&t&&i&&(0!==(nt.q.instance.getCurrentPage()?.childrenGuids.length||0)&&m({canShow:(e,t,a)=>!e&&!t&&function(e){let t=Date.now();return e.getTime()<=t-12096e5}(a)}),oF=!0)},[m,i,t,a]);function g(){e(eK.b({[oM.WX]:!0})),p()}n.useEffect(()=>{o||h()},[h,o]),(0,ox.E)(u,(0,oR.w)("design"),()=>{h()}),n.useEffect(()=>{"loaded"===c.status&&c.data&&p()},[c,p]),(0,ox.E)(u,"Enter Inspect Mode",()=>{_&&g()});let E=(0,ep.GS)()?aT.ON:y.e;return n.createElement(oO.rq,{isShowing:_,trackingContextName:oM.WX,onClose:g,targetKey:E,title:(0,el.tx)("dev_handoff.annotations_introduction_overlay.title"),media:n.createElement(oL.y,{src:"https://static.figma.com/uploads/5b9addc96424c11577a1ec91e1bbadcd786fe343",alt:(0,el.t)("dev_handoff.annotations_introduction_overlay.image_alt"),aspectRatio:1280/720}),description:(0,el.tx)("dev_handoff.annotations_introduction_overlay.description"),primaryCta:{label:(0,el.tx)("dev_handoff.annotations_introduction_overlay.primary_cta"),type:"button",onClick:function(){f("handoff")},ctaTrackingDescriptor:au.c.SHOW_ME}})}var oU=a(502665);let oH=(0,oA.r1)(oM.b6),oG=(0,oA.r1)(oM.WX),oV=!1,oz=!1;function oK(){let e=(0,r.wA)(),t=(0,ey.aV)(),a=(0,d.md)(oI.mp),i=(0,d.md)(oU.N),o=(0,ex.J2)(l.Ez5.annotationObserver().annotationInfoByTlf),s=d.md(ev.yV)?.creatorId,c=(0,d.md)(oH),u=(0,d.md)(oG),{uniqueId:m,show:p,complete:_,isShowing:f}=(0,am.e)({overlay:ay.kc4,priority:af.N.SECONDARY_MODAL},[c,u,a,i]),h=(0,S.U)("modal"),g=o.size>0;function E(){e(eK.b({[oM.b6]:!0})),_()}n.useEffect(()=>{t&&(oz=!0),!t&&!oV&&oz&&g&&(p({canShow:(e,t,a,n)=>!e&&!t&&s!==n&&function(e){let t=Date.now();return e.getTime()<=t-12096e5}(a)}),oV=!0)},[g,t,s,p]),n.useEffect(()=>{"loaded"===c.status&&c.data&&_()},[c,_]),(0,ox.E)(m,"Enter Inspect Mode",()=>{f&&E()});let v=(0,ep.GS)()?aT.ON:y.e;return n.createElement(oO.rq,{isShowing:f,trackingContextName:oM.b6,onClose:E,targetKey:v,title:(0,el.tx)("dev_handoff.annotations_upsell_overlay.title"),media:n.createElement(oL.y,{src:"https://static.figma.com/uploads/e84a2faeb510847abd7bfb9c15a74ef974bb4c13",alt:(0,el.t)("dev_handoff.annotations_introduction_overlay.image_alt"),aspectRatio:1280/720}),description:(0,el.tx)("dev_handoff.annotations_upsell_overlay.description"),primaryCta:{label:(0,el.tx)("dev_handoff.annotations_upsell_overlay.primary_cta"),type:"button",onClick:function(){h("handoff")},ctaTrackingDescriptor:au.c.OPEN_DEV_MODE},secondaryCta:{label:(0,el.tx)("dev_handoff.annotations_upsell_overlay.secondary_cta"),type:"button",onClick:_,ctaTrackingDescriptor:au.c.NOT_NOW}})}var oW=a(7860),oj=a(297666),oZ=a(716622);function oY({propertiesPanelWidth:e,isInsetEditorEnabled:t}){let[a,r]=(0,n.useState)((0,oZ.iM)({propertiesPanelWidth:e,isInsetEditorEnabled:t})),l=(0,n.useCallback)(()=>{r((0,oZ.iM)({propertiesPanelWidth:e,isInsetEditorEnabled:t}))},[t,e]);return(0,n.useEffect)(()=>{let e=(0,oj.s)(()=>{l()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[l]),(0,n.useEffect)(()=>{l()},[e,l,t]),n.createElement(aq.vx,{title:"Testing floating modal",headerSize:"small",initialWidth:oZ.yx,initialHeight:.8*window.innerHeight,initialPosition:new a6.Mi(a.x,a.y)},n.createElement("div",{style:{backgroundColor:"white",border:"2px solid",width:"10px",height:"10px"},"data-testid":"in-product-help-floating-modal"}))}var oX=a(346124),oq=a(544403),oJ=a(96225);function oQ(){let{inProductHelpViewType:e}=(0,oZ.A5)(),t=(0,ex.J2)(l.Ez5.uiState().inProductHelpSidePanelWidth);return"side_panel"!==e?null:n.createElement(iK.V,null,n.createElement(oJ.X,null,n.createElement(oq.l,{className:H()("side_panel_component--panelPosition--PdKWE",rh.Dm),size:t,onResize:e=>{!function(e){let t=(0,oX.clamp)(e,oZ.Jm,oZ.tL);l.Ez5?.uiState().inProductHelpSidePanelWidth.set(t)}(e)},side:"left","data-cancel-insertable-resource-drag-and-drop":!0},n.createElement("div",{className:"side_panel_component--panelContainer--7JKrx",style:{width:`${t}px`},"data-testid":"in-product-help-side-panel"}))))}function o$({propertiesPanelWidth:e,isInsetEditorEnabled:t}){let{inProductHelpViewType:a,updateInProductHelpViewOnWindowWidthResize:r}=(0,oZ.A5)();return(n.useEffect(()=>{let e=(0,oj.s)(()=>{"hidden"!==a&&r()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[a,t,e,r]),"side_panel"===a)?n.createElement(oQ,null):"floating_modal"===a?n.createElement(oY,{propertiesPanelWidth:e,isInsetEditorEnabled:t}):null}var o0=a(27087),o1=a(553015),o2=a(809840),o5=a(218997),o3=a(15839),o4=a(233286);function o6(){let e=(0,am.e)({overlay:ay.Dqt,priority:af.N.DEFAULT_MODAL});(0,ox.E)(e.uniqueId,"commentThreadMobileAnnouncementClicked",()=>{(0,V.sx)("sidebar_announcement_mobile_app_download_prompt_modal_shown"),e.show({})});let t=(0,n.useCallback)(async()=>{(0,V.sx)("sidebar_announcement_mobile_app_download_prompt_email_me_cta_clicked"),await o0.Ay.post("/api/send_mobile_download_email"),e.complete()},[e]);return n.createElement(o5.h,{isShowing:e.isShowing,modalType:o3.q3.FEATURE_UPDATE,closeButtonStyle:o3.M_.ON_DARK,element:()=>n.createElement(o7,{onEmailClick:t}),trackingContextName:"mobile_comment_announcement",onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete})}function o7(e){return n.createElement("div",{className:"modal_comment_sidebar_announcement--container--5oh-p"},n.createElement("div",{className:"modal_comment_sidebar_announcement--imageContainer--Vuo-V"},n.createElement("img",{alt:"Background",src:"https://static.figma.com/uploads/e19f2f58bc09414847ad59ff9228e07032e8842c",className:"modal_comment_sidebar_announcement--image--lyA61"}),n.createElement("div",{className:"modal_comment_sidebar_announcement--spacer--m02YT"}),n.createElement(o4.T,null)),n.createElement("div",{className:"modal_comment_sidebar_announcement--textContainer--btaTy"},n.createElement("div",{className:"modal_comment_sidebar_announcement--title--eiyLq"},n.createElement(o2.E,{fontSize:24,fontWeight:"semi-bold"},(0,el.t)("rcs.mobile_comment_announcement.title"))),n.createElement("div",{className:"modal_comment_sidebar_announcement--description--Y8AJE"},n.createElement(o2.E,{fontSize:14},(0,el.t)("rcs.mobile_comment_announcement.description")))),n.createElement("div",{className:"modal_comment_sidebar_announcement--buttonsContainer--UTcgc"},n.createElement(o1.$,{variant:"secondary",icon:"envelope-32",onClick:e.onEmailClick},(0,el.t)("rcs.mobile_comment_announcement.email_download_link")),n.createElement(o1.$,{variant:"primary",onClick:()=>{(0,V.sx)("sidebar_announcement_mobile_app_download_prompt_learn_more_cta_clicked"),K.Ay.unsafeRedirect("https://help.figma.com/hc/articles/1500007537281-Guide-to-the-Figma-mobile-app#download","_blank")},icon:"info-32"},(0,el.t)("rcs.rcs_shared.learn_more"))))}var o8=a(324581),o9=a(844519),se=a(228997),st=a.n(se),sa=a(915440),sn=a(711525),sr=a(99380),sl=a(881388),si=a(896474),so=a(975350),ss=a(694517),sc=a(493536),sd=a(597642),su=a(746830),sm=a(965626),sp=a(721047),s_=a(7760),sf=a(147755),sh=a(717037),sg=a(188276),sE=a(321112);let sy=(0,is.Ju)(function(e){let t=(0,r.wA)(),a=s_.a.useModal(e),[l,i]=n.useState(""),o=n.useCallback(e=>{i(e.currentTarget.value)},[]),s=(0,sf.X)(),[c,d]=n.useState(!1),m=async()=>{d(!0);let a=await su.F.getUploadUrls(e.fileKey),n=e.recordedPositions.arrayBuffer().then(e=>{let t=new Uint8Array(e);return(0,sh.E)(u.e.WAYFINDING,"uploadWalkthroughPositionRecording",a.data.meta.position.url,a.data.meta.position.fields,t,"application/json")}),r=e.userMediaRecording.arrayBuffer().then(e=>{let t=new Uint8Array(e);return(0,sh.E)(u.e.WAYFINDING,"uploadWalkthroughMediaRecording",a.data.meta.media.url,a.data.meta.media.fields,t,"video/webm")}),[i,o]=await Promise.all([n,r]);t(sg.D({fileKey:e.fileKey,savepointID:e.fileVersionId,label:l,description:"async walkthrough"})),await su.F.saveWalkthroughMedia(e.fileKey,e.fileVersionId,i,o,l,e.currentPage,e.firstPosition.x,e.firstPosition.y,e.isAudioOnly,e.lengthMs),t(rY.F.enqueue({message:(0,el.t)("recordings.recording_saved")})),t(io.Lo()),e.onRecordingSaved()};return n.createElement(s_.a.Root,{manager:a,width:"md"},n.createElement(s_.a.Contents,null,n.createElement(s_.a.Header,null,n.createElement(s_.a.Title,null,(0,el.tx)("recordings.save_recording"))),n.createElement(s_.a.Body,null,n.createElement(Q.ks,{ref:s,name:"title",type:"text",className:sE._Z,placeholder:(0,el.t)("recordings.title_field_placeholder"),value:l,onChange:o})),n.createElement(s_.a.Footer,null,n.createElement(s_.a.ActionStrip,null,n.createElement(Q.$$,{type:"submit",className:sE.pL,disabled:0===l.length,onClick:m},c?n.createElement(et.kt,{shouldMatchTextColor:!0}):(0,el.tx)("general.save"))))))},"SAVE_ASYNC_WALKTHROUGH_MODAL",is.ZU.YES);var sv=a(683472),sb=a(335650),sC=a(548091),sw=a(752256),sT=a(434228);function sS(e){return(0,sT.O)()?n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 5h2.5a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1ZM4 6a2 2 0 0 1 2-2h2.5a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm11.5-1H18a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2.5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Zm-2 1a2 2 0 0 1 2-2H18a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-2.5a2 2 0 0 1-2-2V6Z",clipRule:"evenodd"})):n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7 5h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1ZM5 6a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Zm10-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Zm-2 1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2V6Z",clipRule:"evenodd"}))}function sN(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m9 16 3 3 1 1V4l-1 1-3 3H4.5a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5H9Zm3.293-12.707L8.586 7H4.5A1.5 1.5 0 0 0 3 8.5v7A1.5 1.5 0 0 0 4.5 17h4.086l3.707 3.707A1 1 0 0 0 14 20v-1h.06H14V4a1 1 0 0 0-1.707-.707ZM21 12a7.003 7.003 0 0 1-5.5 6.839v-1.028a6.003 6.003 0 0 0 0-11.622V5.161a7.003 7.003 0 0 1 5.5 6.84Zm-2 0a5.002 5.002 0 0 1-3.5 4.771V15.71a4.001 4.001 0 0 0 0-7.418V7.229A5.002 5.002 0 0 1 19 12Zm-2 0a3 3 0 0 1-1.5 2.599v-1.276c.311-.353.5-.816.5-1.323s-.189-.97-.5-1.323V9.401a2.999 2.999 0 0 1 1.5 2.6Z",clipRule:"evenodd"}))}var sx=a(973149);function sk(e){let{onPlay:t,onPause:a,onTimeUpdate:r}=e,l=n.useCallback(()=>{e.video&&e.video.pause(),a()},[e.video,a]),i=n.useCallback(()=>{e.video&&e.video.play(),t()},[e.video,t]),o=n.useCallback(t=>{e.video&&(e.video.currentTime=t),r()},[e.video,r]),s=n.useMemo(()=>e.isPlaying?n.createElement(k.K,{onClick:l,"aria-label":(0,el.t)("fullscreen.properties_panel.pause")},n.createElement(sS,null)):n.createElement(k.K,{onClick:i,"aria-label":(0,el.t)("fullscreen.properties_panel.pause")},n.createElement(lc.K,null)),[i,l,e.isPlaying]),c=e.video&&!isNaN(e.video.duration)?e.video.duration:e.lengthMs/1e3,d=n.useMemo(()=>new sx.f0(Number.POSITIVE_INFINITY,!1,!1),[]),[u,m]=n.useState(!1),[p,_]=n.useState(1),f=n.useCallback(t=>{if(!e.video)return;let a=parseFloat(t.target.value);_(a),e.video.volume=a},[e.video]);return n.createElement(n.Fragment,null,n.createElement("div",{className:"recording_video_controls--iconGroup--b52pU"},s,n.createElement(k.K,{onClick:()=>m(!u),"aria-label":(0,el.t)("fullscreen.properties_panel.volume")},n.createElement(sN,null)),u&&(()=>{let e=100*p+-16*p+8;return n.createElement("div",{className:"recording_video_controls--volumeSliderContainer--0oq-n"},n.createElement("input",{className:H()("recording_video_controls--volumeSlider--1xB-5",rh.Dm),type:"range",min:"0",max:"1",value:p,onInput:f,onChange:f,step:.02,style:{background:`linear-gradient(to top, var(--color-bg-brand) 0%, var(--color-bg-brand) ${e}%, var(--color-bg) ${e}%, var(--color-bg) 100%)`}}))})()),e.video?n.createElement(sw.A,{"aria-label":(0,el.t)("fullscreen.properties_panel.video_time"),value:e.currentVideoTime,min:0,max:e.video.duration,step:.01,bigStep:.1,onChange:o}):null,e.video?n.createElement("div",{className:"recording_video_controls--timestampContainer--eEV8y"},n.createElement("div",{className:"recording_video_controls--currentTime--IZSk-"},d.format(e.currentVideoTime)),n.createElement("div",{className:"recording_video_controls--timeSlash--oc9n4"},"/"),n.createElement("div",{className:"recording_video_controls--totalTime--rSunR"},d.format(c))):null)}let sI="recording_replay_focus_ui--horizontalBorder--zGACo",sA="recording_replay_focus_ui--verticalBorder--S7hWd",sL="recording_replay_focus_ui--invertedCorner--o-B-F";var sO=a(234024),sR=a(622711);let sM=(0,Z.eU)([]);function sD(e){let[t,a]=n.useState(void 0),[l,i]=n.useState(void 0),[o,s]=n.useState(!1),[c,u]=n.useState(!1),[m,p]=n.useState(!1),[_,f]=n.useState(!0),[h,g]=n.useState(0),E=n.useRef(null),y=n.useRef(void 0),v=n.useRef(nq.D.getState().mirror.appModel.showUi),b=n.useRef(!nq.D.getState().mirror.appModel.hideMultiplayerCursors),C=(0,ew._6)(),w=(0,r.wA)(),T=n.useContext(sr.q5),S=e.recording.id===sc.xP,[N,x]=(0,d.fp)(sM),k=(0,ev.q5)();n.useEffect(()=>{v.current&&t$.Y5.triggerAction("toggle-ui"),b.current&&t$.Y5.triggerAction("toggle-multiplayer-cursors"),S?p(!0):(w((0,ss._b)({type:ss.wk.Recording})),u(!0))},[w,S]),n.useEffect(()=>{if(e.recording&&c){if(e.recording.fileVersionId.status===sn.tT.Loaded){let t=e.recording.fileVersionId.data,a=N.find(e=>e.id===t);a?(w((0,ss.Nb)({id:t,versions:[a]})),p(!0)):sd.W.getVersion({fileKey:e.recording.fileKey,versionId:e.recording.fileVersionId.data}).then(e=>{x(N.concat(e.data.meta.version))}).catch(()=>{w(sl.s.error((0,el.t)("recordings.replay_ui_canvas_loading_error")))})}else p(!0)}},[c,e.recording,w,N,x]),n.useEffect(()=>()=>{p(!1),a(void 0),i(void 0),s(!0),f(!0),g(0),y.current&&(clearInterval(y.current),y.current=void 0)},[e.recording.id,k]),n.useEffect(()=>{e.recording&&fetch(e.recording.positionInfoSignedUrl).then(e=>e.arrayBuffer()).then(e=>{let t=new Uint8Array(e);a(JSON.parse(new TextDecoder().decode(t)))})},[e.recording]);let I=n.useCallback(()=>{if(!E.current||!t)return;let e=1e3*E.current.currentTime,a=st()(t,{...sc.rv,msSinceRecordingStart:e},e=>e.msSinceRecordingStart);a>=t.length&&(a=t.length-1),i(t[a])},[t]),A=n.useCallback(()=>{y.current=setInterval(I,sc.c6),s(!0)},[I]),L=n.useCallback(()=>{clearInterval(y.current),y.current=void 0,s(!1)},[]),O=n.useCallback(()=>{E.current&&(g(E.current.currentTime),I())},[I]),R=n.useCallback(()=>{S?T.abortRecording():(w((0,ss.Eg)()),v.current&&t$.Y5.triggerAction("toggle-ui"),b.current&&t$.Y5.triggerAction("toggle-multiplayer-cursors"),w(so.UU()));let e={...C,walkthroughRecordingId:void 0};w((0,ed.$T)(e))},[w,C,T,S]),M=n.useCallback(()=>{S||(su.F.deleteWalkthroughMedia(e.recording.id).then(()=>{w(rY.F.enqueue({message:(0,el.t)("recordings.recording_deleted")}))}),(0,sb.$F)(k,sb.ed.DELETED,e.recording.id)),R()},[w,S,e.recording.id,R,k]),D=n.useCallback(()=>{w((0,io.to)({type:sv.p,data:{onConfirm:M}}))},[w,M]),P=n.useCallback(()=>{S?D():R()},[R,D,S]),F=n.useRef(null);return t&&m?n.createElement(n.Fragment,null,n.createElement("div",{className:"recording_replay_focus_ui--container--mnVy4"},n.createElement("div",{className:sI}),n.createElement(aq.vx,{initialPosition:new a6.Mi(26,76),initialConstraints:{x:"left",y:"bottom"}},n.createElement("div",{className:e.recording.meta.audioOnly?"recording_replay_focus_ui--audioOnlyContainer--WUXCP":"recording_replay_focus_ui--videoContainer--IQLLd"},n.createElement("video",{className:e.recording.meta.audioOnly?"recording_replay_focus_ui--audio--Z5Gby":"recording_replay_focus_ui--video--sHfm6",src:e.recording.userMediaSignedUrl,autoPlay:!0,controls:!1,onPlay:A,onPause:L,onTimeUpdate:O,ref:E}))),n.createElement(sV,{recording:e.recording,onClose:P,openDeleteConfirmationModal:D}),n.createElement("div",{className:"recording_replay_focus_ui--centerContainer--lOLAW"},n.createElement("div",{className:sA}),n.createElement("div",{className:"recording_replay_focus_ui--viewportContainer--EYq-7",ref:F},n.createElement("div",{className:"recording_replay_focus_ui--centerInfoBox--ukCZp"},n.createElement(en.B,{svg:sO.A,className:sL}),n.createElement("div",{className:"recording_replay_focus_ui--followingInfoBox--NPeez"},n.createElement("div",{className:"recording_replay_focus_ui--followingInfoBorderOffset--5fEDC"},n.createElement("div",{className:"recording_replay_focus_ui--followingUserText--bGWg7"},(0,el.tx)(_?"recordings.following_name":"recordings.not_following_name",{name:e.recording.creator.handle})),n.createElement("button",{onClick:()=>f(!_),className:"recording_replay_focus_ui--followingButton--irarm"},(0,el.tx)(_?"recordings.stop_following":"recordings.follow")))),n.createElement(en.B,{svg:sR.A,className:sL}))),n.createElement("div",{className:sA})),n.createElement("div",{className:"recording_replay_focus_ui--bottomBar--bt2XX"},n.createElement("div",{className:sA}),n.createElement("div",{className:"recording_replay_focus_ui--recordingControls--EuG0k"},n.createElement(sk,{onPause:L,onPlay:A,onTimeUpdate:O,video:E.current,isPlaying:o,currentVideoTime:h,lengthMs:e.recording.meta.lengthMs.status===sn.tT.Loaded?e.recording.meta.lengthMs.data:0}),e.recording.id===sc.xP&&n.createElement(sU,{openDeleteConfirmationModal:D,onCloseConfirmed:R})),n.createElement("div",{className:sA})),n.createElement("div",{className:sI})),n.createElement(sH,{replayPosition:l,isFollowingViewport:_,setIsFollowingViewport:f,viewportDivRef:F}),n.createElement(sG,{recording:e.recording,replayPosition:l,isReplayPlaying:o})):null}function sP(e){return e.recordingId===sc.xP?n.createElement(sF,null):n.createElement(sB,{recordingId:e.recordingId})}function sF(){let e=n.useContext(sr.q5),t=(0,eT.iZ)(),a=e.getRecordingDataForSinatraCreate(),r=n.useMemo(()=>a&&t?{fileKey:a.fileKey,positionInfoSignedUrl:URL.createObjectURL(a.recordedPositions),userMediaSignedUrl:URL.createObjectURL(a.userMediaRecording),id:sc.xP,fileVersionId:{status:sn.tT.Loaded,data:a.fileVersionId},creator:{id:t.id,handle:t.handle,imgUrl:t.img_url},meta:{title:"",audioOnly:a.isAudioOnly,lengthMs:{status:sn.tT.Loaded,data:a.lengthMs}}}:null,[a,t]);return r?n.createElement(sD,{recording:r}):null}function sB(e){let t=(0,sa.Rs)(e1.hzQ,{id:e.recordingId}),a="loaded"===t.status&&t.data.walkthroughMedia;return a?n.createElement(sD,{recording:a}):null}function sU(e){let t=(0,r.wA)(),a=n.useContext(sr.q5).getRecordingDataForSinatraCreate(),l=(0,ev.q5)(),i=()=>{(0,sb.Q3)(l,sb.ZP.RECORDING_SAVED),e.onCloseConfirmed()};return a?n.createElement("div",{className:"recording_replay_focus_ui--newRecordingBottomControls--28MRy"},n.createElement(k.K,{onClick:e.openDeleteConfirmationModal,"aria-label":(0,el.t)("recordings.delete_recording_title")},n.createElement(o9.i,{className:"recording_replay_focus_ui--icon---MLcx"})),n.createElement(eH.$n,{onClick:()=>{a&&t((0,io.to)({type:sy,data:{...a,onRecordingSaved:i}}))}},(0,el.tx)("recordings.save_recording"))):null}function sH(e){let t=n.useContext(ig.kw),a=n.useRef(!1),{setIsFollowingViewport:r}=e;return n.useEffect(()=>{let t=()=>{r(!1)},n=t=>{if(!e.viewportDivRef.current)return;let n={x:t.clientX,y:t.clientY},r=e.viewportDivRef.current.getBoundingClientRect();(0,a6.gR)(r,n)&&(a.current=!0)},l=()=>{a.current=!1},i=()=>{a.current&&(r(!1),a.current=!1)},o=e.isFollowingViewport;return o&&(document.addEventListener("wheel",t),document.addEventListener("mousedown",n),document.addEventListener("mouseup",l),document.addEventListener("mousemove",i)),()=>{o&&(document.removeEventListener("wheel",t),document.removeEventListener("mousedown",n),document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",i))}},[e.isFollowingViewport,r,e.viewportDivRef]),n.useEffect(()=>{!e.replayPosition||!e.isFollowingViewport||(0,sc.s0)(t.getViewportInfo(),e.replayPosition.viewportPath,1)||t.navigateTo({x:e.replayPosition.viewportPath.offsetX,y:e.replayPosition.viewportPath.offsetY},e.replayPosition.viewportPath.zoomScale,{duration:0,delay:0})},[e.replayPosition,e.isFollowingViewport,t]),null}function sG(e){let t=(0,sp.b)(),a=n.useCallback(e=>{t.moveCursorBot({x:e.x,y:e.y,coordinateType:"canvas",animationDuration:0})},[t]);n.useEffect(()=>{e.replayPosition&&a({x:e.replayPosition.mousePositionPath.x,y:e.replayPosition.mousePositionPath.y})},[a,e.replayPosition]);let r=n.useCallback(()=>{e.replayPosition&&a({x:e.replayPosition.mousePositionPath.x,y:e.replayPosition.mousePositionPath.y})},[a,e.replayPosition]);return(0,na.D6)({subscribeToUpdates_expensive:!e.isReplayPlaying},r),n.createElement(sm.Yh,{manualControl:!0,name:e.recording.creator.handle})}function sV(e){let t=(0,eT.iZ)(),a=(0,sC.aW)(),r=n.useRef(null),l="context"+e.recording.id,i=(0,eE.BK)(l),o=(0,ev.q5)(),{onClose:s,openDeleteConfirmationModal:c}=e,d=e.recording.id===sc.xP,u=n.useMemo(()=>{let a=[];return t&&e.recording.creator.id===t.id&&e.recording.id!==sc.xP&&a.push(n.createElement(J.c$,{key:"delete",onClick:c},(0,el.tx)("recordings.delete_recording_title"))),a},[t,e.recording.creator,c,e.recording.id]),m=n.useCallback(()=>{a(e.recording.id),(0,sb.$F)(o,sb.ed.LINK_COPIED,e.recording.id)},[a,e.recording.id,o]);return n.createElement("div",{className:"recording_replay_focus_ui--headerRow--Q62zp"},n.createElement("div",{className:sA}),n.createElement("div",{className:"recording_replay_focus_ui--header--zTtko"},n.createElement("div",null,e.recording.meta.title),n.createElement("div",{className:"recording_replay_focus_ui--headerButtonGroup--Jn6a-"},u.length>0&&n.createElement("div",null,n.createElement(rN.YW,{style:i.showing?{backgroundColor:"var(--color-bg-hover)"}:void 0,selected:i.showing,"data-tooltip-type":eA.Ib.TEXT,"data-tooltip":(0,el.t)("fig_feed.more_actions"),onClick:i.toggle,ref:r},n.createElement(si.In,{icon:"dots-32"})),r.current&&i.showing&&n.createElement(eM.Jz,{showPoint:!1,targetRect:r.current.getBoundingClientRect(),options:u,closeDropdown:i.hide,hideDropdown:i.hide})),!d&&n.createElement(k.K,{onClick:m,"aria-label":(0,el.t)("recordings.copy_link")},n.createElement(si.In,{icon:"hyperlink-32"})),n.createElement(k.K,{onClick:s,"aria-label":(0,el.t)("general.close")},n.createElement(si.In,{icon:"x-32"})))),n.createElement("div",{className:sA}))}var sz=a(52354),sK=a(282263),sW=a(29808);let sj={VariableCreateModalRoot:aY.IU,VariableAndStyleCreateModalRoot:function({initialPosition:e,initialVariableValue:t,inheritStyleKeyField:a,initialStyleCreationPaint:i,initialView:o,resolvedType:s,onCreateVariable:c,onCreateStyle:d,onClose:u,disableStyleModal:m}){(0,aX.NF)({resolvedType:s});let{onCreateVariableSubmit:p,onCreateStyleSubmit:_}=function({onCreateVariable:e,onCreateStyle:t,onClose:a}){let{onCreateVariableSubmit:n}=(0,aY.C_)({onCreateVariable:e,onClose:a}),i=(0,ev.tS)(),o=(0,ev._G)(),s=(0,r.d4)(e=>e.mirror.sceneGraph);return{onCreateVariableSubmit:n,onCreateStyleSubmit:function(e){let n=function(e){let t=l.glU.getStyleNodeId(e.key,e.version),a=s.get(t);return a?{type:aj.PW.STYLE,name:a.name,file_key:i??"",file_key_source:az.Ps.LOCAL_FILE,library_key:o??(0,aV.l)(""),key:a.styleKey,thumbnail_url:"",canvas_url:"",content_hash:a.styleVersionHash??void 0,userFacingVersion:(0,aB.StyleVersion)(a.userFacingVersion),node_id:a.guid,isLocal:!0,style_type:a.styleType}:null}(e);n&&(t(n),a())}}}({onCreateVariable:c,onCreateStyle:d,onClose:u});return n.createElement(a$,{initialPosition:e,initialVariableValue:t,inheritStyleKeyField:a,initialStyleCreationPaint:i,initialView:o,resolvedType:s,onCreateStyleSubmit:_,onCreateVariableSubmit:p,onClose:u,recordingKey:"createVariableAndStyleModal",disableStyleModal:m})},VARIABLE_CREATE_MODAL_WIDTH_PX:aY.iG};function sZ(){let e=(0,r.d4)(e=>e.selectedView),t=(0,r.d4)(e=>e.openFile?.key),a=(0,r.d4)(e=>e.progressBarState.mode),d=(0,r.d4)(e=>(0,tJ.pi)({editorType:tQ.d1(e)?.editor_type})),u=a!==t6.Oin.HIDE_UI&&a!==t6.Oin.ON_AND_LOCKED,m=(0,ev.q5)(),p=(0,nf.jY)(),_=(0,t8.BI)(),f=(0,ex.J2)(l.Ez5?.slidesToolMode());(0,n.useEffect)(()=>(document.body.dataset.editorTheme=(0,ai.ju)(e,f),()=>{delete document.body.dataset.editorTheme}),[e,f]),(0,ep.Ou)(),(0,ep.fq)(),(0,tZ.c)(),function(){let e="ui3"===(0,tq.DP)().version,{isPropertiesPanelCollapsed:t,setPropertiesPanelCollapsed:a}=(0,tX.iT)(),i=(0,eO.Ye)(),o=(0,ey.ax)(),s=(0,ey.dH)(),c=s===l.NLJ.FRAME||s===l.NLJ.COMMENTS||s===l.NLJ.VECTOR_PENCIL,d=(0,r.d4)(e=>e.mirror.appModel.activeUserAction===l.QOV.DEFAULT),u=(0,tX.ys)();(0,n.useEffect)(()=>{e&&d&&t&&(c||o)&&a(!1)},[o,d,s,e,a,t,i,c]),(0,n.useEffect)(()=>{u&&a(!0)},[u,a,t])}(),(0,em.V)(),(0,n.useEffect)(()=>{u&&t&&p&&(t$.Y5.onReady().then(()=>{l.h3O.sendSignal("client-rendered","")}),window.requestAnimationFrame(()=>{i.eD?.addTabAnalyticsMetadata({reactFullscreenViewRenderTime:window.performance.now()}),t4.xK.reactFullscreenViewIsRendered(),t4.xK.report(t,d),function(){let e=(0,t3.dX)("fullscreen");if(!e)return;let t=(0,t5.ap)()?e.getContext("webgl2"):e.getContext("webgl");if(!t||!window.expectedWebGLContextAttributes)return;let a=t.getContextAttributes();if(!a)return;let n=l.CeL?.getDeviceInfo()??{vendor:"",renderer:"",version:""},r={};for(let e of Object.keys(a))r[`actual_${e}`]=a[e];let i={},o=!0;for(let e of Object.keys(window.expectedWebGLContextAttributes))a[e]!==window.expectedWebGLContextAttributes[e]&&(o=!1),i[`expected_${e}`]=window.expectedWebGLContextAttributes[e];let s={...r,...i,...n,are_context_attributes_correct:o};(0,V.sx)("fullscreen_load_gpu_parameters",s)}()}))},[u,t,d,p]);let h=(0,r.d4)(e=>e.isFullscreenDocumentLoaded);(0,n.useEffect)(()=>{_?.handleCompleteInitialLoad&&h&&_.handleCompleteInitialLoad()},[_,h]);let[g,E]=(0,n.useState)(!1),y=(0,r.d4)(e=>e.mirror.appModel.isReadOnly);(0,n.useEffect)(()=>{_?.updateReadOnly&&h&&!g&&(E(!0),_.updateReadOnly(y))},[_,h,g,E,y]);let N=(0,s.ZC)(m),x=(0,r.d4)(e=>e.mirror.appModel.pagesList),k=(0,n.useMemo)(()=>x.map(e=>({id:e.nodeId,name:e.name})),[x]),I=(0,s.ZC)(k),A=(0,r.d4)(e=>e.mirror.appModel.currentPage),L=(0,s.ZC)(A);(0,n.useEffect)(()=>{_?.updatePages&&m&&(!N||m.key!==N.key||m.name!==N.name||m.editorType!==N.editorType||m.isTryFile!==N.isTryFile||!(0,o.c2)(k,I)||A!==L)&&_.updatePages({fileKey:m.key,fileName:m.name,editorType:m.editorType,isTryFile:m.isTryFile,pages:k.length>0?k:[{id:A,name:"Page 1"}],currentPageId:A})},[_,m,N,k,I,A,L]);let O=(0,t9.WC)();(0,n.useEffect)(()=>{_?.updateWebOverlaysShown&&_.updateWebOverlaysShown(O)},[_,O]);let R=(0,aa.o3)(aa.nt.customKeyboardShortcuts);(0,n.useEffect)(()=>{(0,c.kc)().ce_custom_keyboard_shortcuts&&l.glU.reloadKeyboardShortcuts()},[R]);let M=(0,r.d4)(e=>e.multiplayer.allUsers),D=(0,r.d4)(e=>e.multiplayer.observingSessionID),P=(0,r.d4)(e=>e.multiplayer.presenterSessionID),F=(0,r.d4)(e=>e.multiplayer.deviceNameFilter),B=(0,r.d4)(e=>e.multiplayer.sessionID),U=(0,n.useMemo)(()=>{let{users:e}=(0,ae.Yp)(M,null,!1,1048576,{sessionID:B,observingSessionID:D,presenterSessionID:P,deviceNameFilter:F});return{sessionID:B,observingSessionID:-1!==D?D:null,presenterSessionID:-1!==P&&P||null,users:e}},[M,F,D,P,B]),H=(0,s.ZC)(U);return(0,n.useEffect)(()=>{_?.updateMultiplayerUserInfo&&!(0,o.c2)(H,U)&&_.updateMultiplayerUserInfo(U)},[_,U,H]),(0,ao.iA)(),!function(){let e=(0,v.U4)(),t=(0,v._I)(),a=(0,b.D)(),r=(0,T.ks)(),i=(0,C.ow)(),o=(0,S.U)("permission",!0),s=r&&!t&&!e&&!(0,w.T)();(0,n.useEffect)(()=>{i||(l.w3z.setCanAccessDevMode(t),l.w3z.setCanEnterDevMode(e),l.w3z.setShowWorkflowsControls(a))},[t,e,a,i]),(0,n.useEffect)(()=>{s&&o("design")},[o,s])}(),null}function sY(){let e=(0,C.ow)(),t=(0,nf.sO)(),a=(0,nX.cJ)(),l=(0,f.g)(),i=(0,t8.BI)(),o=(0,r.d4)(e=>e.selectedView);return(0,r.d4)(e=>e.isFullscreenDocumentLoaded)&&(0,c.kc)().async_spotlight&&"fullscreen"===o.view&&o.walkthroughRecordingId?n.createElement(sP,{recordingId:o.walkthroughRecordingId}):e?n.createElement(n.Fragment,null,n.createElement(oy,null),!!i?.shouldOptimizeForIpadApp&&n.createElement(nj.K,null),!!i?.shouldOptimizeForIpadApp&&n.createElement(nZ,null)):t?n.createElement(n.Fragment,null,n.createElement(r_,null),n.createElement(sJ,null)):a?n.createElement(n.Fragment,null,n.createElement(nY.H5,null),n.createElement(sJ,null)):l?n.createElement(n.Fragment,null,n.createElement(_.N8,null),n.createElement(sJ,null)):(0,T.$A)(o)?n.createElement(E.w,null):(0,N.Wl)(o)||(0,g.K2)(o)?null:n.createElement(n.Fragment,null,n.createElement(sq,null),!!i?.shouldOptimizeForIpadApp&&n.createElement(nj.K,null),!!i?.shouldOptimizeForIpadApp&&n.createElement(nZ,null))}function sX(){let e=(0,r.d4)(a1.xY),t=(0,r.d4)(e=>e.mirror.appModel.currentPage),a=(0,N.l7)(),l=(0,g.HQ)();return n.createElement(n.Fragment,null,n.createElement(sY,null),n.createElement(sZ,null),e&&n.createElement(nR,{viewerControl:nW,pageId:t}),a&&n.createElement(p.tH,{boundaryKey:"DevModeOverview",fallback:p.H4.DEFAULT_FULL_PAGE,sentryTags:{area:u.e.DEVELOPER_TOOLS},hasCustomWASMBuild:t7.y4},n.createElement(tP,null)),l&&n.createElement(p.tH,{boundaryKey:"Dakota",fallback:p.H4.DEFAULT_FULL_PAGE,sentryTags:{area:u.e.CMS},hasCustomWASMBuild:t7.y4},n.createElement(h.N,null)))}let sq=n.memo(function(){let e=(0,r.d4)(e=>e.mirror.appModel),t=(0,ey.ax)(),{topLevelMode:a}=e,i=(0,ey.dH)();return(0,at.z)({topLevelMode:t6.lyf.PREVIEW,eventName:"Preview Mode Selection Changed",teamFilesOnly:!0}),n.useEffect(()=>{t&&a===t6.lyf.PREVIEW&&i!==l.NLJ.COMMENTS&&(0,eg.NT)(l.FAf.INSPECT)},[t,a,i]),n.createElement(n.Fragment,null,n.createElement(sJ,null),n.createElement(sQ,null))}),sJ=n.memo(function(){let e=(0,r.wA)(),t=(0,r.d4)(e=>(0,ar.getPermissionsState)(e)),a=(0,ey.aV)(),i=(0,t0.q)(),o=(0,r.d4)(e=>e.loadingState),s=(0,r.d4)(e=>e.mirror.appModel),c=(0,d.md)(al.wm),u=(0,r.d4)(e=>e.mirror.sceneGraphSelection),_=(0,r.d4)(e=>e.mirror.selectionPaints),h=(0,r.d4)(e=>e.mirror.selectionProperties),g=(0,r.d4)(e=>e.mirror.selectedStyleProperties),E=(0,r.d4)(e=>e.currentUserOrgId),y=(0,r.d4)(e=>e.dropdownShown),v=(0,r.d4)(e=>e.fonts),b=(0,r.d4)(e=>e.fileVersion),C=(0,r.d4)(e=>e.installedPluginVersions),w=(0,r.d4)(e=>e.library),T=(0,r.d4)(e=>e.localPlugins),S=(0,r.d4)(e=>e.modalShown),N=(0,r.d4)(e=>e.multiplayer),x=(0,r.d4)(e=>e.openFile),k=(0,r.d4)(e=>e.pickerShown),I=(0,r.d4)(e=>e.pickerInStyleCreationShown),A=(0,r.d4)(e=>e.publishedPlugins),L=(0,r.d4)(e=>e.saveAsState),O=(0,r.d4)(e=>e.selectedView),R=(0,r.d4)(e=>e.voice.showWidget),M=(0,r.d4)(e=>e.stylePickerListLayout),D=(0,r.d4)(e=>e.stylePickerShown),P=(0,r.d4)(e=>e.stylePreviewShown),F=(0,r.d4)(e=>e.styleSets),B=(0,r.d4)(e=>e.usedKeyboardShortcuts),U=(0,r.d4)(e=>e.user),H=(0,r.d4)(e=>e.userFlags),G=(0,r.d4)(e=>e.userStateLoaded),V=(0,r.d4)(e=>e.repos),z=(0,r.d4)(e=>e.folders),K=(0,r.d4)(e=>e.teams),W=(0,r.d4)(e=>e.orgById),j=(0,r.d4)(e=>e.orgDraftsOwners),Z=(0,r.d4)(e=>e.orgUsersByOrgId),Y=(0,r.d4)(e=>e.userEduGracePeriods),X=(0,r.d4)(e=>e.licenseGroups),{topLevelMode:q}=s,J=a?t2.R.topLevelMode:q,Q=l.Ez5.uiState().isRecovery?.getCopy(),$=(0,lt.R)(),ee=(0,ex.J2)(l.Ez5?.slidesToolMode()),et=(0,ex.J2)(l.Ez5?.cooperToolMode()),ea=(0,nf.sO)(),en=(0,nX.cJ)(),er=(0,f.g)(),el=J===t6.lyf.LAYOUT||J===t6.lyf.BRANCHING||Q||!!U&&J===t6.lyf.PREVIEW||$&&J===t6.lyf.HISTORY,ei=(0,an.VP)(o,"edit_button_upgrading_to_edit"),eo=a||ei,es=(0,ex.J2)((0,eg.aY)()),ec=(0,ex.J2)(l.Ez5.propertiesPanelState().shownPropertiesPanels),ed=(0,ex.J2)(l.Ez5.propertiesPanelState().strokePanelMode),eu=(0,ex.J2)(l.Ez5.propertiesPanelState().strokePanelTerminalPointCount),ep=(0,ex.J2)((0,ef.UK)().expandedFramePresetType),e_=(0,ef.Ku)(),eh=(0,ef.qw)(),eE=(0,em.b)(),ev=(0,ex.J2)(l.Ez5.uiState().showPropertiesPanel);(0,tX.tt)();let eb=!(0,tY.Oo)()&&$&&ev,eC=(0,ex.J2)((0,ef.UK)().renderRulers),{isRightPanelCollapsed:ew}=(0,n.useContext)(oW.t),{inProductHelpViewType:eT}=(0,oZ.A5)(),eS=(0,ex.J2)(l.Ez5.uiState().inProductHelpSidePanelWidth),eN=(0,n.useMemo)(()=>en?es===l.FAf.DESIGN||es===l.FAf.SITE?l.FAf.SITE:es:ea?es===l.FAf.DESIGN||es===l.FAf.SLIDE?ee===l.EMA.SLIDES?l.FAf.SLIDE:l.FAf.DESIGN:es:er&&(es===l.FAf.DESIGN||es===l.FAf.COOPER)?et===l.iN$.COOPER?l.FAf.COOPER:l.FAf.DESIGN:es,[en,ea,er,es,ee,et]);return(0,n.useEffect)(()=>{eN!==es&&eg.aY()?.set(eN)},[eN,es]),n.createElement(p.tH,{boundaryKey:"PropertiesPanel",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING},el&&i&&n.createElement(sW.l.Provider,{value:sj},n.createElement(o8.Q,{recordingKey:"propertiesPanel",isCollapsed:ew,propertiesPanelTab:eN,strokePanelMode:ed,strokePanelTerminalPointCount:eu,commentsPanel:s$,dispatch:e,isLoading:eo,shouldAnimateLoadingState:a,shouldShowBackgroundGradient:eb,shownPanels:ec,rulersVisible:eC,isInsetEditorEnabled:eE,expandedFramePresetType:ep,colorFormat:e_,propertiesPanelSplitPosition:eh,permissionsState:t,key:(0,m.tw)()??void 0,appModel:s,sceneGraph:c,sceneGraphSelection:u,selectionPaints:_,selectionProperties:h,selectedStyleProperties:g,currentUserOrgId:E,dropdownShown:y,fonts:v,fileVersion:b,allSavedPlugins:C,library:w,localPlugins:T,modalShown:S,multiplayer:N,openFile:x,pickerShown:k,pickerInStyleCreationShown:I,publishedPlugins:A,saveAsState:L,selectedView:O,stylePickerListLayout:M,stylePickerShown:D,stylePreviewShown:P,styleSets:F,usedKeyboardShortcuts:B,user:U,userFlags:H,userStateLoaded:G,repos:V,folders:z,teams:K,orgById:W,orgDraftsOwners:j,orgUsersByOrgId:Z,userEduGracePeriods:Y,licenseGroups:X,isUI3:$,showVoiceWidget:R,hasMergedDimensionsAndAutolayout:$,inProductHelpViewType:eT,inProductHelpSidePanelWidth:eS}),"hidden"!==eT&&n.createElement(o$,{propertiesPanelWidth:eh,isInsetEditorEnabled:eE}),n.createElement(sK.tZ,null)))}),sQ=n.memo(function(){let e=l.Ez5.uiState().isRecovery?.getCopy(),t=ev.q5()?.canEdit,a=!(0,t1.ck)()&&t&&(0,c.kc)().dt_dev_mode_discovery_rcs&&!e;return n.createElement(n.Fragment,null,n.createElement(as.p,null,n.createElement(ac.L,null)),n.createElement(as.p,{featureFlag:"starting_points_modal"},n.createElement(aF,null)),n.createElement(as.p,null,n.createElement(sz.e,null)),n.createElement(as.p,null,a&&n.createElement(y.Q,null)),n.createElement(as.p,null,n.createElement(oB,null)),n.createElement(as.p,null,n.createElement(oK,null)),n.createElement(as.p,{featureFlag:"mobile_prompt_sidebar_modal"},n.createElement(o6,null)),n.createElement(as.p,null,n.createElement(ab,null)))}),s$=n.memo(function(){let e=(0,ex.J2)((0,eg.aY)()),t=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),a=!(0,ep.GS)()&&(t!==t6.lyf.PREVIEW&&e!==l.FAf.COMMENT||t===t6.lyf.PREVIEW);return n.createElement(rB.B,{stackHeader:a,hideResolve:!1})})},4051:(e,t,a)=>{a.d(t,{n:()=>r});var n=a(598045);let r=(0,a(288706).um)(!1,(e,t)=>{switch(t.type){case"ACTIVATE_AND_MAXIMIZE":return n.glU.setActiveEmbed(t.payload.embedNodeID),!0;case"MINIMIZE":return!1;default:return e}})},690003:(e,t,a)=>{a.d(t,{GR:()=>k,bu:()=>x});var n=a(411855),r=a(188507),l=a(598045),i=a(91408),o=a(323762),s=a(966712),c=a(374626),d=a(646240),u=a(939863),m=a(145519),p=a(74505),_=a(457630),f=a(100197),h=a(498606),g=a(4051),E=a(488578),y=a(519048),v=a(677859),b=a(774658);function C(){let e=(0,d.Xr)(g.n),t=n.useCallback(()=>{e({type:"MINIMIZE"})},[e]);return n.createElement(v.K0,{svg:b.A,active:"NONE",tooltip:(0,u.t)("whiteboard.embeds.inline_menu.minimize"),onClick:t,recordingKey:"embedMinimizeControl"})}var w=a(929021),T=a(860168);function S(e){let t=e.mirror.sceneGraph,a=e.mirror.sceneGraphSelection;if(1!==Object.keys(a).length)return null;let n=t.get(Object.keys(a)[0]);return n&&"WIDGET"===n.type?n:null}function N(e){return e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode)}let x=n.memo(function(){let e=(0,r.d4)(N),t=e?.guid,[a,i]=n.useState(null),o=n.useMemo(()=>t&&"-1:-1"!==t?l.glU.getEmbedTypeOfTooltipIcon(t):null,[t]);n.useEffect(()=>{if(!o||!t){i(null);return}let e=(0,p.EE)("embed-tooltip",[t],e=>{i(e?.position||null)});return i(e.currentNodePosition&&e.currentNodePosition[t]?.position||null),()=>{(0,p.lB)("embed-tooltip")}},[t,o]);let s=!!o&&!!a,c=(0,_._X)({subscribeToUpdates_expensive:s}),d=n.useMemo(()=>{if(!a)return{};let e=(0,_.Yb)(c,a),t=e.x+c.x,n=e.y+c.y;return{height:a.height,width:a.width,transformOrigin:"top left",position:"fixed",transform:`translate(${t}px, ${n}px) rotate(${a.angle}deg) scale(${c.zoomScale})`}},[c,a]);return s?n.createElement("div",{"data-tooltip-type":h.Ib.TEXT,"data-tooltip":"video"===o||"autoplayable_video"===o?(0,u.t)("whiteboard.embeds.tooltip_help_text.video"):"audio"===o||"autoplayable_audio"===o?(0,u.t)("whiteboard.embeds.tooltip_help_text.audio"):"file"===o||"figma"===o?(0,u.t)("whiteboard.embeds.tooltip_help_text.file"):(0,u.t)("whiteboard.embeds.tooltip_help_text.generic"),"data-tooltip-show-above":!0,"data-tooltip-max-width":160,"data-tooltip-timeout-delay":50,"data-tooltip-show-immediately":!0,style:d}):null}),k=n.memo(function(){let e=(0,f.J2)(l.Ez5.embedUiState().activeEmbedData),t=(0,r.d4)(e=>e.mirror.appModel.currentPage?e.mirror.appModel.currentPage:void 0),a=(0,r.d4)(S),i=(0,c.md)(g.n),d=!!e&&a?.guid===e.embedNodeId;return e&&e.embedNodeId&&e.embedThumbnailNodeId&&e.srcUrl&&e.containingCanvasId&&e.containingCanvasId===t?(0,s.kc)().figjam_embeds_allowlist&&!(0,o.Cy)(e.srcUrl)?(console.error("Could not play embed; domain not on allow-list:",e.srcUrl),null):n.createElement(I,{isEmbedMaximized:i,nodeSelected:d,embedThumbnailNodeId:e.embedThumbnailNodeId,srcUrl:e.srcUrl}):null}),I=n.memo(function(e){let{embedThumbnailNodeId:t,nodeSelected:a,srcUrl:r,isEmbedMaximized:i}=e,o=n.useRef(null),s=n.useRef(null),c=n.useRef(null),d=n.useRef(null),u=(0,_._X)({subscribeToUpdates_expensive:!0}),m=function(e,t){let[a,r]=n.useState(!1),[l,i]=n.useState(!1);return n.useEffect(()=>{!e&&l&&i(!1)},[e,l]),n.useEffect(()=>{function e(e){if(t.current){let a=t.current.getBoundingClientRect();e.clientX>a.left&&e.clientX<a.right&&e.clientY>a.top&&e.clientY<a.bottom&&r(!0)}}function n(e){if(t.current&&a){r(!1);let a=t.current.getBoundingClientRect();e.clientX>a.left&&e.clientX<a.right&&e.clientY>a.top&&e.clientY<a.bottom&&i(!0)}}return document.addEventListener("pointerdown",e),document.addEventListener("pointerup",n),()=>{document.removeEventListener("pointerdown",e),document.removeEventListener("pointerup",n)}},[a,t]),l||!a&&e}(a,s);return n.useEffect(()=>{let e=(0,p.EE)("active-embed",[t],e=>{if(!e.position){l.glU.setActiveEmbed("");return}d.current=e.position,O(s,u,d,c,i,m)}),a=e.currentNodePosition[t]?.position;return a?(d.current=a,O(s,u,d,c,i,m)):l.glU.setActiveEmbed(""),()=>{(0,p.lB)("active-embed")}},[t,i,m,u]),n.createElement(n.Fragment,null,n.createElement("div",{className:i?"embed_overlay--maximizedIframePositioner--BvF7x":void 0,ref:s},n.createElement(L,{ref:o,key:t+r,srcUrl:r,autofocus:m})),i&&n.createElement(A,{modalTargetRef:c}))});function A(e){let t=(0,d.Xr)(g.n),{modalTargetRef:a}=e,r=()=>{t({type:"MINIMIZE"})};return n.createElement(E.Nb,{className:"embed_overlay--embedModal--NmRO5",hide:r,disableClickOutsideToHide:!1,disableKeyboardEventPropagation:!0},n.createElement("div",{className:"embed_overlay--embedModalMenuBackground--xwJaH",onMouseDown:r},n.createElement("div",{className:"embed_overlay--embedModalMenuContainer--03E8r",onMouseDown:e=>e.stopPropagation()},n.createElement(v.W1,{testID:"embedMenu"},n.createElement(w.e,{inModal:!0}),n.createElement(C,null),n.createElement(v.wv,null),n.createElement(y.S,{inModal:!0})))),n.createElement("div",{className:"embed_overlay--embedModalContentContainer--jP-31"},n.createElement("div",{ref:a,className:"embed_overlay--embedModalTarget--hxGi-"})))}let L=n.forwardRef(function(e,t){let a=(0,r.wA)(),[i,o]=n.useState(!1),s=n.useRef(null),{srcUrl:c,autofocus:d}=e;return n.createElement("div",{className:"embed_overlay--loadingIFrameContainer--FIfGE"},!i&&n.createElement("div",{className:"embed_overlay--iframeLoadingPlaceholder--uAVFk"}),n.createElement("iframe",{key:c,ref:t||s,"data-embed-iframe":!0,className:`embed_overlay--iframe--FcmB0${i?"":" embed_overlay--iframeHidden--xwbj9"}`,src:c,onLoad:()=>{let e=t&&t.current||s.current;e&&d&&e.focus(),o(!0)},onMouseOver:()=>{l.h3O?.sendChatMessage("",""),a(m.Ho())},frameBorder:"0",allowFullScreen:!0,title:(0,u.t)("whiteboard.embeds.embed_overlay_iframe_title")}))});function O(e,t,a,n,r,l){if(!e.current||!t||!a.current)return;let i=e.current,o=a.current;if(r){if(!n.current)return;let e=n.current.getBoundingClientRect();i.style.position="fixed",i.style.height=`${e.height}px`,i.style.width=`${e.width}px`,i.style.transform=`translate(${e.x}px, ${e.y}px)`,i.style.pointerEvents="all"}else{let e=(0,_.Yb)(t,o);i.style.position="fixed",i.style.height=`${o.height}px`,i.style.width=`${o.width}px`,i.style.transform=`translate(${e.x+t.x}px, ${e.y+t.y}px) rotate(${o.angle}deg) scale(${t.zoomScale})`,i.style.transformOrigin="top left",l?i.style.pointerEvents="all":i.style.pointerEvents="none"}}(0,i.hG)(T.tui)},933484:(e,t,a)=>{a.d(t,{_:()=>d});var n=a(411855),r=a(598045),l=a(574176),i=a(396719),o=a(74505),s=a(457630),c=a(60815);let d=n.memo(function(e){let{nodeId:t}=e,a=n.useRef(null),l=n.useRef(null),i=(0,s._X)({subscribeToUpdates_expensive:!0});return n.useEffect(()=>{let e=(0,o.EE)(`loading-embed-${t}`,[t],e=>{if(!e.position){r.glU.removeLoadingEmbed(t);return}l.current=e.position,m(a,i,l)}),n=e.currentNodePosition[t]?.position;return n?(l.current=n,m(a,i,l)):r.glU.removeLoadingEmbed(t),()=>{(0,o.lB)(`loading-embed-${t}`)}},[t,i]),n.createElement("div",{ref:a},n.createElement(u,null))});function u(){return n.createElement("span",{className:"loading_embed_overlay--root--UKqJ8"},n.createElement(l.B,{svg:c.A,className:"loading_embed_overlay--spinner--bw3Cv",autosize:!0}))}function m(e,t,a){if(!e.current||!t||!a.current)return;let n=e.current,r=a.current,l=(0,s.Yb)(t,r),o=28*t.zoomScale;n.style.transform=`translate(${l.x+(l.width-o)/2+t.x}px, ${l.y+(l.height*i.Ao/i.RN-o)/2+t.y}px) rotate(${r.angle}deg) scale(${t.zoomScale})`,n.style.transformOrigin="top left",n.style.position="absolute"}},999004:(e,t,a)=>{a.d(t,{sk:()=>yq,Xy:()=>yZ}),a(137592);var n,r=a(411855),l=a(188507),i=a(598045),o=a(358145),s=a(794272),c=a(966712),d=a(915440),u=a(711525),m=a(453418),p=a(860601),_=a(563706),f=a(192437),h=a(939863),g=a(392592),E=a(964881),y=a(293017),v=a(632430),b=a(625651),C=a(103907),w=a(259927),T=a(356390),S=a(776621),N=a(536651),x=a(294868),k=a(198868),I=a(601978);class A{static getCanvasColorSpace(e={}){let t=(0,I.dX)("fullscreen"),a=t?.getContext(N.ap()?"webgl2":"webgl")?.drawingBufferColorSpace;if("srgb"===a);else if("display-p3"===a)return e.returnString?i.RYP[i.RYP.DISPLAY_P3]:i.RYP.DISPLAY_P3;return e.returnString?i.RYP[i.RYP.SRGB]:i.RYP.SRGB}static setCanvasColorSpace(e){let t=(0,I.dX)("fullscreen"),a=t?.getContext(N.ap()?"webgl2":"webgl");"drawingBufferColorSpace"in a&&(a.drawingBufferColorSpace=e)}static getDocumentColorProfile(e={}){if(void 0===i.H4l)throw Error("ColorManagementStateJs is not defined");return e.returnString?i.ywP[i.H4l.documentColorProfile().getCopy()]:i.H4l.documentColorProfile().getCopy()}static async debugImagesFromSelection(){async function e(e){for(let t of["image/png","image/jpeg","image/heic"])try{return await x.EC.decodeAsync(e,t,0,0,!0)}catch(e){}return null}let t=(0,k.D)();for(let a of t.currentPage.selection){for(let n=0;n<a.fills.length;n++){let r=a.fills[n];if("IMAGE"===r.type){let l=t.getImageByHash(r.imageHash);if(!l)continue;let o=await l.getBytesAsync(),s=await e(o);if(s){let e={id:a.id,type:"fill",index:n,imageHash:r.imageHash,colorProfile:i.RYP[s.colorProfile],bytes:o};(0,S.ED)("ColorManagementDebug","images",e,{logToConsole:i.NUh.ALWAYS})}}}for(let n=0;n<a.strokes.length;n++){let r=a.strokes[n];if("IMAGE"===r.type){let l=t.getImageByHash(r.imageHash);if(!l)continue;let o=await l.getBytesAsync(),s=await e(o);if(s){let e={id:a.id,type:"stroke",index:n,imageHash:r.imageHash,colorProfile:i.RYP[s.colorProfile],bytes:o};(0,S.ED)("ColorManagementDebug","images",e,{logToConsole:i.NUh.ALWAYS})}}}}}}function L(){return r.useEffect(()=>((0,c.kc)().ee_color_management_debug&&(window.colorManagementDebug=A),()=>{"colorManagementDebug"in window&&delete window.colorManagementDebug}),[]),null}var O=a(809511),R=a(860178),M=a(99506),D=a(279453),P=a(336599),F=a(100197),B=a(601607),U=a(374626),H=a(966981),G=a(743905),V=a(54025),z=a(706966),K=a(818614),W=a(719624);function j(){let{Sprig:e}=(0,H.A)(),t=(0,U.md)(W.Lk),a=(0,z.I)(),{loaded:n,query:l,sessionId:i}=function(){let[e,t]=(0,r.useState)(!1),{currentSearch:a}=(0,U.md)(V.WP),n=(0,U.md)(G.hO.currentSearchAtom),l=(0,U.md)(W.dd);(0,r.useEffect)(()=>{let e=a?.result.status==="loaded",r=n?.result.status==="loaded";e&&r&&t(!0)},[a?.result.status,n?.result.status]);let i="";return a?.input.type==="input-text"&&(i=a.input.query),{loaded:e,query:i,sessionId:l}}(),o=(0,r.useRef)(null),s=(0,r.useRef)(!1),d=(0,r.useCallback)(()=>{o.current&&(clearTimeout(o.current),o.current=null)},[]),u=(0,r.useCallback)(()=>{e("track","quick_actions_assets_tab_search",{query:l,sessionId:i}),s.current=!0},[e,l,i]);return(0,r.useEffect)(()=>{if((0,c.kc)().assets_tab_sprig_tracking&&!s.current)return t===K.J.ASSETS&&n&&(a?o.current=setTimeout(()=>{u()},3e4):(u(),d())),d},[t,d,n,a,u]),null}var Z=a(239671),Y=a(279145),X=a(335682),q=a(507956),J=a(201140),Q=a(138020),$=a(776250),ee=a(181912),et=a(517333),ea=a(323653),en=a(737947),er=a(910522),el=a(650322),ei=a(946689),eo=a(278733),es=a(172115),ec=a(822998),ed=a(206144),eu=a(654923),em=a(910741),ep=a(570809),e_=a(256975);function ef(){let e=(0,X.tS)()??"",t=(0,d.Rs)(D.oBY,{key:e}),a=(0,e_._I)();return{canAccessDevMode:a,isInTrial:!!t.data?.file?.hasPermission,starterTrialDays:(0,ep.y)(),shouldSeeBlockingModal:(0,em.m3)()}}var eh=a(911826),eg=a(786013),eE=a(998917),ey=a(629019),ev=a.n(ey),eb=a(360712),eC=a(972457),ew=a(750293),eT=a(672517),eS=a(3453);let eN="banners--bannerLabel--3jj-4",ex=(0,eT.tf)(eE.E);function ek(){let e=(0,eC.BC)(),t=(0,eC.w_)(),a=r.useCallback(()=>{e.hidden||e.onClick(ew.i$.TopBanner)},[e]);return e.hidden||t?null:r.createElement(ex,{onClick:a,className:ev()(eS.HM,"banners--bannerButton--G4mb8"),disabled:e.disabled},e.label)}function eI(){let e=(0,eb.n)(),t=(0,eC.w_)();return e?r.createElement("div",{className:eN},(0,h.tx)("dev_handoff.paywall.banner.description_starter_viewer",{title:r.createElement("strong",null,(0,h.tx)("dev_handoff.paywall.banner.title"))})):t?r.createElement("div",{className:eN},(0,h.tx)("dev_handoff.paywall.banner.description_pending",{title:r.createElement("strong",null,(0,h.tx)("dev_handoff.paywall.request_pending"))})):r.createElement("div",{className:eN},(0,h.tx)("dev_handoff.paywall.banner.description",{title:r.createElement("strong",null,(0,h.tx)("dev_handoff.paywall.banner.title"))}))}function eA(){let e=(0,ep.M)();return r.createElement("div",{className:eN},(0,h.tx)("dev_handoff.paywall.banner.description_in_trial",{numDays:e?.totalGraceDays??eg.W7o,title:r.createElement("strong",null,(0,h.tx)("dev_handoff.paywall.request_pending"))}))}function eL({daysLeft:e}){return r.createElement("p",{className:eN},(0,h.tx)("dev_handoff.paywall.banner.description_starter_trial",{title:r.createElement("strong",null,(0,h.tx)("dev_handoff.paywall.banner.title_starter_trial",{daysLeft:e}))}))}var eO=a(838e3),eR=a(738269),eM=a(662275),eD=a(995852),eP=a(931828),eF=a(760824),eB=a(107877),eU=a(349410),eH=a(101505),eG=a(809831),eV=a(198371),ez=a(875847),eK=a(29680),eW=a(694687),ej=a(594901),eZ=a(309798),eY=a(106472),eX=a(596607),eq=a(643067),eJ=a(243987),eQ=a(147206),e$=a(428467),e0=a(746869),e1=a(984968),e2=a(206193),e5=a(668526),e3=a(851363),e4=a(170399),e6=a(828702),e7=a(127987),e8=a(407844),e9=a(164795);function te({shouldDisplay:e,registerAsActive:t,bannerId:a,bannerContent:n,additionalTrackingProperties:l,dataTestId:i,location:o}){let s=(0,eK.p8)("showUi"),[c,d]=(0,r.useState)(!1),u=(0,eG.E3)();if((0,r.useEffect)(()=>t(a),[t,a]),(0,r.useEffect)(()=>{e&&d(!1)},[e]),!e||c||!s)return null;let m={id:a,...n},p={bannerId:e9.om[a],bannerType:m.bannerType,bannerLocation:o,...l};return r.createElement(eT.fu,{name:"TopBanner",properties:p},r.createElement(e8.C,{content:m,onDismiss:()=>d(!0),editorType:u,dataTestId:i}))}let tt=JSON.parse('{"safari":"16","firefox":"101","chrome":"88","edge":"121","deprecatedOn":"2024-03-18T08:00:00.000Z"}');var ta=a(478398),tn=a(819258),tr=a(315457),tl=a(10388),ti=a(87171);let to={bannerId:e9.om.TestWarningBanner,Banner:function(e){let t=(0,X.q5)();if(t?._name==="_BANNERTEST PAYMENT"){let t={bannerType:e9.x1.WARN,icon:ti.A,mainText:"Payment failed",description:"Our last attempted charge was unsuccessful. Please update your payment source as soon as possible. File editing will be locked after 3 more failed attempts.",button:{buttonText:"Update payment",onClick:()=>{}},dismissible:!0};return r.createElement(te,{...e,bannerContent:t})}return null},dataTestId:"test-warning-banner"},ts={bannerId:e9.om.TestOOMBanner,Banner:function(e){let t=(0,X.q5)();if(t?._name==="_BANNERTEST OOM"){let t={bannerType:e9.x1.WARN,icon:ti.A,mainText:"80% of memory used",customElem:r.createElement("div",{className:ta.DB},r.createElement(e4.wc,{memoryUsagePercent:80})),description:r.createElement(r.Fragment,null,r.createElement("b",{style:eo.sx.fontSemiBold.$},"This file is almost out of browser memory.")," Remove content to lower memory use to 50% or less. This will ensure you can continue to work in this file safely."),button:{buttonText:"Show memory-reduction tips",onClick:()=>{}}};return r.createElement(te,{...e,bannerContent:t})}return null},dataTestId:"test-oom-banner"},tc={bannerId:e9.om.BrowserDeprecationBanner,Banner:function(e){let{deprecatedOn:t,...a}=tt,n=(0,er.R)("day"),l=new Date(t);if(l>new Date(n.getTime()+24192e5)||!_.Ay.isUnsupportedBrowser(a))return null;let i=l>n?(0,h.t)("banner.browser_deprecation.description",{deprecationDate:l}):(0,h.t)("banner.browser_deprecation.description_now"),o={dismissible:!0,bannerType:e9.x1.WARN,icon:ti.A,mainText:(0,h.t)("banner.browser_deprecation.title"),description:i,button:{buttonText:(0,h.t)("banner.browser_deprecation.learn_more"),onClick:()=>en.Ay.redirect("https://help.figma.com/hc/en-us/articles/360039827194-Figma-browser-requirements","_blank")}};return r.createElement(te,{...e,bannerContent:o})},dataTestId:"browser-deprecation-banner"},td={bannerId:e9.om.DesktopDeprecationBanner,Banner:function(e){let t=(0,et.GN)();if(null==t||U.zl.get(ea.Pi))return null;let a=(0,h.t)("banner.desktop_app_deprecation.description",{deprecationDate:t.toDate()}),n={dismissible:!0,bannerType:e9.x1.WARN,icon:ti.A,mainText:(0,h.t)("banner.desktop_app_deprecation.title"),description:a,button:{buttonText:(0,h.t)("banner.desktop_app_deprecation.learn_more"),onClick:()=>en.Ay.unsafeRedirect("https://figma.com/downloads","_blank")},dismissedAtom:ea.Pi};return r.createElement(te,{...e,bannerContent:n})},dataTestId:"desktop-deprecation-banner"},tu={bannerId:e9.om.TestInfoBanner,Banner:function(e){let t=(0,X.q5)();if(t?._name==="_BANNERTEST EDU"){let t={bannerType:e9.x1.INFO,icon:tr.A,mainText:"File in Education Team",description:"This file is in an Education team. To keep editing this file after 00/00, verify that you're a student or educator.",button:{buttonText:"Verify status",onClick:()=>en.Ay.redirect("/education/apply",_.Ay.isIpadNative?void 0:"_blank")}};return r.createElement(te,{...e,bannerContent:t})}return null},dataTestId:"test-info-banner"},tm={bannerId:e9.om.ProTeamPastDue,Banner:function(e){let t=(0,l.wA)(),a=(0,e1.cD)(),n=(0,l.d4)(e=>a?e.teams[a]:null),i=(0,ej.FC)(),o=a&&(0,e$.canAdminTeam)(a,i);if(n&&n.subscription===M.Qh.PAST_DUE){let l={bannerType:e9.x1.WARN,icon:ti.A,mainText:(0,h.t)("banner.pro_team_past_due.locked"),description:o?(0,h.t)("banner.pro_team_past_due.update_payment_source.can_admin",{teamName:n.name}):(0,h.t)("banner.pro_team_past_due.update_payment_source.no_admin",{teamName:n.name}),button:o?{buttonText:(0,h.t)("banner.pro_team_past_due.update_payment"),onClick:()=>{t?.(eR.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:e5.I.SETTINGS}))}}:void 0};return r.createElement(te,{...e,bannerContent:l})}return null},dataTestId:"pro-team-past-due-banner"},tp={bannerId:e9.om.ExternalContentControlBanner,Banner:function(e){let t=(0,l.wA)(),a=(0,X.q5)(),n=(0,R.iZ)(),i=(0,eW.dq)(),o=(0,eQ.R$)(n,i),s=(0,l.d4)(e=>{if(!o)return null;let t=e.orgById[n.external_restricted_org_id];return t?t.name:null});if(o&&s){let n=!!a&&a.viewerExportRestricted,l={bannerType:e9.x1.WARN,icon:ti.A,mainText:(0,h.tx)("external_collaboration_restricted.banner.title"),description:(0,h.tx)("external_collaboration_restricted.banner.restriction_description",{organizationName:s}),button:n?void 0:{buttonText:(0,h.t)("external_collaboration_restricted.banner.export_file"),onClick:()=>{a?.editorType==="design"?t(y.u1({id:w.C9})):t(y.TB({selectionArea:0,canvasArea:0,nodeCounts:{selectionNodeCount:0,canvasNodeCount:0,selectionStickyCount:0,canvasStickyCount:0,selectionTableCount:0,canvasTableCount:0}}))}},dismissible:!1};return r.createElement(te,{...e,bannerContent:l})}return null},dataTestId:"external-content-control-banner"},t_={bannerId:e9.om.DesktopDownloadBanner,Banner:function(e){let t=(0,l.wA)(),a=(0,l.d4)(e=>"fullscreen"===e.selectedView.view),n=(0,eZ.f)("dismissed_desktop_download_banner_prompt");if(a&&!n&&!et.eD&&(0,c.kc)().desktop_download_banner_prompt){let a={bannerType:e9.x1.INFO,icon:tl.A,mainText:(0,h.t)("banner.desktop_download_title"),description:(0,h.t)("banner.desktop_download_description"),button:{buttonText:(0,h.t)("banner.desktop_download_button"),onClick:()=>{en.Ay.redirect(`/download/desktop/${_.Ay.mac?"mac":"win"}`,"_blank")}},dismissible:!0,onDismiss:()=>t?.(eP.b({dismissed_desktop_download_banner_prompt:!0}))};return r.createElement(te,{...e,bannerContent:a})}return null},dataTestId:"download-desktop-banner"},tf={bannerId:e9.om.ProTeamChargeFailed,Banner:function(e){let t=(0,l.wA)(),a=(0,e1.cD)(),n=(0,l.d4)(e=>a?e.teams[a]:null),i=(0,ej.FC)(),o=a&&(0,e$.canAdminTeam)(a,i);if(n&&n.subscription===M.Qh.GRACE_PERIOD){let l={bannerType:e9.x1.WARN,icon:ti.A,mainText:(0,h.t)("banner.pro_team_charge_failed.payment_failed"),description:o?(0,h.t)("banner.pro_team_charge_failed.unsuccessful_team_charge.can_admin",{teamName:n.name}):(0,h.t)("banner.pro_team_charge_failed.unsuccessful_team_charge.no_admin",{teamName:n.name}),button:o?{buttonText:(0,h.t)("banner.pro_team_charge_failed.update_payment"),onClick:()=>{t?.(eR.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:e5.I.SETTINGS}))}}:void 0,dismissible:!0};return r.createElement(te,{...e,bannerContent:l})}return null},dataTestId:"pro-team-charge-failed-banner"},th={bannerId:e9.om.ProTeamNoMonthlySubEditorCountExceeded,Banner:function(e){let t=(0,l.wA)(),a=(0,e1.cD)(),n=(0,l.d4)(e=>a?e.teams[a]:null),i=(0,ej.FC)(),o=a&&(0,e$.canAdminTeam)(a,i);if(n&&n.subscription===M.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED){let l=o?r.createElement("span",null,(0,h.tx)("banner.pro_team_no_monthly_sub.over_limit_as_admin.seat_rename",{contactSupportLink:r.createElement("a",{href:`mailto:${(0,c.W4)()}`},(0,h.tx)("banner.pro_team_no_monthly_sub.contact_support"))})):r.createElement("span",null,(0,h.tx)("banner.pro_team_no_monthly_sub.over_team_limit_without_admin.seat_rename",{teamName:n.name})),i={bannerType:e9.x1.WARN,icon:ti.A,mainText:(0,h.t)("banner.pro_team_no_monthly_sub.locked"),description:l,button:o?{buttonText:(0,h.t)("banner.pro_team_no_monthly_sub.manage_plan"),onClick:()=>{t?.(eR.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:e5.I.SETTINGS}))}}:void 0};return r.createElement(te,{...e,bannerContent:i})}return null},dataTestId:"pro-team-no-monthly-sub-editor-count-exceeded-banner"},tg={bannerId:e9.om.ProTrialsExpiryBanner,Banner:function(e){let t=(0,l.wA)(),a=(0,X.q5)(),n=(0,e1.cD)(),i=(0,l.d4)(e=>n?e.teams[n]:null),o=(0,ej.FC)(),s=(0,l.d4)(e=>e.userTeamFlags),c=(0,l.Pj)(),d=(0,eY.q)({teamId:n,flag:e0.lg});if(!i||!a)return null;let u=(0,e$.canEditTeam)(i.id,o),m=(0,eJ.oc)(i.id,o);if(e0.ng.canSeeExpiredProTrialBanner(s,i,o)&&(m||u&&!d)){let n,l,o;m?(o=e9.x1.WARN_SOFT,n=u?(0,h.tx)("banner.pro_trial_expiry.locked_description",{lowerUsageLink:r.createElement("button",{onClick:e=>{e.preventDefault(),t?.(eM.to({type:e7.v,data:{teamId:i.id}}))}},(0,h.tx)("banner.pro_trial_expiry.lower_usage")),upgradeLink:r.createElement(eT.$z,{onClick:e=>{e.preventDefault();let a=c.getState();t(eD.WX({teamId:i.id,selectedView:a.selectedView}))}},(0,h.tx)("banner.pro_trial_expiry.upgrade"))}):(0,h.tx)("banner.pro_trial_expiry.locked_description_for_viewer_on_team",{teamName:i.name}),l={buttonText:(0,h.t)("banner.pro_trial_expiry.move_this_file_cta"),onClick:()=>(0,ec.hd)({key:a.key,name:a.name,folder_id:a.folderId,team_id:a.teamId,editor_type:a.editorType,parent_org_id:a.parentOrgId},null,t)}):(o=e9.x1.INFO,n=(0,h.tx)("banner.pro_trial_expiry.expiry_description",{teamName:i.name}),l={buttonText:(0,h.t)("banner.pro_trial_upgrade_cta.upgrade_to_professional"),onClick:()=>{let e=c.getState();t(eD.WX({teamId:i.id,selectedView:e.selectedView}))}});let s={bannerType:o,icon:ti.A,mainText:(0,h.t)("banner.pro_trial_expiry.title"),dismissible:!m,onDismiss:m?void 0:()=>{t(eF.bE({all_team_flags:[{team_id:i.id,flags:{[e0.lg]:!0}}]}))},description:n,button:u?l:void 0};return r.createElement(te,{...e,bannerContent:s})}return null},dataTestId:"pro-trials-expiry-banner"},tE={bannerId:e9.om.StarterTeamOverFreeLimitAndLocked,Banner:function(e){let t=(0,l.wA)(),a=(0,e1.cD)(),n=(0,l.d4)(e=>a?e.teams[a]:null),i=(0,ej.FC)(),o=(0,q.ks)(),s=(0,eG.ow)(),c=(0,eU.Yz)(),d=(0,l.Pj)(),u=(0,l.d4)(e=>e.openFile?.canEdit),m=a&&(0,e$.canEditTeam)(a,i),p=n&&!(0,eJ.n0)(n)&&!n.student_team&&(0,eJ.oc)(n.id,i);if(p){let l=n.student_team_state===e3.kU.STUDENT_TEAM_CURRENT||n.student_team_state===e3.kU.STUDENT_TEAM_EXPIRED,i=c(p&&!l);if(i&&!u){let l=!!n.stripe_customer_id,i=s?(0,h.t)("locked_team.banner.this_board_is_part_of_a_locked_team"):(0,h.t)("locked_team.banner.this_file_is_part_of_a_locked_team"),c=r.createElement("div",{style:eo.sx.add({marginLeft:"-32px"}).$},(0,h.tx)(o?"locked_team.banner.all_of_this_teams_work_is_currently_view_only_dev_mode":"locked_team.banner.all_of_this_teams_work_is_currently_view_only",{learnMoreLink:m?r.createElement(r.Fragment,null,r.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t?.(eM.to({type:e6.t,data:{teamId:a,canEditTeam:!0}}))}},(0,h.tx)("locked_team.banner.learn_more"))):r.createElement(r.Fragment,null)})),u=l?(0,h.t)("locked_team.banner.reactivate_professional"):(0,h.t)("locked_team.banner.upgrade_to_professional"),p={bannerType:e9.x1.WARN_SOFT,icon:r.createElement(J.s,null),mainText:i,description:c,button:m?{buttonText:u,onClick:()=>{let e=d.getState();t(eD.WX({teamId:a,selectedView:e.selectedView}))},className:ta.Vg}:void 0};return r.createElement(te,{...e,bannerContent:p})}if(!i&&!o){let l;l=m?r.createElement("span",null,r.createElement("b",{style:eo.sx.fontSemiBold.$},(0,h.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:n.name})," "),(0,h.tx)("banner.free_limit_locked.upgrade_team_or_lower_usage",{teamName:n.name,learnMoreLink:r.createElement(r.Fragment,null,r.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t?.(eM.to({type:e7.v,data:{teamId:a}}))}},(0,h.tx)("banner.free_limit_locked.learn_more")))})):r.createElement("span",null,r.createElement("b",{style:eo.sx.fontSemiBold.$},(0,h.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:n.name}))," ",(0,h.tx)("banner.free_limit_locked.ask_your_team_admin_for_details"));let i={bannerType:e9.x1.WARN,icon:ti.A,mainText:(0,h.t)("banner.free_limit_locked.locked"),description:l,button:m?{buttonText:(0,h.t)("banner.free_limit_locked.upgrade_now"),onClick:()=>{let e=d.getState();t(eD.WX({teamId:a,selectedView:e.selectedView}))},className:ta.n3}:void 0};return r.createElement(te,{...e,bannerContent:i})}}return null},dataTestId:"starter-team-over-free-limit-and-locked-banner"},ty={bannerId:e9.om.OrphanedOrgDraftsFile,Banner:function(e){let t=(0,l.wA)(),a=(0,X.q5)(),n=(0,eW.dq)(),i=(0,l.d4)(eX.xw),o=(0,l.d4)(eq.wA),s=null,d=null;if((0,c.kc)().abandoned_drafts_editor_improvement?(s=n&&a?.isAbandonedDraftFile?.status===Q.tT.Loaded&&a?.isAbandonedDraftFile.data,d=i?.permission===M._D.ADMIN?(0,h.t)("banner.orphaned_projects.move_to_project"):(0,h.t)("banner.orphaned_projects.move_to_project.member",{orgName:o?.name??""})):(s=n&&a?.project&&(0,ez.n3)(a.project),d=(0,h.t)("banner.orphaned_projects.move_to_project")),s){let a={bannerType:e9.x1.WARN,icon:ti.A,mainText:(0,h.t)("banner.orphaned_projects.file_in_an_abandoned_project"),description:d,button:{buttonText:(0,h.t)("banner.orphaned_projects.back_to_files"),onClick:()=>t?.(eR.$T({view:"recentFiles"}))}};return r.createElement(te,{...e,bannerContent:a})}return null},dataTestId:"orphaned-org-drafts-file-banner"},tv={bannerId:e9.om.PersonalProjectDeprecatedFile,Banner:function(e){let t=(0,X.q5)(),a=(0,e1.cD)(),n=(0,l.d4)(e=>a?e.teams[a]:null),i=(0,eW.dq)(),o=(0,l.wA)(),s=(0,ej.FC)();if(!(i&&t?.project&&(0,ez.n3)(t.project))&&!n&&t&&(0,eJ.f4)(t.folderId,t.teamId,s)){let t={bannerType:e9.x1.WARN,icon:ti.A,mainText:(0,h.t)("banner.personal_projects.locked"),description:r.createElement(r.Fragment,null,(0,h.tx)("banner.personal_projects.deprecation_message",{learnMoreLink:r.createElement("a",{href:"/pricing-faq#what-changes-for-me"},(0,h.tx)("banner.personal_projects.learn_more"))})),button:{buttonText:(0,h.t)("banner.personal_projects.back_to_files"),onClick:()=>o?.(eR.$T({view:"recentFiles"}))}};return r.createElement(te,{...e,bannerContent:t})}return null},dataTestId:"personal-project-deprecated-file-banner"},tb={bannerId:e9.om.EduGracePeriodAccessRestricted,Banner:function(e){let t=(0,X.q5)(),a=(0,e1.cD)(),n=(0,l.d4)(e=>a?e.teams[a]:null),i=(0,R.iZ)(),o=(0,eV.nF)(),s=(0,l.d4)(e=>e.userEduGracePeriods);if(!a||!i)return null;if(n&&!o?.enabled&&t?.canEditIgnoreEduGracePeriod&&n&&(0,el.GU)(s,(0,el.cn)(i),a,!!n.student_team).showAccessRestricted){let t={bannerType:e9.x1.WARN,icon:ti.A,mainText:(0,h.t)("banner.edu_grace_period.verification_required"),description:(0,h.t)("banner.edu_grace_period.editing_restricted_on_file",{teamName:n.name}),button:{buttonText:(0,h.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>en.Ay.redirect("/education/apply",_.Ay.isIpadNative?void 0:"_blank")}};return r.createElement(te,{...e,bannerContent:t})}return null},dataTestId:"edu-grace-period-access-restricted-banner"},tC={bannerId:e9.om.EduGracePeriodShowReminder,Banner:function(e){let t=(0,X.q5)(),a=(0,e1.cD)(),n=(0,l.d4)(e=>a?e.teams[a]:null),i=(0,R.iZ)(),o=(0,eV.nF)(),s=(0,l.d4)(e=>e.userEduGracePeriods);if(a&&i){let l=n&&!o?.enabled&&t?.canEditIgnoreEduGracePeriod&&n&&(0,el.GU)(s,(0,el.cn)(i),a,!!n.student_team).showReminder,c=(0,el.zR)(s,a);if(l){let t={bannerType:e9.x1.INFO,icon:tr.A,mainText:(0,h.t)("banner.edu_grace_period.verification_required"),description:(0,h.t)("banner.edu_grace_period.grace_period_team_reminder",{teamName:n.name,endDate:c}),dismissible:!0,button:{buttonText:(0,h.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>en.Ay.redirect("/education/apply",_.Ay.isIpadNative?void 0:"_blank")}};return r.createElement(te,{...e,bannerContent:t})}}return null},dataTestId:"edu-grace-period-show-reminder-banner"},tw={bannerId:e9.om.MultiplayerSessionUpgrade,Banner:function(e){let t=(0,eK.p8)("multiplayerSessionState")!==i.kul.UNJOINED,a=!(0,eK.p8)("isReadOnly");if((0,l.d4)(e=>e.showingUpgradeBanner)){let n={bannerType:e9.x1.INFO,icon:ti.A,mainText:(0,h.t)("banner.multiplayer_session_upgrade.page_out_of_date"),description:t?(0,h.t)("banner.multiplayer_session_upgrade.out_of_date.connected"):(0,h.t)("banner.multiplayer_session_upgrade.out_of_date.not_connected"),button:{buttonText:a?(0,h.t)("banner.multiplayer_session_upgrade.save_and_reload"):(0,h.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{(0,$.sx)("Upgrade Banner Clicked"),i.h3O.startUpgrade()}}};return r.createElement(te,{...e,bannerContent:n})}return null},dataTestId:"multiplayer-session-upgrade-banner"},tT={bannerId:e9.om.FigJamTryDraftsBanner,Banner:function(e){let t=(0,l.wA)(),a=(0,X.q5)(),n=(0,eV.nF)(),i=(0,R.iZ)(),o=(0,eZ.f)("dismissed_figjam_try_drafts_banner"),s=(0,er.R)("minute");if(!n?.enabled||!a||!i)return null;if(!a.isTryFile&&!a.parentOrgId&&a.folderId===i.drafts_folder_id&&!o){let l=(0,ee.A)(s),i=Math.ceil((0,ee.A)(n.until).diff(l,"hours",!0)),o={bannerType:e9.x1.INFO,icon:tr.A,mainText:i>1?(0,h.t)("figjam_try.drafts_banner_title_more_time",{num_hours:i}):(0,h.t)("figjam_try.drafts_banner_title_1_hour_or_less"),description:(0,h.t)("figjam_try.drafts_banner_description"),onDismiss:()=>t?.(eP.b({dismissed_figjam_try_drafts_banner:!0})),dismissible:!0,button:{buttonText:(0,h.t)("figjam_try.move_file"),onClick:()=>(0,ec.hd)({key:a.key,name:a.name,folder_id:a.folderId,team_id:a.teamId,editor_type:a.editorType,parent_org_id:a.parentOrgId},null,t)}};return r.createElement(te,{...e,bannerContent:o})}return null},dataTestId:"figjam-try-drafts-banner"},tS={bannerId:e9.om.FigJamTryClaimBanner,Banner:function(e){let t=(0,l.wA)(),a=(0,X.q5)(),n=(0,eV.nF)(),i=(0,R.iZ)(),o=(0,eZ.f)("dismissed_figjam_try_claim_banner"),s=(0,er.R)("minute"),c=a?.key;if(!a?.isTryFile||_.Ay.isMeetDevice||!i||!n?.enabled||!c||o)return null;let d=(0,ee.A)(s),u=Math.ceil((0,ee.A)(n.until).diff(d,"hours",!0)),m=()=>{t(eO.Q({file_key:c}))},p={bannerType:e9.x1.INFO,icon:tr.A,mainText:u>1?(0,h.t)("figjam_try_v2.timer_hours_left",{hoursLeft:u}):(0,h.t)("figjam_try.claim_banner_title_1_hour_or_less"),description:(0,h.t)("figjam_try_v2.logged_in.after_that_this_board_will_be_deleted"),onDismiss:()=>t?.(eP.b({dismissed_figjam_try_claim_banner:!0})),dismissible:!0,button:{buttonText:(0,h.t)("figjam_try_v2.claim_file_logged_in"),onClick:()=>m()}};return r.createElement(te,{...e,bannerContent:p})},dataTestId:"figjam-try-claim-banner"};function tN({hubFile:e}){return(0,eu._)(e)?(0,h.tx)("banner.freemium_preview.this_is_just_a_preview"):(0,h.tx)("banner.freemium_preview.get_the_full_file_on_community")}function tx({hubFile:e}){return(0,eu._)(e)?(0,h.tx)("banner.freemium_preview.you_purchased_this_file_already"):(0,h.tx)("banner.freemium_preview.this_is_just_a_preview_of_the_file_you_can_buy_on_community")}function tk({hubFile:e}){let t=(0,eu._)(e),a=t?"":`?${eB.Tb}`;return r.createElement(ed.A6,{to:`/community/file/${e.id}${a}`},r.createElement(ei.tM,{trackingProperties:{trackingDescriptor:t?eH.c.OPEN_IN_COMMUNITY:eH.c.BUY_THE_RESOURCE}},t?(0,h.tx)("banner.freemium_preview.open_in_community"):(0,h.tx)("banner.freemium_preview.buy_the_resource")))}let tI={bannerId:e9.om.FreemiumPreviewBanner,Banner:function(e){let t=(0,X.tS)(),a=(0,l.d4)(e=>t?e.figFileDuplicatedFromHubFile[t]:null),n=(0,l.d4)(e=>a?e.hubFiles[a.hubFileId]:null);return a&&a.isPreview&&n&&n.monetized_resource_metadata?r.createElement(te,{...e,bannerContent:{bannerType:e9.x1.INFO,icon:tr.A,dismissible:!1,mainText:r.createElement(tN,{hubFile:n}),description:r.createElement(tx,{hubFile:n}),button:{type:e9.MA.CUSTOM,element:r.createElement(tk,{hubFile:n})}}}):null},dataTestId:"freemium-preview-banner"},tA={bannerId:e9.om.FileCreationFailureBanner,Banner:function(e){if((0,l.d4)(e=>e.showingFileCreationFailureBanner)){let t={bannerType:e9.x1.WARN,dismissible:!1,mainText:(0,h.tx)("banner.file_creation_failure.title"),description:(0,h.tx)("banner.file_creation_failure.description")};return r.createElement(te,{...e,bannerContent:t})}return null},dataTestId:"file-creation-failure-banner"},tL={bannerId:e9.om.DevModeInTrialBanner,Banner:function(e){let t=(0,l.wA)(),a=(0,q.ks)(),n=(0,eZ.f)("dev_mode_has_dismissed_in_trial_banner"),i=ef();if(!a||!i?.isInTrial||i?.starterTrialDays||n||i?.shouldSeeBlockingModal)return null;let o={bannerType:e9.x1.INFO,dismissible:!0,onDismiss:()=>t?.(eP.b({dev_mode_has_dismissed_in_trial_banner:!0})),mainText:r.createElement(eA,null),icon:tn.A,dataTestId:"dev-mode-trial-banner"};return r.createElement(te,{...e,bannerContent:o})},dataTestId:"dev-mode-in-trial-banner"},tO={bannerId:e9.om.devModeStarterTrialBanner,Banner:function(e){let t=(0,l.wA)(),a=(0,q.ks)(),n=(0,e1.cD)(),i=(0,l.d4)(eh.P),o=ef(),s="dev_mode_has_dismissed_starter_trial_banner",c=(0,eZ.f)(s),d=(0,er.R)("hour"),u=o?.starterTrialDays;if(!a||!o?.isInTrial||!(u&&u<=4)||function(e,t){let a=e?.updatedAt;if(!a)return!1;let n=t.getTime()-864e5;return a.getTime()>n}(c,d)||o?.shouldSeeBlockingModal)return null;let m={bannerType:e9.x1.INFO,dismissible:!0,onDismiss:()=>t?.(eP.b({[s]:!0})),mainText:r.createElement(eL,{daysLeft:u}),icon:tn.A,dataTestId:"dev-mode-trial-banner",additionalTrackingProperties:{currentPlan:i,teamId:n},button:{buttonText:(0,h.t)("dev_handoff.paywall.banner.button_starter_trial"),onClick:()=>{t((0,eM.to)({type:es.V,data:{teamId:n,upsellSource:e2.b.DEV_MODE_STARTER_TRIAL_UPSELL_MODAL,openCheckoutInNewTab:!0}}))},trackingDescriptor:eH.c.UPGRADE}};return r.createElement(te,{...e,bannerContent:m})},dataTestId:"dev-mode-starter-trial-banner"},tR={bannerId:e9.om.DevModePaywallBanner,Banner:function(e){let t=(0,q.ks)(),a=ef(),n=(0,l.d4)(eh.P),i=(0,e1.cD)();return!t||a?.canAccessDevMode||a?.shouldSeeBlockingModal?null:r.createElement(te,{...e,dataTestId:"dev-mode-paywall-banner",additionalTrackingProperties:{currentPlan:n,teamId:i},bannerContent:{bannerType:e9.x1.INFO,dismissible:!1,mainText:r.createElement(eI,null),icon:tn.A,button:{type:e9.MA.CUSTOM,element:r.createElement(ek,null)}}})},dataTestId:"dev-mode-paywall-banner"},tM=[tc,td,tw,tm,tf,th,tg,tE,tp,ty,tv,tb,tC,tT,tS,tI,t_,...(0,c.b5)()?[to,ts,tu]:[]],tD=[td,tE,tw,tR,tO,tL],tP=[tA],tF=[],tB=r.memo(function({prioritizedBanners:e,location:t}){let{bannerIdToShow:a,registerActiveBanner:n}=function({prioritizedBanners:e}){let[t,a]=(0,r.useState)(new Set);return{registerActiveBanner:(0,r.useCallback)(e=>(a(t=>{if(t.has(e))return t;let a=new Set(t);return a.add(e),a}),()=>{a(t=>{if(t.has(e)){let a=new Set(t);return a.delete(e),a}return t})}),[]),bannerIdToShow:function(e,t=[]){let a=(0,r.useMemo)(()=>t.map(e=>e.bannerId).reduce((e,t,a)=>(e.set(t,a),e),new Map),[t]),n=(0,r.useMemo)(()=>[...e].reduce((e,t)=>{let n=a.get(t)??1/0;return n<e?n:e},1/0),[e,a]);return t[n]?.bannerId??null}(t,e)}}({prioritizedBanners:e});return r.createElement(r.Fragment,null,e.map(({bannerId:e,Banner:l,dataTestId:i})=>r.createElement(l,{key:e,bannerId:e,shouldDisplay:e===a,registerAsActive:n,location:t,dataTestId:i})))});function tU(){let e=function(){let e=(0,X.q5)(),t=(0,q.ks)(),a=e?.teamId,n=(0,l.d4)(e=>a?e.teams[a]:null);return e?a&&!n?tF:t?tD:tM:tP}();return r.createElement(tB,{prioritizedBanners:e,location:"editor"})}var tH=a(287928),tG=a(78584),tV=a(287832),tz=a(638889),tK=a(126911);function tW(){let e=Array.from((0,F.J2)(i.Ez5?.uiState().autoLayoutShortcutHints).values()),t=(0,U.md)(W.Bu),a=tK.y.isApple(),n=e=>{switch(e){case i.oeV.IGNORE_AUTOLAYOUT:return{displayName:(0,h.t)("fullscreen.auto_layout_hints.ignore_auto_layout"),shortcutText:a?"\u2303 Ctrl":"S"};case i.oeV.PREVENT_NESTING:return{displayName:(0,h.t)("fullscreen.auto_layout_hints.prevent_nesting"),shortcutText:(0,h.t)("fullscreen.auto_layout_hints.space_key")};case i.oeV.FORCE_INSERTION:return{displayName:(0,h.t)("fullscreen.auto_layout_hints.force_insertion"),shortcutText:a?"\u2318":"Ctrl"}}},l=e=>e.isValid?e.isActive?"auto_layout_hints--activeShortcutWithTextContainer--dkT1S auto_layout_hints--shortcutWithTextContainer--uEquz":"auto_layout_hints--shortcutWithTextContainer--uEquz":"auto_layout_hints--invalidShortcutWithTextContainer--gvHLT auto_layout_hints--shortcutWithTextContainer--uEquz";return e?r.createElement("div",{className:ev()("auto_layout_hints--root--MJKU2",{"auto_layout_hints--rootAdjustedForQA--YZlbt":t})},r.createElement("div",{className:"auto_layout_hints--hintsBarContainer--3DyGD"},e.sort((e,t)=>e.shortcut-t.shortcut).map((e,t)=>{let a=n(e.shortcut);return r.createElement("div",{className:l(e),key:t},r.createElement("div",{className:e.isActive&&e.isValid?"auto_layout_hints--activeShortcutContainer--bj0CD auto_layout_hints--shortcutContainer--mIecl":"auto_layout_hints--shortcutContainer--mIecl"},a.shortcutText.length>0?r.createElement("div",{className:"auto_layout_hints--smallShortcutText--lHZ8Q utilities--bodySmall--JyKR1"},a.shortcutText):r.createElement(tz.S,{shortcut:a.shortcutText})),r.createElement("p",null,a.displayName))}))):null}var tj=a(762638),tZ=a(965480),tY=a(777078),tX=a(809073),tq=a(554905),tJ=a(908225),tQ=a(144119),t$=a(915914),t0=a(407909);let t1=(0,r.memo)(function(){let e=(0,l.wA)(),t=(0,eK.aV)(),a=(0,tZ.kD)(),n=(0,tY.b4)(),i=(0,X.q5)(),o=(0,tZ.tS)(),s=(0,tZ.ac)(),c=(0,tq.Td)(),d=(0,eG.lg)(),u=(0,tQ.sO)(),m=(0,R.iZ)(),_=m?.id&&a&&a.publishedByUserId===m.id,f=(0,tZ.J3)();if(!o||t||!a||c||null===s)return null;let g=s&&f===tZ.kN.CAN_PUBLISH,E={type:e9.MA.STRUCTURED,onClick:()=>{a&&i&&n({templateIdentifier:{type:tX.vt.TeamTemplate,file_key:a.fileKey},templateName:a.name})},trackingDescriptor:eH.c.USE_IN_NEW_FILE,buttonText:u?(0,h.t)("slides.templates.banner.new_deck_button"):(0,h.t)("whiteboard.delightful_toolbar.custom_template_banner.new_file_button")};if(g){if(!_)return r.createElement(e8.C,{onDismiss:p.lQ,editorType:(0,Z.wN)(d),content:{id:e9.om.FileIsTeamTemplate,bannerType:e9.x1.INFO,icon:t0.A,mainText:(0,h.t)("templates.banner.republish.primary_text"),description:(0,h.t)("templates.banner.republish.secondary_text_not_owner"),button:E}});let t={type:e9.MA.STRUCTURED,onClick:()=>{(0,tJ.Y)(e,a.fileKey,d,"editor-republish-banner")},trackingDescriptor:eH.c.PUBLISH_CHANGES,buttonText:(0,h.t)("templates.banner.republish.republish_action")};return r.createElement(e8.C,{onDismiss:p.lQ,editorType:(0,Z.wN)(d),content:{id:e9.om.FileIsTeamTemplate,bannerType:e9.x1.INFO,icon:t0.A,mainText:(0,h.t)("templates.banner.republish.primary_text"),description:(0,h.t)("templates.banner.republish.secondary_text"),button:t}})}let y=a.publishedByUser?.handle?(0,h.tx)("templates.banner.republish.you_re_viewing_a_template_made_by_publisher_name",{madeByPublisherName:r.createElement("span",{className:tj.cx.fontNormal.$},_?(0,h.tx)("templates.banner.made_by_you"):(0,h.tx)("templates.banner.republish.made_by_publisher_name",{publisherName:a.publishedByUser.handle}))}):(0,h.t)("templates.banner.republish.you_re_viewing_a_template");return r.createElement(e8.C,{onDismiss:p.lQ,editorType:(0,Z.wN)(d),content:{id:e9.om.FileIsTeamTemplate,bannerType:e9.x1.INFO,icon:t$.A,mainText:y,button:E}})});var t2=a(747396),t5=a(514736),t3=a(448879),t4=a(91408),t6=a(226055),t7=a(617453),t8=a(231472),t9=a(531461),ae=a(760445),at=a(860168);function aa({children:e}){let t=(0,l.d4)(e=>e.universalInsertModal?.pinned===t8.t.PINNED_AND_DOCKED_LEFT),a=(0,t6.GS)(),n=(0,l.d4)(e=>e.mirror?.appModel.showUi),i=a&&n,o=(0,t7.qw)(),s=r.useMemo(()=>[t9.mW.RESOLVED,t9.mW.YOURS,t9.mW.CURRENT_PAGE],[]),c=r.useMemo(()=>[t9.qN.CREATION_DATE,t9.qN.UNREAD],[]),{xDelta:d,yDelta:u}=(0,t3.m)(),m=r.useMemo(()=>{let e=(0,t4.hG)(at.PXB),a=d;return t&&(a+=ae.AN+e),{xDelta:a,yDelta:u}},[t,u,d]),p=r.useMemo(()=>{let e=(0,t4.jz)(at.LdP),t=0,a=0;return i&&(t+=e,a+=o),{maxHeightDelta:0,minBottomMarginDelta:t,minLeftMarginDelta:0,minRightMarginDelta:a}},[o,i]),_=r.useMemo(()=>{if(i)return{paddingRight:o}},[o,i]),f=r.useMemo(()=>({...t3.y,sidebarFilters:s,sidebarSorts:c,dockPositionAdjustment:m,draggableModalBoundsAdjustment:p,commentPositionPaddingAdjustment:_}),[s,c,_,m,p]);return r.createElement(t5.a.Provider,{value:f},e)}var an=a(243742),ar=a(497306),al=a(341860),ai=a(433861);let ao={isDevHandoff:!0};function as({children:e}){let t="ui3"===(0,an.DP)().version,a=(0,l.d4)(e=>e.mirror?.appModel.showUi),n=t&&a,i=(0,E.hA)(),o=(0,l.d4)(e=>e.mirror.appModel.currentPage),s=r.useContext(ai.kw),c=(0,t7.UX)(),d=(0,t4.jz)(at.ZB$),u=r.useMemo(()=>[t9.mW.RESOLVED,t9.mW.YOURS,t9.mW.CURRENT_PAGE],[]),m=r.useMemo(()=>[t9.qN.CREATION_DATE,t9.qN.UNREAD],[]),p=(0,t3.m)(),_=r.useMemo(()=>{let e=0,t=0;return n&&(e+=d,t+=c),{maxHeightDelta:0,minBottomMarginDelta:e,minLeftMarginDelta:0,minRightMarginDelta:t}},[d,c,n]),f=r.useMemo(()=>{if(n)return{paddingRight:c}},[c,n]),g=r.useCallback(e=>{if(!i)return!1;let t=e&&o?s.getCommentDestinationForCanvasPosition(e,o)?.nodeId:void 0;return!t||!(0,ar.rV)(al.q.instance,i,t)},[o,s,i]),y=r.useMemo(()=>{let e={...t3.y,sidebarFilters:u,sidebarSorts:m,dockPositionAdjustment:p,draggableModalBoundsAdjustment:_,commentPositionPaddingAdjustment:f,linkGenerationParams:ao,isCommentingDisabledAtPosition:g,commentDisabledPositionBellMessage:(0,h.t)("dev_handoff.workflows.focus_view.comments")};return i&&(e.filterBy="non_dev_mode_focus"),e},[u,m,p,_,f,g,i]);return r.createElement(t5.a.Provider,{value:y},e)}var ac=a(568214),ad=a(813648),au=a(228131),am=a(525040),ap=a(368702),a_=a(301280);let af={isFigJam:!0};function ah({children:e}){let t=(0,am.Vi)(),a=(0,t6.GS)(),n=(0,l.d4)(e=>e.universalInsertModal?.pinned===t8.t.PINNED_AND_DOCKED_LEFT),i=r.useMemo(()=>[t9.mW.RESOLVED,t9.mW.YOURS],[]),o=r.useMemo(()=>[t9.qN.CREATION_DATE,t9.qN.UNREAD],[]),s=(0,t3.m)(),{xDelta:c,yDelta:d}=r.useMemo(()=>{if(a)return s;let e=(0,t4.jz)(at.PXB),t=0;return n&&(t+=ad.gR+e),{xDelta:t,yDelta:0}},[n,a,s]),u=r.useMemo(()=>({xDelta:c,yDelta:d}),[c,d]),m=r.useMemo(()=>208,[]),p=r.useMemo(()=>{let e=new Map;return e.set(au.b.DOCK_STYLE,a_._V),e.set(au.b.ATTACHMENT_MODAL_BACKGROUND_COLOR,(0,ac.Bx)("light")),e},[]),_=r.useMemo(()=>{let e;let n=a?(0,t4.jz)(at.LQy):(0,t4.jz)(at.IuL),r=(0,t4.jz)(at.rY4),l=0,i=0;return e=0-n,l+=n,t&&(i+=r),{maxHeightDelta:e,minBottomMarginDelta:l,minLeftMarginDelta:0,minRightMarginDelta:i}},[t,a]),f=r.useCallback(()=>{(0,ap.W)("left",()=>{})},[]),h=r.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,clusterBy:"page",orphanedBy:"deleted_pages",filterBy:"hidden_sections",sidebarFilters:i,sidebarSorts:o,dockPositionAdjustment:u,draggableModalBoundsAdjustment:_,onDockSideEffect:f,sidebarBottomPaddingAdjustment:m,styleOverrideMap:p,linkGenerationParams:af}),[u,_,f,m,i,o,p]);return r.createElement(t5.a.Provider,{value:h},e)}var ag=a(372252);function aE({children:e}){let t=(0,l.d4)(e=>e.selectedView.editorType),a=r.useMemo(()=>{if(window.FigmaMobile)return t===Z.nT.Whiteboard?function({children:e}){return r.createElement(t5.a.Provider,{value:t2.Wo},e)}:function({children:e}){return r.createElement(t5.a.Provider,{value:t2.In},e)};switch(t){case Z.nT.Design:return aa;case Z.nT.Whiteboard:return ah;case Z.nT.Slides:return ag.Yz;case Z.nT.DevHandoff:return as;default:return function({children:e}){return r.createElement(t5.a.Provider,{value:t3.y},e)}}},[t]);return r.createElement(a,null,e)}var ay=a(71825),av=a(485463),ab=a(256296),aC=a(554322),aw=a(572206),aT=a(827586),aS=a(574176),aN=a(46415),ax=a(402603),ak=a(973149);let aI=0;class aA{constructor(){this.work=()=>{let e=this.jobs.shift();if(e)try{let t=e.callback();e.resolve(t)}catch(t){e.reject(t)}},this.jobs=[]}isDone(){return 0===this.numJobs()}numJobs(){return this.jobs.length}cancelJobs(e){this.jobs=this.jobs.filter(t=>-1===e.indexOf(t.jobId))}queueJob(e){let t,a;let n=new Promise((e,n)=>{t=e,a=n}),r=++aI;return this.jobs.push({jobId:r,resolve:t,reject:a,callback:e}),{promise:n,jobId:r}}}let aL={requestAnimationFrame:e=>requestAnimationFrame(e),computeElapsedTime:e=>{let t=Date.now();return e(),Date.now()-t}},aO=new class{constructor(e={}){this.tick=()=>{if(!this.isTickScheduled)throw Error("wat, how did tick() get called if we're not ticking?");let e=0,t=0;for(;t<this.msPerTick&&!this.queuedWorker.isDone();)t+=this.utils.computeElapsedTime(this.queuedWorker.work),e++;this.debug&&console.log(`did ${e} jobs in ${t} ms`),this.isTickScheduled=!1,this.queuedWorker.isDone()||this.requestTick()},this.requestTick=()=>{this.isTickScheduled||(this.isTickScheduled=!0,this.utils.requestAnimationFrame(this.tick))},this.numJobs=()=>this.queuedWorker.numJobs(),this.queueJob=e=>{let{promise:t,jobId:a}=this.queuedWorker.queueJob(e);return this.requestTick(),{promise:t,jobId:a}},this.queuedWorker=new aA,this.isTickScheduled=!1,this.msPerTick=e.msPerTick||6,this.utils=e.utils||aL,this.debug=!0===e.debug}cancelJobs(e){this.queuedWorker.cancelJobs(e)}}({debug:!1});var aR=a(162620),aM=a(288536),aD=a(968783),aP=a(149374),aF=a(71596),aB=a(15859),aU=a(848661),aH=a(931770),aG=a(471224),aV=a(498606),az=a(222478),aK=a(709731),aW=a(946465),aj=a(232309),aZ=a(999140),aY=a(746806);let aX="export_picker--header--Wz6np",aq="export_picker--labelWithoutCheckbox--3zcNc export_picker--label--43URE",aJ="export_picker--button--PiGDo";var aQ=a(957412);let a$=(0,t4.hG)(at.zK5);function a0(){let e=(0,X.q5)(),t=(0,l.d4)(e=>e.exportableItems),a=(0,l.d4)(e=>e.dropdownShown),n=!!e&&(0,eQ.Pe)(e),i=(0,aC.Av)(),o=(0,l.d4)(e=>e.saveAsState),s=(0,l.d4)(e=>e.mirror.appModel.currentPage),c=(0,l.wA)(),d=new aw.Mi(window.innerWidth-a$,i+12);return r.useEffect(()=>{c((0,aD.HR)())},[c]),r.createElement(aY.vx,{title:(0,h.t)("fullscreen.properties_panel.export"),headerSize:"small",initialPosition:d,onClose:()=>{c(y.XE())},dragHeaderOnly:!0,headerClassName:"export_picker--modalHeader--f3fKx"},r.createElement("div",{className:"export_picker--exportModalContainer---vmI7"},r.createElement(a5,{exports:t,isCopyExportRestricted:n,width:a$,dispatch:c,dropdownShown:a,saveAsState:o,currentPage:s})))}let a1=new ak.mz;function a2({nodeID:e,title:t,filename:a,exportSetting:n,colorProfile:l=i.RYP.SRGB,isBeingRenamed:o,...s}){let[d,u]=(0,r.useState)({size:"",warning:"",warningTooltip:""}),[m,p]=(0,r.useState)("");(0,r.useEffect)(()=>{let r={guid:e,title:t,filename:a,exportSetting:n},o=i.glU.getExportWarningAndSize(r);if(o){let{size:e,warning:t,warningTooltip:a}=o;u({size:e,warning:t,warningTooltip:a})}else console.error("Failed to export",r);let s=!!n.contentsOnly,c=(0,aU.gl)(n)?l:(0,aR.A)([n],l),{jobId:d}=aO.queueJob(()=>{let t=aH._G(new aw.Mi(32,32),e,s),a="";t&&t.pixels&&t.pixelSize&&t.displaySize&&(a=aH.Pv(t.pixels,t.pixelSize,c)),p(a)});return()=>aO.cancelJobs([d])},[l,n,a,e,t]);let{onToggleChecked:_,isChecked:f,isDisabled:h}=s,{imageType:g}=n,E=s.warning??d.warning,y=s.warningTooltip??d.warningTooltip,v=(0,r.useId)(),b=`${v}-input`,C=`${v}-desc`;return r.createElement("div",{className:"export_picker--row--lVRtp"},r.createElement("label",{htmlFor:b,className:"export_picker--label--43URE"},r.createElement(ay.W,{id:b,checked:f,onChange:_,disabled:h,htmlAttributes:{"aria-describedby":C}}),r.createElement("div",{className:"export_picker--thumbContainer--xwXyl",onClick:t=>{t.preventDefault(),i.glU.panToNode(e)},"aria-hidden":"true"},!!m&&r.createElement("img",{src:m,className:"export_picker--thumb--pKbcx","data-tooltip-type":aV.Ib.TEXT,"data-tooltip":a,alt:""})),r.createElement("div",{className:"export_picker--nameInfo--03piR export_picker--twoRows--PAHTA"},r.createElement("div",{className:ev()("export_picker--name--HuhHU ellipsis--ellipsis--Tjyfa",{"export_picker--nameRenaming--jTYjh":(0,c.kc)().ai_prod_rename_layers_moments&&o})},t),E&&r.createElement("div",{className:"export_picker--warningRow--PMwtO"},r.createElement(aS.B,{className:"export_picker--warningIcon--fgSRz",svg:aQ.A,"data-tooltip-type":aV.Ib.TEXT,"data-tooltip":y}),r.createElement("span",{className:"export_picker--warning--qpraF ellipsis--ellipsis--Tjyfa"},E)))),r.createElement("div",{className:"export_picker--settingsInfo--H9DJ1 export_picker--twoRows--PAHTA",id:C},r.createElement("div",null,a1.format(n.constraint)," ",g),r.createElement("div",null,d.size)))}class a5 extends r.PureComponent{constructor(){super(...arguments),this.state={renamingLayersRunning:!1,downloadStarted:!1,exportingStarted:!1,exportingProgress:0,exportingTotal:0,exportingJobIds:[]},this.onCancel=()=>{this.props.dispatch(y.XE())},this.autoRenameFrameAndFileOnExport=async e=>{let t=e.map(e=>e.nodeID),{detectedUnnamedLayers:a,exceedingLayerLimit:n,renamableNodeGuids:r}=(0,aF.M)(t,!0);a&&!n&&(this.setState({renamingLayersRunning:!0}),this.props.exports.items.forEach(e=>{r.includes(e.nodeID)&&(e.isBeingRenamed=!0)}),U.zl.set(aZ.zF,aP.uQ.EXPORT_PICKER),(0,aK.B3)(az.JT.AUTO_RENAME_LAYERS),await (0,aK.Ag)(az.JT.AUTO_RENAME_LAYERS,aP.Ay,{source:aP.uQ.EXPORT_PICKER,overwriteNames:!1,nodeGuidsToRename:r}),(0,aK.pP)(az.JT.AUTO_RENAME_LAYERS).state===aK.qy.DONE&&this.props.exports.items.forEach(e=>{if(!r.includes(e.nodeID))return;let t=al.q.instance.get(e.nodeID)?.name;e.filename=e.filename.replace(e.title,t||e.title),e.title=t||e.title,e.isBeingRenamed=!1}),this.setState({renamingLayersRunning:!1}))},this.cancelAutoRename=()=>{let{aiTrackingContext:e}=(0,aK.pP)(az.JT.AUTO_RENAME_LAYERS),t={...e,...(0,aW.LU)({shortcut:null,target:null}),interaction:aj.Ek.STOP};(0,aK.cT)(az.JT.AUTO_RENAME_LAYERS),(0,aW.nP)(t),this.setState({renamingLayersRunning:!1}),this.setState({downloadStarted:!0})},this.onExport=async()=>{if(this.props.isCopyExportRestricted||((0,$.sx)("Export Picker Exported"),this.state.downloadStarted||this.state.exportingStarted||this.isExporting()))return;let e=this.props.exports.items.filter(e=>this.props.exports.checked[e.itemID]);if(0===e.length)return;(0,c.kc)().ai_prod_rename_layers_moments&&await this.autoRenameFrameAndFileOnExport(e);let t=[this.props.currentPage];aB.xY.includeOutsideContents(e.map(e=>e.exportSetting))||(t=e.map(e=>e.nodeID)),this.setState({downloadStarted:!0}),(0,aG.Dc)(aG.hV.Export,this.props.saveAsState,this.props.dispatch,()=>{this.setState({exportingStarted:!0,downloadStarted:!1}),this.exportItemsWithFullscreen(e)},t,"export-picker")},this.exportItemsWithFullscreen=e=>{let t=e.map(e=>({guid:e.nodeID,title:e.title,filename:e.filename,exportSetting:e.exportSetting})),a=0;i.glU.clearExportedItems();let n=t.map(e=>aO.queueJob(()=>i.glU.exportItem(e))),r=n.map(e=>e.promise);r.forEach(e=>e.then(()=>this.setState({exportingProgress:++a}))),this.setState({exportingProgress:0,exportingTotal:t.length,exportingJobIds:n.map(e=>e.jobId)}),Promise.all(r).then(()=>{this.setState({exportingJobIds:[]}),i.glU.saveExportedItems(),this.props.dispatch(y.XE()),this.props.dispatch(aN.rg())})},this.setAllChecked=e=>{this.props.exports.items.forEach((t,a)=>{this.props.dispatch(ax.G({itemID:t.itemID,checked:e}))})},this.setChecked=(e,t)=>{this.props.dispatch(ax.G({itemID:e.itemID,checked:t}))},this.isChecked=e=>this.props.exports.checked[e.itemID]}isExporting(){return this.state.exportingJobIds&&this.state.exportingJobIds.length>0}componentWillUnmount(){this.isExporting()&&aO.cancelJobs(this.state.exportingJobIds)}renderHeader(){if((0,c.kc)().ai_prod_rename_layers_moments&&this.state.renamingLayersRunning)return r.createElement("div",{className:aX},r.createElement("label",{className:aq},(0,h.tx)("fullscreen.export.renaming_layers")),r.createElement(ei.nR,{className:aJ,onClick:this.cancelAutoRename},(0,h.tx)("fullscreen.export.skip_rename")));if(this.isExporting())return r.createElement("div",{className:aX},r.createElement("label",{className:aq},(0,h.tx)("fullscreen.export.preparing_exporting_progress_of_exporting_total",{exportingProgress:this.state.exportingProgress,exportingTotal:this.state.exportingTotal})),r.createElement(ei.nR,{className:aJ,onClick:this.onCancel},(0,h.tx)("fullscreen.export.cancel")));if(this.state.exportingStarted||!this.props.saveAsState.startTime&&this.state.downloadStarted)return r.createElement("div",{className:aX},r.createElement("label",{className:aq},(0,h.tx)("fullscreen.export.exporting")));if(this.state.downloadStarted){if(!(this.props.saveAsState.totalImagesToDownload>0))return r.createElement("div",{className:aX},r.createElement("label",{className:aq},(0,h.tx)("fullscreen.export.downloading")));{let e=Math.min(this.props.saveAsState.totalImagesToDownload,this.props.saveAsState.totalImagesToDownload-this.props.saveAsState.remainingImagesToDownload);return r.createElement("div",{className:aX},r.createElement("label",{className:aq},(0,h.tx)("fullscreen.export.downloading_progress",{downloadingProgress:e,downloadingTotal:this.props.saveAsState.totalImagesToDownload})),r.createElement(ei.nR,{className:aJ,onClick:this.onCancel},(0,h.tx)("fullscreen.export.cancel")))}}{let e=this.props.exports.items||[],t=e.filter(this.isChecked).length,a=e.length,n=a===t;return r.createElement("div",{className:aX},r.createElement(av.S,{checked:n,mixed:!n&&t>0,onChange:()=>this.setAllChecked(!n),label:r.createElement(ab.J,null,(0,h.tx)("fullscreen.export.num_selected_of_total_selected",{numSelected:t,total:a}))}),r.createElement(ei.nR,{className:ev()(aJ,"export_picker--flexRight--PFS7g"),disabled:!t,onClick:this.onExport,autoFocus:!0},(0,h.tx)("fullscreen.export.export")))}}render(){let e=this.props.exports.items&&this.props.exports.items.length>0;return r.createElement("div",null,r.createElement("div",{className:"export_picker--modal--FoIpV"},this.renderHeader(),r.createElement(aT.P,{width:this.props.width,className:"export_picker--scrollContainer--F9sI6"},!e&&r.createElement("div",{className:"export_picker--emptyModal--x2aqt"},(0,h.tx)("fullscreen.export.no_selected_layers_with_export")),r.createElement(aM.ZH,null,({documentExportColorProfile:t})=>e&&this.props.exports.items.map((e,a)=>r.createElement(a2,{key:a,colorProfile:t,isDisabled:this.isExporting(),isChecked:this.isChecked(e),onToggleChecked:()=>this.setChecked(e,!this.isChecked(e)),isBeingRenamed:(0,c.kc)().ai_prod_rename_layers_moments&&e.isBeingRenamed,...e}))))))}}a5.displayName="ExportPicker";var a3=a(914006),a4=a(603689),a6=a(416095),a7=a(173454),a8=a(859703),a9=a(592096),ne=a(457630),nt=a(187882),na=a(750029),nn=a(991443);let nr="eyedropper_v2--text--dOiTx",nl="eyedropper_v2--rowContents--dv3nr",ni="eyedropper_v2--chit--1D1ND",no=(0,t4.jz)(at.k22),ns=(0,t4.jz)(at.ZAq),nc=r.createElement(tz.S,{shortcut:"shift"});function nd({eyedropper:e,canvasRef:t,underlyingStyle:a,underlyingVariable:n}){let l;let[o,s]=r.useState(!1),c=r.useRef(null),d=(0,ne._X)({subscribeToUpdates_expensive:!0}),u=(0,nt.Ye)(),m=(0,aC.Pg)(),{left:p,right:_}=(0,a9.LO)(),f=(0,t7.Ku)(),h=(0,ac.H0)(e.color)??ac.UE,g=(0,ac.H0)(e.resolvedVariableColor)??ac.UE,E=e.color,y="";a?(y=a.name,l=r.createElement("div",null,r.createElement("div",{className:"eyedropper_v2--styleCircle--rLPqT"}),r.createElement(nn.zi,{dsStyle:a,disableOutline:!0,disableTooltip:!0}))):n&&(y=n.name,l=r.createElement(na.J,{className:ni,color:g,hideBorderShadow:!0})),f===i.NVY.CSS?E=i.NVY[i.NVY.RGB]+" "+E:f!==i.NVY.HEX&&(E=i.NVY[f]+" "+E);let v=a||n?[nc]:[];return r.useEffect(()=>{let e=e=>{e.shiftKey&&s(!0)},t=e=>{e.shiftKey||"Shift"!==e.key||s(!1)},a=e=>{if(!c.current)return;let t={top:(0,e8.J)(),left:u?0:p,right:d.width-_,bottom:d.height-m-ns-8},a=e.clientX+13;e.clientX<t.left?a=t.left+13:e.clientX>t.right&&(a=e.clientX-no-4);let n=e.clientY+14;e.clientY>t.bottom&&(n=Math.min(t.bottom,e.clientY-m-24)),c.current.style.transform=`translate(${a}px, ${n}px)`,c.current.style.visibility="visible"},n=()=>{c.current&&(c.current.style.visibility="hidden")};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),window.addEventListener("pointermove",a),window.addEventListener("pointerout",n),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t),window.removeEventListener("pointermove",a),window.removeEventListener("pointerout",n)}},[u,p,_,m,d.height,d.width]),r.createElement("div",{className:ev()("eyedropper_v2--eyedropperv2----W5m"),ref:c},r.createElement("div",{className:ev()("eyedropper_v2--loupeSamplingSquare--mt9xT")}),r.createElement("canvas",{ref:t}),r.createElement("div",null,r.createElement(nu,{icon:r.createElement(na.J,{className:ni,color:h,hideBorderShadow:!0}),text:E,keyBadges:[],isSelected:!o}),r.createElement(nu,{icon:l,text:y,keyBadges:v,isSelected:o})))}function nu({icon:e,text:t,keyBadges:a,isSelected:n}){return r.createElement("div",{className:ev()("eyedropper_v2--menuRow--IGEss",n&&"eyedropper_v2--selectedRow--GlyoK")},r.createElement("div",{className:nl},r.createElement("div",{className:"eyedropper_v2--iconContainer--TVZ5N"},e),r.createElement("div",{className:nr},t)),r.createElement("div",{className:nl},a&&a.map((e,t)=>r.createElement("div",{className:ev()(nr,"eyedropper_v2--keyBadges--iTf8r"),key:t},e))))}let nm="eyedropper_view--label--PsjGr",np="rgba(0, 0, 0, 0.1)";function n_(){let e=(0,l.d4)(e=>e.eyedropper),t=(0,l.d4)(e=>e.library.local.styles),a=(0,U.md)(a8.Cg),n=(0,l.d4)(e=>e.library.used__LIVEGRAPH.styles),o=(0,eK.p8)("showUi"),s=(0,a4.lz)(),d=(0,q.ks)(),u=(0,eG.ow)(),m=(0,t6.GS)(),p=(0,c.kc)().ds_library_eye_dropper&&m,_=(0,t7.qw)(),f=document.createElement("canvas"),h=f.getContext("2d"),g=r.useRef(null),E={},y=p?7:17,v=p?7:10,b=p?48:y*v,C=b/2;if(r.useLayoutEffect(()=>{g.current&&x(g.current)}),!e)return null;let w=((0,c.kc)().ds_style_eye_dropper||p)&&(()=>{let r=e.assetId,l=e.variableSetModeId;if(""===r)return null;let o=null,s=null;if(a3.StyleId.isValid(r)?!(o=a3.StyleId.toGuidStrIfLocal(r))&&(s=a3.StyleId.toRefIfSubscribed(r))&&(o=a3.StyleId.fromRef(s)):a3.VariableId.isValid(r)&&(o=a3.VariableId.toString(r)),!o)return null;if(o in E)return E[o];if(o in t){let e={style:t[o]};return E[o]=e,e}if(o in a){let e={variable:a[o],variableModeId:l};return E[o]=e,e}if(s){let e=(0,a6.yh)(s.key,n,{}),t=null;return e&&(t={style:e},E[o]=t),t}let c=i.CWU.getSubscribedVariableInfo(o);if(c){let e={variable:(0,a7.ZI)(c),variableModeId:l};return E[o]=e,e}return null})(),T=t=>{t.save();{p?t.roundRect(0,0,48,48,5):t.arc(C,C,C-2,0,2*Math.PI,!1),t.clip();let{width:a,height:n,rgba:r,grid:l}=e;if(h){let e=h.createImageData(a,n);e.data.set(r),f.width=a,f.height=n,h.putImageData(e,0,0),t.imageSmoothingEnabled=!1,t.drawImage(f,0,0,b,b)}if(l){t.beginPath();let e=p?1:0,a=p?-.5:.5;for(let n=1;n<y;n++)a+=v,t.moveTo(a,e),t.lineTo(a,b-e),t.moveTo(e,a),t.lineTo(b-e,a);t.strokeStyle=p?np:"rgba(51, 51, 51, 0.2)",t.stroke()}}t.restore()},S=e=>{p||(e.strokeStyle="white",e.strokeRect(C-v/2-.5,C-v/2-.5,v+2,v+2),e.strokeStyle="black",e.strokeRect(C-v/2+.5,C-v/2+.5,v,v))},N=e=>{if(p){e.beginPath(),e.roundRect(.5,.5,47,47,5),e.strokeStyle=np,e.stroke();return}e.beginPath(),e.arc(C,C,C-1,0,2*Math.PI,!1),e.strokeStyle="white",e.stroke(),e.beginPath(),e.arc(C,C,C-2,0,2*Math.PI,!1),e.strokeStyle="black",e.stroke()},x=e=>{let t=e.getContext("2d");if(!t)return;let a=devicePixelRatio;e.width=b*a,e.height=b*a,t.scale(a,a),T(t),S(t),N(t)},k=o&&!u?m?d?s+(0,t4.jz)(at.ms_):_+(0,t4.jz)(at.ms_):d?s:(0,t4.jz)(at.uj0):0;return p?r.createElement(nd,{eyedropper:e,canvasRef:g,underlyingStyle:w&&w?.style?w.style:void 0,underlyingVariable:w&&w?.variable?w.variable:void 0}):r.createElement("div",{className:ev()({"eyedropper_view--container--Qpjgx":!0,"eyedropper_view--topToolbarShown--Aoby4":o,"eyedropper_view--topToolbarHidden--Auk7e":!o}),style:{width:b,height:b,right:(0,t4.jz)(at.ms_)+k}},r.createElement("canvas",{ref:g}),(0,c.kc)().ds_style_eye_dropper?r.createElement("div",{className:nm,style:{left:3*v,right:3*v,top:2*C+v,lineHeight:1.5*v+"px",borderRadius:v/2,padding:v/2+"px"}},(()=>{if(w){if(w.style)return w.style.name;if(w.variable)return w.variable.name}return e.color})()):r.createElement("div",{className:nm,style:{left:3*v,right:3*v,top:C+4*v,lineHeight:2*v+"px",borderRadius:v}},e.color))}var nf=a(153234),nh=a(773058),ng=a(28928),nE=a(959232),ny=a(318812),nv=a(7959),nb=a(538697),nC=a(585878);let nw="figjam_export_pickers--selectRow--aTA0S figjam_export_pickers--row--iT7Hm",nT="figjam_export_pickers--label--a71ES",nS="figjam_export_pickers--dropdownPlaceholderText--JNOu2 ellipsis--ellipsis--Tjyfa",nN="figjam_export_pickers--backgroundTypeIcon--s-7IZ",nx="figjam_export_pickers--option--WG1Jy";var nk=a(967063);class nI extends nb.l6{}class nA extends nb.c${}class nL extends nb.l6{}class nO extends nb.c${}class nR extends nb.l6{}class nM extends nb.c${}let nD={PNG:i.v8u.PNG,JPG:i.v8u.JPEG,CSV:i.v8u.CSV,PDF:i.v8u.PDF},nP=e=>{switch(e){case i.v8u.PNG:return"PNG";case i.v8u.JPEG:return"JPG";case i.v8u.CSV:return"CSV";case i.v8u.PDF:return"PDF"}},nF=e=>{switch(e){case i.ZRE.SOLID:return(0,h.t)("whiteboard.figjam_export.solid");case i.ZRE.TRANSPARENT:return(0,h.t)("whiteboard.figjam_export.transparent");case i.ZRE.GRID:return(0,h.t)("whiteboard.figjam_export.grid")}},nB=e=>{switch(e){case i.EUU.TABLE:return(0,h.t)("whiteboard.figjam_export.table");case i.EUU.STICKY:return(0,h.t)("whiteboard.figjam_export.sticky")}},nU={format:e=>nF(e)},nH={format:e=>nB(e)},nG=e=>{switch(e){case"selection":return(0,h.t)("whiteboard.figjam_export.selection_only");case"file":return(0,h.t)("whiteboard.figjam_export.entire_file")}},nV={format:e=>nG(e)},nz=e=>{switch(e){case i.v8u.CSV:return[];case i.v8u.JPEG:return[i.ZRE.SOLID,i.ZRE.GRID];case i.v8u.PNG:return[i.ZRE.TRANSPARENT,i.ZRE.SOLID,i.ZRE.GRID];case i.v8u.PDF:return[i.ZRE.SOLID]}};function nK(e,t){return nz(t).includes(e)}function nW(e){switch(e.background){case i.ZRE.TRANSPARENT:return r.createElement("div",{className:nN,style:{background:`url(${(0,nE.A)()})`,backgroundSize:"5px 5px"}});case i.ZRE.GRID:return r.createElement("div",{className:`figjam_export_pickers--gridIcon--mPS09 thumbnail_DEPRECATED--lightModeDotGrid--ZUhXy thumbnail_DEPRECATED--thumbnailContainer--xPcsg ${nN}`});case i.ZRE.SOLID:return r.createElement("div",{className:`${nN} figjam_export_pickers--solidIcon--Gt-95`})}}let nj=r.memo(function(){let e=(0,l.wA)(),t=()=>{e(y._O())};return r.createElement(nC.XV,{title:(0,h.t)("whiteboard.figjam_export.export"),headerClassName:"figjam_export_pickers--modalHeader--E6NRM",headerSize:"small",closeOnEsc:!0,onClose:t,minWidth:364,maxWidth:364},r.createElement(nZ,{onCancel:t,recordingKey:"exportSettingsPicker",dispatch:e}))});function nZ(e){let t=(0,ny.Um)(),a=(0,F.J2)(i.Ez5.editorPreferences().exportSelectionSettings),n=(0,l.d4)(e=>e.exportSettingsPickerShown.pickerInfo??{selectionArea:0,canvasArea:0,nodeCounts:{selectionNodeCount:0,canvasNodeCount:0,selectionStickyCount:0,canvasStickyCount:0,selectionTableCount:0,canvasTableCount:0}}),[o,s]=r.useState(a.fileType),[c,d]=r.useState(a.contentType),[u,m]=r.useState(a.backgroundType),p=(0,l.d4)(e=>!!e.mirror.selectionProperties.numSelected),[f,g]=r.useState(p?"selection":"file"),[E,v]=r.useState(!1),b=e=>{s(e),nK(u,e)||m(i.ZRE.SOLID)},C=nz(o).length>1,w=nF(nz(o)[0])||(0,h.t)("whiteboard.figjam_export.no_background"),T=nP(o),S=n.nodeCounts.selectionStickyCount>0||n.nodeCounts.canvasStickyCount>0,N=n.nodeCounts.selectionTableCount>0||n.nodeCounts.canvasTableCount>0,x=S||N;return r.createElement("div",{className:"figjam_export_pickers--modalContainer--ecxGT"},r.createElement("div",{className:"figjam_export_pickers--row--iT7Hm"},r.createElement(nv.JU,{className:nT},(0,h.tx)("whiteboard.figjam_export.file_type")),r.createElement(nh.z,{className:"figjam_export_pickers--radioGroup--UXiC-",value:T,onChange:e=>b(nD[e]),recordingKey:nf.Pt(e,"exportFileTypeRadioGroup")},(_.Ay.isIpadNative?[i.v8u.PNG,i.v8u.JPEG,i.v8u.PDF]:[i.v8u.PNG,i.v8u.JPEG,i.v8u.PDF,i.v8u.CSV]).map(t=>{let a=t===i.v8u.CSV&&!x;return r.createElement(nh.Z,{value:nP(t),key:t,labelClassName:"figjam_export_pickers--radioLabel--zw-U-",recordingKey:nf.Pt(e,`exportFileTypeRadioGroup.${nP(t)}`),disabled:a,"data-tooltip-type":a&&aV.Ib.TEXT,"data-tooltip":a&&(0,h.t)("whiteboard.figjam_export.csv_disabled")},nP(t))}))),o===i.v8u.CSV&&r.createElement("div",{className:nw},r.createElement(nv.JU,{className:nT},(0,h.tx)("whiteboard.figjam_export.content_type")),r.createElement(nL,{id:"exportSettingsPickerContentTypeControl",className:"figjam_export_pickers--contentTypeSelect--Ioh5g",inputClassName:"figjam_export_pickers--contentTypeInput--3duA- figjam_export_pickers--input--YZm9H",dispatch:e.dispatch,property:c,onChange:d,formatter:nH,recordingKey:nf.Pt(e,"contentTypeSelect"),dropdownShown:t,blurOnChange:!0},[i.EUU.TABLE,i.EUU.STICKY].map(t=>{let a=t===i.EUU.STICKY&&!S||t===i.EUU.TABLE&&!N;return r.createElement(nO,{value:t,key:t,disabled:a,additionalStylesClassName:nx,recordingKey:nf.Pt(e,`contentTypeSelect.${nB(t)}`)},nB(t))}))),r.createElement("div",{className:nw},r.createElement(nv.JU,{className:nT},(0,h.tx)("whiteboard.figjam_export.background")),!C&&r.createElement(nv.JU,{className:nS},w),C&&r.createElement(nI,{id:"exportSettingsPickerBackgroundTypeControl",className:"figjam_export_pickers--backgroundTypeSelect--eexDx",inputClassName:"figjam_export_pickers--input--YZm9H",dispatch:e.dispatch,property:u,onChange:m,formatter:nU,recordingKey:nf.Pt(e,"backgroundTypeSelect"),dropdownShown:t,dropdownAlignment:"right",blurOnChange:!0,icon:r.createElement(nW,{background:u,disabled:!1}),iconClassName:"figjam_export_pickers--svgStyles--G9Vof"},[i.ZRE.GRID,i.ZRE.TRANSPARENT,i.ZRE.SOLID].map(t=>{let a=!nK(t,o);return r.createElement(nA,{value:t,key:t,disabled:a,additionalStylesClassName:nx,recordingKey:nf.Pt(e,`backgroundTypeSelect.${nF(t)}`),height:32},r.createElement("div",{className:"figjam_export_pickers--backgroundOptionWrapper--DkFx1"},r.createElement(nW,{background:t,disabled:a}),r.createElement("span",{className:"figjam_export_pickers--backgroundTypeLabel--b--Px ellipsis--ellipsis--Tjyfa"},nF(t))))}))),r.createElement("div",{className:p?nw:"figjam_export_pickers--exportAreaPlaceholderRow--G7H-m figjam_export_pickers--selectRow--aTA0S figjam_export_pickers--row--iT7Hm"},r.createElement(nv.JU,{className:nT},(0,h.tx)("whiteboard.figjam_export.export_area")),!p&&r.createElement(nv.JU,{className:nS},nG("file")),p&&r.createElement(nR,{id:"exportSettingsPickerExportAreaTypeControl",className:"figjam_export_pickers--exportAreaSelect--GP6S-",inputClassName:"figjam_export_pickers--exportAreaInput--AbQMJ figjam_export_pickers--input--YZm9H",dispatch:e.dispatch,property:f,onChange:g,formatter:nV,recordingKey:nf.Pt(e,"exportAreaTypeSelect"),dropdownShown:t,blurOnChange:!0},["selection","file"].map(t=>r.createElement(nM,{key:t,value:t,additionalStylesClassName:nx,recordingKey:nf.Pt(e,`exportAreaTypeOption.${nG(t)}`)},nG(t))))),r.createElement("div",{className:"figjam_export_pickers--buttonContainer---c6mP"},(()=>{if(!n)return!1;switch(o){case i.v8u.PNG:case i.v8u.JPEG:return("selection"===f?n.selectionArea:n.canvasArea)>=15e7;case i.v8u.PDF:return("selection"===f?n.nodeCounts.selectionNodeCount:n.nodeCounts.canvasNodeCount)>=300;case i.v8u.CSV:return!1}})()&&r.createElement("div",{className:"figjam_export_pickers--exportWarning--KzT0q text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement(aS.B,{className:"figjam_export_pickers--infoIcon--H0pOt",svg:nk.A}),(0,h.tx)("whiteboard.figjam_export.exporting_may_take_a_minute_or_two")),r.createElement(ei.$$,{onClick:()=>{v(!0),e.dispatch(ng.n.set({message:(0,h.t)("whiteboard.figjam_export.exporting"),showLoadingSpinner:!0,callback:()=>{i.Ez5.editorPreferences().exportSelectionSettings.set({contentType:c,fileType:o,backgroundType:u}),"selection"===f?i.glU.exportSelectionOrCurrentPage(!0,n.selectionArea,n.nodeCounts.selectionNodeCount):i.glU.exportSelectionOrCurrentPage(!1,n.canvasArea,n.nodeCounts.canvasNodeCount),e.dispatch(aN.rg()),e.dispatch(y._O())}}))},recordingKey:nf.Pt(e,"exportButton"),disabled:E,className:"figjam_export_pickers--exportButtonStyles--KYDuq"},(0,h.tx)("whiteboard.figjam_export.export"))))}var nY=a(756085),nX=a(304783),nq=a(934533),nJ=a(887326);function nQ(e){return{attachmentId:e.id,attachmentUploadedAt:e.uploadedAt.toString(),imageUrlPrefix:function(e){if(-1!==e.search("blob"))return"blob";let t=e.search("/images/");if(-1!==t)return e.substring(0,t)}(e.imageUrl)}}function n$(e){let t=(0,l.wA)(),a=(0,l.d4)(e=>e.mirror.appModel),n=e.clientX,i=e.clientY,o=async t=>{let a=await fetch(e.attachment.imageUrl,{mode:"cors"}),n=await a.blob();if(!t)return n;if("image/jpeg"===n.type||"image/gif"===n.type){let e=await createImageBitmap(n),t=document.createElement("canvas");t.width=e.width,t.height=e.height;let a=t.getContext("2d");return a?.drawImage(e,0,0),new Promise(e=>{t.toBlob(t=>{e(t)},"image/png")})}return n},s=[{name:"download-attachment",callback:async()=>{try{await o(!1).then(a=>{let n=URL.createObjectURL(a),r=document.createElement("a");r.href=n,r.download=(0,h.t)("comments.attachment_default_name",{fileExtension:a.type.split("/")[1]}),r.click(),URL.revokeObjectURL(n),(0,$.sx)("Comment Attachment Download Success",nQ(e.attachment)),t(g.F.enqueue({message:(0,h.t)("comments.download_attachment_success"),type:"attachment-download"}))})}catch(a){(0,$.sx)("Comment Attachment Download Failure",nQ(e.attachment)),(0,S.$D)(nX.e.FEEDBACK,a),t(g.F.enqueue({message:(0,h.t)("comments.download_attachment_error"),type:"attachment-download",error:!0}))}}},{name:"copy-attachment",callback:async()=>{t(g.F.enqueue({message:(0,h.t)("comments.copying_attachment"),type:"copy-attachment",icon:nq.zX.SPINNER}));try{await o(!0).then(async a=>{let n=new ClipboardItem({[a.type]:a});await navigator.clipboard.write([n]).then(()=>{(0,$.sx)("Comment Attachment Copy Success",nQ(e.attachment)),t(g.F.enqueue({message:(0,h.t)("comments.copy_attachment_success"),type:"copy-attachment"}))})})}catch(a){(0,$.sx)("Comment Attachment Copy Failure",nQ(e.attachment)),(0,S.$D)(nX.e.FEEDBACK,a),t(g.F.enqueue({message:(0,h.t)("comments.copy_attachment_error"),type:"copy-attachment",error:!0}))}}}];return r.createElement(nJ.Q,{appModel:a,menuItems:s,targetRect:{width:10,height:10,left:n+100,top:i,right:n+110,bottom:i-10},showPoint:!1,selectedView:e.selectedView,recordingKey:"comment-context-menu",dispatch:t})}var n0=a(91425),n1=a(728268),n2=a(939683),n5=a(105345),n3=a(853079),n4=a(416393);function n6({children:e,entryPoint:t,initialFeatureTab:a}){let n=(0,X.tS)(),i=(0,R.iZ)(),o=(0,e1.ol)(),s=(0,eh.O)(),c=(0,n2.U)(),d=(0,n3.U)("upsell"),u=(0,l.wA)(),m=(0,r.useCallback)(()=>{c("Dev Mode Paywall clicked",{type:"Design Mode Upsell",entryPoint:t},{forwardToDatadog:!0}),d("handoff"),u(eM.to({type:n5.C,data:{initialFeatureTab:a}}))},[u,t,a,d,c]);return r.createElement(eT.fu,{name:"Dev Mode Upsell In Design Mode",properties:{currentPlan:s,teamId:o?.id,userId:i?.id,fileKey:n,upsell:t}},r.createElement("div",{className:"context_menus_upsells--upsellItem--DuX5N",onClick:m,tabIndex:0,role:"button"},r.createElement(aS.B,{svg:n4.A}),r.createElement("span",null,e)))}function n7(){return r.createElement(n6,{entryPoint:"design_section_status",initialFeatureTab:"quick_handoff"},(0,h.tx)("dev_handoff.paywall.ready_for_dev.upsell"))}function n8(){return r.createElement(n6,{entryPoint:"design_copy_as_code",initialFeatureTab:"advanced_inspection"},(0,h.tx)("dev_handoff.paywall.codegen.upsell"))}function n9(){return r.createElement(n6,{entryPoint:"design_annotations",initialFeatureTab:"quick_handoff"},(0,h.tx)("dev_handoff.paywall.annotations.upsell"))}function re({targetInViewport:e,annotationsCount:t,selectedView:a}){var n;let i=(0,l.wA)(),o=(0,l.d4)(e=>e.mirror.appModel),s=(0,l.d4)(e=>e.mirror.sceneGraph),c=(0,n3.U)("annotations_button"),d=(0,ne.ni)(),u=(0,e_._I)(),m=(0,e_.U4)(),p=(n=()=>c("handoff"),u?[{name:"view-annotations",callback:n,flags:["design"]}]:m?[{header:!0,name:(0,h.t)("dev_handoff.annotation.number_annotations",{count:t})},{separator:!0},{render:()=>r.createElement(n9,null),optionHeight:32,flags:["design"]}]:[{header:!0,name:(0,h.t)("dev_handoff.annotation.number_annotations",{count:t})}]),_=e.origin.x+d.x,f=e.origin.y+d.y,g={left:_,top:f,right:_+e.size.x,bottom:f+e.size.y,width:e.size.x,height:e.size.y};return r.createElement("div",{className:w.Dm},r.createElement(nJ.Q,{appModel:o,sceneGraph:s,selectedView:a,menuItems:p,dispatch:i,showPoint:!0,targetRect:g,removeDisabledItems:m,recordingKey:"annotationsButtonMenu",minWidth:50,allowDisabledOnly:!m}))}var rt=a(975350),ra=a(707465),rn=a(440535);function rr(e){let t=(0,l.wA)(),a=(0,C.I_)(),n=(0,l.d4)(e=>e.mirror.appModel);if(!(0,l.d4)(e=>(0,ra.U2)(e.selectedView)))return null;let{thread:i}=e,o=!!i.comments.find(e=>e.isUnread),s=!!i.isPendingFromSinatra,c=null,d=a.commentReceipts;d&&(c=o?{name:"mark-as-read",callback:()=>{t(rt.AY({receiptsAPI:d,thread:i}))}}:{name:"mark-as-unread",callback:()=>{t(rt.QY({receiptsAPI:d,comment:i.comments[0]}))}});let u=[];s||((0,rn.m)(i.sidebarItemType)?u.push({name:"resolve",callback:()=>{t(rt.hx({thread:i,resolved:!0}))},disabled:null!=i.commentPin},c,{name:"copy-link",callback:()=>{e.copyLink(i.comments[0])}},{separator:!0}):u.push({name:"copy-link",callback:()=>{e.copyLink(i.comments[0])}},{separator:!0})),u.push({action:"toggle-show-comments",displayText:(0,h.t)("fullscreen.context_menu.hide_comments")});let m=u.filter(e=>e).map(e=>e),p={width:224,height:129,left:e.pinClientRect.x,top:e.pinClientRect.y,right:e.pinClientRect.x+e.pinClientRect.width,bottom:e.pinClientRect.y+e.pinClientRect.height};return r.createElement(nJ.Q,{appModel:n,menuItems:m,targetRect:p,showPoint:!1,selectedView:e.selectedView,recordingKey:"comment-context-menu",dispatch:t})}var rl=a(459401),ri=a(157663),ro=a(27087),rs=a(75224),rc=a(413145),rd=a(113853),ru=a(941381),rm=a(297281);async function rp({paint:e,fileKey:t,dispatch:a}){if(!t||"VIDEO"!==e.type||!e.video||!e.video?.hash)return rf("Incorrect asset type"),null;a(ng.n.set({message:(0,h.t)("whiteboard.figjam_export.exporting"),showLoadingSpinner:!0,callback:()=>{}}));let n=await (0,rm.tW)({paint:e,fileKey:t});if(null===n)return rf("Error getting download url for asset"),null;r_(n)}let r_=e=>{let t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},rf=e=>{(0,S.$D)(nX.e.FIGJAM,Error(`Error exporting video: ${e}`))};var rh=a(944682),rg=a(145519),rE=a(640262),ry=a(465201),rv=a(529529),rb=a(325680),rC=a(886119),rw=a(988022),rT=a(697551),rS=a(27703),rN=a(686759),rx=a(450225),rk=a(128803);function rI(e){return new URL(e).hostname.split(".").slice(-2).join(".")}var rA=a(248639),rL=a(843495),rO=a(990922),rR=a(850168),rM=a(460289),rD=a(132135),rP=a(892542),rF=a(288641),rB=a(215822),rU=a(384792),rH=a(772192),rG=a(496470),rV=a(555328),rz=a(376485),rK=a(779086),rW=a(319882),rj=a(301922),rZ=a(987850),rY=a(239737),rX=a(132572),rq=a(921717),rJ=a(384775),rQ=a(610043),r$=a(606432),r0=a(124257),r1=a(872429),r2=a(983724),r5=a(424950),r3=a(656147),r4=a(565831);function r6(e,t){return{action:"slides-rewrite-text",flags:["slides"],featureFlags:["figjam_ai_piper_text_manipulation","slides_10_launch_tone_dial_update"],callback:()=>(0,r5.mD)(e,{source:"context_menu"}),disabled:!t}}function r7(e){let t=U.zl.get(r5.Tm),a=!!(0,c.kc)().slides_10_launch_tone_dial_update;return!t&&a&&e}var r8=a(828736);let r9=(0,t4.hG)(at.tui);class le extends r.PureComponent{items(){var e,t,a,n;let r=this.props.isPrototypeCanvasEditUiVisible&&!this.props.hasSelection?[{separator:!0},{action:"remove-interactions-on-page",flags:["edit"]}]:[],l=window.FigmaMobile,o=lu(this.props.appModel.showComments,this.props.selectedView,this.props.viewportInfo,this.props.clientX,this.props.clientY,this.props.dispatch,l?.requestToAddDraftCommentPin),s=this.props.selectedView.editorType===Z.nT.Whiteboard,c=this.props.selectedView.editorType===Z.nT.Slides,d=(0,q.$A)(this.props.selectedView),u=_.Ay.windows?"Ctrl+":"\u2318",m={action:"paste-here",flags:["edit"],displayText:s?(0,h.t)("fullscreen_actions.paste"):void 0,shortcutText:s?`${u}V`:void 0},p={action:"paste-as-live-object",flags:["edit"],featureFlags:["live_paste"],displayText:(0,h.t)("fullscreen_actions.paste-as-live-object")},f=!_.Ay.safari||l?.readClipboardData?[m,p,s?{separator:!0}:null]:[],g={name:"start-chat",disabled:this.props.isJoinedToActiveVotingSession||this.props.isCursorChatDisabled,callback:(e,t,a,n)=>{i.glU.triggerAction("set-tool-default",null),this.props.dispatch(rg.F6({position:{x:n.clientX||this.props.clientX,y:(n.clientY||this.props.clientY)-r9},source:"canvas_context_menu"}))}},E=(e=this.props.hasSlidesAiTextEnabled,t={x:this.props.clientX,y:this.props.clientY},a=this.props.slideId,n=this.props.viewportInfo,!!(a&&n&&(0,r4.ih)(a,t,n))&&r7(e)),y=r6(this.props.dispatch,E),v=this.props.openFile,b=this.props.canPublishOrgTemplate&&v?(0,r8.w)({dispatch:this.props.dispatch,file:{key:v.key,name:v.name,folder_id:v.folderId,team_id:v.teamId,editor_type:v.editorType,parent_org_id:v.parentOrgId},fileNeedsMovingBeforePublish:this.props.fileNeedsMovingBeforePublish,isPublished:this.props.isFilePublishedTemplate,source:"fullscreen-context-menu"}):null,C=[{action:"toggle-ui"},{action:"toggle-show-comments",displayText:(0,h.t)("fullscreen.context_menu.show_hide_comments")},...s?[]:[{separator:!0},g],s?null:{action:"toggle-menu",displayText:(0,rJ.gn)()?(0,h.t)("fullscreen_actions.toggle-actions-menu"):(0,h.t)("fullscreen_actions.toggle-menu")},!this.props.userCanRunPlugins||c?null:(0,rv.qz)({...this.props,isReadOnly:this.props.appModel.isReadOnly},"contextmenu"),this.props.appModel.isReadOnly||d||c?null:(0,rb.Vd)(this.props,"contextmenu"),b,...r];return[...o,...f,{action:"unlock-all",flags:["edit","whiteboard"]},{separator:!0},...s?[g,{separator:!0}]:[],...c?[{separator:!0},y]:[],...C]}render(){let e=this.props.clientX,t=this.props.clientY;return r.createElement("div",{className:`${w.Dm}`},r.createElement(nJ.Q,{appModel:this.props.appModel,menuItems:(0,rl.removeNullish)(this.items()),selectedView:this.props.selectedView,dispatch:this.props.dispatch,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!0,recordingKey:"canvasMenu",allowCodegenOptions:this.props.selectedView.editorType===Z.nT.Design,isLimitedDevMode:this.props.isLimitedDevMode,"aria-labelledby":this.props.ariaLabelledBy}))}}le.displayName="CanvasContextMenu";let lt=(0,l.Ng)((e,t)=>({...t,appModel:e.mirror.appModel,openFile:e.openFile,editorType:e.selectedView.editorType,orgEntity:(0,rT.Jl)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,isJoinedToActiveVotingSession:(0,rM.gR)(e),hasSelection:Object.keys(e.mirror.sceneGraphSelection).length>0,isDevHandoff:(0,q.$A)(e.selectedView)}))(le);function la(e){let t=(0,nY.op)(),a=(0,nY.$1)(),n=(0,nY.cW)(),i=(0,nY.Be)(),o=i.orgPlugins,s=i.orgWidgets,c=(0,rC.h)("plugin"),d=(0,rC.h)("widget"),u=(0,nY.NU)(),m=(0,nY.qr)(),p=(0,nY.ZT)(),_=(0,rj.S)(),f=(0,n2.am)();r.useEffect(()=>{f("Canvas Right Click")},[f]);let h=(0,ne._X)({subscribeToUpdates_expensive:!0}),g=(0,tZ.J3)(),E=(0,tZ.JU)(g),y=g===tZ.kN.FILE_IN_DRAFTS,v=!!(0,tZ.kD)(),b=(0,l.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),C=lp(),w=(0,r5.Ne)(),T=(0,r2.Jb)();return r.createElement(lt,{...e,isPrototypeCanvasEditUiVisible:C,allSavedPlugins:i.plugins,recentlyUsedPlugins:t,localExtensions:a,publishedPlugins:n,viewportInfo:h,activeTextReviewPlugin:b,canPublishOrgTemplate:E,isFilePublishedTemplate:v,fileNeedsMovingBeforePublish:y,savedWidgetVersions:u,recentlyUsedWidgets:m,publishedWidgets:p,orgSavedPlugins:o,orgSavedWidgets:s,orgPrivatePlugins:c,orgPrivateWidgets:d,isCursorChatDisabled:_,hasSlidesAiTextEnabled:w,slideId:T})}class ln extends r.PureComponent{constructor(){super(...arguments),this.savepointMenuItems=(e,t)=>{let a=this.props.version,n=(0,rK.pW)(a),r={name:this.props.editName||"savepoint-edit",args:{version:a,checkpointKey:e},callback:t},l={name:"savepoint-restore",args:{version:a,checkpointKey:e},callback:t},i={name:"savepoint-duplicate",args:{version:a,checkpointKey:e},callback:t,disabled:this.props.disableDuplicate},o={name:"savepoint-clear",args:{version:a,checkpointKey:e},callback:t,disabled:!this.props.enableClear},s={name:"savepoint-link",args:{version:a,checkpointKey:e},callback:t},d=[];if(this.props.userCanEditFile?n?"branch_child_merge"===a.view?d.push(r,l,i,s):d.push(l,i,s):d.push(r,l,i,o,s):d.push(i,s),(0,c.kc)().version_diffing&&this.props.selectedView.editorType!==Z.nT.Whiteboard&&!(0,q.$A)(this.props.selectedView)&&d.push({name:"savepoint-compare",args:{version:a,checkpointKey:e},callback:t}),(0,q.$A)(this.props.selectedView)){let e=["savepoint-restore","savepoint-clear"];return d.filter(t=>!e.includes(t.name))}return d}}render(){let e=this.props.clientX,t=this.props.clientY,a=this.savepointMenuItems(this.props.checkpointKey,this.props.callback);return r.createElement("div",{className:`${w.Dm}`},r.createElement(nJ.Q,{appModel:this.props.appModel,menuItems:a,dispatch:this.props.dispatch,selectedView:this.props.selectedView,showPoint:!0,targetRect:{width:10,height:10,left:e-5,top:t+7,right:e+5,bottom:t+17},removeDisabledItems:!1,recordingKey:"savepointMenu"}))}}ln.displayName="SavepointContextMenu";let lr=(0,l.Ng)((e,t)=>({...t,appModel:e.mirror.appModel}))(ln),ll=(e,t)=>i.glU.getObjectsListUnderCursor(e,t),li=class e extends r.PureComponent{constructor(e){super(e),this.objectsListMouseEnter=e=>{rL.Uc(e)},this.objectsListMouseExit=()=>{rL.Uc("")},this.getSelectionGuid=()=>Object.keys(this.props.sceneGraphSelection)[0],this.getObjectsListMenu=(e,t)=>{let a=ll(e,t);if(null==a)return[];let n=[];for(let e of a){let t=e.nodeId;n.push({nodeId:t,args:{nodeId:t,name:e.name},action:"select-node",displayText:(0,h.t)("fullscreen_actions.select-node",{name:e.name??""}),onMouseEnter:()=>this.objectsListMouseEnter(t),onMouseExit:this.objectsListMouseExit})}return n},this.getNodeType=()=>{let e=this.getSelectionGuid();return i.glU.getNodeType(e)},this.getPageListForMoveToMenu=()=>{let e=this.props.appModel.pagesList;if(!this.props.userCanEditFile||null==e||e.length<2)return[];let t=[];for(let a of e)a.nodeId!==this.props.appModel.currentPage&&(a.isDivider?t.push({separator:!0}):t.push({name:a.name,args:{nodeId:a.nodeId,name:a.name},action:"page-move-to",displayText:(0,h.t)("fullscreen_actions.page-move-to",{name:a.name??""})}));return t},this.state={pageItems:this.getPageListForMoveToMenu(),relatedComponentMenu:this.getRelatedComponentMenu(i.iCO.NONE),relatedStateMenu:this.getRelatedComponentMenu(i.iCO.STATE_INSTANCE),objectItems:this.getObjectsListMenu(this.props.clientX,this.props.clientY),nodeType:this.isFigjam()?this.getNodeType():null,hyperlink:this.isFigjam()?this.getHyperlinkUnderCursor():null}}getRelatedComponentMenu(e){let t;if(e!==i.iCO.NONE&&e!==i.iCO.STATE_INSTANCE)return null;let a={userId:this.props.user?.id,fileKey:this.props.openFile?.key,orgId:this.props.openFile?.parentOrgId??void 0,teamId:this.props.openFile?.teamId??void 0},n=(0,rG.SY)(this.props.masterSymbolGUID,this.props.dispatch,this.props.openFile?.key||"",(0,rs.l)(this.props.openFile?.libraryKey??""),this.props.fileByKey,this.props.library,this.props.sceneGraph,this.props.sceneGraphSelection,this.props.fileVersion,e,a,this.props.stateGroupSelectionInfo);if(0===n.length)return null;t=e===i.iCO.STATE_INSTANCE?"relatedComponentMenuSwapVariants":"relatedComponentMenu";let r=this.props.clientX,l=this.props.clientY;return{items:n,showPoint:!1,parentRect:{width:10,height:10,left:r+100,top:l,right:r+110,bottom:l-10},recordingKey:t,dispatch:this.props.dispatch,depth:0,onSelectItem:()=>{}}}getHyperlinkUnderCursor(){return i.glU.getHyperlinkUnderCursor(this.props.clientX,this.props.clientY)}selectLayerMenu(){return!this.props.isObjectsPanelMenu&&this.state.objectItems.length>1?this.state.objectItems:[]}textEditModeMenu(){let e=this.getCopyPasteMenu(),t=this.getCopyExportMenu(),a=this.props.spellCheckPreference,n=this.props.appModel.spellCheckSuggestions,r=n||!a?[{name:"spell-check-menu",flags:["design","whiteboard","slides"],children:[(0,rR.x)(),{separator:!0},...(0,rR.A)()]},...this.props.userCanRunPlugins?(0,rv.dL)(this.props,"contextmenu"):[]]:[];return[...a||this.props.appModel.activeTextReviewPlugin?lm(n,this.props.editorType):[],...r,{separator:!0},...this.getTableCellMenu(),{separator:!0},...e,{separator:!0},...this.isFigjam()?t:[]]}getThumbnailMenu(e){return{name:T.Y5.getFileThumbnailMenuItemName(),args:{label:e?(0,h.t)("fullscreen_actions.restore_default_thumbnail"):(0,h.t)("fullscreen_actions.set_as_thumbnail")},flags:["edit","!slides"],callback:()=>{this.props.openFile&&this.props.dispatch(rh.$m({file_key:this.props.openFile.key,thumbnail_guid:e?null:this.getSelectionGuid()}))}}}selectedEmbedOrLinkPreviewHasValidUrl(){return this.props.widgetSelectionInfo?.pluginID===rA.k.EMBED_WIDGET&&this.props.embedData&&(this.props.embedData.url||this.props.embedData.srcUrl)||this.props.widgetSelectionInfo?.pluginID===rA.k.LINK_PREVIEW_WIDGET&&this.props.linkPreviewData&&this.props.linkPreviewData.url}isFigjam(){return"fullscreen"===this.props.selectedView.view&&this.props.selectedView.editorType===Z.nT.Whiteboard}getCopyLinkMenu(){let e=this.selectedEmbedOrLinkPreviewHasValidUrl()?"FigJam":"";return{name:"copy-link",args:{label:(0,h.t)("fullscreen.context_menu.copy_link",{editorSpecifierString:e})},displayText:this.isFigjam()&&this.state.nodeType?function(e){switch(e){case i.Z6A.STICKY:return(0,h.t)("fullscreen_actions.copy-link-to-sticky");case i.Z6A.CONNECTOR:return(0,h.t)("fullscreen_actions.copy-link-to-connector");case i.Z6A.WIDGET:return(0,h.t)("fullscreen_actions.copy-link-to-widget");case i.Z6A.STAMP:return(0,h.t)("fullscreen_actions.copy-link-to-stamp");case i.Z6A.SECTION:return(0,h.t)("fullscreen_actions.copy-link-to-section");case i.Z6A.TEXT:return(0,h.t)("fullscreen_actions.copy-link-to-text");case i.Z6A.TABLE:return(0,h.t)("fullscreen_actions.copy-link-to-table");case i.Z6A.WASHI_TAPE:return(0,h.t)("fullscreen_actions.copy-link-to-washi-tape");case i.Z6A.SHAPE_WITH_TEXT:return(0,h.t)("fullscreen_actions.copy-link-to-shape");case i.Z6A.INSTANCE:return(0,h.t)("fullscreen_actions.copy-link-to-instance");default:return(0,h.t)("fullscreen_actions.copy-link-to-this")}}(this.state.nodeType):void 0,callback:()=>{let e;if(!this.props.openFile)return;let t=!(0,q.$A)(this.props.selectedView)&&this.props.attributionContextKey,a=(0,E.Wl)(this.props.selectedView),n=(0,E.s4)(this.props.selectedView),r=(0,r3.P)(this.props.selectedView),l=(0,rD.jN)({file:this.props.openFile,nodeId:this.getSelectionGuid(),isDevHandoff:(0,q.$A)(this.props.selectedView),isReadOnly:this.props.appModel.isReadOnly,isFigJam:this.isFigjam(),isDevModeOverview:a,devModeFocusId:n,attributionContext:t?(0,rP.b)(this.props.attributionContextKey,rP.d.FULLSCREEN_CONTEXT_MENU):null});if((0,c.kc)().ce_copy_labelled_links){let t=al.q.instance.get(this.getSelectionGuid());e=t?t.name:this.props.openFile.name}this.props.dispatch(rh.S({fileKey:this.props.openFile.key,url:l,label:e,source:rP.d.FULLSCREEN_CONTEXT_MENU,visualBellMessageOverride:(()=>{if(this.isFigjam()&&this.state.nodeType)return function(e){switch(e){case i.Z6A.STICKY:return(0,h.t)("visual_bell.copy_link_to_sticky");case i.Z6A.CONNECTOR:return(0,h.t)("visual_bell.copy_link_to_connector");case i.Z6A.WIDGET:return(0,h.t)("visual_bell.copy_link_to_widget");case i.Z6A.STAMP:return(0,h.t)("visual_bell.copy_link_to_stamp");case i.Z6A.SECTION:return(0,h.t)("visual_bell.copy_link_to_section");case i.Z6A.TEXT:return(0,h.t)("visual_bell.copy_link_to_text");case i.Z6A.TABLE:return(0,h.t)("visual_bell.copy_link_to_table");case i.Z6A.WASHI_TAPE:return(0,h.t)("visual_bell.copy_link_to_washi_tape");case i.Z6A.SHAPE_WITH_TEXT:return(0,h.t)("visual_bell.copy_link_to_shape");case i.Z6A.INSTANCE:return(0,h.t)("visual_bell.copy_link_to_instance");default:return(0,h.t)("visual_bell.copy_link")}}(this.state.nodeType);if(r){let e=al.q.instance.get(this.getSelectionGuid());if(e)return(0,h.t)("copy_to_clipboard.slides.link_to_slide_copied_to_clipboard",{name:e.name})}})()}))}}}getCopyHyperlinkMenu(){let e=(()=>{let e=this.state.hyperlink;if(!e||""===e)return null;if(e.startsWith("mailto:")){let t=e.substring(7);if(t)return{displayText:(0,h.t)("fullscreen_actions.copy-email",{email:t}),linkToCopy:t,visualBellText:(0,h.t)("visual_bell.copy_email",{email:t})}}else if(e.startsWith("tel:")){let t=e.substring(4);if(t)return{displayText:(0,h.t)("fullscreen_actions.copy-phone",{number:t}),linkToCopy:t,visualBellText:(0,h.t)("visual_bell.copy_phone",{number:t})}}else{let t=rI(e);if(t)return{displayText:(0,h.t)("fullscreen_actions.copy-hyperlink",{hyperlink:t}),linkToCopy:e,visualBellText:(0,h.t)("visual_bell.copy_hyperlink",{hyperlink:t})}}})();return e?{name:"copy-hyperlink",displayText:e.displayText,callback:()=>(0,rF.UA)(this.props.dispatch,e.linkToCopy,"ContextMenu",e.visualBellText)}:null}getImageToProfilePicture(){if(!this.props.user||!this.props.fillPaints||(0,aU.gl)(this.props.fillPaints))return null;let e=this.props.fillPaints.findIndex(e=>"IMAGE"===e.type);if(e<0)return null;let t=this.props.fillPaints[e];return{name:"set-image-as-profile-picture",args:{label:"Set image as profile picture"},flags:["view_restricted","whiteboard"],featureFlags:["figjam_canvas_image_to_avatar"],callback:()=>{(0,rd.V8)(t,this.props.user,this.props.dispatch)}}}getMaybeEmbedOrLinkPreviewWidgetMenu(){if(!this.selectedEmbedOrLinkPreviewHasValidUrl())return null;let e=this.props.embedData?.url||this.props.embedData?.srcUrl||this.props.linkPreviewData?.url,t=rI(decodeURIComponent(e));return{name:"labeled-menu-item",args:{label:(0,h.t)("fullscreen_actions.copy-hyperlink",{hyperlink:t})},callback:()=>{!function(e,t){let a=decodeURIComponent(t);(0,rN.Dk)(a),(0,rk.Rm)(rx.yc.COPY_LINK,a),e(g.F.enqueue({type:"copy-preview",message:(0,h.t)("visual_bell.copy_hyperlink",{hyperlink:rI(a)}),error:!1}))}(this.props.dispatch,e)}}}getMaybeEmbedDeactivateMenu(){return this.props.widgetSelectionInfo?.pluginID!==rA.k.EMBED_WIDGET||this.props.widgetSelectionInfo.widgetID!==i.Ez5.embedUiState().activeEmbedData.getCopy().embedNodeId?null:{name:"labeled-menu-item",args:{label:"Deactivate preview"},callback:()=>{i.glU.deactivateEmbed()}}}getExportVideo(){if(!this.props.fillPaints||(0,aU.gl)(this.props.fillPaints))return null;let e=this.props.fillPaints.find(e=>"VIDEO"===e.type);if(!e)return null;let t=this.props.openFile?.key;return{action:"export-selected-video",flags:["view_restricted","whiteboard"],platforms:["!ipad"],displayText:(0,h.t)("fullscreen.context_menu.export_selected_video"),callback:(a,n,r)=>{rp({paint:e,fileKey:t,dispatch:r})}}}selectedDefaultLibraryComponents(){let e=Object.keys(this.props.sceneGraphSelection);if(0===e.length)return!1;let t=this.props.sceneGraph.get(e[0])?.symbolId;if(!t)return!1;let a=(0,a6.yW)(this.props.sceneGraph.get(t));return!!a&&(0,a6.td)(this.props.library,a)}getMoveToMenu(){return this.state.pageItems.length>=1?{action:"page-move-to-menu",flags:["edit"],children:this.state.pageItems,name:"page-move-to-menu"}:null}getFigJamRemovePluginActionsMenu(){if(this.props.selectedView.editorType===Z.nT.Design)return null;let t=e=>this.props.dispatch(ru.af({id:e,resourceType:rV.bD.PLUGIN})),a=(0,rB.vA)(this.props.pluginRelaunchData,this.props.publishedPlugins,this.props.localExtensions,this.props.orgEntity,this.props.numSelected||0,(a,n)=>e.refreshCache.debounceRefresh(a,()=>t(a),n),rz.FW.FIGJAM),n=[],r=new Set;for(let e of a)r.has(e.pluginTypeAndID)||(n.push({name:e.plugin.name,plugin_id:e.plugin.plugin_id}),r.add(e.pluginTypeAndID));return 0===n.length?null:{name:"remove-plugin-actions",children:[...n.map(({name:e,plugin_id:t})=>({name:"plugins-menu-item",callback:()=>i.NfO.removeRelaunchDataFromSelection(t),args:{extensionName:e}})),{separator:!0},{name:"remove-all-plugin-actions",callback:()=>n.map(({plugin_id:e})=>i.NfO.removeRelaunchDataFromSelection(e))}]}}getMainComponentActionsMenu(){if(this.props.isLimitedDevMode)return null;let e=(0,Y.Yh)(this.props.appModel,"find-symbol")&&!this.selectedDefaultLibraryComponents(),t=(0,Y.Yh)(this.props.appModel,"push-changes-to-main"),a=(0,Y.Yh)(this.props.appModel,"restore-symbol-or-state-group"),n=(0,Y.Yh)(this.props.appModel,"add-variant"),r=(0,Y.Yh)(this.props.appModel,"publish-selection"),l=[e,t,a,n,r].filter(Boolean).length;if(0===l)return null;if(1===l){if(e)return{action:"find-symbol"};if(n)return{action:"add-variant",flags:["edit"]};if(r)return{action:"publish-selection",flags:["edit"]}}return{action:"main-component",children:[{action:"find-symbol"},{action:"push-changes-to-main",flags:["edit"]},{action:"restore-symbol-or-state-group",flags:["edit"]},{action:"publish-selection",flags:["edit"]},{action:"add-variant",flags:["edit"]}]}}getTableCellMenu(){let e=(0,Y.Yh)(this.props.appModel,"delete-table-contents"),t=(0,Y.Yh)(this.props.appModel,"delete-current-table-row")||(0,Y.Yh)(this.props.appModel,"delete-current-table-column");return[{action:"move-table-row-up",flags:["edit"]},{action:"move-table-row-down",flags:["edit"]},{action:"move-table-column-left",flags:["edit"]},{action:"move-table-column-right",flags:["edit"]},{separator:!0},{action:"add-table-column-before",flags:["edit"]},{action:"add-table-column-after",flags:["edit"]},{separator:!0},{action:"add-table-row-above",flags:["edit"]},{action:"add-table-row-below",flags:["edit"]},{separator:!0},{action:"delete-table-contents",flags:["edit"],shortcutText:e&&!t?"\u232B":void 0},{action:"delete-current-table-column",flags:["edit"],shortcutText:!e&&t?"\u232B":void 0},{action:"delete-current-table-row",flags:["edit"],shortcutText:!e&&t?"\u232B":void 0}]}getCopyPasteMenu(){let e;let t=window.FigmaMobile,a=!_.Ay.safari||!!t?.readClipboardData,n=!this.props.isObjectsPanelMenu&&!this.props.isSingleSlideViewCarousel&&a,l=this.props.isTextEditModeMenu,i=(0,rX.C7)()&&this.props.hasFragmentSearchPermission&&this.props.isUI3,o=[{action:"copy-text"},{action:"copy-as-code",children:[{action:"copy-as-css"},{action:"copy-as-css-recursive"},{action:"copy-as-ios"},{action:"copy-as-android"},...!this.props.canAccessDevMode&&this.props.canAccessDevModeEntryPoint?[{separator:!0},{render:()=>r.createElement(n8,null),optionHeight:40}]:[]]},{action:"copy-as-svg"},{action:"copy-as-png"},...this.props.canCopyLink?[this.getCopyLinkMenu()]:[],{separator:!0},{action:"copy-properties",flags:["view_restricted"]},{action:"paste-properties",flags:["edit"]}],s=_.Ay.windows?"Ctrl+":"\u2318";switch(this.props.selectedView.editorType){case Z.nT.Design:case Z.nT.Sites:case Z.nT.Slides:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${s}C`}:null,n?{action:"paste-here",flags:["edit"],displayText:(0,h.t)("fullscreen_actions.paste-here"),shortcutText:l?`${s}V`:void 0}:this.props.isSingleSlideViewCarousel?{action:"paste",flags:["edit"],displayText:(0,h.t)("fullscreen_actions.paste"),shortcutText:`${s}V`}:null,a?{action:"paste-as-live-object",flags:["edit"],featureFlags:["live_paste"],displayText:l?(0,h.t)("fullscreen_actions.paste-as-live-object"):void 0}:null,a?{action:"paste-to-replace",flags:["edit"],displayText:l?(0,h.t)("fullscreen_actions.paste-and-match-style"):void 0,shortcutText:l?`${s}\u21E7V`:void 0}:null,{action:"copy-paste-menu",flags:["edit"],children:o},{action:"copy-as-menu",flags:["!edit"],children:o},{action:"duplicate-in-place",flags:["edit","slides"],displayText:(0,h.t)("fullscreen_actions.duplicate-in-place"),shortcutText:`${s}D`},i?{action:"find-inspiration",flags:["edit","!slides"]}:null,(0,c.kc)().asset_suggestions_inspect_fragment?{action:"inspect-fragment",flags:["!slides"]}:null,...(0,rE.x)({isOrgMember:this.props.isOrgMember})];break;case Z.nT.DevHandoff:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${s}C`}:null,this.props.isLimitedDevMode?null:{action:"copy-text"},this.props.isLimitedDevMode?null:{action:"copy-as-svg"},this.props.isLimitedDevMode?null:{action:"copy-as-png"},this.props.isLimitedDevMode?null:{action:"copy-layer-name"},this.props.canCopyLink?this.getCopyLinkMenu():null];break;default:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${s}C`}:null,n?{action:"paste",flags:["edit"],displayText:(0,h.t)("fullscreen_actions.paste"),shortcutText:`${s}V`}:null,n?{action:"paste-as-live-object",flags:["edit"],featureFlags:["live_paste"],displayText:l?(0,h.t)("fullscreen_actions.paste-as-live-object"):void 0}:null,a?{action:"paste-to-replace",flags:["edit"],displayText:(0,h.t)("fullscreen_actions.paste-to-replace")}:null,...(0,rE.x)({isOrgMember:this.props.isOrgMember})]}return e}getCopyExportMenu(){return[...this.props.canCopyLink?[this.getCopyLinkMenu(),this.getCopyHyperlinkMenu()]:[],this.getMaybeEmbedOrLinkPreviewWidgetMenu(),this.getMaybeEmbedDeactivateMenu(),{action:"copy-as-png"},{action:"export-selection-or-current-page",flags:["view_restricted","whiteboard"],displayText:(0,h.t)("fullscreen.context_menu.export_selection")},this.getExportVideo()]}rulerGuideMenu(e,t){let a="toggle-rulers",n=[e===i._0v.Y?{action:"remove-vertical-guides"}:{action:"remove-horizontal-guides"},{separator:!0},{action:a,displayText:(0,h.t)("fullscreen.ruler_guide_context_menu.hide_rulers"),shortcutText:(0,Y.c1)(this.props.appModel.keyboardShortcuts,a)}],r=[{action:"remove-guide"}];switch(t){case i.bQY.RULER:return n;case i.bQY.GUIDE:return r;case i.bQY.BOTH:return r.concat(...n);default:return[]}}singleSlideViewCarouselMenu(){return[...this.getCopyPasteMenu(),{separator:!0},{action:"delete-selection",flags:["slides"]},{separator:!0},{action:"create-slide",flags:["slides"]},{action:"select-all-slides",flags:["slides"]},...this.skipSlidesMenu()]}skipSlidesMenu(){let e=(()=>{for(let e of Object.keys(this.props.sceneGraphSelection)){let t=al.q.instance.get(e);if(!t?.isSlide())return!1}return!0})(),t=Object.keys(this.props.sceneGraphSelection).length>1;return e?[{separator:!0},(()=>{for(let e of Object.keys(this.props.sceneGraphSelection)){let t=al.q.instance.get(e);if(!t?.isSlide()||!t?.isSkippedSlide)return!1}return!0})()?{action:t?"unskip-slides":"unskip-slide",flags:["slides"],featureFlags:["piper_skip_slides"]}:{action:t?"skip-slides":"skip-slide",flags:["slides"],featureFlags:["piper_skip_slides"]}]:[]}contextMenu(){let{objectItems:e,relatedComponentMenu:t,relatedStateMenu:a}=this.state,n=this.props.appModel,l=this.props.selectedView.editorType===Z.nT.Design,o=this.props.selectedView.editorType===Z.nT.Slides,s=(0,r1.Vj)(this.props.selectedView),d=(l||s)&&(0,Y.Yh)(this.props.appModel,"select-node-menu")&&!this.props.isObjectsPanelMenu&&e.length>1,u=this.props.isObjectsPanelMenu,{withinMeter:m}=(0,rZ.X)(az.JT.AUTO_RENAME_LAYERS),p=u&&this.props.hasAIPermission&&(0,rX.AL)()&&(0,rX.Ii)()&&m&&this.props.isUI3,_=window.FigmaMobile,f=lu(n.showComments,this.props.selectedView,this.props.viewportInfo,this.props.clientX,this.props.clientY,this.props.dispatch,_?.requestToAddDraftCommentPin),g=(0,Y.Yh)(this.props.appModel,"swap-to-related-symbol"),E=(0,Y.Yh)(this.props.appModel,"swap-to-related-state"),y=this.props.isPrototypeCanvasEditUiVisible?[{separator:!0},{action:"remove-interactions-on-selection",flags:["edit"]},{action:"add-prototype-starting-point",flags:["edit"]},{action:"delete-prototype-starting-point",flags:["edit"]}]:[],v=this.getCopyPasteMenu(),b=this.getCopyExportMenu(),C=[d?{action:"select-node-menu",children:e,name:"select-node-menu"}:null,this.getMoveToMenu(),{action:"move-to-file",flags:["edit"]}],w=!l,T=o?[]:[w?{separator:!0}:null,this.props.userCanRunPlugins?(0,rv.qz)(this.props,"contextmenu"):null,this.props.appModel.isReadOnly?null:(0,rb.Vd)(this.props,"contextmenu")],S=(0,c.kc)().internal_only_debug_tools,N=S&&1===this.props.numSelected,x=(0,c.kc)().convert_to_thumbnail_frame,k=this.props.spellCheckPreference,I=this.props.appModel.spellCheckSuggestions,A=r7(this.props.hasSlidesAiTextEnabled),L=r6(this.props.dispatch,A);return[...k||this.props.appModel.activeTextReviewPlugin?lm(I,this.props.editorType):[],{separator:!0},...this.getTableCellMenu(),{separator:!0},...f,...v,{separator:!0},{action:"delete-selection",flags:["whiteboard","slides"]},{separator:!0},L,{separator:!0},...this.isFigjam()?b:[],{separator:!0},...C,{action:"bring-to-front",flags:["edit"]},{action:"bring-forward",flags:["edit","slides"]},{action:"send-backward",flags:["edit","slides"]},{action:"send-to-back",flags:["edit"]},{separator:!0},{action:"create-responsive-set",flags:["edit","sites"]},{action:"set-as-default-responsive-set",flags:["edit","sites"]},{action:"replace-selected-frame-with-section",flags:["edit","!slides"]},{action:"replace-selected-section-with-frame",flags:["edit","!slides"]},{action:"group-selection",flags:["edit"]},{action:"frame-selection",flags:["edit"]},{action:"create-section-from-selection",flags:["edit","!slides"]},{action:"ungroup-selection",flags:["edit"],displayText:(0,h.t)("fullscreen.context_menu.ungroup")},u?{action:"rename-selection",flags:["edit"],displayText:(0,h.t)("fullscreen.context_menu.rename")}:null,p?{name:"auto-rename-layers",flags:["edit"],displayText:(0,h.t)("fullscreen.context_menu.auto_rename_layers"),rightIcon:r.createElement(r$.W,{variant:rQ.x.ON_MENU}),callback:()=>{(0,rJ.$I)({moduleToOpen:{type:"custom",module:r.createElement(r0.A,{source:aP.uQ.CONTEXT_MENU}),beforeModuleOpen:()=>{(0,aK.B3)(az.JT.AUTO_RENAME_LAYERS),(0,aK.Ag)(az.JT.AUTO_RENAME_LAYERS,aP.Ay,{source:aP.uQ.CONTEXT_MENU,overwriteNames:!1})},name:rq.S.RENAME_LAYERS_TOAST},trackingData:{source:"selection_context_menu_rename_layers"}})}}:null,{action:"flatten-selection",flags:["edit"],displayText:(0,h.t)("fullscreen.context_menu.flatten")},{action:"outline-stroke",flags:["edit"],shortcutText:(0,Y.c1)(this.props.appModel.keyboardShortcuts,"outline-stroke-with-migration-notice")||(0,Y.c1)(this.props.appModel.keyboardShortcuts,"outline-stroke")},{action:"mask-selection",flags:["edit"],get displayText(){switch(i.Ez5.editorState().selectionIsMask.getCopy()){case i.F84.OFF:case i.F84.MIXED:return(0,h.t)("fullscreen_actions.mask-selection");case i.F84.ON:return(0,h.t)("fullscreen.menu.remove_mask")}}},this.props.canSetAsFileThumbnail&&!this.props.appModel.isReadOnly?this.getThumbnailMenu(this.getSelectionGuid()===this.props.openFile?.thumbnailGuid):null,{separator:!0},{action:this.props.propertiesPanelShouldShowRemoveAutoLayout?"unstack-selection":"stack-selection",flags:["design","edit"]},(0,ry.K)((0,Y.Yh)(this.props.appModel,"run-multi-stack-auto-layout")&&!this.props.propertiesPanelShouldShowRemoveAutoLayout,(0,Y.Yh)(this.props.appModel,"destroy-all-auto-layout"),(0,Y.Yh)(this.props.appModel,"resize-to-fit")),{action:"create-symbol",flags:["edit"]},{action:"create-template",flags:["edit"],featureFlags:["dse_templates_proto"]},{action:"create-module",flags:["edit"],featureFlags:["dse_editor_templates_v1"]},g&&t?{name:"swap-to-related-symbol",flags:["edit"],childDropdown:t}:null,E&&a?{name:"swap-to-related-state",flags:["edit"],childDropdown:a}:null,{action:"reset-symbol",flags:["edit"]},{action:"detach-instance",flags:["edit"]},this.getMainComponentActionsMenu(),{action:"link-to-component",flags:["edit"]},...w?[]:T,this.getFigJamRemovePluginActionsMenu(),{separator:!0},{action:"toggle-shown-for-selected-nodes",flags:["edit"],displayText:(0,h.t)("fullscreen.context_menu.show_hide")},{action:"toggle-locked-for-selected-nodes",flags:["edit"],displayText:(0,h.t)("fullscreen.context_menu.lock_unlock")},{action:"unlock-all",flags:["edit","whiteboard"]},{separator:!0},{action:"flip-horizontal",flags:["edit"]},{action:"flip-vertical",flags:["edit"]},{separator:!0},{action:"remove-annotations",flags:["dev_handoff"]},{separator:!0},...w?T:[],{separator:!0},this.getImageToProfilePicture(),...y,...o?this.skipSlidesMenu():[],N?{separator:!0}:null,N?{action:"debug-inspect-layer-figma-scope"}:null,x?{action:"convert-to-thumbnail-frame"}:null,S?{action:"debug-print-as-test-code"}:null]}render(){let e=this.props.clientX,t=this.props.clientY,a=(0,rl.removeNullish)(this.props.isTextEditModeMenu?this.textEditModeMenu():this.props.isSelectLayerMenu?this.selectLayerMenu():this.props.isRulerGuideMenu?this.rulerGuideMenu(this.props.axis,this.props.rulerGuideContextMenuType):this.props.isSingleSlideViewCarousel?this.singleSlideViewCarouselMenu():this.contextMenu());return r.createElement("div",{className:`${w.Dm}`},r.createElement(nJ.Q,{appModel:this.props.appModel,sceneGraph:this.props.sceneGraph,selectedView:this.props.selectedView,sceneGraphSelection:this.props.sceneGraphSelection,menuItems:a,dispatch:this.props.dispatch,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!0,isLimitedDevMode:this.props.isLimitedDevMode,recordingKey:"layerMenu"}))}};function lo(e){let t=(0,l.d4)(X.tB),a=(0,nY.Tg)(),n=(0,ne._X)({subscribeToUpdates_expensive:!0}),i=(0,rS.ud)(),o=(0,e_._I)(),c=(0,e_.U4)(),d=(0,l.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),u=lp(),m=(0,l.wA)(),p=(0,nY.Be)(),_=p.orgPlugins,f=(0,rC.h)("plugin"),h=(0,F.J2)((0,t7.UK)().spellCheckPreference),g=(0,s.R)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection),a=1===t.length?al.q.instance.get(t[0]):null,n=null!=a&&("FRAME"===a.type&&!a.resizeToFit||"SYMBOL"===a.type||"SECTION"===a.type),r=e.selectedView.editorType;return{appModel:e.mirror.appModel,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,localExtensions:e.localPlugins,userCanRunPlugins:(0,eQ.GP)(e),sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library,masterSymbolGUID:e.mirror.selectionProperties.masterSymbolGUID,propertiesPanelShouldShowRemoveAutoLayout:e.mirror.selectionProperties.propertiesPanelShouldShowRemoveAutoLayout,orgEntity:(0,rT.Jl)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,user:e.user,fillPaints:e.mirror.selectionProperties.fillPaints,canSetAsFileThumbnail:n&&!a?.isInstanceSublayer,canCopyLink:e.mirror.selectionProperties.canCopyLinkToSelection,fileVersion:e.fileVersion,stateGroupSelectionInfo:e.mirror.selectionProperties.stateGroupSelectionInfo,widgetSelectionInfo:e.mirror.selectionProperties.selectedWidgetInfo,publishedCanvasWidgetVersions:e.publishedCanvasWidgetVersions,embedData:e.mirror.selectionProperties.embedData,linkPreviewData:e.mirror.selectionProperties.linkPreviewData,pluginRelaunchData:e.mirror.selectionProperties.pluginRelaunchData,numSelected:e.mirror.selectionProperties.numSelected,attributionContextKey:e.sharingAttributionContextKey,editorType:r,isOrgMember:(0,e$.canMemberOrg)(e.currentUserOrgId,e),isDevHandoff:r===Z.nT.DevHandoff,isLimitedDevMode:(0,q.$A)(e.selectedView)&&!(0,e_.tn)(e)}}),E=(0,rY.vh)(),y=(0,r5.Ne)(),v=(0,rY.LC)(),b=(0,t6.GS)();return r.createElement(li,{...e,...g,dispatch:m,spellCheckPreference:h,isPrototypeCanvasEditUiVisible:u,openFile:t,fileByKey:i,allSavedPlugins:p.plugins,recentlyUsedPlugins:a,viewportInfo:n,activeTextReviewPlugin:d,editorType:g.editorType,orgSavedPlugins:_,orgPrivatePlugins:f,canAccessDevMode:o,canAccessDevModeEntryPoint:c,hasAIPermission:E,hasSlidesAiTextEnabled:y,hasFragmentSearchPermission:v,isUI3:b})}function ls(e){let t=(0,l.d4)(X.tB),a=(0,nY.Tg)(),n=(0,ne._X)({subscribeToUpdates_expensive:!0}),i=(0,rS.ud)(),o=(0,e_._I)(),c=(0,e_.U4)(),d=(0,l.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),u=lp(),m=(0,l.wA)(),p=(0,nY.Be)(),_=p.orgPlugins,f=(0,rC.h)("plugin"),h=(0,F.J2)((0,t7.UK)().spellCheckPreference),g=(0,s.R)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection),a=1===t.length?al.q.instance.get(t[0]):null,n=null!=a&&("FRAME"===a.type&&!a.resizeToFit||"SYMBOL"===a.type||"SECTION"===a.type),r=e.selectedView.editorType;return{appModel:e.mirror.appModel,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,localExtensions:e.localPlugins,userCanRunPlugins:(0,eQ.GP)(e),sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library,masterSymbolGUID:e.mirror.selectionProperties.masterSymbolGUID,propertiesPanelShouldShowRemoveAutoLayout:e.mirror.selectionProperties.propertiesPanelShouldShowRemoveAutoLayout,orgEntity:(0,rT.Jl)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,user:e.user,fillPaints:e.mirror.selectionProperties.fillPaints,canSetAsFileThumbnail:n&&!a?.isInstanceSublayer,canCopyLink:e.mirror.selectionProperties.canCopyLinkToSelection,fileVersion:e.fileVersion,stateGroupSelectionInfo:e.mirror.selectionProperties.stateGroupSelectionInfo,widgetSelectionInfo:e.mirror.selectionProperties.selectedWidgetInfo,publishedCanvasWidgetVersions:e.publishedCanvasWidgetVersions,embedData:e.mirror.selectionProperties.embedData,linkPreviewData:e.mirror.selectionProperties.linkPreviewData,pluginRelaunchData:e.mirror.selectionProperties.pluginRelaunchData,numSelected:e.mirror.selectionProperties.numSelected,attributionContextKey:e.sharingAttributionContextKey,editorType:r,isOrgMember:(0,e$.canMemberOrg)(e.currentUserOrgId,e),isDevHandoff:r===Z.nT.DevHandoff,isLimitedDevMode:(0,q.$A)(e.selectedView)&&!(0,e_.tn)(e)}}),E=(0,rY.vh)(),y=(0,r5.Ne)(),v=(0,rY.LC)(),b=(0,t6.GS)();return r.createElement(li,{...e,...g,dispatch:m,spellCheckPreference:h,isPrototypeCanvasEditUiVisible:u,openFile:t,fileByKey:i,allSavedPlugins:p.plugins,recentlyUsedPlugins:a,viewportInfo:n,activeTextReviewPlugin:d,editorType:g.editorType,orgSavedPlugins:_,orgPrivatePlugins:f,canAccessDevMode:o,canAccessDevModeEntryPoint:c,isSingleSlideViewCarousel:!0,hasAIPermission:E,hasSlidesAiTextEnabled:y,hasFragmentSearchPermission:v,isUI3:b})}function lc({expandElement:e,guid:t,...a}){let n=(0,l.d4)(e=>e.mirror.sceneGraphSelection),i=(0,l.d4)(e=>e.mirror.appModel),o=(0,l.d4)(e=>e.mirror.sceneGraph),s=(0,E.hA)()??void 0,c=(0,l.d4)(e=>e.openFile),d=(0,l.d4)(e=>e.mirror.selectionProperties.canCopyLinkToSelection),u=(0,B.Fk)((e,t)=>{let a=e.get(t);return a?a.canHaveAnnotation:null},t),m=(0,B.Fk)((e,t)=>{let a=e.get(t);return!!a&&a.annotations.length>0},t),p=(0,l.wA)(),f=_.Ay.windows?"Ctrl+":"\u2318",g=[e?{name:"expand-element",callback:e}:null,{separator:!0},u?{name:m?"edit-annotation":"add-annotation",callback:()=>{U.zl.set(rW.J,!0)}}:null,{separator:!0},navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${f}C`}:null,{action:"copy-text"},{action:"copy-as-svg"},{action:"copy-as-png"},{action:"copy-layer-name"},d?{name:"copy-link",args:{label:(0,h.t)("fullscreen.context_menu.copy_link",{editorSpecifierString:""})},callback:()=>{if(!c)return;let e=(0,rD.jN)({file:c,nodeId:t,isDevHandoff:!0,devModeFocusId:s,isReadOnly:!0,isFigJam:!1,attributionContext:null});p(rh.S({fileKey:c.key,url:e,source:rP.d.FULLSCREEN_CONTEXT_MENU,visualBellMessageOverride:void 0}))}}:null],y=a.clientX,v=a.clientY;return r.createElement("div",{className:`${w.Dm}`},r.createElement(nJ.Q,{appModel:i,sceneGraph:o,selectedView:a.selectedView,sceneGraphSelection:n,menuItems:g.filter(rc.t),dispatch:p,showPoint:!1,targetRect:{width:10,height:10,left:y+100,top:v,right:y+110,bottom:v-10},removeDisabledItems:!0,recordingKey:"codeMenu"}))}function ld({...e}){let t=(0,l.d4)(e=>e.mirror.sceneGraphSelection),a=(0,l.d4)(e=>e.mirror.appModel),n=(0,l.d4)(e=>e.mirror.sceneGraph),i=(0,l.wA)(),o=_.Ay.windows?"Ctrl+":"\u2318",s=[];navigator.clipboard&&navigator.clipboard.write&&s.push({name:"copy",shortcutText:`${o}C`,callback:()=>{e.onCopyText()}});let c=e.clientX,d=e.clientY;return r.createElement("div",{className:`${w.Dm}`},r.createElement(nJ.Q,{appModel:a,sceneGraph:n,selectedView:e.selectedView,sceneGraphSelection:t,menuItems:s,dispatch:i,showPoint:!1,targetRect:{width:10,height:10,left:c+100,top:d,right:c+110,bottom:d-10},removeDisabledItems:!0,recordingKey:"codeMenu"}))}function lu(e,t,a,n,r,l,i){return e&&a&&t.commentsEnabled&&_.Ay.isIpadNative?[{name:"add-comment",callback:()=>{!function(e,t,a,n,r){if(!e)return;let l={x:t,y:a-r9};if(r)r({x:l.x,y:l.y,width:36.8,height:36.8});else{let t=(0,ne.$$)(e,l);n(rt.vV({anchorPosition:t})),n(rt.CX())}}(a,n,r,l,i)}},{separator:!0}]:[]}function lm(e,t){var a;if(!e)return[];let n=!!e?.figma;return[...function(e,t){let{figma:a,textReviewPlugin:n}=e,r=e=>{if(!e)return[];let a=[],n=e?.suggestions||[],r=e?.rangeStart||0,l=e?.rangeEnd||0;for(let e of n.slice(0,3))a.push({action:"replace-selected-text",flags:["design","whiteboard","slides"],displayText:e,recordingKey:`replace-selected-text-${a.length}`,args:{replacementText:e,rangeStart:r,rangeEnd:l},callback(){let e=(0,rw.pi)({editorType:(0,Z.oD)(t)});(0,$.sx)("Spell Check Suggestion Clicked",{productType:e})}});return a},l=r(a),i=r(n);return l.length||i.length?!l.length&&i.length?[{header:!0,name:rU.SH()?.plugin.name||"Plugin"},...i]:l.length&&!i.length?l:[...l,{name:"replace-selected-text",displayText:rU.SH()?.plugin.name||"Plugin",children:i}]:[{header:!0,flags:["design","whiteboard"],name:(0,h.t)("spell_check.no_suggestions_found")}]}(e,t),{separator:!0},...n&&e?.figma?.rangeText?[(a=e?.figma?.rangeText,{name:"spell-check-menu-add-word",flags:["design","whiteboard","slides"],callback:async(e,t,n)=>{try{let e=await ro.Ay.post("/api/spell-check-words",{word:a});if(200===e.status){let e=await (0,rO.Xw)();await e.addWords([a]),T.Y5.triggerAction("redo-spell-checking")}else(0,S.x1)("spell_check_add_word_error","spell check add word failed http request",{responseStatus:e.status,responseData:e.data},{reportAsSentryError:!0})}catch(e){e.message.includes("The word provided already exists in your dictionary")||(ri.k.error(e),(0,S.x1)("spell_check_add_word_error","spell check add word error",{err:e},{reportAsSentryError:!0}))}}})]:[]]}function lp(){return(0,F.J2)((0,rL.aY)())===i.FAf.PROTOTYPE}li.displayName="SelectionContextMenu",li.refreshCache=new rH.O(ee.A.duration(1,"day"));var l_=a(970516);function lf({clientX:e,clientY:t,selectedView:a}){let n=(0,l.wA)(),i=(0,l.d4)(e=>e.mirror.appModel),o=(0,X.q5)(),s=r.useCallback(()=>{n(l_.lW({stringToCopy:(0,rD.jN)({file:o,isDevHandoff:!0,isDevModeOverview:!0,isReadOnly:!0,isFigJam:!1,attributionContext:null}),successText:(0,h.t)("permissions.copy_link_button.visual_bell.copy_summary_link")}))},[n,o]),c=[{name:"page-copy-link",displayText:(0,h.t)("dev_handoff.status.copy_summary_link"),callback:s}];return r.createElement("div",{className:`${w.Dm}`},r.createElement(nJ.Q,{appModel:i,menuItems:c,dispatch:n,selectedView:a,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!1,recordingKey:"overviewMenu"}))}function lh({pageId:e,clientX:t,clientY:a,selectedView:n}){let i=(0,l.wA)(),o=(0,l.d4)(e=>e.mirror.appModel),s=(0,B.Fk)((e,t)=>e.get(t)?.isPageDivider,e),c=[{action:"page-copy-link",args:{nodeId:e},disabled:s}];return r.createElement("div",{className:`${w.Dm}`},r.createElement(nJ.Q,{appModel:o,menuItems:c,dispatch:i,selectedView:n,showPoint:!1,targetRect:{width:10,height:10,left:t+100,top:a,right:t+110,bottom:a-10},removeDisabledItems:!1,recordingKey:"pageMenu"}))}var lg=a(815549),lE=a(802915),ly=a(780700),lv=a(206074);function lb(){let e=(0,ny.Um)(),t=(0,l.wA)(),a=(0,ly.Gt)(e?.data.pluginId,e?.data.triggeredFrom),n=(0,ly.dR)(e?.data.pluginId,e?.data.triggeredFrom),i=(0,lE.t)(e?.data.pluginId,a,n);if(!e)return null;let o=e.data.target.height+e.data.target.width>0;return r.createElement(lv.j,{showPoint:o,items:i,onSelectItem:e=>{e.callback&&e.callback("",null,t)},parentRect:e.data.target,dispatch:t,lean:o?"left":"right"})}var lC=a(17604),lw=a(239349),lT=a(282741),lS=a(779709),lN=a(177505),lx=a(421757),lk=a(38580),lI=a(498750);let lA=(0,lk.eU)(""),lL=(0,eT.tf)(lx.IK);function lO({onResult:e}){let[t,a]=(0,U.fp)(lA),n=r.useRef(null),i=(0,r.useCallback)(e=>{a(e.target.value)},[a]),o=(0,l.d4)(e=>(0,q.$A)(e.selectedView)),s=(0,r.useCallback)(()=>{e(t),a("")},[t,e,a]),c=r.useCallback(e=>{switch(e.keyCode){case lI.Uz.SPACE:case lI.Uz.ENTER:s(),e.stopPropagation();return}},[s]);return(0,r.useEffect)(()=>{let e=n.current;if(e)return e.addEventListener("keydown",c),()=>{e.removeEventListener("keydown",c)}},[c]),r.createElement("div",{className:"ready_status_menu_item--menuItemContainer--Uy01z","data-preferred-theme":"dark","data-editor-theme":o?"dev-handoff":"design"},r.createElement(ei.ks,{placeholder:(0,h.t)("dev_handoff.status.menu_note_placeholder"),type:"textarea",value:t,onChange:i,maxLength:1e3,className:"ready_status_menu_item--textInput--iqTJf",onKeyDown:e=>{e.stopPropagation(),"Enter"!==e.key||e.shiftKey||s()},autoFocus:!0,"data-preferred-theme":o?void 0:"dark"}),r.createElement(lL,{ref:n,variant:"primary",onClick:s,recordingKey:"markReady"},(0,h.tx)("dev_handoff.status.menu_note_button")))}let lR="status_context_menu--headerStrong--9G-Jb";function lM({targetInViewport:e,nodeId:t,selectedView:a}){let n=(0,l.wA)(),o=(0,l.d4)(e=>e.mirror.appModel),c=new al.q,d=(0,lw.mJ)(t),u=!!d?.hasReadyStatus,m=!!d?.hasCompletedStatus,p=u||m,_=(0,lC.D)()&&!!d?.hasBeenEditedSinceLastStatusChange,f=(0,X.q5)(),g=(0,n3.U)("status_label_menu"),E=(0,ne.ni)(),y=(0,e_._I)(),v=(0,e_.U4)(),b=(0,lC.D)(),C=y&&b,T=(0,Y.Yh)(o,"set-selection-completed-status"),S=(0,Y.Yh)(o,"mark-incomplete"),N=(0,n2.U)(),x=(0,eG.E3)(),[,k]=(0,U.fp)(lT.wz),I=(0,lN.dh)(),A=(0,r.useMemo)(()=>i.w3z.isReadOnly(i.SES.NODE_STATUS),[]),L=i.w3z.canEditNodeStatus(),O=v&&A&&!y,R=(0,s.R)(e=>"fullscreen"===e.selectedView.view?{...e.selectedView,editorType:Z.nT.DevHandoff,focusViewBackNavigation:{toEditorType:e.selectedView.editorType,toOverview:!1},devModeFocusId:t,overviewBackButtonTargetNodeId:I}:e.selectedView),M=(0,r.useMemo)(()=>{if(!f)return[];let e=S?{name:"status-mark-as-ready",callback:()=>{lS.z4.setNodesReady(!0,[t],"canvas",null)},flags:["dev_handoff","design"]}:null,l=T?{name:"status-mark-as-completed",callback:()=>{lS.z4.setNodesCompleted([t],"canvas")},flags:["dev_handoff","design"]}:null,i=u?l:e,o={name:"ready-status-copy-dev-link",callback:()=>{let e=(0,rD.jN)({file:f,nodeId:t,isDevHandoff:!0});n(rh.S({fileKey:f.key,url:e,source:rP.d.STATUS_DROPDOWN_MENU}))},flags:["dev_handoff","design"]},s=v?[{name:"ready-status-open-in-dev-mode",callback:()=>{g("handoff")},flags:["design"]},o]:[o],c={separator:!0,flags:["design","dev_handoff"]},d=[c,{render:()=>r.createElement(n7,null),optionHeight:32,flags:["design"]}],E=[{name:"enter-dev-mode-focus-view",callback:()=>{N("Dev Mode Canvas Focus Entry Clicked",{nodeId:"devModeFocusId"in R?R.devModeFocusId:""}),g("handoff"),k(x===Z.nT.DevHandoff?"dev_mode_canvas":"design_canvas"),n(eR.$T(R))},flags:["design","dev_handoff"]},{name:"status-copy-focus-link",callback:()=>{let e=(0,rD.jN)({file:f,nodeId:I,isDevHandoff:!0,devModeFocusId:a?.devModeFocusId??t});n(rh.S({fileKey:f.key,url:e,source:rP.d.STATUS_DROPDOWN_MENU}))},flags:["dev_handoff","design"],alwaysShowCheckMarkOffset:!1}],y=C&&!lS.z4.getIsExtension()?E:s;if(!L)return[...y,...O?d:[]];let b=[...y,...i?[c,i]:[],c,{name:"status-remove",callback:()=>{lS.z4.setNodesReady(!1,[t],"canvas",null)},flags:["dev_handoff","design"],alwaysShowCheckMarkOffset:!1},...O?d:[]];return p?_?[{name:"completed-status-remark-as-ready",displayText:m?(0,h.t)("dev_handoff.status.menu_title_design_changed_since_completed"):(0,h.t)("dev_handoff.status.menu_title_design_changed_since_ready"),displayTextClassName:lR,children:b,showDotDotDotButton:!0},{render:()=>r.createElement(lO,{onResult:e=>{lS.z4.setNodesReady(!0,[t],"canvas",e??null),n(eR.oB())}}),preventDismissOnSelected:!0,preventSelectOnMouseEnter:!0,allowClickThrough:!0,flags:["design","dev_handoff"]}]:b:[{header:!0,name:(0,h.t)("dev_handoff.status.menu_title_start_handoff_title"),displayTextClassName:lR},{render:()=>r.createElement(lO,{onResult:e=>{lS.z4.setNodesReady(!0,[t],"canvas",e??null),n(eR.oB())}}),flags:["design","dev_handoff"]}]},[f,T,S,I,u,v,L,O,t,g,n,C,p,_,R,a?.devModeFocusId,m,x,k,N]),D=e.origin.x+E.x,P=e.origin.y+E.y,F={left:D,top:P,right:D+e.size.x,bottom:P+e.size.y,width:e.size.x,height:e.size.y};return r.createElement("div",{className:`${w.Dm}`},r.createElement(nJ.Q,{appModel:o,sceneGraph:c,selectedView:a,menuItems:M,dispatch:n,showPoint:!0,targetRect:F,removeDisabledItems:!0,recordingKey:"readyStatusMenu",minWidth:176}))}var lD=a(324666),lP=a(279702),lF=a(559681),lB=a(742934);function lU({clientX:e,clientY:t,selectedView:a,targetItem:n,paint:o,onPaintChange:c}){let d=(0,l.wA)(),{appModel:u,sceneGraph:m,sceneGraphSelection:p}=(0,s.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),_=(0,lF.k1)(),f=[];return"DOCUMENT_COLOR"===n.type?f.push({name:"slides-move-to-theme-colors",recordingKey:"moveToThemeColors",callback:()=>{let e=_(n.documentColor);if(!e)return;let t=a3.VariableId.toKiwi(e);t&&o&&(0,aU.hS)(o)&&o.color&&(0,ac.DA)(o.color,n.documentColor)&&c((0,lB.FW)(t),lP.zk.YES)}}):(f.push({name:"slides-edit-theme-color",recordingKey:"edit",callback:n.onEdit}),f.push({name:"slides-delete-theme-color",recordingKey:"delete",callback:()=>{i.CWU.deleteVariable(n.variableId)}})),r.createElement("div",{className:w.Dm},r.createElement(nJ.Q,{appModel:u,sceneGraph:m,selectedView:a,sceneGraphSelection:p,menuItems:f,dispatch:d,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!0,recordingKey:"slidesColorPickerContextMenu"}))}var lH=a(297666),lG=a(646240),lV=a(563042),lz=a(128765),lK=a(662531),lW=a(373119),lj=a(106112),lZ=a(893606),lY=a(666456),lX=a(520177),lq=a(237870),lJ=a(488578);let lQ=(0,lq.Ju)(function({sectionId:e,initialTemplateId:t,initialShelfId:a,onConfirm:n,onCancel:l}){let i=(0,X.tS)();return r.createElement(eT.fu,{name:"section_preset_picker_confirmation_modal_shown",properties:{fileKey:i,sectionId:e,initialTemplateCategory:a,initialTemplateId:t,templateType:lj.n.HubFile}},r.createElement(lJ.Rw,{confirmationTitle:r.createElement("div",null,r.createElement("p",{className:ev()(tj.cx.fontSemiBold.font15.$,"section_preset_picker--alertHeader--oa08R")},(0,h.tx)("whiteboard.section_preset_picker.confirmation_modal.header")),(0,h.tx)("whiteboard.section_preset_picker.confirmation_modal.description")),confirmText:(0,h.t)("whiteboard.section_preset_picker.confirmation_modal.confirm_text"),cancelText:(0,h.t)("whiteboard.section_preset_picker.confirmation_modal.cancel_text"),onConfirm:n,onCancel:l}))},"SectionPresetPickerConfirmationModal");function l$({name:e,leadingIcon:t,onIconClick:a}){return r.createElement("div",{className:"section_preset_picker--headerItemContainer--0R5QO dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},r.createElement("button",{className:ev()("section_preset_picker--headerIconButton--tDLql section_preset_picker--iconBase--HKG97",{"section_preset_picker--hover--GYcQi":a}),onClick:a},r.createElement(aS.B,{svg:t})),r.createElement("div",{className:"section_preset_picker--headerText--XZRQV section_preset_picker--textContainer--dyEMF text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},e))}var l0=a(493323),l1=a(865141),l2=a(851202);function l5(){return r.createElement("div",{className:"section_preset_picker--loadingSpinnerContainer--OM30n"},r.createElement(l0.kt,null))}function l3({name:e,description:t,iconUrl:a}){return r.createElement(l6,{name:e,description:t,iconUrl:a,trailingIcon:r.createElement(aS.B,{className:"section_preset_picker--chevronRight--hORsb",svg:l2.A}),itemType:"shelf"})}function l4({name:e,description:t,iconUrl:a,isSelected:n,iconBackgroundColor:l}){return r.createElement(l6,{name:e,description:t,iconUrl:a,trailingIcon:n?r.createElement(aS.B,{svg:l1.A}):void 0,iconBackgroundColor:l,itemType:"template"})}function l6({name:e,description:t,itemType:a,iconUrl:n,trailingIcon:l,iconBackgroundColor:i}){return r.createElement("div",{className:ev()({"section_preset_picker--shelfItemContainer--KochN section_preset_picker--bodyItemContainer--Ani9M dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":"shelf"===a,"section_preset_picker--templateItemContainer--tCRxk section_preset_picker--bodyItemContainer--Ani9M dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":"template"===a})},r.createElement("div",{className:ev()({"section_preset_picker--shelfItemIcon--MASDu section_preset_picker--iconBase--HKG97":"shelf"===a,"section_preset_picker--templateItemIcon--eWzYK section_preset_picker--iconBase--HKG97":"template"===a}),style:{backgroundColor:i}},n&&r.createElement("img",{src:n,alt:(0,h.t)("whiteboard.section_preset_picker.shelf.thumbnail")})),r.createElement("div",{className:"section_preset_picker--textContainer--dyEMF text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},r.createElement("div",{className:"section_preset_picker--nameText--LS4BG"},e),r.createElement("div",{className:"section_preset_picker--descriptionText--OCJkN"},t)),l&&r.createElement("div",{className:"section_preset_picker--trailingIcon--X-run section_preset_picker--iconBase--HKG97"},l))}var l7=a(251344);function l8(){return(0,lZ.R)()?301:285}var l9=a(527335),ie=a(192283);let it="section_preset_item",ia=/^Section(\s\d+)?$/,ir=(0,t4.jz)(at.IuL),il=(0,t4.jz)(at.LQy);function ii({sectionId:e,sectionName:t,initialShelfId:a,initialTemplateId:n,showAlertOnSelect:o}){let s,c;let d=(0,l.wA)(),u=(0,X.tS)(),m=(0,U.md)(lX.g),p="hasData"===m.state?m.data:[],_=0!==p.length,[f,g]=(0,r.useState)(a),[E,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),C=(0,lz.fG)(),w=function(){let e=(0,X.tS)(),t=(0,l.d4)(e=>e.fileVersion),a=(0,lG.Xr)(lY.ME);return(0,r.useCallback)((n,r)=>a({fileKey:e,fileVersion:t,template:n},r),[e,t,a])}(),T=(0,lG.Xr)(lY.Yq),S=(0,lG.Xr)(lY.pn),N=(0,lG.Xr)(lY.bj),x=(0,U.md)(lY.oh),k=(0,U.md)(lY.pF),I=(0,lW.q)(),A=(0,U.md)(lY.pg),L=function(e,t){let a=(0,ne._X)({subscribeToUpdates_expensive:!0}),n=a.zoomScale,l=l8(),i=(0,r.useMemo)(()=>{let t=al.q.instance.get(e);if(!t)return null;let a=t.absoluteBoundingBox;return{canvasSpaceSectionTopLeft:t.canvasSpaceSectionTopLeft,canvasSpaceSectionOrigin:{x:a.x,y:a.y}}},[n,e]);if(!i)return null;let{canvasSpaceSectionTopLeft:o,canvasSpaceSectionOrigin:s}=i,c=(0,ne.Z0)(a,{x:o.x,y:o.y},!0),d={x:c.x-8,y:c.y},u=(0,ne.Z0)(a,s,!0),m=Math.max(d.y+a.y,a.y+8),p={top:m,bottom:m+200,height:200,left:0,right:d.x,width:l},_={x:(0,ne.Qt)(t.x,0,n,0),y:(0,ne.Qt)(t.y,0,n,0)};return{contextMenuRect:p,mouseBoundaryRect:{x:d.x,y:u.y+a.y,width:_.x+8,height:_.y}}}(e,k),O=l8(),R=(0,lZ.R)(),M=r.useRef(!1),D=r.useCallback(()=>{T(),S(),y(!1)},[T,S]);(0,r.useEffect)(()=>{let e=setTimeout(()=>{b(!0)},500);return()=>clearTimeout(e)},[]),(0,r.useEffect)(()=>()=>{M.current||(T(),S())},[T,S]);let P=L?.mouseBoundaryRect;if((0,r.useEffect)(()=>{if(!E||!P)return;let e=(0,lH.s)(function(e){let t=document.activeElement?.id??"";(!P||e.clientX>P.x+P.width||e.clientX<P.x||e.clientY>P.y+P.height||e.clientY<P.y)&&!t.includes(it)&&D()},16);return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[D,E,P]),!L)return null;let{contextMenuRect:F}=L,B=(a,r,l)=>{if(I&&u&&!A&&(y(!1),x?.template.id!==a.template.id)){if(T(),a.template.id===n){S();return}a.type===lj.n.HubFile&&(0,tY.Zg)({insert:()=>w(a,{moveViewportAfterPreview:!1,priority:"user-visible",previewManager:{nodeType:i.Z6A.SECTION,options:{nodeId:e,newName:ia.test(t)||r&&t===r?l:null,shelfId:a.category??"",templateId:a.template.id,templateName:(0,lz.gY)(a)}}}),template:a,fileKey:u,dispatch:d,triggeredFrom:"section-preset",userTriggered:!1,isPreview:!0})}},H=e=>{(0,tY.Zg)({insert:()=>N({selectTemplateAfterCommit:!1,moveViewportAfterCommit:!1,priority:"user-visible",editScopeType:lK.zk.USER}),template:e,fileKey:u,dispatch:d,triggeredFrom:"section-preset",userTriggered:!0})},G=t=>{I&&u&&!A&&t.template.id!==n&&(M.current=!0,o?d((0,eM.to)({type:lQ,data:{sectionId:e,initialTemplateId:n,initialShelfId:a,onConfirm:()=>H(t),onCancel:()=>D()}})):H(t))},V=f?p.find(e=>e.id===f):void 0;if(V){s={displayText:V.title,render:()=>r.createElement(l$,{name:V.title,leadingIcon:l9.A,onIconClick:()=>{g(null),T()}}),preventDismissOnSelected:!0};let e=a&&n?(0,l7.bO)(p,a,n):null;c=V.shelf_content.map((t,a)=>{let l={type:lj.n.HubFile,template:t,category:f},{name:i,description:o}=C(l),s=(0,lV.$J)(o).trim(),c="client_meta"in t?JSON.parse(t.client_meta):{},d=c.preset_picker?.thumbnail_url_dark_bg??"";return{displayText:i,render:()=>r.createElement(l4,{name:i,description:s,iconUrl:d,isSelected:n===l.template.id,iconBackgroundColor:(0,l7.j3)(a)}),onMouseEnter:()=>{B(l,e,i)},callback:()=>G(l)}})}else s={displayText:"Edit section name",render:()=>r.createElement(l$,{name:(0,h.t)("whiteboard.section_preset_picker.shelf.title"),leadingIcon:ie.A}),preventDismissOnSelected:!0},c=p.map(t=>({displayText:t.title,render:()=>r.createElement(l3,{name:t.title,description:t.description,iconUrl:t.shelf_meta.preset_picker?.thumbnail_url}),preventDismissOnSelected:!0,callback:()=>{(0,$.sx)("section_preset_picker_category_clicked",{fileKey:u,sectionId:e,selectedCategory:t.id,initialTemplateCategory:a,initialTemplateId:n}),g(t.id),T()}}));if(!_){if(!v)return null;c.push({displayText:"Loading",render:()=>r.createElement(l5,null),disabled:!0})}return r.createElement(eT.fu,{name:"section_preset_picker_shown",enabled:_,properties:{fileKey:u,sectionId:e,initialTemplateCategory:a,initialTemplateId:n,templateType:lj.n.HubFile}},r.createElement(lv.j,{items:[s,...c],recordingKey:it,showPoint:!1,parentRect:F,depth:0,onSelectItem:e=>{e.callback&&e.callback("",null,d)},onMouseLeaveMenu:e=>{if(e.clientX>=F.right){y(!0);return}D()},dispatch:d,minBottomMargin:R?il:ir,lean:"left",leanPadding:0,minWidth:O,disableDropdownScrollContainer:!0,displayOverTarget:!0,preventZoom:!0}))}function io(e){let t=(0,l.d4)(e=>!e.mirror.appModel.isReadOnly),a=(0,l.d4)(e=>e.openFile),n=(0,R.iZ)();(0,l.d4)(e=>a?.team||null);let i=(0,nY.JI)(),o=(0,l.d4)(e=>!!e.openFile?.canEdit),s=(0,l.wA)(),c=e.dropdownShown.type,d=(0,n0.v)();if(c===w.K9){let{clientX:a,clientY:n}=e.dropdownShown.data;return r.createElement(lo,{clientX:a,clientY:n,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!1})}if(c===w.wi){let{clientX:a,clientY:n}=e.dropdownShown.data;return r.createElement(lo,{clientX:a,clientY:n,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isSelectLayerMenu:!0,isObjectsPanelMenu:!1})}if(c===w.ku){let{clientX:a,clientY:n}=e.dropdownShown.data;return r.createElement(lo,{clientX:a,clientY:n,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!1,isTextEditModeMenu:!0})}if(c===w.t4){let{clientX:a,clientY:n,axis:l,rulerGuideContextMenuType:o}=e.dropdownShown.data;return r.createElement(lo,{clientX:a,clientY:n,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!1,isTextEditModeMenu:!1,isRulerGuideMenu:!0,axis:l,rulerGuideContextMenuType:o})}if(c===w.Rb){let{clientX:a,clientY:n}=e.dropdownShown.data;return r.createElement(lo,{clientX:a,clientY:n,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0})}if(c===w.W_){let{clientX:a,clientY:n}=e.dropdownShown.data;return r.createElement(la,{clientX:a,clientY:n,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0,ariaLabelledBy:e.ariaLabelledBy})}if(c===w.LO)return r.createElement(lb,null);else if(c===w.SA){let{clientX:t,clientY:a,pageId:n}=e.dropdownShown.data;return r.createElement(lh,{pageId:n,clientX:t,clientY:a,selectedView:e.selectedView})}else if(c===w.bx){let{clientX:t,clientY:a}=e.dropdownShown.data;return r.createElement(lf,{clientX:t,clientY:a,selectedView:e.selectedView})}else if(c===w.d2){let{clientX:t,clientY:a,pageIds:n,shouldShowDuplicateOption:l}=e.dropdownShown.data;return r.createElement(lg.W,{pageIds:n,clientX:t,clientY:a,selectedView:e.selectedView,shouldShowDuplicateOption:l})}else if(c===w.$O){let{clientX:t,clientY:a,version:n,checkpointKey:l,callback:s,editName:c,enableClear:d,disableDuplicate:u}=e.dropdownShown.data;return r.createElement(lr,{version:n,checkpointKey:l,clientX:t,clientY:a,selectedView:e.selectedView,userCanEditFile:o,userCanRunPlugins:i,isObjectsPanelMenu:!1,editName:c,enableClear:d,disableDuplicate:u,callback:s})}else if(c===w.VJ){let{comment:t,parentRect:a,thread:l,isUnread:i}=e.dropdownShown.data;return r.createElement(n1.V,{dispatch:s,comment:t,parentRect:a,currentUser:n,isUnread:i,thread:l,copyLink:d})}else if(c===w.Z7){let{thread:t,pinClientRect:a}=e.dropdownShown.data;return r.createElement(rr,{selectedView:e.selectedView,thread:t,pinClientRect:a,copyLink:d})}else if(c===w.DT){let{attachment:t,clientX:a,clientY:n}=e.dropdownShown.data;return r.createElement(n$,{attachment:t,selectedView:e.selectedView,clientX:a,clientY:n})}else if(c===w.i){let{clientX:a,clientY:n,stringToCopy:l,expandElement:o,guid:s}=e.dropdownShown.data;return r.createElement(lc,{clientX:a,clientY:n,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0,stringToCopy:l,expandElement:o,guid:s})}else if(c===w.Sl){let{clientX:a,clientY:n,onCopyText:l}=e.dropdownShown.data;return r.createElement(ld,{clientX:a,clientY:n,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0,onCopyText:l})}else if(c===w.WJ){let{targetInViewport:a,nodeId:n}=e.dropdownShown.data;return r.createElement(lM,{targetInViewport:a,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0,nodeId:n})}else if(c===w.XX){let{targetInViewport:a,annotationsCount:n}=e.dropdownShown.data;return r.createElement(re,{targetInViewport:a,annotationsCount:n,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0})}else if(c===w.si){let{sectionId:a,initialShelfId:n,initialTemplateId:l,sectionName:o,showAlertOnSelect:s}=e.dropdownShown.data;return r.createElement(ii,{sectionId:a,sectionName:o,initialShelfId:n,initialTemplateId:l,showAlertOnSelect:s,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0})}else if(c===w.U3){let{clientX:a,clientY:n}=e.dropdownShown.data;return r.createElement(ls,{clientX:a,clientY:n,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!1})}else if(c===w.kX){let{clientX:t,clientY:a,targetItem:n,paint:l,onPaintChange:i}=e.dropdownShown.data;return r.createElement(lU,{clientX:t,clientY:a,selectedView:e.selectedView,targetItem:n,paint:l,onPaintChange:i})}else if(c===w.J7){let{clientX:a,clientY:n}=e.dropdownShown.data;return r.createElement(lD.mh,{clientX:a,clientY:n,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!1,isTextEditModeMenu:!0})}return null}var is=a(236192),ic=a(75472),id=a(22774),iu=a(483990),im=a(516398),ip=a(283942),i_=a(855418),ih=a(69961),ig=a(536825),iE=a(511617),iy=a(623738),iv=a(498480),ib=a(175290),iC=a(553015),iw=a(809840),iT=a(154979),iS=a(588169),iN=a(227795),ix=a(169006),ik=a(324597),iI=a(586281),iA=a(480952),iL=a(261607),iO=a(501256),iR=a(542479),iM=a(631378);function iD(e){return r.createElement("div",null,(0,ik.Dz)(e.token.content))}function iP(e){let t=(0,l.d4)(e=>e.mirror.appModel.keyboardShortcuts);return r.createElement("div",{style:eo.sx.colorText.px14.$,className:e.isSelected?"action_autocomplete_input--rowSelected--62Uvp autocomplete_permissions--contactRowSelected--xYJKX autocomplete_permissions--contactRow--DRMiv":"action_autocomplete_input--row--HRsbZ autocomplete_permissions--contactRow--DRMiv"},r.createElement(ib.Y,null,r.createElement(iw.E,null,(0,ix.E)(e.searchResult)),r.createElement(ib.M,null),r.createElement(iw.E,null,e.searchResult.shortcutText??(0,Y.c1)(t,(0,ik.Dz)(e.searchResult)))))}function iF({onAutocompleteChange:e}){let t=(0,iA.u)(),a=(0,iL.c)(),n=(0,l.d4)(e=>e.mirror.appModel),i=(0,l.d4)(e=>e.selectedView),o=(0,l.d4)(e=>e.user?.locale),s=(0,iI.M)({isReadOnly:n.isReadOnly,extensionMenuProps:a,includeDisabled:!0}),c=new iM.x(n,i,[...t,...s],{includeDisabled:!0,acceptsUnicode:"ja"===o}),[d,u]=r.useState((0,iO.Rs)());return r.createElement(iR.P,{autoFocus:!0,autocompleteResultsClassName:tj.cx.maxW300.$,autocomplete:d,placeholder:(0,h.t)("fullscreen_actions.search_menus_commands_and_plugins"),onChange:t=>{u(t),e(t)},validateToken:p.lQ,searchResults:e=>c.searchIncludeKey(n,e.inputValue).filter(([e,t])=>!t.parametersRequired).map(([e,t])=>({id:`${(0,ik.Dz)(t)}-${t.pluginId}-${(0,ix.E)(t)}`,searchKey:e,...t})),SearchResultComponent:iP,TokenComponent:iD})}var iB=a(752795),iU=a(613122);let iH="\u{1F310}";var iG=(e=>(e[e.NOT_PRESSED=0]="NOT_PRESSED",e[e.PRESSED=1]="PRESSED",e[e.PRESSED_FIRST_TIME=2]="PRESSED_FIRST_TIME",e[e.HELD=3]="HELD",e[e.COMPLETED_TAB_ANIMATION=4]="COMPLETED_TAB_ANIMATION",e))(iG||{}),iV=(e=>(e[e.FIGJAM=0]="FIGJAM",e[e.DESIGN=1]="DESIGN",e[e.DEV_MODE=2]="DEV_MODE",e[e.SLIDES=3]="SLIDES",e))(iV||{});function iz(e,t){return e in t?t[e].map(e=>e.text).filter(e=>-1===e.toLowerCase().indexOf("num")).map(ij.splitStringIntoKeys):null}function iK(e,t){let a=e.map(e=>{let a=iz(e,t);return null==a||0===a.length?null:a[0]}).filter(iB.isNotNullish);if(0===a.length)return null;if(1===a.length)return ri.k.warn("combineShortcuts: Could not find bindings to combine. \nactions: %o",e),null;let n=a[0].slice(0,-1),r=a.map(e=>e.length-1===n.length&&e.slice(0,-1).filter((e,t)=>e===n[t]).length===n.length?e.slice(-1)[0]:null).filter(iB.isNotNullish);return r.length!==e.length?(ri.k.warn("combineShortcuts: Bindings length mismatch. \nactions: %o, shortcuts %s and %s",e,a[0].join(""),a[1].join("")),null):[[...n,r]]}let iW=class e extends r.PureComponent{constructor(){super(...arguments),this.state={pressed:0,animationDelays:this.calculateAnimationDelays(this.props)},this.prettifyKeyLabel=e=>e.replace(/\u23B5/,(0,h.t)("whiteboard.keyboard_shortcuts.key_label.space")).replace(/\u21E5/,`\u21E5 ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.tab")}`).replace(/\u21DE/,`\u21DE ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.pg_up")}`).replace(/\u21DF/,`\u21DF ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.pg_dn")}`).replace(/\u2196/,`\u2196 ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.home")}`).replace(/\u2198/,`\u2198 ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.end")}`).replace(/\u238B/,`\u238B ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.esc")}`).replace(/\u21A9/,`\u21A9 ${(0,h.t)("whiteboard.keyboard_shortcuts.key_label.enter")}`),this.getTooltipText=e=>{switch(e){case"\u2318":return(0,h.t)("whiteboard.keyboard_shortcuts.tooltip.command");case"\u21E7":return(0,h.t)("whiteboard.keyboard_shortcuts.tooltip.shift");case"\u2325":return(0,h.t)("whiteboard.keyboard_shortcuts.tooltip.option_alt");case"\u2303":return(0,h.t)("whiteboard.keyboard_shortcuts.tooltip.control");case"\u232B":return(0,h.t)("whiteboard.keyboard_shortcuts.tooltip.backspace");case"\u2190":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.left");case"\u2192":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.right");default:return null}},this.renderCharKeyBox=(e,t)=>{let a=this.prettifyKeyLabel(e),n=a.startsWith(iH),l=a.length>1&&!n?iU.SR:iU.FU,i=this.state.animationDelays[t]?{animationDelay:`${this.state.animationDelays[t]}ms`}:{};return r.createElement("span",{key:a+t,className:l,style:i,"data-tooltip-show-immediately":"true","data-tooltip-show-above":"true","data-tooltip-type":aV.Ib.TEXT,"data-tooltip":this.getTooltipText(e)},a)},this.renderKeyBindings=e=>{let t=[],a=0;return e.forEach(e=>{if("string"==typeof e)t.push(this.renderCharKeyBox(e,a)),a++;else{let n=this.renderCharKeyBox(e[0],a),l=this.renderCharKeyBox(e[1],a+1);t.push(n),t.push(r.createElement("div",{key:`${e[0]}-${e[1]}`,className:iU.Uo},(0,h.tx)("whiteboard.keyboard_shortcuts.and"))),t.push(l),a+=2}}),r.createElement("span",{className:iU.pi},t)},this.triggerUnpressed=()=>{this.setState({pressed:0})},this.triggerPressed=()=>{4!=this.state.pressed&&2!=this.state.pressed&&(clearTimeout(this.pressedTimeout),this.pressedTimeout=setTimeout(()=>this.triggerUnpressed(),500),3!=this.state.pressed&&(1==this.state.pressed?this.setState({pressed:3}):this.setState({pressed:1})))},this.triggerPressedFirstTime=()=>{this.setState({pressed:2}),clearTimeout(this.pressedTimeout),setTimeout(()=>this.triggerUnpressed(),1200)},this.triggerCompletedTab=()=>{this.setState({pressed:4}),clearTimeout(this.pressedTimeout),setTimeout(()=>this.triggerUnpressed(),4e3)}}static shortcutUsedCount(e,t){if(null==t)return 0;switch(e){case"align-centers":return Math.min(t["align-horizontal-center"]||0,t["align-vertical-center"]||0);case"align-left-right":return Math.min(t["align-left"]||0,t["align-right"]||0);case"align-top-bottom":return Math.min(t["align-top"]||0,t["align-bottom"]||0);case"distribute-spacing":return Math.min(t["distribute-horizontal-spacing"]||0,t["distribute-vertical-spacing"]||0);case"text-font-size-adjust":return Math.min(t["text-font-size-increase"]||0,t["text-font-size-decrease"]||0);case"text-letter-spacing-adjust":return Math.min(t["text-letter-spacing-increase"]||0,t["text-letter-spacing-decrease"]||0);case"text-indent-and-dedent-list":return Math.min(t["text-indent-list"]||0,t["text-dedent-list"]||0);case"text-line-height-adjust":return Math.min(t["text-line-height-increase"]||0,t["text-line-height-decrease"]||0);case"bold-and-italic":return Math.min(t["toggle-bold"]||0,t["text-toggle-italic"]||0);case"text-bold-adjust":return Math.min(t["text-bold-increase"]||0,t["text-bold-decrease"]||0);case"bulleted-and-numbered-list":return Math.min(t["text-toggle-unordered-list"]||0,t["text-toggle-ordered-list"]||0);default:return t[e]||0}}calculateAnimationDelays(e){let t=[];for(var a=0;a<5;a++){let a=0;e.allTabsCompletedAnimation?a=-Math.floor(2e3*Math.random()):e.tabCompletedFirstTimeAnimation&&null!=e.tabCompletedAnimationKeyPosition&&(a=110*Math.abs(e.keyPosition-e.tabCompletedAnimationKeyPosition)+100),t.push(a)}return t}UNSAFE_componentWillReceiveProps(t){let a=e.shortcutUsedCount(this.props.shortcutKey,this.props.usedKeyboardShortcuts),n=e.shortcutUsedCount(t.shortcutKey,t.usedKeyboardShortcuts);if(this.props.allTabsCompletedAnimation!=t.allTabsCompletedAnimation||this.props.tabCompletedFirstTimeAnimation!=t.tabCompletedFirstTimeAnimation){let e=this.calculateAnimationDelays(t);this.setState({animationDelays:e})}t.tabCompletedFirstTimeAnimation&&!this.props.tabCompletedAnimation&&t.tabCompletedAnimation?this.triggerCompletedTab():a!=n&&this.props.shortcutKey==t.shortcutKey&&(1==n?this.triggerPressedFirstTime():this.triggerPressed())}render(){let t,a;try{t=this.props.customName?this.props.customName:this.props.displayName?(0,iu.A)(this.props.displayName):(0,iu.A)(this.props.shortcutKey)}catch(e){console.error(e),t=this.props.shortcutKey}let n=e.shortcutUsedCount(this.props.shortcutKey,this.props.usedKeyboardShortcuts)>0,l=e.keybindingsForShortcut(this.props.shortcutKey,this.props.useNumbersForOpacity,this.props.appModelKeyboardShortcuts),i=null;return l&&(i=this.renderKeyBindings(l[0])),a=this.props.allTabsCompletedAnimation?iU.Ve:4==this.state.pressed?iU.T7:2==this.state.pressed?iU.Q3:3==this.state.pressed?iU.u$:1==this.state.pressed?iU.b3:n?iU.k3:iU.J8,l&&r.createElement("tr",{className:a,key:this.props.shortcutKey},this.props.icon&&(this.props.editorType===Z.nT.Design||this.props.editorType===Z.nT.DevHandoff)&&r.createElement("td",{className:iU.mH},r.createElement(aS.B,{svg:this.props.icon,className:iU.cw})),r.createElement("td",{className:iU.QL},t,this.props.usage&&r.createElement("div",{className:iU.CI},this.props.usage)),r.createElement("td",{className:iU.qH},i))}};iW.displayName="Shortcut",iW.specialKeys=["Backspace","Delete","Down","End","Enter","Home","Left","Page Down","Page Up","Right","Tab","Up"],iW.getLocalizedSpecialKey=e=>{switch(e){case"Backspace":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.backspace");case"Delete":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.delete");case"Down":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.down");case"End":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.end");case"Enter":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.enter");case"Home":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.home");case"Left":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.left");case"Page Down":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.page_down");case"Page Up":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.page_up");case"Right":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.right");case"Tab":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.tab");case"Up":return(0,h.t)("whiteboard.keyboard_shortcuts.key_label.up")}},iW.splitStringIntoKeys=e=>{let t=[],a=(0,c.kc)().ce_mac_page_shortcuts&&tK.y.isApple();for(;e.length>0;)if(e.startsWith("Ctrl+"))t.push((0,h.t)("whiteboard.keyboard_shortcuts.key_label.ctrl")),e=e.slice(5);else if(e.startsWith("Shift+"))t.push((0,h.t)("whiteboard.keyboard_shortcuts.key_label.shift")),e=e.slice(6);else if(e.startsWith("Alt+"))t.push((0,h.t)("whiteboard.keyboard_shortcuts.key_label.alt")),e=e.slice(4);else if(e.startsWith("Win+"))t.push((0,h.t)("whiteboard.keyboard_shortcuts.key_label.win")),e=e.slice(4);else if(a&&e.startsWith("Page Up"))t.push(iH),t.push("\u2191"),e=e.slice(7);else if(a&&e.startsWith("Page Down"))t.push(iH),t.push("\u2193"),e=e.slice(9);else{let a=!1;for(let n=0;n<iW.specialKeys.length;n++){let r=iW.specialKeys[n];if(e.startsWith(r)){t.push(iW.getLocalizedSpecialKey(r)),e=e.slice(r.length),a=!0;break}}a||(t.push(e[0]),e=e.slice(1))}return t},iW.keybindingsForShortcut=(e,t,a)=>{if(!a)return null;let n=function(e,t){let a=tK.y.isApple(),n=a?"\u2325":_.Ay.chromeos?(0,h.t)("whiteboard.keyboard_shortcuts.key_label.search"):(0,h.t)("whiteboard.keyboard_shortcuts.key_label.alt"),r=a?"\u2318":(0,h.t)("whiteboard.keyboard_shortcuts.key_label.ctrl"),l=a?"\u21A9":(0,h.t)("whiteboard.keyboard_shortcuts.key_label.enter"),i=a?"\u238B":(0,h.t)("whiteboard.keyboard_shortcuts.key_label.esc"),o=a?"\u21E7":(0,h.t)("whiteboard.keyboard_shortcuts.key_label.shift"),s=(0,h.t)("whiteboard.keyboard_shortcuts.key_label.drag"),c=(0,h.t)("whiteboard.keyboard_shortcuts.key_label.click"),d=(0,h.t)("whiteboard.keyboard_shortcuts.key_label.dbl_click"),u=Object.entries({"align-left-right":iK(["align-left","align-right"],e),"align-top-bottom":iK(["align-top","align-bottom"],e),"align-centers":iK(["align-horizontal-center","align-vertical-center"],e),copy:[[r,"C"]],"center-resize-drag":[[n]],"crop-image":[[n,d]],cut:[[r,"X"]],"deep-select":[[r,c]],"deep-select-rectangle":[[r,s]],"deselect-all":[[i]],duplicate:[[n]],"ignore-constraints":[[r]],"measure-to-selection":[[n]],"move-while-resizing":[["\u23B5"]],pan:[["\u23B5",s]],paste:[[r,"V"]],"request-edit-mode":[[l]],"resize-proportionally":[[o]],"swap-instance":[[n]],"text-letter-spacing-adjust":iK(["text-letter-spacing-decrease","text-letter-spacing-increase"],e),"text-line-height-adjust":iK(["text-line-height-decrease","text-line-height-increase"],e),"text-font-size-adjust":iK(["text-font-size-decrease","text-font-size-increase"],e),"text-bold-adjust":iK(["text-bold-decrease","text-bold-increase"],e),"bold-and-italic":iK(["toggle-bold","text-toggle-italic"],e),"stamp-or-reaction-wheel":[["E"]],"set-tool-section":[["F"]],"bulleted-and-numbered-list":iK(["text-toggle-ordered-list","text-toggle-unordered-list"],e),"distribute-spacing":iK(["distribute-horizontal-spacing","distribute-vertical-spacing"],e),"text-indent-and-dedent-list":iK(["text-indent-list","text-dedent-list"],e),"straight-connector":[[o,s]],"edit-text":[[l]],"set-opacity-00":t?[["0","0"]]:[[o,"0","0"]],[im.dz]:a?[["\u2318","\u2303","\u2192"]]:[[(0,h.t)("whiteboard.keyboard_shortcuts.key_label.ctrl"),"F6"]],[im.Jt]:a?[["\u2318","\u2303","\u2190"]]:[[o,(0,h.t)("whiteboard.keyboard_shortcuts.key_label.ctrl"),"F6"]],"quick-create-immutable-frame":iz("quick-create",e),"stamp-on-node":iz("quick-create",e),"outline-stroke-transition":iz("outline-stroke-with-migration-notice",e)||iz("outline-stroke",e),"toggle-outlines-transition":iz("toggle-outlines-with-migration-notice",e)||iz("toggle-outlines",e)}).reduce((e,[t,a])=>((0,iB.isNotNullish)(a)&&(e[t]=a),e),{});return a?{...u,"bend-tool":[["\u2318"]]}:u}(a,t);return e in a?iz(e,a):e in n?n[e]:null};let ij=iW;function iZ(){let[e,t]=r.useState({step:"NOT_CURRENTLY_ADDING"}),a=(0,eG.lg)(),n=(0,F.J2)(i.Ez5.editorState().useNumbersForOpacity),o=(0,l.d4)(e=>e.usedKeyboardShortcuts),s=(0,l.d4)(e=>e.mirror.appModel.keyboardShortcuts),c="ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&e.menuItem,d=r.createRef(),u=r.useCallback(a=>{a.stopPropagation(),a.preventDefault();let n=function(e){let t=(0,iS.v7)(),a=[];if(e.metaKey&&a.push("Meta"),e.altKey&&a.push("Alt"),e.shiftKey&&a.push("Shift"),e.ctrlKey&&a.push("Control"),"MetaRight"===e.code||"MetaLeft"===e.code||"ShiftRight"===e.code||"ShiftLeft"===e.code||"ControlRight"===e.code||"ControlLeft"===e.code||"AltRight"===e.code||"AltLeft"===e.code);else if(t===i.aTn.UNKNOWN){let t=i.glU.stringKeyFromWebEventKeycode(e.keyCode);a.push(t)}else{let n=i.glU.stringKeyFromWebEventCode(e.code,t);a.push(n)}return iT.Gm.getKeyboardShortcutFromText(a.join("+"),null)}(a),r=n&&"Escape"===n.key;if(n&&"ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&c&&!r){let e,t;if("None"===n.key)return;c.action?(e=i.XpX.FULLSCREEN,t=c.action):(e=i.XpX.NON_FULLSCREEN,t=c.searchKey),(0,iy.L3)(e,t,(0,iT.t4)(n))}t({step:"NOT_CURRENTLY_ADDING"})},[c,e.step]);return r.useEffect(()=>{"ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&d.current?.focus()},[d,e.step]),r.createElement("div",{className:iU.PG},r.createElement("div",{className:iU.fi},r.createElement(ib.Y,{direction:"vertical",height:"fill-parent",padding:{vertical:10}},r.createElement(iw.E,{color:"menu",fontSize:14},(0,h.tx)("keyboard_settings.custom_keyboard_shortcuts")),r.createElement(iC.$,{variant:"primary",icon:"plus-32",onClick:()=>t({step:"ADDING_WAITING_FOR_ACTION_INPUT"})},r.createElement(iw.E,null,(0,h.tx)("keyboard_settings.custom_keyboard_shortcuts.add"))),r.createElement(ib.M,null),r.createElement(iv.Ex,{className:tj.cx.mt4.$,text:"Internal only - #feat-custom-keyboard-shortcuts",color:iv.zE.WARNING,onClick:()=>(0,iE.FJ)("https://figma.slack.com/archives/C055MQJ2E5P","_blank")}))),r.createElement("div",{className:iU.fi,style:eo.sx.pt32.overflowYScroll.add({maxHeight:"162px"}).$},Object.values((0,iy.Uc)()).map(({action:e,type:t})=>r.createElement(ib.Y,{key:`custom-shortcuts-${e}`,width:"fill-parent",height:"hug-contents"},r.createElement(ij,{customName:"FULLSCREEN"===t?void 0:e,shortcutKey:e,editorType:(0,Z.wN)(a),keyPosition:0,useNumbersForOpacity:n,usedKeyboardShortcuts:o,appModelKeyboardShortcuts:s}),r.createElement(iN.K0,{className:"keyboard_shortcut_panel_custom_tab--deleteButton--xf9nN",onClick:()=>(0,iy.C4)("FULLSCREEN"===t?i.XpX.FULLSCREEN:i.XpX.NON_FULLSCREEN,e),"data-tooltip-type":aV.Ib.TEXT,"data-tooltip":(0,h.t)("whiteboard.keyboard_shortcuts.delete.shortcut")},r.createElement(ig.O,null)))),"ADDING_WAITING_FOR_ACTION_INPUT"===e.step&&r.createElement("div",{className:tj.cx.relative.mt4.$},r.createElement(iF,{onAutocompleteChange:e=>{let a=e.tokens[0];a&&t({step:"ADDING_WAITING_FOR_KEY_REGISTRATION",menuItem:a.content})}})),"ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&r.createElement(ib.Y,{height:"hug-contents",verticalAlignItems:"center"},r.createElement(iw.E,{color:"menu"},(0,ix.E)(e.menuItem)),r.createElement(ib.M,null),r.createElement("div",{className:tj.cx.py4.$},r.createElement("div",{className:ev()(iU.k3,iU.pi)},r.createElement(iC.$,{ref:d,variant:"primary",onKeyDown:u},r.createElement(iw.E,null,(0,h.tx)("keyboard_settings.custom_keyboard_shortcuts.press_key")))))),r.createElement("div",{style:eo.sx.h150.$})))}let iY="keyboard_rows--row--8eEsv",iX="ISO_ENTER",iq="SPACER";function iJ({createKey:e}){return r.createElement("div",{className:iY},e("Backquote"),e("Digit1"),e("Digit2"),e("Digit3"),e("Digit4"),e("Digit5"),e("Digit6"),e("Digit7"),e("Digit8"),e("Digit9"),e("Digit0"),e("Minus"),e("Equal"),e("IntlYen"),e("Backspace",113))}function iQ({createKey:e,isBackslashRow2:t}){let a=null==t?e("Backslash"):t?e("Backslash"):e(iX,90);return r.createElement("div",{className:iY},e("Tab",90),e("KeyQ"),e("KeyW"),e("KeyE"),e("KeyR"),e("KeyT"),e("KeyY"),e("KeyU"),e("KeyI"),e("KeyO"),e("KeyP"),e("BracketLeft"),e("BracketRight"),a)}function i$({createKey:e,isBackslashRow2:t}){let a=null==t?e("Backslash"):t?null:e("Backslash"),n=null==t?e("Enter",60):t?e("Enter",60):e(iq,20);return r.createElement("div",{className:iY},e("CapsLock",120),e("KeyA"),e("KeyS"),e("KeyD"),e("KeyF"),e("KeyG"),e("KeyH"),e("KeyJ"),e("KeyK"),e("KeyL"),e("Semicolon"),e("Quote"),a,n)}function i0({createKey:e}){return r.createElement("div",{className:iY},e("ShiftLeft",134),e("IntlBackslash"),e("KeyZ"),e("KeyX"),e("KeyC"),e("KeyV"),e("KeyB"),e("KeyN"),e("KeyM"),e("Comma"),e("Period"),e("Slash"),e("IntlRo"),e("ShiftRight",94))}function i1({createKey:e}){return _.Ay.mac?r.createElement("div",{className:iY},e("Fn"),e("ControlLeft"),e("AltLeft"),e("MetaLeft"),e("Space",500),e("MetaRight"),e("AltRight")):r.createElement("div",{className:iY},e("Fn"),e("ControlLeft"),e("MetaLeft"),e("AltLeft"),e("Space",500),e("AltRight"),e("ControlRight"))}var i2=a(245389);let i5="keyboard_shortcut_panel_layout_tab--row--MilbG",i3="keyboard_shortcut_panel_layout_tab--column--SzOhn keyboard_shortcut_panel--column--lHvov",i4="keyboard_shortcut_panel_layout_tab--wideColumn--tR6V-";var i6=a(497789);function i7(e){switch(e){case i.aTn.CHINESE:case i.aTn.KOREAN:case i.aTn.US_QWERTY:case i.aTn.UNKNOWN:case i.aTn.DVORAK:return!0;default:return!1}}function i8({label:e,width:t}){return r.createElement("div",{style:{flexGrow:t??1},className:"keyboard_shortcut_panel_layout_tab--key--zFiya keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp"},e)}function i9({layout:e}){let t=(0,r.useCallback)(t=>"Space"===t?" ":i.glU.getKeyboardLayoutAsJSON(e)[t],[e]),a=(e,a)=>{if(e!==iX&&e!==iq){let n=t(e);return n?r.createElement(i8,{key:e,width:a,label:n}):null}return e===iX?r.createElement("div",{style:{flexGrow:a??1},className:"keyboard_shortcut_panel_layout_tab--enterISOKeyContainer--PK7LJ keyboard_shortcut_panel_layout_tab--key--zFiya keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp"},r.createElement(aS.B,{className:"keyboard_shortcut_panel_layout_tab--enterISOKey--AbX2h",svg:i6.A})):e===iq?r.createElement("div",{style:{flexGrow:a??1},className:"keyboard_shortcut_panel_layout_tab--spacerKey--g8rv4 keyboard_shortcut_panel_layout_tab--key--zFiya keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp"},t("Enter")):null};return r.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardContainer--JLzz1"},r.createElement("div",{className:i5},r.createElement(iJ,{createKey:a})),r.createElement("div",{className:i5},r.createElement(iQ,{createKey:a,isBackslashRow2:i7(e)})),r.createElement("div",{className:i5},r.createElement(i$,{createKey:a,isBackslashRow2:i7(e)})),r.createElement("div",{className:i5},r.createElement(i0,{createKey:a})),r.createElement("div",{className:ev()(i5,"keyboard_shortcut_panel_layout_tab--row5--TBfPa")},r.createElement(i1,{createKey:a})))}let oe=async()=>{if(!et.eD)return null;let e=await et.eD.getKeyboardLayout();return e?(0,i2.pB)(e):null};class ot extends nb.c${}function oa({layout:e,setPreviewedLayout:t}){let a=(0,l.wA)(),n=(0,l.d4)(e=>e.dropdownShown),[o,s]=(0,r.useState)(e),[c,d]=(0,r.useState)();oe().then(e=>{c!==e&&d(e)});let u=(0,r.useMemo)(()=>{let e=c?r.createElement(ot,{key:c,value:c}):null,t=(0,iS.GP)().map(e=>{if(isNaN(parseInt(e)))return null;let t=parseInt(e);return t===c?null:{name:(0,iS.As)(t),layoutOption:t}}).filter(iB.isNotNullish).sort((e,t)=>e.layoutOption===i.aTn.UNKNOWN?1:t.layoutOption===i.aTn.UNKNOWN?-1:e.name.localeCompare(t.name)).map(({layoutOption:e})=>r.createElement(ot,{key:e,value:e}));return null!=e?[r.createElement(ot,{key:(0,h.t)("keyboard_settings.detected"),formattedValue:(0,h.t)("keyboard_settings.detected"),disabled:!0}),e,r.createElement(nb.sK,{key:"divider-1"}),r.createElement(ot,{key:(0,h.t)("keyboard_settings.other_layouts"),formattedValue:(0,h.t)("keyboard_settings.other_layouts"),disabled:!0}),...t]:t},[c]),m=r.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--selectorWrapper--ecEHm"},r.createElement(nb.l6,{id:"keyboard-layout-select",property:o,dispatch:a,autoFocus:!1,className:"keyboard_shortcut_panel_layout_tab--selectorContainer--BWtmR",dropdownClassName:w.s4,inputClassName:"keyboard_shortcut_panel_layout_tab--selectorInputContainer--z1tfj",chevronClassName:"keyboard_shortcut_panel_layout_tab--selectorChevron--ZnCbX",formatter:{format:e=>(0,iS.As)(e)},onMouseDown:e=>{e.stopPropagation()},onChange:e=>{s(e),(0,iS.rd)({layout:e})},onOptionFocus:t,dropdownShown:n,recordingKey:"keyboardLayoutSelector"},u));return r.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--selectorRow--QPlYR"},r.createElement("span",{className:"keyboard_shortcut_panel_layout_tab--selectorLabelText--3jkuk"},(0,h.t)("keyboard_settings.keyboard_layout_panel_selector")),r.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--selectorDropdownContainer--0rd1S"},m))}function on({layout:e,setPreviewedLayout:t}){let a=(0,h.t)("keyboard_settings.figma_keyboard_shortcuts_won_t_automatically_change_if_you_change_your_system_keyboard_layout");return r.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--leftColumnWrapper--8Jn1P"},r.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardSelectorContainerSection--gTvK9"},r.createElement(oa,{layout:e,setPreviewedLayout:t})),r.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardDescriptionSection--yD9L-"},e===i.aTn.UNKNOWN?null:a),r.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardLearnMoreSection--PV6Hj"},r.createElement("a",{className:"keyboard_shortcut_panel_layout_tab--learnMoreLink--bOFxg",href:"https://help.figma.com/hc/articles/5665442977431",target:"_blank",rel:"noopener"},(0,h.tx)("keyboard_settings.request_a_new_layout_or_learn_more"))))}function or(){let e=(0,F.J2)(i.Ez5.editorState().keyboardLayoutPreference),[t,a]=(0,r.useState)();return r.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--contents--8vVa7 keyboard_shortcut_panel--contents--8ae0D"},r.createElement("div",{className:ev()(i3,i4)},r.createElement(on,{layout:e,setPreviewedLayout:a})),r.createElement("div",{className:ev()(i3,i4,"keyboard_shortcut_panel_layout_tab--keyboardVisualColumn--5Hw4F")},r.createElement(i9,{layout:t??e})))}var ol=a(811641),oi=a(481103),oo=a(586779),os=a(964829),oc=a(630834);class od extends r.PureComponent{render(){return r.createElement("div",{className:iU.fi},r.createElement("table",null,this.props.children))}}od.displayName="Column";class ou extends r.PureComponent{render(){let e=r.Children.toArray(this.props.children).filter(e=>!!e);if(0===e.length)return null;let t=this.props.caption?(0,iu.A)(this.props.caption):null;return r.createElement("tbody",null,t&&r.createElement("tr",null,r.createElement("th",{className:iU.xQ,colSpan:3},t)),e)}}function om(e,t,a){if(void 0===t&&void 0===a)return!0;let n=e=>{let n=!0;return void 0!==a&&(n&&=a!==e),void 0!==t&&(Array.isArray(t)?n&&=t.includes(e):n&&=t===e),n};return e===Z.nT.Design?n(iV.DESIGN):e===Z.nT.DevHandoff?n(iV.DEV_MODE):e===Z.nT.Whiteboard?n(iV.FIGJAM):e===Z.nT.Slides&&n(iV.SLIDES)}function op(e){return!e||e.every(e=>(0,c.kc)()[e])}ou.displayName="Category";class o_ extends r.Component{constructor(e){super(e),this.keyShortcutPositionsInTab={},this.shortcutList={[ol.Jq.ESSENTIAL]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.essential"),includeInEditorType:[iV.DESIGN,iV.SLIDES],columns:[[{shortcuts:[{shortcutKey:"toggle-ui",usage:(0,h.tx)("fullscreen.keyboard_shortcuts_panel.toggle_ui_description"),includeInEditorType:iV.DESIGN},{shortcutKey:"create-slide",usage:(0,h.tx)("slides.keyboard_shortcuts.create-slide-description"),includeInEditorType:iV.SLIDES}]}],[{shortcuts:[this.props.hasSubscribedLibraries?{shortcutKey:"component-insert",displayName:this.componentInsertDisplayName(),usage:(0,h.tx)("fullscreen.keyboard_shortcuts_panel.component_insert_description"),includeInEditorType:iV.DESIGN}:{shortcutKey:"toggle-dropper",usage:(0,h.tx)("fullscreen.keyboard_shortcuts_panel.toggle_dropper_description"),includeInEditorType:iV.DESIGN},{shortcutKey:"toggle-slide-view",usage:(0,h.tx)("slides.keyboard_shortcuts.toggle-slide-view-description"),includeInEditorType:iV.SLIDES}]}],[{shortcuts:[{shortcutKey:"toggle-menu",displayName:(0,rJ.gn)()?"toggle-actions-menu":"toggle-menu",usage:(0,h.tx)("fullscreen.keyboard_shortcuts_panel.toggle_menu_description"),includeInEditorType:[iV.DESIGN,iV.SLIDES]}]}]]},[ol.Jq.TOOLS]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.tools"),columns:[[{shortcuts:[{shortcutKey:"set-tool-default",displayName:"set-tool-default-desc-figma",icon:(0,i_.SD)(O.NLJ.SELECT),includeInEditorType:[iV.DESIGN,iV.SLIDES]},{shortcutKey:"set-tool-default-figjam",displayName:"set-tool-default-desc-figjam",icon:(0,i_.SD)(O.NLJ.SELECT),includeInEditorType:iV.FIGJAM},{shortcutKey:"set-tool-frame",displayName:"set-tool-frame-desc",icon:(0,i_.SD)(O.NLJ.FRAME),includeInEditorType:iV.DESIGN},{shortcutKey:"set-tool-pen",displayName:"set-tool-pen-desc",icon:(0,i_.SD)(O.NLJ.VECTOR_PEN),includeInEditorType:iV.DESIGN},{shortcutKey:"set-tool-sticky",includeInEditorType:iV.FIGJAM},{shortcutKey:"set-tool-connector-straight",includeInEditorType:iV.FIGJAM},{shortcutKey:"set-tool-connector-elbowed",includeInEditorType:iV.FIGJAM},{shortcutKey:"set-tool-pencil",displayName:"set-tool-pencil-desc",icon:(0,i_.SD)(O.NLJ.VECTOR_PENCIL),includeInEditorType:iV.DESIGN},{shortcutKey:"set-tool-pencil",displayName:"set-tool-marker",includeInEditorType:iV.FIGJAM},{shortcutKey:"set-tool-hand",displayName:"set-tool-hand",icon:(0,i_.SD)(O.NLJ.HAND),includeInEditorType:[iV.SLIDES]},{shortcutKey:"set-tool-scale",displayName:"set-tool-scale",icon:(0,i_.SD)(O.NLJ.SCALE),includeInEditorType:[iV.SLIDES]},{shortcutKey:"toggle-dropper",displayName:"toggle-dropper",icon:(0,i_.SD)(O.NLJ.DROPPER_COLOR),includeInEditorType:iV.SLIDES},{shortcutKey:"toggle-menu",displayName:(0,rJ.gn)()?"toggle-actions-menu":"toggle-menu",icon:i_.bs(rJ.gn()?"toggle-actions-menu":"toggle-menu")?.svg??null,includeInEditorType:[iV.SLIDES]}]}],[{shortcuts:[{shortcutKey:"set-tool-type",displayName:"set-tool-type-desc",icon:(0,i_.SD)(O.NLJ.TYPE),hideInEditorType:iV.DEV_MODE},{shortcutKey:"set-tool-table",icon:(0,i_.SD)(O.NLJ.TABLE),includeInEditorType:iV.FIGJAM},{shortcutKey:"set-tool-section",includeInEditorType:iV.FIGJAM},{shortcutKey:"set-tool-rectangle",displayName:"set-tool-rectangle-desc",icon:(0,i_.SD)(O.NLJ.SHAPE_RECTANGLE),includeInEditorType:iV.DESIGN},{shortcutKey:"set-tool-shape-whiteboard-square",displayName:"set-tool-rectangle-desc",icon:(0,i_.SD)(O.NLJ.SHAPE_RECTANGLE),includeInEditorType:iV.SLIDES},{shortcutKey:"set-tool-ellipse",displayName:"set-tool-ellipse-desc",icon:(0,i_.SD)(O.NLJ.SHAPE_ELLIPSE),hideInEditorType:iV.DEV_MODE},{shortcutKey:"set-tool-shape-whiteboard-ellipse",displayName:"set-tool-ellipse-desc",icon:(0,i_.SD)(O.NLJ.SHAPE_ELLIPSE),includeInEditorType:iV.SLIDES},{shortcutKey:"set-tool-line",displayName:"set-tool-line-desc",icon:(0,i_.SD)(O.NLJ.SHAPE_LINE),includeInEditorType:[iV.DESIGN,iV.SLIDES]},{shortcutKey:"toggle-publish",includeInEditorType:iV.FIGJAM},{shortcutKey:"place",includeInEditorType:iV.FIGJAM},{shortcutKey:"set-tool-arrow",displayName:"set-tool-arrow-desc",icon:(0,i_.SD)(O.NLJ.SHAPE_ARROW),includeInEditorType:[iV.DESIGN,iV.SLIDES]},{shortcutKey:"set-tool-comments",icon:(0,i_.SD)(O.NLJ.COMMENTS),includeInEditorType:iV.DEV_MODE},{shortcutKey:"set-tool-annotate",icon:(0,i_.SD)(O.NLJ.ANNOTATE),includeInEditorType:iV.DEV_MODE},{shortcutKey:"set-tool-measure",icon:(0,i_.SD)(O.NLJ.MEASURE),includeInEditorType:iV.DEV_MODE}]}],[{shortcuts:[{shortcutKey:"start-chat",includeInEditorType:iV.FIGJAM},{shortcutKey:"stamp-or-reaction-wheel",includeInEditorType:iV.FIGJAM},{shortcutKey:"set-tool-code-block",includeInEditorType:iV.FIGJAM},{shortcutKey:"set-tool-table",icon:(0,i_.SD)(O.NLJ.TABLE),includeInEditorType:iV.SLIDES},{shortcutKey:"set-tool-pen",icon:(0,i_.SD)(O.NLJ.VECTOR_PEN),includeInEditorType:iV.SLIDES},{shortcutKey:"set-tool-pencil",icon:(0,i_.SD)(O.NLJ.VECTOR_PENCIL),includeInEditorType:iV.SLIDES},{shortcutKey:"browse-all-resources-modal",icon:i_.bs("browse-all-resources-modal")?.svg??null,includeInEditorType:iV.SLIDES},{shortcutKey:"set-tool-comments",icon:(0,i_.SD)(O.NLJ.COMMENTS),hideInEditorType:iV.DEV_MODE},{shortcutKey:"toggle-dropper",icon:os.A,includeInEditorType:iV.DESIGN},{shortcutKey:"set-tool-slice",displayName:"set-tool-slice-desc",icon:(0,i_.SD)(O.NLJ.SLICE),includeInEditorType:iV.DESIGN}]}]]},[ol.Jq.VIEW]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.view"),columns:[[{shortcuts:[{shortcutKey:"toggle-slide-view",displayName:"toggle-slide-view-short-description",includeInEditorType:iV.SLIDES},{shortcutKey:"enter-slides-design-mode",displayName:"enter-slides-design-mode-description",includeInEditorType:iV.SLIDES},{shortcutKey:"enter-slides-mode",displayName:"enter-slides-design-mode-description",includeInEditorType:iV.SLIDES},{shortcutKey:"toggle-animate-info",displayName:"toggle-animate-info-description",includeInEditorType:iV.SLIDES},{shortcutKey:"toggle-ui",hideInEditorType:iV.SLIDES},{shortcutKey:"toggle-multiplayer-cursors",hideInEditorType:iV.SLIDES},{shortcutKey:"enter-design-mode",hideInEditorType:iV.SLIDES},{shortcutKey:"enter-inspect-mode",hideInEditorType:iV.SLIDES}]}],[{shortcuts:[{shortcutKey:"pan",includeInEditorType:iV.FIGJAM},{shortcutKey:"zoom-in",includeInEditorType:iV.FIGJAM},{shortcutKey:"zoom-out",includeInEditorType:iV.FIGJAM},{shortcutKey:"zoom-reset",includeInEditorType:iV.FIGJAM},{shortcutKey:"toggle-rulers",includeInEditorType:iV.DESIGN},{shortcutKey:"toggle-outlines-transition",includeInEditorType:iV.DESIGN},{shortcutKey:"toggle-pixel-preview",includeInEditorType:iV.DESIGN},{shortcutKey:"toggle-shown-layout-grids",includeInEditorType:[iV.DESIGN,iV.SLIDES]},{shortcutKey:"toggle-grid",includeInEditorType:iV.DESIGN},{shortcutKey:"zoom-in",includeInEditorType:iV.SLIDES},{shortcutKey:"zoom-out",includeInEditorType:iV.SLIDES}]}],[{shortcuts:[{shortcutKey:"zoom-to-fit",includeInEditorType:iV.FIGJAM},{shortcutKey:"zoom-to-selection",includeInEditorType:iV.FIGJAM},{shortcutKey:"toggle-layers",includeInEditorType:iV.DESIGN},{shortcutKey:"toggle-publish",displayName:"toggle-publish-desc",includeInEditorType:iV.DESIGN},{shortcutKey:"toggle-library",includeInEditorType:iV.DESIGN},{shortcutKey:"show-design-panel",includeInEditorType:iV.DESIGN},{shortcutKey:"show-prototype-panel",includeInEditorType:iV.DESIGN},{shortcutKey:"zoom-reset",includeInEditorType:iV.SLIDES},{shortcutKey:"zoom-to-selection",includeInEditorType:iV.SLIDES},{shortcutKey:"zoom-to-fit",includeInEditorType:iV.SLIDES}]}]]},[ol.Jq.ZOOM]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.zoom"),includeInEditorType:[iV.DESIGN,iV.DEV_MODE],columns:[[{shortcuts:[{shortcutKey:"pan"},{shortcutKey:"zoom-in"},{shortcutKey:"zoom-out"},{shortcutKey:"zoom-reset"}]}],[{shortcuts:[{shortcutKey:"zoom-to-fit"},{shortcutKey:"zoom-to-selection"},{shortcutKey:"next-artboard"},{shortcutKey:"previous-artboard"}]}],[{shortcuts:[{shortcutKey:"page-previous"},{shortcutKey:"page-next"},{shortcutKey:"previous-artboard-same-zoom"},{shortcutKey:"next-artboard-same-zoom"}]}]]},[ol.Jq.TEXT]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.text"),hideInEditorType:iV.DEV_MODE,columns:[[{shortcuts:[{shortcutKey:"bold-and-italic"},{shortcutKey:"text-toggle-underline"},{shortcutKey:"text-edit-hyperlink",hideInEditorType:iV.SLIDES},{shortcutKey:"text-toggle-strikethrough"},{shortcutKey:"bulleted-and-numbered-list",hideInEditorType:iV.SLIDES}]}],[{shortcuts:[{shortcutKey:"text-align-left",includeInEditorType:iV.DESIGN},{shortcutKey:"text-align-center",includeInEditorType:iV.DESIGN},{shortcutKey:"text-align-right",includeInEditorType:iV.DESIGN},{shortcutKey:"text-align-justified",includeInEditorType:iV.DESIGN},{shortcutKey:"text-style-normal",includeInEditorType:iV.FIGJAM},{shortcutKey:"text-style-h3",includeInEditorType:iV.FIGJAM},{shortcutKey:"text-style-h2",includeInEditorType:iV.FIGJAM},{shortcutKey:"text-style-h1",includeInEditorType:iV.FIGJAM},{shortcutKey:"text-style-title",includeInEditorType:iV.FIGJAM},{shortcutKey:"text-edit-hyperlink",includeInEditorType:iV.SLIDES},{shortcutKey:"bulleted-and-numbered-list",includeInEditorType:iV.SLIDES}]}],[{shortcuts:[{shortcutKey:"text-font-size-adjust",includeInEditorType:[iV.DESIGN,iV.SLIDES]},{shortcutKey:"text-bold-adjust",includeInEditorType:[iV.DESIGN,iV.SLIDES]},{shortcutKey:"text-letter-spacing-adjust",includeInEditorType:iV.DESIGN},{shortcutKey:"text-line-height-adjust",includeInEditorType:iV.DESIGN},{shortcutKey:"text-align-left",includeInEditorType:iV.FIGJAM},{shortcutKey:"text-align-center",includeInEditorType:iV.FIGJAM},{shortcutKey:"text-align-right",includeInEditorType:iV.FIGJAM},{shortcutKey:"text-indent-and-dedent-list",includeInEditorType:iV.FIGJAM}]}]]},[ol.Jq.SHAPE]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.shape"),includeInEditorType:iV.DESIGN,columns:[[{shortcuts:[{shortcutKey:"set-tool-pen",icon:(0,i_.SD)(O.NLJ.VECTOR_PEN)},{shortcutKey:"set-tool-pencil",icon:(0,i_.SD)(O.NLJ.VECTOR_PENCIL)}]},{caption:"while-editing-shape",shortcuts:[{shortcutKey:"set-tool-paint-bucket",icon:(0,i_.SD)(O.NLJ.VECTOR_PAINT_BUCKET)},{shortcutKey:"bend-tool",icon:(0,i_.SD)(O.NLJ.VECTOR_BEND)}]}],[{shortcuts:[{shortcutKey:"remove-fill"},{shortcutKey:"remove-stroke"},{shortcutKey:"swap-fill-and-stroke"},{shortcutKey:"outline-stroke-transition"},{shortcutKey:"flatten-selection"}]}],[{caption:"after-selecting-points",shortcuts:[{shortcutKey:"join-selection"},{shortcutKey:"smooth-join-selection"},{shortcutKey:"delete-and-heal-selection"}]}]]},[ol.Jq.SELECT]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.selection"),includeInEditorType:[iV.DESIGN,iV.SLIDES],columns:[[{shortcuts:[{shortcutKey:"select-all"},{shortcutKey:"select-inverse",includeInEditorType:iV.DESIGN},{shortcutKey:"deselect-all"},{shortcutKey:"deep-select"}]}],[{shortcuts:[{shortcutKey:"select-child"},{shortcutKey:"select-parent"},{shortcutKey:"select-next-sibling"},{shortcutKey:"select-previous-sibling",includeInEditorType:iV.DESIGN},{shortcutKey:"select-matching",includeInEditorType:iV.DESIGN}]}],[{shortcuts:[{shortcutKey:"group-selection"},{shortcutKey:"ungroup-selection"},{shortcutKey:"frame-selection"},{shortcutKey:"toggle-shown-for-selected-nodes",includeInEditorType:iV.DESIGN},{shortcutKey:"toggle-locked-for-selected-nodes",includeInEditorType:iV.DESIGN}]}]]},[ol.Jq.CURSOR]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.cursor"),includeInEditorType:iV.DESIGN,columns:[[{caption:"while-pointing",shortcuts:[{shortcutKey:"measure-to-selection"}]},{caption:"while-moving",shortcuts:[{shortcutKey:"duplicate"}]}],[{caption:"while-clicking",shortcuts:[{shortcutKey:"deep-select"}]},{caption:"while-dragging-to-select",shortcuts:[{shortcutKey:"deep-select-rectangle"}]}],[{caption:"while-resizing",shortcuts:[{shortcutKey:"center-resize-drag"},{shortcutKey:"resize-proportionally"},{shortcutKey:"ignore-constraints",displayName:"ignore-constraints-desc"}]}]]},[ol.Jq.COPY]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.copy"),includeInEditorType:iV.DEV_MODE,columns:[[],[{shortcuts:[{shortcutKey:"copy",includeInEditorType:iV.DEV_MODE},{shortcutKey:"copy-as-png",includeInEditorType:iV.DEV_MODE}]}],[]]},[ol.Jq.EDIT]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.edit"),hideInEditorType:iV.DEV_MODE,columns:[[{shortcuts:[{shortcutKey:"copy"},{shortcutKey:"cut"},{shortcutKey:"paste"},{shortcutKey:"paste-to-replace",includeInEditorType:[iV.DESIGN,iV.SLIDES]},{shortcutKey:"paste-over-selection"},{shortcutKey:"export-selection-or-current-page",displayName:"export-selection-or-current-page-desc",includeInEditorType:iV.FIGJAM}]}],[{shortcuts:[{shortcutKey:"bring-forward",includeInEditorType:iV.FIGJAM},{shortcutKey:"send-backward",includeInEditorType:iV.FIGJAM},{shortcutKey:"bring-to-front",includeInEditorType:iV.FIGJAM},{shortcutKey:"send-to-back",includeInEditorType:iV.FIGJAM},{shortcutKey:"group-selection",includeInEditorType:iV.FIGJAM},{shortcutKey:"undo",includeInEditorType:iV.SLIDES},{shortcutKey:"redo",includeInEditorType:iV.SLIDES},{shortcutKey:"duplicate",includeInEditorType:iV.SLIDES},{shortcutKey:"duplicate-in-place",includeInEditorType:[iV.DESIGN,iV.SLIDES]},{shortcutKey:"rename-selection",includeInEditorType:iV.DESIGN},{shortcutKey:"export-selected-exportables",displayName:"export-selected-exportables-desc",includeInEditorType:iV.DESIGN},{shortcutKey:"canvas-search",includeInEditorType:iV.DESIGN}]}],[{shortcuts:[{shortcutKey:"toggle-locked-for-selected-nodes",includeInEditorType:iV.FIGJAM},{shortcutKey:"canvas-search",includeInEditorType:[iV.FIGJAM,iV.SLIDES]},{shortcutKey:"undo",includeInEditorType:iV.FIGJAM},{shortcutKey:"redo",includeInEditorType:iV.FIGJAM},{shortcutKey:"copy-as-png",includeInEditorType:iV.DESIGN},{shortcutKey:"copy-properties",includeInEditorType:[iV.DESIGN,iV.SLIDES]},{shortcutKey:"paste-properties",includeInEditorType:[iV.DESIGN,iV.SLIDES]}]}]]},[ol.Jq.TRANSFORM]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.transform"),includeInEditorType:iV.DESIGN,columns:[[{shortcuts:[{shortcutKey:"flip-horizontal"},{shortcutKey:"flip-vertical"},{shortcutKey:"mask-selection"}]}],[{shortcuts:[{shortcutKey:"request-edit-mode",displayName:"edit-shape-or-image"},{shortcutKey:"place"}]}],[{shortcuts:[{shortcutKey:"set-opacity-00"},{shortcutKey:"set-opacity-1"},{shortcutKey:"set-opacity-5"},{shortcutKey:"set-opacity-0"}]}]]},[ol.Jq.ARRANGE]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.arrange"),includeInEditorType:[iV.DESIGN,iV.SLIDES],columns:[[{shortcuts:[{shortcutKey:"bring-forward"},{shortcutKey:"send-backward"},{shortcutKey:"bring-to-front"},{shortcutKey:"send-to-back"}]}],[{shortcuts:[{shortcutKey:"align-left-right"},{shortcutKey:"align-top-bottom"},{shortcutKey:"align-centers"},{shortcutKey:"distribute-spacing",includeInEditorType:iV.DESIGN},{shortcutKey:"tidy-up",includeInEditorType:iV.DESIGN}]}],[{shortcuts:[{shortcutKey:"stack-selection",includeInEditorType:iV.DESIGN},{shortcutKey:"unstack-selection",includeInEditorType:iV.DESIGN},{shortcutKey:"run-multi-stack-auto-layout",featureFlags:["auto_auto_layout"],includeInEditorType:iV.DESIGN},{shortcutKey:"distribute-spacing",includeInEditorType:iV.SLIDES},{shortcutKey:"tidy-up",includeInEditorType:iV.SLIDES}]}]]},[ol.Jq.COMPONENTS]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.components"),includeInEditorType:iV.DESIGN,columns:[[{shortcuts:[{shortcutKey:"toggle-publish",displayName:"toggle-publish-desc"},{shortcutKey:"toggle-library"},{shortcutKey:"create-symbol"},{shortcutKey:"detach-instance"}]}],[{shortcuts:[{shortcutKey:"component-insert",displayName:this.componentInsertDisplayName()}]},{caption:"while-inserting-a-component",shortcuts:[{shortcutKey:"swap-instance"}]}]]},[ol.Jq.ACCESSIBILITY]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.accessibility"),includeInEditorType:iV.FIGJAM,columns:[[{shortcuts:[{shortcutKey:"select-next-node"},{shortcutKey:"select-previous-node"},{shortcutKey:"select-parent"},{shortcutKey:"select-child"}]}],[{shortcuts:[{shortcutKey:im.dz},{shortcutKey:im.Jt}]}]]},[ol.Jq.ADVANCED]:{displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.advanced"),includeInEditorType:iV.FIGJAM,columns:[[{caption:"while-editing-shape-or-sticky",shortcuts:[{shortcutKey:"quick-create-immutable-frame"}]},{caption:"while-text-shape-or-sticky-selected",shortcuts:[{shortcutKey:"edit-text"}]}],[{caption:"while-stamping",shortcuts:[{shortcutKey:"stamp-on-node"}]}],[{shortcuts:[{shortcutKey:"align-left-right"},{shortcutKey:"align-top-bottom"},{shortcutKey:"align-centers"},{shortcutKey:"tidy-up"},{shortcutKey:"straight-connector"}]}]]}},this.state={activeTab:this.props.initActiveTab??this.getDefaultActiveTab(this.props.editorType),completedTabs:this.getCompletedTabs(this.props.usedKeyboardShortcuts),allTabsCompleted:this.allTabsCompleted(this.getCompletedTabs(this.props.usedKeyboardShortcuts)),tabCompletedAnimation:!1,tabCompletedFirstTimeAnimation:!1,allTabsCompletedAnimation:!1},this.onNavClick=e=>{this.setState({activeTab:e,completedTabs:this.state.completedTabs,allTabsCompleted:this.state.allTabsCompleted,tabCompletedFirstTimeAnimation:!1,tabCompletedAnimation:!1,allTabsCompletedAnimation:this.state.allTabsCompletedAnimation})},this.getTabs=()=>{let e=[],t=this.props.editorType===Z.nT.Design?iU.CJ:"";for(let a in this.shortcutList)om(this.props.editorType,this.shortcutList[a].includeInEditorType,this.shortcutList[a].hideInEditorType)&&op(this.shortcutList[a].featureFlags)&&e.push({displayName:this.shortcutList[a].displayName,id:a,active:this.state.activeTab==a,className:ev()(iU.Mf,t)});if(this.props.editorType===Z.nT.Design){let a={id:"spacer",className:ev()(iU.Mf,t)};e.push(a)}return e.push({displayName:(0,h.tx)("whiteboard.keyboard_shortcuts.tab.layout"),id:"layout",active:"layout"===this.state.activeTab,className:ev()(iU.Mf,t)}),this.props.isCKSLabEnabled&&e.push({displayName:(0,h.tx)("keyboard_settings.custom_tab"),id:"custom",active:"custom"===this.state.activeTab,className:ev()(iU.Mf,t)}),e},this.replayAllTabsCompletedAnimation=()=>{this.state.allTabsCompletedAnimation?this.stopAllTabsCompletedAnimation():this.playAllTabsCompletedAnimation(this.state.completedTabs)},this.onClose=()=>{this.props.dispatch(id.FU({tab:null})),T.Y5.triggerAction("toggle-keyboard-shortcuts")},this.onTablistKeyDown=e=>{if("ArrowLeft"===e.key&&0===(0,lI.sN)(e)){let t=this.tabRefs.current?.findIndex(e=>!!e&&e.id===this.state.activeTab);if(!this.tabRefs.current||null==t)return;let a=t-1;for(;!this.tabRefs.current[a]&&a>0;)a--;0===t&&(a=this.tabRefs.current.length-1),this.tabRefs.current[a].focus(),this.onNavClick(this.tabRefs.current[a].id),e.preventDefault()}else if("ArrowRight"===e.key&&0===(0,lI.sN)(e)){let t=this.tabRefs.current?.findIndex(e=>!!e&&e.id===this.state.activeTab);if(!this.tabRefs.current||null==t)return;let a=t+1;for(;!this.tabRefs.current[a]&&a<this.tabRefs.current.length-1;)a++;t===this.tabRefs.current.length-1&&(a=0),this.tabRefs.current[a].focus(),this.onNavClick(this.tabRefs.current[a].id),e.preventDefault()}else if("Home"===e.key)this.tabRefs.current&&this.onNavClick(this.tabRefs.current[0].id),e.preventDefault();else if("End"===e.key)this.tabRefs.current&&this.onNavClick(this.tabRefs.current[this.tabRefs.current.length-1].id),e.preventDefault();else if("Tab"===e.key&&0===(0,lI.sN)(e))this.tabPanelRef.current?.focus(),e.preventDefault();else if("Escape"===e.key){if(this.tabListRef.current?.blur(),this.tabRefs.current){let e=this.tabRefs.current.findIndex(e=>!!e&&e.id===this.state.activeTab);this.tabRefs.current[e].blur()}e.preventDefault()}else"Enter"===e.key?e.preventDefault():(0,ip.f7)(e)},this.tabRefs=r.createRef(),this.tabListRef=r.createRef(),this.tabPanelRef=r.createRef()}componentInsertDisplayName(){return this.props.isUI3?"component-insert-display-name-ui3":"component-insert-display-name"}componentDidMount(){this.tabListRef.current?.focus()}getDefaultActiveTab(e){return e===Z.nT.Design||e===Z.nT.Slides?"essential":e===Z.nT.DevHandoff?"view":"tools"}getCompletedTabs(e,t){let a=t??this.props.editorType,n={};for(let t in this.shortcutList){let r=!0;for(let n of this.shortcutList[t].columns)for(let t of n)if(om(a,t.includeInEditorType,t.hideInEditorType)){for(let n of t.shortcuts)if(om(a,n.includeInEditorType,n.hideInEditorType)&&ij.keybindingsForShortcut(n.shortcutKey,this.props.useNumbersForOpacity,this.props.appModelKeyboardShortcuts)&&!(ij.shortcutUsedCount(n.shortcutKey,e)>0)){r=!1;break}}n[t]=r}return n}findChangedKey(e,t,a){for(let n of this.shortcutList[e].columns)for(let e of n)for(let n of e.shortcuts)if(ij.keybindingsForShortcut(n.shortcutKey,this.props.useNumbersForOpacity,this.props.appModelKeyboardShortcuts)){let e=ij.shortcutUsedCount(n.shortcutKey,t);if(ij.shortcutUsedCount(n.shortcutKey,a)>e)return n.shortcutKey}return null}allTabsCompleted(e){let t=!0;for(var a in e)if(!e[a]){t=!1;break}return t}playAllTabsCompletedAnimation(e){this.setState({completedTabs:e,allTabsCompleted:!0,tabCompletedFirstTimeAnimation:!1,tabCompletedAnimation:!1,allTabsCompletedAnimation:!0})}stopAllTabsCompletedAnimation(){this.setState({allTabsCompletedAnimation:!1})}playCompletedTabFirstTimeAnimation(e,t){setTimeout(()=>this.setState({completedTabs:t,tabCompletedFirstTimeAnimation:!0,tabCompletedAnimationKeyPosition:this.keyShortcutPositionsInTab[e],tabCompletedAnimation:!0}),1500),setTimeout(()=>this.setState({tabCompletedFirstTimeAnimation:!1,tabCompletedAnimation:!1}),6e3)}UNSAFE_componentWillReceiveProps(e){let t=this.state.activeTab,a=t;t&&this.props.editorType!==e.editorType&&!om(e.editorType,this.shortcutList?.[t]?.includeInEditorType,this.shortcutList?.[t]?.hideInEditorType)&&(a=this.getDefaultActiveTab(e.editorType));let n=this.getCompletedTabs(this.props.usedKeyboardShortcuts),r=this.getCompletedTabs(e.usedKeyboardShortcuts);if(this.allTabsCompleted(r)&&!this.allTabsCompleted(n))this.playAllTabsCompletedAnimation(r);else{let t=this.state.activeTab in ol.Jq?this.findChangedKey(this.state.activeTab,this.props.usedKeyboardShortcuts,e.usedKeyboardShortcuts):null;t&&r[this.state.activeTab]&&!n[this.state.activeTab]&&this.playCompletedTabFirstTimeAnimation(t,r)}this.setState({completedTabs:r,allTabsCompleted:this.allTabsCompleted(r),activeTab:a})}renderTabContents(){let e;let t={usedKeyboardShortcuts:this.props.usedKeyboardShortcuts,appModelKeyboardShortcuts:this.props.appModelKeyboardShortcuts};this.keyShortcutPositionsInTab={};let a=0,n=e=>(a++,this.keyShortcutPositionsInTab[e.shortcutKey]=a,om(this.props.editorType,e.includeInEditorType,e.hideInEditorType)&&op(e.featureFlags))?r.createElement(ij,{shortcutKey:e.shortcutKey,key:`shortcut-${this.state.activeTab}-${a}`,icon:e.icon,displayName:e.displayName,editorType:this.props.editorType,usage:e.usage,keyPosition:a,tabCompletedFirstTimeAnimation:this.state.tabCompletedFirstTimeAnimation,tabCompletedAnimation:this.state.tabCompletedAnimation,tabCompletedAnimationKeyPosition:this.state.tabCompletedAnimationKeyPosition,allTabsCompletedAnimation:this.state.allTabsCompletedAnimation,useNumbersForOpacity:this.props.useNumbersForOpacity,...t}):null,l=this.shortcutList[this.state.activeTab]?this.shortcutList[this.state.activeTab].columns.map((e,a)=>r.createElement(od,{...t,key:`column-${a}`},e.map((e,l)=>om(this.props.editorType,e.includeInEditorType,e.hideInEditorType)?r.createElement(ou,{caption:e.caption,key:`category-${a}-${l}`,...t},e.shortcuts.map(n)):null))):[];e=this.state.tabCompletedFirstTimeAnimation?iU.iV:this.state.completedTabs[this.state.activeTab]?iU.xd:iU.Y0,"layout"===this.state.activeTab&&(e=iU.Y0);let i="essential"===this.state.activeTab?r.createElement(r.Fragment,null,r.createElement("div",{className:iU.pG},(0,h.tx)("whiteboard.keyboard_shortcuts.essential_keyboard_shortcuts")),r.createElement("div",{className:iU.Bz},l)):"layout"===this.state.activeTab?r.createElement("div",{className:iU.PG},r.createElement(or,null)):"custom"===this.state.activeTab&&this.props.isCKSLabEnabled?r.createElement(iZ,null):r.createElement("div",{className:iU.PG},l);return r.createElement("div",{role:"tabpanel",ref:this.tabPanelRef,id:ol.xC,"aria-labelledby":this.state.activeTab,className:e,tabIndex:0,"data-fullscreen-intercept":!0},i)}render(){let e=this.getTabs(),t=this.props.editorType===Z.nT.Design?iU.CJ:"",a=iU.C$;for(let n=0;n<e.length;n++){let r=e[n];if((0,ol.$w)(r)&&r.active){e[n].className=this.state.tabCompletedFirstTimeAnimation?ev()(iU.Ug,t):ev()(iU.yR,t),n>0?e[n-1].className=ev()(iU.gK,t):a=iU.JA,n<e.length-1?e[n+1].className=ev()(iU.hM,t):a=iU.NZ;break}}return r.createElement("div",{className:iU.Ku,"data-fullscreen-intercept":!0},r.createElement("div",{role:"tablist",ref:this.tabListRef,"aria-label":(0,h.t)("keyboard_settings.keyboard_shortcuts"),className:a,onKeyDown:this.onTablistKeyDown,tabIndex:0},r.createElement(ol.Qz,{tabInfo:e,completedTabs:this.state.completedTabs,onNavClick:this.onNavClick,recordingKey:this.props.recordingKey,ref:this.tabRefs}),r.createElement("button",{className:iU.Nk,onClick:this.onClose,"aria-label":(0,h.t)("general.close"),"data-fullscreen-intercept":!0},r.createElement(aS.B,{svg:oc.default})),this.state.allTabsCompleted&&r.createElement("div",{className:this.state.allTabsCompletedAnimation?iU.Yk:iU.C_,onClick:this.replayAllTabsCompletedAnimation},r.createElement(aS.B,{svg:this.state.allTabsCompletedAnimation?oi.A:oo.A}))),this.renderTabContents())}}function of(e){let t=(0,t6.GS)(),a=(0,l.d4)(e=>Object.keys(e.library.subscriptions.forCurrentOrg).length>0),n=(0,ih.o3)(ih.nt.customKeyboardShortcuts),i=(0,l.d4)(e=>e.usedKeyboardShortcuts),o=(0,l.d4)(e=>e.keyboardShortcutPanel.tab),s=(0,l.d4)(e=>e.mirror.appModel.keyboardShortcuts),c=(0,l.d4)(e=>"fullscreen"===e.selectedView.view?e.selectedView.editorType:Z.nT.Design),d=(0,F.J2)(O.Ez5?.slidesToolMode()),u=c===Z.nT.Slides&&d===O.EMA.DESIGN?Z.nT.Design:c,m=(0,F.J2)(O.Ez5.editorState().useNumbersForOpacity),p=(0,l.wA)();return r.createElement(o_,{recordingKey:e.recordingKey,usedKeyboardShortcuts:i,initActiveTab:o,appModelKeyboardShortcuts:s,editorType:u,hasSubscribedLibraries:a&&c!==Z.nT.Slides,useNumbersForOpacity:m,dispatch:p,isCKSLabEnabled:n,isUI3:t})}o_.displayName="KeyboardShortcutPanel";var oh=a(666258),og=a(396021),oE=a(246497);function oy(){let e=(0,lG.Xr)(oh.mH),t=(0,og.XC)((0,U.md)(oh.a8));return(0,c.kc)().cursor_bot&&t?r.createElement("div",{className:oE.CR,"data-testid":"cursor-bot-fullscreen-event-blocker",onClick:()=>{e(!0)}}):null}var ov=a(624875),ob=a(344780),oC=a(316082),ow=a(168039),oT=a(479118);function oS({background:e,showSpinner:t}){let a=r.useContext(ai.kw),{x:n,y:l,width:i}=a.getViewportInfo(),o={background:e},s=window.innerWidth-i;return a&&(o={...o,width:`calc(100vw - ${s}px)`,height:`calc(100vh - ${l}px)`,top:`${l}px`,left:`${n}px`}),r.createElement("div",{className:"loading_overlay--pageSyncing--9AqbU"},r.createElement("div",{className:ev()("loading_overlay--blurredOverlay--79bya",w.Dm),style:o}),t&&r.createElement(l0.dW,{className:"loading_overlay--pageSyncingSpinner--rjAvP"}))}function oN(){let e=(0,n2.U)(),t=(0,l.d4)(e=>e.selectedView),a=l.d4(e=>e.versionHistory)?.isLoadingPage,n=(0,ow.DP)(),{isLoading:s}=(0,oT.v9)({selectedView:t,isLoadingVersionHistory:a,theme:n}),d=(0,l.d4)(e=>e.mirror.appModel.multiplayerSessionState),u=(0,oC.y)(),m=(0,l.wA)(),[p,_]=r.useState(null),f=(0,o.ZC)(s);return r.useEffect(()=>{if((0,c.kc)().long_page_change_notif){if(i.h3O.isIncrementalSession()&&s)s!==f&&u&&d!==i.kul.JOINED&&(_(Date.now()),m(g.F.enqueue({message:"Page change may take longer during staging deploy",error:!1,delay:3e3,type:"long-page-change",timeoutOverride:1/0})));else{let e=p?Date.now()-p:0;e<3e3||e>9e3?(m(g.F.dequeue({matchType:"long-page-change"})),_(null)):setTimeout(()=>{m(g.F.dequeue({matchType:"long-page-change"})),_(null)},Math.max(0,9e3-e))}}},[s,d,u,m,p,f]),r.createElement(ox,{onPageLoadingFinish:t=>{e("page_loading_overlay",{timeElapsedMs:t})},selectedView:t,isLoadingVersionHistory:a,theme:n})}function ox({onPageLoadingFinish:e,selectedView:t,isLoadingVersionHistory:a,theme:n}){let{isLoading:l,isLoadingMissingFonts:i,background:o}=(0,oT.v9)({selectedView:t,isLoadingVersionHistory:a,theme:n});return((0,r.useEffect)(()=>{if(!l){let t=ob.sn.tryStop("page_loading_overlay");t&&e&&e(t)}},[l,e]),l)?(ob.sn.get("page_loading_overlay")||ob.sn.start("page_loading_overlay"),r.createElement(oS,{background:o,showSpinner:!i})):null}var ok=a(935283),oI=a(743282),oA=a(763142),oL=a(227712),oO=a(829632),oR=a(947087),oM=a(561004),oD=a(978527),oP=a(99888),oF=a(720756),oB=a(268537),oU=a(233890),oH=a(458516);class oG extends nf.o6{constructor(e){super(e),this.onKeyDownFromFullscreen=e=>{e.accept(),this.props.onKeyDown(e.event)},this.onContainerClick=e=>{e.stopPropagation()}}componentDidMount(){super.componentDidMount(),document.addEventListener("keydown",this.props.onKeyDown)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.props.onKeyDown)}render(){let e={left:window.innerWidth/2-200,top:window.innerHeight/8,width:400};return r.createElement(oU.vL,{name:this.props.recordingKey||"",handleKeyDown:this.onKeyDownFromFullscreen,focusOnMount:!0},r.createElement(oB.ms,{className:`${oH.DU} ${w.Dm}`,style:e,"data-testid":this.props["data-testid"]},r.createElement("div",{onClick:this.onContainerClick},this.props.children)))}}class oV extends nf.o6{constructor(e){super(e),this.scrollContainerRef=r.createRef()}scrollElementAtIndexIntoView(e){if(this.props.resultCount>=10){let t=this.scrollContainerRef.current.getScrollTop(),a=32*e,n=32*e+32;a<t?this.scrollContainerRef.current.scrollTo(a):n>t+304&&this.scrollContainerRef.current.scrollTo(n-304)}}render(){let e=this.props.resultCount,t=Math.min(Math.max(e,1),10);return r.createElement(aT.P,{ref:this.scrollContainerRef,width:400,height:32*t+(e>=10?-16:8),hideScrollbar:!0,role:this.props.role,contentId:this.props.id},this.props.children,r.createElement("div",{style:{height:8}}))}}var oz=a(28177),oK=a(774419),oW=a(377849);let oj="Loading suggestions...";function oZ(e){(0,ok.vA)(null!==e,"We should never be in the middle state if there are no optional parameters")}class oY extends nf.o6{constructor(e){let t;if(super(e),this.searchInputRef=r.createRef(),this.scrollContainerRef=r.createRef(),this.searchBarRef=r.createRef(),this.primaryPlaceholderTextRef=r.createRef(),this.ranWithParameters=!1,this.runArgs=null,this.loadingTimerID=null,this.pendingLoadingMessage=null,this.firstOptionalIndex=null,this.eventID=0,this.onSuggestions=e=>{switch(e.type){case"SUGGESTIONS":{let t=this.getDropdownItems(e.suggestions,this.state.searchQuery,this.state.activeParameterIndex),a=t.findIndex(e=>(function(e){return"freeform"!==e&&"skip"!==e})(e)),n=a>=0?a:this.state.activeItemIndex,r=t.length||!this.state.searchQuery?null:(0,h.t)("fullscreen_actions.no_matches");this.clearLoadingMessage(),this.setState({activeItemIndex:n,items:t,errorMessage:r});break}case"ERROR":this.clearLoadingMessage(),this.setState({items:this.getDropdownItems([],this.state.searchQuery,this.state.activeParameterIndex),errorMessage:e.message||(0,h.t)("fullscreen_actions.no_matches")});break;case"LOADING":this.setLoadingMessage(e.message)}},this.onBackspace=()=>{let e=this.state.activeParameterIndex,t=null;if("middle"===e){if(oZ(this.firstOptionalIndex),0===this.firstOptionalIndex){this.props.onExitParameterEntry();return}t=this.firstOptionalIndex-1}else if("final"===e)t=this.props.parameters.length-1;else{if(0===e){this.props.onExitParameterEntry();return}t=e-1}let a={...this.state.parameterValues},n=this.getParameterForIndex(t)?.key;n&&delete a[n],this.setParameterIndex(t,a)},this.onTextChange=e=>{let t;let a=this.state.activeParameterIndex;if("middle"===a)oZ(this.firstOptionalIndex),t=this.firstOptionalIndex;else{if("final"===a)return;t=a}let n=this.props.parameters[t];this.triggerInputEvent({parameterValues:this.state.parameterValues,currentParameter:n,currentSearchQuery:e}),this.setLoadingMessage(oj),this.setState({searchQuery:e,items:this.getDropdownItems([],e,t),activeItemIndex:0,activeParameterIndex:t,mouseMoved:!1,errorMessage:""})},this.onSelectItem=(e,t)=>{let a;let n=this.state.activeParameterIndex;if("final"===n){"enter"===t&&this.launchPluginWithParameters(this.state.parameterValues);return}let r={...this.state.parameterValues};if("middle"!==n){if(0===this.state.items.length)return;let a=this.props.parameters[n];if(e<0||e>=this.state.items.length){let r="Trying to select suggestion at invalid index";console.error(r),(0,S.Lo)("PluginParameterEntry","invalid index",{index:e,items:this.state.items.length,currentIndex:n,parameter:a.name,keyPress:t}),(0,S.$D)(nX.e.EXTENSIBILITY,Error(r));return}let l=this.state.items[e];"skip"===l||("freeform"===l?r[a.key]={name:this.state.searchQuery}:((0,ok.KF)(!this.state.loadingMessage,"Selected item while loading"),r[a.key]=l))}let l=this.firstOptionalIndex;if("middle"===n){if(oZ(this.firstOptionalIndex),"enter"===t){this.launchPluginWithParameters(r);return}a=this.firstOptionalIndex}else if(n===this.props.parameters.length-1){if("enter"===t){this.launchPluginWithParameters(r);return}a="final"}else a=null!==l&&n===l-1?"tab"===t?l:"middle":n+1;this.setParameterIndex(a,r),this.searchInputRef.current.focus()},this.onKeyDown=nf.C0(this,"keydown",e=>{let t=e=>{let t=this.state.activeItemIndex+e;return t<0?this.state.items.length-1:t%this.state.items.length},a=_.Ay.mac?(0,lI.vN)(e,lI.xH.META):(0,lI.vN)(e,lI.xH.CONTROL);switch(e.keyCode){case lI.Uz.ENTER:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"enter");break;case lI.Uz.TAB:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"tab");break;case lI.Uz.DOWN_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=t(1);this.setState({activeItemIndex:e}),this.scrollContainerRef.current?.scrollElementAtIndexIntoView(e)}break;case lI.Uz.UP_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=t(-1);this.setState({activeItemIndex:e}),this.scrollContainerRef.current?.scrollElementAtIndexIntoView(e)}break;case lI.Uz.BACKSPACE:0===this.state.searchQuery.length?(e.preventDefault(),this.onBackspace(),e.stopPropagation()):("final"===this.state.activeParameterIndex||"middle"===this.state.activeParameterIndex)&&e.preventDefault();break;case lI.Uz.ESCAPE:e.preventDefault(),this.props.dispatch(eR.oB());break;case lI.Uz.P:case lI.Uz.FORWARD_SLASH:a&&(e.preventDefault(),this.props.dispatch(eR.oB()));break;case lI.Uz.EQUALS:case lI.Uz.DASH:a&&(e.preventDefault(),"-"===e.key?T.Y5.triggerAction("zoom-out"):T.Y5.triggerAction("zoom-in"));break;case lI.Uz.R:case lI.Uz.S:case lI.Uz.D:case lI.Uz.E:case lI.Uz.F:case lI.Uz.O:if(a){e.preventDefault();let t=this.state.searchQuery+e.key;this.onTextChange(t)}}}),this.onSearchChange=nf.Z7(this,"change",e=>{let t=e.currentTarget.value;this.onTextChange(t)}),this.renderResult=(e,t,a)=>{let n,l="",i="";return"skip"===t?(l=`Skip "${e.name}"`,i="skip"):"freeform"===t?(l=this.state.searchQuery,i="skip"):(l=t.name,i=t.name,n=o$(t,oH.ZR)),r.createElement(oQ,{recordingKey:nf.Pt(this.props,"suggestion",i),active:a===this.state.activeItemIndex,key:a,suggestion:l,onClick:e=>this.onSelectItem(a,"enter"),onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:a})},icon:n,onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:a})}})},(0,S.Lo)("PluginParameterEntry","Starting parameter entry for plugin",{parameters:e.parameters,displayName:e.displayName,parameterOnly:e.parameterOnly,pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,command:e.command}),0===e.parameters.length)throw Error("Must specify at least one parameter");let a=e.parameters.findIndex(e=>e.optional);this.firstOptionalIndex=a<0?null:a,t=e.initialParameterValues?"final":e.parameters[0].optional?"middle":0,this.handler=this.runPlugin();let n=this.getParameterForIndex(t);n&&this.triggerInputEvent({parameterValues:{},currentParameter:n,currentSearchQuery:""}),this.setLoadingMessage("Loading plugin..."),this.state={searchQuery:"",items:[],errorMessage:null,loadingMessage:null,activeItemIndex:0,parameterValues:e.initialParameterValues||{},activeParameterIndex:t,mouseMoved:!1,hidePluginName:!1}}getParameterForIndex(e){return"middle"===e||"final"===e?null:this.props.parameters[e]}getCurrentParameter(){return this.getParameterForIndex(this.state.activeParameterIndex)}runPlugin(){let e=null;if(this.props.pluginId?this.props.allSavedPlugins[this.props.pluginId]?e=this.props.allSavedPlugins[this.props.pluginId]:this.props.publishedPlugins[this.props.pluginId]&&(e=(0,rB.uF)(this.props.publishedPlugins[this.props.pluginId])):this.props.pluginLocalFileId&&(e=this.props.localExtensions[this.props.pluginLocalFileId]),!e)throw Error("Plugin not runnable");let{canRun:t}=(0,rB.JT)({plugin:e,editorType:this.props.editorType});if(!t)throw Error("Plugin not runnable");this.runArgs={plugin:e,command:this.props.command||"",queryMode:!0,runMode:"default",triggeredFrom:"parameter-entry",openFileKey:this.props.openFile?.key||"",deferRunEvent:!0,isWidget:!1};let a=(0,oL.D)();return oO.R.instance.enqueue({mode:"run-forever",runPluginArgs:this.runArgs}),a}async triggerInputEvent(e){this.eventID++;let t=this.eventID,a=await this.handler;this.eventID===t&&a.triggerParameterInputEvent({...e,onSuggestions:e=>{this.eventID===t&&this.onSuggestions(e)}})}updateLayout(){let e=0===this.state.activeParameterIndex&&!this.props.parameters[0].optional;if(void 0===this.state.placeholderWidth&&!e){if(this.primaryPlaceholderTextRef.current){let e=Math.min(250,Math.max(this.primaryPlaceholderTextRef.current.offsetWidth,120));this.setState({placeholderWidth:e})}else this.setState({placeholderWidth:0})}let t=this.searchBarRef.current,a=t.offsetWidth<t.scrollWidth;e||!a||this.state.hidePluginName||this.setState({hidePluginName:!0}),t.scrollLeft=t.scrollWidth}componentDidMount(){super.componentDidMount(),(0,$.sx)(oF.yh,(0,oF.ov)({...this.props,qaVersion:oP.U3})),this.searchInputRef.current.focus(),this.updateLayout()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateLayout()}componentWillUnmount(){super.componentWillUnmount(),this.ranWithParameters||(0,oM.wY)();let e=(0,oF.O8)(this.props.parameters,this.state.parameterValues);this.ranWithParameters&&e.requiredEntered!==e.requiredCount&&((0,S.Lo)("PluginParameterEntry","Parameter entry mismatch",{requiredParameters:this.props.parameters,parameterValues:this.state.parameterValues}),(0,S.$D)(nX.e.EXTENSIBILITY,Error("Plugin ran successfully with parameters, but not all parameters were recorded")));let t=(0,oF.ov)({...this.props,qaVersion:oP.U3});(0,$.sx)(oF.rj,{...t,success:this.ranWithParameters,parametersEntered:e.entered,requiredParametersEntered:e.requiredEntered,optionalParametersEntered:e.optionalEntered})}getDropdownItems(e,t,a){if("middle"===a||"final"===a)return[];let n=e.slice(),r=this.props.parameters[a];t.length>0&&r.allowFreeform&&n.unshift("freeform");let l=this.props.parameters[a];return 0===t.length&&l.optional&&n.unshift("skip"),n}setLoadingMessage(e){if(this.loadingTimerID){this.pendingLoadingMessage=e;return}this.pendingLoadingMessage=e,this.loadingTimerID=setTimeout(()=>{this.setState({loadingMessage:this.pendingLoadingMessage}),this.loadingTimerID=null,this.pendingLoadingMessage=null},300)}clearLoadingMessage(){this.loadingTimerID&&(clearTimeout(this.loadingTimerID),this.loadingTimerID=null),this.setState({loadingMessage:null})}setParameterIndex(e,t){let a=this.getParameterForIndex(e);a&&((0,S.Lo)("PluginParameterEntry","setParameterIndex",{nextParameter:a.name}),this.triggerInputEvent({parameterValues:t,currentParameter:a,currentSearchQuery:""}));let n=!(0===e&&!this.props.parameters[0].optional)&&this.state.hidePluginName;this.searchInputRef.current.focus(),this.setLoadingMessage(oj),this.setState({searchQuery:"",items:this.getDropdownItems([],"",e),activeItemIndex:0,activeParameterIndex:e,parameterValues:t,mouseMoved:!1,errorMessage:null,placeholderWidth:void 0,hidePluginName:n})}launchPluginWithParameters(e){if(this.setState({parameterValues:e}),this.handler.then(async t=>{let{isCancelled:a}=await (0,oR.y)(this.runArgs);a||t.triggerRunEvent({command:"parameters",parameters:e})}),this.runArgs){let t=this.runArgs;if(this.runArgs=null,t.queryMode=!1,t.deferRunEvent=!1,t.parameterValues=e,this.props.recentlyUsedCommandName){let e=this.props.recentlyUsedCommandName;this.props.dispatch(y.Rw({currentDisplayName:e,newCommand:{displayName:e,runPluginArgs:t}}))}(0,rU.C3)(t)}this.ranWithParameters=!0,this.props.dispatch(eR.oB())}renderResults(){if("middle"===this.state.activeParameterIndex)return r.createElement("div",{className:oz.wM},r.createElement("div",{className:oz.FV},r.createElement("div",{className:oz.h8},(0,h.tx)("fullscreen_actions.plugin_parameters.tab")),r.createElement("div",{className:oz.w8},(0,h.tx)("fullscreen_actions.plugin_parameters.to_enter_optional_parameters"))),r.createElement("div",{className:oz.FV},r.createElement("div",{className:oz.h8},(0,h.tx)("fullscreen_actions.plugin_parameters.enter")),r.createElement("div",{className:oz.w8},(0,h.tx)("fullscreen_actions.plugin_parameters.to_run_plugin"))));if("final"===this.state.activeParameterIndex)return null;let e=this.props.parameters[this.state.activeParameterIndex],t=null;if(this.state.errorMessage?t=r.createElement("div",{className:oH.Tk},this.state.errorMessage):this.state.loadingMessage&&(t=r.createElement("div",{className:oH.Tk},this.state.loadingMessage)),0===this.state.items.length)return t;let a=t?this.state.items.length+1:this.state.items.length;return r.createElement(oV,{ref:this.scrollContainerRef,resultCount:a},this.state.items.map((t,a)=>this.renderResult(e,t,a)),t)}renderCurrentParameters(){let e=this.getCurrentParameter()?.key,t=oJ(this.props.parameters,this.state.parameterValues,e);return r.createElement(r.Fragment,null,r.createElement(oq,{key:"plugin-name",value:this.state.hidePluginName?void 0:this.props.displayName,icon:function(e,t,a){if(!a)return r.createElement(aS.B,{className:oz.nW,svg:oK.A,ariaLabel:"plugin icon"});{let n=e[a];return n||(n=t[a]&&(0,rB.uF)(t[a])),r.createElement(oD.V,{className:oz.nW,plugin:n,alt:"plugin icon"})}}(this.props.allSavedPlugins,this.props.publishedPlugins,this.props.pluginId)}),t)}placeholderElement(){let e=this.state.activeParameterIndex,t=this.state.searchQuery.length>0;if("final"===e)return r.createElement(r.Fragment,null);if("middle"===e){let e=(0,rl.removeNullish)(this.props.parameters.map(e=>e.optional?e.name:null)).join(", ");return r.createElement("span",{ref:this.primaryPlaceholderTextRef},(0,h.tx)("fullscreen_actions.plugin_parameters.optional_optional_names",{optionalNames:e}))}{let a=this.props.parameters[e],n=this.props.parameters.slice(e);if(a.optional){let e=n.map(e=>e.name);return t&&(e[0]=""),r.createElement("span",{ref:this.primaryPlaceholderTextRef},e.join(", "))}{let e=(0,rl.removeNullish)(n.map(e=>e.optional?null:e.name)),a=(0,rl.removeNullish)(n.map(e=>e.optional?e.name:null));return t&&(e[0]=""),r.createElement("span",null,r.createElement("span",{ref:this.primaryPlaceholderTextRef},e.join(", ")),a.length>0&&r.createElement(r.Fragment,null,r.createElement("span",{className:oz.yL,key:"divider"},"|"),r.createElement("span",{key:"optionalParams"},(0,h.tx)("fullscreen_actions.plugin_parameters.optional_optional_names",{optionalNames:a.join(", ")}))))}}}render(){let e=this.getCurrentParameter(),t=e?.description,a=this.placeholderElement(),n="final"===this.state.activeParameterIndex?oz.ed:oz.Kf,l={minWidth:this.state.placeholderWidth?`${this.state.placeholderWidth}px`:void 0},i=this.renderResults();return r.createElement(oG,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown},r.createElement("div",{className:oH.$P},r.createElement(aS.B,{svg:oW.A,className:oH.qc}),r.createElement("div",{className:oz.ON,ref:this.searchBarRef},this.renderCurrentParameters(),r.createElement("div",{className:n},r.createElement("input",{ref:this.searchInputRef,className:oz.t6,onChange:this.onSearchChange,value:this.state.searchQuery,maxLength:150,spellCheck:!1,style:l}),r.createElement("div",{className:oz.l4},r.createElement("div",{className:oz.qf},r.createElement("span",{className:oz.CZ},this.state.searchQuery),a))))),!!t&&r.createElement("div",{className:ev()({[oz.WL]:!0,[oz.$8]:!i})},t),i)}}oY.displayName="PluginParameterEntry";let oX=(0,l.Ng)(function(e){let t=e.selectedView.editorType;return{openFile:e.openFile,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,allSavedPlugins:e.installedPluginVersions.plugins,localExtensions:e.localPlugins,orgEntity:(0,rT.Jl)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,editorType:t,userCanRunPlugins:(0,eQ.GP)(e),activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin}},function(e){return{dispatch:e}})(oY);function oq(e){return r.createElement("div",{className:oz.Io},e.icon&&r.createElement("span",null,e.icon),e.value&&r.createElement("span",null,e.value))}function oJ(e,t,a){return e.filter(e=>t[e.key]&&e.key!==a).map(e=>t[e.key]&&t[e.key].name&&r.createElement(oq,{icon:o$(t[e.key],oz.nW),key:e.key,value:t[e.key].name}))}class oQ extends nf.o6{constructor(){super(...arguments),this.onClick=nf.cZ(this,"click",e=>{if(!this.props.onClick)return nf.aH;this.props.onClick(e)})}render(){let e=`${this.props.active?oH.ix:oH.Ke}`;return r.createElement("div",{className:e,onClick:this.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter},r.createElement("div",{className:oH.EA},this.props.icon),r.createElement("div",{className:oz.iu},r.createElement("div",{className:oH.D6},this.props.suggestion)))}}function o$(e,t){let a="";if(e.iconUrl)a=e.iconUrl;else if(e.icon&&"string"==typeof e.icon)a="data:image/svg+xml;base64,"+oA.aj(e.icon);else{if(!e.icon||"string"==typeof e.icon)return;a="data:application/octet-stream;base64,"+oA.lF(e.icon)}return r.createElement(o0,{className:t,src:a})}oQ.displayName="ParameterSuggestion";class o0 extends nf.o6{render(){let e=new URL(this.props.src);return e.hostname===window.location.hostname?((0,S.$D)(nX.e.EXTENSIBILITY,Error("same-origin URL blocked in UntrustedImage")),r.createElement(r.Fragment,null)):["https:","http:","data:","blob:"].includes(e.protocol)?r.createElement("img",{src:this.props.src,className:this.props.className,crossOrigin:"anonymous",alt:""}):((0,S.$D)(nX.e.EXTENSIBILITY,Error("Unexpected protocol blocked in UntrustedImage")),r.createElement(r.Fragment,null))}}o0.displayName="UntrustedImage";var o1=a(531664),o2=a(179479),o5=a(30637),o3=a(47506),o4=a(865618),o6=a(728325),o7=a(516703),o8=a(824767),o9=a(176857);function se(e){let t={name:"",actions:e.map(e=>({key:(0,ix.e)(e),isDisabled:!!e.disabled,resultType:e.pluginId?oP.l4.EXTENSION:oP.l4.ACTION}))};return(0,aZ.i6)([t])}var st=a(553551);function sa({itemPath:e}){let t=r.useRef(null),a=r.useRef(null),n=r.useRef(null),l=r.useRef(null),[i,s]=r.useState("full"),c=(0,o.ZC)(e);r.useEffect(()=>{e!==c&&"full"!==i&&s("full"),"full"===i&&d()},[c,e,i]);let d=()=>{let e=a.current?.offsetWidth,r=l.current?.offsetWidth,i=n.current?.offsetWidth,o=t.current?.scrollWidth,c=t.current?.clientWidth;void 0!==e&&void 0!==r&&void 0!==i&&o&&c&&c<o&&(e+r>c?s("plugin"):s("path"))};if(1===e.length)return r.createElement("span",{ref:l},e[0]);let u=e.slice(1,e.length-1),m=r.createElement(aS.B,{svg:st.A,className:oH.VU,dataTestId:"rightChevron"}),p=r.createElement("span",{ref:a},"plugin"===i?"...":e[0],m),_=r.createElement("span",{ref:n},"plugin"!==i&&r.createElement(r.Fragment,null,"path"===i?r.createElement(r.Fragment,null,"...",m):u.map((e,t)=>r.createElement("span",{key:t},e," ",m))));return r.createElement("div",{ref:t,className:oH.D6},p,_,r.createElement("span",{ref:l},e[e.length-1]))}function sn({runPluginArgs:e,itemParameterArgs:t}){let[a,n]=r.useState(!1),l=r.useRef(null);r.useEffect(()=>{let e=l.current;e&&e.offsetWidth<e.scrollWidth&&!a&&n(!0)},[a]);let i=e.parameterValues;if(i){let e=oJ(t.parameters,i);return r.createElement("div",{className:oz.ON,ref:l,"data-testid":"parameter-display"},r.createElement(oq,{key:"plugin-name",value:a?void 0:t.displayName}),e)}return r.createElement(r.Fragment,null)}var sr=a(901304),sl=a(31470),si=a(34904),so=a(539615),ss=a(816679),sc=a(575126),sd=a(961803);let su=e=>(0,ik.Zj)(e)&&!e.hideCheckForQuickCommand;class sm extends nf.o6{constructor(e){super(e),this.searchInputRef=r.createRef(),this.scrollContainerRef=r.createRef(),this.listboxId=(0,oI.g)(),this.resultPrefix=(0,oI.g)(),this.delayedCloseTimerID=0,this.updateQueryAndResults=e=>{let t;if(e){let a=this.searchIndex.search(this.props.appModel,e.trim());t=this.sortedByEnabledSearchResults(a)}else t=this.recentlyUsedItemsMenu();this.logSearchResults(e,t),this.setState({searchQuery:e,searchResults:t,activeItemIndex:0,mouseMoved:!1})},this.logSearchResults=(e,t)=>{this.props.quickActionsSessionId&&this.props.fireQueryResultTrackingEvent({quickActionsSessionId:this.props.quickActionsSessionId,quickActionsQueryId:this.props.latestQuerySessionIdRef.current,searchQuery:e,numSearchResults:this.state.searchResults.length,currentSelection:this.props.currentSelection,module:K.J.ALL,moduleFilters:null,qaVersion:oP.U3,searchQueryResults:se(t)})},this.cancelDelayedClose=()=>{0!==this.delayedCloseTimerID&&(clearTimeout(this.delayedCloseTimerID),this.delayedCloseTimerID=0)},this.onClick=nf.cZ(this,"click",e=>{e?.button!==0||this.state.searchResults.length>0||this.setState({searchResults:this.searchIndex.list(this.props.appModel)})}),this.onKeyDown=nf.C0(this,"keydown",e=>{let t=e=>{if(this.state.searchResults.length>0){let t=this.state.activeItemIndex+e,a=t<0?this.state.searchResults.length-1:t%this.state.searchResults.length,n=1!==this.state.searchResults.length||!this.state.displayAriaActiveDescendant;this.setState({activeItemIndex:a,displayAriaActiveDescendant:n}),this.scrollContainerRef.current.scrollElementAtIndexIntoView(a)}},a=(0,lI.vN)(e,lI.xH.CONTROL),n=_.Ay.mac?(0,lI.vN)(e,lI.xH.META):a,r=_.Ay.mac&&a;switch(e.keyCode){case lI.Uz.ENTER:{e.preventDefault();let t=this.state.searchResults[this.state.activeItemIndex];t&&lK.l7.user(`quick-actions-select-${t.name??t.action??"unknown"}`,()=>{this.onSelectItem(t)});break}case lI.Uz.ESCAPE:e.preventDefault(),this.cancelDelayedClose(),this.props.dispatch(eR.oB());break;case lI.Uz.N:case lI.Uz.DOWN_ARROW:if(e.keyCode===lI.Uz.N&&!r){(0,ip.jr)(e,ip.W0.NO);break}e.preventDefault(),this.cancelDelayedClose(),t(1);break;case lI.Uz.P:case lI.Uz.UP_ARROW:if(e.keyCode===lI.Uz.P&&!r){(0,ip.jr)(e,ip.W0.NO);break}e.preventDefault(),this.cancelDelayedClose(),t(-1);break;case lI.Uz.TAB:{e.preventDefault();let t=this.state.searchResults[this.state.activeItemIndex];t&&t.itemParameterArgs&&(this.onStartParameterMode(t.itemParameterArgs,t,"tab"),this.logActionSelectedEvent(t));break}case lI.Uz.R:case lI.Uz.S:case lI.Uz.D:case lI.Uz.E:case lI.Uz.F:case lI.Uz.O:if(n){e.preventDefault();let t=this.state.searchQuery+e.key;this.updateQueryAndResults(t)}break;default:"Meta"!==e.key&&"Ctrl"!==e.key&&this.cancelDelayedClose(),(0,ip.jr)(e,ip.W0.NO)}}),this.onSearchChange=nf.Z7(this,"change",e=>{let t=e.currentTarget.value;this.updateQueryAndResults(t)}),this.onSelectItem=(e,t)=>{if(e.disabled)this.cancelDelayedClose();else{let a=!1;if(e.itemParameterArgs){if(e.runPluginArgs&&!this.state.searchQuery)oO.R.instance.enqueue({mode:"run-forever",runPluginArgs:e.runPluginArgs}),a=!0;else if(e.parametersRequired){this.onStartParameterMode(e.itemParameterArgs,e,t?.type==="click"?"click":"enter"),this.logActionSelectedEvent(e);return}}if(e.callback&&!a&&(e.callback((0,ik.Dz)(e),e.args,this.props.dispatch),a=!0),e.action&&(o6.VU.get(e.action,"quick-actions",e.args)(t),a=!0),a&&this.addToRecentlyUsedCommands(e,e.runPluginArgs),this.logActionSelectedEvent(e),"toggle-publish"===e.action&&(0,o3.YQ)({id:"insert-component-onboarding-event"}),su(e)&&!(0,o5.PN)()){this.cancelDelayedClose(),this.delayedCloseTimerID=setTimeout(()=>{this.props.dispatch(eR.oB())},300);return}this.props.dispatch(eR.oB())}},this.renderResult=(e,t)=>{let a=t===this.state.activeItemIndex;return r.createElement(sf,{role:"option",id:this.getResultId(t),key:e.action||t,recordingKey:nf.Pt(this.props,e.action||"searchResult"),active:a,disabled:!!e.disabled,appModel:this.props.appModel,item:e,isLastItem:t===this.state.searchResults.length-1,actionIcon:this.getActionIcon(e),onClick:t=>this.onSelectItem(e,t),onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:t})},onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:t})},allSavedPlugins:this.props.pluginAndWidgetMenuArgs.allSavedPlugins,publishedPlugins:this.props.pluginAndWidgetMenuArgs.publishedPlugins,searchQuery:this.state.searchQuery})},this.searchIndex=this.createSearchIndex(),this.state={searchQuery:"",searchResults:this.recentlyUsedItemsMenu(),activeItemIndex:0,displayAriaActiveDescendant:!0,mouseMoved:!1}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),(0,o1.c2)(this.props.pluginAndWidgetMenuArgs,e.pluginAndWidgetMenuArgs)||(this.searchIndex=this.createSearchIndex())}createSearchIndex(){let e=(0,iI.M)({extensionMenuProps:this.props.pluginAndWidgetMenuArgs,isReadOnly:this.props.appModel.isReadOnly,includeDisabled:!0});return new iM.x(this.props.appModel,this.props.selectedView,[...this.props.fullscreenMenuItems,...e],{includeDisabled:!0,acceptsUnicode:(0,o9.LN)()})}componentDidMount(){super.componentDidMount(),this.searchInputRef.current.focus()}logActionSelectedEvent(e){let{createMetrics:t}=this.props.interactionMetrics;(0,sr.kp)({item:e,searchQuery:this.state.searchQuery,qaVersion:oP.U3,numSearchResults:this.state.searchResults.length,searchPosition:this.state.activeItemIndex,moduleFilters:null,...t()})}recentlyUsedItemsMenu(){return(0,rl.removeNullish)(this.props.recentlyUsedQuickCommands.map(e=>{let t=this.searchIndex.getItem(this.props.appModel,e.displayName);return t&&e.runPluginArgs&&(t.runPluginArgs=e.runPluginArgs),t}))}sortedByEnabledSearchResults(e){let t=e.filter(e=>!e.disabled),a=e.filter(e=>e.disabled);return t.concat(a)}addToRecentlyUsedCommands(e,t){let a=(0,ix.E)(e),n=this.props.recentlyUsedQuickCommands.filter(e=>e.displayName!==a&&!!this.searchIndex.getItem(this.props.appModel,e.displayName));n.length>=3&&n.pop(),n.unshift({displayName:a,runPluginArgs:t}),this.props.dispatch(y.PQ(n)),this.props.updateFrecencyHistory(e,this.state.searchQuery)}getActionIcon(e){if("plugins-menu-item"===e.name){let t;return(e.pluginId&&(t=(0,rB.DM)({idToSearch:e.pluginId,localExtensionsByFileId:void 0,publishedExtensions:{...this.props.pluginAndWidgetMenuArgs.publishedPlugins,...this.props.pluginAndWidgetMenuArgs.publishedWidgets}})),t&&!(0,rz.ZQ)(t))?r.createElement(oD.V,{className:oH.ZR,plugin:t,role:"presentation"}):r.createElement(aS.B,{className:oH.pB,svg:sd.A,ariaLabel:`${e.name} icon`})}if(e.iconType&&"external_link"===e.iconType)return r.createElement(aS.B,{svg:sc.A})}onStartParameterMode(e,t,a){this.addToRecentlyUsedCommands(t),this.props.onStartParameterEntry(e,t,a)}getResultId(e){return this.resultPrefix+"-"+e}renderResults(){let e=this.state.searchResults;if(this.state.searchQuery){if(0===this.state.searchResults.length)return r.createElement("div",{className:oH.Tk},(0,h.tx)("fullscreen_actions.no_matches"))}else if(0===this.state.searchResults.length)return null;return r.createElement(oV,{id:this.listboxId,ref:this.scrollContainerRef,resultCount:e.length,role:"listbox"},e.map(this.renderResult))}render(){let e=this.state.searchQuery||this.state.searchResults.length;return r.createElement(oG,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown,"data-testid":"quick-actions"},r.createElement("div",{className:oH.$P},r.createElement(aS.B,{svg:oW.A,className:oH.qc}),r.createElement("input",{ref:this.searchInputRef,className:oH.Rt,placeholder:(0,iu.A)("quick-actions-modal-placeholder"),onChange:this.onSearchChange,onClick:this.onClick,value:this.state.searchQuery,maxLength:150,spellCheck:!1,dir:"auto",role:"combobox","aria-autocomplete":"list","aria-owns":this.listboxId,"aria-controls":this.listboxId,"aria-expanded":e?"true":"false","aria-activedescendant":e&&(this.state.displayAriaActiveDescendant||this.state.searchResults.length>1)?this.getResultId(this.state.activeItemIndex):void 0})),this.renderResults())}}sm.displayName="QuickActions";let sp=(0,l.Ng)(function(e,t){return{pluginAndWidgetMenuArgs:t.pluginAndWidgetMenuArgs,fullscreenMenuItems:t.fullscreenMenuItems,interactionMetrics:t.interactionMetrics,fireQueryResultTrackingEvent:t.fireQueryResultTrackingEvent,currentSelection:t.currentSelection,updateFrecencyHistory:t.updateFrecencyHistory,appModel:e.mirror.appModel,selectedView:e.selectedView,recentlyUsedQuickCommands:e.recentlyUsedQuickCommands,onStartParameterEntry:t.onStartParameterEntry,locale:e.user?.locale,quickActionsSessionId:t.quickActionsSessionId,latestQuerySessionIdRef:t.latestQuerySessionIdRef}},function(e){return{dispatch:e}})(sm);function s_(e){let t=(0,iL.c)(),a=(0,iA.u)(),n=(0,sr.Sk)(),{addFrecencyUsage:i}=(0,o8.fJ)(),o=(0,l.d4)(o7.l),s=(0,aZ.Ev)(),c=(0,U.md)(W.dd),d=(0,U.md)(W.Rt),u=(0,o2.F)(d);return r.createElement(sp,{...e,pluginAndWidgetMenuArgs:t,fullscreenMenuItems:a,interactionMetrics:n,updateFrecencyHistory:i,fireQueryResultTrackingEvent:s,currentSelection:o,quickActionsSessionId:c,latestQuerySessionIdRef:u})}function sf(e){let t=(0,F.J2)((0,t7.UK)().showQuickCommandRankDebug);return r.createElement(sh,{...e,showQuickCommandRankDebug:t})}class sh extends nf.o6{constructor(e){super(e),this.onClick=nf.cZ(this,"click",e=>{if(!this.props.onClick)return nf.aH;this.props.onClick(e)}),this.getDisplayText=()=>{let e=this.props.item;if(e.itemParameterArgs&&e.runPluginArgs&&!this.props.searchQuery)return r.createElement(sn,{runPluginArgs:e.runPluginArgs,itemParameterArgs:e.itemParameterArgs});if(e.itemPath){let t=e.itemPath;return r.createElement(sa,{itemPath:t})}let t=(0,ix.E)(e);return this.props.showQuickCommandRankDebug&&void 0!==e.stringMatchScore&&void 0!==e.popularityScore&&(t=`M${e.stringMatchScore} P${e.popularityScore}: `+t),r.createElement("div",{className:oH.D6},t)},su(this.props.item)?this.state={itemIsChecked:(0,ik.WJ)(this.props.appModel,this.props.item)}:this.state={}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),null!=this.state.itemIsChecked&&this.setState({itemIsChecked:(0,ik.WJ)(this.props.appModel,this.props.item)})}render(){let e=this.props.item,t=this.getDisplayText(),a=(0,ik.Dz)(e),n=e.shortcutText||(0,Y.c1)(this.props.appModel.keyboardShortcuts,a),l=void 0!==this.props.item.runPluginArgs,i=e.menuActionType&&"run-local-plugin"===e.menuActionType&&(!e.runPluginArgs||this.props.searchQuery),o="plugins-menu-item"===e.name&&!!e.itemParameterArgs&&e.itemParameterArgs.parameters.length>0,s=null;void 0!==this.state.itemIsChecked?s=r.createElement(sg,{checked:this.state.itemIsChecked,disabled:this.props.disabled}):this.props.actionIcon&&(s=this.props.actionIcon);let d=`${this.props.active?oH.ix:oH.Ke} ${this.props.disabled?oH.wn:""}`;return r.createElement("div",{className:d,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onClick:this.onClick,id:this.props.id,role:this.props.role,"aria-disabled":this.props.disabled||void 0,"aria-checked":this.props.item.checked},r.createElement("div",{className:oH.EA},s),r.createElement("div",{className:oH.V4},t,i&&r.createElement("div",{className:oH.Vu},(0,h.tx)("fullscreen_actions.development"))),n&&!o&&r.createElement("div",{className:oH.LE},r.createElement(tz.S,{shortcut:n})),!n&&o&&r.createElement("div",{className:oH.LE},r.createElement("div",{className:oH.Hq},(0,h.tx)("fullscreen_actions.tab")),l&&r.createElement("div",{className:oH.w8},(0,h.tx)("fullscreen_actions.to_edit")),r.createElement(aS.B,{svg:ss.A})),!n&&e.isRepairCommand&&(0,c.kc)().internal_only_debug_tools&&r.createElement("div",{style:eo.sx.colorBgTertiary.p8.bRadius8.borderBox.flex.itemsCenter.justifyCenter.mr8.h16.add({fontSize:"8px"}).$},"REPAIR"))}}function sg(e){return"ui3"===(0,an.DP)().version?r.createElement("div",{className:oH.kv},r.createElement(o4.S,{checked:e.checked,disabled:e.disabled})):e.checked?e.disabled?r.createElement(aS.B,{className:oH.pX,svg:so.A}):r.createElement(aS.B,{className:oH.NL,svg:si.A}):r.createElement(aS.B,{svg:sl.A})}function sE({parameterEntryArgs:e,fireTrackingEvent:t}){let[a,n]=r.useState(),[l,i]=r.useState(!0),o=(0,lG.Xr)(W.dd);if(r.useEffect(()=>{if(l){i(!1);let a=(0,oI.g)();o(a),t(a),e&&n({args:e})}},[e,l,t,o]),!a)return r.createElement(s_,{recordingKey:"quickActions",onStartParameterEntry:(e,t,a)=>{let r;switch(a){case"tab":r="quick-actions-tab";break;case"enter":r="quick-actions-enter";break;case"click":r="quick-actions-click";break;default:(0,ok.xb)(a)}n({args:{...e,triggeredFrom:r},item:t})}});{let{args:e,item:t}=a,l=t?(0,ix.E)(t):void 0;return r.createElement(oX,{recordingKey:"parameterEntry",parameters:e.parameters,displayName:e.displayName,pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,command:e.command,triggeredFrom:e.triggeredFrom,parameterOnly:e.parameterOnly,onExitParameterEntry:()=>{n(void 0)},initialParameterValues:t?.runPluginArgs?.parameterValues,recentlyUsedCommandName:l})}}sh.displayName="QuickActionsResult";var sy=a(320063),sv=a(635897),sb=a(432704),sC=a(315964),sw=a(486788),sT=a(562432),sS=a(65633),sN=a(891487),sx=a(560945),sk=a(726864),sI=a(724790),sA=a(356235),sL=a(273602);let sO=(0,t4.jz)(at.j4N);function sR(e){let t=r.useRef(null),a=(0,lG.Xr)(W.fq),n=(0,sx.w)(t),l=(0,sk.xn)();(0,r.useEffect)(()=>(n?.height&&a(n.height),()=>{a(0)}),[n,a]);let[i]=(0,U.fp)(W.Sf),o=i?.current?.getBoundingClientRect(),s=!!(o&&o.height>0),c=(0,r.useMemo)(()=>s?{bottom:sO+l+(o?.height||0)+8}:null,[l,s,o?.height]);return r.createElement(r.Fragment,null,r.createElement("div",{ref:t,style:{bottom:72,...c},className:ev()([sA.tT,w.Dm]),"data-testid":"quick-actions-v2"},r.createElement(sD,null,e.children)))}function sM(e){return r.createElement(sR,null,e.children)}function sD(e){let t=(0,sI.x)(),a=r.useRef(null),n=(0,lG.Xr)(W.IH);(0,r.useEffect)(()=>(a.current&&n(a),()=>{n(null)}),[n]);let l=Math.max(t??0,396);return r.createElement("div",{ref:a,style:{maxWidth:sL.X,minWidth:l},className:ev()([sA.N8,w.Dm]),"data-cancel-insertable-resource-drag-and-drop":"true"},e.children)}var sP=a(767129),sF=a(818150),sB=a(225266),sU=a(48515),sH=a(56063),sG=a(38329),sV=a(695426),sz=a(644233),sK=a(849232),sW=a(100140),sj=a(954244),sZ=a(927457);function sY(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.586 8.501 15.5 6.416 13.414 8.5l2.086 2.086L17.586 8.5Zm-1.379-2.793a1 1 0 0 0-1.414 0l-2.086 2.086a1 1 0 0 0 0 1.414l2.086 2.086a1 1 0 0 0 1.414 0l2.086-2.085a1 1 0 0 0 0-1.415l-2.086-2.086ZM7 14h3v3H7v-3Zm-1 0a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-3Zm11 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm1 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM6.086 6.336A2 2 0 0 1 8.5 6.018a2 2 0 0 1 2.414 3.147l-1 1-.707.707a1 1 0 0 1-1.414 0l-.707-.707-1-1a2 2 0 0 1 0-2.829Zm2.414 1 .293-.293a1 1 0 0 1 1.414 1.414l-1 1-.707.708-.707-.708-1-1a1 1 0 0 1 1.414-1.414l.293.293Z",clipRule:"evenodd"}))}var sX=a(137035),sq=a(126049),sJ=a(419527),sQ=a(921472),s$=a(124271);function s0(){return(0,s.R)(e=>{let t={};for(let a in e.mirror.appModel)(0,Y.vg)(a)&&(t[a]=e.mirror.appModel[a]),"isReadOnly"===a&&(t.isReadOnly=e.mirror.appModel.isReadOnly);return t})}var s1=a(328849),s2=a(340860),s5=a(143984);function s3(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("mask",{id:"fpl-icon-24-plugin-small-a",width:"11",height:"14",x:"6.5",y:"5",fill:"#000",maskUnits:"userSpaceOnUse"},r.createElement("path",{fill:"#fff",d:"M6.5 5h11v14h-11z"}),r.createElement("path",{fillRule:"evenodd",d:"M12 6a1 1 0 0 0-.941 1.338c.015.044.032.087.049.131.07.186.142.373.142.57V8.5H7.5V9H8v1a2 2 0 1 1 0 4v1h-.5v.5h3.75v.46c0 .198-.072.385-.142.57l-.05.132a1 1 0 1 0 1.883 0c-.015-.044-.032-.087-.049-.131-.07-.186-.142-.373-.142-.57V15.5h3.75V15H16v-1a2 2 0 1 1 0-4V9h.5v-.5h-3.75v-.46c0-.198.072-.385.142-.57l.05-.132A1 1 0 0 0 12 6Z",clipRule:"evenodd"})),r.createElement("path",{fill:"var(--color-icon)",d:"m11.059 7.338-.942.338.941-.338Zm.049.131.934-.356-.934.356ZM11.25 8.5v1a1 1 0 0 0 1-1h-1Zm-3.75 0v-1a1 1 0 0 0-1 1h1Zm0 .5h-1a1 1 0 0 0 1 1V9ZM8 9h1a1 1 0 0 0-1-1v1Zm0 1H7a1 1 0 0 0 1 1v-1Zm0 4v-1a1 1 0 0 0-1 1h1Zm0 1v1a1 1 0 0 0 1-1H8Zm-.5 0v-1a1 1 0 0 0-1 1h1Zm0 .5h-1a1 1 0 0 0 1 1v-1Zm3.75 0h1a1 1 0 0 0-1-1v1Zm-.142 1.03-.935-.356.935.357Zm-.05.132-.94-.338.94.338Zm1.883 0-.94.338.94-.338Zm-.049-.131-.934.356.934-.356ZM12.75 15.5v-1a1 1 0 0 0-1 1h1Zm3.75 0v1a1 1 0 0 0 1-1h-1Zm0-.5h1a1 1 0 0 0-1-1v1Zm-.5 0h-1a1 1 0 0 0 1 1v-1Zm0-1h1a1 1 0 0 0-1-1v1Zm0-4v1a1 1 0 0 0 1-1h-1Zm0-1V8a1 1 0 0 0-1 1h1Zm.5 0v1a1 1 0 0 0 1-1h-1Zm0-.5h1a1 1 0 0 0-1-1v1Zm-3.75 0h-1a1 1 0 0 0 1 1v-1Zm.142-1.03-.934-.357.934.356Zm.05-.132L12 7l.941.338ZM12 7V5a2 2 0 0 0-2 2h2Zm0 0h-2a2 2 0 0 0 .117.676L12 7Zm.042.113A6.307 6.307 0 0 1 12 7l-1.883.676.056.15 1.869-.713Zm.208.927c0-.413-.15-.775-.208-.927l-1.869.713c.039.1.057.151.07.196.01.038.007.04.007.018h2Zm0 .46v-.46h-2v.46h2Zm-4.75 1h3.75v-2H7.5v2Zm1-.5v-.5h-2V9h2ZM8 8h-.5v2H8V8Zm1 2V9H7v1h2Zm2 2a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2Zm-3 3a3 3 0 0 0 3-3H9a1 1 0 0 1-1 1v2Zm1 0v-1H7v1h2Zm-1.5 1H8v-2h-.5v2Zm1-.5V15h-2v.5h2Zm2.75-1H7.5v2h3.75v-2Zm1 1.46v-.46h-2v.46h2Zm-.208.927c.058-.152.208-.514.208-.927h-2c0-.021.004-.02-.007.018a2.473 2.473 0 0 1-.07.196l1.869.713ZM12 17c.011-.033.025-.067.042-.113l-1.869-.713-.056.15L12 17Zm0 0-1.883-.676A2 2 0 0 0 10 17h2Zm0 0h-2a2 2 0 0 0 2 2v-2Zm0 0v2a2 2 0 0 0 2-2h-2Zm0 0h2a2 2 0 0 0-.117-.676L12 17Zm-.042-.113L12 17l1.883-.676-.056-.15-1.869.713Zm-.208-.927c0 .413.15.775.208.927l1.869-.713a2.473 2.473 0 0 1-.07-.196c-.01-.038-.007-.04-.007-.018h-2Zm0-.46v.46h2v-.46h-2Zm4.75-1h-3.75v2h3.75v-2Zm-1 .5v.5h2V15h-2Zm1-1H16v2h.5v-2Zm.5 1v-1h-2v1h2Zm-4-3a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1h-2Zm3-3a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V9Zm1 1V9h-2v1h2Zm-1 0h.5V8H16v2Zm-.5-1.5V9h2v-.5h-2Zm-2.75 1h3.75v-2h-3.75v2Zm-1-1.46v.46h2v-.46h-2Zm.208-.927c-.058.152-.208.514-.208.927h2c0 .021-.004.02.007-.018.013-.045.031-.096.07-.196l-1.869-.713ZM12 7a6.339 6.339 0 0 1-.042.113l1.869.713.056-.15L12 7Zm0 0 1.883.676A2 2 0 0 0 14 7h-2Zm0 0h2a2 2 0 0 0-2-2v2Z",mask:"url(#fpl-icon-24-plugin-small-a)"}))}var s4=a(758271),s6=a.n(s4),s7=a(574724);async function s8(e,t,a){let n;return(await s7.Ay.shared.assistantChat({messages:[...t,e]})).pipeThrough((n={},new TransformStream({async transform(e,t){if(e.choices.length&&(n=function(e,t){let a=(e,t)=>{for(let[n,r]of(e={...e},Object.entries(t)))if(void 0===e[n]||null===e[n]){if(e[n]=r,Array.isArray(e[n]))for(let t of e[n])delete t.index}else if("string"==typeof e[n]&&"string"==typeof r)e[n]+=r;else if("number"==typeof e[n]&&"number"==typeof r)e[n]=r;else if(Array.isArray(e[n])&&Array.isArray(r)){let t=e[n];for(let e=0;e<r.length;e++){let{index:n,...l}=r[e];if(n-t.length>1)throw Error(`Error: An array has an empty value when tool_calls are constructed. tool_calls: ${t}; tool: ${r}`);t[n]=a(t[n],l)}}else"object"==typeof e[n]&&"object"==typeof r&&(e[n]=a(e[n],r));return e};return a(e,t.choices[0].delta)}(n,e),t.enqueue({...n,role:"assistant"}),n.tool_calls&&n.tool_calls.length>0&&"tool_calls"===e.choices[0].finish_reason))for(let e of n.tool_calls){let n=await a(e),r={tool_call_id:e.id,role:"tool",name:e.function.name,content:JSON.stringify(n)};t.enqueue(r)}}})))}var s9=a(104180);let ce=function(e){return e},ct=ce({inputs:["characters"],outputs:s9.z.object({characters:s9.z.string().optional()}),serialize:({characters:e})=>e?{characters:e}:{},deserialize:({characters:e})=>({characters:e})}),ca=ce({inputs:["cornerRadius","rectangleCornerRadii"],outputs:s9.z.object({radius:s9.z.number().or(s9.z.object({topLeft:s9.z.number(),topRight:s9.z.number(),bottomLeft:s9.z.number(),bottomRight:s9.z.number()})).optional()}),serialize:({cornerRadius:e,rectangleCornerRadii:t})=>{if(!e&&!t)return{};let a=0;return(t&&void 0!==t.topLeft&&Object.values(t).every(e=>e===t.topLeft)&&(a=t.topLeft),e&&!t||!e&&a>0||e===a)?{radius:e??a}:{radius:t}},deserialize:({radius:e})=>"object"==typeof e?{rectangleCornerRadii:e}:{cornerRadius:e??0}}),cn=e=>{e=e.replace(/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,(e,t,a,n,r)=>"#"+t+t+a+a+n+n+(r?r+r:""));let t=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e);return t?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255,a:void 0===t[4]?1:parseInt(t[4],16)/255}:void 0},cr=e=>("00"+Math.round(255*e).toString(16).toUpperCase()).substr(-2),cl=e=>`${cr(e.r)}${cr(e.g)}${cr(e.b)}`,ci=(e,t=1)=>`${cr(e.r)}${cr(e.g)}${cr(e.b)}${cr(e.a*t)}`,co=(e,t=1)=>{if(1===e.a&&1===t){let t=cl(e);return t[0]===t[1]&&t[2]===t[3]&&t[4]===t[5]?`#${t[0]}${t[2]}${t[4]}`:`#${t}`}{let a=ci(e,t);return a[0]===a[1]&&a[2]===a[3]&&a[4]===a[5]&&a[6]===a[7]?`#${a[0]}${a[2]}${a[4]}${a[6]}`:`#${a}`}},cs=ce({inputs:["fills"],outputs:s9.z.object({color:s9.z.string().optional()}),serialize:({fills:e})=>{if(!e)return{};let t=e[0];return 1===e.length&&"SOLID"===t.type?{color:co(t.color)}:{}},deserialize:({color:e})=>{if(!e)return{};let t=cn(e);return t?{fills:[{type:"SOLID",color:t}]}:{}}}),cc=ce({inputs:["strokes"],outputs:s9.z.object({stroke:s9.z.string().optional()}),serialize:({strokes:e})=>{if(!e)return{};let t=e[0];return 1===e.length&&"SOLID"===t.type?{stroke:co(t.color)}:{}},deserialize:({stroke:e})=>{if(!e)return{};let t=cn(e);return t?{strokes:[{type:"SOLID",color:t}]}:{}}}),cd=ce({inputs:["size"],outputs:s9.z.object({width:s9.z.number().optional(),height:s9.z.number().optional()}),serialize:({size:e})=>e||{},deserialize:({width:e,height:t})=>void 0!==e&&void 0!==t?{size:{width:e,height:t}}:{}}),cu={indent:"  "};function cm([e,t]){return"string"==typeof t?`${e}="${t}"`:"object"==typeof t&&void 0!==t?`${e}={${function e(t){if(Array.isArray(t))return`[${t.map(e).join(",")}]`;return"object"==typeof t&&null!==t?function(t){let a=Object.entries(t).map(([t,a])=>`${/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t)?t:JSON.stringify(t)}:${e(a)}`);return`{${a.join(",")}}`}(t):void 0!==t?JSON.stringify(t):""}(t)}}`:`${e}={${JSON.stringify(t)}}`}let cp=/^-?[0-9]+$/;class c_{#e=-1;get sessionID(){return this.#e}#t=-1;get localID(){return this.#t}constructor(e,t){this.#e=e,this.#t=t}static invalid(){return new c_(-1,-1)}static parse(e){let[t,a]=e.split(":");if(null==t||null==a||!cp.test(t)||!cp.test(a))return c_.invalid();let n=Number(t),r=Number(a);return n<-cf-1||n>cf||r<-cf-1||r>cf?c_.invalid():new c_(n,r)}toString(){return`${this.#e}:${this.#t}`}valid(){return this.#e>=0&&this.#t>=0}}let cf=2147483647;class ch{#e=Math.floor(Math.random()*cf);#t=0;constructor(e){null!=e&&(this.#e=e)}generate(){return new c_(this.#e,this.#t++)}}function cg(e){return new c_(e.sessionID,e.localID).toString()}let cE=s9.z.number().min(0).max(1),cy=s9.z.number().min(0),cv=s9.z.number().int().min(0),cb=s9.z.object({r:s9.z.number().min(0).max(1),g:s9.z.number().min(0).max(1),b:s9.z.number().min(0).max(1)}),cC=s9.z.object({r:s9.z.number().min(0).max(1),g:s9.z.number().min(0).max(1),b:s9.z.number().min(0).max(1),a:s9.z.number().min(0).max(1)}),cw=s9.z.tuple([s9.z.number(),s9.z.number(),s9.z.number()]),cT=s9.z.tuple([cw,cw]),cS=s9.z.object({topLeft:cy,topRight:cy,bottomLeft:cy,bottomRight:cy}),cN=s9.z.object({x:s9.z.number(),y:s9.z.number()}),cx=s9.z.object({width:s9.z.number(),height:s9.z.number()}),ck=s9.z.enum(["PASS_THROUGH","NORMAL","DARKEN","MULTIPLY","LINEAR_BURN","COLOR_BURN","LIGHTEN","SCREEN","LINEAR_DODGE","COLOR_DODGE","OVERLAY","SOFT_LIGHT","HARD_LIGHT","DIFFERENCE","EXCLUSION","HUE","SATURATION","COLOR","LUMINOSITY"]),cI=s9.z.enum(["FIXED","SCROLLS","STICKY_SCROLLS"]),cA=s9.z.enum(["UNION","INTERSECT","SUBTRACT","EXCLUDE"]),cL=s9.z.enum(["MIN","MAX","CENTER","STRETCH","SCALE"]),cO=s9.z.enum(["CENTER","INSIDE","OUTSIDE"]),cR=s9.z.enum(["NONE","ROUND","SQUARE","LINE_ARROW","TRIANGLE_ARROW","DIAMOND_FILLED","CIRCLE_FILLED","TRIANGLE_FILLED"]),cM=s9.z.enum(["MITER","BEVEL","ROUND"]),cD=s9.z.object({horizontal:cL.optional(),vertical:cL.optional()}),cP=s9.z.enum(["NONE","HORIZONTAL_SCROLLING","VERTICAL_SCROLLING","HORIZONTAL_AND_VERTICAL_SCROLLING"]),cF=s9.z.enum(["MIN","CENTER","MAX","STRETCH","BASELINE","INHERIT"]),cB=s9.z.enum(["NONE","VERTICAL","HORIZONTAL"]),cU=s9.z.enum(["MIN","MAX","CENTER","SPACE_BETWEEN"]),cH=s9.z.enum(["MIN","MAX","CENTER","BASELINE"]),cG=s9.z.enum(["FIXED","AUTO"]),cV=s9.z.enum(["FIXED","AUTO"]),cz={layoutMode:cB.optional(),layoutAlign:cF.optional(),itemSpacing:s9.z.number().optional(),counterAxisSizingMode:cG.optional(),primaryAxisSizingMode:cV.optional(),counterAxisAlignItems:cH.optional(),primaryAxisAlignItems:cU.optional(),paddingLeft:s9.z.number().optional(),paddingRight:s9.z.number().optional(),paddingTop:s9.z.number().optional(),paddingBottom:s9.z.number().optional()};s9.z.object(cz);let cK=s9.z.enum(["AUTO","ABSOLUTE"]),cW=s9.z.union([s9.z.object({pattern:s9.z.enum(["COLUMNS","ROWS"]),alignment:s9.z.enum(["MIN","MAX"]),gutterSize:s9.z.number(),count:cv,sectionSize:s9.z.number().min(0),offset:s9.z.number().min(0),visible:s9.z.boolean().optional(),color:cC.optional()}),s9.z.object({pattern:s9.z.enum(["COLUMNS","ROWS"]),alignment:s9.z.literal("STRETCH"),gutterSize:s9.z.number(),count:cv,offset:s9.z.number().min(0),visible:s9.z.boolean().optional(),color:cC.optional()}),s9.z.object({pattern:s9.z.enum(["COLUMNS","ROWS"]),alignment:s9.z.literal("CENTER"),gutterSize:s9.z.number(),count:cv,sectionSize:s9.z.number().min(0),visible:s9.z.boolean().optional(),color:cC.optional()}),s9.z.object({pattern:s9.z.literal("GRID"),sectionSize:s9.z.number().min(0),visible:s9.z.boolean().optional(),color:cC.optional()})]),cj={offset:cN,color:cC,blendMode:ck,radius:s9.z.number().min(0),spread:s9.z.number().optional(),visible:s9.z.boolean()},cZ=s9.z.object({...cj,type:s9.z.literal("INNER_SHADOW")}),cY=s9.z.object({...cj,type:s9.z.literal("DROP_SHADOW"),showShadowBehindNode:s9.z.boolean().optional()}),cX=s9.z.object({type:s9.z.enum(["LAYER_BLUR","BACKGROUND_BLUR"]),radius:s9.z.number().min(0),visible:s9.z.boolean()}),cq=s9.z.discriminatedUnion("type",[cZ,cY,cX]),cJ=s9.z.array(cq),cQ=s9.z.object({position:cE,color:cC}),c$=s9.z.enum(["EASE_IN","EASE_OUT","EASE_IN_AND_OUT","LINEAR","EASE_IN_BACK","EASE_OUT_BACK","EASE_IN_AND_OUT_BACK","CUSTOM_CUBIC_BEZIER","GENTLE","QUICK","BOUNCY","SLOW","CUSTOM_SPRING"]),c0=s9.z.discriminatedUnion("type",[s9.z.object({type:s9.z.literal("SOLID"),color:cC,visible:s9.z.boolean().optional(),opacity:cE.optional(),blendMode:ck.optional()}),s9.z.object({type:s9.z.enum(["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"]),gradientTransform:cT,gradientStops:s9.z.array(cQ),visible:s9.z.boolean().optional(),opacity:cE.optional(),blendMode:ck.optional()}),s9.z.object({type:s9.z.literal("IMAGE"),scaleMode:s9.z.enum(["FILL","FIT","CROP","TILE"]).optional(),imageRef:s9.z.string(),scalingFactor:cy.optional(),rotation:cv.optional(),imageTransform:cT.optional(),visible:s9.z.boolean().optional(),opacity:cE.optional(),blendMode:ck.optional()})]),c1=s9.z.array(c0),c2=s9.z.object({startingAngle:s9.z.number(),endingAngle:s9.z.number(),innerRadius:cE}),c5=s9.z.enum(["NONZERO","EVENODD"]),c3=s9.z.object({x:s9.z.number(),y:s9.z.number(),strokeCap:cR.optional(),strokeJoin:cM.optional(),cornerRadius:cy.optional()}),c4=s9.z.object({start:cv,end:cv,tangentStart:cN.optional(),tangentEnd:cN.optional()}),c6=s9.z.object({windingRule:c5,loops:s9.z.array(s9.z.array(cv)),fillStyleId:s9.z.string().optional()}),c7=s9.z.object({vertices:s9.z.array(c3),segments:s9.z.array(c4),regions:s9.z.array(c6).optional()}),c8=s9.z.discriminatedUnion("format",[s9.z.object({format:s9.z.enum(["PNG","JPG"]),contentsOnly:s9.z.boolean().optional(),suffix:s9.z.string().optional(),useAbsoluteBounds:s9.z.boolean().optional(),constraint:s9.z.union([s9.z.object({type:s9.z.enum(["SCALE"]),value:s9.z.number()}),s9.z.object({type:s9.z.enum(["WIDTH","HEIGHT"]),value:s9.z.number().int()})]).optional()}),s9.z.object({format:s9.z.literal("PDF"),contentsOnly:s9.z.boolean().optional(),suffix:s9.z.string().optional(),useAbsoluteBounds:s9.z.boolean().optional()}),s9.z.object({format:s9.z.literal("SVG"),contentsOnly:s9.z.boolean().optional(),suffix:s9.z.string().optional(),svgOutlineText:s9.z.boolean().optional(),svgIdAttribute:s9.z.boolean().optional(),svgSimplifyStroke:s9.z.boolean().optional(),useAbsoluteBounds:s9.z.boolean().optional()})]),c9=s9.z.array(c8),de=s9.z.record(s9.z.object({fills:c1})),dt={cornerRadius:cy.optional(),rectangleCornerRadii:cS.optional()},da=s9.z.object(dt),dn={strokeWeight:s9.z.number().optional(),individualStrokeWeights:s9.z.object({left:s9.z.number().optional(),right:s9.z.number().optional(),top:s9.z.number().optional(),bottom:s9.z.number().optional()}).optional()},dr=s9.z.object(dn),dl=s9.z.enum(["ORIGINAL","UPPER","LOWER","TITLE"]),di=s9.z.enum(["NO_WRAP","WRAP"]),ds=s9.z.object({family:s9.z.string(),style:s9.z.string()}),dc=s9.z.enum(["NONE","WIDTH_AND_HEIGHT","HEIGHT","TRUNCATE"]),dd=s9.z.object({fontSize:cy.optional(),fontName:ds.optional(),fontWeight:s9.z.number().optional(),letterSpacing:s9.z.number().optional(),textCase:dl.optional(),textAutoResize:dc.optional(),fillPaints:c1.optional(),lineHeightPx:s9.z.number().optional(),lineHeightPercentFontSize:s9.z.number().optional(),lineHeightUnit:s9.z.enum(["PIXELS","FONT_SIZE_%","INTRINSIC_%"]).optional()}),du=s9.z.array(s9.z.record(s9.z.string())),dm=s9.z.enum(["SQUARE","ELLIPSE","DIAMOND","TRIANGLE_UP","TRIANGLE_DOWN","ROUNDED_RECTANGLE","PARALLELOGRAM_RIGHT","PARALLELOGRAM_LEFT","ENG_DATABASE","ENG_QUEUE","ENG_FILE","ENG_FOLDER","TRAPEZOID","PREDEFINED_PROCESS","SHIELD","DOCUMENT_SINGLE","DOCUMENT_MULTIPLE","MANUAL_INPUT","HEXAGON","CHEVRON","PENTAGON","OCTAGON","STAR","PLUS","ARROW_LEFT","ARROW_RIGHT","SUMMING_JUNCTION","OR","SPEECH_BUBBLE","INTERNAL_STORAGE"]),dp=s9.z.enum(["NONE","ARROW_EQUILATERAL","ARROW_LINES","TRIANGLE_FILLED","DIAMOND_FILLED","CIRCLE_FILLED"]),d_=s9.z.union([s9.z.object({endpointNodeId:s9.z.string(),magnet:s9.z.enum(["NONE","AUTO","TOP","LEFT","BOTTOM","RIGHT"])}),s9.z.object({endpointNodeId:s9.z.string().optional(),position:s9.z.object({x:s9.z.number(),y:s9.z.number()})})]),df={id:s9.z.string(),parentId:s9.z.string().optional(),name:s9.z.string().optional(),visible:s9.z.boolean().optional(),locked:s9.z.boolean().optional(),scrollBehavior:cI.optional()},dh={blendMode:ck.optional(),opacity:cE.optional()},dg={fills:c1.optional(),strokes:c1.optional(),fillOverrideTable:de.optional(),strokeAlign:cO.optional(),strokeCap:cR.optional(),strokeJoin:cM.optional(),strokeMiterLimit:s9.z.number().min(0).optional(),strokeDashes:s9.z.array(s9.z.number()).optional()},dE={relativeTransform:cT.optional(),preserveRatio:s9.z.boolean().optional(),constraints:cD.optional(),size:cx.optional(),layoutAlign:cF.optional(),layoutGrow:s9.z.number().optional(),layoutPositioning:cK.optional(),minWidth:s9.z.number().optional(),maxWidth:s9.z.number().optional(),minHeight:s9.z.number().optional(),maxHeight:s9.z.number().optional(),layoutSizingHorizontal:s9.z.enum(["FIXED","HUG","FILL"]).optional(),layoutSizingVertical:s9.z.enum(["FIXED","HUG","FILL"]).optional()},dy={transitionNodeID:s9.z.string().optional(),transitionDuration:s9.z.number().min(0).optional(),transitionEasing:c$.optional()},dv={clipsContent:s9.z.boolean().optional(),fills:c1.optional(),strokes:c1.optional(),strokeAlign:cO.optional(),overflowDirection:cP.optional(),layoutGrids:cW.optional(),...dt,...dn,...cz},db={exportSettings:c9.optional()},dC={effects:cJ.optional()},dw={isMask:s9.z.boolean().optional()},dT={...df,...dh,...dE,...dg,...db,...dC,...dw,...dy},dS=s9.z.object({uri:s9.z.string()}),dN={description:s9.z.string().optional(),documentationLinks:s9.z.tuple([dS]).optional()},dx={sectionContentsHidden:s9.z.boolean().optional()},dk={fills:c1.optional()},dI={strokes:c1.optional(),strokeWeight:s9.z.number().optional(),strokeAlign:cO.optional(),strokeJoin:cM.optional(),strokeDashes:s9.z.array(s9.z.number()).optional()},dA=s9.z.object({type:s9.z.literal("NONE"),...df}),dL=s9.z.object({type:s9.z.literal("DOCUMENT"),...df}),dO=s9.z.object({type:s9.z.literal("CANVAS"),...df,...db}),dR=s9.z.object({type:s9.z.literal("ELLIPSE"),arcData:c2,...dT}),dM=s9.z.object({type:s9.z.enum(["STAR","LINE","REGULAR_POLYGON","RECTANGLE"]),...dT}),dD=s9.z.object({type:s9.z.literal("VECTOR"),vectorNetwork:c7,...dT}),dP=s9.z.object({type:s9.z.literal("BOOLEAN_OPERATION"),booleanOperation:cA,...dT}),dF=s9.z.object({type:s9.z.literal("SLICE"),...dT,...db}),dB=s9.z.enum(["ORDERED","UNORDERED","NONE"]),dU={characters:s9.z.string(),style:dd.optional(),characterStyleOverrides:s9.z.array(s9.z.number()).optional(),styleOverrideTable:s9.z.record(dd).optional(),lineTypes:s9.z.array(dB).optional(),lineIndentations:s9.z.array(s9.z.number().min(0)).optional()},dH={layoutWrap:di.optional()},dG=s9.z.object({type:s9.z.literal("TEXT"),...dT,...dU,...dH}),dV=s9.z.object({type:s9.z.literal("FRAME"),...dT,...dv}),dz=s9.z.object({type:s9.z.literal("GROUP"),...df}),dK=s9.z.object({type:s9.z.literal("COMPONENT"),...df,...dv,...dN});s9.z.object({type:s9.z.literal("COMPONENT_SET"),...df,...dv});var dW=(e=>(e.COMPONENT="COMPONENT",e.COMPONENT_SET="COMPONENT_SET",e))(dW||{});let dj=s9.z.object({type:s9.z.literal("INSTANCE"),componentKey:s9.z.string(),componentType:s9.z.enum(["COMPONENT","COMPONENT_SET"]),componentId:s9.z.string().optional(),uniformScaleFactor:s9.z.number().optional(),...df,...dv,...df}),dZ=s9.z.object({type:s9.z.literal("SECTION"),...df,...dx,...dg,...dE}),dY=s9.z.object({type:s9.z.literal("STICKY"),authorVisible:s9.z.boolean(),authorName:s9.z.string(),...df,...dE,...dh,...dk,...dw,...dC,...db,...dU}),dX=s9.z.object({type:s9.z.literal("SHAPE_WITH_TEXT"),shapeType:dm,...df,...dE,...dh,...dk,...dw,...dC,...db,...dU,...dt,...dI}),dq=s9.z.object({type:s9.z.literal("CONNECTOR"),connectorStart:d_,connectorEnd:d_,connectorStartStrokeCap:dp,connectorEndStrokeCap:dp,textBackground:da.merge(dr).optional(),connectorLineType:s9.z.enum(["ELBOWED","STRAIGHT"]),...df,...dE,...dh,...dC,...db,...dU,...dI}),dJ=s9.z.object({type:s9.z.literal("WIDGET"),pluginId:s9.z.string(),pluginVersionId:s9.z.optional(s9.z.string()),size:cx.optional(),widgetSyncedState:du.optional(),...df,...db}),dQ=s9.z.object({type:s9.z.literal("TABLE"),numRows:s9.z.number().int(),numColumns:s9.z.number().int(),...df,...dE,...dh,...dC,...db,...dI}),d$=s9.z.object({type:s9.z.literal("TABLE_CELL"),rowIndex:s9.z.number().int(),columnIndex:s9.z.number().int(),...dE,...df,...dk,...dU}),d0=s9.z.object({type:s9.z.literal("VARIABLE_ALIAS"),id:s9.z.string()}),d1=s9.z.union([s9.z.boolean(),s9.z.number(),s9.z.string(),cb,cC,d0]);s9.z.object({type:s9.z.literal("VARIABLE"),variableCollectionId:s9.z.string(),valuesByMode:s9.z.record(d1),...df}),s9.z.object({type:s9.z.literal("VARIABLE_COLLECTION"),...df});let d2=s9.z.lazy(()=>s9.z.discriminatedUnion("type",[dA,dR,dM,dD,dF,dG,dj,dY,dX,dq,dJ,dQ,d$,dL.extend({children:s9.z.array(d2).optional()}),dO.extend({children:s9.z.array(d2).optional()}),dP.extend({children:s9.z.array(d2).optional()}),dZ.extend({children:s9.z.array(d2).optional()}),dV.extend({children:s9.z.array(d2).optional()}),dz.extend({children:s9.z.array(d2).optional()}),dK.extend({children:s9.z.array(d2).optional()})])),d5="@@INVALID_ID@@";function d3(e,t){if(!t)throw Error("Failed to generate ID for node");switch(e){case"NONE":case"DOCUMENT":case"CANVAS":case"STAR":case"LINE":case"REGULAR_POLYGON":case"RECTANGLE":case"SLICE":case"FRAME":case"GROUP":case"COMPONENT":case"COMPONENT_SET":case"SECTION":case"VARIABLE_COLLECTION":return{type:e,id:t};case"ELLIPSE":return{type:e,id:t,arcData:{startingAngle:0,endingAngle:2*Math.PI,innerRadius:0}};case"VECTOR":return{type:e,id:t,vectorNetwork:{vertices:[],segments:[]}};case"BOOLEAN_OPERATION":return{type:e,id:t,booleanOperation:"UNION"};case"TEXT":return{type:e,id:t,characters:""};case"INSTANCE":return{type:e,id:t,componentKey:"@@INVALID_COMPONENT@@",componentType:dW.COMPONENT};case"STICKY":return{type:e,id:t,characters:"",authorVisible:!0,authorName:""};case"SHAPE_WITH_TEXT":return{type:e,id:t,characters:"",shapeType:"SQUARE"};case"CONNECTOR":return{type:e,id:t,characters:"",connectorStart:{endpointNodeId:d5,magnet:"NONE"},connectorStartStrokeCap:"NONE",connectorEnd:{endpointNodeId:d5,magnet:"NONE"},connectorEndStrokeCap:"NONE",connectorLineType:"ELBOWED"};case"WIDGET":return{type:e,id:t,pluginId:"@@INVALID_PLUGIN@@"};case"TABLE":return{type:e,id:t,numRows:0,numColumns:0};case"TABLE_CELL":return{type:e,id:t,characters:"",rowIndex:-1,columnIndex:-1};case"VARIABLE":return{type:e,id:t,variableCollectionId:"@@INVALID_VARIABLE_COLLECTION@@",valuesByMode:{}}}}var d4=(e=>(e[e.IS_LAYER=0]="IS_LAYER",e[e.IS_INSTANCE=1]="IS_INSTANCE",e[e.IS_COMPONENT=2]="IS_COMPONENT",e[e.HAS_CANVAS_PROPERTIES=3]="HAS_CANVAS_PROPERTIES",e[e.HAS_BLEND_MODE_AND_OPACITY=4]="HAS_BLEND_MODE_AND_OPACITY",e[e.HAS_FRAME_PROPERTIES=5]="HAS_FRAME_PROPERTIES",e[e.HAS_GEOMETRY=6]="HAS_GEOMETRY",e[e.HAS_CORNER_RADIUS=7]="HAS_CORNER_RADIUS",e[e.HAS_BOOLEAN_OPERATION=8]="HAS_BOOLEAN_OPERATION",e[e.HAS_LAYOUT=9]="HAS_LAYOUT",e[e.HAS_TYPE_PROPERTIES=10]="HAS_TYPE_PROPERTIES",e[e.HAS_EXPORT_SETTINGS=11]="HAS_EXPORT_SETTINGS",e[e.HAS_EFFECTS=12]="HAS_EFFECTS",e[e.HAS_IMMUTABLE_FRAME_FILLS=13]="HAS_IMMUTABLE_FRAME_FILLS",e[e.HAS_IMMUTABLE_FRAME_STROKES=14]="HAS_IMMUTABLE_FRAME_STROKES",e[e.HAS_AUTHOR_VISIBLE=15]="HAS_AUTHOR_VISIBLE",e[e.HAS_MASK_PROPERTIES=16]="HAS_MASK_PROPERTIES",e[e.HAS_TEXT_SUBLAYER=17]="HAS_TEXT_SUBLAYER",e[e.HAS_IMMUTABLE_FRAME_LABEL=18]="HAS_IMMUTABLE_FRAME_LABEL",e[e.HAS_CONNECTOR_ENDPOINTS=19]="HAS_CONNECTOR_ENDPOINTS",e[e.HAS_CONNECTOR_LINE_TYPE=20]="HAS_CONNECTOR_LINE_TYPE",e[e.HAS_SHAPE_WITH_TEXT_SHAPE_TYPE=21]="HAS_SHAPE_WITH_TEXT_SHAPE_TYPE",e[e.ARC_DATA=22]="ARC_DATA",e[e.IS_TRANSITION_SOURCE=23]="IS_TRANSITION_SOURCE",e[e.IS_SECTION=24]="IS_SECTION",e[e.IS_VARIABLE=25]="IS_VARIABLE",e[e.IS_VARIABLE_COLLECTION=26]="IS_VARIABLE_COLLECTION",e))(d4||{});let d6=[0,4,9,5,6,11,12,16,23],d7=[0,4,9,6,11,12,16,23],d8=[...d7,7],d9=[...d7,7],ue={NONE:[],DOCUMENT:[0],CANVAS:[0,3,11],GROUP:d6,FRAME:d6,COMPONENT_SET:d6,BOOLEAN_OPERATION:[0,4,8,9,6,11,12,16,23],VECTOR:d8,STAR:d8,LINE:d7,ELLIPSE:[...d7,22],REGULAR_POLYGON:d8,RECTANGLE:d9,TEXT:[...d7,10],SLICE:[0,9,11],COMPONENT:[...d6,2],INSTANCE:[...d6,1],STICKY:[0,9,4,13,15,16,12,11,17],SHAPE_WITH_TEXT:[0,9,4,13,16,12,11,17,7,21,14],CONNECTOR:[0,9,4,12,11,17,14,19,18,20],WIDGET:[0,11],SECTION:[0,24,6,9],TABLE:[0,9,14,12,4,12,11],TABLE_CELL:[0,13,9,17],VARIABLE:[25],VARIABLE_COLLECTION:[26]};var ut=a(235310),ua=a(862901);let un="fig-kiwi";class ur{buffer;data;offset=0;constructor(e){this.buffer=e,this.data=new DataView(e.buffer)}readUint32(){let e=this.data.getUint32(this.offset,!0);return this.offset+=4,e}read(e){if(this.offset+e<=this.buffer.length){let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}throw Error(`read(${e}) is past end of data`)}readHeader(){let e=this.read(un.length),t=String.fromCharCode.apply(String,e);if(t!==un&&"fig-jam."!==t)throw Error(`Unexpected prelude: "${t}"`);return{prelude:t,version:this.readUint32()}}readData(e){return this.read(e)}readAll(){let e=this.readHeader(),t=[];for(;this.offset+4<this.buffer.length;){let e=this.readUint32(),a=this.readData(e);t.push(a)}return{header:e,files:t}}static parseArchive(e){return new ur(e).readAll()}}let ul=[ut.wS];function ui(e){let t;for(let a of ul)try{return a(e)}catch(e){t=e;continue}throw t||Error("No decompression functions available")}(e=>{let t="VariableCollectionId:";function a(e){return t+cg(e)}function n(e){return t+e.key+"/"+e.version}e.fromLocalNodeIdObj=a,e.fromAssetRef=n,e.fromKiwi=function(e){let{guid:t,assetRef:r}=e;return t&&!r?a(t):!t&&r&&r.key&&r.version?n(r):void 0}})(n||(n={}));let uo={NONE:"NONE",DOCUMENT:"DOCUMENT",CANVAS:"CANVAS",GROUP:"GROUP",FRAME:"FRAME",BOOLEAN_OPERATION:"BOOLEAN_OPERATION",VECTOR:"VECTOR",STAR:"STAR",LINE:"LINE",ELLIPSE:"ELLIPSE",RECTANGLE:"RECTANGLE",REGULAR_POLYGON:"REGULAR_POLYGON",ROUNDED_RECTANGLE:null,TEXT:"TEXT",SLICE:"SLICE",SYMBOL:"COMPONENT",INSTANCE:"INSTANCE",STICKY:"STICKY",SHAPE_WITH_TEXT:"SHAPE_WITH_TEXT",CONNECTOR:"CONNECTOR",CODE_BLOCK:null,WIDGET:"WIDGET",STAMP:null,MEDIA:null,HIGHLIGHT:null,SECTION:"SECTION",SECTION_OVERLAY:null,WASHI_TAPE:null,VARIABLE:"VARIABLE",TABLE:"TABLE",TABLE_CELL:"TABLE_CELL",VARIABLE_SET:"VARIABLE_COLLECTION",SLIDE:null,ASSISTED_LAYOUT:null,INTERACTIVE_SLIDE_ELEMENT:null,VARIABLE_OVERRIDE:null,MODULE:null,SLIDE_GRID:null,SLIDE_ROW:null,RESPONSIVE_SET:null};function us(e){let t=[];for(let a of e)"SOLID"===a.type&&a.color&&t.push({type:"SOLID",color:{r:a.color.r,g:a.color.g,b:a.color.b,a:a.color.a||1}});return t}function uc(e){return["FRAME","SYMBOL","INSTANCE","WIDGET","SECTION","TABLE_CELL","SLIDE","MODULE","SLIDE_GRID","SLIDE_ROW"].includes(e.type||"")&&!!e.stackMode&&"NONE"!==e.stackMode}function ud(e,t){var a,n;return uc(e)&&(t===("HORIZONTAL"===e.stackMode?"X":"Y")?!!e.stackChildPrimaryGrow&&e.stackChildPrimaryGrow>0:"STRETCH"===e.stackChildAlignSelf)?"FILL":(a=e,n=t,uc(a)&&(n===("HORIZONTAL"===a.stackMode?"X":"Y")?"RESIZE_TO_FIT"===a.stackPrimarySizing||"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===a.stackPrimarySizing:"RESIZE_TO_FIT"===a.stackCounterSizing||"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===a.stackCounterSizing))?"HUG":"FIXED"}function uu(e){switch(e){case"MIN":return"MIN";case"MAX":return"MAX";case"STRETCH":return"STRETCH";case"CENTER":return"CENTER";case"SCALE":return"SCALE"}}function um(e){switch(e){case"FIXED":return"FIXED";case"RESIZE_TO_FIT":case"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE":return"AUTO"}}function up(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[t,e]))}up({px:1,0:0,"0.5":2,1:4,"1.5":6,2:8,"2.5":10,3:12,"3.5":14,4:16,5:20,6:24,7:28,8:32,9:36,10:40,11:44,12:48,14:56,16:64,20:80,24:96,28:112,32:128,36:144,40:160,44:176,48:192,52:208,56:224,60:240,64:256,72:288,80:320,96:384,100:400}),up({xs:12,sm:14,base:16,lg:18,xl:20,"2xl":24,"3xl":30,"4xl":36,"5xl":48,"6xl":60,"7xl":72,"8xl":96,"9xl":128}),up({none:0,"":4,sm:2,md:6,lg:8,xl:12,"2xl":16,"3xl":24,full:9999}),up({thin:100,extralight:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900}),up({black:"#000000",white:"#ffffff","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","slate-950":"#020617","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","gray-950":"#030712","neutral-50":"#fafafa","zinc-100":"#f4f4f5","zinc-200":"#e4e4e7","zinc-300":"#d4d4d8","zinc-400":"#a1a1aa","zinc-500":"#71717a","zinc-600":"#52525b","zinc-700":"#3f3f46","zinc-800":"#27272a","zinc-900":"#18181b","zinc-950":"#09090b","neutral-100":"#f5f5f5","neutral-200":"#e5e5e5","neutral-300":"#d4d4d4","neutral-400":"#a3a3a3","neutral-500":"#737373","neutral-600":"#525252","neutral-700":"#404040","neutral-800":"#262626","neutral-900":"#171717","neutral-950":"#0a0a0a","stone-50":"#fafaf9","stone-100":"#f5f5f4","stone-200":"#e7e5e4","stone-300":"#d6d3d1","stone-400":"#a8a29e","stone-500":"#78716c","stone-600":"#57534e","stone-700":"#44403c","stone-800":"#292524","stone-900":"#1c1917","stone-950":"#0c0a09","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d","red-950":"#450a0a","orange-50":"#fff7ed","orange-100":"#ffedd5","orange-200":"#fed7aa","orange-300":"#fdba74","orange-400":"#fb923c","orange-500":"#f97316","orange-600":"#ea580c","orange-700":"#c2410c","orange-800":"#9a3412","orange-900":"#7c2d12","orange-950":"#431407","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","amber-950":"#451a03","yellow-50":"#fefce8","yellow-100":"#fef9c3","yellow-200":"#fef08a","yellow-300":"#fde047","yellow-400":"#facc15","yellow-500":"#eab308","yellow-600":"#ca8a04","yellow-700":"#a16207","yellow-800":"#854d0e","yellow-900":"#713f12","yellow-950":"#422006","lime-50":"#f7fee7","lime-100":"#ecfccb","lime-200":"#d9f99d","lime-300":"#bef264","lime-400":"#a3e635","lime-500":"#84cc16","lime-600":"#65a30d","lime-700":"#4d7c0f","lime-800":"#3f6212","lime-900":"#365314","lime-950":"#1a2e05","green-50":"#f0fdf4","green-100":"#dcfce7","green-200":"#bbf7d0","green-300":"#86efac","green-400":"#4ade80","green-500":"#22c55e","green-600":"#16a34a","green-700":"#15803d","green-800":"#166534","green-900":"#14532d","green-950":"#052e16","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","emerald-950":"#022c22","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","teal-950":"#042f2e","cyan-50":"#ecfeff","cyan-100":"#cffafe","cyan-200":"#a5f3fc","cyan-300":"#67e8f9","cyan-400":"#22d3ee","cyan-500":"#06b6d4","cyan-600":"#0891b2","cyan-700":"#0e7490","cyan-800":"#155e75","cyan-900":"#164e63","cyan-950":"#083344","sky-50":"#f0f9ff","sky-100":"#e0f2fe","sky-200":"#bae6fd","sky-300":"#7dd3fc","sky-400":"#38bdf8","sky-500":"#0ea5e9","sky-600":"#0284c7","sky-700":"#0369a1","sky-800":"#075985","sky-900":"#0c4a6e","sky-950":"#082f49","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","blue-950":"#172554","indigo-50":"#eef2ff","indigo-100":"#e0e7ff","indigo-200":"#c7d2fe","indigo-300":"#a5b4fc","indigo-400":"#818cf8","indigo-500":"#6366f1","indigo-600":"#4f46e5","indigo-700":"#4338ca","indigo-800":"#3730a3","indigo-900":"#312e81","indigo-950":"#1e1b4b","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","violet-950":"#2e1065","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","purple-950":"#3b0764","fuchsia-50":"#fdf4ff","fuchsia-100":"#fae8ff","fuchsia-200":"#f5d0fe","fuchsia-300":"#f0abfc","fuchsia-400":"#e879f9","fuchsia-500":"#d946ef","fuchsia-600":"#c026d3","fuchsia-700":"#a21caf","fuchsia-800":"#86198f","fuchsia-900":"#701a75","fuchsia-950":"#4a044e","pink-50":"#fdf2f8","pink-100":"#fce7f3","pink-200":"#fbcfe8","pink-300":"#f9a8d4","pink-400":"#f472b6","pink-500":"#ec4899","pink-600":"#db2777","pink-700":"#be185d","pink-800":"#9d174d","pink-900":"#831843","pink-950":"#500724","rose-50":"#fff1f2","rose-100":"#ffe4e6","rose-200":"#fecdd3","rose-300":"#fda4af","rose-400":"#fb7185","rose-500":"#f43f5e","rose-600":"#e11d48","rose-700":"#be123c","rose-800":"#9f1239","rose-900":"#881337","rose-950":"#4c0519"}),up({3:12,4:16,5:20,6:24,7:28,8:32,9:36,10:40});var u_=a(330654),uf=a(453681),uh=a(933342),ug=a(50335),uE=a(262151),uy=a(435011),uv=a(532888),ub=a(707033),uC=a(176626),uw=a(22631),uT=a(547807);let uS=new class{sendFeatureRequest(e){return ro.Ay.post("/api/ask_figma/request_feature",uT.td.toAPIParameters(e))}};var uN=(e=>(e.Idle="idle",e.Loading="loading",e.Error="error",e))(uN||{});let ux=(0,lk.eU)({status:"idle",messages:[]}),uk=u_.object({type:u_.literal("indexed-fragment"),node_id:u_.string(),file_key:u_.string(),score:u_.number(),file_name:u_.string(),editor_name:u_.string(),editor_img_url:u_.string(),last_edited_at:u_.string(),url:u_.string(),thumbnail_url:u_.string(),edit_info:u_.object({created_at:u_.string(),last_modified:u_.string(),last_modified_user:u_.string()}).optional(),containing_page_name:u_.string(),containing_frame_name:u_.string().optional(),fragment_name:u_.string(),width:u_.number(),height:u_.number()}),uI=u_.object({type:u_.literal("fragments"),status:u_.literal("success"),fragments:u_.array(uk)}),uA=u_.object({type:u_.literal("fragments"),status:u_.literal("success"),fragments:u_.array(uk.pick({score:!0,file_name:!0,editor_name:!0,last_edited_at:!0,containing_page_name:!0,containing_frame_name:!0,fragment_name:!0})),images:u_.array(u_.string())}),uL=u_.object({type:u_.literal("selection"),status:u_.literal("success"),selectionLength:u_.number()}),uO=u_.object({type:u_.literal("selection"),status:u_.literal("success"),selectionLength:u_.number(),images:u_.array(u_.string()),jsx:u_.array(u_.string())}),uR=u_.object({type:u_.literal("plugin"),status:u_.literal("success")}),uM=u_.object({type:u_.literal("plugin"),status:u_.literal("success")}),uD=u_.object({type:u_.literal("assets"),queries:u_.array(u_.string()),status:u_.literal("success"),assets:u_.any().array()}),uP=u_.object({type:u_.literal("assets"),status:u_.literal("success"),assets:u_.array(u_.object({name:u_.string(),description:u_.string().optional()})),images:u_.array(u_.string())}),uF=u_.object({type:u_.literal("request-feature"),status:u_.literal("success"),title:u_.string(),description:u_.string()}),uB=u_.object({type:u_.literal("request-feature"),status:u_.literal("success"),images:u_.undefined()}),uU=u_.object({userFacing:u_.union([uI,uL,uR,uD,uF]),assistantFacing:u_.union([uA,uO,uM,uP,uB])});async function uH(e){if("function"!==e.type)throw Error("Unexpected tool_call type:"+e.type);let t=JSON.parse(e.function.arguments),a=U.zl.get(X.ze);if(!a)throw Error("No file key found");switch(e.function.name){case"autocomplete":case"view_user_selection":{let e=al.q.instance.getCurrentPage()?.directlySelectedNodes??[],t=e?.slice(0,10),a=t.map(e=>{let t=(0,G.T1)(e,G.UF.GPT);if(!t)throw Error("Failed to export thumbnail");return t}),r=t.map(e=>{var t;let a=(t=e.guid,function(e){let{message:t}=function(e){let{header:t,files:a}=ur.parseArchive(e),[n,r,l]=a,i=ui(n),o=(0,ua.Xb)(i),s=(0,ua.Fc)(o),c=ui(r);return{message:s.decodeMessage(c),schema:o,header:t,preview:l}}(e);if(!t)throw Error("Failed to read fig file");let a={};for(let e of t.nodeChanges||[]){let{guid:t}=e;t&&(a[cg(t)]=e)}let r=[],l={};for(let e of t.nodeChanges||[]){let{type:t,guid:i}=e;if(!t||!i)continue;let o=uo[t];if(!o)continue;e.isStateGroup&&(o="COMPONENT_SET");let s=d3(o,cg(i));for(let t of ue[o])(function(e,t,a,r){switch(e){case d4.IS_LAYER:{let{parentIndex:e,name:a,visible:n,locked:l,scrollBehavior:i}=t;e&&(r.parentId=cg(e.guid)),a&&(r.name=a),null!=n&&(r.visible=n),null!=l&&(r.locked=l),i&&("SCROLLS"===i&&(r.scrollBehavior="SCROLLS"),"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"===i&&(r.scrollBehavior="FIXED"),"STICKY_SCROLLS"===i&&(r.scrollBehavior="STICKY_SCROLLS"));break}case d4.HAS_LAYOUT:{let{type:e,parentIndex:n,transform:l,proportionsConstrained:i,verticalConstraint:o,horizontalConstraint:s,size:c,minSize:d,maxSize:u,stackChildAlignSelf:m,stackChildPrimaryGrow:p,stackPositioning:_}=t,f=n&&a[cg(n.guid)],h=f&&uc(f);l&&(r.relativeTransform=[[l.m00,l.m01,l.m02],[l.m10,l.m11,l.m12]]),i&&!h&&(r.preserveRatio=i),"SECTION"!==e&&"TABLE_CELL"!==e&&(r.constraints={vertical:uu(o),horizontal:uu(s)}),c&&(r.size={width:c.x,height:c.y}),h&&(r.layoutAlign=function(e){switch(e){case"MIN":return"MIN";case"CENTER":return"CENTER";case"MAX":return"MAX";case"STRETCH":return"STRETCH";case"BASELINE":return"BASELINE";case"AUTO":return"INHERIT"}}(m),r.layoutGrow=p,"ABSOLUTE"===_&&(r.layoutPositioning="ABSOLUTE")),h&&uc(t)&&(d&&(r.minWidth=d.value?.x,r.minHeight=d.value?.y),u&&(r.maxWidth=u.value?.x,r.maxHeight=u.value?.y),r.layoutSizingHorizontal=ud(t,"X"),r.layoutSizingVertical=ud(t,"Y"));break}case d4.HAS_GEOMETRY:{let{fillPaints:e,strokePaints:a}=t;e&&(r.fills=us(e)),a&&(r.strokes=us(a));break}case d4.IS_INSTANCE:case d4.IS_COMPONENT:case d4.HAS_CANVAS_PROPERTIES:break;case d4.HAS_BLEND_MODE_AND_OPACITY:{let{blendMode:e,opacity:a}=t;e&&(r.blendMode=e),r.opacity=a??1;break}case d4.HAS_FRAME_PROPERTIES:{let{stackMode:e,stackCounterSizing:a,stackSpacing:n,stackPrimarySizing:l,stackCounterAlignItems:i,stackPrimaryAlignItems:o}=t;e&&(r.layoutMode=e),a&&(r.counterAxisSizingMode=um(a)),n&&(r.itemSpacing=n),l&&(r.primaryAxisSizingMode=um(l)),i&&(r.counterAxisAlignItems=i),o&&(r.primaryAxisAlignItems=function(e){switch(e){case"MIN":return"MIN";case"CENTER":return"CENTER";case"MAX":return"MAX";case"SPACE_BETWEEN":case"SPACE_EVENLY":return"SPACE_BETWEEN"}}(o));break}case d4.HAS_CORNER_RADIUS:{let{cornerRadius:e,rectangleTopLeftCornerRadius:a,rectangleTopRightCornerRadius:n,rectangleBottomLeftCornerRadius:l,rectangleBottomRightCornerRadius:i}=t;e&&(r.cornerRadius=e),null!=a&&null!=n&&null!=l&&null!=i&&(r.rectangleCornerRadii={topLeft:a||0,topRight:n||0,bottomLeft:l||0,bottomRight:i||0});break}case d4.HAS_BOOLEAN_OPERATION:{let{booleanOperation:e}=t;e&&(r.booleanOperation="XOR"===e?"EXCLUDE":e);break}case d4.HAS_TYPE_PROPERTIES:{let{textData:e,derivedTextData:a,fontName:n,fontSize:l,lineHeight:i}=t,o={};e&&e.characters&&(r.characters=e.characters),n&&(o.fontName={family:n.family,style:n.style}),l&&(o.fontSize=l);let s=a?.fontMetaData?.find(e=>e.key?.family===n?.family&&e.key?.style===n?.style);if(l&&i){let e=s?.fontLineHeight!==void 0?s.fontLineHeight:1.171875;switch(i.units){case"RAW":o.lineHeightPx=l*i.value,o.lineHeightPercentFontSize=100*i.value,o.lineHeightUnit="FONT_SIZE_%";break;case"PIXELS":o.lineHeightPx=i.value,o.lineHeightPercentFontSize=100*i.value/l,o.lineHeightUnit="PIXELS";break;case"PERCENT":o.lineHeightPx=i.value/100*e*l,100!==i.value&&(o.lineHeightPercentFontSize=i.value*e),o.lineHeightUnit="INTRINSIC_%"}}r.style=o;break}case d4.HAS_EXPORT_SETTINGS:case d4.HAS_EFFECTS:case d4.HAS_IMMUTABLE_FRAME_FILLS:case d4.HAS_AUTHOR_VISIBLE:case d4.HAS_MASK_PROPERTIES:case d4.HAS_TEXT_SUBLAYER:case d4.HAS_IMMUTABLE_FRAME_LABEL:case d4.HAS_CONNECTOR_ENDPOINTS:case d4.HAS_CONNECTOR_LINE_TYPE:case d4.HAS_SHAPE_WITH_TEXT_SHAPE_TYPE:case d4.HAS_IMMUTABLE_FRAME_STROKES:case d4.ARC_DATA:case d4.IS_TRANSITION_SOURCE:break;case d4.IS_SECTION:{let{sectionContentsHidden:e}=t;e&&(r.sectionContentsHidden=e);break}case d4.IS_VARIABLE:{let{name:e,variableSetID:a,variableDataValues:l}=t;e&&(r.name=e),a&&(r.variableCollectionId=n.fromKiwi(a)),l&&(r.valuesByMode=function(e){if(!e.entries)return{};let t={};for(let a of e.entries)if(a.modeID){let e=function(e){if(e)switch(e.dataType){case"BOOLEAN":return e.value?.boolValue;case"FLOAT":return e.value?.floatValue;case"STRING":return e.value?.textValue;case"COLOR":return e.value?.colorValue;case"ALIAS":return e.value?.alias?.guid?{type:"VARIABLE_ALIAS",id:cg(e.value?.alias?.guid)}:void 0}}(a.variableData);e&&(t[cg(a.modeID)]=e)}return t}(l));break}case d4.IS_VARIABLE_COLLECTION:break;default:throw Error(`Unhandled trait: ${e}`)}})(t,e,a,s);r.push(s);let c=e.parentIndex&&cg(e.parentIndex.guid);c&&(l[c]||(l[c]=[]),l[c].push({position:e.parentIndex.position,node:s}))}let i=null;for(let e of r){if("DOCUMENT"===e.type){i=e;break}if(!e.parentId)throw Error("Found orphaned node")}return i?(function e(t){let a=l[t.id];a&&(a.sort((e,t)=>{var a,n;return+((a=e.position)<(n=t.position))-+(a>n)}),t.children=a.map(({node:t})=>(e(t),t)))}(i),i):null}(i.glU.generateClipboardScene(t)));return a?function(e,t){let a=function e(t,a,n){for(let r of a){let l=r.serialize(t,n=>e(n,a,t),n);if(null!=l)return l}return null}(e,t,void 0);if(null==a)throw Error("Failed to transform node");return function(e,t={}){let a={...cu,...t},n=a.indent?a.indent:"",r=a.indent?"\n":"";if(null===e)return"";let l=(e,t)=>{if("string"==typeof e)return t+e+r;if(null===e)return"";{let a=Object.entries(e.props).map(cm).join(" "),i=e.children?.filter(e=>null!==e).map(e=>l(e,t+n))??[],o=e.type;return i.length>0?`${t}<${o}${a.length>0?" "+a:""}>${r}`+i.join("")+`${t}</${o}>${r}`:`${t}<${o} ${a}/>${r}`}};return l(e,"").trimEnd()}(a)}(a,[function(e){let t=new ch;return{serialize:(t,a)=>{let n={id:t.id};for(let a of e){let e=[];for(let n of a.inputs)e[n]=t[n];let r=new Set(Object.keys(a.outputs.shape)),l=a.serialize(e);for(let e of Object.keys(l)){if(!r.has(e))throw Error(`Field ${e} not in output shape for field serializer ${a.inputs.join(", ")}`);if(void 0!==n[e])throw Error(`Field ${e} already set on node ${"id"in t?t.id:"unknown"}`);n[e]=l[e]}}let r=[];if("children"in t&&t.children)for(let e of t.children){let t=a(e);t&&r.push(t)}return{type:t.type,props:n,children:r}},deserialize:(a,n)=>{if("string"==typeof a)return null;let r=d3(a.type,a.props.id||t.generate().toString());if(!r)throw Error(`Unknown node type ${a.type}`);for(let t of(r.children=a.children.map(n).filter(e=>null!==e),e)){let e=t.outputs.safeParse(a.props);if(!e.success)continue;let n=t.deserialize(e.data);for(let e of Object.keys(n))e in r&&console.warn(`Field ${e} already set on node ${"id"in a?a.id:"unknown"}`),r[e]=n[e]}return r}}}([ct,ca,cs,cc,cd])]):""});return{userFacing:{type:"selection",status:"success",selectionLength:e.length},assistantFacing:{type:"selection",status:"success",selectionLength:e.length,images:a,jsx:r}}}case"visual_search_with_selection":case"search_designs_by_text":{let n=[];if("visual_search_with_selection"===e.function.name){let e=al.q.instance.getCurrentPage()?.directlySelectedNodes;if(!e||0===e.length)throw Error("No selection found");n=(await (0,G.lc)({type:"input-selection",node:e[0],file_key:a,name:e[0].name})).slice(0,3)}else n=(await (0,G.c)({type:"input-text",value:t.query,file_key:a})).slice(0,3);return{userFacing:{type:"fragments",status:"success",fragments:n},assistantFacing:{type:"fragments",status:"success",fragments:n.map(e=>({score:e.score,file_name:e.file_name,editor_name:e.editor_name,last_edited_at:e.last_edited_at,containing_page_name:e.containing_page_name,containing_frame_name:e.containing_frame_name,fragment_name:e.fragment_name})),images:n.map(e=>e.thumbnail_url)}}}case"search_components_by_text":{let e=t.queries.slice(0,3);if(0===e.length)throw Error("No queries provided");let a=(await Promise.all(e.map(e=>uV(e)))).map(e=>e.slice(0,3)).flat(),n=[],r=[];return a.map(e=>{if(!e.thumbnail_url)return;let t=e.thumbnail_url.startsWith("/")?`${window.location.origin}${e.thumbnail_url}`:e.thumbnail_url;n.push(e),r.push(t)}),{userFacing:{type:"assets",status:"success",queries:t.queries,assets:n},assistantFacing:{type:"assets",status:"success",assets:n.map(e=>({name:e.name,description:e.description})),images:r}}}case"create_figma_plugin":let r=u_.object({plugin_code:u_.string(),ui_code:u_.string().optional()}).safeParse(t);if(!r.success)throw Error("Invalid args: "+r.error.toString());let{plugin_code:l,ui_code:o}=r.data;return uG(l,o);case"edit_file":{let e=u_.object({code:u_.string()}).safeParse(t);if(!e.success)throw Error("Invalid args: "+e.error.toString());let{code:a}=e.data;return uG(a)}case"request_feature":let s=u_.object({title:u_.string(),description:u_.string()}).safeParse(t);if(!s.success)throw Error("Invalid args: "+s.error.toString());let{title:c,description:d}=s.data,u={title:c,description:d,chatHistory:U.zl.get(ux).messages};return await uS.sendFeatureRequest(u),{userFacing:{type:"request-feature",status:"success",title:c,description:d},assistantFacing:{type:"request-feature",status:"success"}};default:throw Error(`No function found for ${e.function.name}`)}}async function uG(e,t){let a=U.zl.get(X.ze),n=(0,ub.o8)();if(!n)throw Error("Cannot run plugin while logged out");if(!a)throw Error("No file key found");await (0,oM.wY)();let r=`
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
    ${t}
    </script>
    <div id="root"></div>
    `,l=t?(0,rB.nx)(e,r):e,i=(0,oM.mv)();return oM.iu.currentPluginRunID=i,(0,uE.E9)({allowedDomains:uC.gH,apiVersion:ug.pS,capabilities:[],stats:new uw.P,checkSyntax:!0,code:l,command:"",disableSilenceConsole:!0,enablePrivatePluginApi:!1,enableProposedApi:!1,errorHandler:p.lQ,isLocal:!0,isWidget:!1,name:"Assistant plugin",openFileKey:a,permissions:rB.qH.forFirstPartyPlugin(),pluginID:"",pluginRunID:i,pluginVersionID:"0",queryMode:!1,showLaunchErrors:!0,showRuntimeErrors:!0,titleIconURL:"",userID:n,vmType:"cppvm",editorType:[rz.FW.FIGMA],incrementalSafeApi:!1,enableNativeJsx:!1}),{userFacing:{type:"plugin",status:"success"},assistantFacing:{type:"plugin",status:"success"}}}async function uV(e){let t=sG.D.getState(),a=(0,X.tB)(t),n=(0,uv.vx)(t);if(!a||null==n)throw Error("No open file or file version found");let r=1;for(;!(0,uh.Wg)(sG.D.getState())&&r<=50;)await new Promise(e=>setTimeout(e,200*r)),r++;if(!(0,uh.Wg)(sG.D.getState()))throw Error("Failed to initialize assets");let l={type:sU.I.ALL};t=sG.D.getState();let i={type:"input-text",query:e,assetTypeOption:l,isKnownLibrary:e=>!0,openFile:(0,X.tB)(t),selectedView:(0,uy.hK)(t),inDesignEditor:(0,eG.XE)((0,uy.hK)(t))===Z.nT.Design,fileVersion:n,currentOrgId:(0,a6.eD)(t),fileByKey:(0,uv.t_)(t),libraryByLibraryKey:U.zl.get(uf.qp)},o=(await (0,V.C8)(i,U.zl.get(W.dd))).normalizedSearchResults.filter(e=>i.isKnownLibrary((0,V.Ps)(e)));return(0,uh.Ow)(o)}async function uz(e,t,a,n){try{let r;let l=al.q.instance.getCurrentPage()?.directlySelectedNodes,i="string"==typeof e?{role:"user",content:[{type:"text",text:`<user_message><user_input>${e}</user_input><selected_layer_ids>${l&&JSON.stringify(l.map(e=>e.guid))}</selected_layer_ids></user_message>`}]}:e;a(e=>({...e,status:uN.Loading,messages:[...e.messages,i]}));let o=[];for(let e of t){let t=function(e){if("tool"!==e.role)return e;let t=e.content,a="string"==typeof t?JSON.parse(t):t,n=uU.parse(a).assistantFacing,r=n.type;switch(r){case"selection":case"assets":case"fragments":let{images:l,...i}=n;return{...e,content:JSON.stringify(i)};case"plugin":case"request-feature":return e;default:(0,ok.xb)(r)}}(e);o.push(t)}let s=(await s8(i,o,n)).getReader();for(;;){let{done:e,value:t}=await s.read();if(e){a(e=>({...e,status:uN.Idle}));break}let{sendFollowup:n,newMessages:l}=function(e){if("tool"!==e.role)return{sendFollowup:!1,newMessages:[]};let t=e.content,a="string"==typeof t?JSON.parse(t):t,n=uU.parse(a),r=n.assistantFacing.type;switch(r){case"selection":case"assets":case"fragments":return{sendFollowup:!0,newMessages:[{role:"user",content:[{type:"text",text:"<!-- The tool call showed me the following images: -->"},...n.assistantFacing.images.map(e=>({type:"image_url",image_url:{url:e.startsWith("http")?e:`data:image/jpeg;base64,${e}`,detail:"high"}}))]}]};case"plugin":case"request-feature":return{sendFollowup:!1,newMessages:[]};default:(0,ok.xb)(r)}}(t);l.length>0&&n&&(r=l[l.length-1]),a(e=>"string"==typeof t.content&&0===t.content.length||t.role!==e.messages[e.messages.length-1]?.role?{status:uN.Loading,messages:[...e.messages,t,...l]}:{status:uN.Loading,messages:[...e.messages.slice(0,-1),t,...l]})}r&&uz(r,U.zl.get(ux).messages,a,n)}catch(e){(0,S.Lo)("Send chat message failed: ",e.message),a(e=>({...e,status:uN.Error}))}}var uK=a(652875),uW=a(248513),uj=a(124008),uZ=a(963757);function uY(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16 10.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Zm-1.27 4.936a6.5 6.5 0 1 1 .707-.707l4.417 4.417a.5.5 0 0 1-.708.708l-4.417-4.418Z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon)",d:"m9.5 9.5.515-2.06c.126-.505.844-.505.97 0L11.5 9.5l2.06.515c.505.126.505.844 0 .97l-2.06.515-.515 2.06c-.126.505-.844.505-.97 0L9.5 11.5l-2.06-.515c-.505-.126-.505-.844 0-.97L9.5 9.5Z"}))}var uX=a(339350);function uq(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("mask",{id:"fpl-icon-24-plugin-a",width:"12",height:"18",x:"6",y:"3",fill:"#000",maskUnits:"userSpaceOnUse"},r.createElement("path",{fill:"#fff",d:"M6 3h12v18H6z"}),r.createElement("path",{fillRule:"evenodd",d:"M12 4a1.5 1.5 0 0 0-1.284 2.275c.147.244.284.506.284.79V8H7v1.878a2.25 2.25 0 1 1 0 4.244V16h4v.935c0 .284-.137.546-.284.79a1.5 1.5 0 1 0 2.569 0c-.148-.244-.285-.506-.285-.79V16h4v-1.878a2.25 2.25 0 1 1 0-4.244V8h-4v-.935c0-.284.137-.546.284-.79A1.5 1.5 0 0 0 12 4Z",clipRule:"evenodd"})),r.createElement("path",{fill:"var(--color-icon)",d:"m10.716 6.275.855-.517-.855.517ZM11 8v1a1 1 0 0 0 1-1h-1ZM7 8V7a1 1 0 0 0-1 1h1Zm0 1.878H6a1 1 0 0 0 1.333.943L7 9.878Zm0 4.244.333-.943A1 1 0 0 0 6 14.122h1ZM7 16H6a1 1 0 0 0 1 1v-1Zm4 0h1a1 1 0 0 0-1-1v1Zm-.284 1.725.855.517-.855-.517Zm2.568 0-.855.517.855-.517ZM13 16v-1a1 1 0 0 0-1 1h1Zm4 0v1a1 1 0 0 0 1-1h-1Zm0-1.878h1a1 1 0 0 0-1.333-.943l.333.943Zm0-4.244-.333.943A1 1 0 0 0 18 9.878h-1ZM17 8h1a1 1 0 0 0-1-1v1Zm-4 0h-1a1 1 0 0 0 1 1V8Zm.284-1.725-.855-.517.855.517ZM11.5 5.5A.5.5 0 0 1 12 5V3a2.5 2.5 0 0 0-2.5 2.5h2Zm.071.258A.493.493 0 0 1 11.5 5.5h-2c0 .471.131.915.36 1.293l1.711-1.035ZM12 7.065c0-.588-.28-1.062-.429-1.307L9.86 6.793c.066.109.103.18.125.234.02.05.015.058.015.038h2ZM12 8v-.935h-2V8h2ZM7 9h4V7H7v2Zm1 .878V8H6v1.878h2ZM7.75 8.75a3.25 3.25 0 0 0-1.083.185l.666 1.886c.13-.046.27-.071.417-.071v-2ZM11 12a3.25 3.25 0 0 0-3.25-3.25v2c.69 0 1.25.56 1.25 1.25h2Zm-3.25 3.25A3.25 3.25 0 0 0 11 12H9c0 .69-.56 1.25-1.25 1.25v2Zm-1.083-.185c.34.12.705.185 1.083.185v-2c-.148 0-.288-.025-.417-.07l-.666 1.885ZM8 16v-1.878H6V16h2Zm3-1H7v2h4v-2Zm1 1.935V16h-2v.935h2Zm-.429 1.307c.149-.245.429-.719.429-1.307h-2c0-.02.005-.012-.015.038a1.701 1.701 0 0 1-.125.234l1.711 1.035Zm-.071.258c0-.096.026-.183.071-.258L9.86 17.207A2.49 2.49 0 0 0 9.5 18.5h2Zm.5.5a.5.5 0 0 1-.5-.5h-2A2.5 2.5 0 0 0 12 21v-2Zm.5-.5a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm-.071-.258a.493.493 0 0 1 .071.258h2a2.49 2.49 0 0 0-.36-1.293l-1.711 1.035ZM12 16.935c0 .588.28 1.062.429 1.307l1.711-1.035a1.697 1.697 0 0 1-.125-.234c-.02-.05-.015-.058-.015-.038h-2ZM12 16v.935h2V16h-2Zm5-1h-4v2h4v-2Zm-1-.878V16h2v-1.878h-2Zm.25 1.128a3.25 3.25 0 0 0 1.083-.185l-.666-1.886c-.13.046-.27.071-.417.071v2ZM13 12a3.25 3.25 0 0 0 3.25 3.25v-2c-.69 0-1.25-.56-1.25-1.25h-2Zm3.25-3.25A3.25 3.25 0 0 0 13 12h2c0-.69.56-1.25 1.25-1.25v-2Zm1.083.185a3.246 3.246 0 0 0-1.083-.185v2c.148 0 .288.025.417.07l.666-1.885ZM16 8v1.878h2V8h-2Zm-3 1h4V7h-4v2Zm-1-1.935V8h2v-.935h-2Zm.429-1.307c-.149.245-.429.719-.429 1.307h2c0 .02-.005.012.015-.038.022-.055.06-.125.125-.234l-1.711-1.035ZM12.5 5.5a.493.493 0 0 1-.071.258l1.711 1.035A2.49 2.49 0 0 0 14.5 5.5h-2ZM12 5a.5.5 0 0 1 .5.5h2A2.5 2.5 0 0 0 12 3v2Z",mask:"url(#fpl-icon-24-plugin-a)"}))}var uJ=a(293775),uQ=a(45623),u$=a(434228);function u0(e){return(0,u$.O)()?r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"M12 18V6m0 0-4.5 4.5M12 6l4.5 4.5"})):r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"M11.5 17.5v-12m0 0-5 5m5-5 5 5"}))}var u1=a(135317),u2=a(339502),u5=a(323434),u3=a(711117),u4=a(620722),u6=a(545816),u7=a(395977),u8=a(750600),u9=a(268645),me=a(276060),mt=a(699306);function ma({url:e}){return r.createElement("img",{src:e,className:tj.cx.maxW100.$,alt:"debug"})}function mn(e){let{obj:t,depth:a=0}=e;if(null===t)return r.createElement("span",{className:tj.cx.colorTextTertiary.$},(0,h.t)("assistant.debug.null"));if("object"!=typeof t){if("string"==typeof t){if(t.startsWith("{")&&t.endsWith("}"))try{let e=JSON.parse(t);return r.createElement(mn,{obj:e,depth:a})}catch(e){}return t.startsWith("data:image")?r.createElement(ma,{url:t}):t.length>300&&t.match(/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/)?r.createElement(ma,{url:`data:image/jpeg;base64,${t}`}):r.createElement("span",{className:tj.cx.colorTextSuccess.$},'"',t,'"')}return"number"==typeof t?r.createElement("span",{className:tj.cx.colorTextSelected.$},t):"boolean"==typeof t?r.createElement("span",{className:tj.cx.colorTextComponent.$},t.toString()):r.createElement("span",null,t)}let n=Array.isArray(t),l=n?["[","]"]:["{","}"],i=Object.entries(t);return r.createElement("div",{style:{marginLeft:`${8*a}px`}},l[0],i.length>0&&r.createElement("div",null,i.map(([e,t],l)=>r.createElement("div",{key:e},!n&&r.createElement("span",{className:tj.cx.colorTextDanger.$},`"${e}:" `),r.createElement(mn,{obj:t,depth:a+1}),l<i.length-1&&","))),l[1])}function mr(e){let{data:t}=e;return r.createElement("pre",{contentEditable:!0,className:"font-mono text-sm select-all text-wrap"},r.createElement(mn,{obj:t}))}function ml({messages:e}){return r.createElement("div",null,r.createElement("div",{className:tj.cx.px2.py2.$},r.createElement(mr,{data:e})))}let mi=(0,lq.Ju)(function({messages:e}){let t=(0,l.wA)();return r.createElement(aY.vx,{onClose:()=>{t(eM.AS())},initialPosition:new aw.Mi(0,0),initialWidth:400,allowResizeWidth:!0,autoflowHeight:!0,title:(0,h.t)("assistant.debug.title"),dragHeaderOnly:!0},r.createElement("div",{className:tj.cx.px2.py2.$,style:{height:600,overflowX:"scroll",overflowY:"scroll"}},r.createElement(lx.$n,{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(e,void 0,2))}},(0,h.t)("assistant.debug.copy_all")),r.createElement(ml,{messages:e})))},"AssistantDebugModal",lq.ZU.YES);function mo(){let[e,t]=r.useState(""),[a,n]=(0,U.fp)(ux),i=(0,l.wA)(),o=(0,l.d4)(e=>e.modalShown);(0,sH.b)();let s=r.useCallback(()=>{if(o&&o.type===mi.type){i(eM.AS());return}i(eM.to({type:mi,data:{messages:a.messages}}))},[a.messages,i,o]);r.useEffect(()=>{o?.type!==mi.type||i(eM.hm({type:mi.type,data:{messages:a.messages}}))},[a.messages,i,o]);let c=r.useCallback(()=>{"/debug"===e?s():uz(e,a.messages,n,uH),t("")},[e,a.messages,n,s]);return r.createElement(sz.n,{height:az.wC,hideActionPanel:!0},r.createElement(sz.n.Body,null,0===a.messages.length?r.createElement(ms,null):r.createElement(u9.q,{stretchContent:!1,useBottomPinning:!0,enableScrollShadow:!0},r.createElement("div",{className:tj.cx.py8.flex.flexColumn.gap4.$},a.messages.map((e,t)=>r.createElement(mp,{key:`msg-${t}`,message:e})),r.createElement("div",{style:{marginLeft:"44px",marginRight:"12px"}},r.createElement(mu,{status:a.status}))))),r.createElement(sz.n.Footer,null,r.createElement(sK.v,{placeholder:(0,h.t)("fullscreen_actions.assistant-chat"),searchQuery:e,onSearchChange:t,endEnhancer:r.createElement(u7.r,{shortcuts:[{key:lI.Uz.ENTER}],onAction:c,disabled:0===e.length||a.status===uN.Loading},(0,h.t)("assistant.chat.send_message"))})))}function ms(){return r.createElement("div",{className:tj.cx.flex.flexColumn.itemsCenter.justifyEnd.hFull.gap8.$},r.createElement(uZ.m,null),r.createElement("div",{className:tj.cx.flex.flexRow.gap16.$},r.createElement("div",{className:tj.cx.flex.flexColumn.itemsCenter.flexGrow1.gap8.$},r.createElement(mc,{inputToSend:"Find similar designs to my selection"},r.createElement(uY,null),"Find designs"),r.createElement(mc,{inputToSend:"I want to request a feature."},r.createElement(uX.V,null),(0,h.t)("assistant.chat.suggestion.request_feature"))),r.createElement("div",{className:tj.cx.flex.flexColumn.itemsCenter.flexGrow1.gap8.$},r.createElement(mc,{inputToSend:"Make a plugin that creates rectangles in a grid"},r.createElement(uq,null),(0,h.t)("assistant.chat.suggestion.make_tool")),r.createElement(mc,{inputToSend:"",disabled:!0},r.createElement(uJ.C,null),(0,h.t)("assistant.chat.suggestion.coming_soon")))))}function mc({children:e,inputToSend:t,disabled:a}){let[n,l]=(0,U.fp)(ux),i=r.useCallback(()=>{uz(t,n.messages,l,uH)},[t,n.messages,l]);return r.createElement("button",{className:tj.cx.flex.flexColumn.justifyEnd.wFull.b1.colorBorder.gap8.textBodyLargeStrong.p12.if(a,tj.cx.colorTextSecondary).$,style:{borderRadius:13,minWidth:150,...a&&{"--color-icon":"var(--color-text-secondary)"}},onClick:i,disabled:a},e)}function md({children:e}){return r.createElement("div",{className:tj.cx.flex.flexRow.itemsCenter.wFull.b1.colorBorder.gap8.h40.textBodyLargeStrong.px4.mr12.$,style:{borderRadius:13}},e)}function mu({status:e}){let t;switch(e){case uN.Idle:t=null;break;case uN.Loading:t=r.createElement(md,null,r.createElement("div",{className:tj.cx.px4.flex.itemsCenter.justifyCenter.$},r.createElement(l0.kt,null)),r.createElement("div",{className:tj.cx.colorTextSecondary.$},(0,h.t)("assistant.chat.status.loading")));break;case uN.Error:t=r.createElement(md,null,r.createElement(uQ.Z,null),(0,h.t)("assistant.chat.status.error"));break;default:(0,ok.xb)(e)}return r.createElement(u5.N,{mode:"popLayout",initial:!1},r.createElement(u3.P.div,{key:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},t))}function mm(e){let t=r.useRef(null),a=(0,l.d4)(X.tB),n=(0,u6.O)(),i=(0,U.md)(uf.oE);try{let l=e.content,o="string"==typeof l?JSON.parse(l):l,{userFacing:s}=uU.parse(o);if("fragments"===s.type)return r.createElement(mt.U,{fragments:s.fragments,focusHandle:t,numberOfGridColumns:3,maxResults:3,entryPoint:G.G4.ACTIONS_LIST,disableActionShortcuts:!0});if("assets"===s.type)return r.createElement(u8.x,{primary:!0,columns:3,padding:8,gap:12},s.assets.map((e,t)=>r.createElement(me.a,{key:t,asset:e,libraryNameByResourceId:n,fileNameByLibraryKey:i,assetTypeDropdownSelection:sU.I.ALL,searchQuery:s.queries[0],queryId:"",searchSessionId:U.zl.get(W.dd)??"",openFileKey:a?.key??"",sectionPosition:t,disableActionShortcuts:!0})));if("selection"===s.type)return r.createElement(md,null,r.createElement(u0,null),(0,h.t)("assistant.chat.tool_result.selection.success"));if("request-feature"===s.type)return r.createElement(md,null,r.createElement(u0,null),(0,h.t)("assistant.chat.tool_result.feature_request"));return r.createElement(md,null,r.createElement(u1.g,null),(0,h.t)("assistant.chat.tool_result.success"))}catch(e){return r.createElement(md,null,r.createElement(uQ.Z,null),(0,h.t)("assistant.chat.tool_result.error"))}}function mp({message:e}){let t=(0,R.iZ)();return"user"===e.role&&"string"!=typeof e.content&&e.content?.length&&e.content[0]?.type==="text"&&e.content[0].text.startsWith("<!--")||"assistant"===e.role&&!e.content||"tool"===e.role&&!e.content?null:r.createElement("div",{className:tj.cx.px12.py4.flex.wFull.$},r.createElement("div",{className:tj.cx.gap8.flex.wFull.$},r.createElement("div",{className:tj.cx.w24.h24.flexShrink0.flex.itemsCenter.justifyCenter.$},"assistant"===e.role||"tool"===e.role?r.createElement(uZ.m,null):t?.img_url?r.createElement(u4.J,{src:t.img_url,className:tj.cx.w16.h16.radiusFull.$}):r.createElement(u2._,null)),r.createElement("div",{className:tj.cx.flex.flexColumn.wFull.pt2.$},r.createElement("span",{className:tj.cx.textBodyLargeStrong.$},"assistant"===e.role||"tool"===e.role?"Figma":"You"),"tool"===e.role?r.createElement("div",{className:tj.cx.wFull.pt4.$},r.createElement(mm,{...e})):"string"==typeof e.content?r.createElement(m_,{text:e.content}):r.createElement("div",null,null===e.content?null:e.content.map((e,t)=>"text"===e.type?r.createElement(m_,{key:`sub-t-${t}`,text:e.text}):null)))))}function m_({text:e}){let t=e;try{let a=new DOMParser().parseFromString(e,"text/xml").getElementsByTagName("user_input");a.length>0&&(t=a[0].textContent||"")}catch{}return r.createElement("div",null,t.split("\n").map((e,t)=>r.createElement("span",{key:`l-${t}`},e,r.createElement("br",null))))}var mf=a(853284),mh=a(32067),mg=a(13894);function mE(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16 17.5a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5V14H7v3.5A1.5 1.5 0 0 0 8.5 19h7a1.5 1.5 0 0 0 1.5-1.5V9.414a1 1 0 0 0-.293-.707l-3.414-3.414A1 1 0 0 0 12.586 5H8.5A1.5 1.5 0 0 0 7 6.5V11h1V6.5a.5.5 0 0 1 .5-.5H12v2.5a1.5 1.5 0 0 0 1.5 1.5H16v7.5ZM13 6.414V8.5a.5.5 0 0 0 .5.5h2.086L13 6.414Zm-2.146 3.732a.5.5 0 0 0-.708.708L11.293 12H5.5a.5.5 0 0 0 0 1h5.793l-1.147 1.146a.5.5 0 0 0 .708.708l2-2a.5.5 0 0 0 0-.708l-2-2Z",clipRule:"evenodd"}))}var my=a(636149),mv=a.n(my),mb=a(199629),mC=a.n(mb);function mw(){let e=(0,l.d4)(e=>e.mirror?.appModel);return(t,a,n=!1)=>{let r=t[a];if(r&&(n||!r.disabled&&(!r.action||(0,Y.Yh)(e,a))))return r}}function mT(e){switch(e){case mg.b.RECENTS:return 0;case mg.b.DESIGN_TOOLS:return 1;case mg.b.RIFFING_AND_WRITING:return 2;case mg.b.IMAGE_EDITING:return 3;case mg.b.COLLABORATION_TOOLS:return 4;case mg.b.HANDOFF_TOOLS:return 5;case mg.b.VIEWER_TOOLS:return 6;case mg.b.SUGGESTIONS:return 7;case mg.b.COMMON_SETTINGS:return 8;case null:return 100;default:return(0,ok.xb)(e)}}var mS=a(335218),mN=a(260726);let mx=new Map([[az.JT.FIRST_DRAFT,mg.b.DESIGN_TOOLS],[az.JT.MAGIC_LINK,mg.b.DESIGN_TOOLS],[az.JT.AUTO_RENAME_LAYERS,mg.b.DESIGN_TOOLS],[az.JT.CONTENT_FILL,mg.b.DESIGN_TOOLS],[az.JT.FIND_INSPIRATION,mg.b.DESIGN_TOOLS],[az.JT.REWRITE_TEXT,mg.b.RIFFING_AND_WRITING],[az.JT.SLIDES_GENERATE_SPEAKER_NOTES,mg.b.RIFFING_AND_WRITING],[az.JT.SLIDES_REWRITE_TEXT,mg.b.RIFFING_AND_WRITING],[az.JT.SHORTEN_TEXT,mg.b.RIFFING_AND_WRITING],[az.JT.TRANSLATE_TEXT,mg.b.RIFFING_AND_WRITING],[az.JT.GENERATE_IMAGE,mg.b.IMAGE_EDITING],[az.JT.REMOVE_BACKGROUND,mg.b.IMAGE_EDITING]]),mk=[["set-tool-comments",mg.b.COLLABORATION_TOOLS],["present-as-prototype",mg.b.COLLABORATION_TOOLS],["set-tool-measure",mg.b.HANDOFF_TOOLS],["set-tool-annotate",mg.b.HANDOFF_TOOLS],["zoom-to-fit",mg.b.VIEWER_TOOLS],["export-selected-exportables",mg.b.VIEWER_TOOLS],["copy-as-png",mg.b.VIEWER_TOOLS]],mI=[["request-to-edit",mg.b.COLLABORATION_TOOLS],["set-tool-comments",mg.b.COLLABORATION_TOOLS],["present-as-prototype",mg.b.COLLABORATION_TOOLS],["zoom-to-fit",mg.b.VIEWER_TOOLS],["page-next",mg.b.VIEWER_TOOLS],["export-selected-exportables",mg.b.VIEWER_TOOLS],["toggle-rulers",mg.b.VIEWER_TOOLS]];var mA=(e=>(e.DESIGN_EDITOR_AI="DESIGN_EDITOR_AI",e.DESIGN_EDITOR_NO_AI="DESIGN_EDITOR_NO_AI",e.DESIGN_VIEWER="DESIGN_VIEWER",e.DEV_MODE="DEV",e.NONE="NONE",e))(mA||{});function mL(){let e=(0,lw.VW)();return null!==e&&!e.isSlide()}function mO(e,t){let a=(0,l.d4)(e=>e.selectedView);return r.useMemo(()=>new iM.x(e,a,t,{includeDisabled:!0,acceptsUnicode:(0,o9.LN)()}),[e,a,t])}var mR=a(607672);function mM(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",d:"m16.7 7.7.315-1.26c.126-.505.844-.505.97 0L18.3 7.7l1.26.315c.505.126.505.844 0 .97L18.3 9.3l-.315 1.26c-.126.505-.844.505-.97 0L16.7 9.3l-1.26-.315c-.505-.126-.505-.844 0-.97L16.7 7.7Z"}),r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9 5.5a.5.5 0 0 1 1 0V7h3.5a.5.5 0 0 1 0 1h-1.282l-.054.16c-.503 1.488-1.086 2.54-2.03 3.708l1.527 1.907a.5.5 0 1 1-.781.625l-1.407-1.758c-.689.77-1.54 1.63-2.62 2.711a.5.5 0 1 1-.707-.706c1.146-1.148 2.013-2.028 2.693-2.798L7.21 9.812a.5.5 0 0 1 .781-.624l1.504 1.879c.773-.986 1.248-1.869 1.668-3.067H5.5a.5.5 0 0 1 0-1H9V5.5Zm5.039 5.808A.5.5 0 0 1 14.5 11h.5a.5.5 0 0 1 .461.308l1.667 4 .834 2a.5.5 0 1 1-.924.384L16.334 16h-3.166l-.706 1.692a.5.5 0 1 1-.922-.384l.833-2 1.667-4ZM15.917 15l-1.167-2.8-1.167 2.8h2.334Z",clipRule:"evenodd"}))}var mD=a(52339),mP=a(503429);function mF(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",d:"m9.4 16.5.28-1.12c.083-.333.557-.333.64 0l.28 1.12 1.12.28c.333.082.333.556 0 .64l-1.12.28-.28 1.119c-.083.333-.557.333-.64 0l-.28-1.12-1.12-.28c-.333-.083-.333-.557 0-.64l1.12-.28Z"}),r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.224 15.447a.5.5 0 0 1-.448-.894l4-2a.5.5 0 1 1 .448.894l-4 2ZM12 11.441 6.224 8.553a.5.5 0 0 0-.448.894l5.995 2.998.01.005 1.673.836-.25 1.753a2.45 2.45 0 0 0 1.329 2.537l.243.121a2.177 2.177 0 1 0 1.948-3.894l-2.49-1.245a.367.367 0 0 0-.02-.01L13.117 12l1.095-.548a.498.498 0 0 0 .021-.01l2.49-1.245a2.177 2.177 0 0 0-1.947-3.893l-.244.121a2.45 2.45 0 0 0-1.33 2.538l.251 1.751-1.454.727Zm2.194-2.62.203 1.422 1.88-.94a1.177 1.177 0 1 0-1.053-2.105l-.244.122a1.45 1.45 0 0 0-.786 1.501Zm0 6.359.203-1.422 1.88.94a1.177 1.177 0 0 1-1.053 2.105l-.244-.122a1.449 1.449 0 0 1-.786-1.501Z",clipRule:"evenodd"}))}function mB(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 6A1.5 1.5 0 0 1 18 7.5v6a.5.5 0 0 1-1 0V10h-6v7h2.5a.5.5 0 0 1 0 1h-6A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6h9ZM10 17v-7H7v6.5a.5.5 0 0 0 .5.5H10ZM7 9h10V7.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5V9Zm9.7 7.7.315-1.26c.126-.505.844-.505.97 0l.315 1.26 1.26.315c.505.126.505.844 0 .97l-1.26.315-.315 1.26c-.126.505-.844.505-.97 0L16.7 18.3l-1.26-.315c-.505-.126-.505-.844 0-.97l1.26-.315Z",clipRule:"evenodd"}))}var mU=a(258316),mH=a(202512),mG=a(667859),mV=a(908946),mz=a(341831),mK=a(664406),mW=a(94500),mj=a(296799),mZ=a(351631),mY=a(550273),mX=a(284615),mq=a(336427);async function mJ(e){let{clientLifecycleId:t}=e;try{let e={...(0,mX.Ay)(),clientLifecycleId:t},a=(0,mY.Np)().map(e=>({text:e.characters,x:e.x,y:e.y})),n=(await s7.Ay.slides.speakerNotes({texts:a},e)).getReader(),r="";for(;;){let{done:e,value:t}=await n.read();if(e)break;r+=t.delta,(r=r.replace(/(.) -/g,"$1\n -")).length>0&&(0,mq.hp)(r)}return}catch(e){return}}var mQ=a(118377),m$=a(670652),m0=a(637382),m1=a(883216),m2=a(726710),m5=a(118567),m3=a(573591),m4=a(701997),m6=a(207204),m7=a(599280),m8=a(801886),m9=a(711376),pe=a(277080),pt=a(763764);let pa={[m8.GS.DEFAULT]:[{"font/title/bold":{fontName:{family:"Plus Jakarta Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Plus Jakarta Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Plus Jakarta Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Plus Jakarta Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Plus Jakarta Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Plus Jakarta Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Plus Jakarta Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/title/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/body/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Inter",style:"Semi Bold"},letterSpacing:{units:"PERCENT",value:-2.5}},"font/title/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2.5}},"font/body/bold":{fontName:{family:"Inter",style:"Semi Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Inter",style:"Medium"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Inter",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Public Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Public Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}}],[m8.GS.SERIF]:[{"font/title/bold":{fontName:{family:"Domine",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Domine",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Roboto Serif",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Roboto Serif",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Public Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Public Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}}]};function pn(e){return e[Math.floor(Math.random()*e.length)]}function pr(e){let t={numberVariableMap:{},colorVariableMap:{}},a="true"===e[m8.u7.DARK_MODE];for(let[n,r]of Object.entries(e||{}))switch(n.split("/")[0]){case m8.u7.COLOR:let e=(0,ac.tK)(r);if(!e)continue;t.colorVariableMap[n]=(0,pt.qO)(e,a?pe.lH.DARK:pe.lH.LIGHT);break;case m8.u7.CORNER_RADIUS:case m8.u7.SPACING:let l=parseFloat(r);!isNaN(l)&&l>=m9.Xy&&l<=m9.Ne&&(t.numberVariableMap[n]=l);break;case m8.u7.FONT:switch(r){case m8.GS.SERIF:case m8.GS.DEFAULT:t.fontVariableMap=pn(pa[r]);break;default:t.fontVariableMap=pn(pa[m8.GS.DEFAULT])}}return{darkMode:a,variableMaps:t}}var pl=a(112825),pi=a(747202),po=a(640209),ps=a(479296);let pc="plugin_playground";function pd(e){let t=e.match(/```jsx([\s\S]*?)(```|$)/);return t?t[1].trim():""}async function pu(e){await new Promise(t=>{setTimeout(()=>{t()},e)})}let pm=(0,ps.n)(async function(e,t,a=()=>!0,n){let r=(await s7.Ay.design.firstDraftGenerateV2Stream(e,(0,pi.Lp)({clientLifecycleId:n}))).getReader(),l={};try{for(;;){let e=r.read(),{done:n,value:i}=await e;if(n||(i.theme&&(l.theme=i.theme??{}),i.dsKit&&(l.dsKit=i.dsKit),i.jsx&&(l.jsx+=i.jsx),i.trace&&(l.trace=i.trace),i.presets&&(l.presets=i.presets),!a()))break;t(l)}}finally{r.releaseLock()}});function pp(e){return Object.keys(e).reduce((t,a)=>(t[a.toLowerCase()]=e[a],t),{})}(0,ps.n)(async function(e){return(await po.Gh.postFirstDraftMatchPresetModes({kit_key:e.kitKey,is_local:e.isLocal,user_prompt:e.userPrompt})).data.meta});var p_=a(698993),pf=a(341092),ph=a(841563),pg=a.n(ph),pE=a(477047),py=a(247368),pv=a(202655),pb=a(853069);function pC(e,t){if("string"==typeof e&&1===t.parsedDefs.length){let a=t.parsedDefs[0].devFriendlyProp;if("key"in a)return{[a.key]:e}}return e}function pw(e,t){if("object"==typeof e){if(t in e)return e[t];for(let[a,n]of Object.entries(e))if(a.toLowerCase()===t.toLowerCase())return n}}async function pT(e,t,a){let n=al.q.instance,r={componentProps:{},componentPropsNested:{},nestedInstancesVisibility:{},sharedPluginData:{...e?.sharedPluginData}},l={};for(let o of t.parsedDefs){let s=function e(t,a){let n;if("object"==typeof t){switch(a.type){case"SIMPLE":case"IMAGE":case"GROUPED_INSTANCE_SWAP":t&&(n=pw(t,a.key));break;case"SIMPLE_CHOICE":if(t&&a.key in t){let e=pw(t,a.key);a.validOptions.includes(e)?n=e:(0,S.xi)("first-draft",`Expected ${a.key} to be oneOf: ${JSON.stringify(a.validOptions)} but got: ${e}`,{componentProps:t,devFriendlyProp:a})}break;case"DERIVED_BOOLEAN":n=!!e(t,a.devFriendlyProp);break;case"ARRAY":if(t){let e=pw(t,a.key);Array.isArray(e)&&(n=e[a.index]),void 0===n&&(n=pw(t,a.nonArrayKey)),void 0===n&&0===a.index&&a.originalKey&&(n=pw(t,a.originalKey))}break;default:(0,ok.xb)(a)}if(void 0===n)return n;switch(a.valueType){case"BOOLEAN":if("boolean"==typeof n)break;return;case"STRING":if("string"==typeof n)break;return}return n}}(e,o.devFriendlyProp),c=void 0===s;if("ARRAY"===o.devFriendlyProp.type||"GROUPED_INSTANCE_SWAP"===o.def.type)for(let e of(0,pv.wn)(t.componentId,o))r.nestedInstancesVisibility[e]=!c;if(!c)switch(o.def.type){case"NESTED_INSTANCE":{let e=(0,py.Ye)(o.def.componentId);if(e){if(s=pC(s,e),"ARRAY"===o.devFriendlyProp.type){let e=o.devFriendlyProp.key;if(0===o.devFriendlyProp.index){l[e]={};let t=new Set;for(let e of Object.values(o.def.tagsByParentComponentId))for(let a of Object.keys(e.fixedVariantProperties??{}))t.add(a);for(let a of t)l[e][a]=pw(s,a)}else s={...s,...l[e]}}let n=await pT(s,e,a);for(let e of(0,pv.wn)(t.componentId,o))r.componentPropsNested[e]=n}break}case"BOOLEAN":case"VARIANT":case"TEXT":r.componentProps[o.rawProp]=s;break;case"INSTANCE_SWAP":{let e=(0,pi.cl)(o.def.defaultValue),n=(0,py.Ye)(o.def.defaultValue);if(e&&n){let l=pC(s,n),i=[];if(e.parentNode?.isStateGroup){for(let t of e.parentNode.reversedChildrenNodes)if("SYMBOL"===t.type){let e=t.variantProperties();if(e&&Object.entries(e).some(([e,t])=>l[e]===t)&&Object.entries(e).every(([e,t])=>!(e in l)||l[e]===t)){i=Object.keys(e),r.componentProps[o.rawProp]=t.guid;break}}}let c=Object.fromEntries(Object.entries(l).filter(([e,t])=>!i.includes(e)));if(0!==Object.keys(c).length){let e=await pT(c,n,a),l=(0,pv.wn)(t.componentId,o);for(let a of(0===l.length&&(0,S.xi)("first-draft","Could not find any instances for this prop",{componentId:t.componentId,def:JSON.stringify(o.def)}),l))r.componentPropsNested[a]=e}}break}case"GROUPED_INSTANCE_SWAP":{let e=(0,pi.cl)(o.def.defaultValue);if(e&&"SYMBOL"===e.type){let t=!1,a="object"==typeof s?s?.type??s?.description:"";if(a){let n=(0,pb.Lq)(o.def.groupName,e,a);if(n){t=!0,r.componentProps[o.rawProp]=n;break}}if(!t){let e=s?.description??s?.type??"";e&&(r.sharedPluginData[o.rawProp]=e)}}break}case"IMAGE":r.sharedPluginData[o.rawProp]=s?.id??s?.description??s?.alt??"";break;case"SLOT":{let e=Array.isArray(s)?s[0]:s;if(!e)break;let l=a.getCustomJSXElementOrNull(e.type);if(l?.type==="SIMPLE"){let n=l.typeInfo;r.componentProps[o.rawProp]=n.defaultNodeId;let i=await pT(e.props,n,a);for(let e of(0,pv.wn)(t.componentId,o))r.componentPropsNested[e]=i}else{let t=await a.createNodeFromJSX(e),l=lK.l7.ai("first-draft-setup-slot-node",()=>{let e=n.get(i.CUU.createSymbolFromNode(t.guid,i.Sie.PLUGIN));return e&&(e.name=`Slot for ${o.rawProp}`),e});if(l){let e=await a.getOrCreateSlotParent(a);lK.l7.ai("first-draft-setup-slot-node",()=>{e.appendChild(l)}),r.componentProps[o.rawProp]=l.guid}}break}default:(0,ok.xb)(o.def)}}return r}class pS{constructor({dsKitKey:e,reuseCache:t,publishedComponentToInsertResult:a,customJSXElementByName:n}){this.dsKitKey=e,this.reuseCache=t,this.publishedComponentToInsertResult=a,this.customJSXElementByName=n??{}}getComponentTypeSortOrder(e){switch(e){case"BUILDING_BLOCK":return 0;case"NONE":return 1;case"GROUPED_COMPONENT":return 2;default:return 3}}getCustomJSXElementOrNull(e){let t=e.toLowerCase();if(!t.startsWith(pv.FE.toLowerCase()))return null;if(t in this.customJSXElementByName)return this.customJSXElementByName[t];for(let[e,a]of Object.entries(this.publishedComponentToInsertResult))if("error"!==a.status&&e.toLowerCase()===t){let e=(0,py.Ye)(a.guid);if(e){let a=pN(e,{});if(a)return this.customJSXElementByName[t]=a,a}}let a=(0,py.DY)(t,{rootNodes:{dsKitKey:this.dsKitKey}});for(let e of(0===Object.keys(this.publishedComponentToInsertResult).length&&a.sort((e,t)=>this.getComponentTypeSortOrder(e.componentType)-this.getComponentTypeSortOrder(t.componentType)),a)){let a=pN(e,this.publishedComponentToInsertResult);if(a)return this.customJSXElementByName[t]=a,a}return this.customJSXElementByName[t]=null,null}async renderCustomJSXElementOrNull(e,t){let a=this.getCustomJSXElementOrNull(e.type);return a?await px(a,e,t):null}}function pN(e,t){if((0,pb.vR)(e))return null;if(Object.entries(t).length>0){let a=t[e.jsxName];if(!a||"error"===a.status||!(a.key===e.key&&a.version===e.version))return null}return{type:"SIMPLE",name:e.jsxName,typeInfo:e}}async function px(e,t,a){if(!e)return null;let{type:n,props:r,children:l}=t;try{switch(e.type){case"SIMPLE":{let t=e.typeInfo,n=t.defaultNodeId,i=await pT({...r,children:l},t,a);return{type:"Instance",props:{componentId:n,componentProps:i.componentProps,componentPropsNested:i.componentPropsNested,nestedInstancesVisibility:i.nestedInstancesVisibility,sharedPluginData:Object.fromEntries(Object.entries({...i.sharedPluginData,type:t.jsxName}).map(([e,t])=>"string"!=typeof t?[e,JSON.stringify(t)]:[e,t]))},children:[]}}case"GROUP":throw Error("Not implemented");default:(0,ok.xb)(e)}}catch(e){(0,S.$D)(nX.e.FEEDBACK,e,{extra:{type:n,props:r}})}return null}var pk=a(897459);let pI=(e,t)=>t(e).body.map(e=>pA(e)),pA=(e,t)=>{switch(e.type){case"JSXAttribute":if(null===e.value)return!0;return pA(e.value,t);case"JSXElement":case"JSXFragment":return pR(e,t);case"JSXExpressionContainer":return pA(e.expression,t);case"JSXText":return e.value.replace(/\s+/g," ").trim();case"JSXArrayExpression":return e.elements.map(e=>pA(e,t));case"JSXObject":let a={};for(let t of e.properties)t.key&&t.value&&(a[t.key.name||t.key.value]=pA(t.value));return a;case"ArrayExpression":return e.elements.map(e=>pA(e,t));case"BinaryExpression":switch(e.operator){case"-":return pA(e.left)-pA(e.right);case"!=":return pA(e.left)!=pA(e.right);case"!==":return pA(e.left)!==pA(e.right);case"*":return pA(e.left)*pA(e.right);case"**":return pA(e.left)**pA(e.right);case"/":return pA(e.left)/pA(e.right);case"%":return pA(e.left)%pA(e.right);case"+":return pA(e.left)+pA(e.right);case"<":return pA(e.left)<pA(e.right);case"<=":return pA(e.left)<=pA(e.right);case"==":return pA(e.left)==pA(e.right);case"===":return pA(e.left)===pA(e.right);case">":return pA(e.left)>pA(e.right);case">=":return pA(e.left)>=pA(e.right)}return;case"CallExpression":let n=pA(e.callee);if(void 0===n){(0,S.$D)(nX.e.FEEDBACK,Error("The CallExpression could not be resolved, resulting in an undefined return value."),{extra:{expression:e}});return}return n(...e.arguments.map(t=>pA(t,e.callee)));case"ConditionalExpression":return pA(e.test)?pA(e.consequent):pA(e.alternate);case"ExpressionStatement":return pA(e.expression);case"Identifier":if(t&&e.name in t)return t[e.name];return({})[e.name];case"Literal":return e.value;case"LogicalExpression":let r=pA(e.left);if("||"===e.operator&&r)return r;if("&&"===e.operator&&r||"||"===e.operator&&!r)return pA(e.right);return!1;case"MemberExpression":return pL(e,t);case"ObjectExpression":let l={};return e.properties.forEach(e=>{l[e.key.name||e.key.value]=pA(e.value)}),l;case"TemplateElement":return e.value.cooked;case"TemplateLiteral":return[...e.expressions,...e.quasis].sort((e,t)=>e.start<t.start?-1:1).map(e=>pA(e)).join("");case"UnaryExpression":switch(e.operator){case"+":return e.argument.value;case"-":return-e.argument.value;case"!":return!e.argument.value}return;case"ArrowFunctionExpression":return(e.async||e.generator)&&(0,S.$D)(nX.e.FEEDBACK,Error("Async and generator arrow functions are not supported.")),(...t)=>{let a={};return e.params.forEach((e,n)=>{a[e.name]=t[n]}),pA(e.body,a)}}},pL=(e,t)=>{let{object:a}=e,n=[e.property?.name??JSON.parse(e.property?.raw??'""')];if("Literal"!==e.object.type)for(;a&&["MemberExpression","Literal"].includes(a?.type);){let{property:e}=a;a.computed?n.unshift(pA(e,t)):n.unshift(e?.name??JSON.parse(e?.raw??'""')),a=a.object}let r=pA(a,t);try{let e=r,t=n.reduce((t,a)=>(e=t,t[a]),r);if("function"==typeof t)return t.bind(e);return t}catch{let t=a?.name||"unknown";(0,S.$D)(nX.e.FEEDBACK,Error("Unable to parse member expression."),{extra:{target:r,name:t,path:n,expression:e}})}},pO=e=>"JSXIdentifier"===e.type?e.name:`${pO(e.object)}.${pO(e.property)}`,pR=(e,t)=>{let a;let{children:n=[]}=e,r="JSXElement"===e.type?e.openingElement:e.openingFragment,l=("JSXElement"===e.type?pO(r.name):"").trim();if(a=(a=n.map(e=>pA(e,t))).filter(e=>"string"==typeof e?""!==e.trim():!!e),"string"==typeof e)return e.trim();let i={};return r.attributes&&(i=r.attributes.reduce((e,t)=>{let a=t.name.name,n=pM(t);return e[a]=n,e},{})),e.isPartial&&(i.isPartial=NaN),{type:l,props:i,children:a}},pM=e=>{let t=e.value;return null===t||pA(t)};async function pD(e){try{var t;return t=(await Promise.all([a.e(2510),a.e(6856)]).then(a.bind(a,514132))).parseLoose,e?pI(e,t).filter(pP):null}catch{}return null}function pP(e){return"object"==typeof e&&null!==e&&void 0!==e.type&&void 0!==e.props&&void 0!==e.children}function pF(e){let t;switch(e?.toLowerCase()){case"small":t="w-60";break;case"medium":t="w-80";break;default:t="w-100"}return`flex flex-col ${t}`}function pB(e){return pP(e)?e:{type:"AutoLayout",props:{className:"w-1 h-1"},children:[]}}function pU(e){return e&&Array.isArray(e)?e.map(pB):[]}var pH=a(256116),pG=a(539780);function pV(e,t){let a={},n=(0,pk.QP)(e),r=n.includes("flex-col")?"vertical":"horizontal";for(let e of n.split(pG.AD)){let{classParts:n,isNegative:l}=(0,pG.Zx)(e);(0,pH.v4)(n,l,a),(0,pH.W1)(n,l,a),(0,pH.t1)(n,a),(0,pH.IT)(n,a),(0,pH.Fm)(n,a,t??""),(0,pH.vW)(n,a),(0,pH.B9)(n,a),(0,pH.bP)(n,a),(0,pH.Pw)(n,r,a),(0,pH.Fg)(n,a,t??""),(0,pH.Hg)(n,a),(0,pH.km)(n,a,t??""),(0,pH.k$)(n,a),(0,pH.BM)(n,a),(0,pH.Eu)(e,a),(0,pH.gW)(e,a),(0,pH.Cv)(n,l,a),(0,pH.vQ)(n,l,a)}return a}function pz(...e){return(0,pk.QP)(e.join(" "))}let pK={Unhandled:function({className:e,msg:t=""}){return{type:"AutoLayout",props:{className:pz("flex justify-center items-center",e??"","border bg-red-100 border-red-100")},children:[{type:"Text",props:{},children:[t]}]}},VStack:function({children:e,...t}){return pJ({...t,direction:"vertical",children:e})},HStack:function({children:e,...t}){return pJ({...t,direction:"horizontal",children:e})},Box:pQ,Image:function({description:e,w:t,aspect:a,className:n="",sharedPluginData:r}){let l=[],i=36;return"small"===t?(i=12,l.push(pq("w",12))):"regular"===t?l.push(pq("w",36)):"large"===t?(i=85.5,l.push("w-[342px]")):(i=t,l.push(pq("w",t))),"video"===a?l.push(pq("h",9*i/16)):l.push(pq("h",i)),{type:"AutoLayout",props:{sharedPluginData:{...r,isImage:"true",description:e},className:pz("flex p-2 bg-[#eee]",...l,n)},children:[{type:"Text",props:{className:"text-sm opacity-50 w-full h-full"},children:[e??"Image description"]}]}},DummyBlock:function({text:e}){return{type:"AutoLayout",props:{direction:"vertical",className:"w-full h-fit p-4 min-h-[100px] border-[#eee]"},children:[{type:"Text",props:{},children:[e]}]}},MobileSingleCol:({header:e,mainContent:t,footer:a})=>({type:"AutoLayout",props:{className:"w-[393px] min-h-[852px] flex flex-col",sharedPluginData:{type:"VStack",isLayoutNode:"true"}},children:[pB(e),{type:"AutoLayout",props:{className:"w-full flex flex-col",sharedPluginData:{type:"VStack",fillContainerHeight:"true"},overflow:"visible",name:"Main Content"},children:pU(t)},pB(a)]}),DesktopSingleCol:({header:e,mainContent:t,footer:a})=>({type:"AutoLayout",props:{className:"w-[1440px] min-h-[900px] px-12 flex flex-col",sharedPluginData:{type:"VStack",isLayoutNode:"true"}},children:[pB(e),{type:"AutoLayout",props:{className:"w-full flex py-12",sharedPluginData:{type:"HStack"},overflow:"visible",name:"Container"},children:[{type:"AutoLayout",props:{className:"w-full flex flex-col",sharedPluginData:{type:"VStack"},overflow:"visible",name:"Main Content"},children:pU(t)}]},pB(a)]}),DesktopTwoColWithLeftSidebar:({header:e,sidebarContent:t,sidebarWidth:a,mainContent:n,footer:r})=>{let l=pF(a);return{type:"AutoLayout",props:{className:"w-[1440px] min-h-[900px] px-12 flex flex-col",sharedPluginData:{type:"VStack",isLayoutNode:"true"}},children:[pB(e),{type:"AutoLayout",props:{className:"w-full flex gap-12",sharedPluginData:{type:"HStack"},name:"Container"},children:[{type:"AutoLayout",props:{className:l,sharedPluginData:{type:"VStack"},overflow:"hidden",name:"Sidebar"},children:pU(t)},{type:"AutoLayout",props:{className:"w-full flex flex-col",sharedPluginData:{type:"VStack"},overflow:"hidden",name:"Main Content"},children:pU(n)}]},pB(r)]}},DesktopTwoColWithRightSidebar:({header:e,mainContent:t,sidebarContent:a,sidebarWidth:n,footer:r})=>{let l=pF(n);return{type:"AutoLayout",props:{className:"w-[1440px] min-h-[900px] px-12 flex flex-col",sharedPluginData:{type:"VStack",isLayoutNode:"true"}},children:[pB(e),{type:"AutoLayout",props:{className:"w-full flex gap-12",sharedPluginData:{type:"HStack"},name:"Container"},children:[{type:"AutoLayout",props:{className:"w-full flex flex-col",sharedPluginData:{type:"VStack"},name:"Main Content"},children:pU(t),overflow:"hidden"},{type:"AutoLayout",props:{className:l,sharedPluginData:{type:"VStack"},overflow:"hidden",name:"Sidebar"},children:pU(a)}]},pB(r)]}},div:pQ,p:({children:e,...t})=>({type:"Text",props:{width:"fill-parent",...t},children:e})},pW=new Set(["AutoLayout","Frame","Rectangle","Ellipse","Text","SVG","Image","Line","Fragment","Span","Instance"]);async function pj(e,t,a){if(t?.type==="Text"||t?.type==="Span")return e.trim();let n=t?.props??{};return await pX({type:"Text",props:{width:"hug-contents",height:"hug-contents",...n},children:[e]},t,a)}async function pZ(e,t,a){if(!pP(e))return null;let{type:n,props:r,children:l}=e;if(r&&"class"in r&&!("className"in r)&&(r.className=r.class,delete r.class),(""===n||"React.Fragment"===n)&&(n="Fragment"),r?.children&&(l=Array.isArray(r?.children)?r?.children:[r?.children],delete r.children),l=(l??[]).flat(10),n in pK){let e=pK[n]({...r,children:l});return await pX(e,t,a)}let i=(await Promise.all((l??[]).flat(10).map(t=>pX(t,e,a)))).filter(Boolean);"Instance"===n&&a.getCustomJSXElementOrNull(r.component)&&(n=r.component,delete r.component);let o=await a.renderCustomJSXElementOrNull({type:n,props:r,children:i});if(o)return a.instrumentation?.trackComponentLookupSuccess(),o;if(!pW.has(n))return(a.instrumentation?.trackComponentLookupFailure(),(0,c.kc)().first_draft_debug)?await pX({type:"Unhandled",props:{msg:`Unknown node type: ${n}`,className:r?.className??""},children:[]},t,a):null;let{className:s,margin:d,...u}=r??{};if(s)for(let[e,t]of Object.entries(pV(s,n)))u[e]=t;return a.instrumentation?.trackPrimitiveUsage(),{type:n,props:u,children:i}}async function pY(e,t){return(await Promise.all(e.map(e=>pX(e,null,t)))).filter(e=>!!e)}function pX(e,t,a){return"string"==typeof e?pj(e,t,a):pP(e)?pZ(e,t,a):Promise.resolve(null)}function pq(e,t){return"mobile-screen-width"===t?`${e}-96`:"mobile-screen-height"===t?`${e}-[568px]`:"hug"===t?`${e}-fit`:"full"===t?`${e}-full`:`${e}-[${Math.round(4*t)}px]`}function pJ({direction:e,children:t,className:a=""}){let n="vertical"===e;return{type:"AutoLayout",props:{sharedPluginData:{type:n?"VStack":"HStack"},className:pz("flex items-start w-fit h-fit",n?"flex-col":"flex-row",a)},children:t}}function pQ(e){return pJ({...e,direction:"vertical"})}var p$=a(346124),p0=a(774191);function p1(e){let t=new Set,a=new Set;return e.forEach(e=>{7===e.length?t.add(e):a.add(e)}),[Array.from(t),Array.from(a)]}function p2(e,t){let{bg:a,content:n}=t,r=(0,ac.HD)(e)?pe.lH.DARK:pe.lH.LIGHT,l=(0,ac.F_)(e),i=(0,p0.oB)(e),o=a.filter(e=>e!==l),[s,c]=p1(o),d=function(e){let t={};return e.forEach(e=>{t[e]=(t[e]||0)+1}),t}(o),u=s.sort((e,t)=>d[t]-d[e]),m=u.find(e=>{let t=(0,ac.tK)(e);if(!t)return!1;let a=(0,p0.oB)(t);return(0,pt.x)(a.l,r)&&!(0,p$.areClose)(a.l,i.l,.12)});if(m)return m;let[p,_]=p1(n),f=p.find(e=>{let t=(0,ac.tK)(e);return t&&(0,pe.Yx)((0,p0.oB)(t).l,pe.lg.CONTENT)});if(f)return f;if((0,pt.x)(i.l,r)&&!(0,pt.c4)(i.l))return l;let h=c.sort((e,t)=>d[t]-d[e]).find(e=>{let t=(0,ac.tK)(e);if(!t)return!1;let a=(0,p0.oB)(t);return(0,pt.x)(a.l,r)});return h?h:_.find(e=>{let t=(0,ac.tK)(e);return t&&(0,pe.Yx)((0,p0.oB)(t).l,pe.lg.CONTENT)})||(u.length?u[0]:p.length?p[0]:l)}function p5(e,t,a,n,r){e&&function e(t,a,n,r){if(t.name.toLowerCase().includes("swatch"))return;let l=n[t.guid];if((0,pt.oR)({node:t,getNewColor:a,options:{...r,modeChanged:!1,role:(0,pe.Dk)(t),originalSL:l}}),t.childrenNodes.length){let l=t.fills.some(e=>"IMAGE"===e.type),i=(0,pt.gU)(t.fills,l?void 0:r.parentFillColor);t.childrenNodes.forEach(t=>{e(t,a,n,{...r,parentFillColor:i})})}}(e,(e,a)=>(0,pt.Jv)(e,{...a,brandColor:t}),n,{mode:a,currentBrandHex:r})}function p3(e){let t=(0,pt.X6)(e);if(t)return(0,ac.HD)(t)?pe.lH.DARK:pe.lH.LIGHT}function p4(e,t,a){e&&function e(t,a,n){let r=t.fills.some(e=>"IMAGE"===e.type),l=!r&&n.modeChanged;if((0,pt.oR)({node:t,getNewColor:a,options:{...n,modeChanged:l,role:(0,pe.Dk)(t)}}),t.childrenNodes){let i=(0,pt.gU)(t.fills,r?void 0:n.parentFillColor);t.childrenNodes.forEach(t=>{e(t,a,{...n,modeChanged:l,parentFillColor:i})})}}(e,(e,t)=>(0,pt.Jv)(e,{...t,brandColor:void 0}),{mode:t,modeChanged:!0,currentBrandHex:a})}var p6=a(220441),p7=a(104064),p8=a(850213),p9=a(405551);function _e(e,t,a){let n=i.XJn.getCustomizableVariableName(a.guid,e);if(!n)return;let r=(0,p9.tm)(n);if(r)return t[r]}let _t={bottomLeftRadius:"rectangleBottomLeftCornerRadius",bottomRightRadius:"rectangleBottomRightCornerRadius",topLeftRadius:"rectangleTopLeftCornerRadius",topRightRadius:"rectangleTopRightCornerRadius"},_a={itemSpacing:"stackSpacing",paddingTop:"stackTopPadding",paddingBottom:"stackBottomPadding",paddingLeft:"stackLeftPadding",paddingRight:"stackRightPadding"};async function _n(e,t,a){let n=i.XJn.inheritedTextStyleGuid(e.guid);if(null===n)return;let r=al.q.instance.get(n);if(r&&a.variableMaps?.fontVariableMap&&"fontFamily"in r.boundVariablesForStyle){let n=r.boundVariablesForStyle.fontFamily,l=function(e,t,a){let n=i.XJn.getCustomizableVariableName(t.guid,e);if(!n)return null;let r=(0,p9.tm)(n);return r?a[r]??null:null}(n.id,e,a.variableMaps.fontVariableMap);if(l)try{await (0,p6.E)(l.fontName),lK.l7.ai("first-draft-set-font-name",()=>{e.fontName=l.fontName,l.letterSpacing&&(e.letterSpacing=l.letterSpacing)}),t[n.id]=l.fontName.family}catch(e){(0,S.$D)(nX.e.FEEDBACK,e)}}}async function _r(e){await Promise.all(e.node.childrenNodes.map(t=>_l({...e,node:t}))),(0,p8.V5)(e.node)}async function _l(e){var t;let{node:a,variableOverrideMap:n,theme:r,colorOptions:l}=e;!function(e,t){if("HORIZONTAL"===e.stackMode||"VERTICAL"===e.stackMode)for(let[a,n]of Object.entries(_a)){let r=e.boundVariables&&e.boundVariables[a];r&&lK.l7.ai("first-draft-override-spacing",()=>{if(t.variableMaps){let a=_e(r.id,t.variableMaps.numberVariableMap,e)??void 0;void 0!==a&&(e[n]=(0,p7.nV)(e[n],a,1))}})}}(a,r),function(e,t,a){if(e.boundVariables)for(let[n,r]of Object.entries(_t)){let l=e.boundVariables&&e.boundVariables[n];l&&lK.l7.ai("first-draft-override-radius",()=>{if(a?.variableMaps){let n=_e(l.id,a.variableMaps.numberVariableMap,e)??void 0;if(void 0!==n){let a=(0,p7.UO)(e,e[r],n,1);e[r]=a,t[l.id]=a}}})}}(a,n,r),"TEXT"===a.type&&await _n(a,n,r);let o=a.fills.some(e=>"IMAGE"===e.type),s=!o&&l.modeChanged;if(t={node:a,getNewColor:(e,t)=>{let n=t.varId&&r?function(e,t,a){if(!t.variableMaps)return;let n=i.XJn.getCustomizableVariableName(a.guid,e);if(!n)return;let r=(0,p9.tm)(n);if(r)return t.variableMaps.colorVariableMap[r]}(t.varId,r,a):void 0;return(0,pt.Jv)(e,{...t,brandColor:n})},variableOverrideMap:n,options:{...l,modeChanged:s,role:(0,pe.Dk)(a)}},lK.l7.ai("first-draft-override-paints",()=>{(0,pt.oR)(t)}),a.childrenNodes.length){let e=(0,pt.gU)(a.fills,o?void 0:l.parentFillColor);await _r({node:a,variableOverrideMap:n,theme:r,colorOptions:{...l,modeChanged:s,parentFillColor:e}})}}async function _i(e,t,a){let n=Object.keys(a?.variableMaps?.colorVariableMap??{}).length>0||Object.keys(a?.variableMaps?.numberVariableMap??{}).length>0;a&&n&&await _l({node:e,variableOverrideMap:t,theme:a,colorOptions:{mode:a.darkMode?pe.lH.DARK:pe.lH.LIGHT,modeChanged:!!a.darkMode}})}async function _o(e){for(let t of(0,pi._F)(e,["INSTANCE","FRAME"],{sharedPluginData:{namespace:"jsx",keys:["theme"]}})){(0,m6.xF)(t.guid);let e=t.getSharedPluginData("jsx","theme");if(e)try{let a=JSON.parse(e),n=pr(a);await _i(t,{},n)}catch(t){(0,S.x1)("First Draft theming","Failed to parse theme",{themeStr:e,e:t})}}}var _s=a(33604);let _c="Slot Parent";async function _d(e){let t=al.q.instance;for(let e of t.getCurrentPage()?.reversedChildrenNodes??[])if(e.name===_c)return e;return await e.createNodeFromJSX({type:"AutoLayout",props:{name:_c,className:"flex flex-col w-fit h-fit"},children:[]})}async function _u(e,t){return await pY(e,t)}async function _m(e){let t=(0,k.D)({enableNativeJsx:!0});t.skipInvisibleInstanceChildren=!0;let a=al.q.instance;return await Promise.all(e.map(async(e,n)=>{let r=await t.createNodeFromJSXAsync(e),l=a.get(r.id);return 0===n&&(l.localOpacity=0),l}))}async function _p(e,t,a){lK.l7.ai("first-draft-override-paints",()=>{let a=(0,_s.uP)(e,{ignoreOpacity:!0}),n=(0,_s.rO)(e,a),r=t.darkMode?pe.lH.DARK:pe.lH.LIGHT;r===pe.lH.DARK&&n.colors.text[0]&&(0,ac.HD)(n.colors.text[0])&&p4(e,r),r===pe.lH.LIGHT&&n.colors.text[0]&&!(0,ac.HD)(n.colors.text[0])&&p4(e,r);let l=(0,ac.tK)(t.brandColor);l&&p5(e,l,r,{})}),lK.l7.ai("first-draft-remove-fill",()=>{e.fills=[]});let n=(0,_s.uP)(e,{ignoreOpacity:!0}),r=(0,_s.rO)(e,n);try{await (0,_s.jR)(e,(0,_s.k5)({fontFamilies:r.fontFamilies},{fontFamilies:t.fontFamilies}),a)}catch(e){(0,S.$D)(nX.e.FEEDBACK,Error("first-draft: applyThemeProperties font failed to load"))}}async function __(e,t,a){let n={};for(let r of e){if(lK.l7.ai("first-draft-set-plugin-data",()=>{if(a.frameName&&r.name!==a.frameName&&(r.name=a.frameName),t&&r.setSharedPluginData(pc,"jsx",t),a.theme&&r.setSharedPluginData(pc,"theme",JSON.stringify(a.theme)),a.sharedPluginData)for(let[e,t]of Object.entries(a.sharedPluginData))r.setSharedPluginData(pc,e,t)}),(0,m6.jZ)(r,a.dsKitKey,a.clientLifecycleId),a.autoFillParent&&r&&(0,m6.tG)(r),a.theme&&await _i(r,n,a.theme),a.themeProperties){if(!a.deviceType)throw Error("deviceType must be provided if themeProperties is provided");await _p(r,a.themeProperties,a.deviceType)}a.isEval&&await _o(r)}return{themeOverrideMap:n}}async function _f({prevJsxJSON:e,jsxStr:t,jsxJSON:a,prevExpandedJsx:n,options:r},l){let o=function(e,t){let a=new pS({dsKitKey:e.dsKitKey,reuseCache:!!e.prevNodeId,publishedComponentToInsertResult:e.componentNameToInsertResult??{},customJSXElementByName:e.componentNameToCustomJSXElement??{}}),n={getCustomJSXElementOrNull:e=>a.getCustomJSXElementOrNull(e),renderCustomJSXElementOrNull:async e=>await a.renderCustomJSXElementOrNull(e,n),getOrCreateSlotParent:_d,createNodeFromJSX:async e=>{let t=await _u([e],n),[a]=await _m(t);return a.removeLocalOpacity(),a},instrumentation:t};return n}(r,l),s=al.q.instance,c=(0,k.D)({enableNativeJsx:!0});if(c.skipInvisibleInstanceChildren=!0,l?.resetComponentStats(),!r.prevNodeId){if(0!==e.length)throw Error("prevJsxJSON should be null");let n=await _u(a,o);if(n.length>1)throw Error("Not implemented");let[l]=await _m(n);lK.l7.ai("first-draft-insert-jsx",()=>{if(r.parentNodeId){let e=s.get(r.parentNodeId);if(!e)throw(0,S.x1)("first-draft","Could not find parent node with parentNodeId",{parentNodeId:r.parentNodeId}),Error("Could not find parent node with parentNodeId");let t=[l];for(let a of(t.reverse(),t))r.insertAtIndex?r.insertAtIndex===e.childrenGuids.length?e.appendChild(a):e.insertChild(a,r.insertAtIndex):e.appendChild(a)}}),l?.materializeDescendants();let i=await __([l],t,r);return await (0,m6.U_)(l,r),l.removeLocalOpacity(),{insertNodeIds:[l.guid],expandedJsx:n,customizationResult:i}}let d=s.get(r.prevNodeId);if(!d)throw(0,S.x1)("first-draft","Could not find node with prevNodeId",{prevNodeId:r.prevNodeId}),Error("Could not find node with prevNodeId");let u=await _u(a,o);if(1!==n.length||1!==u.length)throw Error("Not implemented");let m=await c.reconcileNodeFromJSXAsync({id:d.guid},n[0],u[0]),p=s.get(m.id);p?.materializeDescendants();let _=await __([p],t,r);return r.shouldAnimateLoading&&r.doneTextLayerIds&&function(e,t,a){let n=[];for(let r of((0,ar.hV)(e,t,e=>{"TEXT"===e.type&&n.push(e)}),n))a.has(r.guid)||((0,m6.us)(r)?(i.zuo.cancelAllAnimationsForNode(r.guid),a.add(r.guid)):i.zuo.isAnimating(r.guid)||r.setOpacityWithAnimation(1,pE._E.forOpacityOscillation(45,.25,.8,60),"first-draft-text-layer-opacity"))}(s,p,r.doneTextLayerIds),p.guid!==r.prevNodeId&&await (0,m6.U_)(p,r),{insertNodeIds:[p.guid],expandedJsx:u,customizationResult:_}}var _h=a(172601),_g=a(742808);u_.object({runtimeDuration:u_.number(),firstByteReceivedAtOffset:u_.number(),jsxStreamDuration:u_.number(),numComponents:u_.number(),componentLookupSuccesses:u_.number(),primitiveComponents:u_.number(),componentLookupFailures:u_.number(),numImages:u_.number(),imageFailures:u_.number(),imageSuccesses:u_.number(),firstImageLoadedAtOffset:u_.number(),lastStreamByteReceivedAtOffset:u_.number(),imageDurations:u_.array(u_.object({start:u_.number(),end:u_.number(),duration:u_.number(),status:u_.enum(["success","failure"])}))});class _E{constructor(e){this.type=e,this.startTime=0,this.instrumentationData={runtimeDuration:-1,firstByteReceivedAtOffset:-1,jsxStreamDuration:-1,numComponents:0,primitiveComponents:0,componentLookupSuccesses:0,componentLookupFailures:0,numImages:0,imageFailures:0,imageSuccesses:0,firstImageLoadedAtOffset:-1,lastStreamByteReceivedAtOffset:-1,imageDurations:[]},this.imageProgressEmitter=new _h.b("imageProgressEmitter")}start(){this.startTime=Date.now()}trackFirstByteReceived(){-1===this.instrumentationData.firstByteReceivedAtOffset&&(this.instrumentationData.firstByteReceivedAtOffset=Date.now()-this.startTime)}resetComponentStats(){this.instrumentationData.numComponents=0,this.instrumentationData.componentLookupSuccesses=0,this.instrumentationData.componentLookupFailures=0,this.instrumentationData.primitiveComponents=0,this.imageProgressEmitter.trigger("statusChanged")}trackComponentLookup(){this.instrumentationData.jsxStreamDuration=Date.now()-this.instrumentationData.firstByteReceivedAtOffset-this.startTime,this.instrumentationData.numComponents+=1}trackPrimitiveUsage(){this.instrumentationData.primitiveComponents+=1,this.instrumentationData.jsxStreamDuration=Date.now()-this.instrumentationData.firstByteReceivedAtOffset-this.startTime}trackComponentLookupSuccess(){this.trackComponentLookup(),this.instrumentationData.componentLookupSuccesses+=1}trackComponentLookupFailure(){this.trackComponentLookup(),this.instrumentationData.componentLookupFailures+=1}trackLastStreamByteReceived(){this.instrumentationData.lastStreamByteReceivedAtOffset=Date.now()-this.startTime,this.instrumentationData.jsxStreamDuration=this.instrumentationData.lastStreamByteReceivedAtOffset-this.instrumentationData.firstByteReceivedAtOffset}trackFinished(e){this.instrumentationData.runtimeDuration=Date.now()-this.startTime;let t={type:this.type,status:e},a=[{metric:"first_draft.client.runtime_duration",value:this.instrumentationData.runtimeDuration,tags:t}];-1!==this.instrumentationData.firstByteReceivedAtOffset&&(a.push({metric:"first_draft.client.num_components",value:this.instrumentationData.numComponents,tags:t},{metric:"first_draft.client.component_lookup_failures",value:this.instrumentationData.componentLookupFailures,tags:t},{metric:"first_draft.client.first_byte_received_at_offset",value:this.instrumentationData.firstByteReceivedAtOffset,tags:t},{metric:"first_draft.client.jsx_stream_duration",value:this.instrumentationData.jsxStreamDuration,tags:t},{metric:"first_draft.client.num_images",value:this.instrumentationData.numImages,tags:t},{metric:"first_draft.client.last_stream_byte_received_at_offset",value:this.instrumentationData.lastStreamByteReceivedAtOffset,tags:t}),this.instrumentationData.numImages>0&&a.push({metric:"first_draft.client.image_failures",value:this.instrumentationData.imageFailures,tags:t},{metric:"first_draft.client.image_successes",value:this.instrumentationData.imageSuccesses,tags:t},{metric:"first_draft.client.first_image_loaded_at_offset",value:this.instrumentationData.firstImageLoadedAtOffset,tags:t})),(0,_g.rI)(a)}async logImageLoad(e){let t="success",a=Date.now()-this.startTime;try{this.instrumentationData.numImages++,this.imageProgressEmitter.trigger("statusChanged"),await e()}catch(e){throw t="failure",e}finally{let e=Date.now()-this.startTime;this.instrumentationData.imageDurations.push({start:a,end:e,duration:e-a,status:t}),-1===this.instrumentationData.firstImageLoadedAtOffset&&(this.instrumentationData.firstImageLoadedAtOffset=e),"success"===t?this.instrumentationData.imageSuccesses++:this.instrumentationData.imageFailures++,this.imageProgressEmitter.trigger("statusChanged")}}}function _y(e){let t=new Set([]),a=[...e];for(;a.length;){let e=a.pop();if(e){for(let n of(e.type.startsWith(pv.FE)&&t.add(e.type),e.children))"string"!=typeof n&&a.push(n);for(let t of Object.values(e.props))if("string"!=typeof t){if(pP(t))a.push(t);else if(Array.isArray(t))for(let e of t)pP(e)&&a.push(e)}}}return t}async function _v(e,t,a){if(t?.type!=="LIBRARY")throw Error("Can only insert library components");if(!a)return(0,S.$D)(nX.e.FEEDBACK,Error("[First Draft] Attempted to insert component without kitContents")),{status:"error"};let n=function(e,t){let a=t.toLowerCase();if(e.components[a]){let t=e.components[a];return{assetType:"component",key:t.key,version:t.version}}if(e.state_groups[a]){let t=e.state_groups[a];return{assetType:"state_group",key:t.key,version:t.version}}return null}(a,e);if(!n)return{status:"error"};let{assetType:r,key:l,version:o}=n;if("component"===r){let t=i.XJn.getComponentByKeyAndVersion(l,o);if(t)return{status:"success",key:l,version:o,jsxName:(0,pv.WG)(e),guid:t}}if("state_group"===r){let t=i.XJn.getStateGroupByKeyAndVersion(l,o);if(t)return{status:"success",key:l,version:o,jsxName:(0,pv.WG)(e),guid:t}}try{let e=sG.D?.getState().fileVersion||0,t=await (0,ro.GD)(`/api/file_proxy/${r}/${l}/version/${o}/canvas`,{fv:e.toString()},{responseType:"arraybuffer"}),a=new Uint8Array(t.response),n=i.NfO.deserializeProductComponentFromBuffer(l,a),s=al.q.instance.get(n);if(!s)throw Error("Deserialized component not found in scene graph");return{status:"success",key:l,version:o,jsxName:(0,pv.WG)(s.name),guid:n}}catch(e){if(e instanceof ro.Dr&&e.status>=400)return{status:"error"};throw e}}let _b=(0,ps.n)(async function(e,t){let a=await ro.Ay.post(`/api/first_draft/kit_contents/${e.key}`,{jsx_names:t});return a?.data?.meta??null});async function _C({dsKitKey:e,jsxJSON:t,componentNameToInsertResult:a}){if("LIBRARY"!==e.type)return;let n=_y(t),r=new Set;for(let e of n)e in a||r.add(e);if(0===r.size)return;let l=await _b(e,Array.from(r)),i={components:pp(l?.components??{}),state_groups:pp(l?.state_groups??{})};await Promise.all(Array.from(r).map(async t=>{let n=await _v(t,e,i);return"success"===n.status&&(a[n.jsxName]=n),n}))}var _w=a(55069);let _T=e=>Object.keys(e).includes("id");async function _S(e){let t=await pD(e);if(!t||0===t.length)return t;let a=function(e){let t=e.lastIndexOf(">");return -1!==t?e.substring(0,t+1):e}(e);if(!a||!a.endsWith(">"))return t;let n=await pD(a);if(!n||0===n.length)return t;let r=1,l=e=>{if(e&&"object"==typeof e)for(let[t,a]of Object.entries(e))t.startsWith("image")?Array.isArray(a)?a.every(_T)&&(e[t]=a.map(()=>{let e={id:r.toString()};return r++,e})):_T(a)?(e[t]={id:r.toString()},r++):l(a):l(a)};return function e(t,a,n){let r=!0;for(let l=0;l<t.length;l++){let i=t[l],o=a[l];if(!o||!i){r=!1;break}if("string"==typeof o){"string"!=typeof i&&(r=!1),r=i===o;continue}if("string"!=typeof i){if(i.type!==o.type){r=!1;continue}for(let[t,a]of(e(i.children,o.children,n)||(r=!1),Object.entries(o.props))){let l=i.props[t];if(pP(a)&&pP(l))e([l],[a],n)||(r=!1);else if(Array.isArray(a)&&Array.isArray(l))for(let t=0;t<a.length;t++)t>=l.length&&(r=!1),pP(a[t])&&pP(l[t])?e([l[t]],[a[t]],n)||(r=!1):pg()(l[t],a[t])||(r=!1);else"isPartial"===t?r=l===a:pg()(l,a)||(r=!1)}r&&n(o)}}return r}(n,t,e=>{("Image"===e.type||"Instance"===e.type||e.type.startsWith("Component"))&&(l(e.props),e.props={...e.props,sharedPluginData:{...e.props.sharedPluginData,isDone:"true"}})}),t}async function _N(e,t,a={}){var n;let r=pd(e.jsxStr),l=await _S(r);if(!l||0===l.length||l.some(e=>!e)||!(void 0!==(n=l[0]).type&&""!==n.type)||(a.prevJsxStr??"")===r)return{};await a.onBeforeInsertJSX?.(l);let i={prevNodeId:a.prevNodeId,isIncomplete:!function(e){let t=e.match(/<([^\/\s>]+)[^>]*>/),a=e.match(/<\/([^>]+)>/g)?.pop();return!!t&&!!a&&t[1]===a.replace("</","").replace(">","")}(r),autoFillParent:!0,insertBehavior:"viewport-ease",shouldGenerateImages:!0,...e.options},{insertNodeIds:o,customizationResult:s,expandedJsx:c}=await _f({jsxStr:r,jsxJSON:l,prevJsxJSON:a.prevJsxJSON??[],prevExpandedJsx:a.prevExpandedJsx??[],options:i},t);return{insertNodeIds:o,customizationResult:s,jsxStr:r,jsxJSON:l,expandedJsx:c}}function _x({onAfterInsertPartialJsx:e,onReset:t,onImageProgress:a,shouldContinueStream:n,clientLifecycleId:l,insertType:o}){let s=(0,r.useRef)({}),d=(0,r.useRef)(null),u=(0,r.useRef)({}),m=(0,r.useRef)({}),p=(0,r.useRef)({}),_=(0,r.useRef)(new _E(o||"generate")),f=(0,r.useCallback)(async t=>{try{s.current.isRunning=!0,s.current.donePromise=(async()=>{try{let e={jsxStrLength:t.jsxStr?.length,options:{parentNodeId:t.options.parentNodeId,isIncomplete:t.options.isIncomplete,prevNodeId:t.options.prevNodeId},clientLifecycleId:l},a={...e,jsxStr:t.jsxStr};(0,S.ED)("first-draft","Inserting Streamed JSX Updates",e,{createSentryBreadcrumb:!0,logToConsole:S.NU.NEVER}),(0,S.ED)("first-draft","Inserting Streamed JSX Updates",a,{createSentryBreadcrumb:!1}),s.current.doneTextLayerIds=s.current.doneTextLayerIds||new Set,s.current.componentNameToCustomJSXElement=s.current.componentNameToCustomJSXElement||{},s.current.componentNameToInsertResult=s.current.componentNameToInsertResult||{};let{insertNodeIds:n,customizationResult:i,jsxJSON:o,jsxStr:m,expandedJsx:p}=await _N({...t,options:{...t.options,componentNameToInsertResult:s.current.componentNameToInsertResult,componentNameToCustomJSXElement:s.current.componentNameToCustomJSXElement,shouldAnimateLoading:(0,c.kc)().first_draft_animations,doneTextLayerIds:s.current.doneTextLayerIds,clientLifecycleId:l}},_.current,{prevNodeId:d.current,prevJsxStr:s.current.jsxStr,prevJsxJSON:s.current.jsxJSON,prevExpandedJsx:s.current.expandedJsx,onBeforeInsertJSX:async e=>{await _C({jsxJSON:e,dsKitKey:t.options.dsKitKey,componentNameToInsertResult:s.current.componentNameToInsertResult??{}})}});if(!n){if(void 0===o)return;throw Error("Failed to insert any nodes")}if(n.length>1)throw Error("Expected at most one node to be inserted");(0,m6.OJ)(n[0]),d.current!==n[0]&&(d.current&&(0,_w.ks)(d.current),(0,_w.Vm)(n[0],r.createElement(r.Fragment,null),{overflowHidden:!0})),d.current=n[0],u.current={...u.current,...i?.themeOverrideMap??{}},s.current.jsxStr=m,s.current.jsxJSON=o,s.current.expandedJsx=p,s.current.queuedEffects=s.current.queuedEffects||{}}catch(e){(0,S.$D)(nX.e.FEEDBACK,e instanceof Error?e:Error(e)),d.current&&!al.q.instance.get(d.current)&&(d.current=null,s.current.jsxStr=void 0,s.current.jsxJSON=void 0,s.current.expandedJsx=void 0)}try{if(d.current){if(t.options?.shouldGenerateImages){if(t.options.imageArgs)(0,m6.Ms)({containingNodeId:d.current,queuedEffects:s.current.queuedEffects,shouldContinueStream:n,imagesTrace:p.current,jsxJSON:s.current.jsxJSON,initialUserPrompt:t.options.imageArgs?.initialUserPrompt||"",clientLifecycleId:l,instrumentationRef:_});else throw Error("Tried to generate images without image args")}(0,m6.D9)(d.current,s.current.queuedEffects,t.options),(0,m6.fE)({containingNodeId:d.current}),e?.(d.current)}}catch(e){(0,S.$D)(nX.e.FEEDBACK,e instanceof Error?e:Error(e))}})(),await s.current.donePromise,s.current.insertAgainWhenDone&&((0,S.ED)("first-draft","Re-Inserting JSX Updates (Immediate)",{jsxStrLength:s.current.lastArgs?.jsxStr?.length,options:{parentNodeId:s.current.lastArgs?.options.parentNodeId,isIncomplete:s.current.lastArgs?.options.isIncomplete,prevNodeId:s.current.lastArgs?.options.prevNodeId}}),s.current.insertAgainWhenDone=!1,await f(s.current.lastArgs))}finally{s.current.isRunning=!1}},[e,n,l]),h=(0,sq.A)(f,500,{leading:!0,maxWait:1e3}),g=(0,r.useCallback)(async()=>{for(h.isPending()&&await h.flush();s.current.isRunning;)s.current.donePromise&&await s.current.donePromise,await pu(10);let e=s.current.queuedEffects??{};(await Promise.allSettled(Array.from(Object.values(e)))).forEach(e=>{"rejected"!==e.status||e.reason instanceof pf.G1&&500>(0,pf.Iu)(e.reason)||(0,S.$D)(nX.e.FEEDBACK,e.reason)})},[h]),E=(0,r.useCallback)(async()=>{try{await g()}finally{if(t?.(),d.current&&((0,_w.ks)(d.current),(0,m6.RY)(d.current)),s.current.lastArgs){let e=Object.keys(u.current).length>0;await (0,m6.oT)(s.current.lastArgs.options?.dsKitKey,d.current,i.oVz.CURRENT,{detachVariables:e})}d.current=null,s.current={},m.current={},p.current={}}},[g,t]),y=(0,r.useCallback)(e=>(s.current.lastArgs=e,s.current.isRunning)?(s.current.insertAgainWhenDone=!0,Promise.resolve()):h?.(e)||Promise.resolve(),[h]);return(0,r.useEffect)(()=>{let e=_.current;if(!a)return;let t=()=>a(e.instrumentationData.imageSuccesses,e.instrumentationData.numImages);return e.imageProgressEmitter.on("statusChanged",t),()=>{e.imageProgressEmitter.removeListener("statusChanged",t)}},[_,a]),{insertJSX:y,resetAsync:E,flushPending:g,nodeIdRef:d,imagesTraceRef:p,themeOverrideMapRef:u,instrumentationRef:_}}async function _k(e={}){let{sleepTime:t=100}=e;await new Promise(e=>setTimeout(e,t))}async function*_I(e,t={}){let{chunksPerYield:a=20,useWords:n=!0}=t;if(n){let n=e.split(" "),r=[];for(let e=0;e<n.length;e+=a)r.push(...n.slice(e,e+a)),await _k(t),yield r.join(" ")}else{let n=e.split(""),r=[];for(let e=0;e<n.length;e+=a)r.push(...n.slice(e,e+a)),await _k(t),yield r.join("")}}function _A(){return{loadingComponentType:"ComponentLoading",shouldGenerateImages:!0}}function _L({mockStreamOptions:e,onInsertJSXDone:t,onAfterInsertPartialJsx:a,shouldContinueStream:n,clientLifecycleId:l,insertType:o}){let s=(0,X.tS)(),[c,d]=(0,r.useState)(null),u=(0,r1.cJ)(),m=(0,r.useRef)(void 0),p=(0,r.useRef)(void 0),_=(0,r.useRef)(null),[f,h]=(0,r.useState)({loaded:0,total:0}),{insertJSX:g,resetAsync:E,flushPending:y,nodeIdRef:v,imagesTraceRef:b,instrumentationRef:C,themeOverrideMapRef:w}=_x({onAfterInsertPartialJsx:e=>{if(u&&e){let t=al.q.instance.get(e);t?.isResponsiveNode&&(t?.parentNode?.childrenNodes??[]).length>1&&(lK.l7.ai("first-draft-sites-page-remove",()=>{t.parentNode?.childrenNodes.filter(e=>e.guid!==t.guid).forEach(e=>e.removeSelfAndChildren())}),setTimeout(()=>{i.glU.triggerAction("goto-layer",{args:{nodeId:e}})},200))}a?.(e)},onReset:()=>{m.current=void 0,h({loaded:0,total:0})},onImageProgress:(e,t)=>{h({loaded:e,total:t})},shouldContinueStream:n,clientLifecycleId:l,insertType:o}),{isRunning:N,runPrompt:x,runPromptMocked:k}=function({onPromptOutput:e,onBeforeRunPrompt:t,onRunPromptSuccess:a,onRunPromptError:n,shouldContinueStream:l,mockStreamOptions:i,clientLifecycleId:o}){let[s,c]=(0,r.useState)(!1),d=(0,r.useRef)({}),u=(0,r.useCallback)(async(r,i)=>{if(!s)try{d.current={},c(!0),t?.(i),await r(t=>{e?.(t,i),d.current=t},l),await a?.(d.current,i)}catch(e){throw await n?.(e,d.current,i),e}finally{c(!1)}},[s,t,e,n,a,l]);return{isRunning:s,runPrompt:(0,r.useCallback)(async(e,t)=>await u(async(t,a)=>{await pm(e,t,a,o)},t),[o,u]),runPromptMocked:(0,r.useCallback)(async(e,t)=>await u(async t=>{if(await _k(i),!e.dsKit)throw Error("dsKit is required in mockedResponse");let a=e.dsKit,n=e.theme??{},r=e.jsx??"";for await(let e of(t({theme:n}),await _k(i),_I(r,i)))t({dsKit:a,theme:n,jsx:e});t({dsKit:a,theme:n,jsx:r})},t),[u,i])}}({mockStreamOptions:e,shouldContinueStream:n,clientLifecycleId:l,onBeforeRunPrompt:e=>{if(e.analyticsOptions){let{dsKitType:t,isLocal:a,kitKey:n}=_O(null,e.insertJSXOptions);(0,$.sx)("First Draft: Layout Generation Started",{file_key:s,generateId:l,clientLifecycleId:l,dsKitType:t,isLocal:a,kitKey:n},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})}},onRunPromptSuccess:async(e,a)=>{C.current.trackLastStreamByteReceived(),await y(),e.trace&&d({...e.trace,children:[...e.trace.children,...Object.values(b.current)]});let r=pd(e.jsx??"");if(!e.dsKit&&!v.current)throw Error("No dsKit in prompt output");if(r&&!v.current)throw Error("JSX was present in the prompt output but no node was inserted");if(await t?.(v.current,w.current,_.current,p.current??[]),a.analyticsOptions){let{dsKitType:t,isLocal:r,kitKey:i}=_O(e,a.insertJSXOptions),o={promptOutput:JSON.stringify({dsKit:e.dsKit,theme:e.theme,presets:e.presets}),timeElapsedMs:Date.now()-a.analyticsOptions.startTime,dsKitType:t,isLocal:r,kitKey:i,file_key:s,generateId:l,clientLifecycleId:l};n&&!n()?(C.current.trackFinished("stopped"),(0,$.sx)("First Draft: Layout Generation Ended",{...o,nodeId:v.current,status:"failed",reason:"stopped",instrumentationData:JSON.stringify(C.current.instrumentationData)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})):v.current?(C.current.trackFinished("success"),(0,$.sx)("First Draft: Layout Generation Ended",{...o,nodeId:v.current,status:"completed",instrumentationData:JSON.stringify(C.current.instrumentationData)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})):(C.current.trackFinished("failure"),(0,$.sx)("First Draft: Layout Generation Ended",{...o,status:"failed",reason:"empty generation",instrumentationData:JSON.stringify(C.current.instrumentationData)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}))}},onRunPromptError:(e,t,a)=>{C.current.trackFinished("failure"),t.trace&&d(t.trace);let{dsKitType:n,isLocal:r,kitKey:i}=_O(t,a.insertJSXOptions),o={promptOutput:JSON.stringify({dsKit:t.dsKit??{},jsx:t.jsx??"",theme:t.theme??{}}),error:e.toString(),timeElapsedMs:Date.now()-(a.analyticsOptions?.startTime??0),dsKitType:n,isLocal:r,kitKey:i,file_key:s,clientLifecycleId:l},c=(0,S.$D)(nX.e.FEEDBACK,e,{extra:o});(0,$.sx)("First Draft: Layout Generation Ended",{...o,status:"failed",reason:"error",nodeId:v.current,sentryEventId:c,instrumentationData:JSON.stringify(C.current.instrumentationData)})},onPromptOutput:(e,t)=>{if(C.current.trackFirstByteReceived(),e.dsKit&&e.theme){if(m.current||(m.current=function(e,t){try{return pr(e)}catch(a){return a instanceof Error&&(0,S.$D)(nX.e.FEEDBACK,Error(`[First Draft theme] Error parsing theme from output: ${a.message}`),{extra:{...t,theme:JSON.stringify(e),error:a}}),{}}}(e.theme,{generateId:l})),!p.current&&e.presets&&(p.current=e.presets),e.dsKit.isLocal){let e=t.insertJSXOptions.dsKitKey.pageId;if(!e)throw Error("No pageId in insertJSXOptions");_.current={type:"LOCAL",pageId:e}}else _.current={type:"LIBRARY",key:e.dsKit.kitKey};if(e.jsx)return g({jsxStr:e.jsx,options:{...t.insertJSXOptions,theme:m.current,dsKitKey:_.current}})}}}),I=(0,pl.B)(),A=(0,r.useCallback)(async e=>{"LOCAL"===e.dsKitKey.type&&s&&await (0,m7.p4)(s,e,I)},[s,I]),L=(0,r.useCallback)(async(e,t,a)=>{let n;if(N)return{nodeId:null,success:!0};await E();let{designSystem:r}=t;try{r&&await A(r)}catch(e){return(0,S.$D)(nX.e.FEEDBACK,e),{nodeId:null,success:!1,error:e}}let o=function(e,t){if(!t)return{userPrompt:e};if("LOCAL"!==t.dsKitKey.type)return{userPrompt:e,kitKey:t.dsKitKey.key,isLocal:!1};let a=i.XJn.getKitKey(t.dsKitKey.pageId);if(!a)throw Error("Failed to get a kitKey for local kit");return{userPrompt:e,kitKey:a,isLocal:!0}}(e,r),s={};if(u){let e=al.q.instance.getCurrentPage();if(e){let t=1===e.childrenNodes.length&&e.childrenNodes[0].isResponsiveSet&&1===e.childrenNodes[0].childrenNodes.length&&e.childrenNodes[0].childrenNodes[0].isResponsiveNode&&0===e.childrenNodes[0].childrenNodes[0].childrenNodes.length,a=null;t?(rL.wr(),(0,p_.S)("panel"),rL.Dh([e.childrenGuids[0]])):lK.l7.ai("first-draft-sites-page-create",()=>{i.glU.createResponsiveSet(null)}),a=al.q.instance.get(i.glU.getFirstSelectedNodeIdForCurrentPage()),s.parentNodeId=a?.guid,s.createNewSitesWebpage=!0,s.frameName="Primary"}}try{C.current.start(),await x(o,{insertJSXOptions:{frameName:e,imageArgs:{initialUserPrompt:e},..._A(),...a,...s,sharedPluginData:{userPrompt:e,...a.sharedPluginData},dsKitKey:r?.dsKitKey},analyticsOptions:{startTime:C.current.startTime,clientLifecycleId:l}})}catch(e){n=e}let c=v.current;if(await E(),c&&!al.q.instance.get(c))throw Error("Failed to insert node");return T.Y5.commit(),{nodeId:c,success:!n,error:n}},[N,E,x,v,l,A,u,C]);return{submitPromptMocked:(0,r.useCallback)(async(e,t)=>{if(N)return{nodeId:null,success:!0};await E(),await k(e,{insertJSXOptions:{..._A(),...t,imageArgs:{initialUserPrompt:"website"}},analyticsOptions:null});let a=v.current;return await E(),{nodeId:a,success:!0}},[N,E,k,v]),submitPrompt:L,isRunning:N,executionTrace:c,imageProgress:f}}function _O(e,t){let a=t.dsKitKey,n=a?.type??"AUTO",r=a?.type==="LOCAL",l=a?"key"in a?a.key:a.pageId:e?.dsKit?.kitKey??null;return{dsKitOption:a,dsKitType:n,isLocal:r,kitKey:l}}var _R=a(332366),_M=a(46481),_D=a(691205),_P=a(284321),_F=a(992795),_B=a(501191);let _U={"gpt-4-turbo-2024-04-09":{name:"GPT-4 Turbo",model:"gpt-4-turbo-2024-04-09"},"gpt-4o-2024-05-13":{name:"GPT-4o",model:"gpt-4o-2024-05-13"}};async function _H({model:e,selectedEval:t,kit:a,customEvalPrompts:n}){let r="LIBRARY"===a.dsKitKey.type?a.dsKitKey.key:i.XJn.getKitKey(a.dsKitKey.pageId)??"",l="LOCAL"===a.dsKitKey.type,{data:{meta:{s3_key:o}}}=await po.Gh.postFirstDraftRunEvals({model:e,kitKey:r,selectedEval:t,isLocal:l,evalPrompts:n});return new Promise(e=>{let t=0,a=setInterval(async()=>{t+=1;try{let n=await po.Gh.getFirstDraftsEvalStatus({s3Key:o}),r=n.data.meta.status;"success"===r?(clearInterval(a),e(n.data.meta)):("failed"===r||t>=9)&&(clearInterval(a),e(null))}catch{}},2e4)})}function _G({selectedKitOption:e,clientLifecycleId:t}){let a=(0,l.wA)(),{evalSetsQueryStatus:n,evalSets:i}=function(){let[e]=(0,_D.IT)(_V(null));return{evalSetsQueryStatus:e.status,evalSets:e.data??[]}}(),[o,s]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,m]=r.useState(""),[p,_]=(0,r.useState)(!1),[f,h]=r.useState(null),[E,y]=r.useState(_U["gpt-4-turbo-2024-04-09"]),v=(0,l.d4)(_P.ao),[b,C]=(0,r.useState)(!1);(0,r.useEffect)(()=>{i.length&&null==f&&h(i[0])},[i,f]);let w=(0,r.useMemo)(()=>e?.type==="KIT"&&"LOCAL"===e.kit.dsKitKey.type,[e]),T=(0,r.useCallback)(()=>{if(c)try{let e=JSON.parse(u);if(!Array.isArray(e))return;return e.map(e=>e.trim()).filter(e=>e.length>0)??void 0}catch(e){console.error("Unable to parse custom prompts list",e);return}},[u,c]),N=(0,r.useCallback)(()=>e&&"AUTO"!==e.type?w&&p?(0,pi.Ol)(e.kit)??e.kit:e.kit:null,[e,w,p]),x=(0,r.useCallback)(async()=>{if(b||!f)return;let e=N();if(e)try{C(!0);let n=T(),r=n?`Running evals with ${n.length} custom prompts...`:`Running evals for ${f}...`;a(g.F.enqueue({type:"FIRST_DRAFT_EVAL",timeoutOverride:1/0,message:r}));let l=await _H({kit:e,model:E.model,selectedEval:f,customEvalPrompts:n});if(!l){a(g.F.enqueue({type:"FIRST_DRAFT_EVAL",message:"Evals failed. Please try again.",error:!0}));return}await _K({kit:e,batch:l,shouldGenerateImages:o,clientLifecycleId:t})}catch(e){(0,S.x1)("first-draft","Error running evals",{error:e}),a(g.F.enqueue({type:"FIRST_DRAFT_EVAL",message:"Eval failed. Please check the console for more information.",error:!0}))}finally{C(!1)}},[b,f,N,T,a,E.model,o,t]);return r.createElement(ib.Y,{padding:{vertical:12},direction:"vertical"},r.createElement("div",{className:tj.cx.cursorPointer.flex.itemsCenter.wFull.$},r.createElement(iw.E,{fontSize:11,fontWeight:"medium"},"Evals")),r.createElement(ib.Y,null,r.createElement(_F.ms,{selected:f,onSelectedChange:e=>h(e),placeholder:"Select eval set",labelForSelectedItem:e=>e,displayAboveTarget:!0,lean:"right",items:i.map(e=>({type:"checkableOption",value:e,text:e})),disabled:"loaded"!==n}),r.createElement(_F.ms,{selected:E,onSelectedChange:e=>y(e),placeholder:"Model",labelForSelectedItem:e=>e.name,displayAboveTarget:!0,lean:"right",items:Object.values(_U).map(e=>({type:"option",value:e,text:e.name}))}),r.createElement(lx.$n,{variant:"secondary",onClick:x},"Run evals"),r.createElement(_z,{disabled:b,onUpload:e=>{let a=N();a&&_K({kit:a,batch:e,shouldGenerateImages:o,clientLifecycleId:t})}})),r.createElement(ib.Y,null,r.createElement(av.S,{checked:o,disabled:b,onChange:()=>s(e=>!e),label:r.createElement(ab.J,null,"Gen images")}),r.createElement(av.S,{checked:c,disabled:b,onChange:()=>d(e=>!e),label:r.createElement(ab.J,null,"Custom prompts")}),w&&r.createElement(av.S,{checked:p,disabled:b,onChange:()=>_(e=>!e),label:r.createElement(ab.J,null,"Use published kit version")}),w&&v&&r.createElement(uQ.Z,{"data-tooltip-type":aV.Ib.TEXT,"data-tooltip":"You currently have unpublished changes to your library kit.\nPublish library updates before running evals to ensure the current kit version is used."})),c&&r.createElement("textarea",{className:tj.cx.resizeNone.wFull.colorBgSecondary.px12.py8.bRadius5.$,rows:3,value:u,placeholder:'Enter custom eval prompts as JSON array. E.g. ["prompt1", "prompt2"]',onChange:e=>m(e.target.value)}))}let _V=_D.M4.Query({fetch:async()=>(await po.Gh.getFirstDraftAllEvalSets()).data.meta.eval_sets});function _z({disabled:e,onUpload:t}){let a=r.useRef(null);return r.createElement(_R.n,{acceptedFileTypes:"json",singleFile:!0,isDisabled:e,svgAltText:"Upload eval",inputId:"first-draft-eval-upload",inputRef:a,"data-tooltip-type":aV.Ib.TEXT,"data-tooltip":"Upload eval",onFileInputChange:e=>()=>{let a=e.current?.files?.[0];if(a){let n=new FileReader;n.onload=a=>{let n=a.target?.result;if(n)try{let e=JSON.parse(n),a=po.Xs.parse(e);t(a)}catch(e){console.error("Error uploading eval",e)}finally{e.current&&(e.current.value="")}},n.readAsText(a)}}},r.createElement(_M.U,{svg:_B.A},r.createElement(sZ.e,null)))}async function _K({batch:e,kit:t,shouldGenerateImages:a,clientLifecycleId:n}){try{sG.D.dispatch(g.F.enqueue({type:"FIRST_DRAFT_EVAL",timeoutOverride:1/0,message:"Inserting evals..."}));let r=[],l=[];for(let t of e.eval_results){let e="",a=null;try{e=pd(t.jsx??""),a=await _S(e)}catch(e){a=[_Z(String(e))]}let n=t.userPromptRaw??"";l.push({userPrompt:n,jsxJSON:a||[]});let i=[_j({title:"User Prompt",metadata:n}),{type:"AutoLayout",props:{className:"w-full",sharedPluginData:{isDone:"true",theme:JSON.stringify(t.theme??{})}},children:a??[]},_j({title:"Extracted JSX",metadata:e})];if(t.theme&&i.push(_j({title:"Theme",metadata:JSON.stringify(t.theme,null,2)})),t.trace){let e=_W(t.trace);e&&i.push(_j({title:"Examples in prompt",metadata:e})),i.push(_j({title:"Trace",metadata:JSON.stringify(t.trace),storeInPluginData:!0}))}r.push({type:"VStack",props:{className:"flex flex-col w-[425px] items-center gap-[48px] p-4"},children:i})}let i=[{type:"HStack",props:{name:"Eval Run Set",className:"flex flex-row w-fit h-fit p-4 gap-4 bg-slate-50"},children:r}],o={};"LIBRARY"===t.dsKitKey.type&&await _C({jsxJSON:i,dsKitKey:t.dsKitKey,componentNameToInsertResult:o});let{insertNodeIds:s}=await _f({jsxJSON:i,jsxStr:"",prevJsxJSON:[],prevExpandedJsx:[],options:{isEval:!0,dsKitKey:t.dsKitKey,autoFillParent:!0,componentNameToInsertResult:o,shouldAnimateLoading:!1,clientLifecycleId:n}},null);if(!s.length)return;let c=s[0];sG.D.dispatch(g.F.enqueue({type:"FIRST_DRAFT_EVAL",timeoutOverride:1/0,message:"Populating icons & images..."}));let d=al.q.instance.get(c),u=(d?.childrenGuids||[]).map((e,t)=>({id:e,...l[t]})),m=[];m.push((0,m6.qV)({containingNodeId:c,options:{dsKitKey:t.dsKitKey},batchSize:15})),a&&m.push((async()=>{let e={};await (0,m6.nY)({containingNodeArgs:u,batchSize:20,imagesTrace:e,clientLifecycleId:n}),await Promise.all(u.map(async({id:a})=>{e[a]&&await _f({jsxJSON:[_j({title:"Images Trace",metadata:JSON.stringify(e[a]),storeInPluginData:!0})],jsxStr:"",prevJsxJSON:[],prevExpandedJsx:[],options:{isEval:!0,dsKitKey:t.dsKitKey,autoFillParent:!0,componentNameToInsertResult:o,parentNodeId:a,insertBehavior:"inline",clientLifecycleId:n}},null)}))})()),await Promise.all(m),sG.D.dispatch(g.F.enqueue({type:"FIRST_DRAFT_EVAL",message:"Eval Completed"}))}catch(e){(0,S.x1)("first-draft","Error running evals",{error:e}),sG.D.dispatch(g.F.enqueue({type:"FIRST_DRAFT_EVAL",message:"Eval failed. Please check the console for more information.",error:!0}))}}let _W=e=>{let t=e.jsx_messages;if(!t)return null;let a=null;for(let e of t){let t="system"===e.role;if(e.content){let n=e.content.indexOf("examples of good outputs");if(-1!==n){let r=e.content.substring(n);if(!t)return r;a=r}}}return a??null},_j=({metadata:e,title:t,storeInPluginData:a})=>{let n=[{type:"Text",props:{className:"w-full text-xs text-slate-500 text-left",sharedPluginData:{value:a?e:""}},children:[a?`${t.toUpperCase()} (Stored in pluginData)`:t.toUpperCase()]}];return a||n.push({type:"Text",props:{className:"w-full text-xs text-left"},children:[e]}),{type:"AutoLayout",props:{name:t,className:"p-4 gap-2 bg-white w-full flex-col"},children:n}},_Z=e=>({type:"Text",props:{className:"text-red-500 w-full"},children:[e]});async function _Y({kit:e,inputPrompt:t,openFileKey:a,customizableVariables:n}){let r="LIBRARY"===e.dsKitKey.type?e.dsKitKey.key:i.XJn.getKitKey(e.dsKitKey.pageId)??"",l="LOCAL"===e.dsKitKey.type;l&&a&&await (0,m7.p4)(a,e,n);let{data:{meta:{examples:o}}}=await po.Gh.getFirstDraftRetrievedExamples({kitKey:r,isLocal:l,prompt:t});return o}function _X({selectedKit:e}){let t=(0,l.wA)(),a=(0,X.tS)(),[n,i]=r.useState(""),[o,s]=r.useState([]),c=(0,pl.B)(),d=o.length>0;return r.createElement(ib.Y,{padding:{vertical:12},direction:"vertical"},r.createElement("button",{className:tj.cx.cursorPointer.flex.itemsCenter.wFull.$},r.createElement(iw.E,{fontSize:11,fontWeight:"medium"},"Examples Debug")),r.createElement("textarea",{className:tj.cx.resizeNone.wFull.colorBgSecondary.px12.py8.bRadius5.$,rows:1,value:n,placeholder:"Enter a prompt to retrieve examples",onChange:e=>i(e.target.value)}),r.createElement(lx.$n,{variant:"secondary",onClick:async()=>{try{let t=await _Y({kit:e,inputPrompt:n,openFileKey:a,customizableVariables:c});s(t)}catch(e){t(g.F.enqueue({type:"FIRST_DRAFT_EXAMPLES_DEBUG",message:"Fetching examples failed. Please make sure you're using a published kit with examples.",error:!0}))}}},"Get examples"),d&&r.createElement("div",{style:{height:"300px",overflowY:"scroll"}},o.map((e,t)=>r.createElement(ib.Y,{direction:"horizontal",key:t,width:"fill-parent"},r.createElement("img",{src:e.thumbnail_url??void 0,alt:"No thumbnail",style:{height:"auto",width:"auto",maxHeight:"300px",maxWidth:"250px"}}),r.createElement("div",{style:{width:"200px",wordWrap:"break-word"}}," ",e.name)))))}var _q=a(137819),_J=a(25108);function _Q({text:e}){return r.createElement("div",{className:ev()(tj.cx.flex.flexRow.$)},r.createElement(_q.i,{style:{marginLeft:-2}})," ",r.createElement("span",{className:ev()(tj.cx.pl4.$)},e))}function _$(e=!1){let{libraryKitsQueryStatus:t,localKits:a,libraryKits:n}=(0,_J.Ml)(),[l,i]=(0,r.useState)(null),o="loaded"===t;return(0,r.useEffect)(()=>{if(o&&null===l){if(e){let e=a[0]??n[0]??null;e&&i({type:"KIT",kit:e})}else if((0,c.kc)().first_draft_auto_select_kits&&n.length>1)i({type:"AUTO"});else{let e=n[0]??a[0]??null;e&&i({type:"KIT",kit:e})}}},[a,n,o,l,i,e]),{kitsAreLoaded:o,kitOptionDropdownItems:(0,r.useMemo)(()=>{let e=[];return n.length>0&&(e.push({type:"header",text:(0,h.t)("first_draft.made_by_figma")}),(0,c.kc)().first_draft_auto_select_kits&&n.length>1&&e.push({type:"checkableOption",value:{type:"AUTO"},text:(0,h.t)("first_draft.detect_via_prompt")}),e.push(...n.map(e=>({type:"checkableOption",value:{type:"KIT",kit:e},text:e.name})))),(0,c.kc)().first_draft_local_kits&&a.length>0&&(e.push({type:"separator"}),e.push({type:"header",text:(0,h.t)("first_draft.current_file")}),e.push(...a.map(e=>({type:"checkableOption",value:{type:"KIT",kit:e},text:e.name})))),e},[n,a]),selectedKitOption:l,setSelectedKitOption:i}}function _0({items:e,kitsAreLoaded:t,selectedKitOption:a,setSelectedKitOption:n,recordingKey:l}){return r.createElement(_F.ms,{selected:a,onSelectedChange:n,placeholder:r.createElement(_Q,{text:t?(0,h.t)("first_draft.library_placeholder"):(0,h.t)("first_draft.kits_loading")}),labelForSelectedItem:e=>"AUTO"===e.type?r.createElement(_Q,{text:(0,h.t)("first_draft.library_placeholder")}):r.createElement(_Q,{text:e.kit.name}),displayAboveTarget:!0,lean:"right",items:e,recordingKey:nf.Pt(l,"kitPicker"),disabled:!t})}function _1({selectedKitOption:e,clientLifecycleId:t}){let a=(0,l.wA)(),[n,i]=r.useState(!1),[o,s]=r.useState(""),c=r.useCallback(async e=>{e&&((0,m6.xF)(e),await Promise.resolve())},[]),{submitPromptMocked:d}=_L({onInsertJSXDone:c,mockStreamOptions:{sleepTime:100,chunksPerYield:1e6,useWords:!1},clientLifecycleId:t}),{submitPromptMocked:u}=_L({onInsertJSXDone:c,mockStreamOptions:{sleepTime:100,chunksPerYield:10,useWords:!1},clientLifecycleId:t}),m=r.useCallback(async()=>{if(!e){(0,S.xi)("first-draft","insert called without a selected kit");return}if("AUTO"===e.type){(0,S.xi)("first-draft","insert called without an invalid kit option");return}let t=_2(e);if(!t){(0,S.xi)("first-draft","insert called without a valid dsKit");return}await u({dsKit:t,theme:{},jsx:"```jsx\n"+o},{dsKitKey:e.kit.dsKitKey,shouldGenerateImages:n})},[o,u,e,n]),p=r.useCallback(async()=>{if(!e){(0,S.xi)("first-draft","insert called without a selected kit");return}if("AUTO"===e.type){(0,S.xi)("first-draft","insert called without an invalid kit option");return}let t=_2(e);if(!t){(0,S.xi)("first-draft","insert called without a valid dsKit");return}await d({dsKit:t,theme:{},jsx:"```jsx\n"+o},{dsKitKey:e.kit.dsKitKey,shouldGenerateImages:n})},[o,d,e,n]);return r.createElement(ib.Y,{padding:{vertical:12},direction:"vertical"},r.createElement("button",{className:tj.cx.cursorPointer.flex.itemsCenter.wFull.$},r.createElement(iw.E,{fontSize:11,fontWeight:"medium"},"Debug")),r.createElement("textarea",{className:tj.cx.resizeNone.wFull.colorBgSecondary.px12.py8.bRadius5.$,rows:3,value:o,placeholder:"Enter JSX to insert directly",onChange:e=>s(e.target.value)}),r.createElement(ib.Y,null,r.createElement(av.S,{checked:n,onChange:()=>i(e=>!e),label:r.createElement(ab.J,null,"Gen images")})),r.createElement(ib.Y,null,r.createElement(lx.$n,{variant:"secondary",onClick:async()=>{await m(),a(g.F.enqueue({message:"Finished insert"}))}},"Insert streaming"),r.createElement(lx.$n,{variant:"secondary",onClick:async()=>{await p(),a(g.F.enqueue({message:"Finished insert"}))}},"Insert all")))}function _2(e){if("AUTO"===e.type)return null;let t=e.kit.dsKitKey,a="LOCAL"===t.type?i.XJn.getKitKey(t.pageId):t.key;return a?{kitKey:a,isLocal:"LOCAL"===t.type}:null}var _5=a(128247),_3=a(314766),_4=a(203264),_6=a(368832),_7=a(44948),_8=a(287497);function _9(e,t){return(0,_8.YJ)({nodeIds:Object.keys(e),options:{componentUsageOrDefinition:"USAGE",skipNodeIds:!1,detachInstances:!0,skipInstanceComponentProps:!1,includeInstanceOverrides:!0,includeComponentDependencies:!0,includeType:!0,skipNodeIdsWithoutType:t,classPropName:"class",autoLayoutTagName:"div",frameTagName:"div"}})}var fe=a(213376),ft=a(286640);let fa="first_draft_prompt_history_";var fn=a(749401);async function fr(e,t,a){let n=al.q.instance;for(let r of a.flatMap(e=>e.nodeWeightInfos)){let a=n.get(r.nodeId);if(!a)continue;let l=function(e,t,a,n){if(!fn.z[t])return;let r=fn.z[e];if(r)return r[a][n]}(t,a.fontName.family,e,r.weight),i=l?.style??a.fontName.style;try{let e={family:t,style:i};await (0,p6.E)(e),lK.l7.user("first-draft-theme-modal-adjust-font-family",()=>{a.fontName=e})}catch(n){let e={family:t,style:"Regular"};await (0,p6.E)(e),lK.l7.user("first-draft-theme-modal-adjust-font-family",()=>{a.fontName=e})}lK.l7.user("first-draft-theme-modal-adjust-font-family",()=>{l?.letterSpacing!==void 0&&(a.letterSpacing=l.letterSpacing)})}}var fl=a(218549),fi=a(503796);let fo=new fl.q(40);async function fs({changes:e,makeChangesSessionId:t,clientLifecycleId:a,containingNodeId:n,instrumentationRef:r}){let l=al.q.instance.get(e.affectedId);if(!l)return!1;let i=`${t}:${e.affectedId}`;if(fo.has(i))return(0,S.$D)(nX.e.FEEDBACK,Error("first-draft: Attempted to apply content changes twice"),{extra:{clientLifecycleId:a}}),!1;if(fo.set(i,!0),!l.getSharedPluginData("jsx","isImage"))return lK.l7.ai("first-draft-iterate-text-content",()=>(function({node:e,textContent:t}){return"TEXT"!==e.type?((0,S.xi)("first-draft","Update text called on a non-text node",{nodeId:e.guid,nodeType:e.type}),!1):(e.spliceCharacters(0,e.characters.length,t,"BEFORE"),!0)})({node:l,textContent:e.content})),!0;{let t=l.getSharedPluginData("jsx","background");return await r.current.logImageLoad(()=>(0,fi.Og)({node:l,description:e.content,background:t,clientLifecycleId:a,containingNodeId:n})),!0}}async function fc({action:e,insertJSX:t,options:{dsKitKey:a,storedTheme:n,currentTheme:r,imageArgs:l,rootNodeId:i}}){try{let{affectedId:o,jsxToInsert:s}=e,c=al.q.instance.get(o);if(!c)throw Error("Could not find affected node in the scene");let d=al.q.instance.get(i);if(!d)throw Error("Could not find root node in the scene");let u=(0,_s.BY)(d),m=c.parentNode;if(!m)throw Error("Could not find affected node in the scene");let p=m.childrenGuids.indexOf(o);if(-1===p)throw Error("Could not find affected node in the scene");let _="below";"insert"===e.type&&(_=e.insertBehavior);let f=await pD(s);if(!f||0===f.length)throw Error("Failed to parse JSX");let h=_y(f);if(0===h.size)throw Error("Only building blocks can be inserted or replaced");await t({jsxStr:"```jsx\n"+s+"\n```",options:{..._A(),insertBehavior:"inline",dsKitKey:a,theme:n,themeProperties:r,deviceType:u,parentNodeId:m.guid,insertAtIndex:"above"===_?p:p+1,imageArgs:l}}),"replace"===e.type&&lK.l7.ai("first-draft-make-changes-remove",()=>{c.removeSelfAndChildren()})}catch(t){throw(0,S.$D)(nX.e.FEEDBACK,t,{extra:{action:e,dsKitKey:a}}),t}}var fd=a(852299);function fu(e){return/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(e)}function fm(){let e=(0,eK.eY)(),t=Object.entries((0,eK.KH)()).filter(([e,t])=>t).map(([e])=>e),a=null;for(let n of t)if(a=function(t){let a="",n=t;for(;!a&&n;){let t=e.get(n);if(!t)break;t.getSharedPluginData(pc,"userPrompt")&&(a=n),n=t.parentGuid||""}return a||null}(n))break;return a}var fp=a(927924),f_=a(646701),ff=a(169566),fh=a.n(ff),fg=(e=>(e.mobile="MOBILE",e.web="WEB",e))(fg||{});function fE(e=3,t){let a=(0,c.kc)().first_draft_new_prompt_pills,n=[{label:(0,h.t)("first_draft.prompts.pricing_page.label"),prompt:(0,h.t)("first_draft.prompts.pricing_page.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.sign_in_screen.label"),prompt:(0,h.t)("first_draft.prompts.sign_in_screen.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.blog_post.label"),prompt:(0,h.t)("first_draft.prompts.blog_post.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.portfolio.label"),prompt:(0,h.t)("first_draft.prompts.portfolio.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.news_site.label"),prompt:(0,h.t)("first_draft.prompts.news_site.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.onboarding.label"),prompt:(0,h.t)("first_draft.prompts.onboarding.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.sign_in_screen.label"),prompt:(0,h.t)("first_draft.prompts.sign_in_screen.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.blog_post.label"),prompt:(0,h.t)("first_draft.prompts.blog_post.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.map_app_mobile.label"),prompt:(0,h.t)("first_draft.prompts.map_app_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.messaging_mobile.label"),prompt:(0,h.t)("first_draft.prompts.messaging_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.profile.label"),prompt:(0,h.t)("first_draft.prompts.profile_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.travel_app_mobile.label"),prompt:(0,h.t)("first_draft.prompts.travel_app_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.social_feed_mobile.label"),prompt:(0,h.t)("first_draft.prompts.social_feed_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.ticketing_app.label"),prompt:(0,h.t)("first_draft.prompts.ticketing_app.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.ride_sharing_mobile.label"),prompt:(0,h.t)("first_draft.prompts.ride_sharing_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.to_dos_mobile.label"),prompt:(0,h.t)("first_draft.prompts.to_dos_mobile.prompt"),type:"MOBILE"}];a&&n.push({label:(0,h.t)("first_draft.prompts.homepage.label"),prompt:(0,h.t)("first_draft.prompts.homepage.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.homepage.label"),prompt:(0,h.t)("first_draft.prompts.homepage_2.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.video_player_streaming.label"),prompt:(0,h.t)("first_draft.prompts.video_player_streaming.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.video_page_with_comments.label"),prompt:(0,h.t)("first_draft.prompts.video_page_with_comments.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.search_results_travel.label"),prompt:(0,h.t)("first_draft.prompts.search_results_travel.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.social_feed_text_heavy.label"),prompt:(0,h.t)("first_draft.prompts.social_feed_text_heavy.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.profile.label"),prompt:(0,h.t)("first_draft.prompts.profile_social_media.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.news_article.label"),prompt:(0,h.t)("first_draft.prompts.news_article.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.landing_page.label"),prompt:(0,h.t)("first_draft.prompts.landing_page_beauty.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.landing_page.label"),prompt:(0,h.t)("first_draft.prompts.landing_page_tech.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.marketing_page_football.label"),prompt:(0,h.t)("first_draft.prompts.marketing_page_football.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.shopping.label"),prompt:(0,h.t)("first_draft.prompts.shopping_hifi.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.shopping.label"),prompt:(0,h.t)("first_draft.prompts.product_details_shoes.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.admin_dashboard_saas.label"),prompt:(0,h.t)("first_draft.prompts.admin_dashboard_saas.prompt"),type:"WEB"},{label:(0,h.t)("first_draft.prompts.settings_mobile.label"),prompt:(0,h.t)("first_draft.prompts.settings_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.video_player_comments_mobile.label"),prompt:(0,h.t)("first_draft.prompts.video_player_comments_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.checkout_mobile.label"),prompt:(0,h.t)("first_draft.prompts.checkout_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.reviews_mobile.label"),prompt:(0,h.t)("first_draft.prompts.reviews_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.audio_player_mobile.label"),prompt:(0,h.t)("first_draft.prompts.audio_player_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.investing_mobile.label"),prompt:(0,h.t)("first_draft.prompts.investing_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.app_browsing_mobile.label"),prompt:(0,h.t)("first_draft.prompts.app_browsing_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.reservations_mobile.label"),prompt:(0,h.t)("first_draft.prompts.reservations_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.fitness_mobile.label"),prompt:(0,h.t)("first_draft.prompts.fitness_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.subscriptions_mobile.label"),prompt:(0,h.t)("first_draft.prompts.subscriptions_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.recipes_mobile.label"),prompt:(0,h.t)("first_draft.prompts.recipes_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.sports_mobile.label"),prompt:(0,h.t)("first_draft.prompts.sports_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.delivery_app_mobile.label"),prompt:(0,h.t)("first_draft.prompts.delivery_app_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.calendar_mobile.label"),prompt:(0,h.t)("first_draft.prompts.calendar_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.email_mobile.label"),prompt:(0,h.t)("first_draft.prompts.email_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.file_browser_mobile.label"),prompt:(0,h.t)("first_draft.prompts.file_browser_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.education_mobile.label"),prompt:(0,h.t)("first_draft.prompts.education_mobile.prompt"),type:"MOBILE"},{label:(0,h.t)("first_draft.prompts.shopping_mobile.label"),prompt:(0,h.t)("first_draft.prompts.shopping_mobile.prompt"),type:"MOBILE"});let r=n;if(t?.type==="KIT"){let e=t.kit.name.toLowerCase();e.includes("mobile")?r=r.filter(e=>"MOBILE"===e.type):e.includes("web")&&(r=r.filter(e=>"WEB"===e.type))}let l=fh()(r),i={};for(let t of l){if(Object.keys(i).length>=e)break;let a=fv(t.label);i[a]||(i[a]=t)}let o=Object.values(i).slice(0,e);return o.length<e?((0,S.$D)(nX.e.FEEDBACK,Error(`Unable to generate ${e} unique presets`),{extra:{count:e,generatedCount:o.length,selectedPresetsObj:i,shuffledPresets:l}}),[]):o}function fy(e=1){let t=[{label:(0,h.t)("first_draft.make_changes.prompt_labels.change_font"),prompt:(0,h.t)("first_draft.make_changes.prompts.futuristic_font")},{label:(0,h.t)("first_draft.make_changes.prompt_labels.colors"),prompt:(0,h.t)("first_draft.make_changes.prompts.calming_colors")},{label:(0,h.t)("first_draft.make_changes.prompts.make_it_pop"),prompt:(0,h.t)("first_draft.make_changes.prompts.make_it_pop")},{label:(0,h.t)("first_draft.make_changes.prompt_labels.round_corners"),prompt:(0,h.t)("first_draft.make_changes.prompts.round_corners")},{label:(0,h.t)("first_draft.make_changes.prompt_labels.colors"),prompt:(0,h.t)("first_draft.make_changes.prompts.watermelon_theme")},{label:(0,h.t)("first_draft.make_changes.prompt_labels.rewrite"),prompt:(0,h.t)("first_draft.make_changes.prompts.punchier_text")},{label:(0,h.t)("first_draft.make_changes.prompt_labels.imagery"),prompt:(0,h.t)("first_draft.make_changes.prompts.vibrant_images")},{label:(0,h.t)("first_draft.make_changes.prompt_labels.add"),prompt:(0,h.t)("first_draft.make_changes.prompts.add_another_section")},{label:(0,h.t)("first_draft.make_changes.prompt_labels.replace"),prompt:(0,h.t)("first_draft.make_changes.prompts.replace_hero_image")}];return s6()(fh()(t.filter(e=>""!==fv(e.label))),e=>e.label).slice(0,e)}function fv(e){return e.trim().toLowerCase()}var fb=a(267344),fC=a(879466);function fw({trace:e}){return r.createElement(sV.B,{justify:"space-between",align:"center",fullWidth:!0},r.createElement("span",{className:tj.cx.maxWFull.preWrap.textBodyMedium.$},(0,h.tx)("first_draft.share_trace_nudge_in_modal",{weirdOutput:r.createElement("span",{className:tj.cx.textBodyMediumStrong.$},(0,h.t)("first_draft.share_trace_nudge_weird_output"))})),r.createElement(u7.r,{variant:"secondary",onAction:()=>{(0,fC.j)(JSON.stringify(e,null,2),"trace.json")}},(0,h.tx)("first_draft.share_trace")))}function fT(e){let{close:t}=(0,sT.cq)();(0,eK.f4)(a=>{if(e)for(let e of Object.keys(a.mirror.sceneGraphSelection)){let a=al.q.instance.get(e);if(a&&!a.isOrInFirstDraft){t();return}}})}var fS=(e=>(e[e.READY_FOR_PROMPT=0]="READY_FOR_PROMPT",e[e.RUNNING=1]="RUNNING",e[e.FINISHED=2]="FINISHED",e[e.ERROR=3]="ERROR",e[e.ICANTDOTHIS=4]="ICANTDOTHIS",e))(fS||{}),fN=(e=>(e.PROMPT="prompt",e.THEME="theme",e))(fN||{});let fx={brandColor:ac.UE,displayBrandColor:ac.UE,colorMode:pe.lH.LIGHT,spacing:1,radius:1,titleFonts:[],bodyFonts:[],labelFonts:[]};function fk(e){let t=al.q.instance.get(e);if(!t)return fx;let a=(0,_s.BY)(t),n=(0,_s.uP)(t),r=(0,_s.Mz)(t,a),l=(0,pt.X6)(t)??ac.UE,i=(0,ac.tK)(p2(l,n.colors))??ac.UE;return{brandColor:i,displayBrandColor:i,colorMode:p3(t)??pe.lH.LIGHT,spacing:(0,p7.YB)(n.spacingValues),radius:(0,p7.nd)(n.radiusValues),titleFonts:r.title,bodyFonts:r.body,labelFonts:r.label}}function fI({initialRootGuid:e}){let t=(0,aW._M)({action:az.JT.FIRST_DRAFT_MAKE_CHANGES,clientLifecycleId:void 0}),a=t.clientLifecycleId,n=(0,X.tS)(),{pop:l}=(0,sT.cq)(),i=r.useCallback(()=>{(0,$.sx)("First Draft: Error",{file_key:n,clientLifecycleId:a,view:"firstDraftMakeChanges"},{forwardToDatadog:!0,sendAsBeacon:!0,mlEvent:!0})},[n,a]);return r.createElement(f.tH,{boundaryKey:"FirstDraftMakeChanges",fallback:f.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{clientLifecycleId:a,area:nX.e.FEEDBACK},onError:i},r.createElement(fA,{recordingKey:"firstDraftMakeChangesView",onBack:l,initialRootGuid:e,aiTrackingContext:t}))}function fA(e){let t=e.aiTrackingContext,a=t.clientLifecycleId,n=(0,f_.GE)(az.JT.FIRST_DRAFT_MAKE_CHANGES),[l,o]=r.useState(""),s=(0,X.tS)(),d=(0,eK.eY)(),u=fm()||e.initialRootGuid,m=(0,eK.KH)(),p=(0,r.useMemo)(()=>u?d.get(u):null,[d,u]),{applyMakeChanges:_,resetMakeChanges:f,instrumentationRef:g}=function({clientLifecycleId:e}){let[t]=(0,r.useState)({current:(0,oI.g)()}),{insertJSX:a,resetAsync:n,instrumentationRef:l}=_x({clientLifecycleId:e,insertType:"makeChanges"});return{applyMakeChanges:(0,r.useCallback)(async(r,o)=>{let s=[];for(let e of("affectedId"in r&&s.push(r.affectedId),"destinationId"in r&&s.push(r.destinationId),s)){if(!function e(t,a,n){let r=t.get(a);return!!r&&(r.guid===n||!!r.parentGuid&&e(t,r.parentGuid,n))}(al.q.instance,e,o.rootNodeId)){(0,S.$D)(nX.e.FEEDBACK,Error("first-draft: Node does not have root node as ancestor"),{extra:{nodeId:e,action:r,...o}});return}if(e===o.rootNodeId){(0,S.$D)(nX.e.FEEDBACK,Error("first-draft: Tried to mutate root node"),{extra:{nodeId:e,action:r,...o}});return}}switch(await n(),r.type){case"theme":{let{content:e}=r;e&&function(e,t,a){let n=al.q.instance.get(e);if(!n)return;let r=(0,_s.BY)(n);if(["borderRadii","spacing","colors","fontFamilies"].some(e=>e in a)){let e=(0,_s.k5)(t,a);(0,_s.jR)(n,e,r)}let l=t.darkMode?pe.lH.DARK:pe.lH.LIGHT,i=t.brandColor??function(e){let t=(0,_s.uP)(e,{ignoreOpacity:!0});return p2((0,pt.X6)(e)??ac.UE,t.colors)}(n),o="darkMode"in a?a.darkMode?pe.lH.DARK:pe.lH.LIGHT:void 0;if(o&&l!==o&&lK.l7.ai("first-draft-make-changes-theme-switch-mode",()=>{p4(n,o,i)}),"brandColor"in a&&a.brandColor){let e=(0,ac.tK)(a.brandColor);if(e){let t=(0,pt.qO)(e,o??l);lK.l7.ai("first-draft-make-changes-theme-brand-color",()=>{p5(n,t,o??l??pe.lH.LIGHT,{},i)})}}}(o.rootNodeId,o.currentTheme,e);break}case"text_or_image":await fs({changes:r,makeChangesSessionId:t.current,clientLifecycleId:e,containingNodeId:o.rootNodeId,instrumentationRef:l});break;case"insert":case"replace":await fc({action:r,options:o,insertJSX:a}),await n();break;case"remove":lK.l7.ai("first-draft-make-changes-remove",()=>{let e=al.q.instance.get(r.affectedId);e&&e.removeSelfAndChildren()});break;case"move":{let{affectedId:e,destinationId:t,insertBehavior:a}=r;lK.l7.ai("first-draft-make-changes-move",()=>{let n=al.q.instance,r=n.get(e),l=n.get(t),i=l?.parentNode,o=i?.childrenGuids.indexOf(t)??-1;r&&i&&("above"===a?i.insertChild(r,o):"below"===a&&(o<i.childrenGuids.length-1?i.insertChild(r,o+1):i.appendChild(r)))});break}case"replaceClasses":{let{affectedId:e,classes:t}=r;for(let a of t)!function(e,t){let a=al.q.instance.get(e);if(!a){(0,S.xi)("applyToNode","Node not found",{guid:e});return}let n=function(e){switch(e.type){case"TEXT":return"Text";case"SYMBOL":case"INSTANCE":case"FRAME":return"AutoLayout";default:return null}}(a);if(!n){(0,S.xi)("applyToNode","Unsupported element type",{type:a.type});return}let r=pV(t,n);if("AutoLayout"===n&&r.direction){let e="vertical"===r.direction?"VERTICAL":"HORIZONTAL";"HORIZONTAL"!==e&&"WRAP"===a.stackWrap&&(a.stackWrap="NO_WRAP"),a.stackMode=e}for(let e of Object.keys(r)){let t=r[e];try{switch(e){case"width":"fill-parent"===t&&(a.stackHorizontalLayoutSize=i.mKm.FILL_CONTAINER),"hug-contents"===t&&(a.stackHorizontalLayoutSize=i.mKm.HUG_CONTENT),"number"==typeof t&&(a.stackHorizontalLayoutSize=i.mKm.FIXED,a.resizeWithConstraints(t,a.size.y));break;case"height":"fill-parent"===t&&(a.stackVerticalLayoutSize=i.mKm.FILL_CONTAINER),"hug-contents"===t&&(a.stackVerticalLayoutSize=i.mKm.HUG_CONTENT),"number"==typeof t&&(a.stackVerticalLayoutSize=i.mKm.FIXED,a.resizeWithConstraints(a.size.x,t));break;case"hidden":a.visible=!t;break;case"padding":"AutoLayout"===n&&"object"==typeof t&&t&&("top"in t&&"number"==typeof t.top&&(a.stackTopPadding=t.top),"bottom"in t&&"number"==typeof t.bottom&&(a.stackBottomPadding=t.bottom),"left"in t&&"number"==typeof t.left&&(a.stackLeftPadding=t.left),"right"in t&&"number"==typeof t.right&&(a.stackRightPadding=t.right));break;case"cornerRadius":if("AutoLayout"===n&&"object"==typeof t&&t){let e=!1;"topLeft"in t&&"number"==typeof t.topLeft&&(a.rectangleTopLeftCornerRadius=t.topLeft,e=!0),"bottomLeft"in t&&"number"==typeof t.bottomLeft&&(a.rectangleBottomLeftCornerRadius=t.bottomLeft,e=!0),"topRight"in t&&"number"==typeof t.topRight&&(a.rectangleTopRightCornerRadius=t.topRight,e=!0),"bottomRight"in t&&"number"==typeof t.bottomRight&&(a.rectangleBottomRightCornerRadius=t.bottomRight,e=!0),e&&(a.rectangleCornerRadiiIndependent=!0)}break;case"textDecoration":"TEXT"===a.type&&"string"==typeof t&&("underline"===t&&(a.textDecoration="UNDERLINE"),"strikethrough"===t&&(a.textDecoration="STRIKETHROUGH"),"none"===t&&(a.textDecoration="NONE"));break;case"textCase":"TEXT"===a.type&&"string"==typeof t&&("upper"===t&&(a.textCase="UPPER"),"lower"===t&&(a.textCase="LOWER"),"title"===t&&(a.textCase="TITLE"),"original"===t&&(a.textCase="ORIGINAL"),"small-caps"===t&&(a.textCase="SMALL_CAPS"),"small-caps-forced"===t&&(a.textCase="SMALL_CAPS_FORCED"));break;case"fontSize":"TEXT"===a.type&&"number"==typeof t&&(a.fontSize=t);break;case"spacing":"AutoLayout"===n&&("number"==typeof t?a.stackSpacing=t:"object"==typeof t&&t?("VERTICAL"===a.stackMode&&"vertical"in t&&"number"==typeof t.vertical&&(a.stackSpacing=t.vertical),"HORIZONTAL"===a.stackMode&&("horizontal"in t&&"number"==typeof t.horizontal&&(a.stackSpacing=t.horizontal),"WRAP"===a.stackWrap&&"vertical"in t&&"number"==typeof t.vertical&&(a.stackCounterSpacing=t.vertical))):"auto"===t&&(a.stackPrimaryAlignItems="SPACE_BETWEEN","WRAP"===a.stackWrap&&(a.stackCounterAlignContent="SPACE_BETWEEN")));break;case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":"AutoLayout"===n&&"number"==typeof t&&(a[e]=t);break;case"opacity":"number"==typeof t&&(a.opacity=t);break;case"strokeWidth":"AutoLayout"===n&&"number"==typeof t&&(a.strokeWeight=t,a.borderStrokeWeightsIndependent=!1,a.borderTopWeight=t,a.borderBottomWeight=t,a.borderLeftWeight=t,a.borderRightWeight=t);break;case"lineHeight":if("Text"===n&&"string"==typeof t){let e=function(e){if("number"==typeof e)return{units:"PIXELS",value:e};if("auto"===e)return{units:"PERCENT",value:100};let t=parseFloat(e);return isNaN(t)?null:e.match(/.*%\w*/)?{units:"RAW",value:t/100}:e.match(/.*px\w*/)?{units:"PIXELS",value:t}:null}(t??"");e&&(a.lineHeight=e)}break;case"horizontalAlignText":"Text"===n&&"string"==typeof t&&("left"===t&&(a.textAlignHorizontal="LEFT"),"center"===t&&(a.textAlignHorizontal="CENTER"),"right"===t&&(a.textAlignHorizontal="RIGHT"),"justify"===t&&(a.textAlignHorizontal="JUSTIFIED"));break;case"verticalAlignText":"Text"===n&&"string"==typeof t&&("top"===t&&(a.textAlignVertical="TOP"),"center"===t&&(a.textAlignVertical="CENTER"),"bottom"===t&&(a.textAlignVertical="BOTTOM"));break;case"fill":"string"==typeof t&&fu(t)&&(a.fillPaints={data:[{type:"SOLID",color:{...(0,fd._0)(t),a:1},visible:!0,opacity:1,blendMode:"NORMAL"}],blobs:[]});break;case"stroke":"Text"!==n&&"string"==typeof t&&fu(t)&&(a.strokePaints={data:[{type:"SOLID",color:{...(0,fd._0)(t),a:1},visible:!0,opacity:1,blendMode:"NORMAL"}],blobs:[]});break;case"direction":break;case"verticalAlignItems":"AutoLayout"===n&&"VERTICAL"===a.stackMode&&("start"===t?a.stackPrimaryAlignItems="MIN":"center"===t?a.stackPrimaryAlignItems="CENTER":"end"===t&&(a.stackPrimaryAlignItems="MAX")),"AutoLayout"===n&&"HORIZONTAL"===a.stackMode&&("start"===t?a.stackCounterAlignItems="MIN":"center"===t?a.stackCounterAlignItems="CENTER":"end"===t?a.stackCounterAlignItems="MAX":"baseline"===t&&(a.stackCounterAlignItems="BASELINE"));break;case"horizontalAlignItems":"AutoLayout"===n&&"HORIZONTAL"===a.stackMode&&("start"===t?a.stackPrimaryAlignItems="MIN":"center"===t?a.stackPrimaryAlignItems="CENTER":"end"===t&&(a.stackPrimaryAlignItems="MAX")),"AutoLayout"===n&&"VERTICAL"===a.stackMode&&("start"===t?a.stackCounterAlignItems="MIN":"center"===t?a.stackCounterAlignItems="CENTER":"end"===t&&(a.stackCounterAlignItems="MAX"));break;case"wrap":"AutoLayout"===n&&"HORIZONTAL"===a.stackMode&&(a.stackWrap=t?"WRAP":"NO_WRAP");break;default:(0,S.xi)("applyToNode","Unhandled property",{k:e,v:t,type:a.type})}}catch(n){(0,S.xi)("applyToNode","Error setting property",{k:e,v:t,error:n,type:a.type})}}}(e,a)}}},[e,t,a,l,n]),resetMakeChanges:(0,r.useCallback)(()=>{t.current=(0,oI.g)()},[t]),instrumentationRef:l}}({clientLifecycleId:a}),[E,y]=r.useState(0),[v,b]=r.useState(Error((0,h.t)("first_draft.something_went_wrong"))),[C,w]=r.useState(null),[N,x]=_3.tU.useTabs({prompt:!0,theme:!0},{defaultActive:"theme",recordingKey:nf.Pt(e,"tabs")});fT(2===E||3===E||4===E);let[k,I]=r.useState(fb.m.COLOR),A=r.useRef(1),L=r.useRef(null);(0,r.useEffect)(()=>{L.current=l},[l]);let[O,R]=r.useState(Date.now()),M=r.useCallback(()=>{A.current+=1,g.current.trackFinished("stopped"),fR(t,"stopped"),y(0)},[y,t,A,g]),D=r.useCallback(async()=>{f();let e=A.current,r={file_key:s,clientLifecycleId:a,generation_id:p?.firstDraftData?.generationId};try{if(g.current.start(),y(1),w(null),R(Date.now()),!p)throw Error("Root node not found");let l=p&&p.getSharedPluginData(pc,"userPrompt")||"",o=fO(p),s="LOCAL"===o.type;Object.assign(r,{dsKitType:o.type,isLocal:"LOCAL"===o.type,kitKey:"LOCAL"===o.type?i.XJn.getKitKey(o.pageId):o.key}),(0,$.sx)("First Draft: Make Changes Started",{...r,hasNonRootNodeSelected:!(p.guid in m)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),(0,aW.Dl)(t);let[{jsxStr:d},{jsxStr:u}]=await Promise.all([_9({[p.guid]:!0},!1),_9({[p.guid]:!0},!0)]);if(!d||!u){(0,$.sx)("First Draft: Make Changes Ended",{...r,timeElapsedMs:Date.now()-O,status:"failed",reason:"infer-jsx-failed",hasNonRootNodeSelected:!(p.guid in m)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),fR(t,"error"),y(2);return}let f=L.current||"",h=function(e){if(!(0,c.kc)().first_draft_prompt_history||!(0,c.kc)().first_draft_make_changes_history)return[];let t=(0,ft.Q_)();if(!t)return[];let a=`${fa}${e}`,n=t.getItem(a);if(!n)return[];try{return u_.array(fe.Db).parse(JSON.parse(n))}catch{}return[]}(p.guid),E=p?JSON.parse(p.getSharedPluginData(pc,"theme")||"{}"):{darkMode:!1},v=function(e){let t=(0,_s.uP)(e,{ignoreOpacity:!0}),a=p2((0,pt.X6)(e)??ac.UE,t.colors),n=p3(e)??pe.lH.LIGHT;return{...(0,_s.rO)(e,t),version:2,brandColor:a,darkMode:"dark"===n}}(p),b="LOCAL"===o.type?o.pageId:o.key,C=await s7.Ay.design.firstDraftMakeChanges({userPrompt:f,promptHistory:h,storedInitialPrompt:l,kitKey:b,isLocal:s,currentTheme:v,jsx:d,jsxInsertReplace:u},(0,pi.Lp)({clientLifecycleId:a}));h.push({prompt:f}),function(e,t){let a=(0,ft.Q_)();if(!a)return;let n=`${fa}${e}`;a.setItem(n,JSON.stringify(t))}(p.guid,h);let N=C.getReader(),x=[];for(;;){let{done:a,value:i}=await N.read();if(e!==A.current){N.cancel();break}if(g.current.trackFirstByteReceived(),a&&g.current.trackLastStreamByteReceived(),(0,S.Lo)("makeChanges","Response message",{message:i}),i?.trace&&w(i.trace),i?.action){if("replaceClasses"===i.action.type){(0,S.xi)("makeChanges","Unsupported action",{action:i.action.type}),(0,_g.Rh)("first_draft.client.make_changes.unsupported_action",{action:i.action.type}),x.push(Promise.reject(new pf.G1("make_changes_unsupported",{})));continue}(0,$.sx)("First Draft: Make Changes Prompt Action",{...r,action:i.action.type},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),x.push(_(i.action,{dsKitKey:o,rootNodeId:p.guid,storedTheme:E,currentTheme:v,imageArgs:{initialUserPrompt:l}}))}if(a){let e=await Promise.allSettled(x);if(!x.length)throw(0,S.xi)("makeChanges","No actions were applied from the prompt response"),(0,_g.Rh)("first_draft.client.make_changes.no_actions_applied"),new pf.G1("make_changes_unsupported",{});if(e.every(e=>"rejected"===e.status)){for(let t of e)if("rejected"===t.status)throw t.reason}(0,$.sx)("First Draft: Make Changes Ended",{...r,status:"completed",timeElapsedMs:Date.now()-O,hasNonRootNodeSelected:!(p.guid in m)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),n(),fR(t,"success"),g.current.trackFinished("success"),y(2),T.Y5.triggerAction("commit");break}}}catch(l){(0,S.xi)("makeChanges","Error",{error:l});let e=l instanceof pf.G1,a={...r,timeElapsedMs:Date.now()-O,error:l.toString(),status:"failed",reason:"error"},n=e?"handled_internally":(0,S.$D)(nX.e.FEEDBACK,l,{extra:a});(0,$.sx)("First Draft: Make Changes Ended",{...a,sentryEventId:n},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),fR(t,"error"),g.current.trackFinished("failure"),e&&("make_changes_unsupported"===l.type||"make_changes_moderated"===l.type)?((0,$.sx)("First Draft: Make Changes Prompt Action",{...r,action:"make_changes_unsupported"===l.type?"iCantDoThis":"blocked"},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),y(4)):y(3),b(l instanceof Error?l:Error("Unknown error"))}finally{e===A.current&&(A.current+=1)}},[s,a,A,g,p,m,t,O,_,f,n]),P=()=>{y(0)},F=C&&(0,c.kc)().cortex_execution_tracing;switch(E){case 1:return r.createElement(m5.F,{onStop:M,aiTrackingContext:t,recordingKey:nf.Pt(e,"running")},(0,h.tx)("first_draft.making_changes"));case 3:return r.createElement(m0.E,{error:v,customMessage:(0,h.t)("first_draft.something_went_wrong"),recordingKey:nf.Pt(e,"error"),buttons:[{type:m0.f.GO_BACK,callback:P}],extra:F?r.createElement(fw,{trace:C}):void 0,aiTrackingContext:t});case 4:let B=(0,h.t)("first_draft.make_changes.i_cant_do_this");return v instanceof pf.G1&&"make_changes_moderated"===v.type&&(B=(0,h.t)("ai.error.unsafe_or_harmful")),r.createElement(m0.E,{error:v,customMessage:B,recordingKey:nf.Pt(e,"unsupported"),buttons:[{type:m0.f.GO_BACK,callback:P}],extra:F?r.createElement(fw,{trace:C}):void 0,aiTrackingContext:t});case 2:let U=[];return(0,rX.KK)()&&!(0,c.kc)().first_draft_use_gemini&&U.push({type:m2.i.MAKE_CHANGES,callback:P}),r.createElement(m2.O,{content:F?r.createElement(fw,{trace:C}):void 0,recordingKey:nf.Pt(e,"iterate"),iterateOptions:U,aiTrackingContext:{...t,iteration_view_type:aj.$J.SUCCESS_WITH_ITERATION},stayOpen:!0});case 0:return r.createElement(fL,{promptValue:l,setPromptValue:o,rootNode:p,activeThemeTab:k,setActiveThemeTab:I,tabManager:x,tabPropsMap:N,handleSubmit:D,recordingKey:e.recordingKey,onBack:e.onBack,aiTrackingContext:t});default:(0,ok.xb)(E)}}function fL({promptValue:e,setPromptValue:t,rootNode:a,activeThemeTab:n,setActiveThemeTab:l,tabManager:i,tabPropsMap:o,handleSubmit:s,recordingKey:d,onBack:u,aiTrackingContext:m}){let p=m.clientLifecycleId,[_,f]=r.useState(fy(1)[0].prompt),[g,E]=r.useState(fy(3)),[y,v]=r.useState(fk(a?.guid??"")),b=r.useRef((0,p7.$L)(a)),C=r.useRef((0,p7.uq)(a)),w=r.useRef(y.radius),S=r.useRef(y.spacing);(0,r.useEffect)(()=>{b.current=(0,p7.$L)(a),C.current=(0,p7.uq)(a);let e=fk(a?.guid??"");w.current=e.radius,S.current=e.spacing},[a]);let{close:N}=(0,sT.cq)(),x=(0,X.tS)(),k=r.useMemo(()=>{let e,t;let n={file_key:x,clientLifecycleId:p,generation_id:a?.firstDraftData?.generationId};return a&&(t="LOCAL"===(e=fO(a)).type?e.pageId:e.key),Object.assign(n,{dsKitType:null!=e?e.type:null,kitKey:t}),n},[a,x,p]),I=y.colorMode,A=y.brandColor,L=y.displayBrandColor,O=y.radius,R=y.spacing,M=y.titleFonts,D=y.bodyFonts,P=y.labelFonts,F=(0,_4.ei)(a?.guid),B=(0,_7.k9)(()=>F,[F]);r.useEffect(()=>{let e=fk(a?.guid??"");v(t=>(0,p$.areClose)((0,p0.oB)(t.brandColor).h,(0,p0.oB)(e.brandColor).h,.01)?{...e,displayBrandColor:t.brandColor}:e)},[B,a?.guid]);let U=(0,_6.A)(e=>{(0,$.sx)("First Draft: Make Changes Color Change",{...k,color:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},5e3),H=r.useCallback(e=>{e!==I&&(lK.l7.user("first-draft-switch-color-mode",()=>{p4(a,e,(0,ac.F_)(y.brandColor))}),U(I),T.Y5.triggerAction("commit"),v({...y,colorMode:e}))},[y,a,I,U]),G=r.useMemo(()=>(function(e){let t={};if(!e)return t;let a=[e];for(;a.length>0;){let e=a.pop();if(e){if(e.fills.length>0){let a=(0,pt.gU)(e.fills);if(a){let n=(0,p0.oB)(a);t[e.guid]={s:n.s,l:n.l}}}else if(e.strokePaints.data.length>0){let a=(0,pt.gU)(e.strokePaints.data);if(a){let n=(0,p0.oB)(a);t[e.guid]={s:n.s,l:n.l}}}"childrenNodes"in e&&a.push(...e.childrenNodes)}}return t})(a),[a]),V=r.useRef(null),z=r.useRef(null),K=r.useCallback((e,t)=>{if(z.current)V.current=[e,z.current];else{z.current=e;let n=(0,ac.F_)(t);lK.l7.user("first-draft-apply-brand-color",()=>{p5(a,e,I,G,n)}),v({...y,brandColor:e,displayBrandColor:e}),setTimeout(()=>{if(z.current=null,V.current){let[e,t]=V.current;V.current=null,K(e,t)}},30)}},[a,I,G,y]),W=r.useCallback(e=>{U((0,ac.F_)(e)),K({...(0,pt.qO)(e,I),a:1},A)},[U,I,K,A]),j=(0,_6.A)(e=>{(0,$.sx)("First Draft: Make Changes Radius Change",{...k,radius:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),Z=(0,_6.A)(e=>{j(e),(0,p7.oP)(b.current,e,w.current)},100),Y=r.useCallback((e,t)=>{t.commit&&T.Y5.triggerAction("commit"),e!==O&&(Z(e),v({...y,radius:e}))},[O,y,Z]),q=(0,_6.A)(e=>{(0,$.sx)("First Draft: Make Changes Spacing Change",{...k,spacing:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),J=(0,_6.A)(e=>{q(e),(0,p7.HS)(C.current,e,S.current)},100),Q=r.useCallback((e,t)=>{t.commit&&T.Y5.triggerAction("commit"),e!==R&&(J(e),v({...y,spacing:e}))},[R,y,J]),ee=(0,_6.A)((e,t)=>{(0,$.sx)("First Draft: Make Changes Font Change",{...k,font_location:e,font_type:t},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),et=r.useCallback(e=>0===e.length?null:e[0].family,[]),ea=r.useCallback(async e=>{await fr(m8.lu.TITLE,e,M),ee("title",e),T.Y5.triggerAction("commit"),a?.guid&&v(fk(a.guid))},[M,ee,a?.guid]),en=r.useCallback(async e=>{await fr(m8.lu.BODY,e,y.bodyFonts),ee("body",e),T.Y5.triggerAction("commit"),a?.guid&&v(fk(a.guid))},[y.bodyFonts,ee,a?.guid]),er=r.useCallback(async e=>{await fr(m8.lu.LABEL,e,y.labelFonts),ee("label",e),T.Y5.triggerAction("commit"),a?.guid&&v(fk(a.guid))},[y.labelFonts,ee,a?.guid]),el=(0,r.useCallback)(e=>{(0,aW.SX)({...m,...(0,aW.Q0)(e),interaction:aj.NI.GENERATE}),s()},[m,s]),ei=r.createElement(u7.r,{shortcuts:[{key:lI.Uz.ENTER,modifier:[lI.xH.META]}],onAction:el,disabled:!a||0===e.length,recordingKey:nf.Pt(d,"submit")},(0,h.tx)("first_draft.make_changes")),eo=r.createElement(u7.r,{shortcuts:[{key:lI.Uz.ENTER,modifier:[lI.xH.META]}],onAction:N,recordingKey:nf.Pt(d,"doneTheming")},(0,h.tx)("first_draft.done_theming"));return r.createElement(r.Fragment,null,r.createElement(sV.B,{fullWidth:!0,align:"center",justify:"space-between",gap:0},"theme"===i.activeTab&&r.createElement(m9.qn,{section:n,colorMode:I,onChangeColorMode:H,brandColor:L,onChangeColor:W,cornerRadiusStop:O,onChangeCornerRadiusStop:Y,spacingStop:R,onChangeSpacingStop:Q,titleFont:et(M),onChangeTitleFont:ea,bodyFont:et(D),onChangeBodyFont:en,labelFont:et(P),onChangeLabelFont:er,recordingKey:nf.Pt(d,"themeEditorDrawer"),onBack:u})),r.createElement("div",{className:ev()(tj.cx.p8.relative.$,"theme"===i.activeTab&&"first_draft_make_changes_view--contentBoxed--L-H0e",n&&tj.cx.elevation500.radiusLarge.$),"data-testid":"readyForPromptView"},r.createElement(_3.tU.TabPanel,{...o.prompt},r.createElement(fp.X,{value:e,onChange:t,onBack:u,recordingKey:nf.Pt(d,"prompt"),suggestion:_,suggestionPills:(0,c.kc)().first_draft_new_prompt_pills?g:void 0})),r.createElement(_3.tU.TabPanel,{...o.theme},r.createElement(m9.JP,{activeTab:n,onTabChange:l,brandColor:L,cornerRadiusStop:O,spacingStop:R,titleFont:et(M),bodyFont:et(D),labelFont:et(P),recordingKey:nf.Pt(d,"themeEditor")})),r.createElement(sV.B,{fullWidth:!0,justify:"space-between"},r.createElement(_3.tU.TabStrip,{manager:i},r.createElement(_3.tU.Tab,{...o.theme},(0,h.tx)("first_draft.style")),r.createElement(_3.tU.Tab,{...o.prompt},r.createElement("span",{"data-testid":"promptTabLabel"},(0,h.tx)("first_draft.prompt")))),"prompt"===i.activeTab?ei:eo)))}function fO(e){let t=e.firstDraftData;if(t){if(t.kit.type===i.AZ4.LOCAL)return{type:"LOCAL",pageId:i.XJn.getPageIdFromKitKey(t.kit.key)??""};if(t.kit.type===i.AZ4.LIBRARY)return{type:"LIBRARY",key:t.kit.key}}return JSON.parse(e.getSharedPluginData(pc,"dsKitKey"))}function fR(e,t){switch(t){case"success":(0,aW.as)({...e,status:aj.dM.COMPLETED,reason:"success"});break;case"error":(0,aW.as)({...e,status:aj.dM.FAILED,reason:aj.F9.ERROR});break;case"stopped":(0,aW.as)({...e,status:aj.dM.FAILED,reason:aj.F9.STOPPED})}}class fM{constructor(e=1){this.queue=[],this.queue=[],this.concurrencyLimit=e,this.activeCount=0}postTask(e,t){return new Promise((a,n)=>{let r=async()=>{try{a(await e())}catch(e){n(e)}};this.queue.push([r,t]),this.doNextTask()})}async doNextTask(){if(0===this.queue.length||this.activeCount>=this.concurrencyLimit)return;let e=this.queue.shift();if(!e)return;let[t,a]=e;this.activeCount++;try{await scheduler.postTask(t,a)}catch(e){throw e}finally{this.activeCount--,this.doNextTask()}}}var fD=a(438773),fP=a(343090),fF=a(821597),fB=a(420586);function fU({options:e,onSelect:t}){let[a,n]=r.useState(),l=r.useCallback((e,r)=>{t(e,{ev:r,prevOption:a}),n(e)},[t,a]);return r.createElement(fB._,null,r.createElement(fF.t,null),r.createElement(u8.x,{columns:6,gap:13.9,padding:0},e.map((e,t)=>r.createElement(fH,{key:t,column:t,presetOption:e,onSelect:l}))))}function fH({column:e,presetOption:t,onSelect:a}){let n={onAction:e=>a(t,e)};return r.createElement(u8.x.Item,{recordingKey:`previewTileItem-${e}`,focusAction:n,primaryAction:n},r.createElement(u8.x.GridItemHighlight,null,r.createElement("div",{className:tj.cx.colorBgSecondary.b1.colorBorder.wFull.flex.alignCenter.justifyCenter.$,style:{aspectRatio:"1/1",height:"56px",overflow:"hidden",borderRadius:"8px",alignItems:"flex-start"}},r.createElement("img",{alt:"Preview of generation",src:t.dataURI,className:tj.cx.maxWFull.$,draggable:!1}))))}let fG=(0,U.E3)("draft_prompt_history",[]),fV=async({params:{selectedKitOption:e,promptValue:t,submitPrompt:a,shouldContinueStreamRef:n},abortController:r})=>{let l="KIT"===e.type?e.kit:null;r.signal.addEventListener("abort",()=>{n.current=!1});let o=await a(t,{designSystem:l},{shouldGenerateImages:!0});if(o.error)throw r.abort(),i.XJn.clearFDScene(),o.error;if(o?.success&&!o?.nodeId)throw Error((0,h.t)("first_draft.no_design_generated"));return{result:o}};function fz({recordingKey:e}){let t=(0,aK.RL)(az.JT.FIRST_DRAFT,fV),{start:a,stop:n,state:l,aiTrackingContext:o}=t,s=o.clientLifecycleId,d=(0,f_.GE)(az.JT.FIRST_DRAFT),u=(0,eK.eY)(),m=(0,X.tS)(),[p,_]=r.useState(""),[f,g]=r.useState([]),E=r.useRef(!0),y=r.useRef(null),v=r.useRef(null),b=r.useRef(new fM(1)),[C,w]=r.useState(new Set),T=r.useRef({}),{kitsAreLoaded:N,kitOptionDropdownItems:x,selectedKitOption:k,setSelectedKitOption:I}=_$(),{close:A}=(0,sT.cq)(),{promptHistory:L,addPromptToHistory:O}=(0,fD.a)(fG,e=>e),[R,M]=(0,r.useState)(!1);fT(l===aK.qy.DONE||l===aK.qy.ERROR),r.useEffect(()=>()=>{i.XJn.clearFDScene()},[]);let{submitPrompt:D,executionTrace:P,imageProgress:F}=_L({shouldContinueStream:r.useCallback(()=>E.current,[E]),onInsertJSXDone:r.useCallback(async(e,t,a,n)=>{e&&a&&((0,m6.xF)(e),g(await (0,p8.xk)(a,e,n,t)))},[]),clientLifecycleId:s}),U=r.useCallback(async()=>{if(l===aK.qy.RUNNING){(0,S.xi)("first-draft","handleSubmit called while already running");return}if(!k){(0,S.xi)("first-draft","handleSubmit called without a selected kit");return}O(p);let e=await a({selectedKitOption:k,promptValue:p,submitPrompt:D,shouldContinueStreamRef:E});e?.result?.nodeId&&(y.current=e.result.nodeId),d()},[l,k,a,p,D,E,O,d]),H=r.useCallback(()=>{n(),A()},[A,n]),G=(0,r.useCallback)(async(e,t)=>{void 0!==t.prevOption&&e!==t.prevOption&&(0,aW.hm)({...o,...(0,aW.zQ)(t.ev),iteration_view_type:aj.$J.SUCCESS_WITH_ITERATION,interaction:aj.sd.GALLERY_SELECT,status:aj.o2.COMPLETED,value:e.modeId||"null"}),t.ev.target?.item&&(T.current[t.ev.target.index]=t.ev.target.item),await b.current.postTask(()=>{if(y.current&&(v.current?.modeId??null)!==e.modeId){let t=(0,p8.DP)(e,y.current,C),a=u.get(t),n=a?.firstDraftData,r=n?.kit?.type??null;(0,$.sx)("First Draft: Multiple Options Selected",{preset_name:e.modeId,clientLifecycleId:s,isLocal:r===i.AZ4.LOCAL||null,dsKitType:null!==r?r===i.AZ4.LOCAL?"LOCAL":"LIBRARY":null,kitKey:n?.kit?.key??null,file_key:m},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),w(new Set([y.current,...C])),y.current=t,v.current=e}},{})},[o,C,s,u,m]),V=(0,B.Fk)((e,t)=>{for(let a of t)if(a){let t=e.get(a);if(t)return Object.values(t.explicitVariableModes())[0]??null}},[y.current,...C]);r.useEffect(()=>{if(v.current&&void 0!==V&&v.current.modeId!==V){let e=f.findIndex(e=>e.modeId===V);T.current[e]&&(v.current=f[e],T.current[e].fauxFocus())}},[V,f]);let z=()=>0===f.length?null:r.createElement(fU,{options:f,onSelect:G}),K=P&&(0,c.kc)().cortex_execution_tracing;switch(l){case aK.qy.INITIAL:return r.createElement(fK,{promptValue:p,setPromptValue:_,handleSubmit:U,promptHistory:L,kitOptionDropdownItems:x,selectedKitOption:k,setSelectedKitOption:I,kitsAreLoaded:N,recordingKey:e,aiTrackingContext:o});case aK.qy.RUNNING:return r.createElement(m5.F,{recordingKey:nf.Pt(e,"running"),onStop:H,aiTrackingContext:o,secondaryMessage:F.total&&F.loaded?(0,h.t)("first_draft.x_of_y_images",{loaded:F.loaded,total:F.total}):void 0},(0,h.tx)("first_draft.running"));case aK.qy.DONE:{let a=t.result;if(R)return r.createElement(fI,{initialRootGuid:a.result?.nodeId});let n=[];return(0,rX.KK)()&&!(0,c.kc)().first_draft_use_gemini&&n.push({type:m2.i.MAKE_CHANGES,callback:()=>{i.XJn.clearFDScene(),M(!0)}}),r.createElement(m2.O,{content:(()=>{let e=[];K&&e.push(r.createElement(fw,{key:"trace",trace:P}));let t=z();return(t&&e.push(t),0===e.length)?null:r.createElement(ib.Y,{direction:"vertical",spacing:8},e)})(),iterateOptions:n,recordingKey:nf.Pt(e,"iterate"),aiTrackingContext:{...o,iteration_view_type:aj.$J.SUCCESS_WITH_ITERATION},stayOpen:!0})}case aK.qy.ERROR:{let{error:a}=t;return r.createElement(m0.E,{error:a,recordingKey:nf.Pt(e,"error"),extra:K?r.createElement(fw,{trace:P}):void 0,buttons:[{type:m0.f.OK,callback:A}],aiTrackingContext:o})}case aK.qy.CANCELLED:return null;default:(0,ok.xb)(l)}}function fK({promptValue:e,setPromptValue:t,handleSubmit:a,promptHistory:n,kitOptionDropdownItems:l,selectedKitOption:i,setSelectedKitOption:o,kitsAreLoaded:s,recordingKey:c,aiTrackingContext:d}){let[u,m]=r.useState(fE(4)),[p,_]=r.useState(!1),f=(0,r.useCallback)(e=>{(0,aW.SX)({...d,interaction:aj.NI.SELECT_KIT,interaction_type:aj.bp.BUTTON_CLICK});let t=!pg()(e,i);_(t),t&&m(fE(4,e)),o(e)},[d,i,o]),g=(0,r.useCallback)(e=>{(0,aW.SX)({...d,...(0,aW.Q0)(e),interaction:aj.NI.GENERATE}),a()},[d,a]);return r.createElement("div",{className:tj.cx.p8.borderBox.$,"data-testid":"readyForPromptView"},r.createElement(fp.X,{value:e,onChange:t,suggestion:u[0].prompt,suggestionPills:u.slice(1),promptHistory:n,recordingKey:nf.Pt(c,"generate"),featureNameForInstrumentation:"first_draft",refocusToInput:p}),r.createElement(sV.B,{fullWidth:!0,justify:"space-between"},r.createElement(_0,{recordingKey:c,items:l,kitsAreLoaded:s,selectedKitOption:i,setSelectedKitOption:f}),r.createElement(u7.r,{shortcuts:[{key:lI.Uz.ENTER,modifier:[lI.xH.META]}],onAction:g,recordingKey:nf.Pt(c,"generate"),disabled:0===e.length},(0,h.tx)("first_draft.generate"))))}var fW=a(233387),fj=a(601902),fZ=a(180163),fY=a(119081);let fX=[{callback:p.lQ,action:az.JT.TRANSLATE_TEXT,flags:fq(["edit","design"]),featureFlags:["qa_v2","qa_text_features"],tags:[sJ.$.AI],quickAction:{beforeModuleOpen:()=>{(0,aK.B3)(az.JT.TRANSLATE_TEXT)},alwaysEnabled:!0,module:{name:rq.S.TRANSLATE,module:r.createElement(function(){let e=[{key:"language",name:(0,h.t)("ai_text_tools.translate.language"),allowFreeform:!1}],t=[{name:"Arabic",label:(0,h.t)("ai_text_tools.translate.language.arabic")},{name:"Chinese (Simplified)",label:(0,h.t)("ai_text_tools.translate.language.chinese_simplified")},{name:"Chinese (Traditional)",label:(0,h.t)("ai_text_tools.translate.language.chinese_traditional")},{name:"Dutch",label:(0,h.t)("ai_text_tools.translate.language.dutch")},{name:"English (United Kingdom)",label:(0,h.t)("ai_text_tools.translate.language.english_uk")},{name:"English (United States)",label:(0,h.t)("ai_text_tools.translate.language.english_us")},{name:"Tagalog",label:(0,h.t)("ai_text_tools.translate.language.tagalog")},{name:"French",label:(0,h.t)("ai_text_tools.translate.language.french")},{name:"German",label:(0,h.t)("ai_text_tools.translate.language.german")},{name:"Hindi",label:(0,h.t)("ai_text_tools.translate.language.hindi")},{name:"Indonesian",label:(0,h.t)("ai_text_tools.translate.language.indonesian")},{name:"Italian",label:(0,h.t)("ai_text_tools.translate.language.italian")},{name:"Japanese",label:(0,h.t)("ai_text_tools.translate.language.japanese")},{name:"Korean",label:(0,h.t)("ai_text_tools.translate.language.korean")},{name:"Malay",label:(0,h.t)("ai_text_tools.translate.language.malay")},{name:"Polish",label:(0,h.t)("ai_text_tools.translate.language.polish")},{name:"Portuguese (Brazil)",label:(0,h.t)("ai_text_tools.translate.language.portuguese_brazil")},{name:"Portuguese (Portugal)",label:(0,h.t)("ai_text_tools.translate.language.portuguese_portugal")},{name:"Russian",label:(0,h.t)("ai_text_tools.translate.language.russian")},{name:"Spanish (Latin America)",label:(0,h.t)("ai_text_tools.translate.language.spanish_latin_america")},{name:"Spanish (Spain)",label:(0,h.t)("ai_text_tools.translate.language.spanish_spain")},{name:"Swedish",label:(0,h.t)("ai_text_tools.translate.language.swedish")},{name:"Tamil",label:(0,h.t)("ai_text_tools.translate.language.tamil")},{name:"Thai",label:(0,h.t)("ai_text_tools.translate.language.thai")},{name:"Turkish",label:(0,h.t)("ai_text_tools.translate.language.turkish")},{name:"Ukrainian",label:(0,h.t)("ai_text_tools.translate.language.ukrainian")},{name:"Urdu",label:(0,h.t)("ai_text_tools.translate.language.urdu")},{name:"Vietnamese",label:(0,h.t)("ai_text_tools.translate.language.vietnamese")}],a=e=>e&&"parameters"===e.command&&e.parameters?{language:e.parameters.language.name}:null,n=(0,h.t)("ai_text_tools.translate.running"),i=r.useRef(null),{onRun:o,resetText:s,cancel:c,longRunningAction:d,lastRun:u}=(0,m3.Hd)({makeCortexRequest:({texts:e,parameters:t,authInfo:a})=>s7.Ay.shared.adjustText({texts:e,action:{type:"TRANSLATE",language:t.language},jsonMode:e.length>1},a),featureType:az.JT.TRANSLATE_TEXT}),{state:m,aiTrackingContext:_,tasks:f}=d,{close:g}=(0,sT.cq)(),E=(0,l.d4)(e=>(0,Y.Yh)(e.mirror.appModel,az.JT.TRANSLATE_TEXT)),[y,v]=r.useState(E),b=f.length,C=f.filter(e=>e.state===aK.z8.FAILED).length;switch(m){case aK.qy.RUNNING:return r.createElement(m5.F,{onCancel:()=>{c(),g()},aiTrackingContext:_},n);case aK.qy.INITIAL:if(!y||!E)return r.createElement(m1.A,{action:az.JT.TRANSLATE_TEXT,actionLabel:(0,h.tx)("fullscreen_actions.quick_actions.translate-text"),actionIcon:r.createElement(mM,null),onPerform:()=>v(!0),getCustomDisabledTextFromSelectedNodes:e=>(0,m3.bu)(e,{}),aiTrackingContext:_,instructionAction:{type:"learn_more",url:az.Xi}},(0,h.tx)("ai_text_tools.selection_instruction"));return r.createElement(m4.ch,{parameters:e,actionLabel:!1,displayName:"",parameterOnly:!0,terminate:p.lQ,hideOnRun:!1,handler:{triggerParameterInputEvent:({currentSearchQuery:e,onSuggestions:a})=>{let n=e.toLowerCase();a({type:"SUGGESTIONS",suggestions:t.filter(e=>e.name.toLowerCase().includes(n)).map(e=>({name:e.label}))})},triggerRunEvent:e=>{let t=a(e);t&&(o(t),i.current=t)}},triggeredFrom:"quick-actions"});case aK.qy.ERROR:let w;let{error:T}=d,S=null,N=[{type:m0.f.TRY_AGAIN,callback:()=>{if(i.current)o(i.current);else throw new m3.ay("Last parameters is null")}}];return T instanceof m3.Vz&&(w=(0,h.tx)("ai_text_tools.content_length_exceeded"),N=[]),T instanceof m3.Jd&&(w=(0,h.tx)("ai_text_tools.missing_fonts"),N=[]),b>0&&C>0&&C<b&&(S=(0,h.tx)("ai_text_tools.translate.couldnt_count",{failed:C,total:b})),(0,mX.sZ)(T)===mX.BQ.CONTENT_LENGTH_LIMIT&&(w=(0,h.tx)("ai_text_tools.content_length_exceeded")),r.createElement(m0.E,{buttons:N,error:d.error,aiTrackingContext:_,customMessage:w,secondaryMessage:S});case aK.qy.DONE:return r.createElement(m2.O,{iterateOptions:[{type:m2.i.UNDO,callback:()=>{s(),g()}}],recordingKey:"translateText",aiTrackingContext:{..._,iteration_view_type:aj.$J.DEFAULT_SUCCESS},targets:u?u.targets.map(e=>e.node.guid):[]});case aK.qy.CANCELLED:return null;default:(0,ok.xb)(m)}},null)}},iconType:r.createElement(mM,null),searchSynonyms:["change language"]},{callback:p.lQ,action:az.JT.REWRITE_TEXT,flags:fq(["edit","design"]),featureFlags:["qa_v2","qa_text_features"],quickAction:{beforeModuleOpen:()=>{(0,aK.B3)(az.JT.REWRITE_TEXT)},module:{name:rq.S.REWRITE,module:r.createElement(m$.w,null)},alwaysEnabled:!0},iconType:r.createElement(mD.T,null),tags:[sJ.$.AI],searchSynonyms:["revise this","modify this","adjust tone"]},{callback:()=>{(0,aK.B3)(az.JT.SLIDES_GENERATE_SPEAKER_NOTES),(0,aK.Ag)(az.JT.SLIDES_GENERATE_SPEAKER_NOTES,mJ,{})},action:az.JT.SLIDES_GENERATE_SPEAKER_NOTES,flags:fq(),featureFlags:["qa_v2","figjam_ai_piper_speaker_notes"],iconType:r.createElement(function(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},r.createElement("path",{d:"M17 6L17.5149 3.94028C17.6412 3.43531 18.3588 3.43531 18.4851 3.94028L19 6L21.0597 6.51493C21.5647 6.64117 21.5647 7.35883 21.0597 7.48507L19 8L18.4851 10.0597C18.3588 10.5647 17.6412 10.5647 17.5149 10.0597L17 8L14.9403 7.48507C14.4353 7.35883 14.4353 6.64117 14.9403 6.51493L17 6Z",fill:"black",fillOpacity:"0.9"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 5.5C13 5.22386 12.7761 5 12.5 5H6C4.34315 5 3 6.34315 3 8V16C3 17.6569 4.34315 19 6 19H18C19.6569 19 21 17.6569 21 16V13.5C21 13.2239 20.7761 13 20.5 13C20.2239 13 20 13.2239 20 13.5V16C20 17.1046 19.1046 18 18 18H6C4.89543 18 4 17.1046 4 16V8C4 6.89543 4.89543 6 6 6H12.5C12.7761 6 13 5.77614 13 5.5ZM13 9C13 8.72386 12.7761 8.5 12.5 8.5H7.5C7.22386 8.5 7 8.72386 7 9C7 9.27614 7.22386 9.5 7.5 9.5H12.5C12.7761 9.5 13 9.27614 13 9ZM15 12C15 11.7239 14.7761 11.5 14.5 11.5H7.5C7.22386 11.5 7 11.7239 7 12C7 12.2761 7.22386 12.5 7.5 12.5H14.5C14.7761 12.5 15 12.2761 15 12ZM7 15C7 14.7239 7.22386 14.5 7.5 14.5H16.5C16.7761 14.5 17 14.7239 17 15C17 15.2761 16.7761 15.5 16.5 15.5H7.5C7.22386 15.5 7 15.2761 7 15Z",fill:"black",fillOpacity:"0.9"}))},null),tags:[sJ.$.AI],searchSynonyms:["presenter notes","speaker notes","notes","generate presenter notes","generate speaker notes","generate notes"]},{callback:()=>(0,r5.mD)(sG.D.dispatch,{source:"quick_actions",toggle:!0}),action:az.JT.SLIDES_REWRITE_TEXT,flags:fq(),featureFlags:["qa_v2","figjam_ai_piper_text_manipulation","slides_10_launch_tone_dial_update"],iconType:r.createElement(mP.s,null),tags:[sJ.$.AI],searchSynonyms:["adjust tone","tone dial","professional","casual","concise","expanded"]},{callback:p.lQ,action:az.JT.SHORTEN_TEXT,flags:fq(["edit","design"]),featureFlags:["qa_v2","qa_text_features"],quickAction:{module:{name:rq.S.SHORTEN,module:r.createElement(function(){let[e,t]=r.useState(!1),{longRunningAction:a,lastParameters:n,onRun:i,cancel:o,lastRun:s}=(0,m3.Hd)({makeCortexRequest:({texts:e,authInfo:t})=>s7.Ay.shared.adjustText({texts:e,action:{type:"SHORTEN"},jsonMode:e.length>1},t),featureType:az.JT.SHORTEN_TEXT}),{state:c,aiTrackingContext:d,tasks:u}=a,m=(0,l.d4)(e=>(0,Y.Yh)(e.mirror.appModel,az.JT.SHORTEN_TEXT)),[p]=r.useState(m);(0,r.useEffect)(()=>{!e&&p&&(t(!0),i(null))},[e,i,m,p]);let _=u.length,f=u.filter(e=>e.state===aK.z8.FAILED).length;switch(c){case aK.qy.INITIAL:return r.createElement(m1.A,{action:az.JT.SHORTEN_TEXT,actionIcon:r.createElement(mF,null),actionLabel:(0,h.tx)("fullscreen_actions.quick_actions.shorten-text"),onPerform:()=>{t(!0),i(null)},aiTrackingContext:d,getCustomDisabledTextFromSelectedNodes:e=>(0,m3.bu)(e,{onlyAllowSingular:!0,instruction:(0,h.tx)("ai_text_tools.select_text_singular")}),instructionAction:{type:"learn_more",url:az.sH}},(0,h.tx)("ai_text_tools.select_text_singular"));case aK.qy.RUNNING:return r.createElement(m5.F,{onCancel:()=>{o(),close()},aiTrackingContext:d},(0,h.tx)("ai_text_tools.shorten.running"));case aK.qy.ERROR:let g;let{error:E}=a,y=[{type:m0.f.TRY_AGAIN,callback:()=>i(n)}],v=null;return E instanceof m3.Vz&&(g=(0,h.tx)("ai_text_tools.content_length_exceeded"),y=[]),E instanceof m3.Jd&&(g=(0,h.tx)("ai_text_tools.missing_fonts"),y=[]),_>0&&f>0&&f<_&&(v=(0,h.tx)("ai_text_tools.shorten.couldnt_count",{failed:f,total:_})),(0,mX.sZ)(E)===mX.BQ.CONTENT_LENGTH_LIMIT&&(g=(0,h.tx)("ai_text_tools.content_length_exceeded")),r.createElement(m0.E,{buttons:y,error:a.error,aiTrackingContext:d,customMessage:g,secondaryMessage:v});case aK.qy.DONE:return r.createElement(m2.O,{recordingKey:"shortenText",iterateOptions:[{type:m2.i.TRY_AGAIN,callback:()=>{i(n)}}],aiTrackingContext:{...d,iteration_view_type:aj.$J.SUCCESS_WITH_ITERATION},targets:s?s.targets.map(e=>e.node.guid):void 0});case aK.qy.CANCELLED:return null;default:(0,ok.xb)(c)}},null)},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,aK.B3)(az.JT.SHORTEN_TEXT)}},iconType:r.createElement(mF,null),tags:[sJ.$.AI],searchSynonyms:["make concise","condense","reduce","abbreviate","shorter"]},{callback:p.lQ,action:az.JT.FIRST_DRAFT,flags:["edit","design"],featureFlags:["qa_v2"],quickAction:{module:{module:r.createElement(function(){let e=(0,X.tS)(),{aiTrackingContext:t}=(0,aK.wj)(az.JT.FIRST_DRAFT),a=t.clientLifecycleId,n=r.useCallback(()=>{(0,$.sx)("First Draft: Error",{file_key:e,clientLifecycleId:a,view:"firstDraftGenerate"},{forwardToDatadog:!0,sendAsBeacon:!0,mlEvent:!0})},[a,e]);return r.createElement(f.tH,{boundaryKey:"FirstDraft",fallback:f.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{clientLifecycleId:a,area:nX.e.FEEDBACK},onError:n},r.createElement(fP.T.Provider,{value:{recordingKey:"firstDraftView"}},r.createElement(fz,{recordingKey:"firstDraftView"})))},null),name:rq.S.FIRST_DRAFT},beforeModuleOpen:()=>{(0,aK.B3)(az.JT.FIRST_DRAFT)}},iconType:r.createElement(mB,null),tags:[sJ.$.AI],searchSynonyms:["first draft","generate design","create design","let's design"]},{callback:p.lQ,action:az.JT.FIRST_DRAFT_MAKE_CHANGES,flags:["edit","design"],featureFlags:["qa_v2","first_draft_native","first_draft_make_changes","first_draft_make_changes_reopen"],notFeatureFlags:["first_draft_use_gemini"],quickAction:{module:{module:r.createElement(function(){let e=fm(),[t]=r.useState(e);return r.createElement(fI,{initialRootGuid:t||null})},null),name:rq.S.FIRST_DRAFT_MAKE_CHANGES}},iconType:r.createElement(mB,null),tags:[sJ.$.AI],searchSynonyms:["make changes","adjust design","modify design","edit design"]},{callback:p.lQ,action:az.JT.FIRST_DRAFT_LINTING,flags:["edit","design"],featureFlags:["qa_v2","first_draft_native","first_draft_publish_ux"],quickAction:{module:{module:r.createElement(_5.S,null),name:rq.S.FIRST_DRAFT_LINT}},tags:[sJ.$.AI]},{callback:p.lQ,action:az.JT.FIRST_DRAFT_DEBUG,flags:["edit","design"],featureFlags:["qa_v2","first_draft_native","first_draft_debug"],quickAction:{module:{module:r.createElement(function(){let{kitsAreLoaded:e,kitOptionDropdownItems:t,selectedKitOption:a,setSelectedKitOption:n}=_$(!0),l=r.useRef((0,oI.g)()).current,i=a?.type==="KIT";return r.createElement("div",{className:tj.cx.p8.borderBox.$},r.createElement(_1,{selectedKitOption:a,clientLifecycleId:l}),r.createElement(_G,{selectedKitOption:a,clientLifecycleId:l}),i&&r.createElement(_X,{selectedKit:a.kit}),r.createElement(sV.B,{fullWidth:!0,justify:"space-between"},r.createElement(_0,{items:t,kitsAreLoaded:e,selectedKitOption:a,setSelectedKitOption:n})))},null),name:rq.S.FIRST_DRAFT_DEBUG}},tags:[sJ.$.AI]},{name:az.JT.FIND_INSPIRATION,action:az.JT.FIND_INSPIRATION,args:{},tags:[sJ.$.AI],flags:fq(["design"]),featureFlags:["qa_v2","asset_suggestions"],callback:p.lQ,quickAction:{module:{module:r.createElement(fW.WS,null),name:rq.S.VISUAL_SEARCH},beforeModuleOpen:()=>(0,fW.jp)(G.G4.ACTIONS_LIST)},iconType:r.createElement(mU.T,null),searchSynonyms:["visual search","image search","selection search","visual lookup","find matching"]},{action:az.JT.REMOVE_BACKGROUND,featureFlags:["qa_v2","eai_image_tools"],tags:[sJ.$.AI],flags:fq(["edit","design"]),iconType:r.createElement(mH.$,null),quickAction:{module:{module:r.createElement(fj.A,null),name:rq.S.BACKGROUND_REMOVE_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,aK.B3)(az.JT.REMOVE_BACKGROUND),(0,Y.Yh)(sG.D.getState().mirror.appModel,az.JT.REMOVE_BACKGROUND)&&(0,aK.Ag)(az.JT.REMOVE_BACKGROUND,mj.JY,{source:"quick-actions"})}},callback:p.lQ,searchSynonyms:["clean up image","clean up picture","make transparent","delete background","erase background","eliminate background","isolate subject"]},{callback:p.lQ,action:az.JT.AUTO_RENAME_LAYERS,featureFlags:["qa_v2","eai_auto_rename_layers"],tags:[sJ.$.AI],flags:["edit","design"],iconType:r.createElement(mG._,null),quickAction:{module:{module:r.createElement(r0.A,{source:aP.uQ.QUICK_ACTIONS}),name:rq.S.RENAME_LAYERS_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,aK.B3)(az.JT.AUTO_RENAME_LAYERS),(0,Y.Yh)(sG.D.getState().mirror.appModel,az.JT.AUTO_RENAME_LAYERS)&&(0,aK.Ag)(az.JT.AUTO_RENAME_LAYERS,aP.Ay,{source:aP.uQ.QUICK_ACTIONS,overwriteNames:!1})}},searchSynonyms:["rename all layers","name layers"]},{callback:p.lQ,action:az.JT.GENERATE_IMAGE,featureFlags:["qa_v2","eai_generate_image"],tags:[sJ.$.AI],flags:fq(["edit","design"]),iconType:r.createElement(function(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.015 4.44 16.7 5.7l-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0L18.3 7.3l1.26-.315c.505-.126.505-.844 0-.97L18.3 5.7l-.315-1.26c-.126-.505-.844-.505-.97 0ZM6 7.5A1.5 1.5 0 0 1 7.5 6h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 0-.5.5v6.293l2.646-2.646a.5.5 0 0 1 .708 0L16.207 17h.293a.5.5 0 0 0 .5-.5v-6a.5.5 0 1 1 1 0v6a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 6 16.5v-9Zm1 9v-1.293l3-3L14.793 17H7.5a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"}))},null),quickAction:{module:{module:r.createElement(fZ.A,null),name:rq.S.GENERATE_IMAGE},beforeModuleOpen:()=>{(0,aK.B3)(az.JT.GENERATE_IMAGE)}},searchSynonyms:["generate image","make a picture","generate graphic","generate picture","generate illustration","create image"]},{action:az.JT.MAGIC_LINK,flags:["edit","design"],featureFlags:["qa_v2","prototype_ai_magic_link"],tags:[sJ.$.AI],quickAction:{module:{module:r.createElement(fY.p,null),name:rq.S.MAGIC_LINK},alwaysEnabled:!0,beforeModuleOpen:()=>{sG.D.dispatch((0,mW.Zh)({name:"prototype.ai_magic_link_entry_clicked",params:{source:"quick_actions"}})),(0,aK.B3)(az.JT.MAGIC_LINK),(0,Y.Yh)(sG.D.getState().mirror.appModel,az.JT.MAGIC_LINK)&&(0,aK.Ag)(az.JT.MAGIC_LINK,mZ.e,{})}},iconType:r.createElement(mV.B,null),searchSynonyms:["magic link","add prototype links","add prototype connections","connect prototype","add interactions"]},{action:az.JT.CONTENT_FILL,featureFlags:["qa_v2","ce_auto_content"],tags:[sJ.$.AI],flags:["edit","design"],iconType:r.createElement(mz.c,null),quickAction:{module:{module:r.createElement(mQ.X,null),name:rq.S.REGENERATE_TEXT_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,aK.B3)(az.JT.CONTENT_FILL),(0,Y.Yh)(sG.D.getState().mirror.appModel,az.JT.CONTENT_FILL)&&(0,aK.Ag)(az.JT.CONTENT_FILL,mK.c,{guids:[],numExampleRows:1,source:"ACTIONS_MENU"})}},searchSynonyms:["fill content","content fill","lorem ipsum","rewrite placeholder text","replace duplicates","rewrite duplicates"]},{action:az.JT.ASSISTANT_CHAT,featureFlags:["qa_v2","prt_legacy_v3"],flags:fq(["design"]),tags:[sJ.$.AI],iconType:r.createElement(s1.V,null),quickAction:{module:{module:r.createElement(mo,null),name:rq.S.ASSISTANT_CHAT},beforeModuleOpen:()=>{U.zl.set(ux,{status:uN.Idle,messages:[]})}},searchSynonyms:["chat"]}];function fq(e=[]){return(0,c.kc)().piper_actions?[...e,"slides"]:e}function fJ(){let e=(0,rY.vh)(),t=(0,rY.LC)();return(0,r.useMemo)(()=>fX.filter(a=>{for(let e of a.featureFlags||[])if(!(0,c.kc)()[e])return!1;return a.action===az.JT.FIND_INSPIRATION?t:e}),[e,t])}var fQ=a(266173),f$=a(342691),f0=a(560776);function f1(e){let{submenuItem:t,path:a}=e,{push:n,close:l}=(0,sT.cq)();if(!t||!t.itemPath||t.submenu&&0===t.submenu.length)return null;let i=(0,sQ.TW)(t);return r.createElement(f0.B.Item,{key:i,primaryAction:{onAction:()=>{if(t.submenu){n({name:rq.S.PLUGIN_SUBMENU_ENTRY,module:r.createElement(f2,{item:t,path:a.concat(i)})},{shouldResetSearchQuery:!0});return}let e=!t.itemParameterArgs;t.callback&&(t.callback(),e&&l())},shortcuts:[{key:lI.Uz.ENTER},{key:lI.Uz.TAB}],hidden:!0},actionLabel:!1},r.createElement("div",{className:tj.cx.flex.justifyBetween.wFull.$},r.createElement("div",{className:tj.cx.ml28.$},i),t.submenu&&r.createElement(f$.a,null)))}function f2(e){let[t,a]=r.useState(""),[n,l]=r.useState([]),{item:i,path:o}=e;if(r.useEffect(()=>{i.submenu&&(l(i.submenu),a(""))},[i]),!i.submenu)return null;let s=r.createElement(f0.B,{resultCount:n.length},n.map(e=>r.createElement(f1,{submenuItem:e,key:e.extensionSearchString||"",path:o}))),c=e=>{a(e),i.submenu&&l(i.submenu.filter(t=>(0,sQ.TW)(t).toLowerCase().includes(e.toLowerCase())))},d=o.join(" > ");return r.createElement(sz.n,{height:az.wC},r.createElement(sK.v,{searchQuery:t,onSearchChange:c,onClear:()=>{c("")},placeholder:d}),r.createElement(sz.n.Body,null,s))}var f5=a(708652),f3=a(963067),f4=a(139689);function f6({title:e,subTitle:t,icon:a,onClose:n,dataTestId:l}){return r.createElement("div",{"data-testid":l,className:tj.cx.colorBgBrandTertiary.p8.bRadius8.$},r.createElement("div",{className:tj.cx.flex.gap8.$},a,r.createElement("div",{className:tj.cx.flex.flexColumn.flexGrow1.$},r.createElement("span",{className:"banner--title--gNQoq"},e),r.createElement("span",{className:"banner--subtitle--8K4pM"},t)),n?r.createElement(sP.K,{onClick:n,"aria-label":(0,h.t)("qa.dismiss"),htmlAttributes:{"data-testid":"banner-close-icon"}},r.createElement(f4.A,{style:{"--color-icon":"var(--color-icon-secondary)"}})):null))}function f7(){let e;let{reason:t,dismissKey:a}=function(){let e=(0,rY.nu)().sort((e,t)=>f8(e)-f8(t)),t={seen_no_ai_org_disabled:(0,eZ.f)("seen_no_ai_org_disabled"),seen_no_ai_team_or_org_user:(0,eZ.f)("seen_no_ai_team_or_org_user"),seen_no_ai_rolling_out:(0,eZ.f)("seen_no_ai_rolling_out")};return(0,r.useMemo)(()=>{for(let a of e){let e=function(e){switch(e){case rY.ze.ROLLING_OUT:return"seen_no_ai_rolling_out";case rY.ze.TEAM_OR_ORG_DISABLED:return"seen_no_ai_org_disabled";case rY.ze.NON_PAID_SEAT:case rY.ze.NO_ORG_OR_TEAM_USER:case rY.ze.ORG_GUEST:return"seen_no_ai_team_or_org_user";case rY.ze.PERSONAL_DRAFT:case null:return null;default:(0,ok.xb)(e)}}(a);if(!e)return{reason:a};if(!t[e])return{reason:a,dismissKey:e}}return{reason:null}},[e,t])}(),n=(0,l.wA)(),i=(0,f3.yy)(),o=(0,U.md)(X.Hu),s=(0,h.t)("qa.no_ai.title");switch(t){case null:return null;case rY.ze.PERSONAL_DRAFT:s=(0,h.t)("qa.no_ai.title.personal_draft"),e=(0,h.t)("qa.no_ai.subtitle.personal_draft");break;case rY.ze.TEAM_OR_ORG_DISABLED:s=(0,h.t)("qa.no_ai.title.org_disabled"),e=(0,h.t)("qa.no_ai.subtitle.org_disabled");break;case rY.ze.ROLLING_OUT:s=(0,h.t)("qa.no_ai.title.rolling_out"),e=(0,h.t)("qa.no_ai.subtitle.rolling_out");break;case rY.ze.NON_PAID_SEAT:case rY.ze.NO_ORG_OR_TEAM_USER:case rY.ze.ORG_GUEST:s=(0,h.t)("qa.no_ai.title.not_available_here"),e=(0,h.t)("qa.no_ai.subtitle.team_or_org_user_no_access",{orgOrTeamName:i?.name||o?.name||""});break;default:(0,ok.xb)(t)}return r.createElement("div",{className:tj.cx.mx8.mb8.$},r.createElement(f6,{title:s,subTitle:e,icon:r.createElement(uJ.C,null),dataTestId:"no-ai-banner",onClose:a?()=>n(eP.b({[a]:!0})):void 0}))}function f8(e){switch(e){case rY.ze.ROLLING_OUT:return 0;case rY.ze.PERSONAL_DRAFT:return 1;case rY.ze.NON_PAID_SEAT:case rY.ze.NO_ORG_OR_TEAM_USER:case rY.ze.ORG_GUEST:return 2;case rY.ze.TEAM_OR_ORG_DISABLED:return 3;case null:return 1e3;default:(0,ok.xb)(e)}}var f9=a(307292),he=a(752207),ht=a(545941),ha=a(964197),hn=a(641638);function hr(e){let{extension:t,publishedExtension:a,canRequest:n,canRun:r}=e,l=(0,eW.sZ)(),i=(0,hn.RW)(),o=(0,ha.a)(l?.id,t.plugin_id,i.loaded?i.data?.workspaceId:void 0);if((0,rz.bH)(t)&&l&&l.name)return{text:l.name};if((0,rz.ZQ)(t)&&a&&(0,ht.AC)(a))return{text:(0,h.t)("qa.extensions.in_review"),variant:rQ.x.BRAND};if((0,rz.ZQ)(t))return{text:(0,h.t)("qa.extensions.development")};if(r);else if(o)return{text:(0,h.t)("qa.extensions.approval_pending")};else if(n)return{text:(0,h.t)("qa.extensions.needs_approval")};return null}function hl({text:e,variant:t}){return r.createElement(rQ.E,{variant:t},r.createElement(he.G,{text:e}))}var hi=a(111431);let ho=e=>(0,ik.Zj)(e)&&!e.hideCheckForQuickCommand,hs=()=>{};function hc(e){return e.tags?.includes(sJ.$.AI)}function hd({item:e,searchQuery:t,createCommonMetrics:a}){let{push:n}=(0,sT.cq)(),{addFrecencyUsage:i}=(0,o8.fJ)(),o=(0,ik.Dz)(e),s=(0,l.d4)(e=>e.mirror.appModel),d=(0,l.wA)(),{close:u}=(0,sT.cq)(),m=(0,F.J2)((0,t7.UK)().showQuickCommandRankDebug),_=(0,eK.p8)("keyboardShortcuts"),f=(0,f_.uf)(),g=(0,r.useCallback)(()=>{u()},[u]),E=(0,sq.A)(g,300);(0,r.useEffect)(()=>()=>{E.cancel()},[E]);let y=(0,f9.r7)(),v=(0,r.useCallback)((e,l)=>{if(E.isPending()&&E.cancel(),e.disabled)return;function o(){(0,sr.kp)(a()),y(e),i(e,t)}let s=!!e.itemParameterArgs,c=(0,s$.YT)(e);if(!(s||c||"enter"===l))return;let u=null;if(e.quickAction){let t={};if(("find-assets-matching"===e.name||"find-community-matching"===e.name)&&(t.shouldResetSearchQuery=!1),e.quickAction.beforeModuleOpen){let t=(0,rJ._V)();e.quickAction.beforeModuleOpen(t)}n(e.quickAction.module,t),o();return}if(s)switch(f(),l){case"enter":if(e.runPluginArgs&&!t)u=async()=>{await oO.R.instance.enqueue({mode:"run-forever",runPluginArgs:e.runPluginArgs})};else if(e.parametersRequired){let t=e.itemParameterArgs;n({name:rq.S.PLUGIN_PARAMETER_ENTRY,module:r.createElement(fQ.r,{onExitParameterEntry:p.lQ,triggeredFrom:"quick-actions",parameters:t.parameters,displayName:t.displayName,parameterOnly:t.parameterOnly,pluginId:t.pluginId,pluginLocalFileId:t.pluginLocalFileId,command:t.command,initialParameterValues:e.runPluginArgs?.parameterValues,recentlyUsedCommandName:e?(0,ix.E)(e):void 0})}),o();return}break;case"tab":if(e.itemParameterArgs){let t=e.itemParameterArgs;n({name:rq.S.PLUGIN_PARAMETER_ENTRY,module:r.createElement(fQ.r,{onExitParameterEntry:p.lQ,triggeredFrom:"quick-actions",parameters:t.parameters,displayName:t.displayName,parameterOnly:t.parameterOnly,pluginId:t.pluginId,pluginLocalFileId:t.pluginLocalFileId,command:t.command,initialParameterValues:e.runPluginArgs?.parameterValues,recentlyUsedCommandName:e?(0,ix.E)(e):void 0})}),o();return}break;default:(0,ok.xb)(l)}if(c){n({name:rq.S.PLUGIN_SUBMENU_ENTRY,module:r.createElement(f2,{item:e,path:[(0,sQ.TW)(e)]})}),o();return}e.callback&&!u?u=async()=>{e.callback&&await e.callback((0,ik.Dz)(e),e.args,d)}:e.action&&(u=async()=>{if(!e.action)return;let t=hs();if(t)return await t();o6.VU.get(e.action,"quick-actions",e.args)()}),o(),ho(e)&&!(0,o5.PN)()?E():e.keepMenuOpen||g(),u?u().then(f).catch(t=>{(0,S.$D)(nX.e.EXTENSIBILITY,t,{extra:{item:e}})}):(0,S.$D)(nX.e.EXTENSIBILITY,Error("No valid action triggered from quick actions"),{extra:{item:e}})},[i,y,g,E,a,d,n,t,f]),b=()=>{let a="";if(e.searchSynonyms&&(a+=`Synonyms: ${e.searchSynonyms.join(", ")}`),!(0,rX.h8)())return null;let{details:n,score:l}=(0,o9.ou)((0,o8.x0)()).debugData(t,(0,iM._)(e).searchItem),i=`Score:${l.toFixed(2)}`;return r.createElement("div",{className:tj.cx.ml8.colorTextSecondary.noWrap.$,"data-tooltip":[n,a].filter(Boolean).join("\n"),"data-tooltip-type":aV.Ib.TEXT,"data-tooltip-max-width":300},i)},C=e.shortcutText||(0,Y.c1)(_,o),w="plugins-menu-item"===e.name&&!!e.itemParameterArgs&&e.itemParameterArgs.parameters.length>0,T=(0,s$.YT)(e),N=(0,nY.cW)(),x=(0,nY.ZT)(),k=(()=>{if(e.itemParameterArgs&&e.runPluginArgs&&!t)return r.createElement(sn,{runPluginArgs:e.runPluginArgs,itemParameterArgs:e.itemParameterArgs});if(e.itemPath){let t=e.itemPath;return r.createElement(sa,{itemPath:t})}return e.displayNode?e.displayNode:(0,ix.E)(e)})(),I=ho(e)?(0,ik.WJ)(s,e):void 0,A=e.tags?.includes(sJ.$.DEV),L=e.tags?.includes(sJ.$.ORG),O=(0,eW.sZ)(),R="go-to-page"===e.name?`go-to-page-${e.args?.pageName}`:e.name||e.action;return r.createElement(f0.B.Item,{primaryAction:{text:"Perform",shortcuts:[{key:lI.Uz.ENTER},{key:lI.Uz.TAB}],onAction:({shortcut:t})=>v(e,t?.key===lI.Uz.TAB?"tab":"enter")},actionLabel:!1,recordingKey:R,scrollMargin:"32px 0 16px 0"},r.createElement(f5._,{checked:I,disabled:e.disabled,label:k,icon:function(e){if("plugins-menu-item"===e.name){let t;return(e.pluginId&&(t=(0,rB.DM)({idToSearch:e.pluginId,localExtensionsByFileId:void 0,publishedExtensions:{...N,...x}})),t&&!(0,rz.ZQ)(t))?r.createElement(oD.V,{className:tj.cx.colorIcon.w20.h20.m2.bRadius4.$,plugin:t,role:"presentation"}):r.createElement(aS.B,{className:tj.cx.colorIcon.w20.h20.bRadius4.$,svg:hi.A,ariaLabel:`${e.name} icon`,autosize:!0})}if(e.iconType&&"string"==typeof e.iconType){var t;return"external_link"===(t=e.iconType)?r.createElement(aS.B,{svg:sc.A,className:tj.cx.colorIcon.$}):"import"===t?r.createElement(sj.R,null):"plus"===t?r.createElement(sZ.e,null):"widget"===t?r.createElement(sY,null):void 0}if(e.iconType&&"string"!=typeof e.iconType)return e.iconType}(e),badge:A?r.createElement("div",{style:eo.sx.add({maxWidth:"110px"}).$},r.createElement(hl,{text:(0,h.t)("fullscreen_actions.development")})):O&&L?r.createElement("div",{style:eo.sx.add({maxWidth:"110px"}).$},r.createElement(hl,{text:O.name})):m?b():e.isRepairCommand&&(0,c.kc)().internal_only_debug_tools?r.createElement(rQ.E,null,"REPAIR"):hc(e)&&e.disabled?r.createElement("div",{"data-tooltip":(0,h.t)("qa.unavailable"),"data-tooltip-type":aV.Ib.TEXT,style:{"--color-icon":"var(--color-icon-disabled)"}},r.createElement(sX.b,null)):void 0,hoverBadges:(()=>{if(hc(e))return[r.createElement(r$.W,{key:"ai"})]})(),keyboardShortcut:C?r.createElement(tz.S,{shortcut:C}):w||T?r.createElement(r.Fragment,null,r.createElement("div",{className:tj.cx.colorBgTertiary.bRadius5.font11.h16.fontMedium.flex.itemsCenter.px4.mr8.$},(0,h.tx)("whiteboard.ai_modal.hint_tab")),r.createElement(aS.B,{svg:ss.A,className:tj.cx.colorIcon.$})):void 0,dataTestId:R}))}function hu({setActiveTab:e}){let t=(0,aZ.Ev)(),a=(0,U.md)(W.Lk),n=(0,U.md)(W.dd),s=(0,l.d4)(o7.l),d=(0,U.md)(W.Rt),u=(0,r.useRef)(d),m=(0,U.md)(W.Q8),_=(0,r.useDeferredValue)(m);(0,r.useEffect)(()=>{u.current=d},[d]);let f=function(){let e=(0,iA.u)(),t=fJ(),a=function(){let e=(0,l.d4)(e=>e.mirror.appModel.isReadOnly),t=(0,iL.c)();return(0,r.useMemo)(()=>(0,iI.M)({isReadOnly:e,extensionMenuProps:t,includeDisabled:!0}),[e,t])}(),n=function(){let e=(0,eK.p8)("pagesList"),t=(0,mR.bG)({pagesList:e,isComparingChanges:!1});return(0,r.useMemo)(()=>(0,c.kc)().qa_go_to_page?e.map(e=>({name:"go-to-page",args:{pageName:e.name},callback:()=>{t(e.nodeId)},iconType:r.createElement(mE,null),displayNode:r.createElement(r.Fragment,null,(0,h.tx)("fullscreen_actions.quick_actions.go-to-page",{pageName:r.createElement(iw.E,{color:"secondary"},e.name)}))})):[],[e,t])}();return(0,r.useMemo)(()=>[...e,...a,{name:"wand-menu",callback:p.lQ,children:t},...n],[e,t,a,n])}(),g=s0(),E=mO(g,f),y=function(e,t,a,n){let s=(0,l.d4)(e=>e.recentlyUsedQuickCommands),d=(0,rl.removeNullish)(s.map(a=>{let n=t.getItem(e,a.displayName);return n&&a.runPluginArgs&&(n.runPluginArgs=a.runPluginArgs),n})).slice(0,3),{items:u}=function(e,t,a){let n=(0,rY.vh)(),s=(0,o.ZC)(n),c=function(e,t,a){let n=mw(),o=t.map(e),s=function(){let e=(0,q.ks)(),t=X.q5()?.canEdit,a=(0,rY.vh)();return e?"DEV":!1===t?"DESIGN_VIEWER":t&&a?"DESIGN_EDITOR_AI":t&&!a?"DESIGN_EDITOR_NO_AI":"NONE"}(),c=function(e,t){let a=function(){let e=(0,l.d4)(e=>e.mirror?.appModel),t=mw(),{frecencyByAction:a,frecencyByQuery:n}=(0,o8.fJ)(),i=(0,lw.Tv)(),o=(0,mh.VW)();return(0,r.useCallback)((r,l)=>{if(l)return[];let s=r.map(e),c=[],d=(0,o9.ou)({actions:a,queries:n}),u=1===i.length&&o?.type==="SLIDE";if(0===i.length||u)return[...c=[az.JT.FIRST_DRAFT,az.JT.MAGIC_LINK,az.JT.AUTO_RENAME_LAYERS,az.JT.FIND_INSPIRATION,az.JT.CONTENT_FILL,az.JT.SLIDES_GENERATE_SPEAKER_NOTES,az.JT.SLIDES_REWRITE_TEXT,az.JT.REWRITE_TEXT,az.JT.SHORTEN_TEXT,az.JT.TRANSLATE_TEXT,az.JT.GENERATE_IMAGE,az.JT.REMOVE_BACKGROUND]].map(e=>t(s,e,!0)).filter(e=>!!e).sort((e,t)=>d.sort("",(0,iM._)(e).searchItem,(0,iM._)(t).searchItem));{let r,l;c.push(az.JT.CONTENT_FILL,az.JT.TRANSLATE_TEXT,az.JT.REWRITE_TEXT,az.JT.SHORTEN_TEXT,az.JT.SLIDES_GENERATE_SPEAKER_NOTES,az.JT.SLIDES_REWRITE_TEXT,az.JT.REMOVE_BACKGROUND,az.JT.FIRST_DRAFT_MAKE_CHANGES,az.JT.AUTO_RENAME_LAYERS,az.JT.MAGIC_LINK,az.JT.FIND_INSPIRATION,az.JT.GENERATE_IMAGE,az.JT.FIRST_DRAFT);let i=[...c].map(e=>t(s,e)).filter(e=>!!e),o=i.sort((e,t)=>d.sort("",(0,iM._)(e).searchItem,(0,iM._)(t).searchItem)),u=Object.values(s).filter(t=>(0,Y.Yh)(e,t.name||t.action||"")&&!i.includes(t)&&!t.searchOnly&&!(t.featureFlags&&t.featureFlags.includes("internal_only_debug_tools"))&&(0,mN.y)("",(0,mS.n)(t),{actions:a,queries:n})>0).sort((e,t)=>d.sort("",(0,iM._)(e).searchItem,(0,iM._)(t).searchItem));return u.length<4?(r=8-u.length,l=u.length):o.length<4?(r=o.length,l=8-o.length):(r=4,l=4),[...o.slice(0,r),...u.slice(0,l)]}},[e,t,a,n,o?.type,i.length])}(),[n]=(0,r.useState)(()=>a(e,""));return n}(t,0),d=function(e,t){let a=!mL();return(0,r.useCallback)(()=>{if(a){let e=[];for(let a of t){if(!a.action||a.disabled)continue;let t=mx.get(a.action);t&&e.push([a.action,t])}return e}let n=[];for(let a of((0,Y.Yh)(e,az.JT.FIRST_DRAFT_MAKE_CHANGES)&&n.push([az.JT.FIRST_DRAFT_MAKE_CHANGES,mg.b.SUGGESTIONS]),t))a.action&&!a.disabled&&n.push([a.action,mg.b.SUGGESTIONS]);return n},[e,t,a])}(e,c),u=function(){let e=(0,mh.O1)(),t=(0,eK.p8)("activeCanvasEditModeType");return(0,r.useCallback)(()=>{if(!e?.length)return[["canvas-search-replace",mg.b.SUGGESTIONS],["select-all",mg.b.SUGGESTIONS],["undo",mg.b.SUGGESTIONS],["toggle-rulers",mg.b.COMMON_SETTINGS],["toggle-snapping-to-pixels",mg.b.COMMON_SETTINGS],["toggle-sidebar",mg.b.COMMON_SETTINGS],["toggle-ui",mg.b.COMMON_SETTINGS],["toggle-multiplayer-cursors",mg.b.COMMON_SETTINGS],["show-nudge-amount-picker",mg.b.COMMON_SETTINGS],["open-shortcuts",mg.b.COMMON_SETTINGS],["open-account-settings",mg.b.COMMON_SETTINGS]];if(1===e.length){let a=e[0],n=[["add-selection-ready-status",mg.b.SUGGESTIONS],["republish-selected-components",mg.b.SUGGESTIONS],["publish-changes-to-library",mg.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",mg.b.SUGGESTIONS]],r=[["select-matching",mg.b.SUGGESTIONS],["outline-stroke",mg.b.SUGGESTIONS],["mask-selection",mg.b.SUGGESTIONS],["flatten-selection",mg.b.SUGGESTIONS],["unlock-all",mg.b.SUGGESTIONS],["convert-to-raster",mg.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",mg.b.SUGGESTIONS]];if(t===i.m1T.VECTOR)return[["flip-horizontal",mg.b.SUGGESTIONS],["flip-vertical",mg.b.SUGGESTIONS],["align-horizontal-center",mg.b.SUGGESTIONS],["align-vertical-center",mg.b.SUGGESTIONS]];switch(a.type){case"SYMBOL":return n;case"FRAME":if(a.isStateGroup)return n;if(a.isGroup)return r;return[["add-selection-ready-status",mg.b.SUGGESTIONS],["select-matching",mg.b.SUGGESTIONS],["stack-selection",mg.b.SUGGESTIONS],["run-multi-stack-auto-layout",mg.b.SUGGESTIONS],["copy-properties",mg.b.SUGGESTIONS],["unlock-all",mg.b.SUGGESTIONS],["convert-to-raster",mg.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",mg.b.SUGGESTIONS],["replace-selected-frame-with-section",mg.b.SUGGESTIONS]];case"INSTANCE":return[["select-matching",mg.b.SUGGESTIONS],["detach-instance",mg.b.SUGGESTIONS],["reset-symbol",mg.b.SUGGESTIONS],["convert-to-raster",mg.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",mg.b.SUGGESTIONS]];case"SLICE":return[["export-selected-exportables",mg.b.SUGGESTIONS],["convert-to-raster",mg.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",mg.b.SUGGESTIONS]];case"WIDGET":return[["select-all-widgets",mg.b.SUGGESTIONS],["convert-to-raster",mg.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",mg.b.SUGGESTIONS]];case"SECTION":return[["add-selection-ready-status",mg.b.SUGGESTIONS],["select-matching",mg.b.SUGGESTIONS],["unlock-all",mg.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",mg.b.SUGGESTIONS],["replace-selected-section-with-frame",mg.b.SUGGESTIONS]];case"GROUP":return r;case"ELLIPSE":case"BOOLEAN_OPERATION":case"LINE":case"REGULAR_POLYGON":case"RECTANGLE":case"ROUNDED_RECTANGLE":case"STAR":case"VECTOR":return[["select-matching",mg.b.SUGGESTIONS],["flip-horizontal",mg.b.SUGGESTIONS],["mask-selection",mg.b.SUGGESTIONS],["flatten-selection",mg.b.SUGGESTIONS],["copy-properties",mg.b.SUGGESTIONS],["convert-to-raster",mg.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",mg.b.SUGGESTIONS]];case"TEXT":return[["select-matching",mg.b.SUGGESTIONS],["outline-stroke",mg.b.SUGGESTIONS],["select-all-text",mg.b.SUGGESTIONS],["flatten-selection",mg.b.SUGGESTIONS],["convert-to-raster",mg.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",mg.b.SUGGESTIONS]]}}return[["select-matching",mg.b.SUGGESTIONS],["frame-selection",mg.b.SUGGESTIONS],["create-symbol",mg.b.SUGGESTIONS],["create-multiple-symbols",mg.b.SUGGESTIONS],["toggle-locked-for-selected-nodes",mg.b.SUGGESTIONS],["export-selected-exportables",mg.b.SUGGESTIONS],["align-horizontal-center",mg.b.SUGGESTIONS],["align-vertical-center",mg.b.SUGGESTIONS]]},[e,t])}(),m=(0,r.useCallback)((e,t)=>{let a=n(o,e,!0);if(a)return{...a,category:t}},[n,o]),p=a.map(e=>({...e,category:mg.b.RECENTS})).filter(t=>void 0===t.action||(0,Y.Yh)(e,t.action)),_=(0,r.useCallback)(e=>{let t=e.map(([e,t])=>m(e,t));return s6()((0,rl.removeNullish)([...p,...t]),ix.E)},[p,m]),f=mL(),h=(0,r.useMemo)(()=>{if(f&&!["DESIGN_EDITOR_NO_AI","DESIGN_EDITOR_AI"].includes(s)){var e;let t=(e=mg.b.SUGGESTIONS,c.map(t=>({...t,category:e})));return s6()((0,rl.removeNullish)([...p,...t]),ix.E)}switch(s){case"DESIGN_EDITOR_AI":return _(d());case"DEV":return _(mk);case"DESIGN_VIEWER":return _(mI);case"DESIGN_EDITOR_NO_AI":return _(u());case"NONE":return[];default:(0,ok.xb)(s)}},[f,s,c,p,_,d,u]);return{suggestionMode:s,items:h}}(e,t,a),[d,u]=(0,r.useState)(c);return(0,r.useEffect)(()=>{(n!==s||0===d.items.length&&c.items.length>0||c.suggestionMode!==d.suggestionMode)&&u(c)},[n,s,d.items.length,d.suggestionMode,c]),d}(e,t,d),m=""!==a,p=(0,r.useMemo)(()=>""===a?[]:t.search(e,a).slice(0,25),[e,t,a]),_=function(e,t){let a=(0,eG.my)()===Z.nT.Design,n=(0,X.q5)(),i=(0,mf.V)(),o=(0,uj.s)(),s=!!(0,c.kc)().prt_legacy_v3,[d,u]=(0,U.fp)(ux),m=(0,l.d4)(eQ.GP);return(0,r.useMemo)(()=>""!==e?[{name:"assistant-chat-query",args:{searchQuery:e},callback:()=>{},displayNode:(0,h.tx)("fullscreen_actions.assistant-chat-query",{query:r.createElement(iw.E,{color:"secondary"},e)}),iconType:r.createElement(s1.V,null),quickAction:{module:{module:r.createElement(mo,null),name:rq.S.ASSISTANT_CHAT},beforeModuleOpen:e=>{U.zl.set(ux,{status:uN.Idle,messages:[]}),uz(e.searchQuery,d.messages,u,uH)}},disabled:!s},{name:"find-community-matching",args:{searchQuery:e},callback:()=>{},displayNode:(0,h.tx)("fullscreen_actions.quick_actions.find-community-matching",{searchQuery:r.createElement(iw.E,{color:"secondary"},e)}),iconType:r.createElement(s2.N,null),quickAction:{module:{module:r.createElement(uW.B$,{initialTab:uK.x.COMMUNITY}),name:rq.S.ASSETS_TAB_DETAIL_VIEW}},disabled:!i||!(0,rX.Xk)()},{name:"find-assets-matching",args:{searchQuery:e},callback:()=>{},displayNode:i&&(0,rX.Xk)()?(0,h.tx)("fullscreen_actions.quick_actions.find-components-matching",{searchQuery:r.createElement(iw.E,{color:"secondary"},e)}):(0,h.tx)("fullscreen_actions.quick_actions.find-assets-matching",{searchQuery:r.createElement(iw.E,{color:"secondary"},e)}),iconType:r.createElement(s5.K,null),quickAction:{module:{module:r.createElement(uW.B$,null),name:rq.S.ASSETS_TAB_DETAIL_VIEW},beforeModuleOpen:e=>{(0,V.ES)({type:"input-text",query:e.searchQuery,assetTypeOption:{type:sU.I.ALL},isKnownLibrary:o})}},disabled:!a||!n?.canEdit},{name:"find-extensions-matching",args:{searchQuery:e},displayNode:(0,h.tx)("fullscreen_actions.quick_actions.find-extensions-matching",{searchQuery:r.createElement(iw.E,{color:"secondary"},e)}),iconType:r.createElement(s3,null),callback:()=>{t.setActiveTab(K.J.EXTENSIONS)},keepMenuOpen:!0,disabled:!a||!m}].filter(e=>!e.disabled):[],[e,i,a,n?.canEdit,o,t,s,d,u,m])}(a,n);return m?s6()([...p,..._],ix.E):u}(g,E,_,{setActiveTab:e}),v=se(y),b=y.length,C=function(e){let t=mC()(mv()(e,e=>e.category),(e,t)=>({category:Object.values(mg.b).find(e=>t===e)||null,items:e})).sort((e,t)=>mT(e.category)-mT(t.category)),a=[],n=0;for(let{category:e,items:r}of t)a.push({category:e,items:r,globalIdxOfFirstItem:n}),n+=r.length;return a}(y);(0,r.useEffect)(()=>{a===K.J.ALL&&n&&t({quickActionsSessionId:n,quickActionsQueryId:u.current,searchQuery:_,numSearchResults:b,currentSelection:s,module:a,moduleFilters:null,qaVersion:oP.$L,searchQueryResults:v})},[t,a,n,_,b,s,v]);let{createMetrics:w}=(0,sr.Sk)();return r.createElement(r.Fragment,null,r.createElement(f0.B,{primary:!0,resultCount:b},r.createElement(f7,null),C.map(({category:e,items:t,globalIdxOfFirstItem:a})=>null!==e&&t.length>0&&C.length>1?r.createElement(f0.B.Section,{key:e,header:function(e){switch(e){case mg.b.RECENTS:return(0,h.t)("qa.category.recents");case mg.b.DESIGN_TOOLS:return(0,h.t)("qa.category.design_tools");case mg.b.RIFFING_AND_WRITING:return(0,h.t)("qa.category.riffing_and_writing");case mg.b.IMAGE_EDITING:return(0,h.t)("qa.category.image_editing");case mg.b.COLLABORATION_TOOLS:return(0,h.t)("qa.category.collaboration_tools");case mg.b.HANDOFF_TOOLS:return(0,h.t)("qa.category.handoff_tools");case mg.b.VIEWER_TOOLS:return(0,h.t)("qa.category.viewer_tools");case mg.b.SUGGESTIONS:return(0,h.t)("qa.category.suggestions");case mg.b.COMMON_SETTINGS:return(0,h.t)("qa.category.common_settings");default:return(0,ok.xb)(e)}}(e)},t.map((e,t)=>r.createElement(hd,{key:(0,ix.E)(e),item:e,searchQuery:_,createCommonMetrics:()=>({numSearchResults:b,qaVersion:oP.$L,searchQuery:_,searchPosition:a+t,item:e,moduleFilters:null,...w()})}))):t.map((e,t)=>r.createElement(hd,{key:(0,ix.E)(e),item:e,searchQuery:_,createCommonMetrics:()=>({numSearchResults:b,qaVersion:oP.$L,searchQuery:_,searchPosition:a+t,item:e,moduleFilters:null,...w()})})))))}var hm=a(173842),hp=a(28298),h_=a(407798),hf=a(877822),hh=a(34762),hg=a(792199),hE=a(357611),hy=a(971120),hv=a(395771),hb=a(71425),hC=a(884484),hw=a(170786),hT=a(647922),hS=a(16366),hN=a(341255),hx=a(362745),hk=a(436318),hI=a(520103);function hA({augmentedExtension:e}){let{extension:t,publishedExtension:a}=e;if(!(0,rz.ZQ)(t))return r.createElement(oD.V,{plugin:t,className:tj.cx.colorIcon.w20.h20.m2.bRadius4.$});let n=a&&(0,rB.Ar)(a);return n&&n.redirect_icon_url?r.createElement(oD.V,{plugin:n,className:tj.cx.colorIcon.w20.h20.m2.bRadius4.$}):r.createElement(aS.B,{svg:hi.A,className:tj.cx.colorIcon.w20.h20.m2.bRadius4.$,dataTestId:"qa2-dev-plugin-icon",autosize:!0})}let hL=r.createContext(null);function hO({numResults:e,moduleFilters:t,children:a}){return r.createElement(hL.Provider,{value:{numResults:e,moduleFilters:t}},a)}function hR(){let e=r.useContext(hL),t=(0,U.md)(W.Q8);if(!e)throw Error("useExtensionMetrics must be used within a ExtensionMetricsProvider");return{...e,searchQuery:t}}function hM({children:e,onPrimaryAction:t,onSecondaryAction:a,tertiaryAction:n,setActive:l,augmentedExtensionForLogging:i}){let o=hR();return r.createElement(f0.B.Item,{primaryAction:{shortcuts:[sC.Hz],onAction:e=>{i&&(0,sr.wI)({extensionId:i.extension.plugin_id,searchPosition:e.target?.index??0,numSearchResults:o.numResults,searchQuery:o.searchQuery,moduleFilters:o.moduleFilters}),t(e)}},secondaryAction:{shortcuts:[sC.r7],onAction:a},tertiaryAction:n,setActive:l,actionLabel:!1,recordingKey:"extension-list-item"},e)}var hD=a(841368),hP=a(727749),hF=a(986270),hB=a(258237),hU=a(782501),hH=a(331626),hG=a(632788),hV=a(507847);let hz="EXTENSION_OPTIONS_DROPDOWN";function hK(e){let t=(0,ny.Um)();return(0,rz.ZQ)(e)?t?.type===hz&&t?.data.extensionId===e.plugin_id&&t?.data.localFileId===e.localFileId:t?.type===hz&&t?.data.extensionId===e.plugin_id&&t?.data.localFileId===null}function hW(e){return e.types.has(sC.Ag.RECENT)||e.types.has(sC.Ag.USER_SAVED)||e.types.has(sC.Ag.LOCAL)}function hj({extension:e}){let t=(0,l.wA)(),a=hK(e),n=r.useCallback(n=>{if(a)t(eR.oB());else{let a=n.currentTarget.getBoundingClientRect();t(eR.j7({type:hz,data:{extensionId:e.plugin_id,localFileId:(0,rz.ZQ)(e)?e.localFileId:null,targetRect:a}}))}},[t,a,e]);return r.createElement("div",{className:tj.cx.flex.pl8.$},r.createElement("span",{role:"button",tabIndex:0,onClick:e=>{e.stopPropagation(),n(e)},onPointerUp:e=>{e.stopPropagation()},className:tj.cx.bgTransparent.h24.$,"data-testid":"extension-options-button"},r.createElement("div",null,r.createElement(hD.J,null))))}function hZ(e){let{augmentedExtension:t}=e,{extension:a,publishedExtension:n,localPublishedExtension:i}=t,o=(0,ny.Um)(),s=(0,rz.ZQ)(a)?a:i,d=(0,hC.NV)(s,n),u=(0,hC.OX)(n),m=(0,hC.x2)(a,n),p=(0,hC.qu)(s),_=function(e){let t=(0,l.wA)(),a=(0,hH.U_)(),n=(0,l.d4)(e=>(0,rT.T9)({authedProfilesById:e.authedProfilesById,userId:e.user?.id}));return(0,r.useCallback)(()=>{let{extension:r,types:l}=e;if(l.has(sC.Ag.LOCAL)&&(0,rz.ZQ)(r)){t(hb.qR(r.localFileId));return}if(l.has(sC.Ag.RECENT)){if(!a)return;t(((0,rz.k0)(r)?hF.Kq:hF.lD)({storeInRecentsKey:a,resourceId:r.plugin_id}))}if(l.has(sC.Ag.USER_SAVED)){let e=(0,rz.k0)(r)?rV.vt.WIDGET:rV.vt.PLUGIN;t((0,hP.s1)({id:r.plugin_id,resourceType:e,communityProfile:n||void 0,source:hP.uR.INSERTS_MODAL}))}},[t,a,e,n])}(t),f=!!((0,rz.ZQ)(a)&&n),g=(0,hC.qi)(f,_),E=(0,hV.rH)(t),y=(0,hC.xZ)(t),v=(0,R.TA)(),b=!!n&&!!v&&((0,hB.Ro)(n,v)||(0,hU.Dd)(n,v)),C=hK(a),w=(0,hI.Ok)({extension:t,preloadImage:C});if(!C)return null;let T=[],N=[],x=!!n;!(0,rz.ZQ)(a)&&(x?(d&&b&&T.push(d),T.push({displayText:(0,h.t)("qa.extensions.view_details"),callback:w}),m&&b&&T.push(m),p&&b&&T.push(p),y&&b&&T.push(y),hW(t)&&!(0,c.kc)().qa_extension_saves?N.push(g):E&&(0,c.kc)().qa_extension_saves&&N.push(E),u&&b&&N.push(u)):(0,S.$D)(nX.e.EXTENSIBILITY,Error("[Quick Actions] Published extension is missing publishedExtension from Redux state"),{extra:{extensionId:a.plugin_id,isWidget:(0,rz.k0)(a),types:Array.from(t.types).toString()}})),(0,rz.ZQ)(a)&&(d&&T.unshift(d),x&&m&&T.push(m),!a.error&&p&&T.push(p),hW(t)&&!(0,c.kc)().qa_extension_saves?N.push(g):E&&(0,c.kc)().qa_extension_saves&&N.push(E),u&&N.push(u));let k=T.some(Boolean)&&N.some(Boolean)?{displayText:"",separator:!0}:null;return r.createElement(hG.ms,{parentRect:o?.data.targetRect,lean:"left",minWidth:64,items:[...T,k,...N].filter(e=>!!e)})}function hY({augmentedExtension:e,active:t,submenuRef:a}){let{extension:n}=e,l=(0,rz.k0)(n)?r.createElement(iw.E,{color:"tertiary",fontSize:11},(0,h.tx)("qa.extensions.widget")):r.createElement(iw.E,{color:"tertiary",fontSize:11},(0,h.tx)("qa.extensions.plugin")),i=hr(e);return r.createElement("div",{className:tj.cx.flex.itemsCenter.justifyBetween.wFull.$},r.createElement("div",{className:tj.cx.flex.itemsCenter.$},r.createElement(hA,{augmentedExtension:e}),r.createElement("div",{className:tj.cx.px8.$,style:eo.sx.add({maxWidth:i?"205px":"300px"}).$},r.createElement(he.G,{text:n.name})),r.createElement(hk.lM,{augmentedExtension:e,submenuRef:a}),i&&r.createElement("div",{style:eo.sx.add({maxWidth:"110px"}).$},r.createElement(hl,{text:i.text,variant:i.variant}))),r.createElement("div",null,t?r.createElement(hj,{extension:n}):l))}let hX=e=>{(0,hw.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:"",triggeredFrom:"quick-actions"})};function hq({manifestError:e}){return r.createElement("div",{className:tj.cx.alignLeft.font11.lh16.pl32.$},r.createElement(iw.E,{color:"danger"},e.msg),r.createElement("span",{role:"button",tabIndex:0,onClick:t=>{t.stopPropagation(),e.action()},className:tj.cx.underline.bgTransparent.colorTextDanger.$},e.buttonText))}function hJ({extension:e}){return r.createElement(hv.R,{className:tj.cx.font11.alignLeft.colorTextSecondary.lh16.pl32.$,text:e.localFilePath.replace("/manifest.json","")})}function hQ({augmentedExtension:e,submenuRef:t}){let{extension:a}=e,n=(0,l.wA)(),{close:i}=(0,sT.cq)(),o=(0,f_._I)(),s=ly.dR(a.plugin_id,"quick-actions"),c=hK(a),d=(0,f9.Kp)(e),u=(0,hk.q8)(a),m=(0,hk.U4)(a),p=(0,hk.S3)({submenuIsShown:m,extension:a}),_=(0,hS.t)(a,u),f=r.useCallback(()=>{if(c){n(eR.oB());return}(0,rz.k0)(a)?lK.l7.user("insert-widget",()=>hX(a)):u&&t?p(t.current):s(),u||d(),o(f_.Gb.RUN_LOCAL_EXTENSION),_()&&i()},[c,a,u,t,o,_,n,p,s,d,i]),h=(0,hx.T)(e),[g,E]=r.useState(!1),y=(0,hC.Pt)(a.error?.type,a);return r.createElement(hM,{onPrimaryAction:f,tertiaryAction:h,setActive:E,augmentedExtensionForLogging:e},r.createElement("div",{className:tj.cx.flex.flexColumn.wFull.$},r.createElement(hY,{augmentedExtension:e,active:g,submenuRef:t}),!y&&r.createElement(hJ,{extension:a}),y&&r.createElement(hq,{manifestError:y})),r.createElement(hk.Xq,{augmentedExtension:e}),r.createElement(hZ,{augmentedExtension:e}))}function h$({augmentedExtension:e,submenuRef:t}){let{extension:a,canRun:n,canRequest:i}=e,o=(0,l.wA)(),s=hK(a),{onAction:c}=(0,hN.m)({augmentedExtension:e,submenuRef:t}),d=(0,hx.T)(e),[u,m]=r.useState(!1),p=(0,hI.Ok)({extension:e,preloadImage:u});return n||i?r.createElement(hM,{onPrimaryAction:()=>{if(s){o(eR.oB());return}c()},onSecondaryAction:p,tertiaryAction:d,setActive:m,augmentedExtensionForLogging:e},r.createElement(hY,{augmentedExtension:e,active:u,submenuRef:t}),r.createElement(hk.Xq,{augmentedExtension:e}),r.createElement(hZ,{augmentedExtension:e})):null}function h0(e){return[{itemKey:"newPlugin",text:(0,h.t)("whiteboard.inserts.plugin_development_options_new_plugin"),svg:sZ.e,onAction:()=>{e(eM.Lo()),T.Y5.dispatch((0,eM.to)({type:hT.h,data:{resourceType:rV.bD.PLUGIN}}))}},{itemKey:"newWidget",text:(0,h.t)("whiteboard.inserts.widget_development_options_new_widget"),svg:sZ.e,onAction:()=>{e(eM.Lo()),T.Y5.dispatch((0,eM.to)({type:hT.h,data:{resourceType:rV.bD.WIDGET}}))}},{itemKey:"importFromManifest",text:(0,h.t)("whiteboard.inserts.development_options_import"),svg:sj.R,onAction:()=>e((0,hb.JZ)({resourceType:"unknown"}))}]}function h1({itemKey:e,text:t,svg:a,onAction:n}){let l=hR();return r.createElement(hM,{onPrimaryAction:({target:t})=>{(0,sr.PV)({action:e,isAi:!1,module:K.J.EXTENSIONS,qaVersion:oP.$L,rankingAlgorithm:(0,aZ.eg)(K.J.EXTENSIONS),searchPosition:t?.index??0,isPlugin:!1,numSearchResults:l.numResults,searchQuery:l.searchQuery,moduleFilters:l.moduleFilters}),n()},augmentedExtensionForLogging:null},r.createElement("div",{className:tj.cx.flex.itemsCenter.alignLeft.wFull.justifyBetween.$},r.createElement("div",{className:tj.cx.flex.$},r.createElement(a,null),r.createElement("div",{className:tj.cx.ml8.$},t))))}var h2=a(67294),h5=a(103567);function h3({extension:e}){let t=(0,h5.R_)(e),a=(0,h5.JB)(e);return r.createElement("div",{className:tj.cx.mx8.mb8.p8.bRadius8.flex.justifyBetween.gap4.colorBgInfo.$,"data-testid":"extension-invite-row"},r.createElement("div",{className:tj.cx.flex.gap8.itemsCenter.font11.lh16.$},r.createElement(h2.H8,{user:e.creator,size:h2.Pf.MEDIUM}),r.createElement(h5.e2,{resource:e})),r.createElement("div",{className:tj.cx.flex.gap4.$},r.createElement(lx.$n,{onClick:e=>{e.stopPropagation(),a()},variant:"secondary",htmlAttributes:{"data-testid":"decline-invite-button"}},r.createElement(iw.E,{fontSize:11},(0,h.tx)("community.detail_view.decline"))),r.createElement(lx.$n,{onClick:e=>{e.stopPropagation(),t()},htmlAttributes:{"data-testid":"accept-invite-button"}},r.createElement(iw.E,{fontSize:11},(0,h.tx)("community.detail_view.accept")))))}function h4({invitedPlugins:e,invitedWidgets:t,selectedFilter:a}){let n=function({invitedPlugins:e,invitedWidgets:t,selectedFilter:a}){switch(a){case h_.BY.PLUGINS:return e;case h_.BY.WIDGETS:return t;case h_.BY.ALL:case h_.BY.DEVELOPMENT:return[...e,...t];case h_.BY.FROM_ORG:return[];default:(0,ok.xb)(a)}}({invitedPlugins:e,invitedWidgets:t,selectedFilter:a});return 0===n.length?null:r.createElement("div",{"data-testid":"extension-invite-section",className:tj.cx.flex.flexColumn.$},r.createElement(f0.B.Section,{header:(0,h.t)("community.detail_view.invitations")},n.map(e=>r.createElement(h3,{key:e.id,extension:e}))))}var h6=a(947131),h7=a(96328),h8=a(958473),h9=a(794412),ge=a(110354);function gt({augmentedExtension:e}){let{extension:t,publishedExtension:a}=e,n=(0,rz.k0)(t)?(0,h.tx)("qa.extensions.widget"):(0,h.tx)("qa.extensions.plugin"),l=a?.unique_run_count??0,i=a?.like_count??0,o=a?r.createElement(h8.o,{publishedExtension:a,showTooltip:!1}):null,s=(0,h8.g)(a);return r.createElement("div",{className:tj.cx.flex.flexColumn.colorTextSecondary.textBodyMedium.$},r.createElement("div",{className:tj.cx.flex.flexRow.$},n,r.createElement(ga,null),r.createElement(aS.B,{svg:h9.A,className:tj.cx.mx2.colorIconSecondary.$}),r.createElement("div",{className:tj.cx.ml2.$},(0,h.t)("qa.extensions.num_users",{numUsers:l,numUsersStr:(0,h7.$M)(l)})),r.createElement(ga,null),r.createElement(aS.B,{svg:ge.A,className:tj.cx.colorIconSecondary.$,style:eo.sx.add({margin:"3px"}).$}),r.createElement("div",{className:tj.cx.ml2.$},(0,h7.$M)(i)),s&&r.createElement(ga,null),o))}function ga(){return r.createElement("div",{className:tj.cx.w1.hFull.mx6.$,style:eo.sx.add({backgroundColor:"var(--color-border-fs)"}).$,"data-testid":"divider"})}function gn({augmentedExtension:e}){let{extension:t,canRun:a,canRequest:n}=e,{onAction:l}=(0,hN.m)({augmentedExtension:e,submenuRef:null}),i=(0,hx.T)(e),[o,s]=r.useState(!1),c=(0,hI.Ok)({extension:e,preloadImage:o});if(!a&&!n)return null;let d=(0,ht.G8)(t,lV.$J);return r.createElement(hM,{onPrimaryAction:c,onSecondaryAction:l,tertiaryAction:i,augmentedExtensionForLogging:e,setActive:s},r.createElement("div",{className:tj.cx.flex.flexColumn.alignLeft.wFull.$},r.createElement("div",{className:tj.cx.flex.itemsCenter.overflowHidden.$},r.createElement(hA,{augmentedExtension:e}),r.createElement(gr,{augmentedExtension:e})),r.createElement("div",{className:tj.cx.flex.flexColumn.overflowHidden.ml32.$},r.createElement(he.G,{text:d,className:tj.cx.mb4.colorTextSecondary.textBodyMedium.$,showTooltip:h6.i.NEVER}),r.createElement(gt,{augmentedExtension:e}))))}function gr({augmentedExtension:e}){let{extension:t}=e,a=hr(e);return r.createElement("div",{className:tj.cx.flex.itemsCenter.ml8.$},r.createElement("div",{className:tj.cx.pr8.colorText.textBodyLarge.$,style:eo.sx.add({maxWidth:a?"205px":"300px"}).$},r.createElement(he.G,{text:t.name})),a&&r.createElement("div",{style:eo.sx.add({maxWidth:"110px"}).$},r.createElement(hl,{text:a.text,variant:a.variant})))}function gl({augmentedExtensions:e,header:t,showExtensionDetails:a=!1,dataTestId:n}){let l=e.map(e=>{let t=r.createRef(),{key:n}=e;return(0,sw.JT)(e)?r.createElement(hQ,{augmentedExtension:e,key:n,submenuRef:t}):a?r.createElement(gn,{augmentedExtension:e,key:n}):r.createElement(h$,{augmentedExtension:e,key:n,submenuRef:t})});return r.createElement("div",{"data-testid":n,className:tj.cx.flex.flexColumn.$},t&&r.createElement(f0.B.Section,{header:t},l),!t&&l)}function gi({actions:e}){let t=hR(),a=t.moduleFilters===h_.BY.DEVELOPMENT,n=t.moduleFilters===h_.BY.ALL;return a||n?r.createElement("div",{"data-testid":"extension-actions-section",className:tj.cx.flex.flexColumn.$},e.map(({itemKey:e,...t})=>r.createElement(h1,{key:e,itemKey:e,...t}))):null}function go({extensions:e}){let t=(0,r.useMemo)(()=>[...e].sort(sw.bL),[e]);return 0===t.length?null:r.createElement(gl,{augmentedExtensions:t,dataTestId:"my-extensions-section"})}function gs(){return r.createElement("div",{className:tj.cx.flex.wFull.mt16.justifyCenter.alignCenter.colorTextSecondary.$,"data-testid":"no-extensions-found"},(0,h.tx)("qa.no_plugins_widgets_found"))}function gc({availableExtensions:e,selectedFilter:t}){let a=(0,aZ.Ev)(),n=(0,U.md)(W.Lk),i=(0,U.md)(W.dd),o=(0,U.md)(W.Rt),s=(0,l.d4)(o7.l),c=(0,l.wA)(),d=(0,nY.f6)(),u=(0,nY.wW)(),{loaded:m,extensions:p}=function(e){let t=(0,sw.Oy)(),{loaded:a,extensions:n}=function(){let e=(0,l.wA)(),[t,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let t={sort_by:eB.eg.POPULAR,editor_type:hE.k.Editors.FIGMA};Promise.all([(0,hg.nC)().filter(t).browse(hy.L.BrowseResourceTypes.PLUGINS),(0,hg.nC)().filter(t).browse(hy.L.BrowseResourceTypes.WIDGETS)]).then(([t,n])=>{let r=t.data.meta.resources,l=n.data.meta.resources,o=(0,rl.shuffle)([...r.slice(0,10),...l.slice(0,5)]);e(ru.Qi({publishedPlugins:o,src:"Quick Actions V2 suggested extensions"}));let s=o.map(e=>(0,rB.Ar)(e)).filter(e=>null!==e);a(!0),i(s)}).catch(()=>{a(!1),i([])})},[e]),{loaded:t,extensions:n}}(),i=n.map(e=>t(e,sC.Ag.COMMUNITY));return{loaded:a,extensions:(0,sw.ZM)([...e,...i])}}(e),{myExtensions:_,suggestedExtensions:f,otherExtensionsFromOrg:h}=function(e,t){let a=(0,sw.vA)(t),n=[],r=[],l=[];return e.filter(e=>e.canRun||e.canRequest).filter(e=>a(e)).forEach(e=>{(0,sw.wj)(e)?n.push(e):t===h_.BY.FROM_ORG&&(0,sw.jb)(e)||t!==h_.BY.FROM_ORG&&(0,sw.Nf)(e)?r.push(e):t===h_.BY.FROM_ORG&&l.push(e)}),{myExtensions:n,suggestedExtensions:r,otherExtensionsFromOrg:l}}(p,t),g=t===h_.BY.DEVELOPMENT||t===h_.BY.ALL?h0(c):[],E=_.length+f.length+h.length+g.length,y=t===h_.BY.DEVELOPMENT,v=t===h_.BY.FROM_ORG,b=m||v||y,C=function({myExtensions:e,suggestedExtensions:t,otherExtensionsFromOrg:a,extensionActions:n}){let r=(0,aZ.HD)("My Extensions",e),l=(0,aZ.HD)("Suggested",t),i=(0,aZ.HD)("Other Extensions from Org",a),o=(0,aZ.NH)(n);return(0,aZ.i6)([r,l,i,o])}({myExtensions:_,suggestedExtensions:f,otherExtensionsFromOrg:h,extensionActions:g});return((0,r.useEffect)(()=>{n===K.J.EXTENSIONS&&i&&b&&a({quickActionsSessionId:i,quickActionsQueryId:o,searchQuery:"",numSearchResults:E,currentSelection:s,module:n,moduleFilters:t,qaVersion:oP.$L,searchQueryResults:C})},[a,n,i,b,o,E,s,t,C]),0===E)?r.createElement(gs,null):r.createElement(hO,{numResults:E,moduleFilters:t},r.createElement(f0.B,{primary:!0,resultCount:E},r.createElement(h4,{invitedPlugins:d,invitedWidgets:u,selectedFilter:t}),r.createElement(go,{extensions:_}),r.createElement(gi,{actions:g}),r.createElement(gd,{extensions:f,hasLoaded:b}),v&&r.createElement(gu,{extensions:h})))}function gd({extensions:e,hasLoaded:t}){return t?0===e.length?null:r.createElement(gl,{augmentedExtensions:e,header:(0,h.t)("qa.suggested"),showExtensionDetails:!0}):r.createElement("div",{className:tj.cx.p8.$},r.createElement(hh.R,null))}function gu({extensions:e}){let t=(0,eW.sZ)();return t&&0!==e.length?r.createElement(gl,{augmentedExtensions:e,header:(0,h.t)("qa.other_extensions_from_org",{org_name:t.name}),showExtensionDetails:!0}):null}var gm=a(35645),gp=a.n(gm),g_=a(395096),gf=a(752553),gh=a(463592),gg=a(508567);let gE=_D.M4.Query({fetch:async e=>(await gg.$W.getExtensions(e)).data.meta,enabled:e=>e.query.length>0,output:({data:e})=>e.results});function gy({availableExtensions:e,selectedFilter:t}){let a=(0,aZ.Ev)(),n=(0,U.md)(W.Lk),i=(0,U.md)(W.dd),o=(0,U.md)(W.Q8),[s]=(0,g_.A)(o,300),d=(0,U.md)(W.Rt),u=(0,l.d4)(o7.l),m=(0,l.wA)(),{loading:p,publicExtensions:_,privateExtensions:f,localExtensions:h}=function(e){let{status:t,results:a,errors:n}=function(e){let t=function(e){switch(e){case Z.nT.Design:return hE.k.Editors.FIGMA;case Z.nT.Whiteboard:return hE.k.Editors.FIGJAM;case Z.nT.DevHandoff:return hE.k.Editors.DEV_MODE;default:return hE.k.Editors.ALL}}((0,eG.my)()),a=(0,f3.U5)(),n=(0,eW.dq)()??void 0,r=(0,c.kc)().ext_plugin_limit_search_results?20:void 0,[{status:l,data:i,errors:o}]=(0,gf.IT)(gE({query:e,editorType:t,orgSearch:a,currentOrgId:n,maxNumResults:r}));return{status:l,results:i||{public:[],private:[]},errors:o}}(e),l=function(e){let t=(0,nY.$1)(),a=(0,r.useMemo)(()=>Object.values(t),[t]),n=(0,r.useMemo)(()=>new gh.Ef(a,rT.Ih),[a]);return(0,r.useMemo)(()=>n.search(e),[n,e])}(e);return(0,r.useMemo)(()=>{switch(t){case"loading":return{loading:!0,privateExtensions:[],publicExtensions:[],localExtensions:[]};case"loaded":let e=a?.public??[],r=a?.private??[];return{loading:!1,publicExtensions:e.map(e=>e.model),privateExtensions:r.map(e=>e.model),localExtensions:l};case"disabled":case"errors":return(0,S.$D)(nX.e.EXTENSIBILITY,Error("[useSearchExtensions] Unable to fetch search results"),{tags:{status:t},extra:{errors:n}}),{loading:!1,privateExtensions:[],publicExtensions:[],localExtensions:[]};default:(0,ok.xb)(t)}},[a?.private,a?.public,l,t,n])}(s),g=function(e){let t=(0,l.wA)(),a=(0,r.useMemo)(()=>h0(t),[t]),n=(0,r.useMemo)(()=>new gh.Ef(a,rT.zd),[a]);return(0,r.useMemo)(()=>n.search(e),[n,e])}(s);(0,r.useEffect)(()=>{let e=[..._,...f];0!==e.length&&m(ru.Qi({publishedPlugins:e,src:"Quick actions"}))},[m,f,_]);let{myExtensions:E,fromOrgExtensions:y,communityExtensions:v}=gC(function({publicExtensions:e,privateExtensions:t,localExtensions:a}){let n=(0,sw.Oy)();return(0,r.useMemo)(()=>{let r=(e,t)=>e.map(e=>(0,rB.Ar)(e)).filter(e=>!!e).map(e=>n(e,t)),l=r(e,sC.Ag.COMMUNITY),i=r(t,sC.Ag.ORG_PRIVATE);return[...a.map(e=>n(e,sC.Ag.LOCAL)),...i,...l]},[n,a,t,e])}({publicExtensions:_,privateExtensions:f,localExtensions:h}),e,t),b=E.length+y.length+v.length+g.length,C=function({myExtensions:e,actionItems:t,fromOrgExtensions:a,communityExtensions:n}){let r=(0,aZ.HD)("My Extensions",e),l=(0,aZ.NH)(t),i=(0,aZ.HD)("From Org",a),o=(0,aZ.HD)("From Community",n);return(0,aZ.i6)([r,l,i,o])}({myExtensions:E,actionItems:g,fromOrgExtensions:y,communityExtensions:v});return((0,r.useEffect)(()=>{n===K.J.EXTENSIONS&&i&&!p&&a({quickActionsSessionId:i,quickActionsQueryId:d,searchQuery:s,numSearchResults:b,currentSelection:u,module:n,moduleFilters:t,qaVersion:oP.$L,searchQueryResults:C})},[u,a,n,b,i,d,t,p,C,s]),p)?r.createElement(hh.R,null):0===b?r.createElement(gs,null):r.createElement(hO,{numResults:b,moduleFilters:t},r.createElement(f0.B,{primary:!0,resultCount:b},r.createElement(go,{extensions:E}),r.createElement(gi,{actions:g}),r.createElement(gv,{extensions:y}),r.createElement(gb,{extensions:v})))}function gv({extensions:e}){let t=(0,eW.sZ)();if(!t||0===e.length)return null;let[a,n]=gp()(e,e=>e.types.has(sC.Ag.ORG_SAVED)),l=[...a,...n];return r.createElement(gl,{augmentedExtensions:l,header:(0,h.t)("qa.from_org_name",{org_name:t.name}),showExtensionDetails:!0,dataTestId:"from-org-extensions-section"})}function gb({extensions:e}){return 0===e.length?null:r.createElement(gl,{augmentedExtensions:e,header:(0,h.t)("qa.from_community"),showExtensionDetails:!0,dataTestId:"community-extensions-section"})}let gC=(e,t,a)=>{let n=(0,sw.vA)(a),l=(0,r.useMemo)(()=>new Set(e.map(e=>e.key)),[e]),i=(0,r.useMemo)(()=>{let a=[...e,...t];return(0,sw.ZM)(a)},[t,e]),o=[],s=[],c=[];return i.filter(e=>e.canRun||e.canRequest).filter(e=>n(e)).filter(e=>l.has(e.key)).forEach(e=>{(0,sw.wj)(e)?o.push(e):(0,sw.C5)(e)?s.push(e):(0,sw.Nf)(e)&&c.push(e)}),{myExtensions:o,fromOrgExtensions:s,communityExtensions:c}};function gw({hasLoadedExtensions:e,extensions:t,selectedFilter:a}){let n=(0,U.md)(W.Q8),l=(0,W.JB)(),i=(0,hf.AY)(hp.t);return((0,sy.h)(()=>()=>{l(),i()}),e)?n?r.createElement(gy,{availableExtensions:t,selectedFilter:a}):r.createElement(gc,{availableExtensions:t,selectedFilter:a}):r.createElement(hh.R,null)}var gT=a(891682);function gS(){!function(){let e=(0,U.md)(W.IH),{autoClose:t}=(0,sT.cq)(),a=(0,r.useCallback)(()=>{let e=sG.D.getState();e.modalShown||e.dropdownShown||e.pickerShown||t()},[t]);!function({ref:e,handler:t,eventType:a="mousedown",eventOptions:n,recordingKey:l,enabled:i}){let o=(0,r.useCallback)(a=>{if(!(a.target instanceof Node))return;let n=a.target;n&&n.isConnected&&e&&(Array.isArray(e)?e.filter(e=>!!e.current).every(e=>e.current&&!e.current.contains(n)):e.current&&!e.current.contains(n))&&t(a)},[e,t]),s=(0,nf.rf)(l,a,o);(0,r.useEffect)(()=>{if(e&&i)return window.addEventListener(a,s,n),()=>{window.removeEventListener(a,s,n)}},[e,a,o,s,n,i])}({ref:e,handler:()=>setTimeout(a,0),eventType:"mousedown",eventOptions:!0,recordingKey:"click-to-dismiss",enabled:!0})}();let[e,t]=(0,U.fp)(W.Q8),a=(0,lG.Xr)(W.Rt),[n,i]=(0,U.fp)(hp.t),[o,s]=(0,U.fp)(W.Lk),{loaded:c,extensions:d}=(0,U.md)(W.P_),u=(0,l.wA)();r.useEffect(()=>u(sB.aq()),[u]);let m=(0,eG.my)(),_=m===Z.nT.Design,f=m===Z.nT.Slides,g=(0,X.q5)(),E=!!(_&&g?.canEdit),y=(0,uj.s)(),v=(0,mf.V)();(0,sH.b)({disabled:!E});let b=o===K.J.ASSETS,{debouncedAssetSearch:C,clearAssetSearchAndCancelDebounce:w}=(0,V.TC)({debounceWait:300}),{debouncedFragmentTextSearch:T,clearFragmentSearchAndCancelDebounce:S}=(0,gT.S)({debounceWait:300,entryPoint:G.G4.ACTIONS_ASSETS_TAB}),{debouncedFragmentTextSearch:N,clearFragmentSearchAndCancelDebounce:x}=(0,gT.S)({debounceWait:300,entryPoint:G.G4.ACTIONS_ASSETS_TAB,overrideParams:{is_community:!0}}),k=r.useCallback(e=>{t(e),a((0,oI.g)()),(0,aZ.lw)(),E&&((b||0===e.length)&&(C(e,{type:sU.I.ALL}),v&&T(e)),v&&(0,rX.Xk)()&&N(e))},[t,a,C,T,E,b,v,N]),I=r.useCallback(()=>{t(""),E&&(w(),v&&(S(),(0,rX.Xk)()&&x()))},[t,E,w,S,v,x]),A=r.useCallback(e=>{s(e),(0,aZ.lw)()},[s]),L=r.useCallback(()=>{(0,uW.mX)(e,()=>A(K.J.ASSETS),v,y,G.G4.ACTIONS_ASSETS_TAB)},[e,A,v,y]),O=r.useRef(null),R=(0,hm.U)(v),M=(0,l.d4)(eQ.GP),D=r.createElement(sW.fu,{value:o,onChange:p.lQ,numItems:M?3:2},r.createElement(sW.oz,{tabId:K.J.ALL,onAction:()=>A(K.J.ALL),navigatingShortcut:{key:lI.Uz.KEY_1,modifier:[lI.xH.ALT]}},(0,h.tx)("qa.all")),r.createElement(sW.oz,{tabId:K.J.ASSETS,onAction:L,navigatingShortcut:{key:lI.Uz.KEY_2,modifier:[lI.xH.ALT]}},(0,h.tx)("qa.assets")),M&&r.createElement(sW.oz,{tabId:K.J.EXTENSIONS,onAction:()=>A(K.J.EXTENSIONS),navigatingShortcut:{key:lI.Uz.KEY_3,modifier:[lI.xH.ALT]}},(0,h.tx)("qa.plugins_widgets"))),P=v?r.createElement("div",{className:tj.cx.flex.$},r.createElement(sP.K,{"aria-label":(0,h.t)("asset_suggestions.visual_search_icon_button_tooltip"),onClick:fW.KB,recordingKey:(0,nf.Pt)("defaultView","visualSearchIconButton"),htmlAttributes:{"data-tooltip":(0,h.t)("asset_suggestions.visual_search_icon_button_tooltip"),"data-tooltip-type":aV.Ib.TEXT,"data-tooltip-show-above":!0}},r.createElement(sF.A,null))):void 0,F=o===K.J.EXTENSIONS;return r.createElement(sz.n,{height:f?az.Ru:az.wC,recordingKey:"defaultView"},r.createElement(sK.v,{searchQuery:e,onSearchChange:k,onClear:I,endEnhancer:P,ref:O,placeholder:b?R:void 0}),(E||F)&&r.createElement("div",{className:tj.cx.px8.pb8.$},r.createElement(sV.b,{primary:!1,gap:8,fullWidth:!0,justify:"space-between"},E&&D,F&&r.createElement(h_.ox,{extensionFilter:n,setExtensionFilter:i}))),r.createElement(sz.n.Body,null,function(){switch(o){case K.J.ALL:return r.createElement(hu,{setActiveTab:A});case K.J.ASSETS:return r.createElement(uW.tF,{searchHandle:O});case K.J.EXTENSIONS:return r.createElement(gw,{extensions:d,hasLoadedExtensions:c,selectedFilter:n});default:return(0,ok.xb)(o)}}()))}function gN(){let{current:e}=(0,sT.cq)(),t=(0,W.jh)();return((0,sy.h)(()=>()=>{t()}),e)?r.createElement(r.Fragment,null,e.module):r.createElement(gS,null)}let gx=(e,t)=>{(0,aZ.Mq)({...t,qaVersion:oP.$L,quickActionsSessionId:e,timeToShowModal:ob.sn.tryStop(oP.mP)||0,module:(0,sS.x)()})};function gk(){!function(){let e=(0,lG.Xr)(W.P_),t=(0,nY.FG)(),a=(0,nY.AR)(),{loaded:n,userPlugins:l,userWidgets:i,orgPlugins:o,orgWidgets:s}=(0,nY.q3)(),c=(0,nY.ll)(),d=(0,nY.U6)(),u=(0,rC.h)("plugin"),m=(0,rC.h)("widget"),p=(0,nY.$1)(),_=(0,sw.Oy)(),f=(0,r.useMemo)(()=>[{extensions:t,extensionType:sC.Ag.RECENT},{extensions:a,extensionType:sC.Ag.RECENT},{extensions:Object.values(l),extensionType:sC.Ag.USER_SAVED},{extensions:Object.values(i),extensionType:sC.Ag.USER_SAVED},{extensions:Object.values(o),extensionType:sC.Ag.ORG_SAVED},{extensions:Object.values(s),extensionType:sC.Ag.ORG_SAVED},{extensions:Object.values(c),extensionType:sC.Ag.ALLOWLIST},{extensions:Object.values(d),extensionType:sC.Ag.ALLOWLIST},{extensions:u,extensionType:sC.Ag.ORG_PRIVATE},{extensions:m,extensionType:sC.Ag.ORG_PRIVATE},{extensions:Object.values(p),extensionType:sC.Ag.LOCAL}],[t,a,l,i,o,s,c,d,u,m,p]),h=(0,r.useMemo)(()=>{let e=n?f.map(({extensions:e,extensionType:t})=>e.map(e=>_(e,t))).flat():[];return(0,sw.ZM)(e)},[f,_,n]);(0,r.useEffect)(()=>{n&&h&&e({loaded:n,extensions:h})},[n,h,e])}();let e=(0,lG.Xr)(W.Bu),t=(0,f_.Zq)(),a=(0,U.md)(W.rE),n=(0,U.md)(W.dd);(0,sy.h)(()=>(e(!0),n&&gx(n,a||void 0),()=>{t(),e(!1)}));let l=(0,U.md)(sv.Kh),[i,s]=r.useState(!1),c=(0,ih.o3)(ih.nt.ui3),d=(0,o.ZC)(c),{close:u}=(0,sT.cq)();return(0,r.useEffect)(()=>{gI(l)&&s(!0),d&&!c?u():i&&!gI(l)&&u()},[c,d,u,l,i]),r.createElement(sb.s,null,r.createElement(sN.s3,{name:"quickActions",recordingKey:"quickActions"},r.createElement(sM,null,r.createElement(gN,null))))}function gI(e){return e===i.NLJ.SELECT}var gA=a(843059);function gL(e){let t=(0,sq.A)(rJ.KY,e.timeoutMs),[a,n]=r.useState(!1),l=r.useRef(null);return r.useEffect(()=>(a?t.cancel():t(),()=>{t.cancel()}),[t,a]),r.createElement("div",{ref:l,onPointerEnter:()=>{n(!0)},onPointerLeave:()=>{n(!1)}},e.children)}function gO(){let e=sG.D.getState(),t=(0,o7.l)(e),a=e.openFile?.key??"",n=(0,rw.v5)(e.selectedView,null),l=(0,iA.u)(),i=[...fJ(),...l],o=s0(),s=mO(o,i),c=(0,rJ.el)(),d=c?s.list(o).find(e=>e.action===c.action):null,u=d?.action,m=d?(0,ix.E)(d):null,p=(0,r.useCallback)(()=>{u&&(T.Y5.triggerAction(u,c?.payload),(0,rJ.KY)())},[u,c?.payload]),_=(0,U.md)(W.dd),f=(0,aZ.vI)(),g=(0,rY.vh)(),E={action:u,source:"toast",quickActionsSessionId:_,currentSelection:t,qaVersion:oP.$L,fileKey:a,productType:n,role:f,hasAiFeatureAccess:g};return((0,sy.h)(()=>{u&&(0,$.sx)(oP.Sq,E,{forwardToDatadog:!0})}),d)?r.createElement(sN.s3,{name:"quickActions",recordingKey:"quickActions"},r.createElement(sM,null,r.createElement(sz.n,null,r.createElement(gL,{timeoutMs:1e4},r.createElement(gA.y,{onDismiss:rJ.KY,recordingKey:"SuggestionToast"},r.createElement(sV.B,{justify:"space-between",align:"center",fullWidth:!0},r.createElement(sV.B,{gap:4,align:"center"},r.createElement("span",{style:{"--color-icon":"var(--color-icon-brand)"}},r.createElement(s1.V,null)),r.createElement(sV.B,{align:"center"},r.createElement("span",{className:tj.cx.textBodyMediumStrong.$},r.createElement(iw.E,{color:"brand"},(0,h.tx)("qa.toast.suggestion"))),d.tags?.includes(sJ.$.AI)&&r.createElement(r$.W,null))),r.createElement(u7.r,{variant:"secondary",shortcuts:[{key:lI.Uz.ENTER,modifier:[lI.xH.META]}],onAction:()=>{p(),u&&(0,aZ.mi)({...E,isAi:!0})},recordingKey:"SuggestionToast"},m))))))):(console.warn("No menu item found for suggested action."),null)}function gR(){let e=(0,U.md)(W.Bu),t=(0,rJ.el)();return e?r.createElement(gk,null):t?r.createElement(gO,null):null}var gM=a(62557),gD=a(448169),gP=a(626217),gF=a(31913),gB=a(127122),gU=a(10648),gH=a(408405),gG=a(122983),gV=a(369870),gz=a(316081),gK=a(694517),gW=a(338400),gj=a(143678),gZ=a(212478),gY=a(173521),gX=a(974898),gq=a(601538),gJ=a(503316),gQ=a(979686),g$=a(278011),g0=a(900073),g1=a(487392),g2=a(522739),g5=a(488914),g3=a(775058);let g4=r.createElement("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{id:"ICON-templates"},r.createElement("line",{id:"Line 2",x1:"5.5",y1:"1",x2:"5.5",y2:"15",stroke:"black",strokeOpacity:"0.9"}),r.createElement("rect",{id:"Rectangle 2083",x:"0.5",y:"0.5",width:"17",height:"15",stroke:"black",strokeOpacity:"0.9"}),r.createElement("rect",{id:"Rectangle 7984",x:"1",y:"1",width:"4",height:"14",fill:"black",fillOpacity:"0.3"}))),g6=r.createElement("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("line",{x1:"5.5",y1:"1",x2:"5.5",y2:"15",stroke:"black",strokeOpacity:"0.9"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"17",height:"15",stroke:"black",strokeOpacity:"0.9"}));function g7(){let e=(0,gB.Gf)(),t="CLOSED"!==(0,U.md)(g5.Tb).type,a=(0,lG.Xr)(g5.UT),n=(0,lG.Xr)(g5.Cx),l=(0,g1.qU)();if(!e)return null;let i=()=>{t?n():(l(),a())};return r.createElement("div",null,r.createElement(g2.GG,{className:g3.gb,"data-tooltip-type":aV.Ib.TEXT,"data-tooltip":(0,h.t)("whiteboard.mini_home.toggle_button"),onKeyDown:e=>(0,im.hx)({e,onClickHandler:i}),onClick:i,tabIndex:0,"aria-label":(0,h.t)("whiteboard.mini_home.toggle_button"),"data-onboarding-key":"in_editor_sidebar_toolbar"},t?g4:g6))}var g8=a(348425),g9=a(349719),Ee=a(760591);function Et(){let e=(0,X.q5)();return r.createElement(eE.E,{className:"extension_toolbar_left_items--leftToolbar--npGkc",onClick:()=>(0,g9._r)(),htmlAttributes:{"data-tooltip-type":aV.Ib.TEXT,"data-tooltip":(0,h.t)("dev_handoff.vscode.toolbar.back_button")},"aria-label":(0,h.t)("dev_handoff.vscode.toolbar.back_button")},r.createElement(g8.t,{svg:Ee.A,className:"extension_toolbar_left_items--back--JwiF5"}),r.createElement("div",{className:"extension_toolbar_left_items--fileNameText---u61D"},e?.name))}var Ea=a(720248),En=a(671250);function Er({focusModeEnabled:e,onClick:t}){return r.createElement("button",{"data-editor-theme":"dev-handoff",onClick:t,"data-tooltip":(0,h.t)(e?"dev_handoff.vscode.exit_focus_mode":"dev_handoff.vscode.enter_focus_mode"),"data-tooltip-type":aV.Ib.TEXT},r.createElement(aS.B,{svg:e?En.A:Ea.A,className:"dev_handoff_toolbar_focus_button--focusModeIcon--LMEyU"}))}var El=a(334290),Ei=a(197368),Eo=a(699731);function Es(){let e=(0,l.wA)(),t=(0,F.J2)(i.Ez5.devHandoffState().focusMode);return r.createElement("div",{className:"extension_toolbar_right_items--buttons--3pMn8"},t&&r.createElement(El.jX,null),r.createElement(Er,{focusModeEnabled:t,onClick:()=>i.w3z.setFocusModeEnabled(!t)}),r.createElement("button",{"data-editor-theme":"dev-handoff",onClick:()=>e(l_.lW({stringToCopy:window.location.toString()})),"data-tooltip":(0,h.t)("dev_handoff.copy_link"),"data-tooltip-type":aV.Ib.TEXT},r.createElement(aS.B,{svg:Ei.A})),r.createElement("button",{"data-editor-theme":"dev-handoff",onClick:()=>g9.Qn(window.location.toString()),"data-tooltip":(0,h.t)("dev_handoff.open_in_figma"),"data-tooltip-type":aV.Ib.TEXT},r.createElement(aS.B,{svg:Eo.A})))}var Ec=a(877723),Ed=a(766926),Eu=a(435898),Em=a(535688),Ep=a(194092),E_=a(957379),Ef=a(665194),Eh=a(209234),Eg=a(655515);let EE="pages_sidebar_toolbar_ui2--selected--VbVrq";var Ey=a(770806),Ev=a(934640);function Eb(){return r.createElement(aS.B,{svg:Ey.A,ariaLabel:(0,h.t)("pages_panel.toolbar.icon.addPage.aria_label"),dataTestId:"newPageToolbarIcon"})}function EC({numberOfPages:e}){return e>9?r.createElement(aS.B,{svg:Ev.A,ariaLabel:(0,h.t)("pages_panel.toolbar.icon.ellipis.aria_label"),dataTestId:"ellipsisPagesToolbarIcon"}):function({numberOfPages:e}){return r.createElement("span",{"data-testid":"pageCountToolbarIcon","aria-label":(0,h.t)("pages_panel.toolbar.icon.pageCount.aria_label")},r.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 17H18L18 18H20L21 18V17V7.6875V4V3H20H7H6V4L6 6.00004L7 6.00004V4L20 4V7.6875V17ZM17 20.0001H4V7.00012H17V10.6876V20.0001ZM4 6.00012H17H18V7.00012V10.6876V20.0001V21.0001H17H4H3V20.0001V7.00012V6.00012H4Z",fillOpacity:"0.9"}),r.createElement("text",{id:"numberText",x:"10.5",y:"14.5",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Inter",fontWeight:"500",fontSize:"9"},e)))}({numberOfPages:e})}function Ew(){let e=(0,U.md)(Eg.ET),t=(0,lG.Xr)(Eg.UT),a=(0,lG.Xr)(Eg.Cx),n=(0,lN.rE)(),i=(0,n2.am)(),o=(0,l.d4)(e=>e.mirror.appModel.pagesList),s=(0,r.useMemo)(()=>o.filter(e=>!e.isDivider).length,[o]),c=(0,lN.nn)(),d=(0,l.wA)(),u=(0,Ef.h5)({nonDividerPageCount:s,isDropdownOpen:e}),m=()=>{i("pages_panel_open_toggle",{isPagesOpen:!e},{forwardToDatadog:!0}),e?a():(t(),d(eP.b({[E_.jn]:!0})))};if(!u)return null;switch(u){case Ef.mb.ADD_PAGE:return r.createElement(Eh.P,{tooltipText:(0,h.t)("pages_panel.toolbar.add_pages_tooltip"),isActive:e,onClick:()=>{n(null),m()},addLeftMargin:!1,recordingKey:"figjamPagesToolbarItem",onboardingKey:E_.gh,dataTestId:"addPages"},r.createElement("div",{className:tj.cx.mxAuto.$},r.createElement(Eb,null)));case Ef.mb.VIEW_PAGES:return r.createElement("div",{className:"pages_sidebar_toolbar_ui2--toolbarItemContainer--az3u2"},r.createElement(g2.GG,{className:ev()("pages_sidebar_toolbar_ui2--toolbarItemButton--cNref","pages_sidebar_toolbar_ui2--withHover--zKrg8",{[EE]:e}),recordingKey:"figjamPagesToolbarItem",dataTestId:"viewPages",onClick:m,"data-tooltip-type":aV.Ib.TEXT,"data-tooltip":(0,h.t)("pages_panel.toolbar.view_pages_tooltip"),"aria-label":(0,h.t)("pages_panel.toolbar.view_pages_tooltip"),"aria-pressed":e,"data-onboarding-key":E_.gh},r.createElement("div",{className:ev()("pages_sidebar_toolbar_ui2--iconContainer--XuPru")},r.createElement("div",{className:"pages_sidebar_toolbar_ui2--icon--wevM1"},r.createElement(EC,{numberOfPages:s}))),r.createElement("div",{className:ev()("pages_sidebar_toolbar_ui2--textWrapper--HJ3UH text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",{[EE]:e})},c)));default:(0,ok.xb)(u)}}var ET=a(135298);function ES(){let e=(0,eK.aV)(),t=(0,l.d4)(e=>e.mirror.appModel.topLevelMode===i.lyf.HISTORY),a=(0,c.kc)().figjam_pages_in_figjam,n=!(0,Ec.q8)()&&(0,Eu.Uy)(),o=_.Ay.isMeetDevice;return t?r.createElement(r.Fragment,null,a&&r.createElement(Ew,null)):r.createElement(r.Fragment,null,a&&r.createElement(Ew,null),r.createElement(Ep.J,null),n&&r.createElement(Em.V,null),r.createElement(Ed.y,null),!e&&!o&&r.createElement(ET.j,null))}function EN(){let e=(0,eK.aV)(),t=(0,l.d4)(e=>e.mirror.appModel.topLevelMode===i.lyf.HISTORY),a=(0,c.kc)().figjam_pages_in_figjam,n=!(0,Ec.q8)()&&(0,Eu.Uy)(),o=_.Ay.isMeetDevice;return t?r.createElement(r.Fragment,null,a&&r.createElement(Ew,null)):r.createElement(r.Fragment,null,n&&r.createElement(Em.V,null),r.createElement(Ed.y,null),!e&&!o&&r.createElement(ET.j,null),a&&r.createElement(Ew,null))}var Ex=a(438741),Ek=a(754209),EI=a(27947),EA=a(549166),EL=a(238629),EO=a(637820);function ER({variant:e}){switch(e){case"design":return r.createElement("div",{className:tj.cx.px8.$},r.createElement("div",{className:tj.cx.h16.px4.bRadius3.$,style:eo.sx.add({border:"1px solid var(--color-bg-design)",color:"var(--color-bg-design)"}).$},r.createElement(iw.E,{fontSize:9},(0,h.tx)("fullscreen.toolbar.integ_zoom.beta"))));case"figjam":return r.createElement("div",{className:tj.cx.px8.$},r.createElement(iv.Ex,{text:(0,h.t)("fullscreen.toolbar.integ_zoom.beta"),color:iv.zE.FIGJAM,subtle:!0}))}}function EM(e){let t=!e.user&&!_.Ay.isMeetDevice;return gV.pb.isGoogleClassroomIntegration()?null:r.createElement(r.Fragment,null,(0,c.kc)().internal_only_debug_tools&&r.createElement(El.bu,null),r.createElement(El.n8,null),e.multiplayer&&e.editingFile&&r.createElement(EA.Cv,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user}),t&&r.createElement(El.tO,null),(0,gV.MP)()&&r.createElement(ER,{variant:"figjam"}))}function ED(){let e=(0,R.iZ)(),t=(0,gV.ck)(),a=(0,ny.Um)(),n=(0,l.d4)(e=>e.multiplayer),o=(0,X.q5)(),s=(0,Ek.dR)(),d=(0,Ek.Ww)(),u=(0,Ex.B4)(),m=(0,l.wA)(),p=(0,l.d4)(e=>"prototype"===e.selectedView.view),f=(0,l.d4)(e=>e.mirror.appModel.topLevelMode===i.lyf.HISTORY),h=r.useCallback(e=>{(0,EA.Lx)(e,d?.sessionID,m,p,n,s,u)},[d?.sessionID,m,p,n,s,u]);(0,r.useEffect)(()=>{},[n,e]);let g=p?null:o,E=(0,eV.DG)(g?.key||"").enabled,y=(0,c.kc)().figjam_ui2_overhaul&&!f,v=!e&&!_.Ay.isMeetDevice,b=e?r.createElement(r.Fragment,null,d&&r.createElement(EA.v7,{dropdownShown:a,multiplayer:n,currentUser:d,onUserClick:h})):r.createElement(EA.cU,{dropdownShown:a,multiplayer:n,currentUser:d,onUserClick:h,editingFile:g});return gV.pb.isGoogleClassroomIntegration()?null:r.createElement(r.Fragment,null,(0,c.kc)().internal_only_debug_tools&&r.createElement(El.bu,null),r.createElement(El.n8,null),n&&o&&r.createElement(r.Fragment,null,!t&&g&&e&&r.createElement(EO.k,{fileKey:g.key}),r.createElement("div",{className:tj.cx.flex.cursorDefault.selectNone.itemsCenter.$},r.createElement(EI.sK,null),b,y&&r.createElement(Ep.J,null),g&&r.createElement(EL.w,{user:e,editingFile:g,isFileInWorkshop:E}))),v&&r.createElement(El.tO,null),(0,gV.MP)()&&r.createElement(ER,{variant:"figjam"}))}var EP=a(586459),EF=a(195847),EB=a(1851),EU=a(151166),EH=a(737499),EG=a(367253),EV=a(632923),Ez=a(135876),EK=a(881388),EW=a(203845),Ej=a(309325),EZ=a(384890);let EY=(0,lq.Ju)(function(e){let t=(0,l.wA)(),[a,n]=r.useState(""),[i,o]=r.useState(!1),s=(0,X.tS)(),c=(0,l.d4)(e=>s?e.loadingState[EB.f.loadingKeyForPayload({fileKey:s,emailAddress:a})]===EP.r.LOADING:null);return r.createElement(eT.fu,{name:"google_device_try_file_claim_modal"},r.createElement(lJ.aF,{disableKeyboardEventPropagation:!0,className:EZ.tQ,onHide:()=>(0,$.sx)("google_meet_claim_email_modal_closed",{fileKey:s})},r.createElement("div",{className:EZ.FS},r.createElement("h1",{className:EZ.DX},(0,h.tx)("google_device_try_file_modal.enter_email"))),r.createElement(EV.k0,{multiple:1}),r.createElement("div",{className:EZ.FS},r.createElement("div",{className:EZ.Kc},(0,h.tx)("google_device_try_file_modal.enter_email.description"))),r.createElement(EV.k0,{multiple:3}),r.createElement(ei.il,{autoFocus:!0,type:"email",className:ev()(EZ._2,i&&EZ.cC),placeholder:(0,h.t)("google_device_try_file_modal.enter_email.placeholder_email"),onChange:e=>{n(e.target.value)},value:a}),i&&r.createElement("div",{className:EZ.mV},(0,h.tx)("google_device_try_file_modal.enter_email.error_message")),r.createElement(EV.k0,{multiple:2}),r.createElement(ei.nD,{type:"submit",fullWidth:!0,onClick:n=>{if(n.preventDefault(),n.stopPropagation(),null==a||!1===(0,EG.xf)(a)||!s){o(!0);return}if(!s){t(EK.s.error((0,h.t)("google_device_try_file_modal.error_saving_board")));return}e.onSubmitEmail({fileKey:s,emailAddress:a})}},r.createElement(Ez.x,{isLoading:!!c,className:tj.cx.flex.justifyCenter.$},()=>(0,h.tx)("google_device_try_file_modal.enter_email.button"))),r.createElement(EV.k0,{multiple:3}),r.createElement("div",{className:EZ.NJ},(0,h.tx)("google_device_try_file_modal.disclaimer",{tos:r.createElement(Ej.V,{url:_.Ay.isMeetDevice?EW.A:EW.Uw,title:(0,h.t)("google_device_try_file_modal.onboarding_disclaimer_tos")}),privacy_policy:r.createElement(Ej.V,{url:_.Ay.isMeetDevice?EW.bO:EW.JD,title:(0,h.t)("google_device_try_file_modal.onboarding_disclaimer_privacy_policy")})})),r.createElement(EV.k0,{multiple:1})))},"GOOGLE_DEVICE_TRY_FILE_CLAIM_MODAL"),EX=(0,lq.Ju)(function(e){let{email:t,onChangeEmail:a}=e,n=(0,l.wA)(),i=(0,X.tS)();return r.createElement(eT.fu,{name:"google_device_try_file_received_email_modal"},r.createElement(lJ.aF,{disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,className:EZ.Kd},r.createElement("img",{src:"https://static.figma.com/uploads/b0feff5e4abc5e66f99064463f2ad5d0a7f6c072.png",alt:"",className:EZ.ZQ}),r.createElement(EV.k0,{multiple:2}),r.createElement("div",{className:EZ.FS},r.createElement("h1",{className:EZ.DX},(0,h.tx)("google_device_try_file_modal.got_mail"))),r.createElement(EV.k0,{multiple:1}),r.createElement("div",{className:EZ.FS},r.createElement("div",{className:EZ.Kc},(0,h.tx)("google_device_try_file_modal.got_mail.description",{email:r.createElement("p",{className:EZ.Fx},t)}))),r.createElement(EV.k0,{multiple:3}),r.createElement(ei.nD,{type:"close",fullWidth:!0,onClick:e=>{e.preventDefault(),e.stopPropagation(),n(eM.Ce())}},(0,h.tx)("google_device_try_file_modal.got_mail.close")),r.createElement(EV.k0,{multiple:3}),r.createElement("div",{className:EZ.NJ},(0,h.tx)("google_device_try_file_modal.got_mail.email_not_received",{send_again_link:r.createElement(ei.Us,{className:EZ.jH,onClick:a=>{if(a.preventDefault(),a.stopPropagation(),!i){n(EK.s.error((0,h.t)("google_device_try_file_modal.error_saving_board")));return}e.onResendEmail({fileKey:i,emailAddress:t,isResentEmail:!0})},target:"_blank",trusted:!0},(0,h.tx)("google_device_try_file_modal.got_mail.email_not_received.send_again"))})),r.createElement(EV.k0,{multiple:2}),r.createElement("div",{className:EZ.NJ},(0,h.tx)("google_device_try_file_modal.got_mail.wrong_address",{use_different_email_link:r.createElement(ei.Us,{className:EZ.jH,onClick:e=>{e.preventDefault(),e.stopPropagation(),a()},target:"_blank",trusted:!0},(0,h.tx)("google_device_try_file_modal.got_mail.wrong_address.use_different_email"))}))))},"GOOGLE_DEVICE_TRY_FILE_RECEIVED_EMAIL_MODAL");var Eq=a(63666),EJ=a(589462);function EQ(e){let t=(0,ee.A)(),a=Math.ceil((0,ee.A)(e).diff(t,"minutes",!0));if(a>30){let e=Math.ceil(a/60);return(0,h.t)("figjam_try.timer_hours_left",{hoursLeft:e})}if(a>=10){let e=10*Math.ceil(a/10);return(0,h.t)("figjam_try.timer_minutes_left",{minutesLeft:e})}return(0,h.t)("figjam_try.timer_less_than_ten_minutes_left")}function E$({until:e,ctaText:t,onCtaClick:a,isFigjam:n,tooltipText:l,showAndHideTooltipImmediately:i,isLoading:o,onExpire:s,onboardingKey:c}){let[d,u]=(0,r.useState)(EQ(e));return(0,r.useEffect)(()=>{let t=setInterval(()=>{u(EQ(e)),(0,ee.A)().isAfter((0,ee.A)(e))&&s&&s()},6e4);return()=>{clearInterval(t)}},[e,s]),r.createElement("div",{className:n?"countdown--figjamContainer--hlbVE countdown--container--WCLxZ":"countdown--designContainer--PVZIP countdown--container--WCLxZ","data-onboarding-key":c},r.createElement("div",{className:"countdown--timerContainer--L3IFQ","data-tooltip-type":aV.Ib.TEXT,"data-tooltip":l,"data-tooltip-show-immediately":i,"data-tooltip-hide-immediately":i},r.createElement(aS.B,{className:"countdown--icon--PREBw",svg:EJ.A}),r.createElement("span",{className:"countdown--text--kN4nf ellipsis--ellipsis--Tjyfa","data-testid":"countdown-time"},d)),r.createElement(Ez.x,{isLoading:!!o,className:"countdown--loading--DaaWQ"},()=>r.createElement(eT.$z,{className:"countdown--cta--JhE8T ellipsis--ellipsis--Tjyfa",onClick:()=>a(),trackingProperties:{buttonContext:t}},t)))}function E0(e){let t=(0,ee.A)(),a=Math.ceil((0,ee.A)(e).diff(t,"minutes",!0));if(a>30){let e=Math.ceil(a/60);return(0,h.t)("figjam_try.meet_hardware.timer_hours_left",{hoursLeft:e})}if(a>=10){let e=10*Math.ceil(a/10);return(0,h.t)("figjam_try.meet_hardware.timer_minutes_left",{minutesLeft:e})}return(0,h.t)("figjam_try.meet_hardware.timer_less_than_ten_minutes_left")}function E1({until:e,ctaText:t,onCtaClick:a,tooltipText:n,showAndHideTooltipImmediately:l,isLoading:i,onExpire:o,onboardingKey:s}){let[c,d]=(0,r.useState)(E0(e));return(0,r.useEffect)(()=>{let t=setInterval(()=>{d(E0(e)),(0,ee.A)().isAfter((0,ee.A)(e))&&o&&o()},6e4);return()=>{clearInterval(t)}},[e,o]),r.createElement("div",{className:"countdown_meet_hardware--figjamContainer--libjf countdown_meet_hardware--container--gM5Hl","data-onboarding-key":s},r.createElement("div",{className:"countdown_meet_hardware--timerContainer--JsqME","data-tooltip-type":aV.Ib.TEXT,"data-tooltip":n,"data-tooltip-show-immediately":l,"data-tooltip-hide-immediately":l},r.createElement("img",{src:"https://static.figma.com/uploads/d2458a35e4543003186712a5c44448bc0949f82b",alt:"Wave hand icon",className:"countdown_meet_hardware--waveIcon--Lc-LT"}),r.createElement("span",{className:"countdown_meet_hardware--countdownText--Igbr2 ellipsis--ellipsis--Tjyfa","data-testid":"countdown-time"},c),r.createElement("span",{className:"countdown_meet_hardware--text--Ahn7z ellipsis--ellipsis--Tjyfa","data-testid":"countdown-time-text"},(0,h.t)("figjam_try.meet_hardware.board_deletion_disclaimer"))),r.createElement(Ez.x,{isLoading:!!i,className:"countdown_meet_hardware--loading--s6qrq"},()=>r.createElement(eT.$z,{className:"countdown_meet_hardware--cta--H8MOo ellipsis--ellipsis--Tjyfa",onClick:()=>a(),trackingProperties:{buttonContext:t}},t)))}let E2="figjam-try-countdown",E5="figjam-try-timed-tooltip-shown",E3=(0,lq.Ju)(function(){let e=(0,l.wA)(),t=(0,EU.B)(),a=()=>{e(eM.ES({type:E3.type}))};return r.createElement(eT.fu,{name:"FigJam Try - Timed Tooltip"},r.createElement(Eq.OA,{targetKey:E2,shouldCenterArrow:aY.EL.FALLBACK,title:(0,h.t)("figjam_try.timed_tooltip_headline"),topPadding:8,dismissModal:a,width:300-2*Eq.uv,ctaText:(0,h.t)("figjam_try.timed_tooltip_cta"),onClickPrimaryCta:()=>{a(),t({origin:"figjam_try_timed_tooltip",formState:EF.qB.SIGN_UP})},buttonContext:"Create account"},r.createElement("p",null,(0,h.tx)("figjam_try.timed_tooltip_body"))))},"FigjamTryTimedTooltip");function E4(){let e=(0,eV.nF)(),t=(0,l.wA)(),a=(0,l.d4)(e=>!e.user),n=(0,l.d4)(e=>e.openFile?.key),i=_.Ay.isMeetDevice,o=(0,l.d4)(e=>!!n&&e.loadingState[eO.Q.loadingKeyForPayload({file_key:n})]===EP.r.LOADING),s=(0,EU.B)(),c=(0,l.d4)(e=>!!e.modalShown),d=(0,r.useRef)((0,ee.A)().add(5,"minutes")),u=(0,EH.Kx)(),[m,p]=(0,r.useState)(!!(0,ft.DN)().get(E5));(0,r.useEffect)(()=>{if(!m&&a&&!c&&!u?.shouldOptimizeForIpadApp&&!i){let e=setInterval(()=>{(0,ee.A)().isSameOrAfter(d.current)&&(p(!0),(0,ft.DN)().set(E5,1),t(eM.to({type:E3})))},6e4);return()=>{clearInterval(e)}}},[m,a,c,t,u?.shouldOptimizeForIpadApp,i]);let f=(0,EH.pt)();if((0,r.useEffect)(()=>{f&&(f._claim_fig_jam_try_file=e=>{t(eO.Q({file_key:e}))})},[f,t]),(0,r.useEffect)(()=>{u?.updateFigJamTryExpiration&&e.enabled&&e.until&&u.updateFigJamTryExpiration(e.until)},[u,e]),!e.enabled||!n)return null;let g=()=>{t(eM.to({type:EY,data:{onSubmitEmail:({fileKey:e,emailAddress:a})=>{t(EB.f({fileKey:e,emailAddress:a,onSuccess:y}))}}}))},E=({fileKey:e,emailAddress:a,isResentEmail:n})=>{t(EB.f({fileKey:e,emailAddress:a,isResentEmail:n}))},y=e=>{t(eM.to({type:EX,data:{email:e,onChangeEmail:g,onResendEmail:E}}))};return r.createElement(eT.fu,{name:"FigJam Try Countdown Timer"},i?r.createElement(E1,{until:e.until,ctaText:(0,h.t)("figjam_try.save_board"),onCtaClick:()=>{t(eM.to({type:EY,data:{onSubmitEmail:({fileKey:e,emailAddress:a})=>{t(EB.f({fileKey:e,emailAddress:a,onSuccess:y}))}}}))},tooltipText:a?(0,h.t)("figjam_try.timer_tooltip_anonymous"):(0,h.t)("figjam_try.timer_tooltip_logged_in"),showAndHideTooltipImmediately:!0,isLoading:o,onboardingKey:E2}):r.createElement(E$,{until:e.until,ctaText:(0,h.t)("figjam_try.save_board"),onCtaClick:()=>{a?s({origin:"figjam_try_countdown_timer",formState:EF.qB.SIGN_UP}):t(eO.Q({file_key:n}))},isFigjam:!0,tooltipText:a?(0,h.t)("figjam_try.timer_tooltip_anonymous"):(0,h.t)("figjam_try.timer_tooltip_logged_in"),showAndHideTooltipImmediately:!0,isLoading:o,onboardingKey:E2}))}var E6=a(377020),E7=a(371026),E8=a(325621),E9=a(157147),ye=a(663767),yt=a(57392),ya=a(715762),yn=a(142232),yr=a(136297),yl=a(447798),yi=a(951864),yo=a(337987);function ys(){let e=(0,l.d4)(_P.ao),t=(0,U.md)(yt.Lc),{isLibraryModalShown:a,onToggleLibraryModal:n}=(0,ye.u)({entrypoint:ya.r6.TOOLBAR_BUTTON,modalType:"editor",openToUpdatesTab:t}),i=t?(0,h.t)("fullscreen.libraries_button.tooltip.updates_to_pull"):e?(0,h.t)("fullscreen.libraries_button.tooltip.updates_to_push"):(0,h.t)("fullscreen.libraries_button.tooltip.no_updates"),o=t||e;return(0,yn.Pf)({showBadge:o,hasChangesToPull:t}),r.createElement("span",{className:ev()(yl.WT,(0,yr.M)(!0,a))},r.createElement(g8.t,{svg:yi.A,fallbackSvg:yo.A,recordingKey:"actionLibraryButton",className:ev()(yl.gb),onMouseDown:n,"data-tooltip-type":aV.Ib.TEXT,"data-tooltip":i,"data-tooltip-submenu-open":a}),o&&r.createElement("span",{className:ev()(yr.I.updatesBadge)}))}var yc=a(901765),yd=a(438469),yu=a(720488),ym=a(232117),yp=a(289298);function y_(){let[e,t]=r.useState(!1),a=r.useRef(null),n=r.useRef(null),[i,o]=r.useState(null),s=(0,l.d4)(e=>e.mirror.appModel.pagesList),c=(0,l.d4)(e=>e.mirror.appModel.currentPage),d=s.find(e=>e.nodeId===c),u=(0,ne.RU)({subscribeToUpdates_expensive:!1})-(0,t4.hG)(at.YI7)-(i?.top??0);if((0,yc.L)(a,()=>{e&&t(!1)}),!s)return null;async function m(e){await al.q.instance.setCurrentPageFromNodeAsync(e),t(!1)}return r.createElement("div",{className:"toolbar_page_picker--pagePicker--GVgi5",ref:a},r.createElement("button",{className:"toolbar_page_picker--pagePickerButton--5Hmqt",ref:n,onClick:function(){if(e)t(!1);else{let e=n.current?.getBoundingClientRect();e&&(o(e),t(!0))}},"data-tooltip":(0,h.t)("dev_handoff.pages_list"),"data-tooltip-type":aV.Ib.TEXT},r.createElement(yd.v,{pageGuid:c,margin:"marginRight",fallback:r.createElement(aS.B,{svg:ym.A,className:"toolbar_page_picker--pagePickerIcon--BvSvj"})}),r.createElement("span",{className:"toolbar_page_picker--pagePickerButtonContent--Sr4lK"},d?.name||""),r.createElement(aS.B,{svg:yp.A,className:"toolbar_page_picker--pagePickerButtonChevron--MiHhI"})),e&&i&&r.createElement(yu.Cf,{targetRect:i,maxHeight:u,propagateCloseClick:!0},s.map(e=>r.createElement(oB.MM,{key:e.nodeId,checked:c===e.nodeId,onClick:()=>m(e.nodeId)},r.createElement(yd.v,{pageGuid:e.nodeId,margin:"marginRight"}),r.createElement("span",{className:"toolbar_page_picker--dropdownOptionContent--7gcmF"},e.name)))))}let yf="toolbar_vscode_frame_stepper--stepperButton--eRoSc",yh="toolbar_vscode_frame_stepper--stepperButtonDisabled--XSjQQ";var yg=a(408938);function yE(){let e=(0,F.J2)(i.Ez5.devHandoffState().focusNodeId),t=(0,F.J2)(i.Ez5.devHandoffState().nodeIds),a=(0,eK.eY)(),n=e?t.indexOf(e):-1,l=a?.get(e);if(!l||-1===n)return null;let o=0===n,s=n===t.length-1;return r.createElement("div",{className:"toolbar_vscode_frame_stepper--stepperContainer--ux6kR"},r.createElement(iN.K0,{svg:Ee.A,"data-tooltip-type":aV.Ib.TEXT,"data-tooltip":(0,h.t)("dev_handoff.vscode.toolbar.previous_frame"),onClick:()=>i.glU.triggerActionInUserEditScope("dev-handoff-focus-previous",{}),className:o?yh:yf,disabled:o}),r.createElement("span",{className:"toolbar_vscode_frame_stepper--stepperContent--hVi69"},l?.name||""),r.createElement(iN.K0,{svg:yg.A,"data-tooltip-type":aV.Ib.TEXT,"data-tooltip":(0,h.t)("dev_handoff.vscode.toolbar.next_frame"),onClick:()=>i.glU.triggerActionInUserEditScope("dev-handoff-focus-next",{}),className:s?yh:yf,disabled:s}))}var yy=a(252828);let yv=(0,gG.ck)(),yb=r.memo(function({item:e}){let t=(0,l.d4)(t=>(0,iu.A)(e.label));return r.createElement("div",{key:`label-${e.label}`,className:yl.Pf},t)}),yC=r.memo(function({item:e,recordingKey:t}){let a=(0,l.d4)(t=>(0,Y.Yh)(t.mirror.appModel,e.action)),n=(0,l.d4)(t=>(0,iu.A)(e.action));return r.createElement(El.QW,{key:`text-button-${e.action}`,action:e.action,isEnabled:a,text:n,recordingKey:t})}),yw=r.memo(function({item:e,disabled:t,recordingKey:a}){let n=e.children.filter(e=>!(0,E9.Zk)(e)||!e.featureFlags||e.featureFlags.every(e=>(0,c.kc)()[e])),i=(0,s.R)(e=>n.filter(t=>(0,E9.Zk)(t)&&(0,Y.Yh)(e.mirror.appModel,t.action))),o=(0,l.d4)(e=>i.length>0&&yT(i[0],e));if(0===i.length)return null;if(e.flyoutHideOptionsIfSingleEnabledAction&&1===i.length){var d;return r.createElement(El.rA,{key:`action-button-${i[0].action}`,item:(d=i[0],{type:E9.ZU.ACTION,...d}),isEnabled:!0,isActive:o,recordingKey:a})}return 1===i.length&&"flatten-selection"===i[0].action?null:r.createElement(gZ.xn,{key:`flyout-${e.name}`,item:{...e,children:n},disabled:t,recordingKey:a,styleActiveItem:!e.flyoutDoNotStyleActiveItem})});function yT(e,t){return"isActive"in e&&e.isActive?e.isActive(t):"propertyValue"in e&&void 0!==e.propertyValue&&t.mirror.appModel[e.property]===e.propertyValue}let yS=r.memo(function({item:e,recordingKey:t}){let{featureFlags:a=[]}=e,n=(0,l.d4)(t=>yT(e,t)),i=(0,l.d4)(t=>(0,Y.Yh)(t.mirror.appModel,e.action)&&a.every(e=>(0,c.kc)()[e])&&(!e.isAvailable||e.isAvailable(t)));return r.createElement(El.rA,{key:`action-button-${e.action}`,item:e,isEnabled:i,isActive:n,recordingKey:t})}),yN=r.memo(function({item:e,numUnreadComments:t,recordingKey:a,canEdit:n}){let i=(0,l.d4)(t=>(0,Y.Yh)(t.mirror.appModel,e.action)),o=(0,ny.Um)(),s=(0,l.d4)(t=>e.tool!==O.NLJ.NONE&&e.tool===t.mirror.appModel.currentTool&&!(0,Y.TY)(o)),d=(0,l.d4)(e=>e.mirror.appModel.topLevelMode);return e.featureFlags&&!e.featureFlags.every(e=>(0,c.kc)()[e])?null:r.createElement(El.T0,{key:`tool-button-${e.tool}`,dropdownShown:o,isEnabled:i,isActive:s,item:e,numUnreadComments:t,recordingKey:a,topLevelMode:d,isWide:e.isWideForEditors&&n})}),yx=r.memo(function({item:e,numUnreadComments:t,recordingKey:a}){let n=(0,l.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),i=(0,l.d4)(e=>e.mirror.appModel.currentTool),o=(0,l.d4)(e=>e.openFile),s=(0,l.d4)(e=>e.progressBarState.mode),c=(0,gH.T)(s),d=(0,l.d4)(e=>c?!o?.canEdit:e.mirror.appModel.isReadOnly),u=(0,l.d4)(e=>e.mirror.appModel.isSceneReadOnly),m=(0,l.d4)(e=>!!e.user);if(!e||u&&!e.nonEditorsAllowed||e.onlyShowInReadOnly&&!(d&&s!==O.Oin.HIDE_UI)||e.hideInExtension&&lS.z4.getIsExtension()||!o&&e.newFileDisabled||!m&&!e.loggedOutAllowed||e.editModes&&-1===e.editModes.indexOf(n)||e.showForTools&&-1===e.showForTools.indexOf(i))return null;let p=e.dontChainRecordingKeys?e.recordingKey:nf.Pt(a,e.recordingKey);switch(e.type){case E9.ZU.LABEL:return r.createElement(yb,{item:e});case E9.ZU.TEXT_BUTTON:return r.createElement(yC,{item:e,recordingKey:p});case E9.ZU.FLYOUT:return r.createElement(yw,{item:e,disabled:c,recordingKey:p});case E9.ZU.ACTION:return r.createElement(yS,{item:e,recordingKey:p});case E9.ZU.TOOL:return r.createElement(yN,{item:e,numUnreadComments:t,recordingKey:p,canEdit:o?.canEdit||!1});default:(0,ok.xb)(e)}}),yk=()=>{let e=(0,l.wA)(),t=(0,eK.p8)("activeCanvasEditModeType"),a=(0,l.d4)(e=>e.openFile?.canEdit);return()=>{if((0,is.Ah)(t)){e((0,gK.Eg)());return}if(!a){e(gF.Fm({id:gK.V_})),T.Y5.triggerAction("enter-preview-mode");return}e(gF.Fm({id:gK.V_})),T.Y5.triggerAction("enter-layout-mode")}};function yI(e){let{recordingKey:t}=e,a=(0,l.d4)(e=>e.userStateLoaded),n=(0,eK.p8)("topLevelMode"),i=(0,l.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),o=(0,l.d4)(e=>e.selectedView),s=(0,l.d4)(e=>e.openFile?.canEdit),d=yk();return a&&(!(0,c.kc)().version_diffing||i!==O.m1T.COMPARE_CHANGES)&&((0,is.Ah)(i)||n===O.lyf.BRANCHING)&&(o.editorType===Z.nT.Design||o.editorType===Z.nT.DevHandoff)?r.createElement("div",{className:yl.dM},r.createElement(ei.$$,{key:s?"back-to-editing-btn":"back-to-viewing-btn",className:yl.uX,recordingKey:nf.Pt(t,"backToEditing"),onClick:d},(0,h.tx)("fullscreen.toolbar.done"))):null}function yA(e){let t=r.useRef(null),a=r.useCallback(()=>{requestAnimationFrame(()=>{let e=t.current;e&&e.clientWidth!==innerWidth&&(e.style.width="99.999%",requestAnimationFrame(()=>{e.style.width=""}))})},[]),{multiplayer:n,dispatch:l,selectedView:o}=e,s=r.useCallback(e=>{i.h3O.observeUser(e),n&&n.observingSessionID!==e&&n.sessionID!==e&&l(eP.b({aware_of_observation_mode:!0}))},[n,l]);return(r.useEffect(()=>{addEventListener("resize",a);let e=window.FigmaMobile;e&&(e._open_timer=()=>{U.zl.set(g0.Qs,{type:"OPEN"}),(0,$.sx)(g1.Fn.OPEN,{source:g1.OO.IPAD_MENU})},e._close_timer=()=>{U.zl.set(g0.Qs,{type:"CLOSE"})});let t=window.FigmaMobile;return t&&(t._set_allow_draw_with_touch=e=>{i.glU.setAllowDrawWithTouch(e)},t._unlock_all_objects=()=>{T.Y5.triggerActionInUserEditScope("unlock-all")},t._zoom_reset=()=>{T.Y5.triggerActionInUserEditScope("zoom-reset")},t._zoom_to_fit=()=>{T.Y5.triggerActionInUserEditScope("zoom-to-fit")},t._present=()=>{i.h3O.startPresenting()},t._observe_user=e=>{s(e)},t._find_in_file=()=>{T.Y5.triggerActionInUserEditScope("canvas-search")},t._copy=()=>{T.Y5.triggerActionInUserEditScope("copy")},t._cut=()=>{T.Y5.triggerActionInUserEditScope("cut")},t._paste=()=>{T.Y5.triggerActionInUserEditScope("paste")},t._add_media=e=>{let t=e.map(e=>{let{encoded_data:t,mime_type:a}=e;return new Blob([(0,h7.Vs)(t)],{type:a})}),a=T.Y5.fileArrayToString(t);i.glU.handleOpenFromJsonString(a,gJ.wu.MOBILE_NATIVE_NAVBAR)},t._get_zoom_scale=()=>i.glU.getViewportZoomScale(),t._get_prototype_status=()=>{let e=i.X3B.currentPagePrototypeStatus(),t="";if(e!==i.bOM.VALID)switch(e){case i.bOM.NO_FRAMES:t=o.editorType===Z.nT.Slides?(0,h.t)("proto.status_messages.a_presentation_needs_to_have_at_least_one_slide"):(0,h.t)("proto.status_messages.a_prototype_needs_to_have_at_least_one_frame");break;case i.bOM.INVALID_START_NODE:t=(0,h.t)("proto.status_messages.a_prototype_with_connections_needs_a_valid_top_level_frame_as_the_origin");break;default:(0,ok.xb)(e)}return{status:e,message:t}}),()=>{removeEventListener("resize",a)}},[s,o.editorType,a]),(0,im.C_)(t),"fullscreen"===e.selectedView.view&&e.selectedView.editorType===Z.nT.Whiteboard)?r.createElement(yD,{dropdownShown:e.dropdownShown,isInitialized:e.isInitialized,multiplayer:e.multiplayer,numUnreadComments:e.numUnreadComments,openFile:e.openFile,progressBarMode:e.progressBarMode,recordingKey:e.recordingKey,showUi:e.showUi,user:e.user,ref:t}):r.createElement(yP,{devHandoffFocusMode:e.devHandoffFocusMode,dropdownShown:e.dropdownShown,isInitialized:e.isInitialized,multiplayer:e.multiplayer,numUnreadComments:e.numUnreadComments,openFile:e.openFile,progressBarMode:e.progressBarMode,recordingKey:e.recordingKey,selectedView:e.selectedView,showMissingFontsButton:e.showMissingFontsButton,showUi:e.showUi,user:e.user,ref:t})}function yL(e){return{openFile:e.openFile,dropdownShown:e.dropdownShown,modalShown:e.modalShown,loadingState:e.loadingState,user:e.user,userFlags:e.userFlags,multiplayer:e.multiplayer,userStateLoaded:e.userStateLoaded,topLevelMode:e.mirror.appModel.topLevelMode,isInitialized:e.mirror.appModel.isInitialized,progressBarMode:e.progressBarState.mode,activeVoiceCallExists:!!e.openFile&&e.openFile.key in e.voice.activeCall,showUi:e.mirror.appModel.showUi,isFreeUser:e.isFreeUser}}function yO(e){let t=(0,s.R)(yL),a=(0,l.d4)(e=>e.openFile),n=(0,l.d4)(e=>e.orgById),o=(0,l.d4)(e=>e.teams),c=(0,gW.YL)({openFile:a,teams:o,orgById:n}),d=(0,eV.$D)(),u=(0,F.J2)(i.Ez5.uiState().showMissingFontsButton),m=(0,F.J2)(i.Ez5.devHandoffState().focusMode),p=(0,eK.p8)("showUi"),_=(0,l.wA)();return(0,gY.U)(),r.createElement(yA,{...(0,gM.d)(t),...e,dispatch:_,voiceEligibility:c,isWorkshopFile:d,showMissingFontsButton:u,devHandoffFocusMode:m,showUi:p})}function yR({numUnreadComments:e,recordingKey:t}){let a=(0,eG.E3)(),n=(0,gQ.oV)(),l=(0,gQ.rD)(),i=(0,e_._I)();if((0,E.l7)())return null;let o=(()=>{switch(a){case Z.nT.Whiteboard:return E9.FW.filter(e=>a!==Z.nT.Whiteboard||!n&&!l||e.type!==E9.ZU.TOOL||e.tool!==O.NLJ.SELECT&&e.tool!==O.NLJ.HAND);case Z.nT.DevHandoff:return E9._8.filter(e=>e.type!==E9.ZU.TOOL||e.tool!==O.NLJ.ANNOTATE&&e.tool!==O.NLJ.MEASURE||i);default:return E9.XU}})();return r.createElement(r.Fragment,null,o.map((a,n)=>r.createElement(yx,{key:n,item:a,numUnreadComments:e,recordingKey:t})))}function yM({renderDesignMiddleItems:e,renderFileName:t,renderFigjamTryCountdown:a}){let n=(0,F.J2)(i.Ez5.editorState().selectionEmpty),o=(0,gP.s)(!1),{topLevelMode:c,editMode:d}=(0,s.R)(e=>({topLevelMode:e.mirror.appModel.topLevelMode,editMode:e.mirror.appModel.activeCanvasEditModeType})),u=(0,l.d4)(e=>{let t=e.modalShown;return t?.type===gX.e}),m=(0,X.q5)(),p=(0,eK.aV)(),_=(0,gG.ck)(),f=d===O.m1T.COMMENTS||d===O.m1T.PREVIEW||d===O.m1T.BRANCHING||c===O.lyf.HISTORY||c===O.lyf.PREVIEW||c===O.lyf.DEV_HANDOFF||c===O.lyf.BRANCHING,h=(0,eG.ow)(),g=(0,E.l7)(),y=!!m?.isTryFile&&!u&&!p&&_,v=!u&&(h||n||f||p)&&!o,b=p||h?void 0:r.createElement(E8.m,null);return r.createElement("div",{key:"center-group","data-onboarding-key":gq.lm,className:`${yl.GC} ${yl.V3}`},b,t(v&&!y),a(y),e(!v&&!h&&!y&&!g))}let yD=r.forwardRef(function(e,t){var a,n;let{loadingClassName:l,hideToolsClassName:i}=yF(e.progressBarMode,e.openFile,e.isInitialized),o=(0,gB.NC)(e.user?.id??null),s=yB(e.recordingKey),d=(a=e.numUnreadComments,n=e.recordingKey,r.useMemo(()=>new gz.H4(()=>{let e=[];return E9.D4.forEach((t,l)=>{let i=r.createElement(yx,{key:l,item:t,numUnreadComments:a,recordingKey:n});i&&e.push(i)}),e}),[a,n]));return r.createElement(eT.fu,{name:gj.e0.EDITOR_TOOLBAR,trackingTargets:gU.K.RCS},r.createElement("div",{onFocus:oU.F2.focusCustomCanvasFocusElement,tabIndex:0}),r.createElement(gD.V,null,r.createElement("div",{className:ev()(yl.KE,w.Dm,l,yl.Jg,{[yl.R]:!e.showUi}),ref:t,role:"region","aria-label":(0,h.t)("fullscreen.accessibility_dom.primary_toolbar_label")},r.createElement("div",{key:"left-group",className:`${yl.GC} ${yl.l3} ${i}`},o&&r.createElement(g7,null),r.createElement(El.xG,{hideToolsClassName:i,recordingKey:e.recordingKey}),r.createElement(yR,{numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey}),!et.eD&&!o&&r.createElement(g$.Z,null),(0,c.kc)().figjam_ui2_overhaul?r.createElement(EN,null):r.createElement(ES,null),r.createElement(yI,{recordingKey:e.recordingKey})),r.createElement(yM,{renderFileName:e=>s.render({isVisible:e,className:yl.Xs,displayAs:"block"}),renderFigjamTryCountdown:e=>e&&r.createElement(E4,null),renderDesignMiddleItems:e=>d.render({isVisible:e,displayAs:"block"})}),r.createElement("div",{key:"right-group",className:`${yl.GC} ${yl.gt} ${i}`},(0,c.kc)().figjam_ui2_overhaul?r.createElement(ED,null):r.createElement(EM,{editingFile:e.openFile,dropdownShown:e.dropdownShown,user:e.user,multiplayer:e.multiplayer})))))}),yP=r.forwardRef(function(e,t){let a=(0,q.$A)(e.selectedView),n=(0,E.l7)(),l=a&&lS.z4.getIsExtension(),i=!yv&&!e.selectedView.isRecoveryMode&&!n,{devHandoffFocusMode:o,openFile:s,user:c}=e,{loadingClassName:d,hideToolsClassName:u}=yF(e.progressBarMode,e.openFile,e.isInitialized),m=(s?.canEdit??!1)&&!!c,p=yB(e.recordingKey),_=r.useMemo(()=>new gz.H4(()=>{let t=[];return E9.D4.forEach((a,n)=>{let l=r.createElement(yx,{key:n,item:a,numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey});l&&t.push(l)}),t}),[e.numUnreadComments,e.recordingKey]);return r.createElement(eT.fu,{name:gj.e0.EDITOR_TOOLBAR,trackingTargets:gU.K.RCS},r.createElement("div",{onFocus:oU.F2.focusCustomCanvasFocusElement,tabIndex:0}),r.createElement(gD.V,null,r.createElement("div",{className:ev()(yl.KE,w.Dm,d,{[yl.R]:!e.showUi}),ref:t,role:"region","aria-label":(0,h.t)("fullscreen.accessibility_dom.primary_toolbar_label")},r.createElement("div",{key:"left-group",className:`${yl.GC} ${yl.l3} ${u}`},!l&&r.createElement(El.xG,{hideToolsClassName:u,recordingKey:e.recordingKey}),l&&o?r.createElement(Et,null):r.createElement(r.Fragment,null,r.createElement(yR,{numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey}),r.createElement(yI,{recordingKey:e.recordingKey}))),l?o?r.createElement(yE,null):r.createElement(y_,null):r.createElement(yM,{renderFileName:e=>e&&E9.mb.isActive?.({})?r.createElement(yx,{item:E9.mb,numUnreadComments:0}):p.render({isVisible:e,className:yl.Xs,displayAs:"block"}),renderFigjamTryCountdown:e=>e&&r.createElement(E4,null),renderDesignMiddleItems:e=>_.render({isVisible:e,displayAs:"block"})}),r.createElement("div",{key:"right-group",className:`${yl.GC} ${yl.gt} ${u}`},l?r.createElement(Es,null):n&&e.multiplayer&&e.openFile?r.createElement("div",{className:yl.XA},r.createElement(EA.Cv,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user})):r.createElement(r.Fragment,null,r.createElement(El.n8,null),e.multiplayer&&e.openFile&&r.createElement(EA.Cv,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user}),!e.user&&r.createElement(El.tO,null),i&&r.createElement(E7.Z,{recordingKey:e.recordingKey,extraPadding:m}),m&&r.createElement(ys,null),!yv&&r.createElement(yx,{item:E9.Fz,recordingKey:e.recordingKey,numUnreadComments:0}),e.showMissingFontsButton&&r.createElement(El.w8,{recordingKey:e.recordingKey}),r.createElement(yy.HT,{recordingKey:nf.Pt(e,"zoomMenu")}),(0,gV.MP)()&&r.createElement(ER,{variant:"design"}))))))});function yF(e,t,a){let n=(0,gH.T)(e);return{loadingClassName:n?yl.Lq:"",hideToolsClassName:!n||t?.canEdit&&a?"":yl.yM}}function yB(e){return r.useMemo(()=>new gz.H4(()=>r.createElement(E6.fH,{recordingKey:nf.Pt(e,"filenameView")})),[e])}function yU(e){return(0,t6.GS)()?null:r.createElement(yO,{...e})}var yH=a(127775),yG=a(991167),yV=a(555024),yz=a(140871),yK=a(522322),yW=a(46843),yj=a(425542);function yZ(e){return{selectedView:e.selectedView,user:e.user,currentUserOrgId:e.currentUserOrgId,comments:e.comments,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,multiplayerEmoji:e.multiplayerEmoji,eyedropper:e.eyedropper,needsUpgrade:e.needsUpgrade,progressBarState:e.progressBarState,showingReconnectingModal:e.showingReconnectingModal,showingOpenDesktopAppModal:e.showingOpenDesktopAppModal,openFile:e.openFile,exportSettingsPickerShown:e.exportSettingsPickerShown,pagesList:e.mirror.appModel.pagesList,timerModalState:e.timer.modalState,timerTime:e.timer.time,universalInsertModal:e.universalInsertModal,isCommentsToolSelected:e.mirror.appModel.currentTool===O.NLJ.COMMENTS,loadingBackgroundColor:e.desktopNewTab.loadingBackgroundColor,isReadOnly:e.mirror.appModel.isReadOnly,currentPage:e.mirror.appModel.currentPage,hyperlinkLocation:e.mirror.appModel.hyperlinkLocation,onCanvasNameEditorInfo:e.mirror.appModel.onCanvasNameEditorInfo,topLevelMode:e.mirror.appModel.topLevelMode,showUi:e.mirror.appModel.showUi,showToolbar:!0,showKeyboardShortcuts:e.mirror.appModel.showKeyboardShortcuts,loadingEmbeds:e.mirror.appModel.loadingEmbeds,fileIsLoading:e.progressBarState.mode===O.Oin.HIDE_UI||e.progressBarState.mode===O.Oin.ON_AND_LOCKED,hasCursorBot:!!(0,c.kc)().internal_only_debug_tools||!!e.userFlags.has_cursor_bot_onboarding_v2}}function yY({fileKey:e}){let t=(0,l.wA)(),a=(0,l.Pj)(),n=(0,l.d4)(e=>e.isFullscreenDocumentLoaded),o=(0,yz.jz)(),s=(0,yK.e_)()===yK.$_.ELIGIBLE,c=(0,B.Fk)(e=>e.getCurrentPage()?.guid);return r.useLayoutEffect(()=>{if(!n||!s)return;let r=a.getState(),l=o?.find(e=>e.inProgress),d=r.mirror.appModel.votingSessionInfo,m=d.sessionId&&o?o.find(e=>e.id===d.sessionId):null;if(l){if(l.id!==d.sessionId){t(b.au({}));let a=(0,P.VP)(r.loadingState,b.$c(e))||r.voting.lastInitiatedVotingSessionId===l.id;t(b.H1({votingStage:a?i.W8Y.JOINED:i.W8Y.NOT_JOINED}))}}else d.sessionId&&!m?t(b.H1({votingStage:i.W8Y.NO_SESSION})):!l&&d.sessionId&&d.votingStage!==i.W8Y.ENDED&&(t((m?.pageNodeId&&(0,u.oA)(m.pageNodeId))===c?b.H1({sessionId:d.sessionId,votingStage:i.W8Y.ENDED}):b.H1({votingStage:i.W8Y.NO_SESSION})),t(b.D6("")))},[e,t,o,n,s,a,c]),null}function yX(){let e=(0,l.d4)(e=>e.isFullscreenDocumentLoaded),t=r.useRef(!1);return r.useEffect(()=>{e&&!t.current&&((0,m.Z1)(),t.current=!0)},[e,t]),null}function yq({children:e,versionHistoryEnabled:t=!0}){let a=(0,s.R)(yZ),n=(0,C.n6)(),m=(0,l.wA)(),b=(0,R.TA)(),S=a.openFile?a.openFile.key:"",N=(0,z.I)(),x=(0,F.J2)(i.Ez5?.uiState().shouldShowAutoLayoutHintsIfExist),k=(0,F.J2)(i.Ez5?.uiState().autoLayoutShortcutHints),I=(0,d.Rs)(D.Jpz,{key:S}),A=!1;if(I&&"loaded"===I.status&&a.openFile){let e=I.data.file;if(e&&b){let t=e.linkAccess,n=e.team?.isStarterTeam,r=e.team?.isStudentTeam?.status==="loaded"&&(0,u.oA)(e.team?.isStudentTeam),l=!!e.roles.find(e=>e.userId===b);a.openFile.canEdit&&t===M.PQ.EDIT&&(n||r)&&!l&&(A=!0)}}let P=(0,lZ.R)(),B=a.openFile?.editorType==="design",U=(0,E.l7)(),H=!a.showUi&&(0,Y.TY)(a.dropdownShown),G=a.dropdownShown?.type===Y.jv,V=G?a.dropdownShown?.data?.parameterEntryArgs:void 0,K=a.dropdownShown?.data?.fireQuickActionsTrackingEvent||p.lQ,W=a.selectedView.editorType,X=(0,o.ZC)(W);W!==X&&X&&m(y.PQ([]));let q=a.topLevelMode===O.lyf.HISTORY,J=!(0,yV.t)(),Q=(0,r.useCallback)(e=>{m(v.eM({dataTransfer:e.dataTransfer,clientX:e.clientX,clientY:e.clientY}))},[m]),$=(0,r.useCallback)(e=>{T.Y5.reparentRootElement(e),e&&e.addEventListener("drop",Q)},[Q]);return r.createElement(r.Fragment,null,(0,c.kc)().ee_color_management_debug?r.createElement(L,null):null,S&&r.createElement(yY,{fileKey:S}),!(_.Ay.isIpad||_.Ay.isIpadNative||_.Ay.isMobileBrowser||_.Ay.isMeetDevice)&&r.createElement(yX,null),r.createElement("div",{className:yj.MY,"data-forward-events-to-fullscreen":!0},r.createElement(aE,null,(0,c.kc)().cursor_bot&&B&&a.hasCursorBot&&r.createElement(oy,null),!U&&r.createElement("div",{key:"fullscreen-container",ref:$}),r.createElement(oN,null),r.createElement(tV.T,null),a.showToolbar&&r.createElement(yU,{numUnreadComments:n,selectedView:a.selectedView,recordingKey:"toolbarView"}),!a.fileIsLoading&&r.createElement(tU,null),a.openFile?.template&&r.createElement(t1,null),H&&r.createElement(nJ.e,{key:"fullscreen-menu",dropdown:a.dropdownShown,recordingKey:"mainMenu"}),G&&r.createElement(f.tH,{boundaryKey:"QuickActionsOuter",onError:()=>{m(g.F.enqueue({message:"Unable to open quick actions",type:"react-error"}))},fallback:f.H4.NONE_I_KNOW_WHAT_IM_DOING},r.createElement(sE,{key:"quick-actions",parameterEntryArgs:V,fireTrackingEvent:K})),r.createElement(j,null),N&&r.createElement(f.tH,{boundaryKey:"QuickActionsV2",onError:()=>{m(g.F.enqueue({message:"Unable to open quick actions",type:"react-error"}))},fallback:f.H4.NONE_I_KNOW_WHAT_IM_DOING},r.createElement(gR,null)),P&&(0,c.kc)().ce_al_experiments_on&&x&&k.size>0&&r.createElement(tW,null),e,a.showUi&&t&&q&&!P&&r.createElement("div",{className:yj.yL},r.createElement(is.yU,{recordingKey:"versionHistoryView"})),a.hyperlinkLocation&&r.createElement(ic.c,{hyperlink:a.hyperlinkLocation,editorType:(0,Z.oD)(a.selectedView.editorType),dispatch:m,recordingKey:"hyperlinkEditor"}),r.createElement(tG.yq,null),a.progressBarState.mode!==O.Oin.OFF&&r.createElement(yH.z2,{editorType:(0,Z.oD)(a.selectedView.editorType),progressBarMode:a.progressBarState.mode,progressBarType:a.progressBarState.type,left:0}),a.showingReconnectingModal&&r.createElement(yG.z,{clientType:"fullscreen"}),r.createElement(yW.Nd,null),r.createElement(yW.jx,{showStartModal:A}),a.dropdownShown&&!J&&!_.Ay.isMeetDevice&&r.createElement(f.tH,{boundaryKey:"FullscreenContextMenu",onError:()=>{m(g.F.enqueue({message:"Unable to open context menu",type:"react-error"}))},fallback:f.H4.NONE_I_KNOW_WHAT_IM_DOING},r.createElement(io,{dropdownShown:a.dropdownShown,selectedView:a.selectedView,ariaLabelledBy:(0,h.t)("fullscreen.fullscreen_view.context_menu.aria_label")})),a.pickerShown?.id===w.C9&&r.createElement(a0,null),a.exportSettingsPickerShown.isShown&&r.createElement(nj,null),a.pickerShown?.id===ov.O&&r.createElement(ov.S,{recordingKey:"nudgeAmountPicker"}),a.eyedropper&&r.createElement(n_,null))),r.createElement(tH.EmbeddedFigmaScopeView,null),a.showKeyboardShortcuts&&r.createElement(of,{recordingKey:"keyboardShortcutPanel"}))}},46843:(e,t,a)=>{a.d(t,{jx:()=>aB,uU:()=>aW,XI:()=>aV,qn:()=>aP,Nd:()=>aF,jS:()=>az,RS:()=>aD,X_:()=>aK,P2:()=>aH,j6:()=>aG,Ky:()=>aU});var n=a(411855),r=a(188507),l=a(786013),i=a(737947),o=a(374626),s=a(886653),c=a(192437),d=a(939863);let u=function(){return null};var m=a(824189),p=a(934635),_=a(964881),f=a(956143),h=a(225266),g=a(662275),E=a(809831),y=a(226055),v=a(356390),b=a(122983),C=a(809511),w=a(441088),T=a(29680),S=a(335682),N=a(860178),x=a(38329),k=a(988022),I=a(239671),A=a(945020),L=a(515823),O=a(834898),R=a(966712),M=a(47506),D=a(100197),P=a(284321),F=a(57392),B=a(100303),U=a(137345),H=a(286723),G=a(800307),V=a(693657),z=a(412371),K=a(225699),W=a(872135),j=a(105437),Z=a(789819),Y=a(187882);let X=new Map,q=n.memo(function(){let e=(0,Y.GQ)(),t=(0,o.md)(F.Lc),a=(0,r.d4)(P.ao),l=(0,S.q5)(),i=(0,r.d4)(e=>e.leftPanel),s=(0,Y.cT)(),{pagesList:c,pageToNumChangesMap:d,isComparingChanges:u}=function(){let e=(0,Y.n0)(),t=(0,r.d4)(e=>!!(0,R.kc)().version_diffing&&e.mirror.appModel.activeCanvasEditModeType===C.m1T.COMPARE_CHANGES),a=(0,r.d4)(e=>e.versionHistory.compareId);return n.useMemo(()=>{if(!t||!a)return{pagesList:e,pageToNumChangesMap:X,isComparingChanges:t};let n=(0,H.ee)(e);return{pagesList:e,pageToNumChangesMap:n,isComparingChanges:t}},[t,a,e])}(),m=(0,D.J2)(C.Ez5.uiState().showCanvasSearch),p=(0,y.GS)(),_=(0,z.g)({pagesList:c}),f=(0,T.aV)();(0,Y.bi)();let h=!!l&&a;return n.useEffect(()=>{h&&(0,M.YQ)({id:"Found Updates To Publish"})},[h]),n.createElement(G.Q,{ignoreRulers:f},n.createElement(j.B,null),n.createElement(K.$,null,p&&n.createElement(Z.n,null),p&&n.createElement(W.d,null),m?n.createElement(B.EA.Provider,{value:!0},n.createElement(U.f,{showFilter:!0})):c.length>0&&n.createElement(V.yD,{recordingKey:"pagesPanel",isReadOnly:s,width:e,pagesList:c,hasTeamLibraryUpdates:t||h,activeTab:i.activeTab,showTabs:!s,isDevHandoff:!1,isDevHandoffOverview:!1,isComparingChanges:u,pageToNumChanges:d,onPageContextMenu:_})))});var J=a(448169),Q=a(976404),$=a(629019),ee=a.n($),et=a(939683),ea=a(976999),en=a(259927),er=a(339690),el=a(665194),ei=a(465702),eo=a(439398),es=a(334290),ec=a(998917),ed=a(935283),eu=a(268537),em=a(827586),ep=a(439384),e_=a(177505),ef=a(498606),eh=a(547841),eg=a(650166),eE=a(489013),ey=a(607672),ev=a(653671);function eb(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 17H19C19.5523 17 20 16.5523 20 16V7.68748V4.99998C20 4.4477 19.5523 3.99998 19 3.99998L8 3.99998C7.44772 3.99998 7 4.4477 7 4.99998V6.00002L6 6.00002L6 4.99998C6 3.89542 6.89543 2.99998 8 2.99998H19C20.1046 2.99998 21 3.89542 21 4.99998V7.68748V16C21 17.1046 20.1046 18 19 18H18V17ZM5 20.0001H16C16.5523 20.0001 17 19.5524 17 19.0001V10.6876V8.00011C17 7.44782 16.5523 7.00011 16 7.00011H5C4.44772 7.00011 4 7.44782 4 8.00011V19.0001C4 19.5524 4.44772 20.0001 5 20.0001ZM16 21.0001H5C3.89543 21.0001 3 20.1047 3 19.0001V8.00011C3 6.89554 3.89543 6.00011 5 6.00011H16C17.1046 6.00011 18 6.89554 18 8.00011V10.6876V19.0001C18 20.1047 17.1046 21.0001 16 21.0001ZM10.5 14.5C11.0523 14.5 11.5 14.0523 11.5 13.5C11.5 12.9477 11.0523 12.5 10.5 12.5C9.94772 12.5 9.5 12.9477 9.5 13.5C9.5 14.0523 9.94772 14.5 10.5 14.5ZM14.5 13.5C14.5 14.0523 14.0523 14.5 13.5 14.5C12.9477 14.5 12.5 14.0523 12.5 13.5C12.5 12.9477 12.9477 12.5 13.5 12.5C14.0523 12.5 14.5 12.9477 14.5 13.5ZM7.5 14.5C8.05228 14.5 8.5 14.0523 8.5 13.5C8.5 12.9477 8.05228 12.5 7.5 12.5C6.94772 12.5 6.5 12.9477 6.5 13.5C6.5 14.0523 6.94772 14.5 7.5 14.5Z",fill:"var(--color-icon)"}))}function eC({pageCount:e,...t}){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...t},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 17H18V18H19C20.1046 18 21 17.1046 21 16V7.68748V4.99998C21 3.89542 20.1046 2.99998 19 2.99998H8C6.89543 2.99998 6 3.89542 6 4.99998L6 6.00002L7 6.00002V4.99998C7 4.4477 7.44772 3.99998 8 3.99998L19 3.99998C19.5523 3.99998 20 4.4477 20 4.99998V7.68748V16C20 16.5523 19.5523 17 19 17ZM16 20.0001H5C4.44772 20.0001 4 19.5524 4 19.0001V8.00011C4 7.44782 4.44772 7.00011 5 7.00011H16C16.5523 7.00011 17 7.44782 17 8.00011V10.6876V19.0001C17 19.5524 16.5523 20.0001 16 20.0001ZM5 21.0001H16C17.1046 21.0001 18 20.1047 18 19.0001V10.6876V8.00011C18 6.89554 17.1046 6.00011 16 6.00011H5C3.89543 6.00011 3 6.89554 3 8.00011V19.0001C3 20.1047 3.89543 21.0001 5 21.0001Z",fill:"var(--color-icon)"}),n.createElement("text",{x:"10.5",y:"14.5",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Inter",fontWeight:"550",fontSize:"9",fill:"var(--color-icon)"},e))}let ew="pages_dropdown--pagesDropdownButton--9KRC-",eT="pages_dropdown--active--R5AFZ",eS="pages_dropdown--pagesDropdownIcon--nnevp";function eN({triggerType:e,pagesList:t,nonDividerPageCount:a,isDropdownOpen:r,setIsDropdownOpen:l,isReadOnly:i}){let o=(0,n.useRef)(null),s=(0,n.useCallback)(()=>l(!1),[l]),c=(0,n.useCallback)(()=>l(!r),[l,r]),d=o.current?.getBoundingClientRect(),u=(()=>{switch(e){case el.mb.ADD_PAGE:return n.createElement(ex,{isDropdownOpen:r,toggleDropdown:c,ref:o});case el.mb.VIEW_PAGES:return n.createElement(ek,{pageCount:a,isDropdownOpen:r,toggleDropdown:c,ref:o});default:(0,ed.xb)(e)}})();return n.createElement(n.Fragment,null,u,r&&d&&n.createElement(eI,{targetRect:d,close:s},n.createElement(eA,null),n.createElement(eL,{pagesList:t,isReadOnly:i,closeDropdown:s})))}let ex=(0,n.forwardRef)(function({isDropdownOpen:e,toggleDropdown:t},a){return n.createElement(ec.E,{className:ee()(ew,"pages_dropdown--singlePage--RS1Vj",{[eT]:e}),onClick:t,"aria-label":(0,d.t)("pages_panel.toolbar.add_pages_tooltip"),ref:a,htmlAttributes:{"aria-pressed":e,"data-tooltip":(0,d.t)("pages_panel.toolbar.add_pages_tooltip"),"data-tooltip-type":ef.Ib.TEXT}},n.createElement("span",{className:eS},n.createElement(eC,null)))}),ek=(0,n.forwardRef)(function({pageCount:e,isDropdownOpen:t,toggleDropdown:a},r){let l=(0,e_.nn)();return n.createElement(ec.E,{className:ee()(ew,{[eT]:t}),onClick:a,"aria-label":(0,d.t)("pages_panel.toolbar.view_pages_tooltip"),ref:r,htmlAttributes:{"aria-pressed":t,"data-tooltip":(0,d.t)("pages_panel.toolbar.view_pages_tooltip"),"data-tooltip-type":ef.Ib.TEXT}},n.createElement("span",{className:eS},e>9?n.createElement(eb,null):n.createElement(eC,{pageCount:e})),n.createElement("span",{className:"pages_dropdown--pagesDropdownButtonText--vxa32 ellipsis--ellipsis--Tjyfa"},l))});function eI({targetRect:e,close:t,children:a}){let l=(0,r.wA)(),i=!!(0,o.md)(ev.l7),s={top:e.y+e.height+16,left:e.x,width:200,maxHeight:312};return(0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return window.addEventListener("keydown",e),window.addEventListener("blur",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("blur",t)}},[t]),n.createElement(eu.gw,{className:"pages_dropdown--dropdown--wiw73",style:s,dispatch:l,closeDropdown:t,positionFixed:!0},n.createElement("div",{onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),onKeyDown:e=>{"Escape"===e.key&&i&&e.stopPropagation()},className:"pages_dropdown--mouseEventCatcher--ICMZO"},a))}function eA(){let e=(0,el.hs)(),t=(0,ep._O)();return n.createElement("div",{className:"pages_dropdown--dropdownHeader--K3jZk"},n.createElement("span",{className:"pages_dropdown--dropdownHeaderText--dp9ZX ellipsis--ellipsis--Tjyfa"},(0,d.tx)("fullscreen.pages_panel.pages")),e&&(t?n.createElement(eE.t,null):n.createElement(eg.e,null)))}function eL({pagesList:e,isReadOnly:t,closeDropdown:a}){let[r,l]=(0,n.useState)(!1),i=(0,n.useRef)(null),o=(0,n.useCallback)(e=>{l(e>0)},[]);(0,eh.a)({pagesList:e,scrollContainerRef:i});let s=(0,el.sv)(),c=(0,z.g)({pagesList:e,shouldShowDuplicateOption:s});return n.createElement(em.P,{horizontalScrollingDisabled:!0,onScroll:o,className:ee()("pages_dropdown--scrollContainer--jAJ5C",{"pages_dropdown--withTopBorder--LkCLX":r}),innerClassName:"pages_dropdown--scrollContainerContents--12wMh",ref:i},n.createElement(ey.bU,{pages:e,isReadOnly:t,onContextMenu:c,isComparingChanges:!1,onPageSwitch:a,activePageShouldUseBrandColor:!0}))}var eO=a(776250),eR=a(738269),eM=a(293017),eD=a(931828),eP=a(788811),eF=a(318812),eB=a(865636),eU=a(377020),eH=a(267850),eG=a(733378);function eV({containerRef:e}){let t=function(){let e=(0,S.q5)(),t=(0,o.md)(eP.lu);return e?e.name:t?t.name:(0,d.t)("fullscreen.filename_view.title_placeholder")}(),a=(0,r.wA)(),l=(0,eF.Um)(),i=l?.type===eU.eg,s=(0,r.d4)(e=>e.isRenaming),c=(0,S.q5)(),u=(0,N.iZ)(),m=!!c&&(0,eG.DF)(c,u),p=n.useRef(null),_=p.current?.getBoundingClientRect(),f=e.current?.getBoundingClientRect(),h=(0,eB.E)(p,!s),g={top:f?.top??0,bottom:f?.bottom?f?.bottom+3:0,left:_?.left??0,right:_?.right??0,width:_?.width??0,height:_?.height??0},[E,y]=n.useState(!1);return n.useEffect(()=>{if(E){let e=setTimeout(()=>{y(!1),v.Y5.triggerAction("toggle-sidebar",{source:"figjam-panel"}),a(eD.b({[er.sW]:!0}))},200);return()=>clearTimeout(e)}},[a,E]),n.createElement(n.Fragment,null,s?n.createElement("span",{className:"panel_toggle--fileNameInput--hzx4e panel_toggle--containerBase--4sK6N",style:{width:Math.max(150,h??0)}},n.createElement(eU.o3,null)):n.createElement(ec.E,{className:"panel_toggle--button--Z3V1x panel_toggle--containerBase--4sK6N",ref:p,onClick:()=>{y(!0)},"aria-label":(0,d.t)("fullscreen_actions.expand-figjam-left-panel"),htmlAttributes:{onDoubleClick:()=>{y(!1),m&&a(eM.vg())},onContextMenu:e=>{if(e.preventDefault(),i){a(eR.oB());return}a(eR.j7({type:eU.eg,data:{targetRect:g}}))},"data-tooltip":(0,d.t)("fullscreen_actions.expand-figjam-left-panel"),"data-tooltip-type":ef.Ib.TEXT}},n.createElement("span",{className:"panel_toggle--text--u2ukq ellipsis--ellipsis--Tjyfa"},t)),n.createElement(eH.G,{dropdownTargetRect:l?.data?.targetRect,dispatch:a,dropdownVisible:i,leanPadding:0,activatePathOnMount:l?.data?.activatePathOnMount,trackEvent:eO.sx}))}let ez="figjam_collapsed_left_panel--divider--l9NPO";function eK({pagesList:e,isReadOnly:t}){let[a,r]=(0,n.useState)(!1),l=n.useRef(null),i=(0,Q.U1)(l),o=(0,et.am)(),s=(0,n.useMemo)(()=>e.filter(e=>!e.isDivider).length,[e]),c=(0,el.h5)({nonDividerPageCount:s,isDropdownOpen:a}),d=(0,S.q5)(),{renamingPageId:u,commitRenaming:m}=(0,ei.c)(e),p=!!u,_=(0,n.useCallback)(e=>{r(e),e&&!a&&o("pages_panel_open_toggle",{isPagesOpen:e},{forwardToDatadog:!0}),!e&&p&&m()},[a,m,p,o]);return n.createElement(ej,{ref:i,onboardingKey:er.AV},n.createElement(eY,null,n.createElement(es.xG,null)),n.createElement(eX,null,n.createElement(eV,{containerRef:l})),n.createElement(eY,null,n.createElement(eq,null,d&&n.createElement("div",{className:"figjam_collapsed_left_panel--paidStatusBadgeWrapper--u7dYt"},n.createElement(eo.s,{openFile:d})),n.createElement(es.n8,null))),!!c&&n.createElement(n.Fragment,null,n.createElement(eZ,null),n.createElement(eX,null,n.createElement(eN,{triggerType:c,pagesList:e,isDropdownOpen:a,setIsDropdownOpen:_,nonDividerPageCount:s,isReadOnly:t}))))}function eW(){return n.createElement(ej,{testId:"figjam-left-panel-loading"},n.createElement(eY,null,n.createElement(e$,null)),n.createElement(eX,null,n.createElement(e0,null)),n.createElement(eQ,null),n.createElement(eX,null,n.createElement(e1,null)))}let ej=n.forwardRef(function({children:e,onboardingKey:t,testId:a},r){return n.createElement("div",{ref:r,className:ee()(en.Dm,"figjam_collapsed_left_panel--container--FYM0w"),style:{maxWidth:(0,Y.JX)()},"data-onboarding-key":t,"data-testid":a},e)});function eZ(){return n.createElement("div",{className:ez})}function eY({children:e}){return n.createElement("div",{className:"figjam_collapsed_left_panel--noShrink--NWpwj"},e)}function eX({children:e}){return n.createElement("div",{className:"figjam_collapsed_left_panel--upToHalfWidth--GUezb"},e)}function eq({children:e}){return n.createElement("div",{className:"figjam_collapsed_left_panel--statusSection--N5vuO"},e)}function eJ({width:e}){return n.createElement("div",{className:"figjam_collapsed_left_panel--loadingPlaceholder--ejxL9",style:{width:e,visibility:"hidden"}},n.createElement(ea._b,null))}function eQ(){return n.createElement("div",{className:ez,style:{visibility:"hidden"}})}function e$(){return n.createElement(eJ,{width:44})}function e0(){return n.createElement("div",{className:"figjam_collapsed_left_panel--panelTogglePlaceholderContainer--qWqG-"},n.createElement(eJ,{width:180}))}function e1(){return n.createElement(eJ,{width:81})}var e2=a(598045),e5=a(860601),e3=a(611978),e4=a(544403),e6=a(140838),e7=a(416827),e8=a(107190),e9=a(145479);function te(){return n.createElement(n.Fragment,null,n.createElement(tt,null),n.createElement(W.d,null))}function tt(){return n.createElement("div",{className:"figjam_left_panel_header--iconSection--n7JT9"},n.createElement("div",{className:"figjam_left_panel_header--leftSide--OGLAP"},n.createElement(es.xG,null)),n.createElement("div",{className:"figjam_left_panel_header--rightSide--Kcru4"},n.createElement(es.n8,null),n.createElement(e8.E,null),n.createElement(e9.J,null),n.createElement(e7.J,{onClick:()=>v.Y5.triggerAction("toggle-sidebar",{source:"figjam-left-panel-header"}),"aria-label":(0,d.t)("fullscreen_actions.collapse-figjam-left-panel"),htmlAttributes:{"data-tooltip":(0,d.t)("fullscreen_actions.collapse-figjam-left-panel"),"data-tooltip-type":ef.Ib.TEXT}},n.createElement(e6.C,null))))}function ta(){let e=(0,el.hs)(),t=(0,ep._O)();return n.createElement("div",{className:ee()("figjam_pages_panel_header--container--o2Ga7",{"figjam_pages_panel_header--containerWithNewPageDropdown--SwVmo":e&&t})},n.createElement("div",{className:"figjam_pages_panel_header--headerText--mvfGF"},(0,d.tx)("fullscreen.pages_panel.pages")),n.createElement("div",{className:"figjam_pages_panel_header--buttonGroup--LWXvA"},e&&(t?n.createElement(eE.t,null):n.createElement(eg.e,null))))}var tn=a(354894);let tr="figjam_expanded_left_panel--interopPanel--M-7QA";function tl({pagesList:e,isReadOnly:t}){let a=(0,Y.GQ)(),r=(0,el.sv)(),l=(0,z.g)({pagesList:e,shouldShowDuplicateOption:r}),i=(0,Q.U1)(),o=(0,ep.ew)(),s=(0,e3._6)();return n.createElement(ti,{width:a,ref:i},n.createElement("div",{className:"figjam_expanded_left_panel--noShrink--mamEZ"},n.createElement(te,null),o&&n.createElement("div",{className:tn.hv},n.createElement(V.eG,{selectedView:s,activeTab:e2.xae.LAYERS,showLayersPanel:e5.lQ,showPublish:e5.lQ,showSitesBlocksPanel:e5.lQ,showDakotaPanel:e5.lQ})),n.createElement(ta,null)),n.createElement(to,{pagesList:e},n.createElement(ey.bU,{pages:e,isReadOnly:t,onContextMenu:l,isComparingChanges:!1,activePageShouldUseBrandColor:!0})))}let ti=(0,n.forwardRef)(function({width:e,children:t},a){let r=(0,ep.ew)();return n.createElement(e4.w,{ref:a,className:ee()(en.Dm,"figjam_expanded_left_panel--resizableContainer--DhTbD",{[tr]:r}),size:e,defaultSize:Y.qm,side:"right",onResize:Y.xT,style:{maxWidth:(0,Y.JX)()},id:K.k,"data-cancel-insertable-resource-drag-and-drop":!0},n.createElement("div",{style:{width:e},className:ee()("figjam_expanded_left_panel--panel--rI14k",{[tr]:r})},t))});function to({pagesList:e,children:t}){let[a,r]=(0,n.useState)(!1),l=(0,n.useRef)(null);(0,eh.a)({pagesList:e,scrollContainerRef:l});let i=(0,n.useCallback)(e=>{r(e>0)},[]);return n.createElement(em.P,{horizontalScrollingDisabled:!0,onScroll:i,className:ee()("figjam_expanded_left_panel--scrollContainer--V6RoK",{"figjam_expanded_left_panel--withTopBorder--OhkVb":a}),ref:l},t)}var ts=a(983382);function tc({shouldAnimate:e,children:t}){let a=(0,n.useRef)(null),r=(0,ep.ew)(),l=(0,ts.Ij)(a);return n.createElement(G.Q,{shouldAnimate:e},n.createElement("div",{ref:a,style:{position:"absolute",top:0,left:0,bottom:r?0:l,pointerEvents:"none"}},n.createElement("div",{style:{pointerEvents:"auto",display:"contents"}},t)))}let td=n.memo(function(){let e=(0,T.aV)(),t=(0,Y.Ye)(),a=(0,Y.cT)(),r=(0,Y.n0)(),l=(0,T.p8)("showUi");if((0,Y.bi)(),!l)return null;if(e)return n.createElement(tc,{shouldAnimate:!1},n.createElement(eW,null));let i=t?n.createElement(eK,{pagesList:r,isReadOnly:a}):n.createElement(tl,{pagesList:r,isReadOnly:a});return n.createElement(tc,null,n.createElement(J.V,{className:"figjam_left_panel--scrollPassthrough--wFYWa"},i))}),tu=n.memo(function(){let e=(0,Y.GQ)(),t=(0,r.d4)(e=>e.leftPanel),a=(0,Y.cT)(),l=(0,Y.n0)(),i=(0,n.useMemo)(()=>l.slice(1),[l]),o=(0,D.J2)(C.Ez5.uiState().showCanvasSearch),s=(0,z.g)({pagesList:i});return(0,Y.bi)(),n.createElement(G.Q,null,n.createElement(j.B,null),n.createElement(K.$,null,n.createElement(Z.n,null),n.createElement(W.d,null),o?n.createElement(B.EA.Provider,{value:!0},n.createElement(U.f,{showFilter:!0})):n.createElement(V.yD,{recordingKey:"pagesPanel",isReadOnly:a,width:e,pagesList:i,hasTeamLibraryUpdates:!1,activeTab:t.activeTab,showTabs:!a,isDevHandoff:!1,isDevHandoffOverview:!1,isComparingChanges:!1,onPageContextMenu:s})))});var tm=a(96796),tp=a(463420),t_=a(762638),tf=a(83909),th=a(662531),tg=a(617453),tE=a(843495),ty=a(601607),tv=a(294461),tb=a(20556),tC=a(983724),tw=a(191485),tT=a(979441),tS=a(592096),tN=a(396697),tx=a(595755);function tk(){let e=tI((0,tg.dP)());return document.documentElement.style.setProperty("--left-panel-width",`${e}px`),e}function tI(e){return Math.max(200,Math.min(306,e||0))}function tA(e){(0,tg.UK)().sidebarSplitPosition.set(tI(e))}let tL="slides_left_panel_container--sizeContainer--wjXqJ",tO="slides_left_panel_container--panel--11KJV";function tR(){let e=tI(tN.R.sidebarSplitPosition);return n.createElement("div",{className:ee()(en.Dm,tL),style:{width:e}},n.createElement("div",{className:ee()(tO,"slides_left_panel_container--loading--X7snS")},n.createElement(tx.U1,null)))}function tM({children:e,width:t,disableResizing:a,currentPageId:r}){let l=(0,Q.U1)();return r?n.createElement(e4.w,{className:ee()(en.Dm,tL),size:t,defaultSize:200,side:"right",disableResizing:a,onResize:tA,style:{maxWidth:306},id:K.k,"data-cancel-insertable-resource-drag-and-drop":!0},n.createElement("div",{ref:l,style:{width:t},className:tO},e)):null}function tD({children:e,disableResizing:t=!1}){let a=!(0,T.p8)("showUi"),l=(0,r.d4)(e=>e.mirror.appModel?.currentPage),i=(0,T.aV)(),o=tk(),s=(0,Y.Ye)(),c=(0,y.GS)(),d=(0,tS.ff)();return s||a?null:n.createElement(n.Fragment,null,!i&&!s&&!a&&!d&&c&&n.createElement(tT.T,{side:"left"}),i?n.createElement(tR,null):n.createElement(tM,{width:o,disableResizing:t,currentPageId:l},e))}var tP=a(316081),tF=a(72112),tB=a(830375),tU=a(648598),tH=a(902237),tG=a(260906),tV=a(574176),tz=a(278733),tK=a(924430),tW=a(992965);function tj(){let e=(0,D.J2)(e2.Ez5.singleSlideView().isInSingleSlideView),t=(0,S.tS)(),a=(0,n.useCallback)(e=>{"GRID"===e?(e2.Ez5.singleSlideView().exitSingleSlideView(),(0,k.Cu)({trackingContext:"grid_view_toggle",productType:"slides",fileKey:t})):(v.Y5.triggerAction("enter-single-slide-view"),(0,k.Cu)({trackingContext:"single_slide_view_toggle",productType:"slides",fileKey:t}))},[t]);return n.createElement("div",{style:tz.sx.add({width:"64px"}).$},n.createElement(tU.I.Root,{legend:n.createElement(tH.q,null,(0,d.t)("slides.toolbar.view_mode")),value:e?"SSV":"GRID",onChange:a,recordingKey:"slideViewToggle"},n.createElement(tU.I.Option,{value:"SSV","aria-label":(0,d.t)("slides.toolbar.single_slide_view_toggle"),icon:n.createElement(tY,{isSelected:e}),htmlAttributes:{"data-tooltip-shortcut-key":"toggle-slide-view"}}),n.createElement(tU.I.Option,{value:"GRID","aria-label":(0,d.t)("slides.toolbar.grid_view_toggle"),icon:n.createElement(tZ,{isSelected:!e}),htmlAttributes:{"data-onboarding-key":tK.b_,"data-tooltip-shortcut-key":"toggle-slide-view"}})))}function tZ({isSelected:e}){let t=e?t_.cx.colorIcon.$:t_.cx.colorIconSecondary.$;return n.createElement(tV.B,{className:t,svg:tW.A})}function tY({isSelected:e}){let t=e?t_.cx.colorIcon.$:t_.cx.colorIconSecondary.$;return n.createElement(tG.O,{className:t})}var tX=a(982629);function tq(){let e=(0,S.q5)(),t=(0,r.d4)(e=>e.isRenaming),a=(0,y.GS)(),l=(0,Y.Ye)(),i=tk(),o=(0,T.aV)(),s=(0,r.d4)(e=>e.mirror.appModel.showUi),c=n.useRef(null),d=a&&!o&&s,u=l&&!t&&d,m=(0,eB.E)(c,u),p=(0,Q.U1)(),_=(0,n.useCallback)(e=>{(0,tP.cZ)(c,e),p(l?e:null)},[p,l]);if(!d)return null;let f=n.createElement("div",{className:"slides_left_panel_island--fileControls---hP9j"},n.createElement(tB.n,null),e&&n.createElement("div",{className:t?"slides_left_panel_island--renamingFilePaidStatusBadge--0jtOC":""},n.createElement(eo.s,{openFile:e})),n.createElement(tF.m,null));return n.createElement("div",{className:ee()(en.Dm,"slides_left_panel_island--islandContainer--YELAt",{"slides_left_panel_island--collapsed--4lnwi":l,"slides_left_panel_island--withShadow--d2OWu":l}),style:l?t&&"number"==typeof m?{width:Math.max((0,Y.bV)(),m)}:{maxWidth:(0,Y.JX)()}:{width:i},ref:_},n.createElement(es.xG,null),n.createElement("div",{className:ee()("slides_left_panel_island--minimizedUIContainer--wiwid",{"slides_left_panel_island--minimizedUIContainerRenaming--hrQ-f":l&&t})},l&&f,n.createElement(es.n8,null),!l&&n.createElement(n.Fragment,null,n.createElement(e8.E,null),n.createElement(e9.J,null),n.createElement(tj,null)),l&&!t&&n.createElement("div",{className:"slides_left_panel_island--slidesControls--ltpBI"},n.createElement(tX.R,null),n.createElement(tj,null))))}let tJ=n.memo(function(){let e=n.useRef(null);!function({ref:e}){(0,n.useEffect)(()=>{let t=t=>{let a=!!e.current&&t.target instanceof Node&&e.current.contains(t.target);e2.Ez5.singleSlideView().isCarouselFocused.set(a)};return window.addEventListener("click",t),()=>window.removeEventListener("click",t)},[e])}({ref:e});let t=(0,ep.Te)(),a=(0,Y.cT)(),l=(0,Y.n0)(),i=tk(),o=(0,r.d4)(e=>e.leftPanel),[s,c]=(0,n.useState)(()=>(0,tg.UK)().slidesLayersPanelHeight.getCopy()),[d,u]=(0,n.useState)(()=>(0,tg.UK)().slidesLayersPanelExpanded.getCopy()),m=(0,D.J2)(e2.Ez5?.slidesToolMode()),p=(0,D.J2)(e2.Ez5.uiState().showCanvasSearch),_=!p,f=m===e2.EMA.DESIGN&&!p,h=d&&f,g=(0,z.g)({pagesList:l});(0,n.useEffect)(()=>{(0,tg.UK)().slidesLayersPanelHeight.set(s),(0,tg.UK)().slidesLayersPanelExpanded.set(d)},[s,d]);let E=(0,tC.Jb)(),y=e.current?.clientHeight||window.innerHeight;return n.createElement(G.Q,{ref:e},n.createElement(tq,null),n.createElement(t0,{guid:E}),n.createElement(tD,null,n.createElement(Z.n,null),n.createElement(W.d,null),p&&n.createElement(B.EA.Provider,{value:!0},n.createElement(U.f,{showFilter:!0})),t&&!h&&!p&&n.createElement(V.yD,{recordingKey:"pagesPanel",isReadOnly:a,width:i,isShowingSlidesCarousel:_,pagesList:l,hasTeamLibraryUpdates:!1,activeTab:o.activeTab,showTabs:!0,isDevHandoff:!1,isDevHandoffOverview:!1,isComparingChanges:!1,onPageContextMenu:g}),_&&n.createElement(e4.w,{size:y-s,side:"bottom",onResize:e=>c(y-e),disableResizing:!h,unsetSizeWhenDisabled:!0,className:t_.cx.relative.flex.flexColumn.if(!h,t_.cx.flex1.overflowHidden).$},n.createElement(tw.FN,{recordingKey:"ssvCarousel"})),f&&n.createElement(tQ,{isLayersPanelExpanded:d,onToggleExpanded:()=>u(e=>!e),constrainedSidebarWidth:i,guid:E})))});function tQ({isLayersPanelExpanded:e,onToggleExpanded:t,constrainedSidebarWidth:a,guid:r}){return n.createElement("div",{className:t_.cx.flex.flexColumn.overflowHidden.if(e,t_.cx.flexGrow1).$+" pagesPanel"},n.createElement("div",{className:t_.cx.h0.wFull.bb1.bSolid.colorBorder.$}),n.createElement("button",{className:t_.cx.relative.flex.h40.itemsCenter.$,onClick:()=>t()},n.createElement("div",{className:t_.cx.flex.itemsCenter.$},e?n.createElement(tm.O,null):n.createElement(tp.k,null),(0,d.tx)("fullscreen.pages_panel.layers_tab"))),e?n.createElement(t$,{width:a,guid:r}):null)}function t$({width:e,guid:t}){let a=(0,T.p8)("isReadOnly"),l=(0,T.p8)("currentPage"),i=(0,D.J2)((0,tg.UK)().showGuids),[o,s]=(0,n.useState)(0),[c,d]=(0,n.useState)(null),u=(0,r.d4)(e=>e.versionHistory),m=(0,ty.Fk)((e,t)=>{let a=e.get(t);return a?{guid:a.guid,children:a.uiOrderedChildren}:null},t),p=(0,n.useCallback)(e=>{a||(d(e),tE.hq(e))},[a]);return(0,n.useEffect)(()=>{let e=({nodeId:e})=>{p(e)};return v.Y5.fromFullscreen.on("startRenamingNode",e),()=>{v.Y5.fromFullscreen.removeListener("startRenamingNode",e)}},[p]),n.createElement(tb.X,{key:t||"no-node",topNodeFields:m,includeTopNode:!1,hasPending:!1,isReadOnly:a,currentPage:l,onScroll:s,initialScrollTop:o,width:e,shouldShowGuids:i,renamingGuid:c,startRenaming:p,stopRenaming:function(e,t,n){a||(c&&e&&(th.l7.user("set-node-name",()=>tE.i(c,t||"")),v.Y5.commit(),tf.wt.reportEditActionIf(t!==n,"rename-node")),d(null))},thumbnailGuid:null,versionHistory:u})}function t0({guid:e}){let t=(0,Y.Ye)(),a=(0,T.aV)(),l=(0,D.J2)(e2.Ez5?.slidesToolMode()),i=(0,r.d4)(e=>e.mirror.appModel.showUi),[o,s]=(0,n.useState)(230);return(0,R.kc)().piper_layers_grid&&t&&!a&&l===e2.EMA.DESIGN&&i?n.createElement(tv.P,{onSizeChange:s,bottom:0,left:0,hide:!e},n.createElement(t$,{guid:e,width:o})):null}var t1=a(91408),t2=a(572206),t5=a(818),t3=a(506599),t4=a(848661),t6=a(555074),t7=a(457630),t8=a(433861),t9=a(279702),ae=a(593392),at=a(860168);let aa="multi_edit_offscreen_indicators--indicatorGraphicBlue--rtnWM",an="multi_edit_offscreen_indicators--indicatorGraphicPurple--1O1nb",ar=(0,t1.jz)(at.J4v),al=(0,t1.jz)(at.v5y),ai=(0,t1.jz)(at.M$q),ao=(0,t1.jz)(at.y9S);function as(){let e=(0,t6.kl)("selectionRegions"),t=(0,t4.E7)(e),a=(0,r.d4)(e=>"fullscreen"===e.selectedView.view&&e.selectedView.editorType===I.nT.Design),l=a&&!!t&&t.length>=1,i=(0,t7._X)({subscribeToUpdates_expensive:l});return a&&i&&t?n.createElement(ac,{viewportInfo:i,selectionRegions:t}):null}function ac({viewportInfo:e,selectionRegions:t}){let a=(0,n.useContext)(t8.kw),l=(0,n.useMemo)(()=>a.getCommentsWrapperOffset(e),[a,e]),i=l.x,o=l.y,s={transform:`translate(${i}px, ${o}px)`},c=(0,y.GS)(),d=(0,t5.b)(),u=c&&!d,m=(0,r.d4)(e=>e.mirror?.appModel.showUi),p=(0,tg.dP)()+(u?ai:ar),_=(0,tg.qw)()+p+(u?ai:al),f=(0,Y.Ye)(),{isPropertiesPanelCollapsed:h}=(0,t3.iT)(),g=(u&&m&&!f?p:0)-3.5,E=(u&&m&&!h?_:0)-7,v=(0,D.J2)((0,tg.UK)().renderRulers)&&m?ao:0,b={x:g+v,y:-3.5+v,width:e.width-E-v,height:e.height- -7-v},C={x:g+v,y:-3.5+v,width:e.width-E-v,height:e.height- -7-v};return n.createElement(n.Fragment,null,n.createElement(ae.p,null,n.createElement("div",{"aria-hidden":!0,"data-forward-events-to-fullscreen":!0,className:"multi_edit_offscreen_indicators--overlay--NcZeV",style:s},!!t?.length&&n.createElement("div",null,t.map((t,a)=>{let r=(0,t7.Z0)(e,{x:t.bounds.x,y:t.bounds.y}),l=(0,t7.Z0)(e,{x:t.bounds.x+t.bounds.width,y:t.bounds.y+t.bounds.height}),i={x:r.x,y:r.y,width:l.x-r.x,height:l.y-r.y};return i.x<b.x+b.width&&i.x+i.width>b.x&&i.y+i.height>b.y&&i.y<b.y+b.height?null:n.createElement(ad,{key:a,viewportBounds:C,viewportInfo:e,indicatorViewportBounds:i,selectionBoundsScaledWidth:function(e,t){let a=Math.max(e.x,t.x);return Math.max(Math.min(e.x+e.width,t.x+t.width)-a,10)}(i,C),selectionBoundsScaledHeight:function(e,t){let a=Math.max(e.y,t.y);return Math.max(Math.min(e.y+e.height,t.y+t.height)-a,10)}(i,C),selectionRegionType:t.regionType})})))))}function ad({viewportBounds:e,viewportInfo:t,indicatorViewportBounds:a,selectionBoundsScaledWidth:l,selectionBoundsScaledHeight:i,selectionRegionType:o}){let s=function(e,t){let a=0-t.x,n=0+e.width-t.x,r=0-t.y,l=0+e.height-t.y,i=Math.abs(a)<n?a:n,o=Math.abs(r)<l?r:l,s=a<0!=n<0,c=r<0!=l<0;return s&&c?Math.abs(i)<Math.abs(o)?{x:t.x+i,y:t.y}:{x:t.x,y:t.y+o}:!s&&c?{x:t.x+i,y:t.y}:s&&!c?{x:t.x,y:t.y+o}:{x:t.x+i,y:t.y+o}}(t,{x:a.x+a.width/2,y:a.y+a.height/2});s.x-=l/2,s.y-=i/2;let c=(0,r.d4)(e=>e.mirror?.appModel.showUi),d=(0,D.J2)((0,tg.UK)().renderRulers)&&c?ao:0,u=(0,y.GS)(),m=(0,t5.b)(),p=u&&!m,_=p?ai:ar,f=p?ai:al,h=(0,tg.dP)()+_,g=(0,tg.qw)()+f,E=(0,Y.Ye)(),{isPropertiesPanelCollapsed:v}=(0,t3.iT)(),b=1+(c&&p&&!E?h+1:0)+d,C=Math.max(b,t.width-1-l-(c&&p&&!v?g+1:0)),w=1+d,T=Math.max(w,t.height-1-i-1),S=t2.Mi.bound(s,{min:{x:b,y:w},max:{x:C,y:T}}),N=a.y+a.height<e.y,x=a.y>e.y+e.height,k=a.x+a.width<e.x,I=a.x>e.x+e.width;S.x+=t.x,S.y+=t.y;let A=Math.min(t.width-2-(c&&p?g+h:0),l),L=Math.min(t.height-2,i);return n.createElement("div",{className:"multi_edit_offscreen_indicators--indicator--taq8e",style:{transform:`translate3D(${S.x}px, ${S.y}px, 0)`}},(N||x)&&n.createElement("div",{style:{position:"absolute",height:1.5,width:A,marginTop:x?L-1.5:0},className:ee()({[aa]:o===t9.fV.MIXED_OR_NO_SYMBOLS,[an]:o===t9.fV.SYMBOLS_ONLY})}),(k||I)&&n.createElement("div",{style:{position:"absolute",left:0,height:L,width:1.5,marginLeft:I?A-1.5:0},className:ee()({[aa]:o===t9.fV.MIXED_OR_NO_SYMBOLS,[an]:o===t9.fV.SYMBOLS_ONLY})}))}var au=a(108401),am=a(346124),ap=a(498750),a_=a(153234),af=a(283942),ah=a(341860),ag=a(32067);function aE(e,t,a){let l;let{padding:i,margin:o,...s}=(0,r.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),c=(0,t7._X)({subscribeToUpdates_expensive:!0}),d=c?.zoomScale||1,[u,m]=n.useState(e),[p,_]=n.useState(!0),f=n.useRef(null),h=n.useRef(null),[g,E]=n.useState(0),[y,b]=n.useState(!1),C=n.useCallback(e=>{switch(s.mode){case e2.nzw.FRAME_NAME:E(Math.min(e,a*d)+7);break;case e2.nzw.RESPONSIVE_SET_NAME:case e2.nzw.SECTION_NAME:let t=a*d;e<t?E(e):E(t-2*o.x);break;case e2.nzw.FLOW_STARTING_POINT_NAME:E(Math.min(e,a)+4);break;case e2.nzw.MEASUREMENT_FREE_TEXT:E(Math.min(e,a*d)+8.5)}},[s.mode,a,d,o.x]);n.useLayoutEffect(()=>{h.current&&C(h.current.scrollWidth)},[u,C]),n.useEffect(()=>{e&&(_(!0),m(e))},[e]),n.useEffect(()=>{let e=e=>{let t=!(f.current&&f.current.contains(e.target)),a=document.querySelector('[data-resource-id="rename-selection"]'),n=e.target&&a&&a.contains(e.target);t&&!n&&e2.glU.hideOnCanvasNameEditor()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let w=a_.AF("onCanvasRename","change",e=>{m(e.target.value)}),T=a_.v_("onCanvasRename","keydown",e=>{if(!y)switch(e.key){case"Escape":case"Enter":case"Tab":e.preventDefault(),_(!1),t(u),v.Y5.commit(),e2.glU.hideOnCanvasNameEditor();break;case"=":case"-":(0,ap.Fo)(e)&&(0,af.f7)(e,!0)}});if(!c)return null;let S={},N=(0,t7.Z0)(c,{x:s.x,y:s.y},!1),x={x:N.x+c.x,y:N.y+c.y};if(s.mode===e2.nzw.FLOW_STARTING_POINT_NAME&&(x.x-=32+g,x.y=Math.round(x.y)),s.mode===e2.nzw.FRAME_NAME){let e=(0,am.lerp)(5,9,(c.zoomScale-.1)*5);e=(0,am.clamp)(e,5,9)-3,x.y-=e}switch(s.mode===e2.nzw.RESPONSIVE_SET_NAME&&(x.x+=24),s.mode===e2.nzw.MEASUREMENT_FREE_TEXT?s.invertTextPosition?S.transform=s.isCentered?`translate(calc(${x.x}px - 50%), ${x.y-24}px)`:`translate(calc(${x.x-6}px - 100%), ${x.y-9.5}px)`:S.transform=s.isCentered?`translate(calc(${x.x}px - 50%), ${x.y+7}px)`:`translate(${x.x+6}px, ${x.y-9.5}px)`:S.transform=`translate(${x.x}px, ${x.y}px) rotate(${s.angle}deg)`,s.mode){case e2.nzw.FRAME_NAME:l="on_canvas_name_editor--frameNameInput--VpLPf sf_pro--uiFontWithSFProFallback--m-p9V";break;case e2.nzw.FLOW_STARTING_POINT_NAME:l="on_canvas_name_editor--flowStartingPointNameInput--lLEZF";break;case e2.nzw.MEASUREMENT_FREE_TEXT:l="on_canvas_name_editor--measurementFreeTextInput--gJle8 sf_pro--uiFontWithSFProFallback--m-p9V"}return{containerRef:f,measurerRef:h,containerStyle:S,inputClassname:l,editingName:u,onFocus:e=>{e.target.select(),h.current&&C(h.current.scrollWidth)},onChange:w,onKeyDown:T,onBlur:e=>{p&&(t(e.target.value),v.Y5.commit(),e.relatedTarget&&"focus-target"===e.relatedTarget.className&&e2.glU.hideOnCanvasNameEditor())},width:g,setIsComposing:b}}function ay(e){let t=aE(e.name,e.setName,e.maxWidth);if(!t)return null;let{containerRef:a,measurerRef:r,containerStyle:l,editingName:i,onFocus:o,onChange:s,onKeyDown:c,onBlur:d,width:u,setIsComposing:m,inputClassname:p}=t;return n.createElement("div",{ref:a,className:ee()(e.containerClassname,en.Dm,"on_canvas_name_editor--containerOnLight--6zUKs"),style:l},n.createElement("span",{ref:r,className:"on_canvas_name_editor--measurer--KTnSp"},i),n.createElement("input",{autoFocus:!0,dir:"auto",className:p,style:{width:`${u}px`},value:i,onFocus:o,onChange:s,onKeyDown:c,onBlur:d,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onCompositionEnd:()=>m(!1),onCompositionStart:()=>m(!0)}))}function av(){let e=(0,r.d4)(e=>e.mirror.selectionProperties.name),t=(0,r.d4)(e=>e.mirror.selectionProperties.width),a=(0,ag.JA)();return e&&t&&a?n.createElement(ay,{name:e,setName:t=>{e&&(tf.wt.reportEditActionIf(e!==t,"rename-frame"),th.l7.user("rename-frame",()=>tE.i(a,t)))},maxWidth:t}):null}function ab(){let[e,t]=(0,t6.lJ)("prototypeStartingPoint"),a=t4.E7(e)?.name||"";return a?n.createElement(ay,{name:a,setName:a=>{a&&t({name:a,description:t4.E7(e)?.description||"",position:t4.E7(e)?.position||""})},maxWidth:93,containerClassname:"on_canvas_name_editor--flowStartingPointNameContainer--JdVwd"}):null}function aC(){let{measurementId:e,initMeasurementText:t}=(0,r.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),a=(0,r.d4)(e=>e.mirror.appModel.currentPage),l=n.useMemo(()=>e2.w3z.findMeasurement(e,a),[e,a]),i=n.useRef(!l?.freeText);return l?n.createElement(ay,{name:t,setName:e=>{let a=ah.q.instance.get(l.fromNode);if(a){if(i&&e===t)return;th.l7.user("free-text-annotation-measurement",()=>{a.updateMeasurementFreeText(l.id,e)})}},maxWidth:150}):null}function aw(){let e=(0,r.d4)(e=>e.mirror.selectionProperties.name),t=(0,r.d4)(e=>e.mirror.selectionProperties.width);return null!=e&&t?n.createElement(aT,{name:e,setNameWithNodeId:(t,a)=>{tf.wt.reportEditActionIf(e!==a,"rename-section"),th.l7.user("rename-section",()=>tE.i(t,a?a.trim():""))},maxWidth:t}):null}function aT(e){let{name:t,setNameWithNodeId:a,maxWidth:l}=e,i=(0,ag.uQ)(),o=aE(t,e=>{i&&a(i,e)},l),s=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===e2.m1T.DESIGN_LAYOUT),{fontSize:c,top:d,left:u,height:m,horizontalPadding:p,verticalPadding:_,borderRadius:f}=function(e,t,a){let{fontSize:n,padding:l,margin:i,cornerRadius:o}=(0,r.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),s=e2.qmM.editorTypeConfig().showBigSectionNamePills(),c=l.x,d=l.y,u=s?24:2*l.y+n,m=0,p=-i.y-u,_=e2.qmM.editorTypeConfig().sectionNestedZoomLevel();return(!e||t<=_)&&(m=i.x,p=i.y),{fontSize:n,height:u,top:p,left:m,horizontalPadding:c,verticalPadding:d,borderRadius:o}}((0,r.d4)(e=>{if(null===i)return!1;let t=e.mirror.sceneGraph.get(i),a=e.mirror.appModel.currentPage,n=!!t?.isResponsiveSet;return t&&("SECTION"===t.type||n)&&t.parentGuid===a}),Math.round(100*(0,t7._X)({subscribeToUpdates_expensive:!0}).zoomScale),0);if(!o||!i)return null;let{containerRef:h,measurerRef:g,containerStyle:E,editingName:y,onFocus:v,onChange:b,onKeyDown:C,onBlur:w,width:T,setIsComposing:S}=o,N=s?"normal":500;return n.createElement("div",{ref:h,className:`on_canvas_name_editor--sectionNameContainer--D8aez ${en.Dm}`,style:E},n.createElement("span",{ref:g,className:"on_canvas_name_editor--sectionMeasurer--kfBij",style:{fontSize:c,fontWeight:N,paddingLeft:p,paddingRight:p,paddingTop:_,paddingBottom:_}},y),n.createElement("input",{autoFocus:!0,dir:"auto",className:"on_canvas_name_editor--sectionNameInput--MgIUi",style:{width:`${T}px`,fontSize:c,fontWeight:N,left:u,top:d,height:m,borderRadius:f,paddingLeft:p,paddingRight:p,paddingTop:_,paddingBottom:_},value:y,onFocus:v,onChange:b,onKeyDown:C,onBlur:w,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onCompositionEnd:()=>S(!1),onCompositionStart:()=>S(!0)}))}var aS=a(384714),aN=a(102930),ax=a(55069),ak=a(672517),aI=a(520425),aA=a(488578),aL=a(321112);function aO(e){let t=(0,N.iZ)();return n.createElement(ak.fu,{name:"Starter team edit confirmation modal",properties:{userId:t?.id,userEmail:t?.email}},n.createElement(aA.Rw,{confirmationTitle:(0,d.t)("fullscreen.starter_team_edit_modal.open_this_link"),confirmText:"Continue",onConfirm:()=>{(0,eO.sx)("Starter File Edit Modal Confirm Clicked",{fileKey:e.fileKey}),aI.L.createStarterTeamFileRole({key:e.fileKey})},disableClickOutsideToHide:!0,hideOnConfirm:!1,size:"small",hideCancel:!1,hideClose:!0,onCancel:()=>{(0,eO.sx)("Starter File Edit Modal Cancel Clicked",{fileKey:e.fileKey}),i.Ay.redirect("/files/recents-and-sharing")}},n.createElement("div",{className:aL.jE},(0,d.tx)("fullscreen.starter_team_edit_modal.when_you_open_this_link_your_email_may_be_visible",{email:t?.email}))))}let aR=(0,a(237870).Ju)(function(e){return n.createElement(aA.Nb,{size:"small",className:aL.yl,disableClickOutsideToHide:!0,hide:e5.lQ},n.createElement("div",{className:aL.DD},(0,d.tx)("file_migration.updating.title")),n.createElement("div",{className:aL.jE},(0,d.tx)("file_migration.updating.message")))},"FileMigrationWarningModal");function aM(){return(0,r.d4)(e=>e.progressBarState)}let aD=(0,s.xx)((e,t,a)=>{e(h.gI()),e(f.mV({}))});function aP(){switch((0,T.p8)("onCanvasNameEditorInfo").mode){case C.nzw.FRAME_NAME:return n.createElement(av,null);case C.nzw.FLOW_STARTING_POINT_NAME:return n.createElement(ab,null);case C.nzw.SECTION_NAME:return n.createElement(aw,null);case C.nzw.MEASUREMENT_FREE_TEXT:return n.createElement(aC,null);case C.nzw.RESPONSIVE_SET_NAME:return n.createElement(aw,null);default:return null}}function aF(){let e=aM(),t=(0,r.d4)(e=>e.showingOpenDesktopAppModal),a=(0,r.wA)();if(e.mode!==C.Oin.OFF)return n.createElement(n.Fragment,null);switch(t){case A.kF.FOR_OPEN:return n.createElement(aN.g,{dispatch:a});case A.kF.FOR_MENU:return n.createElement(aS.s,{dispatch:a})}return n.createElement(n.Fragment,null)}function aB(e){let t=(0,S.q5)(),a=(0,N.iZ)();return e.showStartModal&&a&&t&&t.key?n.createElement(aO,{fileKey:t.key}):n.createElement(n.Fragment,null)}function aU(){let e=(0,n.useRef)(null),t=(0,n.useRef)(!1),a=aM(),l=(0,r.wA)(),i=(0,r.d4)(e=>e.needsUpgrade),o=(0,n.useCallback)(()=>{null!==e.current&&(clearTimeout(e.current),e.current=null)},[e]),s=(0,n.useCallback)(()=>{o(),e.current=setTimeout(()=>{t.current=!0,i&&a.mode!==C.Oin.OFF&&l((0,g.to)({type:aR}))},2e4)},[i,a,l,o]),c=(0,n.useCallback)(()=>{t.current&&l(g.Ce()),t.current=!1,o()},[t,o,l]);(0,n.useEffect)(()=>(v.Y5.fromFullscreen.on("multiplayerConnect",s),v.Y5.fromFullscreen.on("multiplayerDisconnect",o),v.Y5.fromFullscreen.on("multiplayerGotSchema",c),()=>{v.Y5.fromFullscreen.removeListener("multiplayerConnect",s),v.Y5.fromFullscreen.removeListener("multiplayerDisconnect",o),v.Y5.fromFullscreen.removeListener("multiplayerGotSchema",c),o()}),[o,s,c])}function aH(e,t,a){!t.current&&function(e,t){if(t===C.NLJ.VECTOR_PENCIL||t===C.NLJ.ERASER||t===C.NLJ.HIGHLIGHTER){var a;return a="figjam",(0,k.uE)("Pointer Input",x.D.getState(),{inputSource:e.pointerType,tool:function(e){switch(e){case C.NLJ.VECTOR_PENCIL:return"VECTOR_PENCIL";case C.NLJ.ERASER:return"ERASER";case C.NLJ.HIGHLIGHTER:return"HIGHLIGHTER"}}(t),productType:a}),!0}return!1}(e,a)&&(t.current=!0)}function aG(e,t){t.current||(t.current=!0)}function aV({commentsDetailContainerRef:e}){let t=(0,T.p8)("topLevelMode")===C.lyf.HISTORY,a=(0,r.d4)(e=>e.openFile),l=(0,r.d4)(e=>e.user),i=(0,T.p8)("currentPage"),o=(0,r.d4)(e=>e.comments),s=(0,_.l7)(),c=o.activeThread?.id||null,d=o.showOnlyParticipating,u=o.showResolved;return n.createElement(n.Fragment,null,n.createElement(ax.Ay,null),l&&a&&!t&&!s&&n.createElement(O.$2,{showOnlyParticipatingComments:d,showResolvedComments:u,pageId:i,activeId:c,renderDetailContainerInPortal:!0,detailContainerPortal:e.current}),n.createElement(au.yL,null),n.createElement(as,null))}function az(){C.h3O?.detach();let e=document.getElementById("fullscreen-root");e?.remove()}function aK(e,t){let{openFile:a,wasInWorkshop:n,previousCanEdit:r,previousCanView:l,wasInUnclaimedTryFile:s,previousFileKey:c}=e;if(null==a){n||(az(),o.zl.get(L._)||(0,b.A7)((0,d.t)("404.file_no_access.title"),t));return}let u=s&&!a.isTryFile;if((null!==r&&a.canEdit!==r||null!==l&&a.canView!==l)&&!u&&a.key===c){let e=new URLSearchParams(i.Ay.location.search);e.set("perms-refresh","1"),i.Ay.replace(`${i.Ay.location.pathname}?${e.toString()}`,i.Ay.location.state),i.Ay.reload("file access changed")}}function aW(){let e=(0,E.E3)(),t=e===I.nT.Design,a=e===I.nT.Sites,r=e===I.nT.Whiteboard,i=e===I.nT.Slides,o=e===I.nT.DevHandoff,s=(0,_.l7)(),d=(0,y.GS)(),f=(0,m.g)();return(0,w.T)()?null:o||s?n.createElement(c.tH,{boundaryKey:"DevModeLeftPanel",fallback:c.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:l.eBU.DEVELOPER_TOOLS}},n.createElement(p.O,null)):t?n.createElement(q,null):a?n.createElement(tu,null):i?n.createElement(tJ,null):r&&d?n.createElement(td,null):f?n.createElement(u,null):null}},563814:(e,t,a)=>{a.d(t,{O:()=>m});var n=a(411855),r=a(188507),l=a(203264),i=a(626217),o=a(143922),s=a(598393),c=a(29680),d=a(286723),u=a(118335);function m(){let e=(0,r.wA)(),t=(0,c.aV)(),a=(0,r.d4)(e=>e.selectedView.compareChangesVersionId),m=(0,s.VI)(),p=(0,r.d4)(e=>e.selectedView?.view==="fullscreen"&&e.selectedView.compareChangesNodeId||null),_=(0,s.WL)(p)??m,f=(0,l.ei)(_?.id),h=(0,i.i)(_),{versions:g,versionsQueryLoaded:E}=(0,d.DS)(_?.id),y=!E||0===g.length||!f,v=(0,r.d4)(e=>e.modalShown?.type===u.EH.type),b=(0,o.dU)(_?.id??null,"cc_version_id_url");n.useEffect(()=>{a&&!t&&E&&!v&&(h&&!y?b():(0,u.L$)(void 0,e,!1,null))},[a,e,t,v,y,h,b,E])}},994878:(e,t,a)=>{a.d(t,{C_:()=>h,E0:()=>u,iv:()=>_,LP:()=>f,JI:()=>p,v2:()=>m});var n=a(411855),r=a(188507),l=a(598045),i=a(935283),o=a(91408),s=a(563706),c=a(809831),d=a(860168);let u=(0,o.hG)(d.tui);function m(){let e=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t,appModel:a}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.SECTION&&(e.name||a.onCanvasNameEditorInfo.mode===l.nzw.SECTION_NAME)),t=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.STAMP),a=(0,r.d4)(({mirror:{selectionProperties:e}})=>e.nodeSelectedValidForQuickAdd);return"whiteboard"===(0,c.lg)()?e?40:t&&s.XN?40:a?20+u/2:l.qmM?.shouldRenderTableUiForSelection()!==l.miS.HIDE?20+u/2:16:8}function p(){return(0,r.d4)(e=>e.mirror.appModel.hyperlinkLocation)}function _(e,t,a,n){switch(n){case l.cfv.ABOVE:return a<e.y?l.cfv.ABOVE:l.cfv.BELOW;case l.cfv.BELOW:return a>e.y?l.cfv.BELOW:l.cfv.ABOVE;case l.cfv.LEFT:return t<e.x?l.cfv.LEFT:l.cfv.RIGHT;case l.cfv.RIGHT:return t>e.x?l.cfv.RIGHT:l.cfv.LEFT;default:(0,i.xb)(n)}}function f(e){let t=n.useRef({frameHandle:null,didMenuMidpointChange:!1,didSelectionChange:!1,lastMidpoint:{x:0,y:0},lastSelection:{}}),a=n.useCallback(()=>{let{current:a}=t;a.didMenuMidpointChange&&a.didSelectionChange&&e.current?.animate(),a.frameHandle||(a.frameHandle=setTimeout(()=>{a.didMenuMidpointChange=!1,a.didSelectionChange=!1,a.frameHandle=null},0))},[e]);return{markSelectionChanged:n.useCallback(e=>{Object.keys(t.current.lastSelection).length&&(t.current.didSelectionChange=!0,a()),t.current.lastSelection=e},[a]),markPositionChanged:n.useCallback(e=>{let{current:n}=t;(e.x!==n.lastMidpoint.x||e.y!==n.lastMidpoint.y)&&(n.didMenuMidpointChange=!0,a()),n.lastMidpoint=e},[a])}}let h=n.forwardRef(function({children:e},t){let a=n.useRef(null);return n.useImperativeHandle(t,()=>({animate:()=>{a.current&&(a.current.style.animation="none",a.current.offsetTop,a.current.style.animation="")}})),n.createElement("div",{ref:a,className:"inline_editor_layer--animationRoot--pX-db"},e)})},648836:(e,t,a)=>{a.d(t,{k:()=>E});var n=a(411855),r=a(188507),l=a(598045),i=a(935283),o=a(374626),s=a(592096),c=a(809831),d=a(395701),u=a(809511),m=a(555074),p=a(457630),_=a(100197),f=a(425187),h=a(260378),g=a(994878);function E({children:e,isShown:t,centerInFrame:a,anchorToRect:i,showInReadOnly:o}){let s;let[c,d]=n.useState(!1),[f,h]=n.useState(!1),E=n.useRef(null),{markPositionChanged:v,markSelectionChanged:b}=(0,g.LP)(E),C=(0,r.d4)(({mirror:{appModel:e}})=>[u.QOV.DEFAULT,u.QOV.SELECTING_TEXT,u.QOV.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),w=(0,r.d4)(({mirror:{appModel:e}})=>e.isReadOnly),T=(0,p._X)({subscribeToUpdates_expensive:t}),S=(0,_.J2)(l.Ez5.canvasViewState().selectionBoundingRect),N=(0,_.J2)(l.Ez5.canvasViewState().inlineMenuTarget),x=i||N?.boundingBox||S,k=(0,g.JI)(),I=(0,r.d4)(e=>e.mirror.sceneGraphSelection),A=(0,m.kl)("isTableSublayerSelected"),L=(s=l.cfv.ABOVE,N?.preferredPosition?s=N.preferredPosition:A&&(s=l.cfv.BELOW),s),O=!!k||!T||!x||!C||w&&!o||!t;n.useEffect(()=>{(O||f)&&c&&d(!1)},[O,c,f]);let R=T?.offsetX||0,M=T?.offsetY||0;return(n.useEffect(()=>{d(!1)},[I,R,M]),n.useEffect(()=>{b(I)},[I,b]),O)?n.createElement(g.C_,{ref:E},null):n.createElement(y,{viewport:T,animationContainerRef:E,centerInFrame:a,boundingBox:x,preferredRelativePosition:L,setSizeChanged:h,isHovering:c,setIsHovering:d,markPositionChanged:v},e)}function y({children:e,viewport:t,animationContainerRef:a,centerInFrame:r,boundingBox:u,preferredRelativePosition:m,setSizeChanged:_,isHovering:E,setIsHovering:y,markPositionChanged:v}){let[b,C]=(0,o.fp)(f.f),w=b.positionRelativeToSelection,T=n.useRef(null),S=(0,c.lg)(),N=(0,g.v2)(),x=r?0:N,k=(0,s.FQ)(),I=(0,p.Yb)(t,u),A=n.useMemo(()=>({...I,x:I.x+t.x,y:I.y+t.y}),[I,t]),L=n.useCallback((e,a,n,r)=>{if(t){let i=e-t.x,o=a-t.y,s=(0,p.$$)(t,{x:i,y:o-r/window.devicePixelRatio});l.glU.figjamInlineMenuPositionUpdate(s.x,s.y,n.height)}v({x:e+n.width/2,y:a+n.height/2});let i=(0,g.iv)(A,e,a,m);w!==i&&C({type:"SET_POS_RELATIVE_TO_SELECTION",payload:i})},[t,v,A,w,C,m]),O=n.useCallback((e,t,a)=>{switch(a){case l.cfv.ABOVE:return[(0,h.Al)(e,t),r?(0,h.tJ)(e,t):(0,h.T1)(e,t,x)];case l.cfv.BELOW:return[(0,h.Al)(e,t),r?(0,h.tJ)(e,t):(0,h.DH)(e,t,x)];case l.cfv.LEFT:return[(0,h.Dl)(e,t,20),r?(0,h.tJ)(e,t):e.y];case l.cfv.RIGHT:return[(0,h.Yh)(e,20),r?(0,h.tJ)(e,t):e.y];default:(0,i.xb)(a)}},[x,r]),R=n.useCallback((e,t,a)=>{let[n,r]=O(e,t,a);return d.r.fromOriginAndSize(n,r,t.width,t.height)},[O]),M=n.useCallback((e,t,a,n,i)=>!r&&a===l.cfv.ABOVE&&n.top()>i.top()?R(e,t,l.cfv.BELOW):!r&&a===l.cfv.BELOW&&n.top()<i.top()?R(e,t,l.cfv.ABOVE):a===l.cfv.LEFT&&n.left()>i.left()?R(e,t,l.cfv.RIGHT):a===l.cfv.RIGHT&&n.left()<i.left()?R(e,t,l.cfv.LEFT):n,[R,r]),D=n.useCallback((e,a,n,r)=>{let l=d.r.fromOriginAndSize(t.x,t.y,t.width,t.height),i=R(e,a,m),o=k(i,l,r),s=M(e,a,m,o,i);return s!==o&&(o=k(s,l,r)),[o.left(),o.top()]},[m,t.height,t.width,t.x,t.y,k,R,M]);if(!(0,p.ZT)(I,t))return n.createElement(g.C_,{ref:a},null);let P="whiteboard"===S&&E?{transition:"transform 0.1s"}:{};return P.WebkitUserSelect="none",n.createElement(h.lM,{style:P,targetRect:A,onMouseEnter:()=>{y(!0),T.current&&clearTimeout(T.current),T.current=null},onMouseLeave:()=>{T.current=setTimeout(()=>y(!1),100)},offset:x,positionXY:D,onPosition:L,frozen:E,setSizeChanged:_},n.createElement(g.C_,{ref:a},e))}},665194:(e,t,a)=>{a.d(t,{h5:()=>f,hs:()=>h,mb:()=>_,sv:()=>g});var n=a(935283),r=a(966712),l=a(226055),i=a(177505),o=a(335682),s=a(694687),c=a(187882),d=a(733378);let u=/^Page \d+$/;var m=(e=>(e.FILE_LOADING="fileLoading",e.K_12="k12",e.FLAG="flag",e.READ_ONLY="readOnly",e.PERSONAL_DRAFT="personalDraft",e))(m||{});function p(){let e=(0,o.q5)(),t=(0,c.cT)(),a=(0,s.sZ)();if(!e)return"fileLoading";if(!(0,r.kc)().figjam_pages_for_education){let t=!!a?.k12_google_org,n=!!e.team?.studentTeamAt;if(t||n)return"k12"}return(0,r.kc)().figjam_pages_creation?t?"readOnly":(0,d.Qy)(e)?"personalDraft":null:"flag"}var _=(e=>(e.ADD_PAGE="addPage",e.VIEW_PAGES="viewPages",e))(_||{});function f({nonDividerPageCount:e,isDropdownOpen:t}){let a=p(),r=(0,i.nn)(),o=(0,l.GS)(),s=r&&!u.exec(r);if("fileLoading"===a)return null;if(e>1||s||t&&!o)return"viewPages";switch(a){case null:return"addPage";case"flag":case"readOnly":case"personalDraft":return"viewPages";case"k12":return null;default:(0,n.xb)(a)}}function h(){return null===p()}function g(){return null===p()}},547841:(e,t,a)=>{a.d(t,{a:()=>u});var n=a(411855),r=a(91408),l=a(179479),i=a(374626),o=a(177505),s=a(653671),c=a(860168);let d=(0,r.hG)(c.xM9);function u({pagesList:e,scrollContainerRef:t}){let a=(0,o.dh)(),r=(0,i.md)(s.l7),c=(0,l.F)(e),d=(0,l.F)(!!r);(0,n.useLayoutEffect)(()=>{d.current||m({pageId:a,pagesList:c.current,scrollContainerRef:t})},[a,t,c,d]),(0,n.useLayoutEffect)(()=>{r&&m({pageId:r,pagesList:c.current,scrollContainerRef:t})},[r,t,c])}function m({pageId:e,pagesList:t,scrollContainerRef:a}){let n=a.current;if(!n)return;let r=t.findIndex(t=>t.nodeId===e);if(-1===r)return;let l=r*d,i=l+d,o=n.getScrollTop(),s=o+n.getTrackHeight();l<o?n.scrollTo(l-d/2):i>s&&n.scrollTo(o+(i-s)+d/2)}},294461:(e,t,a)=>{a.d(t,{P:()=>w});var n=a(411855),r=a(326331),l=a(327006),i=a(629019),o=a.n(i),s=a(91408),c=a(374626),d=a(574176),u=a(939863),m=a(259927),p=a(226055),_=a(457630),f=a(544403),h=a(719624),g=a(860168);let E="floating_layers_panel--isExpanded--qjuJR",y="floating_layers_panel--chevronIcon--rNFmc";var v=a(87616),b=a(440691);let C=(0,s.jz)(g.M$q);function w({children:e,title:t=null,nodeIcon:a=null,panelActions:i=null,onSizeChange:s,bottom:g,left:w,hide:T}){let[S,N]=n.useState(!1),x=(0,p.GS)(),k=n.useRef(null),I=(0,_.QU)({subscribeToUpdates_expensive:!0}),A=(0,c.md)(h.Sf),L=x?(I-(A?.current?.clientWidth??0))/2-C-6:I/2,[O,R]=n.useState(230),M=S?Math.min(O,L):230;return n.useEffect(()=>{s&&s(M)},[M,s]),n.createElement(f.w,{className:o()("floating_layers_panel--container---6H4q",m.Dm,"devHandoffFloatingLayersPanel","pagesPanel"),style:{bottom:g,left:w,display:T?"none":void 0},ref:k,size:M,defaultSize:230,disableResizing:!S,side:"right",onResize:e=>{R(Math.min(Math.max(e,230),L))},id:"focus-floating-left-panel","data-cancel-insertable-resource-drag-and-drop":!0},n.createElement("div",{className:"floating_layers_panel--containerInner--GVica"},n.createElement("button",{className:o()("floating_layers_panel--header--YtDpH",{[E]:S}),onClick:function(){N(!S)}},!S&&a,n.createElement("div",{className:"floating_layers_panel--middle--QR7nt"},n.createElement("div",{className:o()("floating_layers_panel--title--pH3fr",{"floating_layers_panel--hasNoIconWhenCollapsed--F2ap6":!a&&!S})},(0,u.tx)("dev_handoff.tag.layers")),!S&&t),S&&i,x&&(S?n.createElement(r.r,{className:y}):n.createElement(l.a,{className:y})),!x&&(S?n.createElement(d.B,{className:y,svg:v.A}):n.createElement(d.B,{className:y,svg:b.A}))),n.createElement("div",{className:o()("floating_layers_panel--listContainer--Kr9-C",{[E]:S})},e)))}},72112:(e,t,a)=>{a.d(t,{m:()=>_});var n=a(411855),r=a(188507),l=a(776250),i=a(153234),o=a(939863),s=a(369870),c=a(318812),d=a(459343),u=a(377020),m=a(267850),p=a(860142);function _(e){let t=(0,r.wA)(),a=(0,c.Um)(),_=a?.type===u.eg;return(0,r.d4)(e=>e.isRenaming)?null:n.createElement("div",null,n.createElement(d.c,{className:"file_menu--chevron--55jNJ",isUI3:!0,dropdownKey:u.eg,showingDropdown:_,tabIndex:0,ariaLabel:(0,o.t)("fullscreen.filename_view.edit_file_menu"),dataTestId:"filename-menu-chevron",recordingKey:i.Pt(e.recordingKey,"chevron"),dataOnboardingKey:u.O0,dispatch:t,toggleOnClick:!0}),(0,s.MP)()&&n.createElement(p.e,{isUI3:!0,targetKey:u.O0}),n.createElement(m.G,{dropdownTargetRect:a?.data?.targetRect,dispatch:t,dropdownVisible:_,recordingKey:e.recordingKey,activatePathOnMount:a?.data?.activatePathOnMount,trackEvent:l.sx}))}},830375:(e,t,a)=>{a.d(t,{n:()=>g});var n=a(411855),r=a(188507),l=a(697322),i=a(629019),o=a.n(i),s=a(388809),c=a(153234),d=a(857766),u=a(52570),m=a(335682),p=a(860178),_=a(377020),f=a(733378);let h="filename_view--renaming--cVUNf";function g(e){let t=(0,p.iZ)(),a=(0,m.q5)(),i=a?.repo,g=!!(a&&i&&(0,d.Ns)(a,i)),E=!!(a&&(0,d.Kz)(a)),y=!!a&&(0,f.DF)(a,t),v=(0,r.d4)(e=>e.isRenaming),b=(0,r.d4)(e=>e.mergingStatus),C=(0,r.d4)(e=>e.openFileMerge),w=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),T=(0,r.d4)(e=>e.modalShown),S=(0,r.wA)();return n.createElement("div",{className:o()("filename_view--filenameView--b0c-Y",{[h]:v})},E&&n.createElement("span",{className:o()("filename_view--branchIcon--0Svod",{[h]:v})},n.createElement(l.L,null)),n.createElement("span",{className:o()("filename_view--filenameText--YXXQf",{[h]:v})},g&&i?n.createElement(_.IS,{dispatch:S,user:t,repo:i,canRename:y,isRenaming:v,dataTestId:"repo_name_data_test_id"}):n.createElement(_.o3,{recordingKey:c.Pt(e.recordingKey,"fileName")})),a?.fileRepoId&&t?.id&&n.createElement(n.Fragment,null,n.createElement(s.aY,{openFile:a,modalShown:T,topLevelMode:w,dispatch:S}),n.createElement(u.jQ,{repoId:a.fileRepoId,openFileKey:a.key,currentUserId:t.id,appMergingStatus:b,openFileMerge:C})))}},872135:(e,t,a)=>{a.d(t,{d:()=>R});var n=a(411855),r=a(629019),l=a.n(r),i=a(966712),o=a(752207),s=a(964881),c=a(226055),d=a(335682),u=a(860178),m=a(595755),p=a(187882),_=a(439398),f=a(377020),h=a(324666),g=a(427072),E=a(872429),y=a(72112),v=a(830375),b=a(188507),C=a(998917),w=a(939863),T=a(670915),S=a(857766),N=a(143678),x=a(590843),k=a(525060);function I(){let e=(0,d.q5)(),t=e?.repo,a=!!(t&&(0,S.Ns)(e,t)),r=!!(e&&(0,S.Kz)(e)),l=(0,b.wA)();return r&&t?n.createElement(k.o,{repo:t,dispatch:l,trackingContextName:N.e0.EDITOR_TOOLBAR_ACTION}):a&&e.fileRepoId?n.createElement(A,null):null}function A(){let e=(0,b.wA)(),t=n.useContext(x.X);return null===t||t<1?null:n.createElement(C.E,{className:"repo_info--button--3ej13",onClick:()=>e(T.o5({trackingContextName:N.e0.EDITOR_TOOLBAR_ACTION}))},(0,w.tx)("fullscreen.filename_view.branch-count",{BRANCHES:t}))}let L="left_panel_header--leftPanelHeader--o6fb0",O="leftPanelHeader";function R(){let e=(0,d.q5)(),t=e?.key,a=(0,u.iZ)(),r=(0,c.GS)(),i=(0,E.cJ)(),o=(0,p.Ye)(),h=(0,s.l7)(),g=(0,s.X0)(),b=!!(t&&e&&e.name);return r?b?t?n.createElement("div",{className:l()(L,{"left_panel_header--noBorder--7ckj3":g})},!o&&n.createElement("div",{className:"left_panel_header--fileControls--0Q7aC"},n.createElement(v.n,{recordingKey:O}),!h&&n.createElement(y.m,{recordingKey:O})),n.createElement(I,null),n.createElement("div",{className:"left_panel_header--folderRow--GBzFM"},n.createElement(f.ur,{openFile:e,user:a}),e&&n.createElement(_.s,{openFile:e})),i&&n.createElement(M,null)):null:n.createElement("div",{className:l()(L,"left_panel_header--loading--ppyM5")},n.createElement(m.cQ,null)):null}function M(){let e=(0,d.q5)(),t=e?.key;return n.createElement(n.Fragment,null,(0,i.kc)().sts_pub_middleware&&t&&n.createElement(D,{fileKey:t}),n.createElement("div",{className:"left_panel_header--publishRow--7joWm"},n.createElement(h.go,null)))}function D({fileKey:e}){let t=(0,g._t)(e);return(0,g.XS)()&&e&&t?n.createElement("a",{href:t.fullURL,target:"_blank",className:"left_panel_header--siteURL--8LDBr"},n.createElement(o.G,{text:t.domain})):null}},105437:(e,t,a)=>{a.d(t,{B:()=>Z});var n=a(411855),r=a(188507),l=a(976404);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.5 6a.5.5 0 0 1 .5.5V7h10a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7v2.5a.5.5 0 0 1-1 0v-12a.5.5 0 0 1 .5-.5ZM7 8v7h10V8H7Zm6.854 1.446a.5.5 0 0 1 0 .707L12.707 11.3l1.147 1.146a.5.5 0 0 1-.708.707L12 12.007l-1.146 1.146a.5.5 0 0 1-.708-.707l1.147-1.146-1.147-1.147a.5.5 0 0 1 .708-.707L12 10.593l1.146-1.147a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"}))}var o=a(140838),s=a(629019),c=a.n(s),d=a(517333),u=a(966712),m=a(646240),p=a(374626),_=a(563706),f=a(498480),h=a(416827),g=a(762638),E=a(939863),y=a(259927),v=a(127122),b=a(818),C=a(226055),w=a(356390),T=a(213190),S=a(227944),N=a(29680),x=a(335682),k=a(99506),I=a(316081),A=a(498606),L=a(147723),O=a(7860),R=a(187882),M=a(439398),D=a(641344),P=a(334290),F=a(111075),B=a(443230),U=a(324666),H=a(872429),G=a(830375),V=a(107190),z=a(145479),K=a(865636);function W(){let e=(0,m.Xr)(B.K_);return(0,p.md)(B.jJ)&&!(0,u.kc)().sites_disable_auto_linting?null:n.createElement(h.J,{"aria-label":(0,E.t)("sites.panel.see_unsupported_properties"),onClick:e,recordingKey:"left-panel-island.toggle-sites-lint-errors",htmlAttributes:{"data-tooltip":(0,E.t)("sites.panel.see_unsupported_properties"),"data-tooltip-type":A.Ib.TEXT}},n.createElement(i,null))}function j(){let e=(0,x.q5)(),t=(0,S.Zr)("toggle-sidebar"),a=(0,H.cJ)(),{isLeftPanelCollapsed:r}=(0,n.useContext)(O.t),l=(0,T.q)(),i=(0,v.Ut)()&&!d.eD&&!_.nW&&e?.editorType===k._Y.DESIGN,s=t&&n.createElement(h.J,{"aria-label":l?(0,E.t)("fullscreen_actions.expand-ui"):(0,E.t)("fullscreen_actions.minimize-ui"),onClick:()=>w.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-onboarding-key":L.ue,"data-tooltip":l?(0,E.t)("fullscreen_actions.expand-ui"):(0,E.t)("fullscreen_actions.minimize-ui"),"data-tooltip-type":A.Ib.TEXT,"data-tooltip-shortcut-key":"toggle-sidebar"}},n.createElement(o.C,null));if(!r)return n.createElement("div",{className:"left_panel_island--toggleMinimizeUITargetInactive--LNKFx"},n.createElement(P.n8,null),n.createElement(V.E,null),a&&n.createElement(W,null),n.createElement(z.J,null),n.createElement(D.A,null),i&&n.createElement(F.$0,null),s);{let t=(0,E.t)("fullscreen_actions.expand-ui");return n.createElement("button",{onClick:()=>w.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),"data-tooltip-type":A.Ib.TEXT,"data-tooltip":t,"aria-label":t,className:"left_panel_island--toggleMinimizeUITarget--pk9db left_panel_island--toggleMinimizeUITargetInactive--LNKFx"},n.createElement("div",{className:"left_panel_island--fileControls--SDe2O"},n.createElement(G.n,null),e&&n.createElement(M.s,{openFile:e})),n.createElement(P.n8,null),s)}}function Z(){let e=(0,H.cJ)(),t=(0,r.d4)(e=>e.isRenaming),a=(0,C.GS)(),i=(0,b.b)(),{isLeftPanelCollapsed:o}=(0,n.useContext)(O.t),s=(0,R.GQ)(),d=(0,N.aV)(),m=(0,r.d4)(e=>e.mirror.appModel.showUi),p=n.useRef(null),_=a&&!d&&m,f=o&&!t&&_,h=(0,K.E)(p,f),g=(0,l.U1)(),E=(0,n.useCallback)(e=>{(0,I.cZ)(p,e),g(o?e:null)},[g,o]);if(!_)return null;let v=e&&(0,u.kc)().sites_alpha&&!o;return n.createElement("div",{className:c()(y.Dm,"left_panel_island--islandContainer--Sowsa",{"left_panel_island--collapsed--pmqBr":o,"left_panel_island--withShadow--oSo1W":o,"left_panel_island--withInsetEditorEnabled--wIkJu":i}),style:o?t&&"number"==typeof h?{width:Math.max((0,R.bV)(),h)}:{maxWidth:(0,R.JX)()}:{width:s},ref:E},v?n.createElement("div",{className:"left_panel_island--fileControlsAlphaGroup---rBDZ"},n.createElement(P.xG,null),n.createElement(Y,null)):n.createElement(P.xG,null),n.createElement(j,null))}function Y(){let e=(0,n.useRef)(null),[t,a]=(0,n.useState)(!1);return n.createElement("div",{ref:e},n.createElement(f.Ex,{className:c()("left_panel_island--alphaBadgeHover--GJq0e",g.cx.mr0.$),text:(0,E.t)("file_browser.creation_buttons.alpha"),color:f.zE.DEFAULT,size:f.vj.SMALL,onClick:()=>a(!t)}),t&&e.current&&n.createElement(U.g9,{targetRect:e.current.getBoundingClientRect(),onClose:()=>a(!1)}))}},789819:(e,t,a)=>{a.d(t,{n:()=>r});var n=a(411855);function r(){return n.createElement("div",{className:"left_panel_island_spacer--islandSpacer--5ynLJ"})}},107190:(e,t,a)=>{function n(){return null}a.d(t,{E:()=>n}),a(411855),a(45623),a(762638),a(488983),a(498606)},145479:(e,t,a)=>{a.d(t,{J:()=>u});var n=a(411855),r=a(598045),l=a(811027),i=a(939683),o=a(416827),s=a(939863),c=a(100197),d=a(498606);function u(){let e=(0,c.J2)(r.Ez5?.uiState().showMissingFontsButton),t=(0,i.U)();return e?n.createElement(o.J,{onClick:()=>{t("missing_fonts_button_clicked"),r.glU.findMissingFontsAndShowPopover()},recordingKey:"toolbarView.missingFontsButton","aria-label":(0,s.t)("fullscreen.toolbar.missing_fonts"),htmlAttributes:{"data-tooltip":(0,s.t)("fullscreen.toolbar.missing_fonts"),"data-tooltip-type":d.Ib.TEXT}},n.createElement(l.z,null)):null}},865636:(e,t,a)=>{a.d(t,{E:()=>r});var n=a(411855);function r(e,t){let[a,r]=(0,n.useState)(null);return(0,n.useLayoutEffect)(()=>{if(!e||!e.current||!t)return;r(e.current.getBoundingClientRect().width);let a=new ResizeObserver(e=>{e.forEach(e=>{let t=e.borderBoxSize?.[0];r(t?t.inlineSize:e.contentRect.width)})});return a.observe(e.current),()=>a.disconnect()},[e,t]),a}},800307:(e,t,a)=>{a.d(t,{Q:()=>c});var n=a(411855),r=a(629019),l=a.n(r),i=a(818),o=a(617453),s=a(100197);let c=n.forwardRef(({shouldAnimate:e=!0,ignoreRulers:t,children:a},r)=>{let c=(0,s.J2)((0,o.UK)().renderRulers),d=(0,i.b)();return n.createElement("div",{ref:r,className:l()("left_panel_positioner--leftPanelPositioner--8Yehe",{"left_panel_positioner--withShowingRulers--xB1lD":c&&!t,"left_panel_positioner--withAnimation--pFRuR":e,"left_panel_positioner--withInsetEditorEnabled--GYcUX":d})},a)})},165195:(e,t,a)=>{a.d(t,{a:()=>es,S:()=>eo});var n=a(411855),r=a(188507),l=a(598045),i=a(374626),o=a(119198),s=a(931828),c=a(456104),d=a(974105),u=a(335682),m=a(309798),p=a(99506),_=a(833629),f=a(945020),h=a(397065),g=a(319008),E=a(457261),y=a(988424),v=a(788256),b=a(463546),C=a(666258),w=a(168289),T=a(965626),S=a(881388),N=a(251960),x=a(860178),k=a(396021);let I=[w.wn.CREATE_FRAME,w.wn.FORMAT_FRAME,w.wn.CREATE_TEXT,w.wn.FORMAT_TEXT];var A=a(721047),L=a(302245),O=a(966712),R=a(939863),M=a(295463),D=a(925714),P=a(261503);function F(e,t){let a=w.wn.CREATE_FRAME,{tutorialPlayedUserFlag:r,stepCompletedUserFlag:i}=(0,k.Of)(a,t);return{name:a,tutorialPlayedUserFlag:r,stepCompletedUserFlag:i,duration:t?8900:5200,startingState:t?{centerNodeMatcher:D.C7,resetStartingState:{hubFileId:O.Ay()?.cursor_bot?.product_page_hub_file_id,nodeWidth:D.e7,nodeHeight:D.HX}}:void 0,steps:function(e,t){let a=[{type:w.HQ.SET_CHAT,message:"Just click and drag, like this.",additionalDelay:600},{type:w.HQ.CHANGE_TOOL,toolType:l.NLJ.FRAME}];return t?a.push({type:w.HQ.INSERT_NODE,payload:{nodeType:"FRAME",width:D.b7,height:D.mg},nodeName:D.Ur,locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:D.C7,offsetX:523,offsetY:285},nodeNameForLogging:w.Le.PRODUCT_FRAME_CHERRIES_FRAME,additionalDelay:1200,cursorMovementAnimationDuration:600,nodeDrawingAnimationDuration:1500},{type:w.HQ.SET_CHAT,message:"Then add elements into frames, like images.",additionalDelay:700},{type:w.HQ.INSERT_NODE,locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,D.xK)(e,0)},payload:{nodeType:"RECTANGLE",fillType:"image",imgSrc:"https://static.figma.com/uploads/eccc694a7069c9cafd11d1b91b27e0a5c5e7a394",width:D.b7,height:D.g1},nodeName:"Image",nodeNameForLogging:w.Le.CHERRIES_FRAME_CHERRIES_IMAGE,additionalDelay:1e3,cursorMovementAnimationDuration:600,cursorPosition:w.$2.BOTTOM_RIGHT},{type:w.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,D.xK)(e,1),nodeNameForLogging:w.Le.PRODUCT_FRAME_CHERRIES_FRAME}):a.push({type:w.HQ.INSERT_NODE,payload:{nodeType:"FRAME",width:117,height:48},locationType:w.bn.DEFAULT,nodeName:"Frame 1",nodeNameForLogging:w.Le.NO_BASICS_FILE_FRAME,additionalDelay:1500,cursorMovementAnimationDuration:500,nodeDrawingAnimationDuration:1500}),a.push({type:w.HQ.CLEAR_CHAT}),a}(0,t),TooltipElement:t=>{let{primaryCtaProps:a,secondaryCtaProps:r,onPrimaryCtaClick:l,onSecondaryCtaClick:i}=(0,M.W)({isReplay:e,props:t});return n.createElement(P.e,{onPrimaryCtaClick:l,onSecondaryCtaClick:i,primaryCtaProps:a,secondaryCtaProps:r,onClose:t.onClickClose,bodyText:(0,R.t)("cursor_bot.a_frame_will_hold_the_rest_of_your_design"),fromCursorBot:!0})}}}var B=a(497306),U=a(762638),H=a(101505),G=a(672517),V=a(67350);function z(e){let t=(0,r.d4)(e=>e.isFullscreenDocumentLoaded);return n.useEffect(()=>{t&&l.glU.triggerAction("set-tool-type",null)},[t]),n.createElement(V.b,{dismissModal:e.onClose,disableHighlight:!0,targetKey:"tool-type-onboarding",title:(0,R.tx)("cursor_bot.add_words_where_needed"),trackingContextName:"Cursor Bot Create Text Step",lowerLeftText:n.createElement(G.$z,{onClick:e.onBackCtaClick,className:U.cx.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:H.c.BACK}},(0,R.tx)("general.back")),onPrimaryCtaClick:e.onPrimaryCtaClick,primaryCtaProps:e.primaryCtaProps,onSecondaryCtaClick:e.onSecondaryCtaClick,secondaryCtaProps:e.secondaryCtaProps,pointsTo:"toolbar"},(0,R.tx)("cursor_bot.all_designs_need_words_so_create_a_text_layer_anywhere_and_start_typing_simple_as_that"))}function K(e,t,a){let r=w.wn.CREATE_TEXT,{tutorialPlayedUserFlag:i,stepCompletedUserFlag:o}=(0,k.Of)(r,t);return{name:r,tutorialPlayedUserFlag:i,stepCompletedUserFlag:o,duration:t?11400:6600,startingState:t?{centerNodeMatcher:e=>(0,D.xK)(e,D.$5),resetStartingState:{hubFileId:O.Ay()?.cursor_bot?.ginger_no_text_hub_file_id,nodeWidth:D.e7,nodeHeight:D.HX}}:{centerNodeMatcher:D.ok},steps:function({shouldSkipYup:e,isInBasicsFile:t}){let a=[];return t?a.push({type:w.HQ.SET_CHAT,message:(e?"":"Yup: ")+"Just click into your frame and type.",additionalDelay:500}):a.push({type:w.HQ.SET_CHAT,message:(e?"":"Yup: ")+"Just click into your frame and type.",additionalDelay:500,hasBackupMessage:!0,shouldShowBackupMessage:e=>void 0===(0,B.cy)(D.ok,e),backupMessage:(e?"":"Yup: ")+"Just click to add a text node and type."}),a.push({type:w.HQ.CHANGE_TOOL,toolType:l.NLJ.TYPE,additionalDelay:1200}),t?a.push({type:w.HQ.INSERT_NODE,nodeName:D.qw,payload:{nodeType:"TEXT",text:D.qw,height:16},locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,D.xK)(e,1),offsetX:24,offsetY:334},cursorPosition:w.$2.BOTTOM_LEFT,nodeNameForLogging:w.Le.CHERRIES_FRAME_CHERRIES_TEXT,cursorMovementAnimationDuration:600,additionalDelay:400},{type:w.HQ.CHANGE_TOOL,toolType:l.NLJ.TYPE,additionalDelay:300},{type:w.HQ.INSERT_NODE,nodeName:D.A8,payload:{nodeType:"TEXT",text:D.A8,height:16},locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,D.xK)(e,2),offsetX:316,offsetY:334},cursorPosition:w.$2.BOTTOM_LEFT,nodeNameForLogging:w.Le.CHERRIES_FRAME_PRICE_TEXT,additionalDelay:400},{type:w.HQ.CHANGE_TOOL,toolType:l.NLJ.TYPE,additionalDelay:300},{type:w.HQ.INSERT_NODE,nodeName:D.$j,payload:{nodeType:"TEXT",text:D.$j,height:16},locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,D.xK)(e,3),offsetX:24,offsetY:368},cursorPosition:w.$2.BOTTOM_LEFT,nodeNameForLogging:w.Le.CHERRIES_FRAME_GROWN_TEXT,additionalDelay:1e3}):a.push({type:w.HQ.INSERT_NODE,nodeName:D.N1,payload:{nodeType:"TEXT",text:D.N1,width:29,height:16,shouldCenterAlign:!0,typingDurationPerCharMs:200},cursorPosition:w.$2.BOTTOM_LEFT,locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:D.ok,offsetX:-14.5,offsetY:-7.5,shouldPositionRelativeToCenterOfParent:!0,useDefaultLocationIfParentNotFound:!0},nodeNameForLogging:w.Le.NO_BASICS_FILE_TEXT,cursorMovementAnimationDuration:600,additionalDelay:1500}),a}({shouldSkipYup:e||!a,isInBasicsFile:t}),TooltipElement:t=>{let{primaryCtaProps:a,secondaryCtaProps:r,onPrimaryCtaClick:l,onSecondaryCtaClick:i}=(0,M.W)({isReplay:e,props:t});return n.createElement(z,{onPrimaryCtaClick:l,onSecondaryCtaClick:i,primaryCtaProps:a,secondaryCtaProps:r,onClose:t.onClickClose,onBackCtaClick:t.onClickBack})}}}var W=a(425037),j=a(354537);let Z=(0,L.Mz)([e=>e.userFlags,(e,t)=>t],(e,t)=>t.reduce((t,a)=>({...t,[a.name]:!!e[a.stepCompletedUserFlag]}),{}));var Y=(e=>(e.PanAndZoom="pan_and_zoom",e.YoureAllSet="youre_all_set",e))(Y||{}),X=a(513276),q=a(629019),J=a.n(q),Q=a(776250),$=a(946689),ee=a(457630),et=a(498606),ea=a(423095),en=a(246497);let er=n.memo(({currentTutorial:e,stateManager:t})=>{let a;let r=(0,i.md)(C.a8),l=(0,i.md)(C.jE),o=n.useCallback(()=>{let e=d.current;return e?Math.min(Math.round(e/l*100),100):0},[l]);n.useEffect(()=>{let a=a=>{a&&27===a.keyCode&&(0,k.XC)(r)&&((0,Q.sx)("Cursor Bot Tutorial Canceled via Escape",{tutorialName:e.name}),t.stopCurrentTutorial({timeElapsed:d.current,tutorialPercentageComplete:o(),tutorialName:e.name,stopTrigger:w.mf.ESC_KEY}))};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[r,t,o,e.name]);let[s,c]=(0,i.fp)(C.mH),d=n.useRef(0),u=n.useRef();if(n.useEffect(()=>{if(!(0,k.XC)(r)){d.current=0,clearInterval(u.current),u.current=void 0;return}let e=setInterval(()=>d.current+=17,17);return u.current=e,()=>clearInterval(e)},[r]),(0,k.XC)(r)){let e=o(),t=(0,X.keyframes)({from:{backgroundPosition:`${100-e}% center`},to:{backgroundPosition:"left"}}),n=l-d.current;a={animation:`${t} ${n}ms linear`}}let m=(0,ee.ni)(),p=n.useMemo(()=>({top:m.y+g.hH+4}),[m.y]);return n.createElement("div",{className:en.CL,style:p},n.createElement("div",{className:J()({[ea.e]:s}),onAnimationEnd:()=>{c(!1)}},n.createElement("div",{className:en.KB,style:a},n.createElement($.Kz,{multiple:1,direction:"x"}),n.createElement("div",null,e.name),n.createElement($.Kz,{multiple:1,direction:"x"}),n.createElement(G.$z,{className:en.gd,onClick:()=>{t.stopCurrentTutorial({timeElapsed:d.current,tutorialPercentageComplete:o(),tutorialName:e.name,stopTrigger:w.mf.STOP_BTN})},"data-tooltip-type":et.Ib.TEXT,"data-tooltip":(0,R.t)("cursor_bot.stop_tutorial"),trackingProperties:{trackingDescriptor:H.c.STOP_TUTORIAL,tutorialName:e.name},"aria-label":(0,R.t)("cursor_bot.stop_tutorial")},(0,R.tx)("collaboration.spotlight.bell.presenter.stop")))))}),el="create_frame_animation--frameCornerSquare--TEcO4";function ei(){let e=(0,ee._X)({subscribeToUpdates_expensive:!1}),t=(0,i.md)(C.Dh);if(null==t)return null;let{x:a,y:r,width:l,height:o,duration:s}=t,c=(0,ee.Yb)(e,{x:a,y:r,width:l,height:o}),d=e.x+c.x,u=e.y+c.y;return n.createElement("div",{style:{top:u,left:d,width:`${c.width}px`,height:`${c.height}px`,position:"absolute"}},n.createElement("div",{style:{border:"1px solid #4497F7",animationDuration:`${s}ms`},className:"create_frame_animation--animationFrame--4fuzR"},n.createElement("div",{style:{top:-3,left:-3,background:"#ffffff"},className:el}),n.createElement("div",{style:{top:-3,left:"calc(100% - 3px)",background:"#ffffff"},className:J()(el)}),n.createElement("div",{style:{top:"calc(100% - 3px)",left:"calc(100% - 3px)",background:"#ffffff"},className:el}),n.createElement("div",{style:{top:"calc(100% - 3px)",left:-3,background:"#ffffff"},className:el})))}function eo(){let{isShowing:e,show:t,complete:a,uniqueId:g}=(0,c.e)({overlay:b.SyB,priority:h.N.OVERRIDING_MODAL}),L=(0,r.wA)(),O=(0,r.Pj)(),R=(0,r.d4)(e=>e.isFullscreenDocumentLoaded),M=(0,r.d4)(e=>e.mirror.appModel.multiplayerSessionState===l.kul.JOINED),D=(0,A.b)(),P=(0,i.md)(C.a8),B=(0,m.f)("has_cursor_bot_onboarding_v2");!function(e,t,a){let n=(0,x.iZ)(),l=(0,r.wA)(),i=(0,m.f)("has_cursor_bot_onboarding_v2"),o=(0,u.Cq)({useSinatraType:!0}),c=(0,_.WO)(n?.id,o,["exp_cursor_bot_onboarding"]),d=e=>{let n={...function(e){let t={format_text_step_shown:!1,design_panel_step_shown:!1};for(let a of(e?t.cursor_bot_v2__basics_onboarded=!1:(t.has_zoomed_in_design_file=!1,t.has_panned_in_design_file=!1,t.cursor_bot_v2__basics_onboarded=!1,t.cursor_bot_v2__no_basics_onboarded=!1),I)){let{tutorialPlayedUserFlag:n,stepCompletedUserFlag:r}=(0,k.Of)(a,e);t[n]=!1,t[r]=!1}return t}(c),cursor_bot_v2__basics_file__started_flow:!1,cursor_bot_v2_has_greeted_with_wave:!1};e&&(n.has_cursor_bot_onboarding_v2=!0),l(s.b(n)),t||a()};(0,N.E)(e,T.Wl,()=>{o?.editor_type===p._Y.DESIGN?d(!0):l(S.s.error("Cursor Bot can only be run in Figma design."))}),(0,N.E)(e,"Reset Onboarding",()=>{i&&o?.editor_type===p._Y.DESIGN&&d()})}(g,e,t);let[U,H]=n.useState(v.en.FORWARD),G=function(){let e=(0,m.f)("has_cursor_bot_onboarding_v2"),t=(0,m.f)("cursor_bot_v2__basics_file__started_flow"),a=(0,_.Ai)(["exp_cursor_bot_onboarding"]),l=(0,_.jm)(a),i=function(e){let t=!!(0,m.f)("cursor_bot_v2_has_greeted_with_wave"),a=!!(0,m.f)((0,k.Of)(w.wn.CREATE_FRAME,e).tutorialPlayedUserFlag),r=!!(0,m.f)((0,k.Of)(w.wn.FORMAT_FRAME,e).tutorialPlayedUserFlag),l=!!(0,m.f)((0,k.Of)(w.wn.CREATE_TEXT,e).tutorialPlayedUserFlag),i=!!(0,m.f)((0,k.Of)(w.wn.FORMAT_TEXT,e).tutorialPlayedUserFlag);return(0,n.useMemo)(()=>e?[F(a,e),K(l,e,t),(0,j.Z)(i,e),(0,W.p)(r,e)]:[F(a,e),(0,W.p)(r,e),K(l,e,t),(0,j.Z)(i,e)],[e,t,a,l,i,r])}(a),o=(0,r.d4)(e=>Z(e,i));if(!e||l||!a&&t)return null;let s=0;if(i.forEach(e=>{o[e.name]&&(s+=1)}),s>=i.length)return a?"youre_all_set":"pan_and_zoom";let c={...i[s]};return s>0&&(c.previousTutorialCompleteUserFlag=i[s-1].stepCompletedUserFlag),c}(),V=(0,_.Ai)(["exp_cursor_bot_onboarding"]),z=(0,_.Y3)(),X=(0,_.jm)(V),q=z||X,J=u.q5()?.canEdit;n.useEffect(()=>{!q&&!e&&B&&G&&R&&M&&J&&t()},[q,e,t,B,G,R,M,J]),n.useEffect(()=>{e&&(X||!G)&&a()},[e,a,X,G]);let Q=(0,m.f)("cursor_bot_v2__basics_file__started_flow");if(n.useEffect(()=>{e&&V&&!Q&&L(s.b({cursor_bot_v2__basics_file__started_flow:!0}))},[L,V,e,Q]),!e||!G)return null;let $=()=>{V?L(s.b({cursor_bot_v2__basics_onboarded:!0})):L(s.b({cursor_bot_v2__no_basics_onboarded:!0})),a()};if(G===Y.YoureAllSet)return n.createElement(E.J,{onPrimaryCtaClick:()=>{let e=(0,d.xA)(O.getState(),f.ai.NEW_TAB,"drafts",{from:f.f6.CURSOR_BOT_END_MODAL,selectedView:O.getState().selectedView},p._Y.DESIGN,void 0);L(o.uM(e)),$()},onSecondaryCtaClick:$,onClose:$});if(G===Y.PanAndZoom)return n.createElement(y.iF,{markComplete:$});if(P===w.h0.PLAYING)return n.createElement(es,{cursorBotStateManager:D,currentTutorial:G});let ee=()=>{G.previousTutorialCompleteUserFlag&&(H(v.en.BACKWARD),L(s.b({[G.previousTutorialCompleteUserFlag]:!1})))},et=()=>{H(v.en.FORWARD),L(s.b({[G.stepCompletedUserFlag]:!0}))};return n.createElement(G.TooltipElement,{onClickShowMe:()=>D.runTutorial(G),onClickNext:et,onClickClose:$,onClickBack:ee,skip:U===v.en.BACKWARD?ee:et})}function es({cursorBotStateManager:e,currentTutorial:t}){return n.createElement(n.Fragment,null,n.createElement(T.Yh,null),n.createElement(er,{currentTutorial:t,stateManager:e}),n.createElement(ei,null),n.createElement(g.Qe,null))}},721047:(e,t,a)=>{a.d(t,{b:()=>P});var n=a(411855),r=a(188507),l=a(374626),i=a(646240),o=a(239349),s=a(777078),c=a(862442),d=a(843495),u=a(309798),m=a(100197),p=a(433861),_=a(666258),f=a(598045),h=a(776250),g=a(568214),E=a(776621),y=a(30637),v=a(672715),b=a(881388),C=a(410424),w=a(931828),T=a(83909),S=a(356390),N=a(662531),x=a(497306),k=a(457630),I=a(106112),A=a(279702),L=a(485861),O=a(168289),R=a(396021);let M=(0,y.Lg)()?0:300;class D{constructor(e,t,a,n,r,l,i,o,s,c,d,u,m,p,_,h,g,E,v,b,C){this.setCursorBotX=e,this.setCursorBotY=t,this.setCursorBotChat=a,this.setCursorBotAnimationDuration=n,this.setCursorBotTutorialPhase=r,this.setCursorType=l,this.setCursorDirection=i,this.setToolbarActionWithSimulatedHover=o,this.setCursorBotAnimationLayerPosition=s,this.setCursorBotOverlayType=c,this.setCursorBotTutorialDuration=d,this.hasWaved=u,this.cursorBotX=m,this.cursorBotY=p,this.getViewportInfo=_,this.navigate=h,this.sceneGraph=g,this.infoForSentry=E,this.dispatch=v,this.insertTemplate=b,this.appModel=C,this.waitForDuration=(e,t)=>new Promise(a=>{this.setTimeoutWrapper({callback:a,delay:(0,y.Lg)()&&!t?0:e,isBlockingTutorialExecution:!0})}),this.unblockUserEventsTimeout=null,this.blockUserEvents=()=>{f.Ez5.editorState().shouldBlockUserEvents.set(!0),T.wt.setIsCursorBotEditing(!0),(0,y.Lg)()||(this.unblockUserEventsTimeout=setTimeout(()=>{this.unblockUserEvents()},6e4))},this.unblockUserEvents=()=>{this.setCursorBotTutorialPhase(O.h0.AWAITING_PLAYBACK),f.Ez5.editorState().shouldBlockUserEvents.set(!1),this.unblockUserEventsTimeout&&clearTimeout(this.unblockUserEventsTimeout),this.unblockUserEventsTimeout=null,T.wt.setIsCursorBotEditing(!1)},this.animateChat=(e,t)=>{if(e>t.length||this.shouldStop)return;let a=t.slice(0,e);this.setCursorBotChat(a),this.setTimeoutWrapper({callback:()=>{this.animateChat(e+1,t)},delay:(0,y.Lg)()?0:35,isBlockingTutorialExecution:!1})},this.startingStateHubFiles={},this.shouldStop=!1,this.timeoutIds=[],this.pendingCallbacksToRun=[]}runTutorial(e,t){let a=async()=>{for(let t of(await this.setupStateAndCanvas(e),e.steps)){if(this.shouldStop)return;try{await this.transition(t,e.name)}catch(a){this.logErrorAndStopTutorial("Could not execute step",{step:t,err:a,tutorialName:e.name});return}}this.resetStateAndMarkTutorialComplete(e.tutorialPlayedUserFlag,t)};(0,v.Lk)(R.tF);let n=window.performance.now();return this.currentTutorialRunningPromise=a(),this.currentTutorialRunningPromise.finally(()=>{(0,v.Dz)(R.tF);let t=window.performance.now()-n;(0,E.Lo)(R.tF,"Tutorial completed or stopped",{elapsedDuration:t,tutorialName:e.name})}),this.currentTutorialRunningPromise}insertStartingStateFromHubFile({hubFileId:e,nodeWidth:t,nodeHeight:a,tutorialName:n}){if(!e)throw Error("Hub file ID is not provided");let r=async e=>{let r=f.qmM.findBoundsToCenterNewTopLevelNode(t+88,a),l=r.origin.x+88,i=r.origin.y;await this.centerViewportAroundCanvasRect({x:l,y:i,width:t,height:a}),await this.waitForDuration(this.moveCursorBot({x:l+t/2,y:i+a/2,coordinateType:"canvas",animationDuration:600})),await this.transition({type:O.HQ.SET_CHAT,message:"Here\u2019s another example..."},n),await this.insertTemplate({template:{type:I.n.HubFile,template:e},userTriggered:!1,editScopeType:f.zkO.ONBOARDING,triggeredFrom:"cursor-bot",templateInsertionDirection:f.hKj.CUSTOM_POSITION,templateCustomPosition:{x:l,y:i},selectTemplateAfterInsertion:!0}),await this.waitForDuration(500)};return this.startingStateHubFiles[e]?r(this.startingStateHubFiles[e]):new Promise((t,a)=>{this.dispatch(C.ts({hubFileId:e,callback:async e=>{try{this.startingStateHubFiles[e.id]=e,await r(e),t()}catch(e){a(e)}}}))})}logSentryError(e,t){(0,E.x1)(R.tF,e,t,{reportAsSentryError:!0})}logErrorAndStopTutorial(e,t){this.logSentryError(e,t),this.dispatch(b.s.error("Could not run tutorial. Please try again later.")),this.stopCurrentTutorial({tutorialName:t.tutorialName,stopTrigger:O.mf.STATE_MANAGER_ERROR,errorMessage:e,nodeName:t.name})}async stopCurrentTutorial(e){this.shouldStop=!0,this.timeoutIds.forEach(e=>clearTimeout(e)),this.pendingCallbacksToRun.forEach(e=>e()),await this.currentTutorialRunningPromise,this.resetCursorBotStateToDefaults(),this.unblockUserEvents(),e&&(0,h.sx)("Cursor Bot Tutorial Stopped",{...e})}updatePositionState(e,t){this.cursorBotX=e,this.cursorBotY=t}updateSceneGraphReference(e){this.sceneGraph=e}updateInfoForSentry(e){this.infoForSentry=e}updateAppModel(e){this.appModel=e}updateHasWaved(e){this.hasWaved=e}setTimeoutWrapper({callback:e,delay:t,isBlockingTutorialExecution:a}){this.timeoutIds.push(setTimeout(e,t)),a&&this.pendingCallbacksToRun.push(e)}resetCursorBotStateToDefaults(){this.tutorialParentNode=void 0,this.setCursorBotX(_.Lw),this.setCursorBotY(_.WW),this.setCursorBotChat(""),this.setCursorBotAnimationDuration(0),this.setCursorType(f.z7E.DEFAULT),this.setToolbarActionWithSimulatedHover(void 0),this.setCursorDirection(O.zu.DEFAULT),this.setCursorBotOverlayType(O.JJ.CANVAS),this.timeoutIds=[],this.pendingCallbacksToRun=[]}async navigateToPageNodesOrDefaultViewport(){let e=this.sceneGraph.getCurrentPage()?.childrenGuids;e&&e.length>0?f.NfO.scrollAndZoomIntoView(e):await this.navigate({centerX:0,centerY:0,scale:3})}getSelectedNodeIfMatches(e){if(""!==f.glU.getFirstSelectedNodeIdForCurrentPage()){let t=f.glU.getFirstSelectedNodeIdForCurrentPage(),a=this.sceneGraph.get(t);if(a&&e(a,this.sceneGraph))return a}}computeAndSetTutorialDuration(e){let t=e.duration;if(e.startingState){let{centerNodeMatcher:a,resetStartingState:n}=e.startingState;!(0,x.cy)(a,this.sceneGraph)&&n&&(t+=3e3)}this.hasWaved||(t+=R.Y4+R.YX),this.setCursorBotTutorialDuration(t),(0,E.Lo)(R.tF,"Estimated tutorial duration",{tutorialDuration:t,tutorialName:e.name})}async setupStateAndCanvas(e){if(this.blockUserEvents(),this.shouldStop=!1,this.timeoutIds=[],this.computeAndSetTutorialDuration(e),e.startingViewportFrameType&&this.setCursorBotOverlayType(e.startingViewportFrameType),this.setCursorBotTutorialPhase(O.h0.PLAYING),this.hasWaved||(this.setTimeoutWrapper({callback:()=>{this.hasWaved=!0,this.dispatch(w.b({cursor_bot_v2_has_greeted_with_wave:!0}))},delay:R.Y4,isBlockingTutorialExecution:!1}),await this.transition({type:O.HQ.SET_CHAT,message:"Certainly! Here\u2019s how...",additionalDelay:R.YX,preDelay:R.Y4},e.name)),void 0!==e.startingState){let t;let{centerNodeMatcher:a,prioritizeSelectedNode:n,resetStartingState:r}=e.startingState;if(n&&(t=this.getSelectedNodeIfMatches(a)),t||(t=(0,x.WY)(a,this.sceneGraph)),!t&&r)try{await this.insertStartingStateFromHubFile({...r,tutorialName:e.name}),t=(0,x.cy)(a,this.sceneGraph)}catch(t){this.logErrorAndStopTutorial("Could not insert starting state from hub file for tutorial",{err:t,tutorialName:e.name});return}if(t){this.tutorialParentNode=(0,x.E6)(this.sceneGraph,t.guid)??void 0;let e={centerX:t.absoluteBoundingBox.x+t.absoluteBoundingBox.w/2,centerY:t.absoluteBoundingBox.y+t.absoluteBoundingBox.h/2,scale:.2},a=f.NfO.getViewportBounds(),n=(0,R.dK)(t,{width:a.width,height:a.height,zoom:this.getViewportInfo().zoomScale});null==n||isNaN(n)||(e.scale=n),await this.navigate(e)}else await this.navigateToPageNodesOrDefaultViewport()}else await this.navigateToPageNodesOrDefaultViewport()}resetStateAndMarkTutorialComplete(e,t){setTimeout(()=>{this.dispatch(w.b({[e]:!0})),t?.(),this.resetCursorBotStateToDefaults(),this.unblockUserEvents()},M)}async centerViewportAroundCanvasRect(e,t=!1){let{x:a,y:n,width:r,height:l}=e,i=this.getViewportInfo();if(t&&(0,k.UN)(e,i))return;let o=i.zoomScale;(r*o>i.width||l*o>i.height)&&(o=Math.min(i.width/r,i.height/l)/1.1),await this.navigate({centerX:a+r/2,centerY:n+l/2,scale:o})}moveCursorBot({x:e,y:t,coordinateType:a,animationDuration:n}){if("canvas"===a){let a=this.getViewportInfo(),n=(0,k.Z0)(a,{x:e,y:t});e=n.x+a.x,t=n.y+a.y}return n=n||function(e,t,a,n){let r=Math.abs(e-t),l=Math.abs(a-n);return Math.min(Math.round(1.6*Math.sqrt(r*r+l*l)),3e3)}(this.cursorBotX,e,this.cursorBotY,t),this.setCursorBotAnimationDuration(n),this.setCursorBotX(e),this.setCursorBotY(t),n}repositionNode(e,t,a){N.l7.onboarding("reposition-node",()=>e.relativeTransform={...e.relativeTransform,m02:t,m12:a})}async insertNode(e,t,a,n,r){let l;if("RECTANGLE"===e.nodeType){let t=await (0,R.mF)({imgSrc:e.imgSrc,desiredWidth:e.width,desiredHeight:e.height});l=t?this.sceneGraph.get(t):null}else l=N.l7.onboarding("create-node",()=>this.sceneGraph.createNode(e.nodeType));if(!l)return null;if(N.l7.onboarding("size",()=>{l&&f.Egt.setSelectedNodeAndCanvas(l.guid,!1)}),r){let e=(0,x.cy)(r,this.sceneGraph,this.tutorialParentNode);N.l7.onboarding("append-child",()=>l&&e?.appendChild(l))}if(this.repositionNode(l,a,n),N.l7.onboarding("rename-node",()=>{l&&(l.name=t)}),"FRAME"===e.nodeType)N.l7.onboarding("resize-frame",()=>l?.resizeWithoutConstraints(e.width||100,e.height||100));else if("TEXT"===e.nodeType){f.glU.triggerAction("set-tool-default",null),this.setCursorType(f.z7E.DEFAULT);let t=l.parentNode;if(null!==t){let e="CANVAS"===t.type?t.backgroundColor:t.fills[0].color;N.l7.onboarding("set-text-color",()=>{l&&(l.fills=[{...l.fills[0],color:(0,g.HD)(e||g.UE)?g.UE:g.Uv}])})}let a=e.text.length,n=e.typingDurationPerCharMs||50,r=500;for(let t=0;t<a;t++)this.setTimeoutWrapper({callback:()=>{N.l7.onboarding("set-text",()=>{l?.spliceCharacters(l.textData?.characters?.length??t,l.textData?.characters?.length??t,e.text[t],"BEFORE")})},delay:r,isBlockingTutorialExecution:!1}),r+=Math.max(n-t,40);e.shouldCenterAlign&&this.setTimeoutWrapper({callback:()=>{N.l7.onboarding("set-text-horizontal-alignment",()=>{l&&(l.textAlignHorizontal="CENTER",l.textAlignVertical="CENTER")})},delay:r,isBlockingTutorialExecution:!1}),await this.waitForDuration(r)}return l}getCursorBotNodeInsertionLocation(e){let t;if(e.locationType===O.bn.INSIDE_SCENE_NODE){let{parentMatcher:a,useDefaultLocationIfParentNotFound:n}=e.location,r=(0,x.cy)(a,this.sceneGraph,this.tutorialParentNode);if(!r)return n?this.getCursorBotNodeInsertionLocation({...e,locationType:O.bn.DEFAULT}):void 0;let l=e.location?.offsetX??0,i=e.location?.offsetY??0,{absoluteBoundingBox:{x:o,y:s,w:c,h:d}}=r;e.location.shouldPositionRelativeToCenterOfParent&&(l+=c/2,i+=d/2),t={cursorBotX:o+l,cursorBotY:s+i,insertionX:l,insertionY:i}}else if(e.locationType===O.bn.CANVAS_COORDINATE)t={cursorBotX:e.location.x,cursorBotY:e.location.y,insertionX:e.location.x,insertionY:e.location.y};else{let a=f.qmM.findBoundsToCenterNewTopLevelNode(e.payload.width??100,e.payload.height??100);t={cursorBotX:a.origin.x,cursorBotY:a.origin.y,insertionX:a.origin.x,insertionY:a.origin.y}}if(void 0!==e.cursorPosition&&null==e.nodeDrawingAnimationDuration){let a=e.payload.width??100,n=e.payload.height??100;switch(e.cursorPosition){case O.$2.BOTTOM_LEFT:t.cursorBotY+=n;break;case O.$2.BOTTOM_RIGHT:t.cursorBotX+=a,t.cursorBotY+=n;case O.$2.TOP_LEFT:}}return t}async transition(e,t){if(this.shouldStop)return;let a=async()=>{switch(e.type){case O.HQ.SET_CHAT:{e.preDelay&&await this.waitForDuration(e.preDelay);let{message:t}=e;e.hasBackupMessage&&e.shouldShowBackupMessage(this.sceneGraph)&&(t=e.backupMessage),this.animateChat(1,t);return}case O.HQ.CLEAR_CHAT:this.setCursorBotChat("");return;case O.HQ.TARGET_DOM_NODE:{let a=(0,L.xT)(e.dataOnboardingKey);if(!a){let a={name:e.dataOnboardingKey,tutorialName:t,...this.infoForSentry};e.continueIfNotFound?this.logSentryError("Failed to find DOM node to target",a):this.logErrorAndStopTutorial("Failed to find DOM node to target",a);return}let{targetX:n,targetY:r}=(0,R.L7)(a,e.position,e.offset);await this.waitForDuration(this.moveCursorBot({x:n,y:r,coordinateType:"dom",animationDuration:e.cursorBotMovementAnimationDuration})),e.triggerHoverOfItemWithName&&this.setToolbarActionWithSimulatedHover(e.triggerHoverOfItemWithName);return}case O.HQ.TARGET_SCENE_NODE:{let a=(0,x.cy)(e.meetsConditions,this.sceneGraph,this.tutorialParentNode);if(e.prioritizeSelectedNode&&(a=this.getSelectedNodeIfMatches(e.meetsConditions)??a),!a){e.continueIfNotFound||this.logErrorAndStopTutorial("Failed to find scene node to target",{name:e.nodeNameForLogging,tutorialName:t});return}await this.centerViewportAroundCanvasRect({x:a.absoluteBoundingBox.x,y:a.absoluteBoundingBox.y,width:a.absoluteBoundingBox.w,height:a.absoluteBoundingBox.h},!0);let n=e.position||{x:O.GF.RIGHT,y:O.NI.BOTTOM},{targetX:r,targetY:l}=(0,R.L7)(a,n,e.offset);await this.waitForDuration(this.moveCursorBot({x:r,y:l,coordinateType:"canvas",animationDuration:e.cursorBotMovementAnimationDuration})),e.shouldSelect&&f.Egt.setSelectedNodeAndCanvas(a.guid,!1);return}case O.HQ.SELECT_SCENE_NODE:{let a;if(e.prioritizeSelectedNode&&(a=this.getSelectedNodeIfMatches(e.meetsConditions)),a||(a=(0,x.cy)(e.meetsConditions,this.sceneGraph,this.tutorialParentNode)),!a){this.logErrorAndStopTutorial("Failed to find scene node to select",{name:e.nodeNameForLogging,tutorialName:t});return}f.Egt.setSelectedNodeAndCanvas(a.guid,!1);return}case O.HQ.INSERT_NODE:{let a=this.getCursorBotNodeInsertionLocation(e);if(void 0===a){this.logErrorAndStopTutorial("Could not find parent scene node to insert node",{name:e.nodeNameForLogging,tutorialName:t});return}let n=e.payload.height??100,r=e.payload.width??100;await this.centerViewportAroundCanvasRect({x:a.cursorBotX,y:a.cursorBotY,width:r,height:n},!0),await this.waitForDuration(this.moveCursorBot({x:a.cursorBotX,y:a.cursorBotY,coordinateType:"canvas",animationDuration:e.cursorMovementAnimationDuration||600})),e.nodeDrawingAnimationDuration&&"FRAME"===e.payload.nodeType&&(this.setCursorBotAnimationLayerPosition({x:a.cursorBotX,y:a.cursorBotY,width:r,height:n,duration:e.nodeDrawingAnimationDuration}),await this.waitForDuration(this.moveCursorBot({x:a.cursorBotX+r,y:a.cursorBotY+n,coordinateType:"canvas",animationDuration:e.nodeDrawingAnimationDuration})));let l=a.insertionX??a.cursorBotX,i=a.insertionY??a.cursorBotY;await this.insertNode(e.payload,e.nodeName,l,i,e.locationType===O.bn.INSIDE_SCENE_NODE?e.location.parentMatcher:void 0),this.setCursorBotAnimationLayerPosition(null);return}case O.HQ.MOVE_CURSOR_TO_CENTER_SCREEN:return this.waitForDuration(this.moveCursorBot({x:this.getViewportInfo().offsetX,y:this.getViewportInfo().offsetY,coordinateType:"canvas",animationDuration:e.cursorBotMovementAnimationDuration}));case O.HQ.CHANGE_TOOL:[f.NLJ.FRAME,f.NLJ.TYPE].includes(e.toolType)?(e.toolType===f.NLJ.TYPE?f.glU.triggerAction("set-tool-type",null):e.toolType===f.NLJ.FRAME&&f.glU.triggerAction("set-tool-frame",null),this.setCursorType(f.z7E.CROSSHAIR)):e.toolType===f.NLJ.HAND?(f.glU.triggerAction("set-tool-hand",null),this.setCursorType(f.z7E.HAND)):e.toolType===f.NLJ.NONE&&(f.glU.triggerAction("set-tool-default",null),this.setCursorType(f.z7E.DEFAULT));return;case O.HQ.MOVE_VIEWPORT:if("displace"===e.movementType)return this.navigate({centerX:this.getViewportInfo().offsetX+e.xDisplacement,centerY:this.getViewportInfo().offsetY+e.yDisplacement,scale:this.getViewportInfo().zoomScale});return this.navigate({centerX:e.centerX,centerY:e.centerY,scale:e.scale||this.getViewportInfo().zoomScale});case O.HQ.ADJUST_ZOOM_LEVEL:return this.navigate({centerX:this.getViewportInfo().offsetX,centerY:this.getViewportInfo().offsetY,scale:e.scale});case O.HQ.SET_CURSOR_DIRECTION:this.setCursorDirection(e.direction);return;case O.HQ.SET_PROPERTIES_PANEL_TAB:(0,d.NT)(e.tab);return;case O.HQ.UPDATE_SELECTED_NODE_PROPERTIES:{let t=f.glU.getFirstSelectedNodeIdForCurrentPage(),a=this.sceneGraph.get(t);if(!a){(0,E.x1)(R.tF,"Failed to find selected node to update",void 0,{reportAsSentryError:!0});return}this.appModel.activeCanvasEditModeType===f.m1T.TEXT&&((0,d.wr)(),f.Egt.setSelectedNodeAndCanvas(t,!1)),S.Y5.updateSelectionProperties({..."function"==typeof e.properties?e.properties(a):e.properties},{shouldCommit:A.zk.YES,editScopeType:f.zkO.ONBOARDING});return}case O.HQ.SCROLL_PROPERTIES_PANEL:(0,R.$1)(e.value);return;case O.HQ.FOCUS_INPUT:{let t=document.querySelector(e.selector);t?t.focus():(0,E.x1)(R.tF,"Failed to find input to focus",{selector:e.selector},{reportAsSentryError:!0});return}case O.HQ.SET_VIEWPORT_FRAME_TYPE:this.setCursorBotOverlayType(e.viewportFrameType);return}};await a();let n=e.additionalDelay||0;e.type===O.HQ.SET_CHAT&&(n+=35*e.message.length),n>0&&await this.waitForDuration(n,e.type===O.HQ.SET_CHAT),await e.callback?.(this.dispatch)}}function P(){let[e,t]=(0,l.fp)(_.jr),[a,f]=(0,l.fp)(_.Sf),h=(0,i.Xr)(_.H7),g=(0,i.Xr)(_.nG),E=(0,i.Xr)(_.Ds),y=(0,i.Xr)(_.Dh),v=(0,i.Xr)(_.a8),b=(0,i.Xr)(_.iB),C=(0,i.Xr)(_.oO),w=(0,i.Xr)(_.$i),T=(0,i.Xr)(_.jE),S=!!(0,u.f)("cursor_bot_v2_has_greeted_with_wave"),N=n.useContext(p.kw),x=(0,c.Z)(),k=(0,r.d4)(e=>e.mirror.sceneGraph),I=(0,r.wA)(),{insertTemplate:A}=(0,s.Fz)(),L=(0,o.VW)(),O=(0,m.J2)((0,d.aY)()),R=(0,r.d4)(e=>e.mirror.appModel.showUi),M=(0,r.d4)(e=>e.mirror.appModel),P=n.useRef();return P.current||(P.current=new D(t,f,g,E,v,b,h,C,y,w,T,S,e,a,()=>N.getViewportInfo(),x,k,{selectedNodeType:L?.type,isUiShown:R,propertiesPanelTab:O},I,A,M)),n.useEffect(()=>{P.current?.updatePositionState(e,a)},[e,a]),n.useEffect(()=>{P.current?.updateSceneGraphReference(k)},[k]),n.useEffect(()=>{P.current?.updateInfoForSentry({selectedNodeType:L?.type,isUiShown:R,propertiesPanelTab:O})},[L,O,R]),n.useEffect(()=>{P.current?.updateAppModel(M)},[M]),n.useEffect(()=>{P.current?.updateHasWaved(S)},[S]),P.current}},295463:(e,t,a)=>{a.d(t,{W:()=>o});var n=a(598045),r=a(939863),l=a(101505),i=a(309798);function o({isReplay:e,props:t}){let a,o,s,c;let d=(0,i.f)("cursor_bot_v2_make_show_me_primary_cta"),u=()=>{t.onClickNext?.(),n.glU.triggerActionInUserEditScope("set-tool-default",null)},m=t.isFollowUp?(0,r.t)("cursor_bot.got_it"):(0,r.t)("tooltips_plus_onboarding.next"),p=t.isFollowUp?l.c.GOT_IT:l.c.NEXT;return d?(a={ctaText:e?(0,r.t)("cursor_bot.show_me_again"):(0,r.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?l.c.SHOW_ME_AGAIN:l.c.SHOW_ME},o={ctaText:m,ctaTrackingDescriptor:p},s=t.onClickShowMe,c=u):(a={ctaText:m,ctaTrackingDescriptor:p},o={ctaText:e?(0,r.t)("cursor_bot.show_me_again"):(0,r.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?l.c.SHOW_ME_AGAIN:l.c.SHOW_ME},s=u,c=t.onClickShowMe),{primaryCtaProps:a,secondaryCtaProps:o,onPrimaryCtaClick:s,onSecondaryCtaClick:c}}},925714:(e,t,a)=>{a.d(t,{$5:()=>p,$j:()=>C,A8:()=>b,AO:()=>R,C7:()=>A,Dl:()=>_,HX:()=>o,IM:()=>P,LW:()=>m,N1:()=>B,Q$:()=>D,TT:()=>L,U4:()=>I,Ui:()=>g,Ur:()=>c,Ut:()=>U,YH:()=>N,YI:()=>h,_q:()=>k,b7:()=>d,bO:()=>T,e7:()=>i,g1:()=>s,mg:()=>u,ok:()=>F,qw:()=>v,ro:()=>E,wG:()=>y,x0:()=>w,xK:()=>O,yz:()=>x,zk:()=>S});var n=a(774191),r=a(497306);let l="Watermelon",i=1440,o=900,s=310,c="Cherries",d=395,u=416,m=24,p=1,_=4,f={r:1,g:1,b:1,a:1},h={r:237/255,g:239/255,b:228/255,a:1};function g(){let e=["r","g","b"].map(e=>({c:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({c:e})=>e);return{r:0,g:86/255,b:65/255,[e[0]]:0,[e[1]]:86/255,[e[2]]:Math.floor(86*Math.random())/255,a:1}}let E={r:225/255,g:228/255,b:217/255,a:1},y={family:"Inter",style:"Regular",postscript:"Inter-Regular"},v="Rainier cherries",b="$3.99 / lb",C="Grown in Linden, CA",w="Semi Bold",T="Italic",S="Roboto Serif",N={r:71/255,g:103/255,b:48/255,a:1},x={r:116/255,g:121/255,b:109/255,a:1},k={value:130/1.21,units:"PERCENT"},I={value:150/1.21,units:"PERCENT"};function A(e,t){return!(!M(e)||!(0,r.cy)(e=>e.name===l,t,e)||(0,r.cy)(e=>e.name===c,t,e))}function L(e,t){return!!function(e){let t=e.parentNode;return"FRAME"===e.type&&e.name===c&&e.absoluteBoundingBox.w===d&&e.absoluteBoundingBox.h===u&&!!t&&M(t)}(e)&&(void 0===t||e.childrenGuids.length===t)}function O(e,t){return!!(L(e,t)&&0===e.cornerRadius&&e.strokePaints?.data?.length===0&&(0,n.Vm)(e.fillPaints?.data[0]?.color,f))}function R(e,t){if(!O(e,t))return!1;for(let t of e.childrenNodes)if("TEXT"===t.type&&!U(t))return!1;return!0}function M(e){return!!e&&"FRAME"===e.type&&"Products"===e.name&&e.absoluteBoundingBox.w===i&&e.absoluteBoundingBox.h===o}function D(e,t){let a=e.parentNode;return"FRAME"===e.type&&e.name===l&&!!a&&A(a,t)}function P(e){return[{type:"SOLID",color:e,blendMode:"NORMAL",opacity:1,visible:!0}]}function F(e){return"FRAME"===e.type&&e.absoluteBoundingBox.w>=90&&!!e.parentNode&&0===e.childrenGuids.length}let B="Hello";function U(e,t){if(void 0!==t&&e.name.toLowerCase()!==t.toLowerCase()||"TEXT"!==e.type||12!==e.fontSize||e.fontName.family!==y.family||e.fontName.style!==y.style)return!1;let a=e.parentNode;return!!a&&O(a,_)}},425037:(e,t,a)=>{a.d(t,{p:()=>E});var n=a(411855),r=a(598045),l=a(966712),i=a(762638),o=a(939863),s=a(101505),c=a(672517),d=a(497306),u=a(833629),m=a(168289),p=a(396021),_=a(295463),f=a(925714),h=a(460528),g=a(493168);function E(e,t){let a=m.wn.FORMAT_FRAME,{tutorialPlayedUserFlag:E,stepCompletedUserFlag:y}=(0,p.Of)(a,t);return{name:a,tutorialPlayedUserFlag:E,stepCompletedUserFlag:y,duration:t?17500:9400,steps:function(e){let t=[];return t.push({type:m.HQ.SET_PROPERTIES_PANEL_TAB,tab:r.FAf.DESIGN}),e?t.push({type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,f.xK)(e,f.Dl),nodeNameForLogging:m.Le.PRODUCT_FRAME_CHERRIES_FRAME,additionalDelay:400}):t.push({type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>"FRAME"===e.type,nodeNameForLogging:m.Le.NO_BASICS_FILE_FRAME,additionalDelay:400,prioritizeSelectedNode:!0}),t.push({type:m.HQ.SET_CURSOR_DIRECTION,direction:m.zu.RIGHT},{type:m.HQ.SET_CHAT,message:"Change how your frames look here.",additionalDelay:500},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:h.W,offset:{x:-28,y:132},position:{x:m.GF.LEFT,y:m.NI.TOP},cursorBotMovementAnimationDuration:600},{type:m.HQ.SET_VIEWPORT_FRAME_TYPE,viewportFrameType:m.JJ.PROPERTIES_PANEL,additionalDelay:1500},{type:m.HQ.SET_CHAT,message:e?"For example: Add color...":"For example: Their color!",additionalDelay:1e3},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.PROPERTIES_PANEL_TITLE,"fill"),position:{x:m.GF.LEFT,y:m.NI.CENTER},additionalDelay:500,cursorBotMovementAnimationDuration:1e3},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:()=>({fillPaints:(0,f.IM)(e?f.YI:(0,f.Ui)())}),additionalDelay:0},{type:m.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.PAINT_PANEL_ROW,"paint-1-0")}"] input`,additionalDelay:1500},{type:m.HQ.CLEAR_CHAT}),e&&t.push({type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.PROPERTIES_PANEL_TITLE,"stroke"),position:{x:m.GF.LEFT,y:m.NI.CENTER},cursorBotMovementAnimationDuration:300,additionalDelay:300},{type:m.HQ.SET_CHAT,message:"A border...",additionalDelay:500},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{strokePaints:(0,f.IM)(f.ro),strokeWeight:2},additionalDelay:10},{type:m.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.PAINT_PANEL_ROW,"paint-2-0")}"] input`,additionalDelay:1500},{type:m.HQ.SCROLL_PROPERTIES_PANEL,value:0,additionalDelay:500},{type:m.HQ.CLEAR_CHAT},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.SCRUBBABLE_CONTROL,"corner-radius"),offset:{x:-25,y:5},cursorBotMovementAnimationDuration:700,additionalDelay:300},{type:m.HQ.SET_CHAT,message:"Or rounded corners!",additionalDelay:500},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{cornerRadius:f.LW},additionalDelay:10},{type:m.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.SCRUBBABLE_CONTROL,"corner-radius")}"] input`,additionalDelay:2500},{type:m.HQ.CLEAR_CHAT}),t}(t),startingState:t?{centerNodeMatcher:e=>(0,f.xK)(e,f.Dl),resetStartingState:{hubFileId:l.Ay()?.cursor_bot?.ginger_formatted_text_hub_file_id,nodeHeight:f.HX,nodeWidth:f.e7}}:{centerNodeMatcher:e=>"FRAME"===e.type},TooltipElement:a=>{let{primaryCtaProps:r,secondaryCtaProps:l,onPrimaryCtaClick:u,onSecondaryCtaClick:m}=(0,_.W)({isReplay:e,props:a});return n.createElement(g.Z,{onPrimaryCtaClick:u,primaryCtaProps:r,secondaryCtaProps:l,onSecondaryCtaClick:m,lowerLeftText:a.onClickBack?n.createElement(c.$z,{onClick:a.onClickBack,className:i.cx.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:s.c.BACK}},(0,o.tx)("cursor_bot.back")):void 0,onClose:a.onClickClose,skip:a.skip,frameNodeMatcher:t?e=>(0,d.WY)(e=>(0,f.TT)(e,f.Dl),e)||(0,d.cy)((e,t)=>(0,f.Q$)(e,t),e):void 0,title:(0,o.t)("cursor_bot.make_it_look_just_right"),bodyText:t?(0,o.t)("cursor_bot.design_panel_can_change_objects"):(0,o.t)("cursor_bot.design_panel_is_key"),fromCursorBot:!0,isFollowUp:a.isFollowUp})}}}},354537:(e,t,a)=>{a.d(t,{Z:()=>y});var n=a(411855),r=a(598045),l=a(966712),i=a(762638),o=a(939863),s=a(239349),c=a(101505),d=a(672517),u=a(497306),m=a(341860),p=a(833629),_=a(168289),f=a(396021),h=a(295463),g=a(925714),E=a(258525);function y(e,t){let a=_.wn.FORMAT_TEXT,{tutorialPlayedUserFlag:y,stepCompletedUserFlag:v}=(0,f.Of)(a,t);return{name:a,tutorialPlayedUserFlag:y,stepCompletedUserFlag:v,duration:t?10500:8500,steps:function(e){let t=[];return t.push({type:_.HQ.SET_PROPERTIES_PANEL_TAB,tab:r.FAf.DESIGN}),e&&t.push({type:_.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,g.Ut)(e,g.$j),prioritizeSelectedNode:!0,nodeNameForLogging:_.Le.CHERRIES_FRAME_GROWN_TEXT,additionalDelay:1e3},{type:_.HQ.TARGET_DOM_NODE,dataOnboardingKey:E.B,offset:{x:-150,y:-50},cursorBotMovementAnimationDuration:800},{type:_.HQ.SET_CHAT,message:"Change how your text looks here.",additionalDelay:1500}),t.push({type:_.HQ.SET_CURSOR_DIRECTION,direction:_.zu.RIGHT},{type:_.HQ.SET_CHAT,message:"Pick your style, size, alignment, and more.",additionalDelay:1200}),e?t.push({type:_.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,g.Ut)(e,g.qw),nodeNameForLogging:_.Le.CHERRIES_FRAME_CHERRIES_TEXT,prioritizeSelectedNode:!0},{type:_.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-style-button"),position:{x:_.GF.LEFT,y:_.NI.CENTER},cursorBotMovementAnimationDuration:500,additionalDelay:1e3},{type:_.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fontSize:20,fontStyle:g.x0,lineHeight:g._q}},{type:_.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,g.Ut)(e,g.A8),nodeNameForLogging:_.Le.CHERRIES_FRAME_PRICE_TEXT},{type:_.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fillPaints:(0,g.IM)(g.YH),fontSize:20,fontStyle:g.x0,lineHeight:g._q,textAlignHorizontal:"RIGHT"}},{type:_.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,g.Ut)(e,g.$j),nodeNameForLogging:_.Le.CHERRIES_FRAME_GROWN_TEXT},{type:_.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fillPaints:(0,g.IM)(g.yz),fontSize:16,lineHeight:g.U4},additionalDelay:1500}):t.push({type:_.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-picker-button"),position:{x:_.GF.LEFT,y:_.NI.CENTER},cursorBotMovementAnimationDuration:600,additionalDelay:500},{type:_.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontFamily:e.fontName.family===g.zk?g.wG.family:g.zk}),additionalDelay:300},{type:_.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-style-button"),position:{x:_.GF.LEFT,y:_.NI.CENTER},cursorBotMovementAnimationDuration:600,additionalDelay:500},{type:_.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontStyle:e.fontName.style===g.bO?g.wG.style:g.bO}),additionalDelay:300},{type:_.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.SCRUBBABLE_CONTROL,"font-size"),position:{x:_.GF.LEFT,y:_.NI.CENTER},cursorBotMovementAnimationDuration:600},{type:_.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,p.Lh)(p.D8.SCRUBBABLE_CONTROL,"font-size")}"] input`,additionalDelay:500},{type:_.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontSize:16===e.fontSize?12:16}),additionalDelay:1500}),t.push({type:_.HQ.CLEAR_CHAT}),t}(t),startingViewportFrameType:t?_.JJ.TEXT_PANEL:_.JJ.PROPERTIES_PANEL,startingState:t?{centerNodeMatcher:e=>(0,g.AO)(e,4),resetStartingState:{hubFileId:l.Ay()?.cursor_bot?.ginger_hub_file_id,nodeHeight:g.HX,nodeWidth:g.e7}}:{centerNodeMatcher:e=>"TEXT"===e.type},TooltipElement:a=>{let r=(0,s.VW)(),{primaryCtaProps:l,secondaryCtaProps:p,onPrimaryCtaClick:_,onSecondaryCtaClick:f}=(0,h.W)({isReplay:e,props:a});return n.createElement(E.P,{onPrimaryCtaClick:_,primaryCtaProps:l,secondaryCtaProps:p,onSecondaryCtaClick:f,lowerLeftText:a.onClickBack?n.createElement(d.$z,{onClick:a.onClickBack,className:i.cx.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:c.c.BACK}},(0,o.tx)("cursor_bot.back")):void 0,onClose:a.onClickClose,getNodeToSelect:t?()=>(0,u.WY)(e=>"TEXT"===e.type&&(e.name===g.$j||"Grown in Tracy, CA"===e.name),m.q.instance):()=>r?.type==="TEXT"?r:(0,u.WY)(e=>"TEXT"===e.type,m.q.instance),skip:a.skip,title:t?(0,o.t)("cursor_bot.pick_the_perfect_font"):(0,o.t)("cursor_bot.and_pick_the_perfect_font"),bodyText:(0,o.t)("cursor_bot.use_the_design_panel_to_turn_basic_text_into_titles"),fromCursorBot:!0,isFollowUp:a.isFollowUp})}}}},20556:(e,t,a)=>{a.d(t,{X:()=>eN});var n=a(411855),r=a(109388),l=a(188507),i=a(598045),o=a(629019),s=a.n(o),c=a(841563),d=a.n(c),u=a(776250),m=a(935283),p=a(91408),_=a(737433),f=a(966712),h=a(374626),g=a(498750),E=a(668876),y=a(951158),v=a(563706),b=a(153234),C=a(776621),w=a(304783),T=a(554322),S=a(572206),N=a(448169),x=a(827586),k=a(256975),I=a(738269),A=a(259927),L=a(13379),O=a(226055),R=a(83909),M=a(356390),D=a(662531),P=a(617453),F=a(634480),B=a(843495),U=a(497306),H=a(341860),G=a(698993),V=a(860178),z=a(100197),K=a(939562),W=a(601607);class j{constructor(e,t,a,n,r={}){this.component=e,this.onMouseDown=t,this.onMouseMove=a,this.onMouseUp=n,this.options=r,this.oldTouch=null,this.draggingID=null,this.deferredDragStart=null,this.onTouchStart=e=>{if(e.stopPropagation(),null===this.draggingID&&e.touches.length>0&&this.shouldAdaptTouch(e.touches[0])){let t=e.touches[0];if(this.draggingID=t.identifier,document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("touchend",this.onTouchEndOrCancel),document.addEventListener("touchcancel",this.onTouchEndOrCancel),this.options.delayInMS){let a=!1;if(this.deferredDragStart=n=>{if(a)return!1;let r=n.clientX-t.clientX,l=n.clientY-t.clientY;return!(10>Math.sqrt(r*r+l*l))&&(a=!0,!this.options.delayInMS&&(this.onMouseDown(this.mouseEvent("mousedown",e,t)),!0))},this.options.delayInMS){let n=this.deferredDragStart;setTimeout(()=>{this.deferredDragStart!==n||a||(this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t)))},this.options.delayInMS)}}else this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t))}},this.onTouchMove=e=>{if(e.stopPropagation(),null!==this.draggingID){for(let t of e.touches)if(t.identifier===this.draggingID){if(this.deferredDragStart){if(!this.deferredDragStart(t))break;this.deferredDragStart=null}e.preventDefault(),this.onMouseMove(this.mouseEvent("mousemove",e,t));break}}},this.onTouchEndOrCancel=e=>{e.stopPropagation(),null!==this.draggingID&&(this.draggingID=null,document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEndOrCancel),document.removeEventListener("touchcancel",this.onTouchEndOrCancel),this.deferredDragStart?this.deferredDragStart=null:this.onMouseUp(this.mouseEvent("mouseup",e,this.oldTouch)))}}mouseEvent(e,t,a){this.oldTouch=a;let n=new MouseEvent(e,{altKey:t.altKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});return Object.defineProperty(n,"target",{value:t.target}),Object.defineProperty(n,"currentTarget",{value:t.currentTarget}),n}shouldAdaptTouch(e){if(!this.options.observeInsideOverflowScroll){let t=r.findDOMNode(this.component);for(let a=e.target;a;a=a.parentElement){let n=getComputedStyle(a).overflowY;if("scroll"===n||"auto"===n){let t=a.getBoundingClientRect();if(e.clientX>=t.left&&e.clientX<t.right&&e.clientY>=t.top&&e.clientY<t.bottom)return!1}if(a===t)break}}return!0}}var Z=a(378762),Y=a(273226),X=a(402609),q=a(638889),J=a(939863),Q=a(101505),$=a(251960),ee=a(456104),et=a(752353),ea=a(126911),en=a(397065),er=a(340514),el=a(798558),ei=a(746806),eo=a(463546);function es(){let{show:e,isShowing:t,complete:a,uniqueId:r}=(0,ee.e)({overlay:eo.xtb,priority:en.N.SECONDARY_MODAL}),l=ea.y.isApple(),i=n.useMemo(()=>n.createElement(q.S,{shortcut:l?"\u2303\u21E7A":"Ctrl+Alt+Shift+A"}),[l]);return(0,$.E)(r,et.in,()=>{e({canShow:()=>!!(0,f.kc)().ce_al_show_msal_onboarding})}),n.createElement(er.rq,{isShowing:t,targetKey:el.vx,arrowPosition:ei.F_.LEFT_TITLE,trackingContextName:"MSAL Onboarding Overlay",title:n.createElement("p",{"data-testid":"msal-onboarding-title"},(0,J.tx)("fullscreen.msal_onboarding.header_with_shortcut",{msalShortcut:i})),description:(0,J.tx)("fullscreen.msal_onboarding.body"),primaryCta:{label:(0,J.tx)("general.got_it"),type:"button",onClick:a,variantOverride:"primary",ctaTrackingDescriptor:Q.c.GOT_IT},secondaryCta:{label:(0,J.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/en-us/articles/5731482952599#suggest",ctaTrackingDescriptor:Q.c.LEARN_MORE},onClose:a,onTargetLost:a,emphasized:!0,disableHighlight:!0})}var ec=a(507956),ed=a(36127),eu=a(187882),em=a(574176),ep=a(739212),e_=a(741944),ef=a(668092);function eh(e){let{top:t,width:a,guid:r,level:l,onMouseEnter:i,recordingKey:o}=e,s=b.rf(o,"click",e=>{B.bd([r])}),c={transform:`translate3d(0px, ${t}px, 0)`,width:a,height:e_.FL},d={width:ep.iy*l*2,marginRight:1===l?ep.iy/2:0};return n.createElement("div",{className:"layer_expansion_row--layerExpansionRow--G8Twa object_row--row--HIYa5",style:c,onMouseDown:e=>e.stopPropagation(),onClick:s,onMouseEnter:i,role:"button",tabIndex:0},n.createElement("span",{className:"layer_expansion_row--layerExpansionIndent--Bg5Df object_row--indent--uZlad",style:d}),n.createElement("span",{className:"layer_expansion_row--iconWrapper--J3NJb object_row--iconWrapper--ivRSW"},n.createElement(em.B,{svg:ef.A})),n.createElement("span",{className:"layer_expansion_row--rowText--yhMnt object_row--rowText--3qo7Q ellipsis--ellipsis--Tjyfa"},(0,J.tx)("design_systems.component_properties.see_all_layers")))}var eg=a(357864),eE=a(716413),ey=a(194792),ev=a(146935);let eb="objects_panel--dropTargetBox--4SX8i",eC=new E.V;function ew(e){return"object"===e.rowType?e.guid:"layer-expansion"===e.rowType?`expand-${e.containingPrimaryInstanceGUID}`:e.sectionId}class eT extends b.o6{constructor(e){super(e),this.state={scrollTop:0,scrollLeft:0,mouseDown:null,dropTarget:null,needsScrollLine:!1},this.cachedAllRowData=[],this.topByGuid=Object.create(null),this.leftByGuid=Object.create(null),this.totalHeight=0,this.setNeedsScrollLine=e=>{this.setState({needsScrollLine:e>0})},this.rangeSelectAnchorNodeId=null,this.getScene=()=>this.props.sceneGraph||H.q.instance,this.initializeRows=e=>{let t=this.getScene(),a=e.customRowBuilder?e.customRowBuilder():(0,eg.Sk)(t,e.topNodeFields,e.showImmutableFrameSublayers,e.temporarilyExpandedInstanceLayers,e.includeTopNode);this.topByGuid=a.topByGuid,this.leftByGuid=a.leftByGuid,this.sectionById=a.sectionById,this.totalHeight=a.totalHeight,this.cachedAllRowData=a.rowData},this.justToggledExpandedGuid=null,this.anchorNodeId=null,this.topNodeDelta=0,this.lastCollapsedScrollPosition=null,this.scrollAfterNodeExpanded=!1,this.lastCollapsedGuid=null,this.hasCrossedDragThreshold=!1,this.onLeftPanelCollapsedChange=e=>{if(!e){let e=this.getTopSelectedNodeId();e&&this.scrollToNode({nodeId:e})}},this.scrollToNodeIdAfterUpdate=null,this.scrollToNode=({nodeId:e,forStackInsertion:t})=>{let a=this.topByGuid[e];if(null==a){let t=this.getScene().get(e);t&&t.parentGuid&&B.hq(t.parentGuid),this.scrollToNodeIdAfterUpdate=e;return}this.isVerticallyVisible(a,a+e_.FL)||this.scrollNodeIntoView(e,{forStackInsertion:t});let n=this.leftByGuid[e]+(0,p.jz)(ev.indentWidth)+(0,p.jz)(ev.baseIconWidth)+(0,p.jz)(ev.rowTextPadding);this.props.horizontalScrollEnabled&&null!=this.leftByGuid[e]&&!this.isHorizontallyVisible(n,n+(0,p.jz)(ev.minLayerNameWidthForAutoscroll))&&this.scrollNodeIntoView(e,{forStackInsertion:t})},this.recalculateLayout=()=>{this.windowInnerHeight=window.innerHeight,this.recalculateRequested=!1},this.recalculateRequested=!1,this.requestRecalculateLayout=()=>{this.recalculateRequested||requestAnimationFrame(this.recalculateLayout)},this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll=null,this.onScroll=e=>{this.isScrolling=!0,this.nextScrollTop=e,null==this.frameRequestY&&(this.frameRequestY=requestAnimationFrame(this.setScrollTopState)),null!=this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(this.doneScrolling,50),this.props.onScroll(e),this.setNeedsScrollLine(e),h.zl.set(ed.uK,{autoScroll:!1})},this.onScrollLeftChanged=(e,t)=>{this.props.horizontalScrollEnabled&&(t||this.props.stopRenaming(!1),this.nextScrollLeft=e,null==this.frameRequestX&&(this.frameRequestX=requestAnimationFrame(this.setScrollLeftState)))},this.doneScrolling=()=>{this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll&&(this.handleMouseEnterAfterScroll(),this.handleMouseEnterAfterScroll=null)},this.computeScrollDelta=e=>{let t=e/e_.FL;return e_.FL*t*t},this.frameRequestY=null,this.frameRequestX=null,this.nextScrollTop=0,this.nextScrollLeft=0,this.setScrollTopState=()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequestY=null},this.setScrollLeftState=()=>{this.setState({scrollLeft:this.nextScrollLeft}),this.frameRequestX=null},this.isNodeSticky=e=>((0,C.xO)(w.e.FIGJAM,this.props),e.parentGuid===this.props.currentPage&&("SYMBOL"===e.type||"FRAME"===e.type&&!e.resizeToFit)),this.isAncestorSticky=e=>{let t=this.getScene(),a=e.parentGuid?t.get(e.parentGuid):null;for(;a&&a.guid!==this.props.currentPage;){if(this.isNodeSticky(a))return!0;a=a.parentGuid?t.get(a.parentGuid):null}return!1},this.stickyHeaderGuid=null,this.lastStickyHeaderGuid=null,this.lastExpansionTarget=null,this.findStickyHeaderRowAndReplaceInVisibleRows=e=>{if(this.stickyHeaderGuid=null,(this.state.scrollTop>0||this.scrollAfterNodeExpanded)&&e.length>0){let t;let a=this.state.scrollTop,n=(e,t,a)=>{if("object"!==e.rowType)return!1;let n=this.findStickyHeader(e,t,a);if(n){let t=this.renderedVisibleRowProps.indexOf(e);t>=0?this.renderedVisibleRowProps[t]=n:this.renderedVisibleRowProps.push(n)}return!!n},r=null;for(let l=0;l<e.length;l++)if(0===(t=e[l]).level){if(r&&n(r,r.top,t.top)||t.top>a)return;r=t}(0,m.KF)(!!r,"has at least one top level section"),n(r,r.top,Number.POSITIVE_INFINITY)}},this.scrollNodeIntoView=(e,t)=>{let a=t&&t.fromAIRename||!1,n=t&&t.forStackInsertion||!1;if(null==this.topByGuid[e]||!this.scrollContainerEl||!this.scrollContainer)return;let r=this.topByGuid[e],l=this.state.scrollTop,i=this.scrollContainerHeight();if(this.stickyHeaderGuid===e){n&&this.scrollContainer.scrollTo(r-1);return}let o=this.getScene().get(e);if(!o)return;a||h.zl.set(ed.uK,{autoScroll:!1});let s=this.isAncestorSticky(o);if(s&&r<l+e_.FL?this.scrollContainer.scrollTo(r-e_.FL):!s&&r<l?this.scrollContainer.scrollTo(r):r+e_.FL>l+i&&this.scrollContainer.scrollTo(r-i/2),this.props.horizontalScrollEnabled&&null!=this.leftByGuid[e]){let t=this.leftByGuid[e];this.scrollContainer.scrollToLeft(t)}},this.rowContextMenu=(e,t)=>{if(this.props.onRowContextMenu){this.props.onRowContextMenu(e,t);return}let a=this.getScene().get(e);if(!a)return;(0,Z.sp)(this.getScene(),this.props.sceneGraphSelection,a.guid)||this.updateSelection(a.guid);let{clientX:n,clientY:r}=t;this.props.dispatch(I.j7({type:A.Rb,data:{clientX:n,clientY:r}}))},this.rowContainerMouseDown=b.cZ(this,"mousedown",e=>{let t=this.guidAtMousePosition(e.clientY);if(!t)return;if(e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&!this.props.renamingGuid&&document.activeElement.blur(),(this.props.allowToggleSelection??!0)&&(0,g.Fo)(e)){this.toggleSelected(t);return}(0,f.kc)().version_diffing&&this.props.editModeType===i.m1T.COMPARE_CHANGES&&i.glU.setActiveChange(t)&&this.props.showViewChangesNotification(t);let a=(0,y.IL)(this.props.sceneGraphSelection),n=null;if(a?n=a:this.rangeSelectAnchorNodeId&&(0,Z.K3)(this.props.sceneGraphSelection,this.rangeSelectAnchorNodeId)&&(n=this.rangeSelectAnchorNodeId),(this.props.allowSelectRange??!0)&&e.shiftKey&&n){B.GL(n,t),M.Y5.commit();return}(0,Z.sp)(this.getScene(),this.props.sceneGraphSelection,t)||(this.updateSelection(t),this.rangeSelectAnchorNodeId=t),(0,L.i)(e)||this.setState({mouseDown:new S.Mi(e.clientX,e.clientY)})},{recordMetadata:e=>{let t=this.guidAtMousePosition(e.clientY);return(0,m.KF)(!!t,"interaction test does not support rare case of no guid under mouse (empty layers panel?)"),{path:(0,ep.eT)(t,this.getScene()),clientX:e.clientX}},playbackMetadata:e=>{let t=this.topByGuid[(0,ep.g2)(e.path,this.getScene(),this.props.currentPage)]+e_.FL/2;return{clientY:this.clientY(t),clientX:e.clientX}}}),this.onMouseMove=e=>{if(this.scrollContainer&&this.scrollContainerEl&&this.state.mouseDown&&!this.props.renamingGuid){this.state.mouseDown.distanceTo({x:e.clientX,y:e.clientY})>3&&(this.hasCrossedDragThreshold=!0);let t=this.relativeY(e.clientY),a=this.state.scrollTop,n=this.scrollContainerHeight();if(n>0){if(t<a){this.scrollContainer.scrollTo(a-this.computeScrollDelta(a-t));return}if(t>a+n){this.scrollContainer.scrollTo(a+this.computeScrollDelta(t-a-n));return}}let r=(0,ep.OL)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,t,this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??ep.g$.Object,this.props.topNodeFields);this.state.dropTarget&&r&&this.state.dropTarget.index!==r.index&&_.H.trigger(i.JA.SNAP),(this.hasCrossedDragThreshold||!r)&&(this.expandDropTargetIfNeeded(r,t),this.setState({dropTarget:r}))}},this.onMouseUp=b.cZ(this,"mouseup",e=>{let t=this.getScene(),a=!1;if(this.hasCrossedDragThreshold=!1,this.state.mouseDown&&!this.props.renamingGuid){if(a=!0,3>=this.state.mouseDown.distanceTo(new S.Mi(e.clientX,e.clientY))){if(!(0,L.i)(e)){let t=this.guidAtMousePosition(e.clientY);t?this.updateSelection(t):a=!1}}else if(!this.props.isReadOnly){let a=(0,ep.OL)(t,this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,this.relativeY(e.clientY),this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??ep.g$.Object,this.props.topNodeFields);if(!a)return;let{parentGuid:n,index:r,section:l}=a,o=t.get(n);if(!o||void 0===r)return;let s=e.altKey,c=(0,ep.Lc)(o,r);s?D.l7.user("duplicate-selection",()=>B.kH(o.guid,c,l)):D.l7.user("reparent-selection",()=>B.Yu(o.guid,c,l)),B.hq(o.guid),i.Egt.clearTemporarilyExpanded(),M.Y5.commit()}}if(this.setState({mouseDown:null,dropTarget:null}),this.isDraggingToToggle&&(a=!0,this.isDraggingToToggle=null,M.Y5.commit()),!a)return b.aH},{recordMetadata:e=>{let t=this.getScene(),a=this.guidAtMousePosition(e.clientY),n=this.relativeY(e.clientY);(0,m.KF)(!!a,"interaction test does not support rare case of no guid under mouse (empty layers panel?)");let r=this.topByGuid[a];return{path:(0,ep.eT)(a,t),treatAsEndOfClick:!!(this.state.mouseDown&&5>this.state.mouseDown.distanceTo(new S.Mi(e.clientX,e.clientY))),belowAll:n>r+e_.FL,clientX:e.clientX}},playbackMetadata:e=>{if(e.treatAsEndOfClick)return{clientX:this.state.mouseDown.x,clientY:this.state.mouseDown.y};{let t=this.topByGuid[(0,ep.g2)(e.path,this.getScene(),this.props.currentPage)]+e_.FL/2;return e.belowAll&&(t+=e_.FL),{clientY:this.clientY(t),clientX:e.clientX}}}}),this.onScrollContainerMouseDown=()=>{B.wr(),M.Y5.commit()},this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerEl=r.findDOMNode(e)},this.containerMouseLeave=e=>{B.Uc(""),null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout)},this.expandMouseDown=(e,t)=>{let a=this.getScene().get(e);if(!a)return;t.stopPropagation(),(0,u.sx)("objects_panel_expand",{nonInteraction:0});let n=!a.isExpanded;t.altKey?B.sK(a.guid,n):(0,g.Fo)(t)&&!(0,y.Im)(this.props.sceneGraphSelection)?B.yF(a.guid,n):B.sq(a.guid,n),this.justToggledExpandedGuid=a.guid},this.isDraggingToToggle=null,this.lockMouseDown=(e,t)=>{let a=this.getScene().get(e);if(!a||this.props.isReadOnly)return;t.stopPropagation();let n=!a.locked;this.isDraggingToToggle={locked:n},D.l7.user("set-locked",()=>{B.tU(a.guid,n,t.altKey)})},this.visibleMouseDown=(e,t)=>{let a=this.getScene().get(e);if(!a||this.props.isReadOnly)return;t.stopPropagation();let n=!a.visible;this.isDraggingToToggle={visible:n},D.l7.user("set-visible",()=>{B.pr(a.guid,n,t.altKey)})},this.hoverToExpandGroupTimeout=null,this.rowMouseEnter=(e,t)=>{let a=this.getScene().get(e);if(!a)return;let n=()=>{if(this.isDraggingToToggle){let{locked:e,visible:t}=this.isDraggingToToggle;null!=e&&D.l7.user("set-locked",()=>(function(e,t,a){if(!e)return;let n=!1;ex(e,a,e=>{n=n||e.locked!==t,e.locked=t}),n&&R.wt.reportAnyPropertyChange(["locked"])})(a,e,!1)),null!=t&&D.l7.user("set-visible",()=>(function(e,t,a){if(!e)return;let n=!1;ex(e,a,e=>{n=n||e.visible!==t,e.visible=t}),n&&R.wt.reportAnyPropertyChange(["visible"])})(a,t,!1))}this.state.mouseDown||B.Uc(a.guid)};v.Ay.firefox&&this.isScrolling?this.handleMouseEnterAfterScroll=n:n()},this.onDragDrop=(e,t)=>{this.onMouseUp(t.nativeEvent)},this.onDragOver=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.onDragEnter=(e,t)=>{this.onMouseMove(t.nativeEvent),this.rowMouseEnter(e,t)},this.onDragLeave=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.renderedVisibleRowProps=[],this.touchAdapter=new j(this,this.rowContainerMouseDown,this.onMouseMove,this.onMouseUp,{delayInMS:500,observeInsideOverflowScroll:!0}),this.recalculateLayout(),this.initializeRows(this.props)}componentDidMount(){super.componentDidMount(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("resize",this.requestRecalculateLayout),M.Y5.fromFullscreen.on("scrollToNode",this.scrollToNode);let e=i.glU&&i.glU.getFirstSelectedNodeIdForCurrentPage();e&&this.scrollToNode({nodeId:e})}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.requestRecalculateLayout),M.Y5.fromFullscreen.removeListener("scrollToNode",this.scrollToNode)}updateSelection(e){(0,G.S)("panel"),B.tJ([e]),M.Y5.commit(),this.props.onSelectionUpdated&&this.props.onSelectionUpdated(e)}UNSAFE_componentWillUpdate(e,t){e.renamingGuid&&e.renamingGuid!==this.props.renamingGuid&&(this.scrollToNodeIdAfterUpdate=e.renamingGuid);let a=this.props.objectsPanelRowRebuildCounter!==e.objectsPanelRowRebuildCounter,n=this.props.customRowBuilder!==e.customRowBuilder;if((a||n||this.props.currentPage!==e.currentPage||this.props.showImmutableFrameSublayers!==e.showImmutableFrameSublayers||!d()(this.props.temporarilyExpandedInstanceLayers,e.temporarilyExpandedInstanceLayers)||!d()(this.props.temporarilyHoveredNodes,e.temporarilyHoveredNodes))&&this.initializeRows(e),this.anchorNodeId=null,this.topNodeDelta=0,a){if(null!==this.justToggledExpandedGuid)this.justToggledExpandedGuid===this.stickyHeaderGuid?(this.lastCollapsedScrollPosition=this.state.scrollTop,this.lastCollapsedGuid=this.justToggledExpandedGuid,this.scrollToNodeIdAfterUpdate=this.stickyHeaderGuid):this.justToggledExpandedGuid===this.lastCollapsedGuid&&this.justToggledExpandedGuid===this.lastStickyHeaderGuid&&this.topByGuid[this.lastStickyHeaderGuid]===this.state.scrollTop&&(this.scrollAfterNodeExpanded=!0),this.justToggledExpandedGuid=null;else{let e=!1;for(let t of this.renderedVisibleRowProps)if("object"===t.rowType&&this.scrollContainer&&(0,ep.U$)(t,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&this.props.sceneGraphSelection[t.guid]){e=!0;break}let t=null,a=null;for(let n of this.renderedVisibleRowProps)"object"===n.rowType&&this.scrollContainer&&(0,ep.U$)(n,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&((!e||this.props.sceneGraphSelection[n.guid])&&(null===t||t>n.top)&&(t=n.top,this.anchorNodeId=n.guid),(null===a||a>n.top)&&(a=n.top,this.topNodeDelta=this.topByGuid[n.guid]-n.top))}}}componentDidUpdate(e,t){if(super.componentDidUpdate(e,t),this.scrollContainer){if(this.scrollToNodeIdAfterUpdate)this.scrollNodeIntoView(this.scrollToNodeIdAfterUpdate),void 0!==this.topByGuid[this.scrollToNodeIdAfterUpdate]&&(this.scrollToNodeIdAfterUpdate=null);else if(this.scrollAfterNodeExpanded)null!=this.lastCollapsedScrollPosition&&this.scrollContainer.scrollTo(this.lastCollapsedScrollPosition),this.scrollAfterNodeExpanded=!1,this.lastCollapsedScrollPosition=null,this.lastCollapsedGuid=null;else{let e=this.scrollContainer.getScrollTop()+this.topNodeDelta,t=!1;for(let a of this.renderedVisibleRowProps)if("object"===a.rowType&&a.guid===this.anchorNodeId){t=(0,ep.U$)(a,0,this.scrollContainer.getTrackHeight(),e);break}t?this.scrollContainer.scrollTo(e):this.anchorNodeId&&this.scrollNodeIntoView(this.anchorNodeId)}}}getTopSelectedNodeId(){let e;let t=Object.keys(this.props.sceneGraphSelection),a=1/0;for(let n of t){let t=this.topByGuid[n];t<a&&(a=t,e=n)}return e}findStickyHeader(e,t,a){let n=this.state.scrollTop,r=this.getScene().get(e.guid);if(!r)return null;if(this.isNodeSticky(r)&&e.hasChildren&&(e.isExpanded||e.isTemporarilyExpanded)){if(t<=n&&a>n+e_.FL)return this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0};if(a>n&&a<=n+e_.FL)return{...e,top:a-e_.FL,layerAbove:!0};if(this.scrollAfterNodeExpanded&&e.guid===this.lastStickyHeaderGuid)return this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0}}return null}expandDropTargetIfNeeded(e,t){let a=null;if(e&&"sticky"!==e.parentTop){let n=this.getScene().get(e.parentGuid);(0,m.KF)(!!n,"parentGuid should point to a valid node");let r=t>e.parentTop+e_.FL/3&&t<e.parentTop+2*e_.FL/3;n.uiOrderedChildren.length&&r&&(a=n.guid)}this.lastExpansionTarget!==a&&(this.lastExpansionTarget&&null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout),a&&(this.hoverToExpandGroupTimeout=setTimeout(()=>{this.state.mouseDown&&B.Ir(a,!0)},1e3)),this.lastExpansionTarget=a)}toggleSelected(e){this.props.sceneGraphSelection[e]?B.D$([e]):(B.Dh([e]),this.rangeSelectAnchorNodeId=e),M.Y5.commit()}relativeY(e){let t=(0,T.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e-t+this.state.scrollTop}clientY(e){let t=(0,T.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e+t-this.state.scrollTop}isVerticallyVisible(e,t){if(!this.scrollContainerEl)return!0;let a=this.state.scrollTop,n=this.scrollContainerEl.getBoundingClientRect().height+this.state.scrollTop;return a<e&&t<n}isHorizontallyVisible(e,t){if(!this.scrollContainerEl)return!0;let a=this.state.scrollLeft,n=this.scrollContainerEl.getBoundingClientRect().width+this.state.scrollLeft;return a<e&&t<n}guidAtMousePosition(e){return this.mouseOverStickyHeaderGuid(e)||(0,ep.GN)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.relativeY(e))}mouseOverStickyHeaderGuid(e){return this.scrollContainerEl&&e-this.scrollContainerEl.getBoundingClientRect().top<e_.FL?this.stickyHeaderGuid:null}computeStackOutlineHeight(e,t,a,n){return"sticky"===e?Math.min(t-a,n):Math.min(t-e,n-(e-a))}scrollContainerHeight(){return this.scrollContainerEl?this.scrollContainerEl.clientHeight:0}renderDropTarget(e){let t=null;if(null!=e.parentTop){let a=this.scrollContainerHeight(),r=e.bottomForCanvasStackReparenting,l=e_.FL,i="sticky"===e.parentTop||this.stickyHeaderGuid===e.parentGuid;r&&a&&(l=this.computeStackOutlineHeight(i?"sticky":e.parentTop,r,this.state.scrollTop,a)),t=i?n.createElement("div",{key:"drop-target-box",className:eb,style:{position:"sticky",width:this.props.width,height:l,zIndex:ey.Wb}}):n.createElement("div",{key:"drop-target-box",className:eb,style:{transform:`translate3d(0px, ${e.parentTop}px, 0)`,height:l}})}let a=null;return null!=e.lineTop&&(a=n.createElement("div",{key:"drop-target-line",className:"objects_panel--dropTargetLine--vmN9u",style:{marginLeft:`${e.lineIndent?e.lineIndent:0}px`,transform:`translate3d(0px, ${0===e.lineTop?0:e.lineTop-1}px, 0)`,transition:"margin-left 150ms 0ms"}})),[t,a]}onContextMenu(e){e.stopPropagation(),e.preventDefault()}hasAtLeastOneRefToHoveredDefId(e){if(!this.props.hoveredPropDef||!this.props.hoveredPropDef.nodeIDs?.length||!this.props.hoveredPropDef.defID)return!1;let t=e.containingSymbolId;if(!t||!this.props.hoveredPropDef.nodeIDs.includes(t))return!1;for(let t of Object.values(e.propRefs))if(t.isLinked&&t.explicitDefID===this.props.hoveredPropDef.defID)return!0;return!1}renderObjectRow(e,t,a){let r=t.getNode(e.guid);if(!r||!r.parentGuid)return null;let l=t.getAncestorInfo(r.parentGuid),i=t.getMaskInfo(e.guid),o=(0,Z.K3)(this.props.sceneGraphSelection,e.guid);if(!l||!i)return null;let s=(l.isAncestorSelected||o)&&!l.isAncestorHidden&&this.hasAtLeastOneRefToHoveredDefId(r);return n.createElement(el.oo,{key:eC.getKeyForId(e.guid),isReadOnly:this.props.isReadOnly,...e,renderResourceUse:this.props.renderResourceUse,showMemoryUsage:this.props.showMemoryUsage,showInFileMemoryPercentage:this.props.showInFileMemoryPercentage,nodeMemoryUsage:r.nodeMemoryUsage,rootMemoryUsage:r.rootMemoryUsage,isAncestorHidden:l.isAncestorHidden,isAncestorLocked:l.isAncestorLocked,isAncestorSelected:l.isAncestorSelected,displayOrder:l.childrenDisplayOrder,isMaskedAtLevels:i.isMaskedAtLevels,isLastMaskedAtLevels:i.isLastMaskedAtLevels,panelWidth:this.props.width,scrollLeft:this.state.scrollLeft,name:r.name,abbreviatedStateName:r.isState?r.stateAbbreviatedName:null,nodeType:r.type,isStamp:(0,U.GI)(r),visible:r.visible,mask:r.mask,locked:r.locked,resizeToFit:r.resizeToFit,stackMode:r.stackMode,isStateGroup:r.isStateGroup,isState:r.isState,scrollDirection:r.scrollDirection,booleanOperation:r.booleanOperation,isStaticImage:r.hasEnabledStaticImagePaint,isGIF:r.hasEnabledAnimatedPaint,cornerRadius:r.cornerRadius,objectsPanelThumbnailId:r.objectsPanelThumbnailId,isWidgetSublayer:!!r.isInWidget,hasChildren:r.isExpandable||e.hasChildren||(0,Y.vo)(r,this.getScene()),isExpanded:e.isExpanded||e.isTemporarilyExpanded,isHovered:this.props.hoveredNode===e.guid||this.props.temporarilyHoveredNodes.includes(e.guid)||s,isSelected:o,isRenaming:this.props.renamingGuid===e.guid,isDragging:!!this.state.dropTarget,startRenaming:this.props.startRenaming,stopRenaming:this.props.stopRenaming,onContextMenu:this.rowContextMenu,expandMouseDown:this.expandMouseDown,lockMouseDown:this.lockMouseDown,visibleMouseDown:this.visibleMouseDown,onMouseEnter:this.rowMouseEnter,dispatch:this.props.dispatch,shouldShowGuids:this.props.shouldShowGuids,currentPage:this.props.currentPage,onDragDropCallback:this.onDragDrop,onDragOverCallback:this.onDragOver,onDragEnterCallback:this.onDragEnter,onDragLeaveCallback:this.onDragLeave,isThumbnail:this.props.thumbnailGuid===e.guid,layerChangeStatus:r.nodeChangeStatus,versionHistory:this.props.versionHistory,userId:this.props.userId,hideRowActions:this.props.hideRowActions,isDefaultResponsiveSet:this.props.topNodeFields?.defaultResponsiveSetId===e.guid,isResponsiveSet:r.isResponsiveSet,panelType:this.props.panelType??ep.g$.Object,isRowInView:t=>{if(!a)return!0;let n=a.getClipContainer().getBoundingClientRect(),r=t.current;if(!r)return!0;let l=r.getBoundingClientRect();return e.fixed&&0!==this.props.width||l.top>=n.top&&l.bottom<=n.bottom}})}renderLayerExpansionRow(e){let t=eC.getKeyForId(ew(e));return n.createElement(eh,{key:t,top:e.top,width:this.props.width,guid:e.containingPrimaryInstanceGUID,level:e.level,onMouseEnter:()=>B.Uc(""),dispatch:this.props.dispatch,recordingKey:b.Pt(this.props,"layerExpansion",e.containingPrimaryInstanceGUID)})}renderSectionHeader(e){let t=this.sectionById[e.sectionId]&&(0,Z.sp)(this.getScene(),this.props.sceneGraphSelection,this.sectionById[e.sectionId].parentGuid);return n.createElement(el.O,{key:eC.getKeyForId(e.sectionId),...e,width:this.props.width,isParentSelected:t,dispatch:this.props.dispatch})}render(){let e=this.renderedVisibleRowProps,t=this.cachedAllRowData||[];for(let a of(this.renderedVisibleRowProps=(0,ep.Uw)(t,this.windowInnerHeight,this.state.scrollTop),this.findStickyHeaderRowAndReplaceInVisibleRows(t),e))(0,ep.Mq)(a,this.windowInnerHeight,this.state.scrollTop)||eC.freeKeyForId(ew(a));this.renderedVisibleRowProps.sort((e,t)=>eC.getKeyForId(ew(e))-eC.getKeyForId(ew(t)));let a=new eg.nV(this.getScene(),this.props.sceneGraphSelection),r=[];for(let e of this.renderedVisibleRowProps)"object"===e.rowType?r.push(this.renderObjectRow(e,a,this.scrollContainer)):"layer-expansion"===e.rowType?r.push(this.renderLayerExpansionRow(e)):r.push(this.renderSectionHeader(e));if(this.props.reparentIntoStackInfo&&this.props.sceneGraph){let e=this.props.reparentIntoStackInfo.indexInParent,t=this.props.reparentIntoStackInfo.parentGuid,a=this.props.sceneGraph.get(t);a&&r.push(...this.renderDropTarget((0,ep.Gs)(a,this.topByGuid,this.props.sceneGraph,this.totalHeight,e)))}else!this.props.isReadOnly&&this.state.dropTarget&&r.push(...this.renderDropTarget(this.state.dropTarget));let l=this.stickyHeaderGuid||!this.state.needsScrollLine?"objects_panel--scrollContainer--h6khG":"objects_panel--scrollContainerWithBorder--SR2sm objects_panel--scrollContainer--h6khG";return n.createElement(n.Fragment,null,n.createElement(ep.M3,{selection:this.props.sceneGraphSelection,getNode:function(e){return a.getNode(e)??null}}),n.createElement(x.P,{enableOverscroll:!0,recordingKey:b.Pt(this.props,"scrollContainer"),className:s()(l,{"objects_panel--hasPending--0IO3j":this.props.hasPending}),width:this.props.width,onScroll:this.onScroll,onScrollLeftChanged:this.onScrollLeftChanged,initialScrollTop:this.props.initialScrollTop,onMouseDown:this.onScrollContainerMouseDown,onContextMenu:this.onContextMenu,ref:this.scrollContainerRef,horizontalScrollBarEnabled:this.props.horizontalScrollEnabled,minContentWidth:this.props.horizontalScrollEnabled?this.props.width:void 0},n.createElement(eu.jq,{onLeftPanelCollapsedChange:this.onLeftPanelCollapsedChange}),n.createElement(N.V,null,n.createElement("div",{className:s()("objects_panel--rowContainer--03VQD",{"objects_panel--horizontalScrollBarPadding--JfnK4":this.props.horizontalScrollEnabled}),style:{width:Math.max(this.props.scrollWidth??0,this.props.width),height:this.totalHeight},onMouseDown:this.rowContainerMouseDown,onTouchStart:this.touchAdapter.onTouchStart,onMouseLeave:this.containerMouseLeave,"data-testid":"objects-panel"},r))))}}function eS(e){let t=(0,l.wA)(),a=(0,z.J2)((0,P.UK)().showImmutableFrameSublayers),r=(0,z.J2)(i.Ez5?.uiState().reparentIntoStackInfo),o=(0,z.J2)(i.Ez5.uiState().renderResourceUse),s=(0,z.J2)(i.Ez5.uiState().showMemoryUsage),c=(0,z.J2)(i.Ez5.uiState().hoveredComponentPropDef),d=(0,z.J2)(i.Ez5.uiState().showInFileMemoryPercentage),u=(0,z.J2)(i.Ez5.canvasViewState().temporarilyHoveredNodes),m=(0,V.TA)(),p=(0,l.d4)(e=>e.mirror.sceneGraphSelection),_=(0,l.d4)(e=>e.mirror.objectsPanelRowRebuildCounter),f=(0,l.d4)(e=>e.mirror.appModel.hoveredNode),h=(0,l.d4)(e=>e.mirror.appModel.temporarilyExpandedInstanceLayers),g=(0,l.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),E=(0,ec.ks)(),y=(0,k._I)(),v=(0,F.E)(),b=(0,K.H_)(),C=(0,W.Fk)((e,t)=>{let a=e.get(t);return a?{guid:a.guid,children:a.uiOrderedChildren,defaultResponsiveSetId:a.defaultResponsiveSetId}:null},e.currentPage),w=(0,eE.el)();if(E&&!y)return null;let T=void 0===e.topNodeFields?C:e.topNodeFields;return n.createElement(n.Fragment,null,n.createElement(eT,{...e,currentPage:e.currentPage,sceneGraphSelection:p,objectsPanelRowRebuildCounter:_,hoveredNode:f,temporarilyExpandedInstanceLayers:h,editModeType:g,sceneGraph:b,topNodeFields:T,recordingKey:"objectsPanel",showViewChangesNotification:v,hoveredPropDef:c,showImmutableFrameSublayers:a,reparentIntoStackInfo:r,temporarilyHoveredNodes:u,dispatch:t,renderResourceUse:o,showMemoryUsage:s,showInFileMemoryPercentage:d,userId:m??void 0,horizontalScrollEnabled:e.horizontalScrollEnabled,scrollWidth:e.horizontalScrollEnabled?w:void 0}),n.createElement(X.p,{featureFlag:"auto_auto_layout"},n.createElement(es,null)))}function eN(e){let t=(0,O.GS)()&&(0,f.kc)().ui3_layers_panel;return n.createElement(eE.Rp,null,n.createElement(eS,{...e,horizontalScrollEnabled:t}))}function ex(e,t,a){if(a(e),t)for(let t of e.uiOrderedChildren)ex(H.q.instance.get(t),!0,a)}eT.displayName="ObjectsPanelView"},980150:(e,t,a)=>{a.d(t,{M:()=>w,T:()=>T});var n=a(411855),r=a(629019),l=a.n(r),i=a(886653),o=a(574176),s=a(259927),c=a(497306),d=a(457630),u=a(798558),m=a(133024),p=a(116198),_=a(462725),f=a(968109),h=a(251232),g=a(416014),E=a(348844),y=a(313888),v=a(531800),b=a(142284),C=a(660257);let w=n.forwardRef(function(e,t){let{boundingBox:a,isFigmaPurple:r}=e.node,i=function(e,t,a,n){let r=(0,d._X)({subscribeToUpdates_expensive:!0});if(!r)return null;let l={},i=(0,d.Yb)(r,{x:e.x,y:e.y,width:e.w,height:e.h});return l.left=i.x+r.x,l.top=i.y+r.y,t&&(l.left+=i.width/2),a&&(l.top=i.y+r.y+i.height),{containerStyle:l,pillStyle:n&&{maxWidth:n(i.width)},zoomScale:r.zoomScale}}(a,e.centered,e.bottom,e.maxWidth);if(!i)return null;let{containerStyle:o,pillStyle:c}=i;return n.createElement("div",{ref:t,className:l()(s.Dm,m.V_,{[m.F]:e.centered,[m.sQ]:e.bottom}),style:{...o,marginLeft:e.offsetX??0,marginTop:e.offsetY?.(i.zoomScale)??0},"data-testid":e.dataTestId},n.createElement("div",{className:l()(m.Io,r?m.HR:m.rH,e.largeBorderRadius&&m.Pn),style:c},e.children))});function T({node:e}){let t=(0,i.xx)((e,t)=>(0,u.D)(e,t)),a=e?t(e.guid,e.objectsPanelThumbnailId):"",r=a?(0,o.V)(a):function(e){let t=null;switch(e.type){case"TEXT":t=b.A;break;case"FRAME":t=e.isGroup?_.A:e.isStateGroup?y.A:(0,u.GN)({stackMode:e.stackMode,stackCounterAlignItems:e.stackCounterAlignItems});break;case"ROUNDED_RECTANGLE":t=g.A;break;case"ELLIPSE":t=p.A;break;case"STAR":t=E.A;break;case"VECTOR":t=C.A;break;case"GROUP":t=_.A;break;case"INSTANCE":t=f.A;break;case"SYMBOL":t=e.isState?v.A:y.A}return(0,c.oY)(e.type)&&e.hasEnabledStaticImagePaint&&(t=h.A),t}(e);return r?n.createElement(o.B,{className:m.ue,svg:r}):null}},359919:(e,t,a)=>{a.d(t,{n:()=>s});var n=a(411855),r=a(188507),l=a(601607),i=a(980150),o=a(133024);function s(){let e=function(){let e=(0,r.d4)(e=>e.mirror.appModel.onCanvasPillInfo);return(0,l.Fk)((e,t)=>t&&0!==t.length?t.map(t=>{let a=e.get(t.guid);if(!a||"-1:-1"===a.guid)return null;let n={guid:a.guid,name:a.name,type:a.type,boundingBox:a.absoluteBoundingBox,isFigmaPurple:t.isFigmaPurple,hasEnabledStaticImagePaint:a.hasEnabledStaticImagePaint,isState:a.isState,isStateGroup:a.isStateGroup,stackCounterAlignItems:a.stackCounterAlignItems,stackMode:a.stackMode,isGroup:a.isGroup,canHaveStatus:a.canHaveStatus,hasStatus:a.hasStatus,objectsPanelThumbnailId:a.objectsPanelThumbnailId};if(n.isState&&t.symbolId){let a=e.get(t.symbolId);n.symbolName=a?.name}return n}):null,e)}()?.[0];return e?n.createElement(i.M,{node:e,offsetX:-3},n.createElement("div",{className:o.nM},n.createElement(i.T,{node:e}),n.createElement("span",{className:o.dK},e.symbolName?e.symbolName:e.name))):null}},650166:(e,t,a)=>{a.d(t,{e:()=>_});var n=a(411855),r=a(767129),l=a(397863),i=a(46481),o=a(939863),s=a(672517),c=a(177505),d=a(498606),u=a(501191),m=a(660164);let p=(0,s.tf)(r.K);function _({recordingKey:e}){let t=(0,c.rE)();return n.createElement(p,{recordingKey:e,"aria-label":(0,o.t)("fullscreen.pages_panel.add_new_page"),onClick:()=>t(null),trackingProperties:{text:"Add new page"},htmlAttributes:{"data-tooltip":(0,o.t)("fullscreen.pages_panel.add_new_page"),"data-tooltip-type":d.Ib.TEXT,"data-tooltip-show-above":!0}},n.createElement(i.U,{svg:u.A,fallbackSvg:m.A},n.createElement(l.x,null)))}},489013:(e,t,a)=>{a.d(t,{t:()=>N});var n=a(411855),r=a(598045),l=a(308548),i=a(449486),o=a(397863),s=a(326331),c=a(153234),d=a(574176),u=a(46481),m=a(762638),p=a(939863),_=a(809831),f=a(439384),h=a(177505),g=a(99506),E=a(498606),y=a(60088),v=a(227795);let b="new_page_dropdown--newPageIcon--R2RXS";var C=a(289298),w=a(501191),T=a(660164),S=a(561071);function N({recordingKey:e}){let{Dropdown:t,toggleDropdown:a,isDropdownShown:N,dropdownTargetRef:x}=(0,y.B)("newPageDropdown"),k=(0,_.lg)(),I=(0,f.Te)(),A=(0,h.rE)();if(!I)return null;let L=[{displayText:(0,p.t)("fullscreen.pages_panel.page_dropdown_new"),optionHeight:24,editorType:null,disabled:!0},{displayText:(0,p.t)("fullscreen.pages_panel.design_page"),optionHeight:24,editorType:g._Y.DESIGN,icon:n.createElement("div",{className:b},n.createElement(l.k,null)),callback:()=>A(r._YF.DESIGN)},{displayText:(0,p.t)("fullscreen.pages_panel.figjam_page"),optionHeight:24,editorType:g._Y.WHITEBOARD,icon:n.createElement("div",{className:b},n.createElement(d.B,{svg:S.A})),callback:()=>A(r._YF.WHITEBOARD)},{displayText:(0,p.t)("fullscreen.pages_panel.slide_deck"),optionHeight:24,editorType:g._Y.SLIDES,icon:n.createElement("div",{className:b},n.createElement(i.g,null)),callback:()=>A(r._YF.SLIDES)}],O=48;for(let e=0;e<L.length;e++)if(L[e].editorType===k){O+=24*e;break}return n.createElement(n.Fragment,null,n.createElement("div",{className:m.cx.absolute.w8.h8.$,ref:x,style:{bottom:`${O}px`,right:"42px"}}),n.createElement(v.K0,{className:"new_page_dropdown--newPageButton--sYJsl",recordingKey:c.Pt(e,"newPageDropdown"),"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,p.t)("fullscreen.pages_panel.add_new_page"),"data-tooltip-show-above":!0,onMouseDown:a},n.createElement("div",{className:"new_page_dropdown--newPageIconsContainer--pzY38"},n.createElement(u.U,{svg:w.A,fallbackSvg:T.A},n.createElement(o.x,null)),n.createElement("div",{className:"new_page_dropdown--newPageChevron--N0hv3"},n.createElement(u.U,{svg:C.A},n.createElement(s.r,null))))),N&&n.createElement(t,{minWidth:160,items:L,showPoint:!0}))}},693657:(e,t,a)=>{a.d(t,{yD:()=>oN,eG:()=>oT});var n=a(411855),r=a(109388),l=a(188507),i=a(598045),o=a(314766),s=a(96796),c=a(463420),d=a(629019),u=a.n(d),m=a(776250),p=a(91408),_=a(297666),f=a(38329),h=a(966712),g=a(374626),E=a(153234),y=a(522739),v=a(286640),b=a(554322),C=a(448169),w=a(192437),T=a(827586),S=a(33818),N=a(574176),x=a(762638),k=a(939863),I=a(392592),A=a(384252),L=a(987067),O=a(331972),R=a(493414),M=a(293017),D=a(662275),P=a(809831),F=a(226055),B=a(83909),U=a(988022),H=a(356390),G=a(662531),V=a(617453),z=a(843495),K=a(177505),W=a(341860),j=a(318812),Z=a(678340),Y=a(479118),X=a(335682),q=a(611978),J=a(860178),Q=a(100197),$=a(498606),ee=a(507956),et=a(170399),ea=a(332721),en=a(137345),er=a(265746),el=a(696808),ei=a(634480),eo=a(862442),es=a(457630),ec=a(227795),ed=a(286723),eu=a(370903),em=a(995382);function ep(){let e=(0,l.wA)(),t=(0,l.d4)(e=>!!e.modalShown),a=(0,l.d4)(e=>e.versionHistory.compareId),r=i.AWq.getChunkChangeCount(),o=(0,eo.Z)("chunk_change_navigator_navigate"),s=(0,ei.E)(),c=n.useCallback(e=>{i.Egt.setSelectedNodeAndCanvas(e,!0),o((0,es.QZ)({nodeId:e,...ed.ob}),ed.kh),s(e)},[o,s]),d=n.useCallback(e=>{t||0===r||("ArrowUp"===e.key||"ArrowLeft"===e.key||e.shiftKey&&"Tab"===e.key?c(i.glU.navigateToNextChange(-1)):("ArrowDown"===e.key||"ArrowRight"===e.key||"Tab"===e.key)&&c(i.glU.navigateToNextChange(1)))},[t,r,c]);return(n.useEffect(()=>{e(el.Q.dequeue({type:er._.SEE_WHATS_CHANGED}))},[e]),n.useEffect(()=>{a&&0!==r&&c(i.glU.navigateToFirstVisibleOrClosestChange())},[r,a,c]),n.useLayoutEffect(()=>{if(0!==r)return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[r,d]),0===r)?null:n.createElement(n.Fragment,null,n.createElement("div",{className:"chunk_change_navigator--chunkChangeCount--ZFnfP"},(0,k.tx)("collaboration.feedback.change_count",{changeCount:r})),n.createElement("div",{className:"chunk_change_navigator--chunkChangeNavigator--82303"},n.createElement(ec.K0,{svg:em.A,onClick:e=>{e.stopPropagation(),c(i.glU.navigateToNextChange(-1))},"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,k.t)("collaboration.feedback.previous_change"),recordingKey:"change_stepper.previous",disabled:0===r}),n.createElement(ec.K0,{svg:eu.A,onClick:e=>{e.stopPropagation(),c(i.glU.navigateToNextChange(1))},"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,k.t)("collaboration.feedback.next_change"),recordingKey:"change_stepper.next",disabled:0===r})))}var e_=a(881512),ef=a(535904),eh=a(183686),eg=a(243742),eE=a(672517),ey=a(663767),ev=a(284321),eb=a(57392),eC=a(397065),ew=a(142232),eT=a(951864),eS=a(337987);function eN({entrypoint:e,onSetKeyboardNavigationElement:t,hideIfNoUpdates:a,recordingKey:r}){let i="ui3"===(0,eg.DP)().version,o=(0,g.md)(eb.Lc),s=(0,l.d4)(ev.ao),{isLibraryModalShown:c,onToggleLibraryModal:d}=(0,ey.u)({entrypoint:e,modalType:"editor",openToUpdatesTab:i&&o}),u=n.useMemo(()=>o?(0,k.t)("fullscreen.libraries_button.tooltip.updates_to_pull"):s?(0,k.t)("fullscreen.libraries_button.tooltip.updates_to_push"):(0,k.t)("fullscreen.libraries_button.tooltip.no_updates"),[o,s]),m=o||s;return((0,ew.Pf)({showBadge:m,hasChangesToPull:o,disabled:!i}),!a||o||s)?n.createElement("div",{className:"library_modal_button--teamLibraryIcon--EBc7q","data-onboarding-key":"library"},i?n.createElement(ex,{"aria-label":u,toggled:c,ref:t,recordingKey:E.Pt(r,"teamLibrary"),onClick:d,htmlAttributes:{"data-onboarding-key":eC.D}},n.createElement(eh.l,null),m&&n.createElement("div",{className:"library_modal_button--badgeContainer--ebOHQ"},n.createElement("span",{className:"library_modal_button--updatesBadge--B4nW-","data-testid":"library-button-badge"})," ")):n.createElement(ec.o5,{ref:t,recordingKey:E.Pt(r,"teamLibrary"),selected:c,"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen.libraries_button.tooltip.no_updates"),"data-onboarding-key":eC.D,svg:eT.A,fallbackSvg:eS.A,onClick:d,innerText:"Team Library"})):null}let ex=(0,eE.tf)(ef.d);var ek=a(320063),eI=a(999251),eA=a(723325),eL=a(493323),eO=a(395281),eR=a(127122),eM=a(358145),eD=a(632430),eP=a(999881),eF=a(279453),eB=a(58032),eU=a(298527);function eH(){let e=(0,l.wA)(),t=n.useRef(!1),a=(0,l.d4)(e=>e.loadingState),r=(0,l.d4)(e=>e.fileVersion),i=(0,eU.n1)(),o=(0,eM.qd)(i),s=(0,g.md)((0,eF.fy7)({group:(0,eP.M)()})),c=(0,eB.je)();n.useEffect(()=>{if(!t.current&&!0===i&&!1===o&&"loaded"===s.status){t.current=!0;let n=new Set(c?.data?.map(e=>e.fileKey)??[]);for(let t of s?.data?.libraryPresetSubscriptionsV2??[])n.has(t.hubFileId)&&eD.Fz(t.hubFileId,a,r,e)}},[e,i,r,o,a,s,c])}var eG=a(813648),eV=a(594901),ez=a(933342),eK=a(833629),eW=a(243987),ej=a(428467),eZ=a(435011),eY=a(234945),eX=a(693223),eq=a(378762),eJ=a(799943),eQ=a(756159),e$=a(781525),e0=a(715762),e1=a(498750),e2=a(563706),e5=a(26328),e3=a(140796),e4=a(48515);function e6({searchOptions:e,keyboardNavigationPath:t,keyboardNavigationColumn:a}){let r=(0,l.wA)(),o=(0,l.d4)(e5.UQ),{activeTab:s,shouldFocusSearchBar:c}=(0,l.d4)(e=>e.leftPanel),d=s===i.xae.ASSETS,m=n.useRef(null),p=(0,l.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),_=(0,e3.vb)({isVisible:d,autofocus:!0,selectOnFocus:!0,ref:m});n.useEffect(()=>{let e=e=>{(e2.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===e1.Uz.KEY_2:e.altKey&&e.keyCode===e1.Uz.KEY_2)&&p!==i.m1T.TEXT&&(_(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[p,_]);let f=n.useCallback(t=>{let a;e&&((0,e5.eu)(e.type)?a=e.type:(a={type:e4.I.ALL},e.onSetAssetType(a))),r(eO.ku({query:t,searchOptions:a,entryPoint:"asset_panel"}))},[r,e]),h=u()("component_sidebar_search--searchWithViewModeToggle--nKJ2-","component_sidebar_search--negMargin--QTfpB");return null!=t?n.createElement(e3.E1,{query:o.query,onChange:f,isVisible:d,className:h,recordingKey:"componentsLibrarySearch",placeholder:(0,k.t)("design_systems.assets_panel.search"),autofocus:c,selectOnFocus:!0,hideSearchIcon:!0,entryPointForTracking:"editor:assets_panel",path:t,column:a,forwardedRef:m}):n.createElement(e3.aU,{query:o.query,onChange:f,isVisible:d,className:h,recordingKey:"componentsLibrarySearch",placeholder:(0,k.t)("design_systems.assets_panel.search"),autofocus:c,selectOnFocus:!0,hideSearchIcon:!0,forwardedRef:m,entryPointForTracking:"editor:assets_panel"})}var e7=a(35645),e8=a.n(e7),e9=a(708389),te=a(696673),tt=a(788744),ta=a(756317),tn=a(680681),tr=a(957987),tl=a(288542),ti=a(776018),to=a(538697);function ts(e){let{assetType:t,libraryNameByFileKey:a,onSetAssetType:r,onSetKeyboardNavigationElement:i,validAssetTypeOptions:o}=e,s=(0,l.wA)(),c=(0,l.d4)(e=>e.modalShown),d=(0,l.d4)(e=>e.dropdownShown),u=(0,l.d4)(X.tB),p=t.type===e4.I.FILE?t.fileKey:void 0,_=(0,tt.Fl)(),f=n.useCallback(()=>{c?.type===ti.V&&s(D.AS()),m.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:u?.key,assetsPanelVersion:2})},[s,c,u?.key]),g=n.useMemo(()=>{if((0,tn.NX)(_)){let e=Object.entries(a??{}).map(([e,t])=>({key:e,name:t}));return(0,tn.k9)({libraries:e,approvedLibraryKeysByResourceType:_}),e.map(({key:e})=>e)}return Object.keys(a??{}).sort((e,t)=>e9.f.LEXICOGRAPHICALLY(a[e],a[t]))},[a,_]),E=(0,eU.Ck)(),[y,v]=e8()(g,e=>!(0,te.wJ)(e)),b=v.length>0&&E(),C=n.useMemo(()=>({format:e=>{switch(e.type){case e4.I.RECENT:return(0,k.t)("design_systems.assets_panel.dropdown_type_recents");case e4.I.ALL:return(0,k.t)("design_systems.assets_panel.dropdown_type_all_libraries");case e4.I.LOCAL:return(0,h.kc)().dse_editor_templates_v1?(0,k.t)("design_systems.assets_panel.dropdown_type_local_assets"):(0,k.t)("design_systems.assets_panel.dropdown_type_local");case e4.I.FILE:return a[e.fileKey]}},isEqual:tc}),[a]);return n.createElement(to.l6,{className:"sidebar_asset_type_select--select--PTmwH",id:"component-sidebar-asset-type-select",property:t,formatter:C,onChange:r,dropdownAlignment:"left",openOnKeyPressed:[e1.Uz.SPACE,e1.Uz.ENTER],inputRef:i,dispatch:s,chevronClassName:"sidebar_asset_type_select--chevron--xyZLx",inputClassName:"sidebar_asset_type_select--input--sSEn2",dropdownShown:e.useLocalState?e.dropdownShown:d,dropdownWidth:260,onShowDropdown:f,onShowDropdownOverride:e.useLocalState?e.onShowDropdownOverride:void 0,onHideDropdownOverride:e.useLocalState?e.onHideDropdownOverride:void 0,rightIcon:n.createElement(tr.P,{resourceId:p})},!!o[e4.I.ALL]&&n.createElement(to.c$,{value:{type:e4.I.ALL}}),!!o[e4.I.RECENT]&&n.createElement(to.c$,{value:{type:e4.I.RECENT}}),!!o[e4.I.LOCAL]&&n.createElement(to.c$,{value:{type:e4.I.LOCAL}}),y.length>0?n.createElement(to.sK,null):null,y.length>0&&!(0,h.kc)().dse_preset_libraries?n.createElement(to.c$,{isHeader:!0,formattedValue:u?.org?.name?(0,k.t)("design_systems.assets_panel.dropdown_org_libraries",{orgName:u.org.name}):(0,k.t)("design_systems.assets_panel.dropdown_libraries")}):null,y.map(e=>(0,tn.vR)(e)?n.createElement(to.c$,{key:e,value:{type:e4.I.FILE,fileKey:e},removeTextRightPadding:!0,rightSettingsIcon:n.createElement(ta.FX,null)}):n.createElement(to.c$,{key:e,value:{type:e4.I.FILE,fileKey:e},fullWidth:!0})),b&&!(0,h.kc)().dse_preset_libraries?n.createElement(to.sK,null):null,b&&!(0,h.kc)().dse_preset_libraries?n.createElement(to.c$,{isHeader:!0,formattedValue:(0,k.t)("design_systems.assets_panel.dropdown_curated_libraries")}):null,b&&v.map(e=>n.createElement(to.c$,{key:e,value:{type:e4.I.FILE,fileKey:e},removeTextRightPadding:!0,rightSettingsIcon:n.createElement(tl.t,null)})))}function tc(e,t){return e.type===e4.I.FILE&&t.type===e4.I.FILE?e.fileKey===t.fileKey:e.type===t.type}var td=a(280999),tu=a(731719);function tm({disabled:e,isList:t,onSetKeyboardNavigationElement:a,onToggleViewMode:r,recordingKey:l}){let i=t?(0,k.t)("design_systems.assets_panel.show_as_grid"):(0,k.t)("design_systems.assets_panel.show_as_list");return n.createElement(ec.K0,{ref:a,recordingKey:E.Pt(l,"toggleComponentsSidebarViewMode"),"data-tooltip-type":$.Ib.TEXT,"data-tooltip":i,svg:t?td.A:tu.A,onClick:r,disabled:e})}var tp=a(135076),t_=a(895235),tf=a(646240),th=a(572206),tg=a(154483),tE=a(175290),ty=a(286954),tv=a(452246),tb=a(44892),tC=a(146817),tw=a(75224),tT=a(774442),tS=a(99506),tN=a(914214),tx=a(875387);function tk(e){let t=(0,tT.a)(tS._Y.DESIGN),a=(0,l.d4)(ej.getPermissionsState),r=(0,X.q5)(),i=l.d4(tN.x)?.id,{currentUserOrgId:o}=a,s=!!(o&&(0,ej.canGuestOrg)(o,a)),c=!!(i&&(0,ej.hasActiveEduTeam)(a,i));return(0,n.useMemo)(()=>t.transform(t=>(function({canGuestOrg:e,hasProTeamPaidStatus:t,openFile:a,userId:n,hasActiveEduTeam:r,assetResourceId:l}){return!!a&&!!n&&(!!e||!!t||!!r||!!((0,h.kc)().dse_preset_libraries&&(0,te.wJ)(l))&&g.zl.get(tx.q).has((0,tw.l)(l)))})({canGuestOrg:s,hasProTeamPaidStatus:t,openFile:r,hasActiveEduTeam:c,userId:i,assetResourceId:e})),[s,r,c,e,t,i])}var tI=a(473744),tA=a(151283),tL=a(534804),tO=a(575288),tR=a(416095),tM=a(267931),tD=a(173454),tP=a(809073),tF=a(237870),tB=a(743415),tU=a(239737),tH=a(132572),tG=a(746806),tV=a(511617),tz=a(915440),tK=a(976999),tW=a(447381),tj=a(837324),tZ=a(733169),tY=a(830445),tX=a(694687),tq=a(132135),tJ=a(321487),tQ=a(691205),t$=a(984968),t0=a(421234);let t1="asset_file_path--path---PrgD text--fontPos11--2LvXf text--_fontBase--QdLsd",t2="asset_file_path--pathLink--lvFH3",t5="asset_file_path--skeletonText--PIxni";function t3({assetFileKey:e,assetNodeId:t}){let a=(0,t$.ol)(),r=(0,tX.sZ)(),i=!!r||(0,eW.w5)(a),o=r?.id,s=tQ.M4.useFile(e),c=(0,tz.Rs)(eF.epW,{fileKey:e},{enabled:i}),d=c?.data?.file,u=function(e,t){let a=(0,l.d4)(e=>e.hubFiles)[e];return(0,te.wJ)(e)&&a?(0,tj.qD)(a).name:t}(e,s?.data?.name),m=function(e,t){let a=(0,te.wJ)(e),r=(0,tZ.S)(e).unwrapOr(!1),i=(0,l.d4)(X.tB),o=tQ.M4.useFile(e).data;return n.useMemo(()=>{if(!r||a||!o||!i||o.key===i.key)return null;let e=(0,tq.to)(o);return(0,tV.dR)(e,{"node-id":encodeURIComponent((0,tJ.E)(t))})},[t,r,o,i,a])}(e,t),p=c?.status==="loading",_=(0,tY.E_)(e),f=d?.team?.id,g=f?function(e,t){let a=location.origin;return t?`${a}/files/${t}/team/${e}`:`${a}/files/team/${e}`}(f,o):void 0,E=d?.team?.name,y=f&&E&&i,v=d?.team?.workspace?.id,b=v&&o?t0.fO(v,o):void 0,C=d?.team?.workspace?.name,w=v&&C&&i;return i&&p?n.createElement("div",{className:t1,"data-testid":"asset-file-path-loader"},n.createElement(tK.Wi,{className:t5,opacity:50}),"/",n.createElement(tK.Wi,{className:t5,opacity:50})):n.createElement("div",{className:t1},w&&n.createElement(n.Fragment,null,n.createElement(tW.q,{tooltipText:C},n.createElement("a",{href:b,target:"_blank",className:t2},C)),"/"),y&&n.createElement(n.Fragment,null,n.createElement(tW.q,{tooltipText:E},n.createElement("a",{href:g,target:"_blank",className:t2},E)),"/"),n.createElement(tW.q,{tooltipText:u},m?n.createElement("a",{href:m,target:"_blank",className:t2},u):n.createElement("span",null,u)),(0,h.kc)().dse_preset_libraries&&_&&n.createElement("div",{className:x.cx.flex.alignCenter.justifyCenter.ml2.$},n.createElement(tl.S,{hubFileId:e,showTooltip:!0})))}var t4=a(103339),t6=a(421757),t7=a(767129),t8=a(470370),t9=a(80161),ae=a(946689),at=a(449124),aa=a(46481),an=a(567078),ar=a(108793),al=a(29680),ai=a(237929),ao=a(273226),as=a(986231),ac=a(564577),ad=a(67294),au=a(296045);function am({user:e,communityProfile:t,updatedAt:a}){let r=null!=e&&!!e.img_url&&!!e.handle,l=null,i=null;return(null!=t?(l=n.createElement(au.e,{entity:t,size:ad.Pf.SMALL}),i=t.name):r&&(l=n.createElement(ad.H8,{user:e,size:ad.Pf.SMALL}),i=e.handle),l&&i)?n.createElement("div",{className:"asset_updated_details--updatedAtAvatar--uf4Gy"},l,n.createElement("span",{className:"asset_updated_details--handle--63B8y"},i),a?n.createElement(n.Fragment,null,n.createElement("span",{className:"asset_updated_details--dot--SoliI"},"\xb7"),n.createElement(ac.h1,{date:a})):null):a?n.createElement("div",{className:"asset_updated_details--updatedAt--eam-d"},(0,k.tx)("design_systems.assets_panel.updated_at",{updatedAt:n.createElement(ac.h1,{date:a})})):null}var ap=a(790429),a_=a(693903);function af({renderedAssetData:e}){let t=(0,l.wA)(),a=(0,l.d4)(e=>e.dropdownShown),r=n.useMemo(()=>{let t=e?.nodeData?.moduleFrameData?.selectedFrameGUID;return null==t||t===a_.invalidGUIDStr?{type:"all"}:{type:"guid",guid:t}},[e?.nodeData?.moduleFrameData?.selectedFrameGUID]),o=n.useCallback(e=>{let t="all"===e.type?a_.invalidGUIDStr:e.guid;i.glU.setPlaygroundSelectedNode(t)},[]),{nodeData:s}=e,c=n.useMemo(()=>({format:t=>{if("all"===t.type)return"All frames";let a=e?.nodeData?.moduleFrameData?.frames??{};return a[t.guid]?.name??""}}),[e?.nodeData?.moduleFrameData?.frames]);if(null==s)return null;let{playgroundGUID:d,moduleFrameData:u}=s;if(!d||null==u)return null;let m=Object.keys(u.frames??{});return m.length<2?null:n.createElement("div",{className:"playground_module_frame_section--wrapper--65QB6"},n.createElement("div",{className:"playground_module_frame_section--title--PCfEU"},(0,k.tx)("design_systems.assets_panel.frames")),n.createElement(to.l6,{id:"playground-module-frame-select",property:r,formatter:c,dispatch:t,onChange:o,dropdownShown:a},n.createElement(to.c$,{value:{type:"all"}}),n.createElement(to.sK,null),m.map(e=>n.createElement(to.c$,{key:e,value:{type:"guid",guid:e}}))))}var ah=a(812115),ag=a(146935);let aE=(0,p.jz)(ag.figmaComponentFlyoutTextMaxCollapsedHeight);function ay({description:e,description_rt:t}){let a=n.useRef(null),[r,l]=n.useState(!0),[i,o]=n.useState(!1),s=(0,eM.ZC)(e);n.useEffect(()=>{e&&a.current&&s!==e&&l(a.current.scrollHeight>aE)},[e,s]);let c=n.useCallback(()=>{r&&o(!0),l(!r)},[r]);if(!e&&!t)return null;let d=!!e&&(r||i);return n.createElement("div",{className:"truncated_component_description--documentationSection--87RCO"},t?n.createElement("div",null,n.createElement(ah.R,{fallback:n.createElement(eL.kt,null),errorFallback:null,value:t,quillClassName:u()("truncated_component_description--quill--yYiwV",{"truncated_component_description--quillCollapsed--3DiWp":r}),quillInnerRef:a})):n.createElement("div",{ref:a,className:u()({"truncated_component_description--collapsed--VXZTS ellipsis--ellipsisAfter6Lines--2UA7M ellipsis--_ellipsisAfterNLines--LzI7k":r},"truncated_component_description--documentationDescription--C090D text--fontPos11--2LvXf text--_fontBase--QdLsd"),dir:"auto"},e),d&&n.createElement("button",{className:"truncated_component_description--showMore--brfX6",onClick:c},r?(0,k.tx)("design_systems.assets_panel.show_more"):(0,k.tx)("design_systems.assets_panel.show_less")))}var av=a(313888),ab=a(132208),aC=a(798415);let aw=(0,tg.fv)();function aT({renderedAssetData:e,errorType:t,canViewPlayground:a,onInsert:r,shouldHideError:i,onSetShouldHideError:o}){let s=(0,l.d4)(e=>e.hubFiles),c=(0,al.T3)(),[d,u]=n.useState(!1),m=(0,F.GS)();n.useEffect(()=>{u(!1),o(!1)},[e.asset,o]);let p=(0,ap.S)(e.asset),_=(0,as.Y)(e.asset),f=n.useMemo(()=>(0,ai.kH)(e.asset.name??""),[e.asset.name]),g=n.useRef(null),E=(0,t9.NG)({text:f,textRef:g}),y=n.useMemo(()=>aw(e.asset),[e.asset]),v=(0,te.wJ)(y),b=v?s[y]:null,C=e.asset,w=n.useMemo(()=>{let t=e.nodeData?.playgroundGUID;if(!t)return"";let a=c.get(t);if(!a)return"";let n=c.get(a.symbolId??"");return n?(n.isState?n.parentGuid:n.guid)??"":""},[e,c]),T=n.useMemo(()=>{if(t)return{errorType:t,shouldHideError:i,setShouldHideError:o}},[t,i,o]),S=v&&(0,h.kc)().presets_baseline?(0,k.tx)("design_systems.assets_panel.insert"):e.asset.type===tD.PW.MODULE&&(0,h.kc)().dse_editor_templates_v1?(0,k.tx)("design_systems.assets_panel.insert_template"):(0,k.tx)("design_systems.assets_panel.insert_instance");return n.createElement("div",{className:"component_flyout_body--bodyWrapper--CoGX-"},p&&!d&&n.createElement("div",{className:"component_flyout_body--updateBanner--ETDK5 component_flyout_body--_bodyPadding--KrB6p text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(at.z,{orientation:"vertical",iconSrc:ab.A,onClose:()=>u(!0),variant:"design"},(0,k.tx)("design_systems.assets_panel.update_banner"))),n.createElement("div",{className:"component_flyout_body--headerFileNameWrapper--MH4jz component_flyout_body--_bodyPadding--KrB6p"},n.createElement("h2",{className:"component_flyout_body--header--3LXSQ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa","data-tooltip":E?f:void 0,"data-tooltip-type":$.Ib.TEXT,ref:g},f),!!_&&_>1&&n.createElement("div",{className:"component_flyout_body--numVariants--nureW"},(0,k.tx)("design_systems.assets_panel.variant_count",{numVariants:_}))),n.createElement("div",{className:"component_flyout_body--descriptionWrapper--wFyRa component_flyout_body--_bodyPadding--KrB6p"},n.createElement(ay,{description:C.description,description_rt:C.description_rt})),n.createElement("div",{className:"component_flyout_body--updatedWrapper--q4V48 component_flyout_body--_bodyPadding--KrB6p"},n.createElement(am,{user:C.user,communityProfile:b?.publisher,updatedAt:C.updated_at})),n.createElement("div",{className:"component_flyout_body--buttonWrapper--Sb1Mq component_flyout_body--_bodyPadding--KrB6p"},(0,h.kc)().dse_fpl_wave_1&&m?n.createElement(t6.IK,{onClick:r},S):n.createElement(ae.$$,{onClick:r,fullWidth:!0},S)),a&&!e?.nodeData&&!T&&n.createElement("div",{className:"component_flyout_body--skeletonWrapper--urKH5"},n.createElement(tK.Wi,{className:"component_flyout_body--skeletonHeader--VoEY3",opacity:50}),n.createElement(tK.Wi,{className:"component_flyout_body--skeletonBody--pINXr",opacity:50})),a&&(e?.nodeData||T)&&n.createElement(al.q0.Provider,{value:c},(0,h.kc)().dse_editor_templates_v1&&(0,h.kc)().dse_editor_templates_frames&&n.createElement(af,{renderedAssetData:e}),n.createElement("div",{className:"component_flyout_body--propsContainer--w8pmU"},n.createElement(ar.x,{componentProps:e.nodeData?.componentProps,moduleProps:e.nodeData?.moduleProps,moduleFrameData:e.nodeData?.moduleFrameData??void 0,label:n.createElement(aS,{renderedAssetData:e}),playgroundGUID:e.nodeData?.playgroundGUID,productComponentGUID:w,sceneGraph:c,instanceSwapPickerInitialHeight:200,instanceSwapPickerInitialPosition:"right-center",containerWidth:ao.O2.UNBOUNDED,errorData:T,shouldShowDividerAboveProps:!0})),n.createElement("div",{className:"component_flyout_body--modeContainer--8n5p5"},n.createElement(an.b,{fill:!0,modes:e.nodeData?.modeData||{}}))))}function aS({renderedAssetData:e}){let t=n.useCallback(()=>{e.refetchAndResetScene()},[e]);return n.createElement("div",{className:"component_flyout_body--playgroundHeader--lQfDc"},n.createElement("div",{className:"component_flyout_body--flyoutLabel--6Y6lR text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(N.B,{className:"component_flyout_body--headerIcon--FHdrw",svg:av.A}),(0,k.tx)("design_systems.assets_panel.playground_label")),(0,h.kc)().dse_fpl_wave_1?n.createElement("span",{className:"component_flyout_body--resetButtonContainer--fCSjD"},n.createElement(t7.K,{"aria-label":(0,k.t)("design_systems.playground.reset_properties"),onClick:t,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps",htmlAttributes:{"data-tooltip":(0,k.t)("design_systems.playground.reset_properties"),"data-tooltip-type":$.Ib.TEXT}},n.createElement(aa.U,{svg:aC.A},n.createElement(t8.N,null)))):n.createElement(ec.K0,{className:"component_flyout_body--resetButton--wVXDQ",svg:aC.A,onClick:t,"data-tooltip":(0,k.t)("design_systems.playground.reset_properties"),"data-tooltip-type":$.Ib.TEXT,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps"}))}var aN=a(428654),ax=a(141123),ak=a(232205),aI=a(186380);a(914006);let aA="component_flyout_thumbnail--thumbnail--p3jV2";function aL({canViewPlayground:e,renderedAssetData:t,onCloseIfHidden:a,setFlyoutHidden:r,sectionPosition:l,sectionNameForTracking:i,sectionDepth:o}){let s=n.useCallback(()=>{r(!0)},[r]),{onInsertableResourcePointerDown:c,dragState:d}=(0,ak.j)({resource:t.asset,isList:!1,clickToInsert:!1,sourceForTracking:"asset-description-preview",fromPlayground:e,recomputeCancelRectsOnPointerUp:!0,onDragStart:s,onPointerUpWithoutInsert:a,sectionPosition:l,sectionNameForTracking:i,sectionDepth:o}),u=n.useMemo(()=>{let e=(0,tb.zR)(t.asset,null);if(null!=e)return aN.F.format(e)},[t.asset]);return n.createElement("div",{className:"component_flyout_thumbnail--thumbnailWrapper--P38Qq",onPointerDown:c,role:"button",style:u?{backgroundColor:u}:void 0},e&&t?.thumbnailData&&t.hasChangesToReset?n.createElement("img",{className:aA,src:t.thumbnailData.src,alt:(0,k.t)("design_systems.playground.thumbnail_alt"),draggable:!1}):n.createElement(aI.M,{className:aA,draggable:!1,key:(0,tC.V)(t.asset),item:t.asset,shouldGenerateLocalThumbnail:!1}),n.createElement(ax.q,{dragState:d,isList:!1,thumbnailOverrideSrc:e&&t?.thumbnailData?t.thumbnailData.src:void 0}))}let aO={maxWidth:640,maxHeight:480},aR=(0,tg.fv)();function aM({asset:e,onInsert:t,onLoaded:a,flyoutHidden:r,onCloseIfHidden:o,setFlyoutHidden:s,sectionPosition:c,sectionNameForTracking:d,sectionDepth:u}){let m=tk(aR(e)),[p,_]=n.useState(!1),f=n.useCallback(()=>_(!1),[]),h=(0,t4.MO)({canvasAsset:e,canViewPlaygroundQueryResult:m,onLoaded:a,onError:f,thumbnailOptions:aO}),g=(0,tM.H)(),E=(0,l.d4)(e=>e.fileVersion),y=(0,eM.ZC)(E);if(n.useEffect(()=>{h?.state==="LOADED"&&h?.currentAssetData?.nodeData?.playgroundGUID&&null!=y&&y!==E&&(g(),i.glU.clearPlaygroundScene())},[E,y,g,e.type,h]),!h)return n.createElement(eL.kt,{className:"component_flyout--spinner--c-wap"});let v="LOADED"===h.state?h.currentAssetData:h.previousAssetData,b="ERROR"===h.state?h.errorType:void 0;return n.createElement("div",{className:"component_flyout--wrapper--96Jih"},n.createElement(aL,{renderedAssetData:v,canViewPlayground:m.unwrapOr(!1),onCloseIfHidden:o,setFlyoutHidden:s,sectionPosition:c,sectionNameForTracking:d,sectionDepth:u}),!r&&n.createElement(aT,{renderedAssetData:v,errorType:b,canViewPlayground:m.unwrapOr(!1),onInsert:t,onSetShouldHideError:_,shouldHideError:p}))}var aD=a(180715),aP=a(860168);let aF=(0,p.jz)(aP.LdP),aB=(0,p.jz)(aP.wkK),aU=(0,tg.fv)(),aH=(0,tF.Ju)(function({asset:e,searchSessionId:t,query:a,sectionPosition:i,sectionNameForTracking:o,assetTypeDropdownSelection:s,sectionDepth:c,containerWidth:d,onGetKeyboardNavigationItemById:u}){let p=n.useRef(null),_=(0,tf.Xr)(aD.T),f=n.useMemo(()=>aU(e),[e]),h=tk(f),g=(0,tt.cm)(f),E=(0,X.q5)(),y=(0,l.wA)(),v=(0,l.d4)(e=>(0,ev.e_)(e).local.thumbnails),b=(0,tM.H)(),C=(0,l.d4)(e=>e.instanceSwapPickerShown),w=(0,tB.k)(),T=(0,ez.tM)();(0,ek.h)(()=>{m.az.trackDefinedEvent("assets_panel.flyout_opened",{assetKey:(0,tC.V)(e),assetType:(0,tC.q)(e.type),fileKey:f,isLocal:e.isLocal,fileParentOrgId:E?.parentOrgId??void 0,fileTeamId:E?.teamId??void 0,assetsPanelVersion:w,partnerType:(0,tA.X)(f),queryId:T??void 0})}),(0,ek.h)(()=>()=>{y((0,ty.vq)()),_(!1)}),n.useEffect(()=>{if(!(0,tR.dx)(e)||!e.isLocal)return;let t=e.node_id?v[e.node_id]:null,a=e.type===tD.PW.COMPONENT?e.content_hash:e.version;t?.content_hash!==a&&requestAnimationFrame(()=>{let t=(0,tb.r2)(e.node_id);null!=t&&y(tv.T1({thumbnails:[{nodeId:e.node_id,url:t,type:e.type}],source:tD.$1.LOCAL}))})},[e,y,v]);let S=n.useCallback(()=>{requestAnimationFrame(()=>p?.current?.ensureModalOnScreen())},[]),N=n.useCallback(()=>{C?.isShown&&y((0,ty.vq)())},[y,C]),I=(0,tL.Hu)(f),A=(0,tU.Nv)(),L=n.useCallback(()=>{if("loaded"!==h.status)return;let n=H.Y5.getViewportInfo(),r={canvasPosition:{x:n.offsetX,y:n.offsetY},insertAsChildOfCanvas:!0,percentageOffset:new th.Mi(.5,.5),storeInRecentsKey:tP.$A.Design,useSmartPositioning:!0,fromPlayground:h.data};e.type===tD.PW.COMPONENT?y((0,eD.Yf)({item:e,...r})):e.type===tD.PW.STATE_GROUP?y((0,eD.b$)({item:e,...r})):e.type===tD.PW.MODULE&&y((0,eD.Bs)({item:e,...r})).then(()=>{H.Y5.triggerAction("commit")}),m.az.trackDefinedEvent("assets_panel.flyout_insert",{assetKey:(0,tR.Av)(e),assetType:(0,tC.q)(e.type),assetTypeDropdownSelection:s,fileKey:E?.key??void 0,fileParentOrgId:E?.parentOrgId??void 0,fileTeamId:E?.teamId??void 0,libraryType:I,searchSessionId:t??void 0,searchQuery:a,sectionPosition:i,sourceSection:o??void 0,sectionDepth:c,assetsPanelVersion:w,scoreAi:e.ai_score??void 0,scoreLexical:e.lexical_score??void 0,aiResultsEnabled:A&&(0,tH.am)(),partnerType:(0,tA.X)(f),libraryKey:e.library_key,isExample:(0,tI.o)(e),queryId:T??void 0})},[h,e,f,y,s,E?.key,E?.parentOrgId,E?.teamId,I,t,a,i,o,c,w,A,T]);n.useEffect(()=>{let e=e=>{let t=r.findDOMNode(p.current?.getEl());if(t){if(!t.contains(e.target)){if(_(!1),(0,t_.NX)(e.target,"data-does-not-dismiss-component-flyout"))return;y(D.ES({type:ti.V}));return}_(!0)}};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[y,_]);let O=n.useCallback(t=>{let a=t.event.code??t.event.key,n=(0,tC.V)(e),r=u?.(n);if(!r)return;let l=t.event.keyCode===e1.Uz.TAB,i=t.event.shiftKey;if((0,eA.c2)(t.event,!1)){r.getItemAbove()?.focus(),t.accept();return}if((0,eA.Nt)(t.event,!1)){r.getItemBelow()?.focus(),t.accept();return}if((0,eA.yn)(a,!1)||l&&i){r.getItemToTheLeft()?.focus(),t.accept();return}if((0,eA.lv)(a,!1)||l&&!i){r.getItemToTheRight()?.focus(),t.accept();return}if("Enter"===a){L(),t.accept();return}},[e,L,u]);var R=n.createElement("div",{className:x.cx.minW0.flex1.$},n.createElement("div",null,(0,k.t)("design_systems.assets_panel.details")),n.createElement(tE.Y,{spacing:0,direction:"horizontal"},e&&n.createElement(t3,{assetFileKey:f,assetNodeId:e.node_id}),g&&n.createElement("div",{className:x.cx.pr4.$},n.createElement(ta.KP,{fileKey:f,variant:"secondary",tooltipLocation:"below"}))));let[M,P,F]=(0,tO.J)(!1),B=n.useCallback(()=>{M.current&&b()},[M,b]);return"loaded"!==h.status?null:n.createElement(tG.vx,{alwaysEnsureModalOnScreen:!0,allowAutoExpanding:!0,canRenderBelowViewport:!1,headerSize:"large",initialPosition:new th.Mi(d+1,aF),onClick:N,onClose:b,onKeyDown:O,title:R,truncateTitleText:!0,initialWidth:aB,ref:p,dataTestId:"component-flyout-modal",hidden:P,noCancelDragAndDrop:!0},n.createElement("div",{"data-not-draggable":!0},n.createElement(aM,{asset:e,onLoaded:S,onInsert:L,flyoutHidden:P,onCloseIfHidden:B,setFlyoutHidden:F,sectionPosition:i,sectionNameForTracking:o,sectionDepth:c})))},ti.V);var aG=a(811529),aV=a(669178);function az(e,t,a){return null!=e&&(t[e.type]||e.type===e4.I.FILE&&a[e.fileKey])?e:{type:e4.I.ALL}}var aK=a(857766),aW=a(670494),aj=a(875847),aZ=a(532888),aY=a(238837),aX=a(372291),aq=a(233333),aJ=a(794272);let aQ="searchResults";function a$(e,t){return`${t}:${e.key}`}function a0(e){return`${e}:${aQ}:templates`}function a1(e){return`${e}:recentlyUsed`}function a2(e){return`${e}:stickySection`}var a5=a(734013),a3=a(935283),a4=a(607283),a6=a(30637),a7=a(801161),a8=a(274071),a9=a(603396),ne=a(969504),nt=a(938720),na=a(734017),nn=a(739212),nr=a(448406),nl=a(659265),ni=a(408938);let no=(0,tg.fv)();function ns({asset:e,fileName:t,sourceForTracking:a,thumbHeight:r,thumbLayout:i,thumbWidth:o,viewMode:s,sectionNameForTracking:c,sectionPosition:d,noFlyout:p,preventDrag:_,disableContextMenu:f}){let E=(0,l.wA)(),y=(0,l.d4)(e=>e.dropdownShown),v=(0,l.d4)(eY.dK),b=(0,l.d4)(ev.F9),C=(0,l.d4)(ev.e_),w=(0,g.md)(aD.T),T=C.assetsPanelSearch.searchOptions?.type===e4.I.ALL,S=n.useMemo(()=>no(e),[e]),x=(0,tt.cm)(S),k=(0,tY.E_)(S),I=T&&(x||k),A=n.useRef(null),L=(0,ai.kH)(e.name),O=(0,t9.NG)({text:L,textRef:A}),R=n.useRef(null),M=(0,t9.NG)({text:t??"",textRef:R}),D=y?.type===na.K.ASSETS_PANEL?y?.data?.component:void 0,P=D?.node_id===e.node_id,F=s===aG.Bk.List,B=F?"list-no-padding":"grid",U=!!C.assetsPanelSearch.query,H=(0,ne.F)(e,na.K.ASSETS_PANEL,d,c),G=(0,a9.n)(e),V=(0,eM.ZC)(G),z=!p;n.useEffect(()=>{G&&!V&&E(a7.jD())},[G,E,V]);let K=e.isLocal&&(0,a6.PN)()?(0,nn.eT)(e.node_id,v).join("-"):e.node_id,W="Local components"===c||"Local private components"===c||e.isLocal,{handleClick:j,handleDoubleClick:Z}=function(e,t){let a=(0,X.q5)(),r=n.useRef(null),{searchSessionId:l}=(0,ez.Gq)(),i=(0,ez.tM)(),o=n.useCallback(n=>{m.az.trackDefinedEvent("assets_panel.component_clicked",{isDoubleClick:n,isLocalComponent:t,assetKey:(0,tC.V)(e),fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0,searchSessionId:l??void 0,assetsPanelVersion:2,queryId:i??void 0})},[e,t,a?.key,a?.parentOrgId,a?.teamId,l,i]);return{handleClick:n.useCallback(()=>{r.current||(r.current=setTimeout(()=>{o(!1),r.current=null},500))},[o]),handleDoubleClick:n.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null),o(!0)},[o])}}(e,W??!1),Y=i!==nr.rp.SMALL&&!F,q=!F&&(0,h.kc)().api_asset_search_with_scores,J=(0,as.Y)(e),Q=F?r:r-2,$=F?o:o-2,ee=n.useMemo(()=>_?void 0:{sourceForTracking:a,clickToInsert:!1,afterSuccessfulInsert:a8.$z,sectionNameForTracking:c},[_,c,a]),et=W?n.createElement(nt.MT,{item:e,height:Q,width:$,draggable:ee,onContextMenu:f?void 0:H,shouldHideTooltip:z||P||G,isFilePublished:b,recordingNodePath:K,isSearch:U,useBaseTile:!0,hideNameOverlay:Y,numVariants:J,displayType:B,sectionPosition:d,shouldUseDescriptionTooltip:!0,showTooltipImmediately:!1,fileName:O||M?t:void 0,alwaysShowBorder:!0}):n.createElement(nt.lX,{item:e,showName:!0,height:Q,width:$,draggable:ee,onContextMenu:f?void 0:H,shouldHideTooltip:z||P||G,recordingNodePath:K,isSearch:U,useBaseTile:!0,hideNameOverlay:Y,numVariants:J,displayType:B,sectionPosition:d,shouldUseDescriptionTooltip:!0,showTooltipImmediately:!1,fileName:O||M?t:void 0,alwaysShowBorder:!0});return n.createElement("div",{className:F?nl.AD:nl.iE,onClick:j,onDoubleClick:Z},F?et:n.createElement("div",{className:u()(nl.QX,{[nl.Gr]:G,[nl.HR]:G&&w})},et),Y&&n.createElement("div",{role:"button",className:nl.Bm,style:{width:o}},n.createElement("span",{className:nl.UU,ref:A},L),z&&n.createElement(N.B,{ariaHidden:!0,className:nl.OW,svg:ni.A})),Y&&!!t&&n.createElement(tE.Y,{spacing:0,direction:"horizontal"},n.createElement("div",{className:u()(nl.Md,nl.Rm),ref:R,style:I?{maxWidth:o-tr.J}:{width:o}},t),I&&n.createElement(tr.P,{resourceId:S,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),q&&n.createElement(n.Fragment,null,n.createElement("div",{className:u()(nl.Md,nl.Rm),style:I?{maxWidth:o-tr.J}:{width:o}},"AI: "+(e.ai_score??"N/A")),n.createElement("div",{className:u()(nl.Md,nl.Rm),style:I?{maxWidth:o-tr.J}:{width:o}},"Lex: "+(e.lexical_score??"N/A"))),z&&F&&n.createElement(N.B,{ariaHidden:!0,className:nl.Ki,svg:ni.A}))}var nc=a(47506),nd=a(10648),nu=a(230997);let nm="library_section_header--sectionHeaderH1--P70zQ ellipsis--ellipsis--Tjyfa",np="library_section_header--sectionHeader3_redesign--TGISe ellipsis--ellipsis--Tjyfa",n_="library_section_header--sectionHeaderH3--5VrMz ellipsis--ellipsis--Tjyfa";var nf=a(949207),nh=a(432023);let ng=e=>"isExpandable"in e&&e.isExpandable,nE=(e,t)=>{switch(e){case nm:return t?"library_section_header--sectionHeaderDivider--SdrS5 ellipsis--ellipsis--Tjyfa":"library_section_header--sectionHeader1_redesign--cWZaj ellipsis--ellipsis--Tjyfa";case n_:return np;default:return"library_section_header--sectionHeader3_normal--bf4ra"}},ny=e=>{let t=[];if(e&&e.length){t.push(n.createElement("div",{className:"library_section_header--sectionHeader1_sticky--mZ4QY ellipsis--ellipsis--Tjyfa",key:e[0]},e[0]+" / ","\xa0"));let a=e.slice(1).join(" / ");t.push(n.createElement("div",{className:np,key:a},a,"\xa0"))}return t};class nv extends n.Component{componentDidUpdate(e){ng(this.props)&&ng(e)&&e.isExpanded!==this.props.isExpanded&&"h1"===this.props.size&&(0,nc.YQ)({id:"library_section_header_toggled"})}render(){let e="h1"===this.props.size?nm:n_,t=ng(this.props)?"library_section_header--sectionHeaderExpandable--hHEFq":"",a=nE(e,this.props.shouldShowDividerLine),r=ng(this.props)&&this.props.isFixed?"library_section_header--isFixed--eVHns":"";return n.createElement(eE.fu,{name:"Section Header",properties:{title:this.props.title,isExpanded:!!ng(this.props)&&this.props.isExpanded},trackingTargets:nd.K.RCS},n.createElement("div",{className:u()(a,e,t,r)},ng(this.props)&&n.createElement(N.B,{className:this.props.isExpanded?"library_section_header--expandCaretOpen--083vU library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad":"library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad",svg:this.props.isExpanded?nf.A:nh.A}),ng(this.props)&&this.props.breadcrumbPath&&!this.props.isFixed&&n.createElement("div",{className:"library_section_header--breadcrumbPath--Jevbg"},this.props.breadcrumbPath,"\xa0"),ng(this.props)&&this.props.isFixed&&this.props.stickyHeadertokens&&this.props.stickyHeadertokens.length?ny(this.props.stickyHeadertokens):n.createElement("div",{className:a},this.props.title),(0,tn.vR)(this.props.subscribedFileKey)&&n.createElement("div",{className:x.cx.flex.alignCenter.justifyCenter.ml4.$},n.createElement(ta.KP,{fileKey:this.props.subscribedFileKey})),(0,h.kc)().dse_preset_libraries&&(0,tY.TX)(this.props.subscribedFileKey)&&n.createElement("div",{className:x.cx.flex.alignCenter.justifyCenter.ml4.$},n.createElement(tl.S,{hubFileId:this.props.subscribedFileKey,showTooltip:!0,redirectToHubFile:!0}))))}}nv.H1_HEIGHT=(0,p.hG)(nu.BS),nv.H3_HEIGHT=(0,p.hG)(nu.T);class nb extends n.Component{render(){return n.createElement("div",{className:12===this.props.size?"library_section_header--spacer12--0h1Dt":"library_section_header--spacer16--iPkYc"})}}nb.HEIGHT=(0,p.hG)(nu.FX);let nC="component_sidebar--stickyHeaderSpacer--SaKsM",nw=(0,p.hG)(nu.FX),nT=(0,p.hG)(nu.FX)/2,nS=(0,p.hG)(nu.Nz),nN=(0,p.hG)(nu.cP),nx=(0,tg.fv)();function nk({parent:e,outputElements:t,libraryNameByResourceId:a,items:r,keyPrefix:l,sharedOptions:i,sectionNameForTracking:o}){let s=(0,nr.PI)(r,!0),c={layout:s,...i},d=(0,nr.A5)(c),{width:u,height:m}=(0,nr.rj)(c,d),_=i.isList?1:0,f=i.isList?0:nS,g=i.isList||!a?0:nN,E=m+(i.isList?nT:nw)+f+g+_+(i.isList?0:-2);(0,h.kc)().api_asset_search_with_scores&&(E+=2*(0,p.hG)(nu.uY));let y=u+(i.isList?nT:nw)+(i.isList?0:-2),v=0,b=a4.oz.getNextRenderedElementTop(t)+nT;for(let[c,p]of r.entries()){let r=i.isList?b+v*E:b+Math.floor(v/d)*E,_=i.isList?0:3+v%d*y,f=(0,tC.V)(p),h=nx(p);t.push({parent:e,type:a4.zq.TILE,top:r,left:_,height:E,key:`${l}:${f}`,element:function({item:e,fileName:t,sourceForTracking:a,sectionNameForTracking:r,thumbLayout:l,thumbHeight:i,thumbWidth:o,isList:s,sectionPosition:c}){return n.createElement(ns,{asset:e,fileName:t,sourceForTracking:a,sectionNameForTracking:r,thumbLayout:l,thumbHeight:i,thumbWidth:o,viewMode:s?aG.Bk.List:aG.Bk.Grid,sectionPosition:c})}({containerWidth:i.containerWidth,fileName:h?a?.[h]:void 0,sourceForTracking:i.sourceForTracking,sectionNameForTracking:o,thumbLayout:s,thumbHeight:m,thumbWidth:u,isList:i.isList,item:p,isExpanded:i.isExpanded,sectionPosition:c}),item:p,numCols:d,containerWidth:i.containerWidth,sectionNameForTracking:o,sectionPosition:c}),v+=1}}let nI=(e,t,a)=>{let r=a2(a.keyPrefix),l=a4.oz.getNextRenderedElementTop(t),i={parent:e,type:a4.zq.ROW,top:l,height:"h1"==a.size?nv.H1_HEIGHT:nv.H3_HEIGHT,key:r,element:n.createElement(nv,{size:a.size,isExpandable:!0,isExpanded:a.isExpanded,title:a.title,breadcrumbPath:a.breadcrumbPath?a.breadcrumbPath:null,stickyHeadertokens:a.stickyHeaderTokens?a.stickyHeaderTokens:void 0,isFixed:!1,subscribedFileKey:a.subscribedFileKey}),isSticky:!0,isFixed:!1,children:[],isExpandable:!0,isExpanded:a.isExpanded,getExpandableElement:e=>n.createElement(nv,{size:a.size,isExpandable:!0,isExpanded:e,title:a.title,breadcrumbPath:a.breadcrumbPath?a.breadcrumbPath:null,stickyHeadertokens:a.stickyHeaderTokens?a.stickyHeaderTokens:void 0,subscribedFileKey:a.subscribedFileKey}),sectionNameForTracking:a.sectionNameForTracking,rowType:a.rowType,fixedElement:n.createElement(n.Fragment,null,n.createElement("div",{className:nC}),n.createElement(nv,{size:"h1",isExpandable:!0,isExpanded:a.isExpanded,title:a.title,breadcrumbPath:a.breadcrumbPath?a.breadcrumbPath:null,stickyHeadertokens:a.stickyHeaderTokens?a.stickyHeaderTokens:void 0,isFixed:!0,subscribedFileKey:a.subscribedFileKey}))};return t.push(i),i};function nA({sectionHeaderText:e,isFixed:t}){return n.createElement("div",{className:u()("component_sidebar--sectionHeader--v0N1h",t?"component_sidebar--isFixed--orinE":"")},n.createElement("div",{className:"component_sidebar--sectionHeaderText--hDKu5"},e))}function nL(e,t,a){let r=a4.oz.getNextRenderedElementTop(e),l={key:`${a.keyPrefix}:sectionHeader:${t}`,isSticky:!0,parent:null,isFixed:!1,type:a4.zq.ROW,top:r,height:40,element:n.createElement(nA,{sectionHeaderText:t,isFixed:!1}),fixedElement:n.createElement(n.Fragment,null,n.createElement("div",{className:nC}),n.createElement(nA,{sectionHeaderText:t,isFixed:!0})),isStaticRow:!0,sectionNameForTracking:a.sectionNameForTracking};return e.push(l),l}function nO({outputElements:e,results:t,moreResults:a,showMoreResults:r,keyPrefix:l,overallOptions:i,libraryNameByResourceId:o,toggleShowMoreResults:s,parent:c}){if(t.length>0&&nk({parent:c??null,outputElements:e,items:t,keyPrefix:`${l}:results`,sharedOptions:i,libraryNameByResourceId:o,sectionNameForTracking:"Primary search results"}),a.length>0){let t=a4.oz.getNextRenderedElementTop(e);e.push({parent:c??null,type:a4.zq.ROW,top:t,height:40,key:`${l}:moreResultsLink`,element:n.createElement("div",{className:"component_sidebar--text--g20jk"},r&&(0,k.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!r&&n.createElement("a",{className:"component_sidebar--link--I-ane blue_link--blueLink--9rlnd",onClick:s},(0,k.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:a.length}))),sectionNameForTracking:"More search results"}),r&&nk({parent:null,outputElements:e,items:a,keyPrefix:`${l}:moreResults`,sharedOptions:i,libraryNameByResourceId:o,sectionNameForTracking:"More search results"})}}function nR({prevParent:e,outputElements:t,inputSubtree:a,inputParentTree:r,keyPrefix:l,sharedOptions:i,sectionNameForTracking:o,hideTitle:s}){let c=a$(a,l),d=!s&&function(e,t){switch(e.type){case"FILE":return""!==e.name;case"PAGE":return t.subtrees.length>1;case"NAME_GROUP":return!e.skipElementsInRendering;case"ASSET_TYPE":return e.items.length>0||e.subtrees.length>0}}(a,r),u=function(e,t,a,n,r,l){if(!e)return null;let i=a$(n,r),o=a2(i),s=l.isExpanded(o,(0,a5.pR)(n.type,n.sectionNameForTracking));switch(n.type){case"FILE":return nI(null,a,{keyPrefix:i,size:"h1",title:n.name,isExpanded:s,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,subscribedFileKey:n.subscribedFileKey,sectionNameForTracking:n.sectionNameForTracking,rowType:a4.l$.LIBRARY});case"PAGE":return nI(t,a,{keyPrefix:i,title:n.name,size:"h3",isExpanded:s,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,sectionNameForTracking:n.sectionNameForTracking,rowType:a4.l$.PAGE});case"NAME_GROUP":return nI(t,a,{keyPrefix:i,size:"h3",title:n.flattenedPath?n.flattenedPath:n.name,isExpanded:s,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:void 0,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,sectionNameForTracking:n.sectionNameForTracking,rowType:a4.l$.NAME_GROUP});case"ASSET_TYPE":let c=nM(n.sectionNameForTracking);return nI(t,a,{keyPrefix:i,size:"h3",title:n.name,isExpanded:!0,sectionNameForTracking:n.sectionNameForTracking,rowType:c})}}(d,e,t,a,l,i),m=u?u.children:t,p=u||e;if((0,h.kc)().dse_templates_proto){let e=a.subtrees.find(aY.Qe);null!=e&&nR({prevParent:null,outputElements:m,inputSubtree:e,inputParentTree:a,keyPrefix:l,sharedOptions:i,sectionNameForTracking:e.sectionNameForTracking})}switch(a.type){case"PAGE":case"ASSET_TYPE":case"FILE":nk({parent:p,outputElements:m,items:a.items,keyPrefix:c,sharedOptions:i,sectionNameForTracking:o});break;case"NAME_GROUP":a.skipElementsInRendering||nk({parent:p,outputElements:m,items:a.items,keyPrefix:c,sharedOptions:i,sectionNameForTracking:o});break;default:(0,a3.xb)(a.type)}for(let e of a.subtrees)(0,h.kc)().dse_templates_proto&&(0,aY.Qe)(e)||nR({prevParent:p,outputElements:m,inputSubtree:e,inputParentTree:a,keyPrefix:c,sharedOptions:i,sectionNameForTracking:o});"FILE"===a.type&&d&&function(e,t,a){let r=a4.oz.getNextRenderedElementTop(t);t.push({parent:e,type:a4.zq.SEPARATOR,top:r,height:a.size,key:`${a.keyPrefix}:spacer${a.size}`,element:n.createElement(nb,{size:a.size})})}(p,m,{keyPrefix:c,size:16})}let nM=e=>{let t=e?.toLowerCase().includes("local");return e?.toLowerCase().includes("templates")?t?a4.l$.LOCAL_TEMPLATES:a4.l$.TEMPLATES:t?a4.l$.LOCAL_COMPONENTS:a4.l$.COMPONENTS},nD="root";var nP=a(545816);let nF=[];function nB(e,t,a){let n=[];return e&&nR({prevParent:null,outputElements:n,inputSubtree:e,inputParentTree:t,keyPrefix:nD,sharedOptions:a,sectionNameForTracking:e.sectionNameForTracking,hideTitle:!0}),n}let nU="library-section-asset-type";function nH(e){switch(e){case"all":return{type:e4.I.ALL};case"recent":return{type:e4.I.RECENT};case"local":return{type:e4.I.LOCAL};default:return{type:e4.I.FILE,fileKey:e}}}var nG=a(56063),nV=a(639318),nz=a(336599),nK=a(705129);function nW(e){let t=(0,l.d4)(e=>e.loadingState),a=(0,l.d4)(e=>e.fileVersion),r=(0,l.d4)(e=>e.openFile),i=(0,tB.k)(),o=r&&null!=a&&(0,nK.yD)(r.key)||null,s=!(null!=o&&(0,nz.D2)(t,o));n.useEffect(()=>{s||function(e,t,a){if(nj)return;let{numLibraries:n,numComponents:r,numComponentsWithLimit:l}=e();(0,m.sx)("Assets Panel Initial Load",{numLibraries:n,numComponents:r,numComponentsWithLimit:l,assetsPanelVersion:t,fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0}),nj=!0}(e,i,r)},[e,s,r,i])}let nj=!1;var nZ=a(304783),nY=a(799569),nX=a(172115),nq=a(931828),nJ=a(101505),nQ=a(206193);function n$(){let e=(0,l.wA)(),t=(0,l.d4)(e=>e.openFile),a=(0,l.d4)(e=>e.user?.id);if(!t)return null;let r=t.teamId,i=n.createElement(ae.Us,{className:"library_upsell_banner--blueLink--bt6GX blue_link--blueLink--9rlnd",onClick:function(){(0,m.sx)("library_upsell_badge_clicked",{fileKey:t?.key,teamId:r,userId:a}),e((0,D.to)({type:nX.V,data:{upsellSource:nQ.b.LIBRARY_UPSELL_BADGE,teamId:r??void 0,openCheckoutInNewTab:!0}}))},trackingProperties:{trackingDescriptor:nJ.c.UPGRADE_TO_PROFESSIONAL},trusted:!0,role:"button"},(0,k.tx)("design_systems.assets_panel.library_upsell_upgrade"));return n.createElement(w.tH,{boundaryKey:"LibraryUpsellBanner",fallback:w.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:nZ.e.MONETIZATION_UPGRADES}},n.createElement(eE.fu,{name:"library upsell badge",properties:{fileKey:t?.key,teamId:t?.teamId}},n.createElement("div",{className:"library_upsell_banner--bannerBackground--WlTVY"},n.createElement("div",{className:"library_upsell_banner--bannerContainer--SqSHa"},n.createElement(nY.Jn,{className:"library_upsell_banner--closeButton--U1sPN",onClick:function(){(0,m.sx)("library_upsell_badge_dismissed",{fileKey:t?.key,teamId:r,userId:a}),e(nq.b({has_dismissed_component_sidebar_library_upsell_banner:!0}))}}),n.createElement("div",{className:"library_upsell_banner--bannerContent--SUcpT"},n.createElement("div",{className:"library_upsell_banner--bannerHeader--Lbg8d"},n.createElement(aa.U,{svg:eT.A,className:"library_upsell_banner--bannerIcon--n5IGN"},n.createElement(eh.l,null))),n.createElement("p",{className:"library_upsell_banner--bannerTitle--AN3mP"},(0,k.tx)("design_systems.assets_panel.library_upsell_header")),n.createElement("p",{className:"library_upsell_banner--bannerBody--GSg3l"},(0,k.tx)("design_systems.assets_panel.library_upsell_body",{upgradeToProfessionalPlanLink:i})))))))}let n0=(0,p.hG)(aP.gNA),n1={improved:{search:{path:[0,0],column:0},libraryModal:{path:[0,0],column:1},dropdown:{path:[0,1],column:0},viewToggle:{path:[0,1],column:1}}};function n2({initialScrollTop:e,onScroll:t,viewMode:a,toggleViewMode:r,containerSizingOptions:l,recordingKey:i}){return n.createElement(eA.dP,{recordingKey:"localComponents",className:"component_sidebar--container--Wxtr4",dataTestId:"component-sidebar","data-does-not-dismiss-component-flyout":!0},n.createElement(n5,{initialScrollTop:e,onScroll:t,viewMode:a,toggleViewMode:r,containerSizingOptions:l,recordingKey:i}))}function n5({initialScrollTop:e,onScroll:t,viewMode:a,toggleViewMode:r,containerSizingOptions:i,recordingKey:o}){let s=(0,l.wA)(),c=(0,l.d4)(e=>e.dropdownShown),d=(0,l.d4)(ev.e_),u=(0,l.d4)(eZ.hK),p=(0,l.d4)(eY.dK),_=(0,l.d4)(eY.Xt),f=(0,l.d4)(eX.P),E=(0,l.d4)(e=>e.userFlags.has_dismissed_component_sidebar_library_upsell_banner),y=(0,l.d4)(e=>e.isFreeUser),C=(0,l.d4)(e=>e.user),w=(0,b.Av)(),T=(0,l.d4)(e=>e.openFile),S=(0,eV.FC)(),N=(0,aq.D)(),{query:x,searchSessionId:I}=(0,ez.Gq)();(0,nG.y)(),eH();let A=(0,eA.q_)();n.useEffect(()=>{s(eO.cr({shouldSearchDefaultLibraries:!1}))},[s]);let{assetType:L,libraryNameByFileKey:O,onSetAssetType:R,scrollContent:M,validAssetTypeOptions:P}=function({containerSizingOptions:e,viewMode:t}){var a;let r=function(){let e=(0,l.d4)(ev.e_),t=(0,l.d4)(X.tB),a=(0,l.d4)(aZ.t_),r=(0,l.d4)(e=>e.hubFiles),i=(0,l.d4)(ev.MH),o=(0,l.d4)(ev.dM),s=(0,l.d4)(ev.h3),c=(0,l.d4)(eX.P),d=(0,eU.Ck)(),u=(0,tt.Fl)(),m=t?.teamId?c[t.teamId]:null,p=!!m&&(0,eW.w5)(m),_=(0,aj.T9)(t?.project),f=n.useMemo(()=>(0,aG.Sg)(i,o),[i,o]),h=n.useMemo(()=>(0,aG.ND)(s),[s]),g=n.useMemo(()=>(0,aG.ff)(e,t,a,_),[e,t,a,_]),E=(0,aX.Lm)(),y=n.useMemo(()=>(0,aG.sJ)(E,a,t,e,_),[a,_,e,t,E]),v=n.useMemo(()=>d()?(0,aG.o6)(e,t,r,_):null,[d,e,t,r,_]);return(0,aW.jP)(v),n.useMemo(()=>(0,aY.Nx)({localLibraryItemsInfo:f,localTemplatesInfo:h,subscribedItemsInfo:g,subscribedTemplatesInfo:y,subscribedCommunityItemsInfo:v,defaultSubscribedItemsInfo:(0,aG.Mt)(),canPublish:p,currentFileKeyForPublish:t?(0,aK.Kz)(t)?t.sourceFileKey:t.key:null,approvedLibraryKeysByResourceType:u}),[f,h,g,y,v,p,t,u])}(),{productComponents:i,templates:o}=(0,aV.g5)(tP.$A.Design),s=(0,l.d4)(e5.q5),c=(0,aq.D)(),d=n.useMemo(()=>({productComponents:i,templates:(0,h.u4)("dse_editor_templates_v1",o,[])}),[i,o]),u=n.useMemo(()=>s?e4.v:function(e,t,a,n=[]){let r=!!((0,h.kc)().dse_editor_templates_v1&&a&&(a.items.length>0||t.subtrees.length>0));return{[e4.I.ALL]:!0,[e4.I.RECENT]:!!(e.length+(0,h.u4)("dse_editor_templates_v1",n.length,0)),[e4.I.LOCAL]:t.items.length>0||t.subtrees.length>0||r,[e4.I.FILE]:!1}}(i,r.localSubtree,r.localTemplateSubtree,o),[s,i,o,r.localSubtree,r.localTemplateSubtree]),p=(a=r.subscribedFileSubtrees,n.useMemo(()=>{let e={};for(let[t,n]of Object.entries(a))n&&(e[t]=n.name);return e},[a])),{assetType:_,onSetAssetType:f}=function(e,t){let[a,r]=n.useState(!1),[i,o]=n.useState({type:e4.I.ALL}),s=(0,l.wA)(),c=(0,l.d4)(e5.q5),d=(0,X.q5)();n.useEffect(()=>{a||"loading"===e||(o(az(function(){if(v.x4)try{let e=v.x4.getItem(nU);if(!e)return;return nH(e)}catch(e){return}}(),e,t)),r(!0))},[a,e,t]);let u=n.useCallback(e=>{(!c||(0,e5.eu)(e))&&(o(e),v.x4?.setItem(nU,function(e){switch(e.type){case e4.I.ALL:return"all";case e4.I.RECENT:return"recent";case e4.I.LOCAL:return"local";case e4.I.FILE:return e.fileKey}}(e)),c&&s(eO.gP({searchOptions:e})),m.az.trackDefinedEvent("assets_panel.asset_type_changed",{assetType:e.type,isSearching:!!c,fileKey:e.type===e4.I.FILE?e.fileKey:void 0,openFileKey:d?.key,fileTeamId:d?.teamId??void 0,fileOrgId:d?.parentOrgId??void 0,assetsPanelVersion:2}))},[c,s,d?.key,d?.parentOrgId,d?.teamId]),p=n.useCallback(e=>e.key===nU&&null!=e.newValue,[]),_=n.useCallback(a=>{if(!a)return;let n=nH(a);"loading"!==e&&o(az(n,e,t))},[e,t]);return(0,v.tl)({onSync:_,shouldSyncValue:p}),{assetType:i,onSetAssetType:u}}(c?"loading":u,p),g=function({assetType:e,containerSizingOptions:t,recentlyUsedItems:a,treeWithSubtrees:r,viewMode:l}){let{library:i}=(0,aJ.R)(e=>({library:e.library})),o=(0,nP.O)(),[s,c]=n.useState(!1),d=l===aG.Bk.List,u=n.useMemo(()=>({isList:d,isExpanded:a5.xO,sourceForTracking:aG.mZ,...t}),[t,d]),m=n.useMemo(()=>{let e,t;let{query:a,normalizedSearchResults:n,unsubscribedSearchResults:r}=i.assetsPanelSearch;if(!a)return nF;(0,h.kc)().dse_editor_templates_v1?[t,e]=(0,e5._2)(n):e=n;let l=e,d=l.length+r.length;if(0===d&&(!t||0===t.length))return nF;!s&&0===l.length&&r.length>0&&c(!0);let m=[];if(t&&t.length>0&&(0,h.kc)().dse_editor_templates_v1){let e=nL(m,(0,k.t)("design_systems.assets_panel.templates"),{keyPrefix:a0(nD),sectionNameForTracking:"Templates search results"});nO({outputElements:m,results:t,moreResults:[],showMoreResults:!1,keyPrefix:a0(nD),overallOptions:u,libraryNameByResourceId:o,toggleShowMoreResults:()=>{},parent:e})}if(d>0){let e=(0,h.kc)().dse_editor_templates_v1?nL(m,(0,k.t)("design_systems.assets_panel.components"),{keyPrefix:`${nD}:${aQ}`,sectionNameForTracking:"Primary search results"}):null;nO({outputElements:m,results:l,moreResults:r,showMoreResults:s,keyPrefix:`${nD}:${aQ}`+((0,h.kc)().dse_editor_templates_v1?"1":""),overallOptions:u,libraryNameByResourceId:o,toggleShowMoreResults:()=>{c(e=>!e)},parent:e})}return m},[o,i.assetsPanelSearch,u,s]),{productComponents:p,templates:_}=a,f=n.useMemo(()=>{if(!p.length&&!_.length)return nF;let e=[];return(0,h.kc)().dse_editor_templates_v1?(_.length>0&&nk({parent:nL(e,(0,k.t)("design_systems.assets_panel.templates"),{keyPrefix:a1(nD+":templates"),sectionNameForTracking:"Recently used templates"}),outputElements:e,items:_,keyPrefix:a1(nD+":templates"),sharedOptions:u}),p.length>0&&nk({parent:nL(e,(0,k.t)("design_systems.assets_panel.components"),{keyPrefix:a1(nD+":components"),sectionNameForTracking:"Recently used"}),outputElements:e,items:p,keyPrefix:a1(nD+":components"),sharedOptions:u})):nk({parent:null,outputElements:e,items:p,keyPrefix:a1(nD),sharedOptions:u}),e},[p,_,u]),g=n.useMemo(()=>(0,h.kc)().dse_editor_templates_v1?function(e,t,a){let n=[];return e.forEach(e=>{e&&nR({prevParent:null,outputElements:n,inputSubtree:e,inputParentTree:t,keyPrefix:nD,sharedOptions:a,sectionNameForTracking:e.sectionNameForTracking,hideTitle:!1})}),n}([r.localTemplateSubtree,r.localSubtree],r.tree,u):nB(r.localSubtree,r.tree,u),[u,r.localSubtree,r.localTemplateSubtree,r.tree]),E=n.useMemo(()=>nB(e.type===e4.I.FILE?r.subscribedFileSubtrees[e.fileKey]:void 0,r.tree,u),[e,u,r.subscribedFileSubtrees,r.tree]),y=n.useMemo(()=>{let e=[];return!function(e,t,a,n){if((0,h.kc)().dse_templates_proto){let r=t.subtrees.find(aY.Qe);null!=r&&nR({prevParent:null,outputElements:e,inputSubtree:r,inputParentTree:t,keyPrefix:a,sharedOptions:n,sectionNameForTracking:r.sectionNameForTracking})}for(let r of(t.items.length>0&&nk({parent:null,outputElements:e,items:t.items,keyPrefix:a,sharedOptions:n}),t.subtrees))(0,h.kc)().dse_templates_proto&&(0,aY.Qe)(r)||nR({prevParent:null,outputElements:e,inputSubtree:r,inputParentTree:t,keyPrefix:a,sharedOptions:n,sectionNameForTracking:r.sectionNameForTracking})}(e,r.tree,nD,u),e},[u,r.tree]);return i.assetsPanelSearch.query?m:e.type===e4.I.RECENT?f:e.type===e4.I.LOCAL?g:e.type===e4.I.FILE?E:y}({assetType:_,containerSizingOptions:e,recentlyUsedItems:d,treeWithSubtrees:r,viewMode:t});return{assetType:_,libraryNameByFileKey:p,onSetAssetType:f,scrollContent:g,validAssetTypeOptions:u}}({viewMode:a,containerSizingOptions:i}),[F,B]=(0,g.fp)(eQ.Cl);(0,ek.h)(()=>{F&&(R({type:e4.I.FILE,fileKey:F}),B(null))});let U=(0,eG.LR)(),H=(0,l.d4)(e=>e.universalInsertModal.showing),G=n.useCallback(()=>{H&&U()},[U,H]),V=n.useCallback((e,t,a)=>{G(),s((0,D.to)({type:aH,data:{asset:e,searchSessionId:I??void 0,query:x??void 0,sectionPosition:t,sectionNameForTracking:a,assetTypeDropdownSelection:L?.type,containerWidth:i.containerWidth,onGetKeyboardNavigationItemById:A}}))},[L,i.containerWidth,s,G,A,I,x]),K=n.useMemo(()=>({onOpenFlyout:V,assetTypeDropdownSelection:L?.type}),[L,V]);!function({allElements:e}){nW(n.useCallback(()=>{let t=e.length,a=0,n=0;for(let t of e)if(!t.key.includes("localComponents")){let e=function e(t){if(t.type===a4.zq.TILE)return 1;if(!(0,a4.We)(t)||!t.isExpanded)return 0;{let a=0;for(let n of t.children)a+=e(n);return a}}(t);a+=e,n+=Math.min(e,20)}return{numLibraries:t,numComponents:a,numComponentsWithLimit:n}},[e]))}({allElements:M});let W=a===aG.Bk.List,j=d.assetsPanelSearch,Z=0===M.length,Y=c?.type===na.K.ASSETS_PANEL,q=Y&&c?.data?.component||null,J=(0,nV.K)(!0),Q=n.useCallback(()=>{Y||(0,z.wr)()},[Y]),[$,ee]=(0,v.Vc)("has-auto-expanded-component-libraries-for-nux",!1),et=(0,eU.Ck)(),ea=n.useRef(null);n.useEffect(()=>{let e=ea.current;e&&0!==M.length&&et()&&!$&&e.expandAllComponentLibraries(308)>0&&ee(!0)},[$,et,M.length,ee]);let en=n.useCallback(()=>{let e=!!d.assetsPanelSearch.query,t=0===M.length;return n.createElement("div",null,e&&t&&n.createElement(e$.Wq,null),!e&&t&&n.createElement(e$.od,null))},[d.assetsPanelSearch,M.length]),er=N||j.isLoading,el=(0,eK.jO)(),ei=T?.teamId?f[T.teamId]:null,eo=!E&&y&&(!ei||!(0,eW.w5)(ei)&&(0,ej.canEditTeam)(ei.id,S))&&T?.canEdit&&el&&Object.keys(d.local.components).length>0&&(0,eR.Hz)(C?.id),es=function(e,t){let a=n.useMemo(()=>e.find(e=>e.key.includes("subscribedCommunityComponents")&&e.key.includes("stickySection")),[e]);return n.useCallback(()=>{a&&t.current?.scrollToElement(a.key)},[a,t])}(M,ea);return n.createElement(tp.U.Provider,{value:K},n.createElement(n3,{assetType:L,componentsEmpty:Z,isList:W,isSearching:!!j.query,isComponentSidebarInitialLoading:N,libraryNameByFileKey:O,onSetAssetType:R,onToggleViewMode:r,recordingKey:o,validAssetTypeOptions:P}),er?n.createElement("div",{className:"component_sidebar--loadingSpinnerContainerWithDropdown--9b8ZI"},n.createElement(eL.kt,null)):n.createElement("div",{className:"component_sidebar--assetPanelSection--mYuo2"},n.createElement(eI.O,{ref:ea,scrollContent:M,recordingKey:"componentsListContainer",isList:W,getViewportHeight:e=>e-2*w,topOffset:n0,isTileSelected:e=>!!e.item.isLocal&&_&&(0,eq.sp)(p,_,e.item.node_id),onMouseUp:Q,renderEmptyState:en,width:i.containerWidth,className:"component_sidebar--scrollContainerFullHeight---DTUM component_sidebar--_scrollContainerBase--1rakD",initialScrollTop:e,onScroll:t,enableKeyboardNavigation:!0,shouldRefocusAfterKeyboardInsert:L.type===e4.I.RECENT,fileKey:T?.key,teamId:T?.teamId??void 0,orgId:T?.parentOrgId??void 0}),!!q&&n.createElement(na.h,{selectedView:u,dropdownShown:c,defaultFileKeys:d.defaultPublished.fileKeys,onJumpToLocalComponent:J,onOpenFlyout:V,usePortal:!0}),eo&&n.createElement(n$,null),n.createElement(eJ.Mw,{width:i.containerWidth,scrollToPreset:es})))}function n3({assetType:e,componentsEmpty:t,isList:a,isSearching:r,isComponentSidebarInitialLoading:l,libraryNameByFileKey:i,onSetAssetType:o,onToggleViewMode:s,validAssetTypeOptions:c,recordingKey:d}){let u=n1.improved,{setKeyboardNavigationElement:m}=(0,eA.M3)({path:u.libraryModal.path,column:u.libraryModal.column}),{setKeyboardNavigationElement:p}=(0,eA.M3)({path:n1.improved.dropdown.path,column:n1.improved.dropdown.column}),{setKeyboardNavigationElement:_}=(0,eA.M3)({path:u.viewToggle.path,column:u.viewToggle.column});return n.createElement("div",null,n.createElement("div",{className:"component_sidebar--searchHeader--yTD7D component_sidebar--_header--nHN39"},n.createElement(e6,{searchOptions:{type:e,onSetAssetType:o},keyboardNavigationPath:u.search.path,keyboardNavigationColumn:u.search.column}),n.createElement(eN,{entrypoint:e0.r6.ASSETS_PANEL_BUTTON,onSetKeyboardNavigationElement:m,recordingKey:d})),l||t&&!r?null:n.createElement("div",{className:"component_sidebar--pageHeader--m9FWc component_sidebar--_header--nHN39"},n.createElement(ts,{assetType:e,libraryNameByFileKey:i,onSetAssetType:o,onSetKeyboardNavigationElement:p,validAssetTypeOptions:c}),n.createElement(tm,{isList:a,onToggleViewMode:s,onSetKeyboardNavigationElement:_,recordingKey:d})))}var n4=a(44160),n6=a(622422),n7=a(819229),n8=a(721910),n9=a(998917),re=a(163586),rt=a(201325),ra=a(713644);let rn="asset_panel_folder--folderButton---mVgX";var rr=a(950220);let rl=(0,p.jz)(rr.CT),ri=(0,p.jz)(rr.qv),ro=n.forwardRef(function({keyPrefix:e,name:t,onClick:a,onContextMenu:r,previewAsset:l,recordingKey:i,disabled:o,isList:s,variant:c},d){let m=n.useMemo(()=>s?{height:ri,width:ri}:{height:rl,width:rl},[s]),p=n.createElement(n.Fragment,null,"preview"===c?n.createElement("div",{className:"asset_panel_folder--folderPreview--0ezgC"},l?n.createElement(ra.V,{keyPrefix:e,preview:l,...m}):n.createElement("div",{className:"asset_panel_folder--blankThumbnail--6v5uo",style:m})):n.createElement("div",{className:"asset_panel_folder--folderIcon--FnZdp"},n.createElement(re.x,null)),n.createElement("div",{className:"asset_panel_folder--folderName--CPNC8 ellipsis--ellipsis--Tjyfa"},t),n.createElement("div",{className:u()("asset_panel_folder--folderNextIcon--ZYH9z",{"asset_panel_folder--adjustMargin--uitBT":"icon"===c})},n.createElement(rt.n,null)));return n.createElement("div",{className:"asset_panel_folder--folderContainer--UPeR-"},(0,h.kc)().dse_fpl_wave_1?n.createElement(n9.E,{"aria-label":t,className:rn,onClick:a,ref:d,recordingKey:i,disabled:o,htmlAttributes:{onContextMenu:r}},p):n.createElement(y.GG,{"aria-label":t,className:rn,onClick:a,onContextMenu:r,forwardedRef:d,recordingKey:i,disabled:o},p))});var rs=a(718242),rc=a(330367),rd=a(623680),ru=a(799550);function rm({subtree:e,index:t,keyPrefix:a,depth:r}){let l=(0,rs.sN)(),{folderPath:i,currentView:o}=(0,rd.wV)(),[s]=(0,ru.MA)(),{previewAsset:c}=e,{navigateToFolder:d}=(0,rd.wV)(),u=n.useCallback(()=>{l("folderRow",d(e.name))},[l,d,e.name]),m=n.useMemo(()=>[n8.ON.CONTENTS,n8.lM.ASSETS+r,n8.tM.FOLDERS,t],[r,t]),{keyboardNavigationItem:p,setKeyboardNavigationElement:_}=(0,eA.M3)({path:m,id:e.key,disabled:(i?.length??0)>r}),{focusFirstItem:f,focusSearchBar:h}=(0,rc.rl)();(0,rc.C0)(p,0===t&&r===(i?.length??0)&&o===rd.S5.Assets);let g=(0,rc.MB)({onBoth:u,onKeyDown:f,onClick:h}),E=n.useMemo(()=>i&&i.length>r,[i,r]);return n.createElement(ro,{name:e.name,onClick:g,keyPrefix:`${a}${e.name}`,previewAsset:c,recordingKey:`assetsFolder.${e.name}`,ref:_,disabled:E,variant:"list"===s?"icon":"preview"})}var rp=a(905485),r_=a(977144),rf=a(179220),rh=a(38580),rg=a(341450),rE=a(736174),ry=a(543817);let rv="asset_panel_tile--fileName--Skyao ellipsis--ellipsis--Tjyfa",rb="asset_panel_tile--secondary--6CWeS",rC=(0,tg.fv)();function rw({asset:e,fileName:t,sourceForTracking:a,thumbLayout:r,thumbHeight:i,thumbWidth:o,displayType:s,viewMode:c,sectionNameForTracking:d,sectionPosition:u,sectionDepth:m,hideInlineName:p,keyboardPosition:_,isFirstTile:f=!1,isExample:h=!1,keyboardPanelDepth:g=0}){let E=n.useContext(tp.U),y=(0,l.d4)(e=>e.modalShown),v=(0,X.tS)(),{currentView:b}=(0,rd.wV)(),C=n.useMemo(()=>rC(e),[e]),w=n.useMemo(()=>h??(0,tI.Nz)(e,{isPreset:(0,te.wJ)(C)}),[e,C,h]),T=(0,ap.J)(e,u,d),S=(0,a9.n)(e),N=(0,ry.u)({canSwap:!w,openFileKey:v??"",sourceForTracking:"Asset Panel",insertAsChildOfCanvas:!0}),x=n.useCallback(()=>{y?.type!==ti.V||S||T()},[S,y?.type,T]),k=n.useCallback(()=>{y?.type!==ti.V&&E?.onOpenFlyout(e,u,d,m)},[y?.type,E,e,u,d,m]),I=n.useMemo(()=>({..._,path:[n8.ON.CONTENTS,n8.lM.ASSETS+g,..._.path]}),[_,g]),{folderPath:A}=(0,rd.wV)(),[L]=(0,ru.ye)(),O=b===rd.S5.Assets&&A&&L&&(A?.length??0)>g,{setKeyboardNavigationElement:R,keyboardNavigationItem:M}=(0,eA.M3)({...I,id:(0,tC.V)(e),onFocus:x,disabled:O});(0,rc.C0)(M,f&&b===rd.S5.Assets&&!O);let D=(0,rE.N)({colIndex:I.column,rowIndex:I.path[I.path.length-1],isList:!1,keyboardNavigationItem:M,onComponentInsertSwap:N,onOpenFlyout:k,item:e,sectionNameForTracking:d,sectionPosition:u,shouldRefocusAfterKeyboardInsert:b===rd.S5.Recents,sourceForTracking:aG.mZ});return n.createElement("button",{onClick:k,className:"asset_panel_tile--focusableElementWrapper--YzHK7",ref:R,onKeyDown:D},n.createElement(rS,{asset:e,fileName:t,sourceForTracking:a,thumbLayout:r,thumbHeight:i,thumbWidth:o,displayType:s,viewMode:c,sectionNameForTracking:d,sectionPosition:u,sectionDepth:m,hideInlineName:p}))}let rT=(0,tg.fv)();function rS({asset:e,fileName:t,sourceForTracking:a,thumbHeight:r,thumbWidth:i,sectionNameForTracking:o,sectionPosition:s,sectionDepth:c,hideInlineName:d,displayType:p}){let _=(0,l.wA)(),f=(0,l.d4)(eY.dK),E=(0,l.d4)(ev.F9),y=(0,l.d4)(ev.e_),v=(0,g.md)(aD.T),b=y.assetsPanelSearch.searchOptions?.type===e4.I.ALL,C=n.useMemo(()=>rT(e),[e]),w=(0,tt.cm)(C),T=(0,tY.E_)(C),S=b&&(w||T),N=n.useRef(null),x=(0,ai.kH)(e.name),k=(0,t9.NG)({text:x,textRef:N}),I=n.useRef(null),A=(0,t9.NG)({text:t??"",textRef:I}),L=!!y.assetsPanelSearch.query,O=(0,ne.F)(e,na.K.ASSETS_PANEL,s,o),R=(0,a9.n)(e),M=(0,eM.ZC)(R);n.useEffect(()=>{R&&!M&&_(a7.jD())},[R,_,M]);let D=e.isLocal&&(0,a6.PN)()?(0,nn.eT)(e.node_id,f).join("-"):e.node_id,P="Local components"===o||"Local private components"===o||e.isLocal,{handleClick:F,handleDoubleClick:B}=function(e,t){let a=(0,X.q5)(),r=n.useRef(null),{searchSessionId:l}=(0,ez.Gq)(),i=(0,ez.tM)(),o=n.useCallback(n=>{m.az.trackDefinedEvent("assets_panel.component_clicked",{isDoubleClick:n,isLocalComponent:t,assetKey:(0,tC.V)(e),fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0,searchSessionId:l??void 0,assetsPanelVersion:3,queryId:i??void 0})},[e,t,a?.key,a?.parentOrgId,a?.teamId,l,i]);return{handleClick:n.useCallback(()=>{r.current||(r.current=setTimeout(()=>{o(!1),r.current=null},500))},[o]),handleDoubleClick:n.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null),o(!0)},[o])}}(e,P??!1),U="grid"===p,H=!d&&U,G=(0,h.kc)().api_asset_search_with_scores,V=(0,as.Y)(e),z={showName:!0,height:r,width:i,draggable:n.useMemo(()=>({sourceForTracking:a,clickToInsert:!1,afterSuccessfulInsert:a8.$z,sectionNameForTracking:o,sectionDepth:c}),[c,o,a]),onContextMenu:O,shouldHideTooltip:!0,recordingNodePath:D,isSearch:L,useBaseTile:!0,hideNameOverlay:H,numVariants:V,displayType:U?"grid":"list-no-padding",sectionPosition:s,shouldUseDescriptionTooltip:!0,showTooltipImmediately:!1,fileName:k||A?t:void 0,alwaysShowBorder:!1,thumbWrapperClassName:"asset_panel_tile--thumbWrapper--bNG-Y"},K=P?n.createElement(nt.MT,{item:e,isFilePublished:E,...z}):n.createElement(nt.lX,{item:e,...z});return n.createElement("div",{className:U?"asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":"asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",onClick:F,onDoubleClick:B},n.createElement("div",{className:u()(U?"asset_panel_tile--tileWrapper--7OwtG asset_panel_tile--_tileWrapperBase--OAJqM":"asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM",{"asset_panel_tile--shownInFlyout--7Luo3":R,"asset_panel_tile--selectedFlyoutFocus--GGV8E":R&&v})},K),H&&n.createElement("div",{className:"asset_panel_tile--nameWrapper--6O-iS",style:{width:i-2}},n.createElement("span",{className:"asset_panel_tile--name--FG9hg ellipsis--ellipsis--Tjyfa",ref:N},x),n.createElement("div",{className:"asset_panel_tile--caret--x-Vya asset_panel_tile--_caretBase--IZ44d"},n.createElement(rg.e,{"aria-hidden":!0}))),H&&!!t&&n.createElement(tE.Y,{spacing:0,direction:"horizontal",height:"hug-contents"},n.createElement("div",{className:u()(rv,rb),ref:I,style:S?{maxWidth:i-tr.J-2}:{width:i-2}},t),S&&n.createElement(tr.P,{resourceId:C,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),G&&n.createElement(n.Fragment,null,n.createElement("div",{className:u()(rv,rb),style:S?{maxWidth:i-tr.J-2}:{width:i-2}},"AI: "+(e.ai_score??"N/A")),n.createElement("div",{className:u()(rv,rb),style:S?{maxWidth:i-tr.J-2}:{width:i-2}},"Lex: "+(e.lexical_score??"N/A"))))}function rN(){let e=n.useContext(tp.U);return e?.isUi3?e:{...e,width:0}}function rx({width:e,children:t}){let a=function(e){let t=(0,l.wA)(),{query:a,searchSessionId:r}=(0,ez.Gq)(),i=(0,rs.ht)(),o=(0,eA.q_)(),s=(0,eG.LR)(),c=(0,l.d4)(e=>e.universalInsertModal.showing),d=n.useCallback(()=>{c&&s()},[s,c]),u=n.useCallback((n,l,s,c)=>{d(),t((0,D.to)({type:aH,data:{asset:n,searchSessionId:r??void 0,query:a??void 0,sectionPosition:l,sectionNameForTracking:s,assetTypeDropdownSelection:i,containerWidth:e,onGetKeyboardNavigationItemById:o,sectionDepth:c}}))},[d,t,r,a,i,e,o]);return n.useMemo(()=>({onOpenFlyout:u,assetTypeDropdownSelection:i,isUi3:!0,width:e}),[u,i,e])}(e);return n.createElement(tp.U.Provider,{value:a},t)}let rk=(0,p.jz)(nu.Nz),rI=(0,p.jz)(nu.cP),rA=(0,p.jz)(nu.FX),rL=(0,p.jz)(rr.$c),rO=(0,p.jz)(rr.d5),rR=(0,p.jz)(nu.ZI),rM=(0,rh.eU)(!1),rD=(e,t,a,n,r)=>{if("list"===r)return rR;let l=e+rk;return t&&(l+=rI),a&&(l+=rA),n&&(l+=2*(0,p.jz)(nu.uY)),l};function rP(e,t,a,r,l,i,o){let s=[];for(let c=0;c<e.length;c+=t){let d=e.slice(c,c+t),u=[];d.forEach((e,s)=>{if(e){let d=c+s;u.push(n.createElement(rw,{key:`${a}-${(0,tC.V)(e)}`,asset:e,fileName:o?.getFileName?.(e),sectionDepth:o?.depth,sectionNameForTracking:l,sectionPosition:c+s,keyboardPosition:(0,rc.pg)(i,d,t,o?.hasHeader),isFirstTile:o?.includesFirstTile&&0===d,keyboardPanelDepth:o?.keyboardPanelDepth,isExample:o?.isExample,...r}))}}),s.push({element:n.createElement("div",{className:"list"===r.displayType?"asset_panel_virtualization--virtualRowList--COnhA":0===c?"asset_panel_virtualization--virtualRowFirst--mdR2j asset_panel_virtualization--virtualRow--TxsS-":"asset_panel_virtualization--virtualRow--TxsS-",role:"row"},u),key:`${a}:row-${c/t}`,keys:d.map(e=>(0,tC.V)(e)),height:rD(r.thumbHeight,!!o?.getFileName,0!==c,!!(0,h.kc)().api_asset_search_with_scores,r.displayType)})}return s.length>0&&(s.unshift({element:n.createElement(r_.hK,{height:rL}),key:`${a}:spacer-top`,height:rL}),s.push({element:n.createElement(r_.hK,{height:rO}),key:`${a}:spacer-bottom`,height:rO})),s}function rF({elements:e,hideScrollbar:t,initialScrollTop:a,onScroll:r,anchorScroll:l,role:i}){let o=n.useRef(null),s=(0,rf.Te)({count:e.length,getScrollElement:()=>o.current,estimateSize:t=>e[t].height,getItemKey:t=>e[t].key,paddingEnd:8,overscan:6,initialOffset:a}),c=function({scrollContainerRef:e,initialScrollTop:t,onScroll:a,enabled:r,virtualizer:l,getKeys:i}){let[o,s]=n.useState(t??e.current?.scrollTop),[c,d]=n.useState(e.current?.scrollHeight),{width:u}=rN(),m=(0,eM.ZC)(u),p=n.useCallback((e,t)=>{if(!t)return{keys:[],offset:void 0};let a=e.getVirtualItems().find(e=>e.start>=t);return a?{keys:i(a),offset:a.start-t}:{keys:[],offset:void 0}},[i]),[_,f]=n.useState(()=>p(l,t??e.current?.scrollTop)),h=n.useCallback((e,t)=>{a?.(e,t),r&&(s(e),f(p(l,e)))},[r,p,a,l]);return n.useEffect(()=>{let t=m&&u&&m!==u,a=e.current?.scrollHeight&&c&&e.current?.scrollHeight!==c;if(t&&d(e.current?.scrollHeight),void 0!==o&&void 0!==_.offset&&r&&t&&a){let t=l.getVirtualItems().find(e=>i(e).some(e=>_.keys.includes(e)));if(t)l.scrollToOffset(t.start-_.offset);else{let t=o/c,a=e.current.scrollHeight*t;l.scrollToOffset(a)}}},[_.keys,_.offset,r,i,m,e,c,o,l,u]),h}({enabled:l,scrollContainerRef:o,initialScrollTop:a,onScroll:r,virtualizer:s,getKeys:n.useCallback(t=>{let a=e[t.index];return a?a.keys??[a.key]:[]},[e])}),[d,u]=(0,g.fp)(rM);return n.useEffect(()=>{if(!d)return;let t=e.findIndex(e=>"preset_libraries_header"===e.key);-1!==t&&(s.scrollToIndex(t,{align:"start"}),u(!1))},[e,s,u,d]),n.createElement(r_.xU,{scrollContainerRef:o,hideScrollbar:t,initialScrollTop:a,onScroll:c},n.createElement("div",{style:{height:`${s.getTotalSize()}px`,width:"100%",position:"relative"},role:i},s.getVirtualItems().map(t=>n.createElement("div",{key:t.key,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${t.start}px)`}},e[t.index].element))))}var rB=a(366508),rU=a(940596),rH=a(606624);let rG=(0,g.Iz)(()=>(0,rU.rt)(0));function rV({libraryKey:e,pageId:t,folderPath:a}={}){let{lastNavAction:r}=(0,rH.ZX)(),l=r===rH.r6.Back||r===rH.r6.Mount||r===rH.r6.ToggleView&&!a,[i,o]=(0,g.fp)(rG("libraries")),[s,c]=(0,g.fp)(rG(`pages-${e}`)),[d,u]=(0,g.fp)(rG(`assets-${e}-${t}-${(a??[]).join("-")}`));return{librariesScrollTop:l?i:0,pagesScrollTop:l?s:0,assetsScrollTop:l?d:0,handleScrollLibraries:n.useCallback(e=>{o(e)},[o]),handleScrollPages:n.useCallback(t=>{e&&c(t)},[c,e]),handleScrollAssets:n.useCallback(a=>{e&&t&&u(a)},[u,e,t])}}var rz=a(187882);function rK({elementMinSize:e,spaceAvailable:t,gap:a}){return Math.floor((t+a)/(e+a))}function rW({numElements:e,spaceAvailable:t,gap:a}){return Math.floor((t-(e-1)*a)/e)}function rj({width:e,widthToHeightRatio:t=1,maxHeight:a}){let n=Math.floor(e/t);return void 0===a?Math.max(0,n):Math.max(0,Math.min(a,n))}let rZ=(0,p.jz)(rr.H0),rY=2*(0,p.jz)(rr.Mj),rX={NORMAL:115,WIDE:void 0,SMALL:72},rq={minColumns:2,maxColumns:3,aspectRatio:1,maxHeight:rX.NORMAL},rJ={minColumns:1,maxColumns:1,aspectRatio:3.25,maxHeight:rX.WIDE},rQ={minColumns:3,maxColumns:5,aspectRatio:1,maxHeight:rX.SMALL},r$=e=>{switch(e){case nr.rp.WIDE:return rJ;case nr.rp.SMALL:return rQ;default:return rq}};function r0(){let{componentLayouts:e,exampleLayout:t}=function({sidebarWidth:e}){let t=n.useMemo(()=>e-rY,[e]),a=n.useMemo(()=>{let e={};for(let a of[nr.rp.NORMAL,nr.rp.WIDE,nr.rp.SMALL]){let{minColumns:n,maxColumns:r,aspectRatio:l,maxHeight:i}=r$(a),o=Math.max(Math.min(r,rK({elementMinSize:i??t,gap:rZ,spaceAvailable:t})),n),s=rW({numElements:o,gap:rZ,spaceAvailable:t}),c=rj({width:s,maxHeight:i,widthToHeightRatio:l});e[a]={width:s,height:c,columns:o}}return e},[t]),r=n.useMemo(()=>Math.max(rK({elementMinSize:200,gap:rZ,spaceAvailable:t}),1),[t]),l=n.useMemo(()=>rW({numElements:r,gap:rZ,spaceAvailable:t}),[r,t]),i=n.useMemo(()=>rj({width:l,widthToHeightRatio:1.5,maxHeight:200}),[l]);return n.useMemo(()=>({componentLayouts:a,exampleLayout:{width:l,height:i,columns:r}}),[a,r,l,i])}({sidebarWidth:(0,rz.GQ)()}),[a,r]=n.useMemo(()=>{let t={},a={};for(let[n,r]of Object.entries(e))t[n]={thumbHeight:r.height,thumbWidth:r.width,viewMode:aG.Bk.Grid,thumbLayout:n,sourceForTracking:aG.mZ,displayType:"grid"},a[n]=r.columns;return[t,a]},[e]),l=n.useMemo(()=>({thumbHeight:t.height,thumbWidth:t.width,viewMode:aG.Bk.Grid,thumbLayout:nr.rp.NORMAL,sourceForTracking:aG.mZ,displayType:"grid"}),[t.height,t.width]),i=n.useMemo(()=>({thumbHeight:40,thumbWidth:40,viewMode:aG.Bk.List,thumbLayout:nr.rp.NORMAL,sourceForTracking:aG.mZ,displayType:"list"}),[]);return n.useMemo(()=>({componentTilePropsByLayout:a,numColumnsByLayout:r,listProps:i,exampleTileProps:l,numExampleColumns:t.columns}),[a,r,i,l,t.columns])}function r1(e,t,a,n=!1){return"list"===t?{props:e.listProps,numColumns:1}:n?{props:e.exampleTileProps,numColumns:e.numExampleColumns}:{props:e.componentTilePropsByLayout[a],numColumns:e.numColumnsByLayout[a]}}function r2({children:e,index:t,width:a}){let r=(0,g.md)(rs.h),l=n.useMemo(()=>e.flat().filter(e=>!!e),[e]),i=n.useMemo(()=>{let e=r5(-Math.min(t,l.length-1)),a=`translateX(${e})`;return{transform:a,WebkitTransform:a}},[l.length,t]),o=u()("slide_carousel--container--1f4th",{"slide_carousel--noTransition--0heGr":r});return n.createElement("div",{style:i,"data-testid":"slide-carousel",className:o},l.map((e,r)=>n.createElement("div",{className:"slide_carousel--item--w20ND",style:{width:a},key:r,"data-testid":"slide-carousel-item","aria-hidden":r!==t},e)))}let r5=e=>`${100*e}%`,r3=(0,p.jz)(rr.HE),r4=(0,p.jz)(rr._q),r6=(0,p.jz)(rr.ce),r7=(0,p.jz)(rr.RQ);function r8({page:e,width:t}){let{libraryKey:a,currentView:r}=(0,rd.wV)(),{getPage:l}=(0,rp.G)(),[i]=(0,ru.ye)(),{previousPageId:o}=(0,rd.RR)(),s=n.useMemo(()=>r===rd.S5.Pages?l(a,o):e,[r,l,a,e,o]);return a&&s?i?n.createElement(le,{page:s,width:t}):n.createElement(r9,{page:s,libraryKey:a}):n.createElement("div",{style:{width:t}})}function r9({page:e,libraryKey:t}){let{assetsScrollTop:a,handleScrollAssets:r}=rV({libraryKey:t,pageId:e.id}),[l]=(0,ru.MA)(),i=r0(),{componentSectionNameForTracking:o,templateSectionNameForTracking:s}=(0,rs.zf)(),c=n.useMemo(()=>{let t=[];if(e.templates){let a=(0,rB.r)(e.templates),{props:r,numColumns:o}=r1(i,l,nr.rp.NORMAL,!0);t.push({element:n.createElement(r_.X3,{title:(0,k.t)("design_systems.assets_panel.templates")}),key:"templates:header",height:r6}),t.push(...rP(a,o,"templates",r,s,[n8.tM.TEMPLATES],{includesFirstTile:!0}))}if(e.examples){let a=(0,rB.r)(e.examples),{props:n,numColumns:r}=r1(i,l,nr.rp.NORMAL,!0);t.push(...rP(a,r,"examples",n,o,[n8.tM.EXAMPLES],{includesFirstTile:!0,isExample:!0}))}if(e.components){e.templates&&t.push({element:n.createElement(r_.X3,{title:(0,k.t)("design_systems.assets_panel.components")}),key:"components:header",height:r6});let a=(0,rB.r)(e.components),{props:r,numColumns:s}=r1(i,l,(0,nr.PI)(a,!0));t.push(...rP(a,s,"components",r,o,[n8.tM.COMPONENTS],{includesFirstTile:!e.templates&&!e.examples}))}return t},[e.templates,e.examples,e.components,i,l,s,o]);return n.createElement(rF,{elements:c,initialScrollTop:a,onScroll:r,anchorScroll:!0,role:l})}function le({page:e,width:t}){let{libraryKey:a,pageId:r,folderPath:l}=(0,rd.wV)(),{getFolder:i}=(0,rp.G)(),{previousFolderPath:o,previousPageId:s}=(0,rd.RR)(),[c,d]=n.useMemo(()=>{let t=[],c=o??l??[],d=0;for(let o=-1;o<c.length;o++){let u=c.slice(0,o+1),m=i(a,r??s,u);if(m){if((0,rd.xc)(m))continue;t.push(n.createElement(lt,{parentSubtree:e.assets,currentFolderPath:u,key:`components-${u?u.join("/"):"root"}`})),o===(l??[]).length-1&&(d=t.length-1)}}return[t,d]},[l,i,a,e.assets,r,o,s]);return n.createElement(r2,{index:d,width:t},c)}function lt({parentSubtree:e,currentFolderPath:t}){let[a]=(0,ru.MA)(),r=n.useMemo(()=>{let a=e;for(let e of t){let t=a.subtrees.get(e);if(!t)return null;a=t}return a},[e,t]),{folderPath:l,pageId:i,libraryKey:o}=(0,rd.wV)(),s=!!o&&(0,te.wJ)(o),c=t.length,d=l?.length??0,{assetsScrollTop:u,handleScrollAssets:m}=rV({libraryKey:o,pageId:i,folderPath:t}),p=la({subtree:r,currentFolderPath:t,isPreset:s});return n.createElement(rF,{elements:p,hideScrollbar:c<d,onScroll:m,initialScrollTop:u,role:a})}let la=({subtree:e,currentFolderPath:t,isPreset:a})=>{let r=r0(),{componentSectionNameForTracking:l}=(0,rs.zf)(),{folderPath:i}=(0,rd.wV)(),[o]=(0,ru.MA)(),s=t.join("/"),c=t.length,d=i?.length??0,u=n.useMemo(()=>!!(a&&(0,h.kc)().dse_preset_libraries&&e?.items)&&e?.items.every(e=>tI.Nz(e,{isPreset:a})),[a,e?.items]),m=n.useCallback(e=>{let t=e.subtrees.values().next().value;return t&&(0,tI.dS)(t.name,{isPreset:a})},[a]),p=n.useCallback(({subtree:e,elements:t})=>{let a=e.items.length>0,i=m(e);if(a){let a=[n8.tM.COMPONENTS],{props:n,numColumns:i}=r1(r,o,(0,nr.PI)(e.items,!0),u);t.push(...rP(e.items,i,e.key,n,l,a,{hasHeader:!1,includesFirstTile:c===d,keyboardPanelDepth:c,isExample:u}))}let p=Array.from(e.subtrees.values());a&&p.length>0&&!i&&t.push({element:n.createElement(r_.cG,null),key:"divider",height:r7}),p.forEach((a,r)=>{t.push({element:n.createElement(rm,{subtree:a,index:r+e.items.length,keyPrefix:s,depth:c}),key:a.key,height:"list"===o?r3:r4}),0===r&&i&&p.length>1&&t.push({element:n.createElement(r_.cG,null),key:"examples_divider",height:r7})})},[m,r,o,u,l,c,d,s]);return n.useMemo(()=>{let t=[];return e&&p({subtree:e,elements:t}),t},[p,e])};var ln=a(268537),lr=a(278733),ll=a(738269),li=a(13678),lo=a(611964),ls=a(18339);let lc="asset-panel-library-context-menu",ld=E.Pt("assetsLibrary","contextMenu"),lu=ln.ms,lm=ln.c$,lp=n.memo(({dropdownShown:e,usePortal:t})=>{if(!e||e.type!==lc)return null;let{data:a}=e;if(!a)return null;let{libraryHref:l,position:i,isLocalLibrary:o,onGoToLibrary:s,onPublish:c,onUnsubscribe:d}=a;if(!i)return null;let u=n.createElement(lu,{style:lr.sx.add({top:`${i.top}px`,right:`${i.right}px`,bottom:`${i.bottom}px`,left:`${i.left}px`}).add(lr.sx.fixed).$},o?n.createElement(lm,{onClick:c,recordingKey:E.Pt(ld,"publishLibrary")},(0,k.tx)("design_systems.assets_panel.publish_library")):n.createElement(n.Fragment,null,n.createElement(lm,{onClick:d,recordingKey:E.Pt(ld,"unsubscribe")},(0,k.tx)("design_systems.assets_panel.remove_library_from_file")),n.createElement(lm,{href:l,target:"_blank",recordingKey:E.Pt(ld,"goToLibrary"),onClick:s},(0,k.tx)("design_systems.assets_panel.go_to_library"))));return t?r.createPortal(u,document.body):u}),l_="asset-panel-page-context-menu",lf=E.Pt("assetsLibrary","contextMenu"),lh=ln.ms,lg=ln.c$,lE=n.memo(({dropdownShown:e,usePortal:t})=>{if(!e||e.type!==l_)return null;let{data:a}=e;if(!a)return null;let{libraryPageHref:l,position:i,isLocalLibrary:o,onClickLocalPage:s,onClickSubscribedPage:c}=a;if(!i)return null;let d=n.createElement(lh,{style:lr.sx.add({top:`${i.top}px`,right:`${i.right}px`,bottom:`${i.bottom}px`,left:`${i.left}px`}).add(lr.sx.fixed).$},o?n.createElement(lg,{recordingKey:E.Pt(lf,"goToLibrary"),onClick:s},(0,k.tx)("design_systems.assets_panel.go_to_page")):n.createElement(lg,{href:l,target:"_blank",recordingKey:E.Pt(lf,"goToLibrary"),onClick:c},(0,k.tx)("design_systems.assets_panel.go_to_page")));return t?r.createPortal(d,document.body):d});function ly(){let e=(0,l.d4)(e=>e.dropdownShown),t=(0,l.d4)(eZ.hK),a=(0,l.d4)(ev.e_),r=e?.type===na.K.ASSETS_PANEL&&!!e?.data?.component,i=e?.type===l_&&!!e?.data?.pageId,o=e?.type===lc&&!!e?.data?.libraryHref,s=(0,nV.K)(!0),c=n.useContext(tp.U);return n.createElement(n.Fragment,null,r&&n.createElement(na.h,{selectedView:t,dropdownShown:e,defaultFileKeys:a.defaultPublished.fileKeys,onJumpToLocalComponent:s,onOpenFlyout:c?.onOpenFlyout,usePortal:!0}),i&&n.createElement(lE,{dropdownShown:e,usePortal:!0}),o&&n.createElement(lp,{dropdownShown:e,usePortal:!0}))}var lv=a(864089);let lb="asset_panel_library--library--5bw5-",lC=(0,p.jz)(rr.Sx),lw=(0,p.jz)(rr.T5);function lT({library:e,previewHeight:t,cardWidth:a,keyboardSection:r,rowIndex:i,columnIndex:o=0}){let{focusFirstItem:s,focusSearchBar:c}=(0,rc.rl)(),{navigateToLibrary:d}=(0,rd.wV)(),u=(0,X.q5)(),[p]=(0,ru.MA)(),_="list"===p,f=(0,rs.sN)(),g=n.useCallback(()=>{f("libraryCard",d(e.fileKey))},[e.fileKey,f,d]),{currentView:v}=(0,rd.wV)(),b=v!==rd.S5.Libraries,{setKeyboardNavigationElement:C}=(0,eA.M3)({path:[n8.ON.CONTENTS,n8.lM.LIBRARIES,r,i],column:o,id:e.fileKey,disabled:b}),w=(0,rc.MB)({onBoth:g,onKeyDown:s,onClick:c}),T=n.useMemo(()=>{let t=e.fileKey===u?.key?"localLibrary":e.fileKey;return E.Pt("assetsLibrary",t)},[u?.key,e.fileKey]),S=function(e){let t=(0,X.q5)(),a=(0,l.wA)(),r=e.fileKey===t?.key,i=(0,te.wJ)(e.fileKey),o=(0,aG._9)(e.fileKey,i,"assets_panel_library_context_menu"),s=n.useCallback(()=>o(!1),[o]),c=function(){let e=(0,l.wA)(),t=(0,X.q5)(),a=(0,l.d4)(e=>e.teams),r=(0,l.d4)(ev.fA),i=n.useCallback(()=>{e(D.to({type:li.dD,data:{entrypoint:lo.RR.ASSET_PANEL_LIBRARY_CONTEXT_MENU}}))},[e]),o=t?.teamId&&a[t.teamId],s=n.useCallback(()=>{e(D.to({type:ls.$3,data:{afterFileMove:i,team:o||null}}))},[e,i,o]);return n.useCallback(()=>{r?i():s()},[r,i,s])}(),d=n.useMemo(()=>(0,te.wJ)(e.fileKey)?(0,tq.X$)(e.fileKey):(0,tq.jN)({file:{key:e.fileKey,editor_type:tS._Y.DESIGN}}),[e.fileKey]),u=n.useCallback(()=>{m.az.trackDefinedEvent("assets_panel.go_to_library",{libraryKey:e.fileKey,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0,entryPoint:"library_context_menu"})},[e.fileKey,t]),p=n.useCallback(()=>{m.az.trackDefinedEvent("assets_panel.open_library_context_menu",{libraryKey:e.fileKey,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0})},[e.fileKey,t]);return n.useCallback(e=>{e.preventDefault(),e.stopPropagation(),a((0,ll.j7)({type:lc,data:{libraryHref:d,isLocalLibrary:r,onGoToLibrary:u,onPublish:c,onUnsubscribe:s,position:{top:e.clientY,left:e.clientX}}})),p()},[d,c,s,r,a,u,p])}(e),N=E.rf((0,h.kc)().dse_fpl_wave_1?T:`${T}_UNUSED`,"contextmenu",S),x=n.createElement(lS,{library:e,previewHeight:t,isList:_});return(0,h.kc)().dse_fpl_wave_1?n.createElement(n9.E,{className:lb,"aria-label":e.name,onClick:w,ref:C,style:{width:_?"100%":a},recordingKey:T,htmlAttributes:{onContextMenu:N,tabIndex:b?-1:0}},x):n.createElement(y.GG,{className:lb,"aria-label":e.name,onClick:w,onContextMenu:S,forwardedRef:C,tabIndex:b?-1:0,style:{width:_?"100%":a},recordingKey:T},x)}function lS({library:e,previewHeight:t,isList:a}){let{thumbnailUrl:r}=e,[l,i]=n.useState(r),o=n.useMemo(()=>{if(l)return`url(${l})`},[l]),s=n.useCallback(()=>{i(r)},[r]),c=n.useMemo(()=>a?{height:lC,width:lw}:{height:t},[a,t]);return n.createElement("div",{className:a?"asset_panel_library--libraryCardList--qG5I1 asset_panel_library--libraryCard--l0q0e":"asset_panel_library--libraryCard--l0q0e"},n.createElement("div",{className:"asset_panel_library--libraryPreviewSection--fRTrr"},n.createElement("div",{style:{backgroundImage:o,...c},className:e.thumbnailShouldCover?"asset_panel_library--libraryPreviewCover---Jx5R asset_panel_library--libraryPreview--jl-5n":"asset_panel_library--libraryPreview--jl-5n"}),r&&n.createElement(lv.oW,{src:r,onLoad:s,className:"asset_panel_library--hiddenImage--a-LoJ",alt:""})),n.createElement(lN,{library:e,isList:a}))}function lN({library:e,isList:t}){let a=(0,h.kc)().dse_editor_templates_v1,r=n.useMemo(()=>{let t=[];return e.numComponents>0&&t.push((0,k.t)("design_systems.assets_panel.num_components",{numComponents:e.numComponents})),a&&e.numTemplates>0&&t.push((0,k.t)("design_systems.assets_panel.num_templates",{numTemplates:e.numTemplates})),t.join(", ")},[e.numComponents,e.numTemplates,a]);return n.createElement("div",{className:t?"asset_panel_library--libraryFooterList--x3M2r asset_panel_library--libraryFooter--jXcDc":"asset_panel_library--libraryFooter--jXcDc"},n.createElement("div",{className:"asset_panel_library--libraryNameAndStats--uiY8T"},n.createElement("div",{className:"asset_panel_library--nameAndIconForList--UCm5F"},n.createElement("h3",{className:"asset_panel_library--libraryName--aege1 ellipsis--ellipsis--Tjyfa"},e.name),n.createElement(lx,{libraryKey:e.fileKey})),n.createElement("div",{className:"asset_panel_library--libraryStats--JL9eF ellipsis--ellipsis--Tjyfa"},r)))}function lx({libraryKey:e}){let t=(0,tt.cm)(e),a=(0,te.wJ)(e);return t||a?n.createElement("div",{className:a?"asset_panel_library--presetIcon--PE3Tx asset_panel_library--libraryIcon--6s19b":"asset_panel_library--approvedIcon---0q6C asset_panel_library--libraryIcon--6s19b"},a?n.createElement(tl.S,{hubFileId:e,showTooltip:!0}):n.createElement(ta.KP,{fileKey:e,tooltipDelay:500,tooltipLocation:"below",size:"small"})):null}let lk=(0,p.jz)(rr.RU)+1,lI=(0,p.jz)(rr.nT),lA=16/9;var lL=a(287213);function lO(){let e=(0,X.tS)(),{getLibrary:t}=(0,rp.G)(),[a,r]=(0,lL.g)(),l=n.useMemo(()=>t(e??""),[t,e]),i=!l||0===l.numComponents&&0===l.numTemplates,o=0===a.length,s=0===r.length;return n.useMemo(()=>i&&o&&s,[i,o,s])}let lR="asset_panel_libraries--row--nHi0j",lM=(0,p.jz)(rr.YJ),lD=(0,p.jz)(rr.RQ),lP=(0,p.jz)(rr.ce),lF=(0,p.jz)(rr.Kv),lB=(0,p.jz)(rr.Nm);function lU({width:e,hideScrollbar:t,assetPanelItems:a}){let r=a.localAssets,[l,i]=(0,lL.g)();return lO()?n.createElement("div",{style:{width:e}},n.createElement(e$.od,null)):n.createElement(lH,{localAssets:r,subscribedLibraries:l,presetLibraries:i,hideScrollbar:t,width:e})}function lH({localAssets:e,subscribedLibraries:t,presetLibraries:a,width:r,hideScrollbar:l}){let{librariesScrollTop:i,handleScrollLibraries:o}=rV(),{currentView:s}=(0,rd.wV)(),[c]=(0,ru.MA)(),{cardWidth:d,previewHeight:u,numColumns:m}=function({sidebarWidth:e,minCardWidth:t=180,previewPadding:a=lk,widthToHeightRatio:r=lA,rowPadding:l=lI}){let i=e-2*l,o=n.useMemo(()=>rK({elementMinSize:t,spaceAvailable:i,gap:0}),[t,i]),s=n.useMemo(()=>rW({numElements:o,spaceAvailable:i,gap:0}),[o,i]),c=n.useMemo(()=>s-2*a,[s,a]),d=n.useMemo(()=>rj({width:c,widthToHeightRatio:r}),[c,r]);return n.useMemo(()=>({cardWidth:s,previewWidth:c,previewHeight:d,numColumns:o}),[s,c,d,o])}({sidebarWidth:r}),p="grid"===c?m:1,_="grid"===c?lM+u+2:lF,f=t.length>0&&!(0,h.kc)().dse_hide_local_and_subscribed_libraries,g=e.numComponents+e.numTemplates>0&&!(0,h.kc)().dse_hide_local_and_subscribed_libraries,E=a.length>0&&(f||g),y=n.useMemo(()=>{let r=[],l=[];g&&l.push(e),f&&l.push(...t);for(let e=0;e<l.length;e+=p){let t=l.slice(e,e+p);r.push({element:n.createElement("div",{className:lR},t.map((t,a)=>n.createElement(lT,{key:t.fileKey,library:t,keyboardSection:n8.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:a,cardWidth:d,previewHeight:u}))),key:t.map(e=>e.fileKey).join("-"),keys:t.map(e=>e.fileKey),height:_})}E&&(r.push({element:n.createElement(r_.cG,null),key:"divider",height:lD}),r.push({element:n.createElement(r_.X3,{title:(0,h.kc)().dse_preset_libraries?(0,k.t)("design_systems.assets_panel.ui_kits"):(0,k.t)("design_systems.assets_panel.curated_libraries")}),key:"preset_libraries_header",height:lP}));for(let e=0;e<a.length;e+=p){let t=a.slice(e,e+p);r.push({element:n.createElement("div",{className:lR},t.map((t,a)=>n.createElement(lT,{key:t.fileKey,library:t,keyboardSection:n8.gP.PRESETS,rowIndex:e,columnIndex:a,cardWidth:d,previewHeight:u}))),key:t.map(e=>e.fileKey).join("-"),keys:t.map(e=>e.fileKey),height:_})}return r.push({element:n.createElement(lG,null),key:"add_more_libraries_button",height:lB}),r},[p,d,u,g,t,E,a,_,e,f]);return n.createElement(rF,{elements:y,hideScrollbar:l,initialScrollTop:i,onScroll:o,anchorScroll:s===rd.S5.Libraries})}function lG(){let{onToggleLibraryModal:e}=(0,ey.u)({entrypoint:e0.r6.ASSETS_PANEL_ADD_MORE_LIBRARIES,modalType:"editor"});return n.createElement("div",{className:"asset_panel_libraries--addMoreLibraries--Jy-l7"},n.createElement(t6.$n,{variant:"secondary",onClick:e,recordingKey:"assetsLibrary.addMoreLibraries"},(0,k.tx)("design_systems.assets_panel.add_more_libraries")))}function lV({page:e,index:t}){let a=(0,rs.sN)(),[r]=(0,ru.MA)(),{previewAsset:i}=e,{navigateToPage:o,libraryKey:s,currentView:c}=(0,rd.wV)(),d=n.useCallback(()=>{a("pageRow",o(e.id))},[a,o,e.id]),u=e.id,p=c!==rd.S5.Pages,{keyboardNavigationItem:_,setKeyboardNavigationElement:f}=(0,eA.M3)({path:[n8.ON.CONTENTS,n8.lM.PAGES,t],id:e.id,disabled:p}),{focusFirstItem:h,focusSearchBar:g}=(0,rc.rl)();(0,rc.C0)(_,c===rd.S5.Pages&&0===t);let E=(0,rc.MB)({onBoth:d,onKeyDown:h,onClick:g}),y=function(e,t){let a=(0,X.q5)(),r=(0,l.wA)(),i=e===a?.key,o=!!e&&!!t,s=n.useMemo(()=>(0,tq.jN)({file:{key:e??"",editor_type:tS._Y.DESIGN},nodeId:t}),[e,t]),c=n.useCallback(()=>W.q.instance.setCurrentPageAsync(t??""),[t]),d=n.useCallback(()=>{m.az.trackDefinedEvent("assets_panel.go_to_page",{libraryKey:e,pageId:t,fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0,isLocal:i})},[i,e,a?.key,a?.parentOrgId,a?.teamId,t]),u=n.useCallback(()=>{c(),d()},[c,d]),p=n.useCallback(()=>{m.az.trackDefinedEvent("assets_panel.open_page_context_menu",{libraryKey:e,pageId:t,fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0})},[e,a?.key,a?.parentOrgId,a?.teamId,t]);return n.useCallback(a=>{!o||(0,te.wJ)(e)||(a.preventDefault(),a.stopPropagation(),r((0,ll.j7)({type:l_,data:{libraryPageHref:s,pageId:t,isLocalLibrary:i,onClickLocalPage:u,onClickSubscribedPage:d,position:{top:a.clientY,left:a.clientX}}})),p())},[e,o,r,s,t,i,u,d,p])}(s,e.id),v="list"===r;return n.createElement(ro,{keyPrefix:u,name:e.name,onClick:E,onContextMenu:y,previewAsset:i,recordingKey:`assetsPage.${e.id}`,ref:f,disabled:p,isList:v,variant:v?"icon":"preview"})}var lz=a(395900);let lK="performance.ds_eco.asset_panel_pages_view_loading",lW=new lz.jk(lK,{});function lj({didFinishLoading:e}){let t=lW.stop();(0,m.sx)(lK,{elapsedMs:t,isNewAssetPanelFetch:!!(0,h.kc)().dse_new_asset_panel_fetch,didFinishLoading:e},{forwardToDatadog:!0})}let lZ=(0,p.jz)(rr.RQ),lY=(0,p.jz)(rr._q),lX=(0,p.jz)(rr.HE);function lq({library:e,width:t,hideScrollbar:a,isLoading:r}){!function({isLoading:e}){let{currentView:t}=(0,rd.wV)(),a=(0,eM.ZC)(t);n.useEffect(()=>(a===rd.S5.Libraries&&t===rd.S5.Pages&&lW.start(),t===rd.S5.Pages&&!e&&lW.isRunning&&lj({didFinishLoading:!0}),()=>{a===rd.S5.Pages&&t!==rd.S5.Pages&&lW.isRunning&&lj({didFinishLoading:!1})}),[e,t,a])}({isLoading:r});let[l]=(0,ru.MA)(),{pagesScrollTop:i,handleScrollPages:o}=rV({libraryKey:e?.fileKey}),s=n.useMemo(()=>e?Array.from(e.pages):[],[e]),c=(0,tY.E_)(e?.fileKey??""),d=n.useMemo(()=>{let e=[];return s.forEach(([t,a],r)=>{e.push({element:n.createElement(lV,{page:a,index:r}),height:"list"===l?lX:lY,key:t}),0===r&&(0,tI.dS)(a.name,{isPreset:c})&&e.push({element:n.createElement(r_.cG,null),key:"examples_divider",height:lZ})}),e},[l,s,c]);return r?n.createElement("div",{className:"asset_panel_pages--loadingContainer--fyofJ",style:{width:t},"data-testid":"asset-panel-pages-spinner"},n.createElement(eL.kt,null)):0===s.length?n.createElement("div",{style:{width:t}}):n.createElement(rF,{elements:d,hideScrollbar:a,initialScrollTop:i,onScroll:o})}let lJ="asset_panel_recents--resultsWrapper--k79Vy",lQ="asset_panel_recents--resultsWrapperList--peuzW",l$=(0,tg.fv)();function l0(){let{productComponents:e,templates:t}=(0,aV.g5)(tP.$A.Design),{getLibrary:a}=(0,rp.G)(),r=(0,h.kc)().dse_editor_templates_v1,[l]=(0,ru.MA)(),i="list"===l,o=n.useCallback(e=>{let t=a(e);return t?.name||""},[a]),s=r0(),{props:c,numColumns:d}=n.useMemo(()=>r1(s,l,nr.rp.NORMAL),[s,l]),{props:u}=n.useMemo(()=>r1(s,l,nr.rp.NORMAL,!0),[s,l]),{componentSectionNameForTracking:m,templateSectionNameForTracking:p}=(0,rs.zf)(),_=e.length>0,f=t.length>0;return n.createElement(r_.xU,null,r&&f&&n.createElement(n.Fragment,null,n.createElement(r_.X3,{title:(0,k.t)("design_systems.assets_panel.templates")}),n.createElement("div",{className:i?lQ:lJ},t.map((e,t)=>n.createElement(rw,{key:`assetPanelRecents:template:${(0,tC.V)(e)}`,asset:e,fileName:o(l$(e)),sectionNameForTracking:p,sectionPosition:t,keyboardPosition:(0,rc.pg)([n8.tM.TEMPLATES],t,1),...u})))),r&&f&&_&&n.createElement("div",{className:"asset_panel_recents--buffer--URYGQ"}),_&&n.createElement(n.Fragment,null,r&&f&&n.createElement(r_.X3,{title:(0,k.t)("design_systems.assets_panel.components")}),n.createElement("div",{className:i?lQ:lJ},e.map((e,t)=>n.createElement(rw,{key:`assetPanelRecents:component:${(0,tC.V)(e)}`,asset:e,fileName:o(l$(e)),sectionNameForTracking:m,sectionPosition:t,keyboardPosition:(0,rc.pg)([n8.tM.COMPONENTS],t,d),...c})))),n.createElement("div",{className:"asset_panel_recents--bottomPadding--9BTkl"}))}var l1=a(860601),l2=a(453681),l5=a(27703),l3=a(396462),l4=a(858855),l6=a(527735);let l7=function({isLoading:e,children:t}){return e?n.createElement("div",{className:"maybe_loading--loadingContainer--Wfq03"},n.createElement(eL.kt,null)):n.createElement(n.Fragment,null,t)},l8="asset_panel_search_results--empty--72Hqc",l9=(0,p.jz)(rr.ce),ie=(0,p.jz)(rr.GH),it=(0,tg.fv)(),ia=({moreResults:e,query:t,assetType:a,showMoreDefault:r})=>{let[l,i]=n.useState(!1),o=r||l,s=n.useCallback(()=>i(!0),[]);n.useEffect(()=>{i(!1)},[t]);let c=(0,l5.ud)(),d=(0,g.md)(l2.qp),u=n.useCallback(e=>((0,h.kc)().ds_use_lib_keys?d[e.library_key]?.name:c[it(e)]?.name)??"",[c,d]),[m]=(0,ru.MA)(),p=r0(),_="templates"===a,{props:f,numColumns:E}=n.useMemo(()=>r1(p,m,nr.rp.NORMAL,_),[p,m,_]),{componentSectionNameForTracking:y,templateSectionNameForTracking:v}=(0,rs.zf)({moreSearchResults:!0}),b=n.useMemo(()=>rP(e,E,`${a}:moreResults`,f,_?v:y,[_?n8.tM.TEMPLATES:n8.tM.COMPONENTS,1],{getFileName:u}),[e,E,a,f,_,v,y,u]);return n.useMemo(()=>{if(0===e.length)return[];let t=[];return t.push({element:n.createElement("div",{className:"asset_panel_search_results--showMoreText--mEcU5 asset_panel_search_results--showMore--yo9-j"},o&&(0,k.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!o&&n.createElement("button",{className:"asset_panel_search_results--showMoreLink--3-Ww3 asset_panel_search_results--showMore--yo9-j blue_link--blueLink--9rlnd",onClick:s},(0,k.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:e.length}))),key:`${a}:showMoreText`,height:ie}),o&&t.push(...b),t},[a,e.length,o,s,b])},ir=(0,tg.fv)();function il({components:e,moreComponents:t,templates:a,moreTemplates:r,query:l,getLibraryNameFromKey:i}){let o=(0,h.kc)().dse_editor_templates_v1,s=e.length+t.length>0,c=a.length+r.length>0,d=n.useCallback(e=>i(ir(e)),[i]),[u]=(0,ru.MA)(),m=r0(),{props:p,numColumns:_}=n.useMemo(()=>r1(m,u,nr.rp.NORMAL),[m,u]),{componentSectionNameForTracking:f,templateSectionNameForTracking:g}=(0,rs.zf)(),E=n.useMemo(()=>rP(e,_,"components",p,f,[n8.tM.COMPONENTS,0],{getFileName:d}),[e,_,p,f,d]),{props:y,numColumns:v}=n.useMemo(()=>r1(m,u,nr.rp.NORMAL),[m,u]),b=n.useMemo(()=>rP(a,v,"templates",y,g,[n8.tM.TEMPLATES,0],{getFileName:d}),[a,v,y,g,d]),C=ia({moreResults:t,query:l,assetType:"components",showMoreDefault:0===e.length&&t.length>0}),w=ia({moreResults:r,query:l,assetType:"templates"}),T=n.useMemo(()=>{let e=[];return o&&c&&(e.push({element:n.createElement(r_.X3,{title:(0,k.t)("design_systems.assets_panel.templates")}),key:"templatesHeader",height:l9}),e.push(...b),e.push(...w)),s&&(c&&e.push({element:n.createElement(r_.X3,{title:(0,k.t)("design_systems.assets_panel.components")}),key:"componentsHeader",height:l9}),e.push(...E),e.push(...C)),e},[o,c,s,b,w,E,C]);return n.createElement(rF,{elements:T,anchorScroll:!0})}let ii=(0,tg.fv)();function io(){let{query:e,normalizedSearchResults:t,unsubscribedSearchResults:a,isLoading:r}=(0,l.d4)(e5.UQ),i=(0,l4.U)(),{libraryKey:o}=(0,rd.wV)(),{getLibrary:s}=(0,rp.G)(),{isLoading:c,libraryNameByResourceId:d}=function(e){let{hubFileIds:t,fileKeys:a}=n.useMemo(()=>{let t=Array.from(e),{pass:a,fail:n}=(0,l6.j)(t,te.wJ);return{hubFileIds:a,fileKeys:n}},[e]),r=n.useMemo(()=>a.map(e=>({fileKey:e})),[a]),l=n.useMemo(()=>t.map(e=>({hubFileId:e})),[t]),i=(0,tz.p)(eF.NSA,r,{enabled:r.length>0}),o=(0,tz.p)(eF.a9b,l,{enabled:l.length>0});return{isLoading:n.useMemo(()=>i.some(e=>"loading"===e.result.status)||o.some(e=>"loading"===e.result.status),[i,o]),libraryNameByResourceId:n.useMemo(()=>{let e={};for(let t of i)"loaded"===t.result.status&&t.result.data.file&&(e[t.args.fileKey]=t.result.data.file.name);for(let t of o)"loaded"===t.result.status&&t.result.data.hubFile?.currentHubFileVersion&&(e[t.args.hubFileId]=t.result.data.hubFile.currentHubFileVersion.name);return e},[i,o])}}(n.useMemo(()=>new Set(t.map(e=>ii(e))),[t])),u=is(e),m=n.useCallback(e=>d[e]??s(e)?.name??"",[d,s]),p=n.useMemo(()=>o?s(o)?.name:void 0,[s,o]),[_,f]=n.useMemo(()=>(0,e5._2)(t.filter(e=>m(ii(e)))),[t,m]),[h,g]=n.useMemo(()=>(0,e5._2)(a),[a]),E=f.length+g.length>0,y=_.length+h.length>0;return e?n.createElement(l7,{isLoading:c&&u||r||i},E||y?n.createElement(il,{components:f,moreComponents:g,templates:_,moreTemplates:h,query:e,getLibraryNameFromKey:m}):n.createElement("div",{className:l8},p?(0,k.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:e,libraryName:p}):(0,k.tx)("design_systems.assets_panel.no_results_for_query",{searchQuery:e}))):n.createElement("div",{className:l8},"Search keywords and filter results by specific libraries, templates, and components.")}let is=e=>{let t=(0,eM.ZC)(e),{isActive:a,start:r}=(0,l3.Z)(l1.lQ);return n.useEffect(()=>{e!==t&&r(1e4)},[e,t,r]),a},ic=(e,t)=>e===rd.S5.Libraries?0:e===rd.S5.Pages||t?1:2;function id({assetPanelItems:e,width:t}){let{libraryKey:a,pageId:r,currentView:i}=(0,rd.wV)(),{previousLibraryKey:o}=(0,rd.RR)(),s=iu(),{getPage:c,getLibrary:d}=(0,rp.G)(),u=(0,l4.q)()(a);nW(n.useCallback(()=>{let t=0,a=0,n=0;for(let[r,l]of e.allLibrariesUnsorted){if(r===e.localAssets.fileKey){l.numComponents>=0&&(t+=1);continue}t+=1,a+=l.numComponents,n+=Math.min(l.numComponents,20)}return{numLibraries:t,numComponents:a,numComponentsWithLimit:n}},[e])),im(),eH();let p=n.useMemo(()=>d(a??o),[d,a,o]),_=n.useMemo(()=>c(a,r),[c,a,r]),f=ic(i,s),[h,E]=(0,lL.g)();return!function(e,t,a){let r=(0,l.d4)(e=>e.openFile),[i,o]=(0,g.fp)(n4.GT),s=t.length+a.length;e.numComponents+e.numTemplates>0&&(s+=1),n.useEffect(()=>{if(!i){o(!0);let e=n4._o.stop();e&&(0,m.sx)(n4.YS,{elapsedMs:e,fileKey:r?.key,teamId:r?.teamId,orgId:r?.parentOrgId,isUi3RedesignedAssetPanel:!0,numLibraries:s,numComponents:0,numComponentsShown:0,numSectionsShown:s},{forwardToDatadog:!0})}},[i,o,s,r])}(e.localAssets,h,E),n.createElement(n.Fragment,null,n.createElement(ly,null),i===rd.S5.Search?n.createElement(io,null):i===rd.S5.Recents?n.createElement(l0,null):n.createElement(r2,{index:f,width:t},n.createElement(lU,{width:t,hideScrollbar:0!==f,assetPanelItems:e}),!s&&n.createElement(lq,{library:p,width:t,isLoading:u,hideScrollbar:1!==f}),n.createElement(r8,{page:_,width:t})))}let iu=()=>{let{getLibrary:e}=(0,rp.G)(),{libraryKey:t}=(0,rd.wV)(),a=(0,l4.q)()(t),n=e(t);return!!n&&!a&&!!(0,rd.Cg)(n)},im=()=>{let{libraryKey:e}=(0,rd.wV)(),t=(0,n7.R)(),a=(0,n6.$)(e);n.useEffect(()=>{e&&(0,te.wJ)(e)&&a&&t({updateSource:"ui3_library_expand"})},[a,e,t])};var ip=a(755020),i_=a(900956),ih=a.n(i_),ig=a(259927);let iE="asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P",iy="asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862";function iv({stubs:e}){let{collapsibleStubs:t,lastStub:a,numHiddenStubs:r,breadcrumbRef:l,ellipsisRef:i,stubRefs:o}=ib(e),s=n.useCallback(()=>i.current?{top:i.current.getBoundingClientRect().bottom,left:i.current.getBoundingClientRect().left}:{top:0,left:0},[i]),c=r===t.length;return n.createElement("div",{className:x.cx.flex.itemsCenter.overflowHidden.flexShrink1.flexGrow1.$,style:lr.sx.add({flexBasis:"content"}).$,ref:l,role:"navigation"},n.createElement(iT,{shouldEllipsize:c}),r>0&&n.createElement(iw,{allStubs:t,numHiddenStubs:r,getDropdownTarget:s,ref:i}),t.map((e,t)=>t<r?null:n.createElement(iS,{key:t,i:t,name:e,ref:e=>o.current[t]=e})),e.length>0?n.createElement(iN,{name:a,firstSlash:0===t.length,shouldEllipsize:c}):null)}let ib=e=>{let[t,a]=n.useMemo(()=>0===e.length?[[],void 0]:[e.slice(0,-1),e[e.length-1]],[e]),[r,l]=n.useState([]),i=n.useRef([]);n.useEffect(function(){i.current.length>t.length&&(i.current=i.current.slice(0,t.length)),r.length>t.length&&l(e=>e.slice(0,t.length))},[t,r.length,e.length]);let o=n.useRef(null),s=n.useRef(null),{width:c}=rN();return n.useLayoutEffect(function(){let e=o.current;if(!e)return;let t=e.children,a=e.offsetWidth-ih()(Array.from(t).map(e=>e.scrollWidth));if(a<0){let e=i.current[r.length];e&&l(t=>[...t,e.scrollWidth])}else if(r.length>0){let e=r.length-1;a>r[e]-(s.current&&1===r.length?s.current.scrollWidth:0)&&l(e=>e.slice(0,-1))}},[r,i,e,c]),{collapsibleStubs:t,lastStub:a,numHiddenStubs:r.length,breadcrumbRef:o,ellipsisRef:s,stubRefs:i}},iC="asset-panel-ellipsis-menu",iw=n.forwardRef(({numHiddenStubs:e,allStubs:t,getDropdownTarget:a},i)=>{let o=(0,rs.sN)(),s=(0,j.Um)(),c=s?.type===iC,d=(0,l.wA)(),m=n.useCallback(()=>d((0,ll.oB)()),[d]),p=n.useCallback(()=>d((0,ll.j7)({type:iC,data:{position:a()}})),[d,a]),{isCurrentlySkippingPage:_,isCurrentlySkippingFirstFolder:f,navigateBackToPathIndex:h}=(0,rd.wV)(),g=n.useMemo(()=>t.slice(0,e),[t,e]),E=n.useMemo(()=>g.join(" / "),[g]),y=n.useMemo(()=>{if(c)return s.data?.position},[s?.data?.position,c]),v=n.useCallback(e=>{o("breadcrumb",h(ik(e,_,f)))},[f,_,o,h]),{focusBackButton:b,focusSearchBar:C}=(0,rc.rl)(),w=(0,rc.NR)({onBoth:e=>()=>{v(e)},onKeyDown:()=>()=>{setTimeout(()=>b(),0)},onClick:()=>C}),{setKeyboardNavigationElement:T}=(0,eA.M3)({path:[n8.ON.BREADCRUMB],column:n8.Yv.ELLIPSIS}),S=u()(iE,{"asset_panel_collapsible_breadcrumb--dropdownOpen--YMRPh":c});return n.createElement("div",null,n.createElement("div",{ref:i,className:x.cx.flex.itemsCenter.$},n.createElement(ix,null),n.createElement("button",{ref:T,className:S,onClick:p,"data-tooltip-type":$.Ib.TEXT,"data-tooltip":E,"aria-label":E,"aria-haspopup":"listbox","aria-expanded":c},"\u2026")),c&&r.createPortal(n.createElement(ln.X3,{className:ig.Dm,positionAbsolute:!0,style:y,id:"asset-panel-ellipsis-menu",hideDropdown:m,autofocusPrevElementOnEsc:!0},g.map((e,t)=>n.createElement(ln.c$,{key:e,onClick:w(t)},e))),document.body))});function iT({shouldEllipsize:e}){let t=(0,X.tS)(),[,,a]=(0,lL.g)(),{currentView:r,libraryKey:l,navigateToLibrary:i,isCurrentlySkippingPage:o,isCurrentlySkippingFirstFolder:s,folderPath:c}=(0,rd.wV)(),{setLastNavAction:d}=(0,rH.ZX)(),{focusBackButton:m,focusSearchBar:p}=(0,rc.rl)(),_=n.useMemo(()=>l?l===t?(0,k.t)("design_systems.assets_panel.local_assets"):a.get(l)?.name:void 0,[a,l,t]),f=(0,rs.sN)(),g=r===rd.S5.Libraries,E=r===rd.S5.Pages,y=r===rd.S5.Recents,v=n.useMemo(()=>!!E||!!o&&(!c||!!s&&1===c.length),[c,s,o,E]),b=n.useCallback(e=>{let t=i(e);d(rH.r6.Back),f("breadcrumb",t)},[f,i,d]),C=(0,rc.MB)({onBoth:()=>b(l??""),onKeyDown:m,onClick:p}),{setKeyboardNavigationElement:w}=(0,eA.M3)({path:[n8.ON.BREADCRUMB],column:n8.Yv.LIBRARY}),T=u()(E?iy:"asset_panel_collapsible_breadcrumb--libraryStub--PU1iu asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",{"asset_panel_collapsible_breadcrumb--ellipsized--vFJ6x ellipsis--ellipsis--Tjyfa":e});return g?n.createElement("div",{className:"asset_panel_collapsible_breadcrumb--allLibraries--6vL0- asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",style:{marginLeft:3}},(0,h.kc)().dse_hide_local_and_subscribed_libraries?(0,k.tx)("design_systems.assets_panel.ui_kits"):(0,k.tx)("design_systems.assets_panel.dropdown_type_all_libraries")):y?n.createElement("div",{className:iy,style:{marginLeft:3}},(0,k.tx)("design_systems.assets_panel.dropdown_type_recents")):n.createElement("div",{className:x.cx.flex.overflowHidden.$},n.createElement("button",{onClick:C,className:T,disabled:v,ref:w,type:"button"},_))}let iS=n.forwardRef(({name:e,i:t},a)=>{let{isCurrentlySkippingPage:r,isCurrentlySkippingFirstFolder:l,navigateBackToPathIndex:i}=(0,rd.wV)(),o=(0,rs.sN)(),s=n.useCallback(e=>{o("breadcrumb",i(e))},[o,i]),c=n.useMemo(()=>ik(t,r,l),[t,l,r]),{setKeyboardNavigationElement:d}=(0,eA.M3)({path:[n8.ON.BREADCRUMB],column:n8.Yv.STUBS+t}),{focusBackButton:u,focusSearchBar:m}=(0,rc.rl)(),p=(0,rc.MB)({onBoth:()=>s(c),onKeyDown:u,onClick:m});return e?n.createElement("div",{ref:a,className:x.cx.flex.itemsCenter.$},n.createElement(ix,null),n.createElement("button",{ref:d,onClick:p,className:iE},e)):null});function iN({name:e,shouldEllipsize:t}){let a=n.useRef(null),{pageId:r,folderPath:l}=(0,rd.wV)(),{width:i}=rN(),[o,s]=n.useState(!1);return(n.useEffect(()=>{s(!!(0,t9._C)({text:e??"",textRef:a}))},[e,i]),n.useEffect(()=>{setTimeout(()=>s(!!(0,t9._C)({text:"",textRef:a})),0)},[r,l]),e)?n.createElement("div",{className:x.cx.noWrap.flex.itemsCenter.if(t,x.cx.overflowHidden).$},n.createElement(ix,null),n.createElement("div",{"data-tooltip-type":$.Ib.TEXT,"data-tooltip":o?e:void 0,ref:a,className:x.cx.mx4.px2.if(t,x.cx.overflowHidden.noWrap.ellipsis).$,"aria-current":"location"},e)):null}function ix(){return n.createElement("div",{className:"asset_panel_collapsible_breadcrumb--breadcrumbSlash--XWfHn","aria-hidden":!0}," / ")}let ik=(e,t,a)=>{let n=e;return t&&n++,a&&n++,n-1};var iI=a(782683),iA=a(882316);let iL="asset_panel_search--libraryChipRemove--kJiJn";function iO({libraryName:e}){let t=(0,l.wA)(),{currentView:a,startSearch:r,onBack:o,libraryKey:s}=(0,rd.wV)(),c=a===rd.S5.Search,{inputRef:d,focusSearchBar:u}=(0,rc.rl)(),m=(0,l.d4)(e=>e.leftPanel.shouldFocusSearchBar),{query:p}=(0,l.d4)(e5.UQ),_=(0,X.tS)(),f=n.useCallback(()=>{c&&o()},[c,o]),h=n.useMemo(()=>s?s===_?{type:e4.I.LOCAL}:{type:e4.I.FILE,fileKey:s}:{type:e4.I.ALL},[s,_]),g=n.useCallback(e=>{t(eO.ku({query:e,searchOptions:h,entryPoint:"asset_panel"})),""===e?f():c||r()},[t,c,f,h,r]),E=n.useRef(void 0);n.useEffect(()=>{c&&(p&&E.current!==s&&t(eO.gP({searchOptions:h})),E.current=s)},[t,c,s,p,h]);let y=n.useCallback(()=>{""===p&&f()},[f,p]),v=n.useCallback(()=>{g(""),u(),f()},[g,u,f]),b=(0,l.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);n.useEffect(()=>{let e=e=>{let t=e2.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===e1.Uz.KEY_2:e.altKey&&e.keyCode===e1.Uz.KEY_2,a=!(0,tH.AL)()&&e.shiftKey&&e.keyCode===e1.Uz.I&&!(0,rs.Qk)(e.target);(t||a)&&b!==i.m1T.TEXT&&(u(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[b,u]);let C=n.useMemo(()=>e?(0,k.t)("design_systems.assets_panel.search_library"):(0,k.t)("design_systems.assets_panel.search_all_libraries"),[e]);return n.createElement("div",{className:"asset_panel_search--container--u0qoH asset_panel_search--horizontalFlex---CG1k"},n.createElement(iI.h,null),n.createElement(e3.E1,{path:[n8.ON.HEADER,n8.my.SEARCH_AND_FILTER],column:n8.Wy.SEARCH,isNewAssetsPanel:!0,query:p,onChange:g,onFocus:l1.lQ,onBlur:y,onClearSearch:v,forwardedRef:d,isVisible:!0,entryPointForTracking:"editor:assets_panel",autofocus:m,recordingKey:"componentsLibrarySearch",placeholder:C,selectOnFocus:!0}))}function iR({library:e}){let{navigateToTop:t}=(0,rd.wV)(),{focusSearchBar:a}=(0,rc.rl)(),r=(0,rs.sN)(),l=n.useCallback(()=>{r("searchFilterChip",t()),a()},[a,r,t]),{setKeyboardNavigationElement:i}=(0,eA.M3)({path:[n8.ON.HEADER,n8.my.LIBRARY_SEARCH_CHIP]});return e?n.createElement("div",{className:"asset_panel_search--libraryChip--1nfYR asset_panel_search--horizontalFlex---CG1k","data-testid":"asset-panel-search-chip"},n.createElement("span",{className:"asset_panel_search--libraryChipText--3TsfE ellipsis--ellipsis--Tjyfa"},e.name),(0,h.kc)().dse_fpl_wave_1?n.createElement(n9.E,{className:iL,onClick:l,recordingKey:"asset-panel-search-chip","aria-label":(0,k.t)("design_systems.assets_panel.search_chip_label"),ref:i},n.createElement(iA.f,null)):n.createElement(y.GG,{className:iL,onClick:l,recordingKey:"asset-panel-search-chip","aria-label":(0,k.t)("design_systems.assets_panel.search_chip_label"),forwardedRef:i},n.createElement(iA.f,null))):null}var iM=a(221768),iD=a(18991),iP=a(343427),iF=a(270133),iB=a(255942);let iU="assets-panel-settings";function iH({includeFolderSetting:e=!0}){let t=n.useRef(null),{setKeyboardNavigationElement:a}=(0,eA.M3)({path:[n8.ON.HEADER,n8.my.SEARCH_AND_FILTER],column:n8.Wy.SETTINGS}),r=(0,X.tS)(),i=(0,j.Um)(),o=i?.type===iU,s=(0,l.wA)(),c=n.useCallback(()=>{o?s((0,ll.oB)()):(s((0,ll.j7)({type:iU,data:{position:{top:t.current?.getBoundingClientRect().bottom,left:t.current?.getBoundingClientRect().left}}})),m.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:r??void 0,assetsPanelVersion:3}))},[s,r,o]),d=n.useMemo(()=>{if(o)return i.data?.position},[i?.data?.position,o]),u=n.useCallback(e=>{o&&e.stopPropagation()},[o]);return n.createElement(n.Fragment,null,n.createElement("div",{onMouseDown:u},n.createElement(ef.d,{onClick:c,toggled:o,ref:(0,iB.A)(t,a),"aria-label":(0,k.t)("design_systems.assets_panel.settings_label"),htmlAttributes:{"aria-expanded":o,"aria-haspopup":"listbox","data-testid":"asset-panel-settings-button"}},n.createElement(iM.A,null))),o&&n.createElement(iG,{position:d,includeFolderSetting:e,buttonRef:t}))}function iG({position:e,includeFolderSetting:t,buttonRef:a}){let i=(0,l.wA)(),o=n.useCallback(()=>{i((0,ll.oB)())},[i]),s=(0,rs.R2)("number"==typeof e?.top?e.top:void 0),{productComponents:c,templates:d}=(0,aV.g5)(tP.$A.Design),[p]=(0,ru.MA)(),[_]=(0,ru.ye)(),{currentView:f,libraryKey:h}=(0,rd.wV)(),{getLibrary:g}=(0,rp.G)(),E=(0,X.tS)(),y=n.useMemo(()=>f!==rd.S5.Search&&(c.length>0||d.length>0),[f,c.length,d.length]),v=n.useMemo(()=>E?g(E):void 0,[g,E]),b=!!v&&(v.numComponents>0||v.numTemplates>0),[C,w]=(0,lL.g)(),{goToLibrary:T,goToAll:S,goToRecents:N,changeAssetsView:x,toggleShowFolders:I}=function(e){let t=(0,X.q5)(),a=(0,rs.sN)(),{navigateToLibrary:r,navigateToTop:l,navigateToRecents:i}=(0,rd.wV)(),{setLastNavAction:o}=(0,rH.ZX)(),[,s]=(0,ru.MA)(),[,c]=(0,ru.ye)(),{focusSearchBar:d}=(0,rc.rl)(),u=n.useCallback(e=>{a("settingsMenu",e)},[a]),p=n.useCallback(e=>{u(r(e)),d()},[d,r,u]),_=n.useCallback(()=>{u(l()),d()},[d,l,u]),f=n.useCallback(()=>{u(i()),d()},[d,i,u]),h=n.useCallback(()=>e.current?.focus(),[e]),g=n.useCallback(e=>{m.az.trackDefinedEvent("assets_panel.view_mode_changed",{viewMode:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),s(e),o(rH.r6.ToggleView)},[t?.key,t?.parentOrgId,t?.teamId,s,o]),E=(0,rc.NR)({onBoth:e=>()=>g(e),onKeyDown:()=>h}),y=n.useCallback(e=>{m.az.trackDefinedEvent("assets_panel.folder_toggle",{showFolders:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),c(e)},[t?.key,t?.parentOrgId,t?.teamId,c]);return{goToLibrary:p,goToAll:_,goToRecents:f,changeAssetsView:E,toggleShowFolders:(0,rc.NR)({onBoth:e=>()=>y(e),onKeyDown:()=>h})}}(a),A=n.useMemo(()=>{let e=[];return e.push(iV({text:(0,k.t)("design_systems.assets_panel.dropdown_type_all_libraries"),checked:f===rd.S5.Libraries||f===rd.S5.Search&&!h,onClick:S})),y&&e.push(iV({text:(0,k.t)("design_systems.assets_panel.dropdown_type_recents"),checked:f===rd.S5.Recents&&c.length>0,onClick:N})),b&&e.push(iV({text:v.name,checked:f!==rd.S5.Recents&&h===v.fileKey,onClick:()=>T(v.fileKey)})),(C.length>0||w.length>0)&&e.push(n.createElement(ln.wv,null)),e.push(...C.map(({name:e,fileKey:t})=>iV({text:e,isApproved:(0,tn.vR)(t),checked:f!==rd.S5.Recents&&h===t,onClick:()=>T(t)}))),e.push(...w.map(({name:e,fileKey:t})=>iV({text:e,isApproved:(0,tn.vR)(t),isPreset:!0,checked:f!==rd.S5.Recents&&h===t,onClick:()=>T(t)}))),e.push(n.createElement(ln.wv,null)),e.push(iV({text:(0,k.t)("design_systems.assets_panel.view_toggle_grid"),checked:p===ru.$H.GRID,onClick:x(ru.$H.GRID),icon:n.createElement(iD.t,null)})),e.push(iV({text:(0,k.t)("design_systems.assets_panel.view_toggle_list"),checked:p===ru.$H.LIST,onClick:x(ru.$H.LIST),icon:n.createElement(iP.Z,null)})),t&&e.push(iV({text:(0,k.t)("design_systems.assets_panel.view_toggle_show_folders"),checked:_,onClick:I(!_),icon:n.createElement(iF.e,null)})),e},[p,x,h,f,S,T,N,b,y,t,v?.fileKey,v?.name,w,c.length,_,C,I]),L=n.useMemo(()=>({...e,maxHeight:s}),[s,e]);return r.createPortal(n.createElement(ln.X3,{className:u()(ig.Dm,"asset_panel_settings--dropdown--gs7K3"),positionAbsolute:!0,style:L,id:iU,hideDropdown:o,autofocusPrevElementOnEsc:!0},A),document.body)}function iV({text:e,isApproved:t,isPreset:a,checked:r,onClick:l,icon:i}){return n.createElement(ln.MM,{className:"asset_panel_settings--dropdownOption--kJ-6M",checked:!!r,onClick:l,key:e},n.createElement("div",{className:"asset_panel_settings--optionContentContainer--iAJ6X"},n.createElement("div",{className:"asset_panel_settings--optionContent---2nCX ellipsis--ellipsis--Tjyfa"},i?n.createElement("div",{className:"asset_panel_settings--optionWithLeftIconContainer--QP3Gm"},i,n.createElement("span",null,e)):e),n.createElement("div",{className:"asset_panel_settings--optionRightIcon--zi-2v"},t?n.createElement(ta.FX,null):a?n.createElement("div",{className:x.cx.ml2.$},n.createElement(tl.S,{hubFileId:void 0})):null)))}function iz(){let{getPage:e,getLibrary:t}=(0,rp.G)(),{libraryKey:a,pageId:r}=(0,rd.wV)(),l=n.useMemo(()=>e(a,r),[e,a,r]),i=n.useMemo(()=>t(a),[t,a]);return n.createElement("div",{className:"asset_panel_header--assetPanelHeader--ZWb-Q"},n.createElement(iK,{library:i}),n.createElement(iW,{page:l}))}function iK({library:e}){let{currentView:t}=(0,rd.wV)();return n.createElement("div",{className:x.cx.grid.gap4.itemsCenter.ml8.$,style:lr.sx.add({gridTemplateColumns:"1fr auto",gridTemplateRows:"32px",gridAutoRows:"auto"}).$},n.createElement("div",{style:lr.sx.add({gridRow:1,gridColumn:1}).$},n.createElement(iO,{libraryName:e?.name})),n.createElement("div",{style:lr.sx.flex.itemsCenter.add({gridRow:1,gridColumn:2}).$},n.createElement(iH,{includeFolderSetting:[rd.S5.Libraries,rd.S5.Pages,rd.S5.Assets].includes(t)})),t===rd.S5.Search&&e&&n.createElement("div",{style:lr.sx.flex.minW0.add({gridRow:2,gridColumn:1}).$},n.createElement(iR,{library:e})))}function iW({page:e}){let{currentView:t,folderPath:a,onBack:r,libraryKey:i,isCurrentlySkippingPage:o,isCurrentlySkippingFirstFolder:s}=(0,rd.wV)(),c=(0,rs.sN)(),d=(0,l.d4)(e=>e.modalShown),u=(0,l.wA)(),{setBackButtonKeyboardItem:m,focusSearchBar:p}=(0,rc.rl)(),_=n.useCallback(()=>{c("backButton",r()),d?.type===ti.V&&u(D.AS())},[r,c,d?.type,u]),f=n.useCallback(()=>{t===rd.S5.Recents?i||p():t===rd.S5.Pages?p():t===rd.S5.Assets&&o&&!a&&p()},[t,p,a,o,i]),h=(0,rc.MB)({onBoth:_,onKeyDown:f,onClick:p}),g=n.useMemo(()=>{if(t===rd.S5.Search||t===rd.S5.Recents)return[];let n=e?.name&&!o?[e.name]:[],r=a??[];return[...n,...s?r.slice(1):r]},[t,a,o,s,e?.name]),E=lO(),y=t!==rd.S5.Libraries&&t!==rd.S5.Search;return E?null:n.createElement(n.Fragment,null,t!==rd.S5.Search&&n.createElement("div",{className:"asset_panel_header--breadcrumbWrapper--NC2Ps asset_panel_header--horizontalFlex--k99PA"},y&&n.createElement(t7.K,{"aria-label":(0,k.t)("design_systems.assets_panel.back"),onClick:h,ref:m,recordingKey:"assetsPanelBack"},n.createElement(ip.C,null)),n.createElement(iv,{stubs:g})))}var ij=a(285272);let iZ=e=>n.useCallback(t=>{t()||e()},[e]);var iY=a(309798),iX=a(292072);function iq({width:e}){let t=(0,ij.j)(),a=function(e){let t=(0,J.iZ)(),a=(0,X.q5)(),r=(0,eK.jO)(),i=(0,iY.f)("has_dismissed_component_sidebar_library_upsell_banner"),o=(0,l.d4)(e=>e.isFreeUser),s=(0,l.d4)(eX.P),c=a?.teamId?s[a.teamId]:null,d=(0,tz.Rs)(eF.GyZ,{teamId:a?.teamId??""},{enabled:!!a?.teamId}),u=a?.canEdit??!1,m=d?.data?.team?.canEdit??!1,p=e.numComponents>0||e.numTemplates>0;return n.useMemo(()=>!i&&o&&(!c||!(0,eW.w5)(c)&&m)&&u&&r&&p&&(0,eR.Hz)(t?.id),[i,o,c,m,u,r,p,t])}(t.localAssets),r="loading"===(0,eB.je)().status,i=(0,tf.Xr)(rM),o=n.useCallback(()=>i(!0),[i]);return n.createElement(iJ,{assetPanelItems:t,width:e},n.createElement("div",{className:iX.k,"data-testid":"component-sidebar",translate:"no"},n.createElement(iz,null),n.createElement(l7,{isLoading:r},n.createElement(id,{assetPanelItems:t,width:e})),a&&n.createElement(n$,null),n.createElement(eJ.Mw,{width:e,scrollToPreset:o})))}function iJ({children:e,width:t,assetPanelItems:a}){return n.createElement(rH.P3,null,n.createElement(rp.K,{assetPanelItems:a},n.createElement(rc.tM,{className:iX.k},n.createElement(iQ,null,n.createElement(rx,{width:t},e)))))}function iQ({children:e}){return!function(){let{libraryKey:e,pageId:t,folderPath:a,navigateToTop:r,navigateToPage:l,navigateToPath:i,navigateToLibrary:o,currentView:s,onBack:c}=(0,rd.wV)(),d=(0,l4.q)(),u=d(e),{getLibrary:m,getPage:p,getFolder:_}=(0,rp.G)(),{setLastNavAction:f}=(0,rH.ZX)(),h=iZ(r),[,,E]=(0,lL.g)(),[y,v]=(0,g.fp)(eQ.Cl);n.useEffect(()=>{y&&E.size>0&&((0,rs.hB)(()=>o(y)),v(null))},[y,o,v,E]),(0,rd.sH)(),n.useEffect(function(){if(s!==rd.S5.Assets&&s!==rd.S5.Pages)return;let n=m(e),o=E.get(e);if(!n){if(d(e)&&o&&s!==rd.S5.Assets)return;h(r);return}if(t){if(!n?.pages.get(t)){let e=(0,rd.Cg)(n);e?h(()=>l(e.id)):h(c);return}if(a&&!_(e,t,a)){let n=a.slice(0,-1),r=_(e,t,n);for(;!r&&n.length>0;)r=_(e,t,n=n.slice(0,-1));if(!r)return h(()=>l(t));let o=parent?(0,rd.xc)(r):void 0;return void(o?h(()=>i([...n,o.name])):(h(()=>i(n)),f(rH.r6.Back)))}}},[c,u,e,s,t,a,r,l,m,_,i,f,h,E,d]),n.useEffect(function(){let n=m(e);if(!n||u)return;let r=(0,rd.Cg)(n);if(s===rd.S5.Pages&&r)l(r.id);else if(s===rd.S5.Assets){let n=_(e,t,a);if(!n)return;let r=(0,rd.xc)(n);r&&i([...a??[],r.name])}},[u,s,a,_,m,p,e,l,i,c,t])}(),n.createElement(n.Fragment,null,e)}function i$(){return n.createElement("div",{className:x.cx.colorTextSecondary.my8.mx16.$},(0,k.tx)("design_systems.assets_panel.error"))}var i0=a(20556),i1=a(544403),i2=a(140838),i5=a(260906);function i3(){return(0,rz.Ye)()?n.createElement(i2.C,null):n.createElement(i5.O,null)}var i4=a(267460),i6=a(601538),i7=a(443230),i8=a(324666),i9=a(427072),oe=a(872429),ot=a(764257),oa=a(656147),on=a(16633),or=a(455263),ol=a(893606);function oi(){let{hasAnyUiKit:e}=(0,te.I7)(),t=(0,iY.f)("ui_kits_assets_title_blue_dot_dismissed"),a=(0,eK.jO)(),r=(0,or.t)(),o=X.q5()?.canEdit,s=(0,l.d4)(e=>e.leftPanel.activeTab===i.xae.ASSETS),c=(0,l.wA)(),d=(0,ol.R)();return(n.useEffect(()=>{e&&!t&&s&&c(nq.b({ui_kits_assets_title_blue_dot_dismissed:!0}))},[s,t,c,e]),a&&!r&&o&&e&&!t)?d?n.createElement(on.C,{"data-testid":"assets-panel-blue-dot",className:"assets_panel_blue_dot--blueDotUi3--VR9bW"}):n.createElement("span",{"data-testid":"assets-panel-blue-dot",className:"assets_panel_blue_dot--blueDot--s7hOi"}):null}var oo=a(354894);function os(e){let t=(0,l.wA)(),a=(0,l.d4)(e=>e.selectedView);return n.createElement("div",{className:oo.hv},n.createElement(en.Y,{onFocus:()=>{(0,O._)(t,a,"overview_search_clicked"),H.Y5.triggerAction("canvas-search",{source:"toolbar"})}}),!e.isOverview&&n.createElement(y.D8,{className:oo.Ov,onClick:e.togglePagesExpanded,onContextMenu:e.onContextClick},n.createElement("span",{className:oo.Im},e.currentPageName||""),n.createElement(N.B,{className:oo.ai,svg:e.pageTabChevron})))}var oc=a(650166),od=a(489013),ou=a(349410),om=a(385111);function op(e){let t=(0,l.wA)(),a=(0,X.q5)(),r=(0,eV.FC)(),i=(0,al.p8)("pagesList").length,o=n.useRef(),s=(0,ee.ks)(),c=(0,ou.Fr)(),d=om.h.useTrackingContext({trigger:nQ.b.PAGE_TRACKER_UPSELL});o.current=e.setUpsellHeightCallback;let m=n.useCallback(e=>{o.current&&o.current(e?.getBoundingClientRect().height||0)},[i]);if(i<=0||!a||s)return null;let p=a.team;if(!(p&&(0,ej.canEditTeam)(p.id,r)&&!(0,eW.XX)(p)))return null;let _=(0,eW.Lj)(a);if((_<=1||_>=1/0)&&!c(a))return null;let f=()=>{let e=nQ.b.PAGE_TRACKER_UPSELL;t((0,D.to)({type:nX.V,data:{upsellSource:e,teamId:p.id,openCheckoutInNewTab:!0}}))},h=n.createElement(ae.Us,{onClick:f,trusted:!0,"data-testid":"page_tracker_upsell_link"},(0,k.tx)("fullscreen.pages_panel.see_plans_that_offer_more")),g=n.createElement(ae.Us,{onClick:f,trusted:!0,"data-testid":"page_tracker_upsell_link"},(0,k.tx)("fullscreen.pages_panel.get_unlimited_pages_and_more")),E=i/eW.LF[a.editorType??tS._Y.DESIGN],y=u()({"page_tracker_upsell--progressPartial--guOiP":E<1,"page_tracker_upsell--progressCompleteWarning--06IlO page_tracker_upsell--progressComplete--ilmev":1===E,"page_tracker_upsell--progressCompleteDanger--lCunz page_tracker_upsell--progressComplete--ilmev":E>1}),v=`${Math.trunc(100*Math.min(E,1))}%`,b={fileTeamId:p.id,numPages:i,...d};return n.createElement(eE.fu,{name:"Page Tracker Upsell",properties:b},n.createElement("div",{className:"page_tracker_upsell--upsellContainer--ZEwXz",ref:m,"data-testid":"page_tracker_upsell"},n.createElement("div",{className:"page_tracker_upsell--upsellBody--yUAjd"},n.createElement("div",{className:"page_tracker_upsell--progressBar--fDCBY"},n.createElement("div",{className:y,style:{width:v},"data-testid":"page_tracker_progress_bar"})),n.createElement("p",{className:"page_tracker_upsell--upsellText--Ng-u0"},(()=>{let e=eW.LF[a.editorType??tS._Y.DESIGN]-i;return e>=2?n.createElement(n.Fragment,null,(0,k.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),n.createElement("br",null),h):1===e?n.createElement(n.Fragment,null,(0,k.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),n.createElement("br",null),g):0===e?n.createElement(n.Fragment,null,(0,k.tx)("fullscreen.pages_panel.all_n_free_pages_used",{maxFreePages:eW.LF[a.editorType??tS._Y.DESIGN]}),n.createElement("br",null),g):n.createElement(n.Fragment,null,(0,k.tx)("fullscreen.pages_panel.all_free_pages_used"),n.createElement("br",null),g)})()))))}var o_=a(607672),of=a(653671),oh=a(173521),og=a(783423),oE=a(560560);let oy=(0,p.jz)(aP.xM9),ov=(0,p.jz)(aP.Nqv),ob=(0,p.jz)(aP.M$q),oC=(0,_.s)(e=>{e.user&&(0,U.uE)("action_left_panel_scroll",{user:e.user},{assetsPanelVersion:e.activeTab===i.xae.ASSETS?2:void 0,tab:e.activeTab===i.xae.ASSETS?"assets":"layers",fileKey:e.openFile?.key,fileTeamId:e.openFile?.teamId??void 0,fileOrgId:e.openFile?.parentOrgId??void 0})},500);class ow extends E.o6{constructor(e){super(e),this.objectScrollTop=0,this.onObjectScroll=e=>{this.objectScrollTop=e},this.componentScrollTop=0,this.onComponentScroll=e=>{oC(this.props),this.componentScrollTop=e},this.scrollContainerRef=n.createRef(),this.scrollContainerInnerRef=n.createRef(),this.shouldScrollToPage=null,this.updateLocalStorageSettings=(e,t,a,n)=>{if(v.x4){let r=JSON.parse(v.x4.getItem("pages-panel")||"{}");r[e]={height:t,isOpen:a,devHandoffShowAllPages:n},v.x4.setItem("pages-panel",JSON.stringify(r))}},this.getLocalStorageSettings=e=>{if(v.x4)return JSON.parse(v.x4.getItem("pages-panel")||"{}")[e]},this.setNeedsScrollLine=e=>{this.setState({needsScrollLine:e>0})},this.scrollViewToPage=e=>{if(!this.scrollContainerRef.current){this.shouldScrollToPage=e;return}let t=this.positionOfPageInList(e),a=t+oy,n=this.scrollContainerRef.current.getScrollTop(),r=n+this.scrollContainerRef.current.getTrackHeight();t<n?this.scrollContainerRef.current.scrollTo(t-oy/2):a>r&&this.scrollContainerRef.current.scrollTo(n+(a-r)+oy/2),this.shouldScrollToPage=null},this.onContextClick=E.cZ(this,"contextmenu",e=>{e.preventDefault(),e.stopPropagation(),this.props.onPageContextMenu({nodeId:this.props.currentPageGuid,clientX:e.clientX,clientY:e.clientY})}),this.onContextClickNothing=e=>{e.preventDefault(),e.stopPropagation()},this.forcePagesExpanded=()=>{this.showLayersPanel(),this.state.isPagesOpen||(this.setState({isPagesOpen:!0}),(0,U.ds)("pages_panel_open_toggle",this.props.openFile?.key,f.D.getState(),{isPagesOpen:!0},{forwardToDatadog:!0}))},this.togglePagesExpanded=()=>{this.props.isDevHandoffOverview||((0,U.ds)("pages_panel_open_toggle",this.props.openFile?.key,f.D.getState(),{isPagesOpen:!this.state.isPagesOpen},{forwardToDatadog:!0}),this.setState({isPagesOpen:!this.state.isPagesOpen}))},this.toggleLayersExpanded=()=>{(0,m.sx)("objects_panel_open_toggle",{isLayersOpen:!this.state.isLayersOpen}),this.setState({isLayersOpen:!this.state.isLayersOpen})},this.showPublish=()=>{this.props.openFile&&((0,m.sx)("left_panel_set_tab",{value:"Components"}),this.props.markAssetPanelLoadingStart?.(),this.props.dispatch(M.FP({tab:i.xae.ASSETS,persist:!0,shouldFocusSearchBar:!0})))},this.showLayersPanel=()=>{(0,m.sx)("left_panel_set_tab",{value:"Layers"}),this.props.dispatch(M.FP({tab:i.xae.LAYERS,persist:!0}))},this.showSitesBlocksPanel=()=>{(0,m.sx)("left_panel_set_tab",{value:"KitsSites"}),this.props.dispatch(M.FP({tab:i.xae.KITS_SITES}))},this.showDakotaPanel=()=>{(0,m.sx)("left_panel_set_tab",{value:"Dakota"}),this.props.dispatch(M.FP({tab:i.xae.DAKOTA}))},this.onFullscreenStartRenamingNode=({nodeId:e})=>{this.startRenamingNode(e)},this.startRenamingNode=e=>{if(this.props.isReadOnly)return;let t=W.q.instance.get(e);if(t?.isResponsiveSet&&t.parentNode?.defaultResponsiveSetId===e){this.props.dispatch(I.F.enqueue({message:(0,k.t)("sites.panel.pages_panel.cannot_rename_default_responsive_set")}));return}this.props.activeTab!==i.xae.LAYERS&&this.showLayersPanel(),this.setState({renamingNodeGuid:e}),t?.parentGuid&&z.hq(t.parentGuid)},this.stopRenamingNode=(e,t,a)=>{if(this.props.isReadOnly)return;let n=this.state.renamingNodeGuid;if(n&&e){let e=W.q.instance.get(n);e?.isResponsiveSet&&!t&&(t=e?.name);let r=t||"";G.l7.user("set-node-name",()=>z.i(n,r)),H.Y5.commit(),B.wt.reportEditActionIf(r!==a,"rename-node")}this.setState({renamingNodeGuid:null})},this.clampValidHeight=e=>{let t=this.scrollContainerInnerRef.current?.getBoundingClientRect().top??175,a=1.5*ov+(this.props.isUI3?40+ob:0);return Math.max(1.5*oy,Math.min(e,this.state.cachedInnerHeight-t-a))},this.onWindowSize=e=>{this.windowResizeHandler()},this.windowResizeHandler=(0,_.s)(()=>{this.setState({cachedInnerHeight:window.innerHeight})},45),this.toggleViewMode=()=>{this.setState({viewMode:this.state.viewMode===aG.Bk.Grid?aG.Bk.List:aG.Bk.Grid})},this.setUpsellHeight=e=>{this.setState({upsellHeight:e})},this.setShowAllPages=e=>{let t=this.computedHeight(),a=this.getPagesInfo(e),n=this.heightForPages(a.pages.length,!!a.showAllButton),r=e?Math.max(t,n):Math.min(t,n);this.setState({devHandoffShowAllPages:e,height:r})},this.getPagesInfo=e=>{let{pagesList:t}=this.props;if(!this.props.isDevHandoff||this.props.disableCollapsing)return{pages:t};let a=!1,r=t.filter(e=>{let t=i.glU.nodeStatusesOnPage(e.nodeId).length>0;return t&&(a=!0),t||e.nodeId===this.props.currentPageGuid});return a&&r.length!==t.length?e?{pages:t,showAllButton:n.createElement(S.d,{label:(0,k.t)("dev_handoff.pages.hide_other"),onClick:()=>this.setShowAllPages(!1)})}:{pages:r,showAllButton:n.createElement(S.d,{label:(0,k.t)("dev_handoff.pages.show_all"),onClick:()=>this.setShowAllPages(!0)})}:{pages:t}},this.state={renamingNodeGuid:null,needsScrollLine:!1,height:null,cachedInnerHeight:window.innerHeight,isPagesOpen:this.props.isUI3&&!this.props.isDevHandoff,isLayersOpen:!this.props.isUI3,pagesListInitialScrollTop:null,viewMode:aG.Bk.Grid,upsellHeight:0,devHandoffShowAllPages:!1,webpagesListHeight:null,dakotaViewHeight:null}}componentDidMount(){super.componentDidMount(),H.Y5.fromFullscreen.on("startRenamingNode",this.onFullscreenStartRenamingNode),window.addEventListener("resize",this.onWindowSize),null!=this.props.currentPageGuid&&this.scrollViewToPage(this.props.currentPageGuid),this.props.openFile&&this.initializePagesPanelSettings(this.props.openFile.key),this.props.isDevHandoffOverview&&!this.state.isPagesOpen&&this.setState({isPagesOpen:!0})}componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener("resize",this.onWindowSize),H.Y5.fromFullscreen.removeListener("startRenamingNode",this.onFullscreenStartRenamingNode)}UNSAFE_componentWillUpdate(e,t){e.renamingPageId&&this.props.renamingPageId!==e.renamingPageId&&!this.scrollContainerRef.current&&this.setState({pagesListInitialScrollTop:this.positionOfPageInList(e.renamingPageId)-oy/2}),this.shouldScrollToPage&&this.scrollContainerRef.current&&this.scrollViewToPage(this.shouldScrollToPage)}componentDidUpdate(e,t){super.componentDidUpdate(e,t),e.isUI3!==this.props.isUI3&&this.setState({isPagesOpen:this.props.pagesList.length>1||this.props.isUI3&&!this.props.isDevHandoff}),this.props.isDevHandoffOverview&&!this.state.isPagesOpen&&this.setState({isPagesOpen:!0}),e.currentPageGuid!==this.props.currentPageGuid&&this.scrollViewToPage(this.props.currentPageGuid);let a=e.activeTab!==this.props.activeTab&&this.props.activeTab===i.xae.ASSETS,n=t.viewMode!==this.state.viewMode;if(a||n){let e=(0,v.TQ)(),t=this.props.showRedesignedAssetsPanel?ru.Pv:(0,aG.RN)(this.state.viewMode);if(this.props.showRedesignedAssetsPanel&&e)try{let a=e.getItem(ru.Zi);if(a){let e=JSON.parse(a);(e===ru.$H.LIST||e===ru.$H.GRID)&&(t=e)}}catch{}(0,m.sx)("Component Sidebar Viewed",{viewMode:t,assetsPanelVersion:this.props.showRedesignedAssetsPanel?3:2,fileKey:this.props.openFile?.key,fileTeamId:this.props.openFile?.teamId??void 0,fileOrgId:this.props.openFile?.parentOrgId??void 0})}if(this.scrollContainerRef.current&&this.setNeedsScrollLine(this.scrollContainerRef.current.getScrollTop()),this.props.openFile){e.openFile?.key!==this.props.openFile.key&&this.initializePagesPanelSettings(this.props.openFile.key);let a=t.isPagesOpen!==this.state.isPagesOpen,n=this.state.height&&t.height!==this.state.height,r=this.state.devHandoffShowAllPages!==t.devHandoffShowAllPages;e.openFile?.key===this.props.openFile.key&&(a||n||r)&&this.updateLocalStorageSettings(this.props.openFile.key,this.state.height,this.state.isPagesOpen,this.state.devHandoffShowAllPages)}null!==this.props.isPagesOpenOverride&&this.props.isPagesOpenOverride!==e.isPagesOpenOverride&&(g.zl.set(of.aN,null),this.setState({isPagesOpen:this.props.isPagesOpenOverride})),null!==this.props.isLayersOpenOverride&&this.props.isLayersOpenOverride!==e.isLayersOpenOverride&&this.setState({isLayersOpen:this.props.isLayersOpenOverride}),this.props.renamingPageId&&this.props.renamingPageId!==e.renamingPageId&&!this.props.isReadOnly&&(this.forcePagesExpanded(),this.scrollViewToPage(this.props.renamingPageId))}heightForPages(e,t){let a=e*oy;a=Math.ceil(a/oy)*oy+this.state.upsellHeight+(this.props.isUI3?8:oy/2),t&&(a+=oy);let n=this.props.isDevHandoff?144:40;return Math.min(a,Math.round(.25*(this.state.cachedInnerHeight-(0,b.bG)()-(0,p.hG)(aP.MGP)-n)))}defaultHeight(e){if(e){let e=this.props.publishableCanvasId?(0,ot.Vl)(W.q.instance.get(this.props.publishableCanvasId)):[];return this.heightForPages(e.length,!1)}let{pages:t,showAllButton:a}=this.getPagesInfo(this.state.devHandoffShowAllPages);return this.heightForPages(t.length,!!a)}async initializePagesPanelSettings(e){let t=await this.getLocalStorageSettings(e);(0,r.flushSync)(()=>{t?this.setState({height:t.height,isPagesOpen:t.isOpen,devHandoffShowAllPages:t.devHandoffShowAllPages}):this.setState({isPagesOpen:this.props.pagesList.length>1||this.props.isUI3&&!this.props.isDevHandoff})})}indexOfPageInList(e){return this.props.pagesList.findIndex(t=>t.nodeId===e)}positionOfPageInList(e){let t=this.indexOfPageInList(e);return -1!==t?t*oy:0}canAddNewPages(){return!this.props.isReadOnly}renderHeaderRowUi2(){let e=this.props.isReadOnly?this.togglePagesExpanded:void 0,t=this.canAddNewPages();return n.createElement("div",{className:this.state.needsScrollLine?oo.xq:oo.RE,onClick:e},n.createElement("div",{className:oo.Pz,onContextMenu:this.onContextClickNothing},(0,k.tx)("fullscreen.pages_panel.pages")),t&&n.createElement("div",{className:x.cx.flex.mx8.itemsCenter.$},n.createElement(oc.e,{recordingKey:E.Pt(this.props,"newPage")})))}renderHeaderRowUi3(e){let t=this.props.isReadOnly,a=t?this.togglePagesExpanded:void 0,r=(0,ee.$A)(this.props.selectedView)||this.props.isDevHandoffOverview,l=t||r,o=e||(0,h.kc)().interop_pages,d=this.canAddNewPages();return n.createElement("div",{className:this.state.needsScrollLine?oo.xq:oo.RE,onClick:a},l?n.createElement("div",{className:oo.Pz,onContextMenu:this.onContextClickNothing},n.createElement(y.D8,{className:u()(oo.RM,{[oo.oq]:!this.props.showTabs||r,[oo._Z]:!this.props.showTabs||r}),onClick:this.props.activeTab===i.xae.ASSETS?this.forcePagesExpanded:this.togglePagesExpanded,onContextMenu:r?this.onContextClick:this.onContextClickNothing,recordingKey:E.Pt(this.props,"collapsedRow")},n.createElement("span",{className:u()(oo.II,{[oo.dK]:this.props.isDevHandoffOverview})},this.state.isPagesOpen?n.createElement(s.O,null):n.createElement(c.k,null)),n.createElement("span",{className:oo.Im,"data-onboarding-key":"pages-panel-toggle"},this.state.isPagesOpen?(0,k.tx)("fullscreen.pages_panel.pages"):this.props.currentPageName||"")),n.createElement("div",{className:this.props.isComparingChanges?oo.R:void 0},n.createElement(ea._,{onClick:e=>{e.stopPropagation(),(0,O._)(this.props.dispatch,this.props.selectedView,"overview_search_clicked"),this.showLayersPanel(),H.Y5.triggerAction("canvas-search",{source:"toolbar"})}}))):n.createElement(y.D8,{className:u()(oo.Pz,{[oo.Rk]:!this.state.isPagesOpen}),onContextMenu:this.onContextClickNothing,onClick:this.togglePagesExpanded,role:"button",tabIndex:0,recordingKey:E.Pt(this.props,"collapsedRow")},this.state.isPagesOpen?n.createElement(s.O,null):n.createElement(c.k,null),(0,k.tx)("fullscreen.pages_panel.pages")),d&&n.createElement("div",{className:x.cx.flex.relative.mr8.justifyEnd.itemsCenter.$},o?n.createElement(od.t,{recordingKey:this.props.recordingKey}):n.createElement(oc.e,{recordingKey:E.Pt(this.props,"newPage")})))}renderAssetPanelUi2(){return n.createElement(n2,{onScroll:this.onComponentScroll,initialScrollTop:this.componentScrollTop,recordingKey:"componentsSidebar",viewMode:this.state.viewMode,toggleViewMode:this.toggleViewMode,containerSizingOptions:{containerWidth:this.props.width,maxSmallThumbSize:40,maxWideColWidth:300}})}renderAssetPanelUi3(){return n.createElement(w.tH,{boundaryKey:"AssetPanelUI3",fallback:n.createElement(i$,null)},n.createElement(iq,{width:this.props.width}))}computedHeight(){return this.state.height?this.clampValidHeight(this.state.height):this.defaultHeight()}renderPagesList(e){if(!this.props.pagesList)return null;let{pages:t,showAllButton:a}=this.getPagesInfo(this.state.devHandoffShowAllPages);return n.createElement(C.V,null,n.createElement(i1.w,{size:this.computedHeight(),defaultSize:this.defaultHeight(),onResize:e=>{this.setState({height:e}),z.Uc("")},side:"bottom",className:e?oo.aY:oo.l$},n.createElement(T.P,{scrollBarAlways:!1,ref:this.scrollContainerRef,scrollContainerRef:this.scrollContainerInnerRef,className:oo.jG,width:this.props.width,onScroll:this.setNeedsScrollLine,initialScrollTop:this.state.pagesListInitialScrollTop||void 0},n.createElement(o_.bU,{pages:t,scrollContainer:this.scrollContainerRef.current??void 0,shouldHighlightActivePage:!this.props.isDevHandoffOverview,isComparingChanges:this.props.isComparingChanges,pageToNumChanges:this.props.pageToNumChanges,isReadOnly:this.props.isReadOnly,onContextMenu:this.props.onPageContextMenu}),a&&n.createElement("div",{className:oo.Gr},a),n.createElement(op,{setUpsellHeightCallback:this.setUpsellHeight}))))}renderObjectsPanelUi2(){let e=this.props.isLoadingPage,t=this.props.openFile?.thumbnailGuid||null;return n.createElement(i0.X,{hasPending:e,isReadOnly:this.props.isReadOnly,currentPage:this.props.currentPageGuid,onScroll:this.onObjectScroll,initialScrollTop:this.objectScrollTop,width:this.props.width,shouldShowGuids:this.props.shouldShowGuids,renamingGuid:this.state.renamingNodeGuid,startRenaming:this.startRenamingNode,stopRenaming:this.stopRenamingNode,thumbnailGuid:t,versionHistory:this.props.versionHistory})}renderObjectsPanelUi3(){let e=this.props.selectedView,t=(0,oa.P)(e),a=(0,oe.Vj)(e),r=this.props.isLoadingPage,l=this.props.openFile?.thumbnailGuid||null,i=this.state.renamingNodeGuid;if(a&&this.props.isSitesWebpagesOpen){let e=W.q.instance.get(this.state.renamingNodeGuid||"");e?.isResponsiveSet&&(i=null)}return t?null:n.createElement(n.Fragment,null,n.createElement(y.D8,{className:oo.RE,onContextMenu:this.onContextClickNothing,onClick:this.toggleLayersExpanded,role:"button",tabIndex:0,recordingKey:E.Pt(this.props,"layersCollapsedRow")},n.createElement("div",{className:u()(oo.Pz,{[oo.Rk]:!this.state.isLayersOpen})},this.state.isLayersOpen?n.createElement(s.O,null):n.createElement(c.k,null),(0,k.tx)("fullscreen.pages_panel.layers_tab"))),this.state.isLayersOpen&&n.createElement(i0.X,{hasPending:r,isReadOnly:this.props.isReadOnly,currentPage:this.props.currentPageGuid,onScroll:this.onObjectScroll,initialScrollTop:this.objectScrollTop,width:this.props.width,shouldShowGuids:this.props.shouldShowGuids,renamingGuid:i,startRenaming:this.startRenamingNode,stopRenaming:this.stopRenamingNode,thumbnailGuid:l,versionHistory:this.props.versionHistory}))}renderTabsRowUi2(e,t){return n.createElement("div",{className:oo.hv},this.props.showTabs&&n.createElement(n.Fragment,null,n.createElement(ea._,{onClick:()=>{(0,O._)(this.props.dispatch,this.props.selectedView,"overview_search_clicked"),this.showLayersPanel(),H.Y5.triggerAction("canvas-search",{source:"toolbar"})}}),n.createElement(y.Bx,{className:e===i.xae.LAYERS?oo.yR:oo.Mf,onMouseDown:this.showLayersPanel,onContextMenu:this.onContextClickNothing,"data-label":(0,k.t)("fullscreen.pages_panel.layers_tab"),recordingKey:E.Pt(this.props,"tab","layers"),innerText:"Layers"},(0,k.tx)("fullscreen.pages_panel.layers_tab")),n.createElement(y.Bx,{className:oo.dB,onMouseDown:this.showPublish,onContextMenu:this.onContextClickNothing,recordingKey:E.Pt(this.props,"tab","assets"),innerText:"Assets","data-onboarding-key":i6.Qr},n.createElement("div",{className:e===i.xae.ASSETS?oo.yR:oo.Mf,"data-label":(0,k.t)("fullscreen.pages_panel.assets_tab")},n.createElement("div",null,(0,k.tx)("fullscreen.pages_panel.assets_tab"),n.createElement(oi,null))))),!this.props.showTabs&&n.createElement("div",{className:u()(oo.m1,{[oo.R]:this.props.isComparingChanges||this.props.isDevHandoff})},n.createElement(en.Y,{onFocus:()=>{(0,O._)(this.props.dispatch,this.props.selectedView,"overview_search_clicked"),this.showLayersPanel(),H.Y5.triggerAction("canvas-search",{source:"toolbar"})}})),n.createElement(y.D8,{className:u()(oo.RM,{[oo.oq]:!this.props.showTabs,[oo._Z]:!this.props.showTabs}),onClick:e===i.xae.ASSETS?this.forcePagesExpanded:this.togglePagesExpanded,onContextMenu:this.onContextClick,recordingKey:E.Pt(this.props,"collapsedRow")},n.createElement("span",{className:oo.Im,"data-onboarding-key":"pages-panel-toggle"},this.props.currentPageName||""),n.createElement(N.B,{className:oo.ai,svg:t})))}renderTabsRowUi3(e){if(!this.props.showTabs)return null;let t=(0,ee.Uq)(this.props.selectedView),a=this.props.showRedesignedAssetsPanel&&t&&(e===i.xae.ASSETS||e===i.xae.LAYERS);return n.createElement("div",{className:oo.hv},this.props.showTabs&&n.createElement(oT,{selectedView:this.props.selectedView,activeTab:this.props.activeTab,showLayersPanel:this.showLayersPanel,showPublish:this.showPublish,showSitesBlocksPanel:this.showSitesBlocksPanel,showDakotaPanel:this.showDakotaPanel,recordingKey:this.props.recordingKey}),n.createElement("div",{className:oo.gY},e===i.xae.LAYERS&&n.createElement(ea._,{onClick:()=>{(0,O._)(this.props.dispatch,this.props.selectedView,"overview_search_clicked"),H.Y5.triggerAction("canvas-search",{source:"toolbar"})}}),!this.props.isUI3&&n.createElement(ec.K0,{"aria-label":(0,k.t)("fullscreen_actions.hide-sidebar"),onClick:this.props.toggleIsCollapsed,"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,k.t)("fullscreen_actions.hide-sidebar"),"data-tooltip-shortcut-key":"toggle-sidebar"},n.createElement(i3,null)),a&&n.createElement(eN,{recordingKey:this.props.recordingKey,entrypoint:e===i.xae.ASSETS?e0.r6.ASSETS_PANEL_BUTTON:e0.r6.LAYERS_TAB_BUTTON,hideIfNoUpdates:e===i.xae.LAYERS})))}render(){let e=this.props.openFile?this.props.activeTab:i.xae.LAYERS,t=this.props.openFile,a=this.props.isLoadingPage,r=this.props.isUI3,l=e===i.xae.LAYERS||this.props.isReadOnly,o=(0,oe.Vj)(this.props.selectedView),s=(0,ee.$A)(this.props.selectedView)||this.props.isDevHandoffOverview,c=this.state.isPagesOpen,d=!o&&l&&(!!r||c),m=this.state.isPagesOpen&&this.props.activeTab===i.xae.LAYERS?oE.A:og.A,p=this.props.pagesList.some(e=>e.pageType!==this.props.pagesList[0].pageType),_=!c||this.props.showTabs,f=i.AWq.getChunkChangeCount();return n.createElement("div",{className:u()(oo.N1,{pagesPanel:!a,[oo.$U]:!this.props.isShowingSlidesCarousel&&!this.props.ignoreVerticalFlex,[oo.NM]:this.props.isShowingSlidesCarousel})},this.props.isUI3?n.createElement(n.Fragment,null,n.createElement(R.$,null),_&&!s&&this.renderTabsRowUi3(e)):n.createElement(n.Fragment,null,s?n.createElement(os,{togglePagesExpanded:this.togglePagesExpanded,onContextClick:this.onContextClick,currentPageName:this.props.currentPageName,currentPageGuid:this.props.currentPageGuid,pageTabChevron:m,isOverview:this.props.isDevHandoffOverview}):this.renderTabsRowUi2(e,m),e===i.xae.LAYERS&&n.createElement(R.$,null)),this.props.isComparingChanges&&l&&n.createElement(n.Fragment,null,this.props.versionHistory.compareId&&n.createElement(e_.ZI,{compareId:this.props.versionHistory.compareId,versions:this.props.versionHistory.versions}),f>0&&n.createElement("div",{className:oo.hv},n.createElement(ep,null))),t&&n.createElement(et.QU,{fileKey:t.key,toggleManageMemoryModal:this.props.toggleManageMemoryModal,closeManageMemoryModal:()=>{this.props.modalShown&&this.props.modalShown.type===i4.gG.type&&this.props.dispatch(D.Ce())}}),o&&l&&n.createElement(i8.j8,{scrollContainerRef:this.scrollContainerRef,width:this.props.width,height:this.state.webpagesListHeight,defaultHeight:this.defaultHeight(!0),onScroll:this.onObjectScroll,onResize:e=>{this.setState({webpagesListHeight:e}),z.Uc("")},initialScrollTop:this.objectScrollTop,currentPageGuid:this.props.currentPageGuid,isComparingChanges:this.props.isComparingChanges,needsScrollLine:this.state.needsScrollLine,renamingNodeGuid:this.state.renamingNodeGuid,startRenamingNode:this.startRenamingNode,stopRenamingNode:this.stopRenamingNode}),d&&n.createElement("div",{onClick:e=>e.stopPropagation(),role:"none"},n.createElement("div",{className:oo.Ed},r?this.renderHeaderRowUi3(p):this.renderHeaderRowUi2(),c&&this.renderPagesList(a))),l&&!this.props.isDevHandoff&&!this.props.isDevHandoffOverview&&n.createElement("div",{className:oo.LZ},r?this.renderObjectsPanelUi3():this.renderObjectsPanelUi2()),e===i.xae.KITS_SITES&&n.createElement(i8.oT,null),e===i.xae.DAKOTA&&n.createElement("div",{className:oo.Ed},n.createElement(A.e,{width:this.props.width,height:this.state.dakotaViewHeight,defaultHeight:96,onResize:e=>{this.setState({dakotaViewHeight:e})}})),e===i.xae.ASSETS&&!this.props.isReadOnly&&n.createElement(n.Fragment,null,this.props.showRedesignedAssetsPanel?this.renderAssetPanelUi3():this.renderAssetPanelUi2()))}}function oT(e){let{activeTab:t,selectedView:a,showLayersPanel:r,showSitesBlocksPanel:l,showPublish:s,showDakotaPanel:c,recordingKey:d}=e,u=(0,oe.Vj)(a),m=(0,L.U9)()&&u,p=(0,P.ow)(),_=i.xae.LAYERS.toString(),f=i.xae.KITS_SITES.toString(),h=i.xae.ASSETS.toString(),g=i.xae.DAKOTA.toString(),[y,v]=o.tU.useManagedTabs({[_]:!0,[f]:u,[h]:!p,[g]:m},t.toString(),e=>{switch(parseInt(e)){case i.xae.LAYERS:r();break;case i.xae.KITS_SITES:l();break;case i.xae.ASSETS:s();break;case i.xae.DAKOTA:c();break;default:(t=>{throw Error("Unhandled tab behavior: "+e)})(0)}},{recordingKey:E.Pt(d,"tabs")});return n.createElement("div",{className:oo.Vb,onContextMenu:e=>{e.preventDefault(),e.stopPropagation()}},n.createElement(o.tU.TabStrip,{manager:v},n.createElement(o.tU.Tab,{...y[_]},(0,k.tx)("fullscreen.pages_panel.file_tab")),n.createElement(o.tU.Tab,{...y[f],htmlAttributes:{"data-testid":"kitsSitesTab"}},(0,k.tx)("fullscreen.pages_panel.resources_tab")),n.createElement(o.tU.Tab,{...y[h],onboardingKey:i6.Qr},(0,k.tx)("fullscreen.pages_panel.assets_tab")),n.createElement(o.tU.Tab,{...y[g]},(0,k.tx)("fullscreen.pages_panel.dakota_tab"))))}function oS(e){let t=(0,l.d4)(e=>e.modalShown),a=t&&t.type===i4.gG.type,r=(0,l.wA)(),o=n.useCallback(()=>{let{memoryUsedPercent:t}=(0,Z.IJ)();(0,m.sx)("toggle_manage_memory_modal",{memoryUsedPercent:t,totalLayers:i.CeL?.getFileNodeCount(),pageContentPct:t-(0,Z.Zz)()}),a?r(D.Ce()):r(D.to({type:i4.gG,data:{sidePanelWidth:e.width,markModalClosed:()=>{}}}))},[r,a,e.width]),s=(0,Q.J2)(i.Ez5.uiState().isRecovery),c=(0,n.useRef)(!1);return n.useEffect(()=>{!s||a||c.current||(c.current=!0,o(),i.Ez5?.uiState().showMemoryUsage.set(!0))},[s,a,o]),n.createElement(ow,{...e,toggleManageMemoryModal:o})}function oN({width:e,isReadOnly:t,pagesList:a,activeTab:r,showTabs:o,hasTeamLibraryUpdates:s,isDevHandoff:c,isShowingSlidesCarousel:d,isDevHandoffOverview:u,onPageContextMenu:m,disableCollapsing:p,isComparingChanges:_,pageToNumChanges:f,recordingKey:h,ignoreVerticalFlex:E}){let y=(0,Q.J2)((0,V.UK)().showGuids),v=(0,l.wA)(),b=(0,Y._Z)(),C=(0,g.md)(of.aN),w=(0,F.GS)(),T=(0,tB.M)()&&w,S=(0,Q.J2)(i.Ez5.editorState().selectionEmpty),N=(0,J.iZ)(),x=(0,n4.lV)(),k=(0,X.q5)(),I=(0,l.d4)(e=>e.versionHistory),A=(0,q._6)(),L=(0,l.d4)(e=>e.fileVersion),O=(0,l.d4)(e=>e.teams),R=(0,l.d4)(e=>e.loadingState),M=(0,l.d4)(e=>e.modalShown),D=(0,j.Um)(),P=(0,K.dh)(),B=(0,K.nn)(),U=(0,i9.OT)(),G=(0,g.md)(i7.h0),[z]=(0,g.fp)(of.l7);(0,oh.U)();let[W,Z]=n.useState(!1);return n.useEffect(()=>{w&&!S&&Z(!0)},[S,w]),n.createElement(oS,{versionHistory:I,user:N,width:e,isReadOnly:t,currentPageGuid:P,currentPageName:B,pagesList:a,activeTab:r,showTabs:o,hasTeamLibraryUpdates:s,isDevHandoff:c,isDevHandoffOverview:u,disableCollapsing:p,isComparingChanges:_,isShowingSlidesCarousel:d,pageToNumChanges:f,openFile:k,selectedView:A,fileVersion:L,teams:O,loadingState:R,modalShown:M,dropdownShown:D,recordingKey:h,shouldShowGuids:y,dispatch:v,isLoadingPage:b.isLoading,isPagesOpenOverride:C,isLayersOpenOverride:W,isUI3:w,toggleIsCollapsed:()=>H.Y5.triggerAction("toggle-sidebar",{source:"pages-panel"}),showRedesignedAssetsPanel:T,markAssetPanelLoadingStart:x,publishableCanvasId:U,isSitesWebpagesOpen:G,onPageContextMenu:m,renamingPageId:z,ignoreVerticalFlex:E})}ow.displayName="PagesPanelView"},412371:(e,t,a)=>{a.d(t,{K:()=>d,g:()=>u});var n=a(411855),r=a(188507),l=a(374626),i=a(738269),o=a(259927),s=a(187882),c=a(653671);function d(){let e=(0,r.wA)();return(0,n.useCallback)(({nodeId:t,clientX:a,clientY:n})=>{e((0,i.j7)({type:o.SA,data:{clientX:a,clientY:n,pageId:t}}))},[e])}function u({pagesList:e,shouldShowDuplicateOption:t=!0}){let a=(0,r.wA)(),[d,u]=(0,l.fp)(c.cE);return(0,n.useCallback)(({nodeId:n,clientX:r,clientY:l})=>{let c=new Set(e.map(e=>e.nodeId)),m=d.filter(e=>c.has(e));m.length>0&&!m.includes(n)&&c.has(n)&&(m.push(n),u(m));let p=(()=>{if(m.length>0){let t=(0,s.Pe)(e);return[...m].sort((e,a)=>t[e]-t[a])}return[n]})();0!==p.length&&a((0,i.j7)({type:o.d2,data:{clientX:r,clientY:l,pageIds:p,shouldShowDuplicateOption:t}}))},[d,a,e,u,t])}},173521:(e,t,a)=>{a.d(t,{U:()=>p});var n=a(411855),r=a(188507),l=a(866206),i=a(939683),o=a(625651),s=a(356390),c=a(177505),d=a(341860),u=a(335682),m=a(140871);function p(){let e=(0,u.q5)(),t=window.FigmaMobile,a=(0,c.rE)(),p=(0,m.C3)(),_=(0,r.wA)(),f=(0,i.am)(),h=p?(0,l.oA)(p.pageNodeId):void 0;(0,n.useEffect)(()=>{t&&(t._select_page=async e=>{h===e&&_(o.au({})),await d.q.instance.setCurrentPageAsync(e)})},[_,t,h]),(0,n.useEffect)(()=>{t&&(t._rename_page=(t,a)=>{(0,c.CQ)({openFile:e,pageId:t,newName:a,trackRenamePage:()=>f("page_commit_rename",{nodeId:t},{forwardToDatadog:!0})})})},[t,e,f]),(0,n.useEffect)(()=>{t&&(t._delete_page=e=>{s.Y5.triggerActionInUserEditScope("page-delete",{args:{nodeId:e}}),s.Y5.commit()})},[t]),(0,n.useEffect)(()=>{t&&(t._create_page=()=>{a(null)})},[t,a])}},777804:(e,t,a)=>{a.d(t,{k:()=>o});var n=a(411855),r=a(646240),l=a(132572),i=a(719624);function o(e){let t=(0,r.Xr)(i.Sf);n.useEffect(()=>((0,l.AL)()&&t(e),()=>{(0,l.AL)()&&t(null)}),[e,t])}},436749:(e,t,a)=>{a.d(t,{_:()=>o});var n=a(411855),r=a(55360);function l(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8.207 3.793a1 1 0 0 0-1.414 0l-3 3a1 1 0 0 0 0 1.414l3 3a1 1 0 0 0 1.414 0l3-3a1 1 0 0 0 0-1.414l-3-3ZM4.5 7.5l.707.707 1.586 1.586.707.707.707-.707 1.586-1.586.707-.707-.707-.707-1.586-1.586L7.5 4.5l-.707.707-1.586 1.586L4.5 7.5Zm12 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7ZM19 7.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM16.5 13a.5.5 0 0 1 .5.5V16h2.5a.5.5 0 1 1 0 1H17v2.5a.5.5 0 1 1-1 0V17h-2.5a.5.5 0 0 1 0-1H16v-2.5a.5.5 0 0 1 .5-.5ZM11 15a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h3a2 2 0 0 0 2-2v-3Zm-6 0a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-3Z",clipRule:"evenodd"}))}var i=a(239737);function o(){return(0,i.vh)()?n.createElement(r.P,null):n.createElement(l,null)}},13894:(e,t,a)=>{a.d(t,{b:()=>n,y:()=>r});var n=(e=>(e.RECENTS="recents",e.DESIGN_TOOLS="design_tools",e.RIFFING_AND_WRITING="riffing_and_writing",e.IMAGE_EDITING="image_editing",e.COLLABORATION_TOOLS="collaboration_tools",e.HANDOFF_TOOLS="handoff_tools",e.VIEWER_TOOLS="viewer_tools",e.SUGGESTIONS="suggestions",e.COMMON_SETTINGS="common_settings",e))(n||{});let r="QUICK_ACTIONS"},477759:(e,t,a)=>{a.d(t,{J:()=>eg});var n,r=a(411855),l=a(188507),i=a(629019),o=a.n(i),s=a(939683),c=a(192437),d=a(493323),u=a(939863),m=a(74505),p=a(809511),_=a(457630);function f(e){let t=e.mirror.sceneGraph,a=e.mirror.sceneGraphSelection;if(1!==Object.keys(a).length)return null;let n=t.get(Object.keys(a)[0]);return n&&"MEDIA"===n.type?n:null}var h=a(434192),g=a(77909);function E(e,t){let a={};return a.useValue=function(n){if(t&&a[n]&&t(n,a[n])&&delete a[n],!a[n]){let t=(0,g.v)();e(n).then(e=>t.resolve(e)).catch(e=>t.reject(e)),a[n]={deferred:t,created:Date.now()}}let{deferred:r}=a[n];switch(r.status){case"pending":throw r.promise;case"rejected":throw r.error;case"resolved":return r.result}},a}var y=a(356390),v=a(15859);let b=E(C);async function C(e){let t=await (0,h.doWithRetry)(()=>w(e),10,1e3);return await new Promise((a,n)=>{let r=new Image;r.crossOrigin="anonymous",r.addEventListener("load",a),r.addEventListener("error",t=>{n(t.type+" loading the image with hash "+e)}),r.src=t}),t}async function w(e){let t=(await (0,v.Mj)([e],await y.Y5.openFilePromise()))[e];if(!t)throw Error("Couldn't resolve image URL from server");return t}var T=a(346124),S=a(998917),N=a(941670),x=a(538649),k=a(978488),I=a(43604),A=a(511617),L=a(157663),O=a(988652),R=a(794272),M=a(374626),D=a(563706),P=a(913016),F=a(30090),B=a(46481),U=a(259927),H=a(498606),G=a(754168);let V=E(z,(n=(e,t)=>Date.now()-t.created>6e4,(e,t)=>!t.deferred.result&&n(e,t)));async function z(e){return await (0,h.doWithRetry)(()=>K(e),20,1e3)}async function K(e){let t=await W(e);if(!t)throw Error("Couldn't resolve video URL from server");return t}async function W(e){let t=await y.Y5.openFilePromise();if("figFile"!==t.type)throw Error("Unsupported file");try{let a=await G.S.getVideosDownload({fileKey:t.fileKey,hexHash:e});if(200!==a.status||a.data.error)throw Error("api error while resolving video");return a.data.meta.signed_url}catch(t){throw console.warn(`Couldn't download video with hash ${e}`),t}}let j=1/15;var Z=a(70337);let Y="rich_media_overlay--loadingFallback---qUKd",X="rich_media_overlay--videoControlButton--syGqZ",q="rich_media_overlay--videoButtonIcon--13t7r",J="rich_media_overlay--videoButtonMaximizedScale--8Hkj5",Q="rich_media_overlay--croppedClipPath--BeUH-";var $=a(68710),ee=a(10448),et=a(114843),ea=a(552601);let en={BUTTON_SHAPE_FILL:"#FFFFFF",BUTTON_BG_FILL:"#000000",BUTTON_STROKE_OPACITY:.2,BUTTON_BG_FILL_OPACITY:.7,BUTTON_BG_FILL_HOVER_OPACITY:.9};function er(e){if(null==e||Number.isNaN(e))return"";let{seconds:t,minutes:a}=(0,P._d)(e);return`${a}:${String(t).padStart(2,"0")}`}function el(e,t){e&&(t?(e.play(),D.Ay.safari&&(e.currentTime=.1)):eo(e)?e.pause():(D.Ay.safari&&e.currentTime>.1&&(e.currentTime-=.1),e.play()))}let ei=(0,r.memo)(({mediaHash:e,isMaximized:t,setIsMaximized:a})=>{let n=V.useValue(e),l=(0,s.am)(),i=(0,r.useRef)(null),[c,d,u,m]=function(){let[e,t]=r.useState(!1),a=r.useRef(null),n=()=>t(!0),l=()=>t(!1);return r.useEffect(()=>{let e=a.current;if(e)return e.addEventListener("mousemove",n),e.addEventListener("mouseleave",l),()=>{e.removeEventListener("mousemove",n),e.removeEventListener("mouseleave",l)}},[a.current]),[r.useCallback(e=>{if(null!==a.current){let e=a.current;e&&(e.removeEventListener("mousemove",n),e.removeEventListener("mouseleave",l))}if(a.current=e,null!==a.current){let e=a.current;e&&(e.addEventListener("mousemove",n),e.addEventListener("mouseleave",l))}},[]),a,e,t]}(),p=r.useRef(null),_=r.useRef(!1),f=(0,R.R)(e=>e.openFile?.key)||"",h=(0,M.md)(Z.v),[g,E]=(0,r.useState)(!1);return r.useEffect(()=>{h&&l("figjam_video_started_playing",{mediaHash:e})},[l,e,h]),r.useEffect(()=>{_.current||(_.current=!0,async function(){window.VIDEOJS_NO_DYNAMIC_STYLE=!0;let t=await (0,F.Fe)();if(p.current)return;let a=d.current;null!==a&&(a.style.height="100%",a.style.width="100%",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",p.current=t.videoJs(a,{muted:!1,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},async()=>{try{let t=`/api/files/${f}/videos/${e}/manifest`;await (0,F.uz)(t,!0,p.current)}catch{p.current&&(L.k.warn("Reverting to fallback video source"),p.current.src({type:"video/mp4",src:n}))}}))}())},[f,e,d,n]),(0,r.useEffect)(()=>{l("figjam_video_selected",{mediaHash:e})},[l,e]),r.createElement("div",{className:"rich_media_overlay--videoContainer--oC3oc",ref:i},r.createElement("div",{className:o()("rich_media_overlay--clippedVideo--JljnC",t?"rich_media_overlay--noClipPath--ZooJK":Q)},r.createElement("video",{ref:c,crossOrigin:"anonymous",autoPlay:h&&!D.Ay.safari,className:o()("rich_media_overlay--video--O6uP2",t&&U.s4,t&&"rich_media_overlay--maximizedVideoBg--FUhbn"),onMouseUp:function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur()},controls:D.Ay.isIpad&&t,onClick:function(){t&&el(d.current,g)}})),r.createElement(es,{videoRef:d,videoContainerRef:i,isMaximized:t,setIsMaximized:a,isVideoHovered:u,setIsVideoHovered:m,didAutoplayOnSelection:h,mediaHash:e,hasEnded:g,setHasEnded:E}))});function eo(e){return!!e&&!e.ended&&!e.paused&&e.currentTime>0&&e.readyState>2}function es({videoRef:e,isMaximized:t,setIsMaximized:a,isVideoHovered:n,videoContainerRef:l,setIsVideoHovered:i,didAutoplayOnSelection:c,mediaHash:u,hasEnded:m,setHasEnded:p}){let[h,g]=(0,r.useState)(0),E=(0,r.useRef)(!1),y=(0,r.useRef)(c),[v,b]=(0,r.useState)(null),[C,w]=(0,r.useState)(!1),[T,S]=(0,r.useState)(!1),N=(0,s.am)(),[x,k]=(0,O.M)(),[I,L]=(0,O.M)(),P=function(){let[e,t]=(0,r.useState)(!0),a=(0,R.R)(f),n=(0,_.qc)((0,_._X)({subscribeToUpdates_expensive:!1}));return(0,r.useEffect)(()=>{let e=0,r=a?.size;r&&(e=r.x*r.y),t(e/(n.height*n.width)<j)},[a?.size,n.height,n.width]),e}(),F=function(){let[e,t]=(0,r.useState)(!0),a=(0,R.R)(f),n=(0,_._X)({subscribeToUpdates_expensive:!1}),l=a?.size;return(0,r.useEffect)(()=>{l&&t(l.x*n.zoomScale<96||l.y*n.zoomScale<96)},[l,n.zoomScale]),e}(),B=(0,r.useRef)(!1),[H,G]=(0,M.fp)(Z.H),{isVideoNodeHovered:V,pointerDownOnVideo:z}=H,K=(0,r.useRef)(!1),W=t&&(n||L),X=v||e.current?.currentTime,q=e.current?.duration,J=eo(e.current),$=(0,r.useRef)(void 0),ee=(0,r.useRef)(void 0);(0,r.useEffect)(()=>{let e=(D.Ay.isIpad?z:V)||k||W||!J||m||B.current;S(e),clearTimeout($?.current),e&&($.current=setTimeout(()=>{m||!J||k||B.current||(S(!1),i(!1),G({isVideoNodeHovered:!1,pointerDownOnVideo:!1}))},3e3))},[m,W,J,V,k,i,G,z]);let et=(0,r.useCallback)(()=>{g(e=>e+1)},[]);(0,r.useEffect)(()=>{if(!e.current||!l.current)return;function n(){et()}function r(){B.current=!1}function i(){B.current=!1,p(!1)}function o(){p(!1),et()}function s(){B.current=!0}function c(){a(!t)}function d(){C||p(!0),et()}let u=e.current,m=l.current;return u.addEventListener("playing",o),u.addEventListener("canplay",n),u.addEventListener("ended",d),u.addEventListener("timeupdate",n),u.addEventListener("seeking",s),u.addEventListener("seeked",i),u.addEventListener("stalled",r),m.addEventListener(A.R7.fullscreenChangeEventName,c),()=>{u?.removeEventListener("playing",o),u?.removeEventListener("canplay",n),u?.removeEventListener("ended",d),u?.removeEventListener("timeupdate",n),u?.removeEventListener("seeking",s),u?.removeEventListener("seeked",i),u?.removeEventListener("stalled",r),m?.removeEventListener(A.R7.fullscreenChangeEventName,c)}},[t,C,et,p,a,l,e]);let ea=(0,r.useCallback)(()=>{e.current&&(!1===y.current&&(y.current=!0,N("figjam_video_started_playing",{mediaHash:u})),el(e.current,m),et())},[m,u,et,N,e]),en=(0,r.useCallback)(()=>{e.current&&(E.current=eo(e.current)||m,e.current.pause())},[m,e]),ei=(0,r.useCallback)(()=>{e.current&&(E.current&&e.current.play(),ee.current&&(e.current.currentTime=ee.current),b(null),ee.current=void 0)},[e]),es=(0,r.useCallback)(t=>{if(e.current){if(B.current){ee.current=t;return}e.current.currentTime=t}},[e]),eu=r.createElement(ep,{togglePlay:ea,hasEnded:m,isPlaying:J,shouldShowVideoControls:T,isMaximized:t});return(!e.current||2>(e.current?.readyState||0))&&!K.current?r.createElement("div",{className:o()(Y,Q,"rich_media_overlay--videoLoadingState--bxjOn")},r.createElement(d.kt,{size:"large"})):(K.current=!0,D.Ay.isIpad&&t)?null:P?T&&!F?eu:null:r.createElement(r.Fragment,null,v?null:eu,r.createElement("div",{className:o()(U.Uu,"rich_media_overlay--videoControls--Zyzyj",!T&&"rich_media_overlay--videoControlsHidden--BM1Cp"),ref:I},r.createElement("div",{className:"rich_media_overlay--videoTime--nsc6o"},er(X)," / ",er(q)),r.createElement(em,{currentTime:X||0,totalTime:q||0,onScrubStart:en,onScrub:b,onScrubEnd:ei,onVideoPositionUpdated:es,hasEnded:m,isScrubbing:C,setIsScrubbing:w}),r.createElement("div",{className:"rich_media_overlay--videoRightControls--N0YPD"},r.createElement(ec,{isMaximized:t,toggleFullscreen:function(){if(t||document.fullscreenElement)A.R7.exitFullscreenFunc();else if(D.Ay.isIpad){let t=e.current;t&&t.webkitEnterFullscreen&&t.webkitEnterFullscreen()}else{let e=l.current;e&&A.R7.requestFullscreenFunc.call(e)}}}),r.createElement(ed,{rerender:et,videoRef:e,volumeHoverRef:x}))))}function ec({isMaximized:e,toggleFullscreen:t}){let a=e?r.createElement(N.p,{className:q}):r.createElement(x.O,{className:q});return r.createElement("div",null,r.createElement(S.E,{onClick:t,className:X,htmlAttributes:{"data-tooltip":e?(0,u.t)("whiteboard.video.minimize_tooltip"):(0,u.t)("whiteboard.video.fullscreen_tooltip"),"data-tooltip-type":H.Ib.TEXT}},r.createElement("span",{"aria-hidden":!0},r.createElement(B.U,{svg:e?ea.A:et.A},a))))}function ed({rerender:e,videoRef:t,volumeHoverRef:a}){let[n,l]=(0,r.useState)(!1),i=(0,r.useRef)(1),[s,c]=(0,r.useState)(t.current?.volume||1),d=0===s,m=n&&!D.Ay.isIpad,p=(0,r.useCallback)(()=>{t.current&&(t.current.muted?(t.current.muted=!1,t.current.volume=i.current,c(i.current)):(t.current.volume>0&&(i.current=t.current.volume),t.current.muted=!0,c(0)),e())},[e,t]),_=d?r.createElement(k.P,{className:q}):r.createElement(I.L,{className:q});return r.createElement("div",{ref:a},r.createElement(S.E,{onClick:p,className:o()(X,"rich_media_overlay--lastVideoControl--pU-xF",m&&"rich_media_overlay--selectedVolumeControlButton--IR-FO"),htmlAttributes:{onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),"data-tooltip":d?(0,u.t)("whiteboard.video.unmute_tooltip"):(0,u.t)("whiteboard.video.mute_tooltip"),"data-tooltip-type":H.Ib.TEXT}},r.createElement("span",{"aria-hidden":!0},r.createElement(B.U,{svg:d?ee.A:$.A},_))),m?r.createElement(eu,{volume:s,handleChange:e=>{let a=e.target.valueAsNumber;t.current&&(t.current.volume=a,t.current.muted=0===a),c(a)},setIsHovered:l}):null)}function eu({handleChange:e,setIsHovered:t,volume:a}){let n=100*a,l=(0,r.useRef)(null);return r.createElement("div",{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),className:"rich_media_overlay--volumeContainer--Wb1Hq"},r.createElement("div",{className:"rich_media_overlay--volumeBox--qpdbu"},r.createElement("input",{className:o()("rich_media_overlay--volumeSliderInput--W1-jD",U.Dm,U.Uu),style:{background:`linear-gradient(to right,var(--active-slider-color) 0%,var(--active-slider-color) ${n}%,var(--inactive-slider-color) ${n}%,var(--inactive-slider-color) 100%)`},type:"range",min:0,max:1,step:.02,value:a,onChange:e,onKeyDown:function(e){e?.key==="Escape"&&t(!1)},onMouseUp:function(){l.current instanceof HTMLInputElement&&l.current.blur()},ref:l})))}function em({currentTime:e,totalTime:t,hasEnded:a,onVideoPositionUpdated:n,onScrubStart:l,onScrub:i,onScrubEnd:o,isScrubbing:s,setIsScrubbing:c}){let[d,u]=(0,r.useState)(!1),m=(0,r.useRef)(null),p=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(s&&p.current)return document.addEventListener("pointermove",e),document.addEventListener("pointerup",a),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("pointerup",a)};function e(e){if(!p.current)return;let a=e.clientX,{minX:r,maxX:l}=p.current,o=(0,T.clamp)(0,(a-r)/(l-r)*t,t);p.current.newTime=o,i(o),n(p.current.newTime)}function a(){p.current&&(n(p.current.newTime),c(!1),o(),p.current=null,document.activeElement instanceof HTMLElement&&document.activeElement.blur())}},[s,i,o,n,c,t]);let _=Math.min(e/t*100,100),f=_>0?8:0;return D.Ay.safari&&a&&(_=100),r.createElement("div",{className:"rich_media_overlay--videoTimeScrubberContainer--PnJdg",onPointerEnter:()=>u(!0),onPointerLeave:()=>u(!1)},r.createElement("div",{role:"progressbar",tabIndex:0,className:"rich_media_overlay--videoTimeScrubber--9PES-",onPointerDown:e=>{if(!m.current)return;e.stopPropagation(),c(!0),l();let a=m.current.getBoundingClientRect(),r=a.x,i=a.x+a.width,o=e.clientX,s=(0,T.clamp)(0,(o-r)/(i-r)*t,t);n(s),p.current={minX:r,maxX:i,originX:e.clientX,newTime:s}}},r.createElement("div",{className:"rich_media_overlay--videoTimeScrubberBackground--6Aulh",ref:m}),r.createElement("div",{className:"rich_media_overlay--videoTimeScrubberProgress--73GkN",style:{width:`${_}%`}}),(d||s)&&r.createElement("div",{className:"rich_media_overlay--videoTimeScrubberNub--9iFdo",style:{left:`calc(${_}% - ${f}px)`},onPointerDown:t=>{if(!m.current)return;t.stopPropagation(),c(!0),l();let a=m.current.getBoundingClientRect();p.current={minX:a.x,maxX:a.x+a.width,originX:t.clientX,newTime:e}},role:"button",tabIndex:0})))}function ep({shouldShowVideoControls:e,togglePlay:t,hasEnded:a,isPlaying:n,isMaximized:l}){let[i,s]=(0,O.M)(),c=s?en.BUTTON_BG_FILL_HOVER_OPACITY:en.BUTTON_BG_FILL_OPACITY;return r.createElement("button",{ref:i,className:o()(U.Uu,"rich_media_overlay--videoButton--WB1tD",!e&&"rich_media_overlay--videoButtonHidden--7x6yl"),onPointerDown:function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),t()}},r.createElement(a?e_:n?eh:ef,{fillOpacityForBackground:c,isMaximized:l}))}function e_({fillOpacityForBackground:e,isMaximized:t}){return r.createElement("svg",{className:o()(t&&J),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",fill:en.BUTTON_BG_FILL,fillOpacity:e}),r.createElement("path",{d:"M34 24C34 18.4772 29.7175 14 24.4348 14C20.5763 14 17.2515 16.3884 15.7391 19.8282V14H14V22.1818H21.8261V20.3636H17.4222C18.7028 17.6696 21.362 15.8182 24.4348 15.8182C28.757 15.8182 32.2609 19.4813 32.2609 24C32.2609 28.5187 28.757 32.1818 24.4348 32.1818C21.362 32.1818 18.7028 30.3304 17.4222 27.6364H15.5216C16.9131 31.3612 20.3792 34 24.4348 34C29.7175 34 34 29.5228 34 24Z",fill:en.BUTTON_SHAPE_FILL}),r.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:en.BUTTON_BG_FILL,strokeOpacity:en.BUTTON_STROKE_OPACITY}))}function ef({fillOpacityForBackground:e,isMaximized:t}){return r.createElement("svg",{className:o()(t&&J),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{clipPath:"url(#clip0_403_4259)"},r.createElement("rect",{width:"48",height:"48",rx:"24",fill:en.BUTTON_BG_FILL,fillOpacity:e}),r.createElement("path",{d:"M19 34V14L35 24L19 34Z",fill:en.BUTTON_SHAPE_FILL})),r.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:en.BUTTON_BG_FILL,strokeOpacity:en.BUTTON_STROKE_OPACITY}),r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_403_4259"},r.createElement("rect",{width:"48",height:"48",rx:"24",fill:en.BUTTON_BG_FILL}))))}function eh({fillOpacityForBackground:e,isMaximized:t}){return r.createElement("svg",{className:o()(t&&J),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{clipPath:"url(#clip0_1_16)"},r.createElement("rect",{width:"48",height:"48",rx:"24",fill:en.BUTTON_BG_FILL,fillOpacity:e}),r.createElement("path",{d:"M15 15H21V33H15V15Z",fill:en.BUTTON_SHAPE_FILL}),r.createElement("path",{d:"M27 15H33V33H27V15Z",fill:en.BUTTON_SHAPE_FILL})),r.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:en.BUTTON_BG_FILL,strokeOpacity:en.BUTTON_STROKE_OPACITY}),r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_1_16"},r.createElement("rect",{width:"48",height:"48",rx:"24",fill:en.BUTTON_BG_FILL}))))}let eg=r.memo(function(){let e=(0,l.d4)(f);return e&&e.richMediaInfo&&r.createElement(eE,{key:e.richMediaInfo.mediaHash,nodeGuid:e.guid,mediaHash:e.richMediaInfo.mediaHash,mediaType:e.richMediaInfo.richMediaType})}),eE=r.memo(function(e){let{nodeGuid:t,mediaHash:a,mediaType:n}=e,l=r.useRef(null),i=r.useRef(null),s=(0,_._X)({subscribeToUpdates_expensive:!0}),[d,u]=r.useState(!1);return r.useEffect(()=>{let e=(0,m.EE)("rich-media",[t],e=>{i.current=e.position,eC(l,s,i,d)});return i.current=e.currentNodePosition[t]?.position||null,eC(l,s,i,d),()=>{(0,m.lB)("rich-media")}},[t,s,d]),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,className:o()("rich_media_overlay--richMediaOverlay--G9rnR",{"rich_media_overlay--maximizedMediaPositioner--vewL5":d})},r.createElement(c.tH,{fallback:r.createElement(ev,{mediaType:n,mediaHash:a}),boundaryKey:"Video"},r.createElement(r.Suspense,{fallback:r.createElement(ey,null)},"ANIMATED_IMAGE"===n&&r.createElement(eb,{mediaHash:a}),"VIDEO"===n&&r.createElement(ei,{mediaHash:a,setIsMaximized:u,isMaximized:d})))))});function ey(){return r.createElement("div",{className:o()(Y,Q)},r.createElement(d.kt,{size:"large"}))}function ev({mediaHash:e,mediaType:t}){let a=(0,u.tx)("whiteboard.gif.failed_to_load");return"VIDEO"===t&&(a=(0,u.tx)("whiteboard.video.failed_to_load"),p.tHB.isVideoBeingUploaded(e)&&(a=(0,u.tx)("whiteboard.video.still_uploading"))),r.createElement("div",{className:o()(Y,Q)},r.createElement("div",{className:"rich_media_overlay--errorText--upGwm text--fontNeg16--JtecD text--_fontBase--QdLsd text--_negText--j9g-L"},a))}function eb({mediaHash:e}){let t=b.useValue(e),a=(0,s.am)();return r.useEffect(()=>{a("figjam_gif_started_playing")},[a]),r.createElement("img",{crossOrigin:"anonymous",style:{height:"100%",backgroundColor:"white",width:"100%"},src:t,alt:"",className:Q})}function eC(e,t,a,n){if(!e.current||!t||!a.current)return;let r=e.current;if(n)r.style.position="fixed",r.style.height="auto",r.style.width="auto",r.style.transform="none",r.style.pointerEvents="all";else{let e=a.current,n=(0,_.Yb)(t,e);r.style.height=`${n.height}px`,r.style.width=`${n.width}px`,r.style.transform=`translate(${n.x+t.x}px, ${n.y+t.y}px) rotate(${e.angle}deg)`,r.style.transformOrigin="top left"}}},135298:(e,t,a)=>{a.d(t,{j:()=>C});var n=a(411855),r=a(188507),l=a(39108),i=a(629019),o=a.n(i),s=a(153234),c=a(939863),d=a(103907),u=a(226055),m=a(728325),p=a(356390),_=a(779709),f=a(498606),h=a(279145),g=a(233890),E=a(368702),y=a(861717),v=a(334290),b=a(157147);function C(){let e=(0,u.GS)(),t=s.Pt("toolbarView",b.ec.recordingKey);return e?n.createElement(w,{recordingKey:t}):n.createElement(v.jX,{recordingKey:t})}function w({recordingKey:e}){let t=(0,n.useRef)(null),a=(0,r.d4)(e=>(0,h.Yh)(e.mirror.appModel,b.ec.action)&&!!e.openFile),i=(0,r.d4)(e=>e.mirror.appModel.currentTool===b.ec.tool),s=(0,d.n6)(),u=_.z4.getIsExtension();(0,n.useEffect)(()=>{!i&&t.current&&t.current===document.activeElement&&g.F2.focusCustomCanvasFocusElement()},[i,t]),(0,n.useEffect)(()=>{if(a&&i){let e=!0;return(0,E.W)("right",()=>{e&&p.Y5.triggerAction("set-tool-default")}),()=>{e=!1}}},[a,i]);let v=!u&&s>0;return n.createElement(y.Z,{tooltip:{type:f.Ib.LOOKUP,key:b.ec.action,ariaLabel:(0,c.t)(v?"fullscreen.accessibility.view_comments_with_unreads":"fullscreen.accessibility.view_comments")},isActive:i,onClick:function(e){if(!a)return;let n=e.nativeEvent instanceof KeyboardEvent;i?(p.Y5.triggerAction("set-tool-default"),n&&t.current?.focus()):m.VU.get(b.ec.action,"toolbar")(e)},recordingKey:e,onboardingKey:b.ec.onboardingKey,disabled:!a,dataTestId:b.ec.action,ref:t},n.createElement("div",{className:o()("figjam_comments_toolbar_item--iconContainer--4S5T1",{"figjam_comments_toolbar_item--withUnreadIndicator--JLSN4":v})},n.createElement("div",{className:"figjam_comments_toolbar_item--iconMask--a0fae"},n.createElement(l.f,null))))}},209234:(e,t,a)=>{a.d(t,{P:()=>p});var n=a(411855),r=a(629019),l=a.n(r),i=a(522739),o=a(574176),s=a(672517),c=a(516398),d=a(498606),u=a(136297);let m=(0,n.memo)(function(e){let{tooltipText:t,isActive:a,onClick:r,recordingKey:s,addLeftMargin:m,dataElementTarget:p,onboardingKey:_,disabled:f,dataTestId:h}=e,g="text"in e&&!!e.text,E=l()((0,u.M)(!f,a),{"figjam_toolbar_item_ui2--toolButtonWithText--MYCBd":g,"figjam_toolbar_item_ui2--toolButtonContainer--oJdfs":!0,"figjam_toolbar_item_ui2--toolButtonContainerWithMargin--EaCDo":m});return n.createElement(i.GG,{className:l()(E,"figjam_toolbar_item_ui2--iconButton--v3qiH toolbar_view--iconButton--1MUm6"),"data-tooltip-type":d.Ib.TEXT,"data-testid":h,"data-tooltip":t,"data-element-target":p,onKeyDown:e=>(0,c.hx)({e,onClickHandler:r}),onClick:r,recordingKey:s,tabIndex:0,"aria-label":t,"aria-pressed":a,"data-fullscreen-intercept":!0,"data-onboarding-key":_,disabled:f},"icon"in e&&n.createElement(o.B,{svg:e.icon}),g&&n.createElement("div",null,e.text),"children"in e&&n.createElement(n.Fragment,null,e.children))}),p=(0,s.tf)(m)},371026:(e,t,a)=>{a.d(t,{Z:()=>ep});var n=a(411855),r=a(188507),l=a(998917);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M14.447 8.224a.5.5 0 1 0-.894-.447l-4 8a.5.5 0 1 0 .894.447l4-8Zm1.724 8.152a.5.5 0 0 0 .705-.047l3.5-4a.5.5 0 0 0 0-.658l-3.5-4a.5.5 0 0 0-.752.658L19.336 12l-3.212 3.67a.5.5 0 0 0 .047.706ZM7.829 7.624a.5.5 0 0 0-.705.047l-3.5 4a.5.5 0 0 0 0 .658l3.5 4a.5.5 0 1 0 .752-.658L4.664 12l3.212-3.672a.5.5 0 0 0-.047-.705Z",clipRule:"evenodd"}))}var o=a(629019),s=a.n(o),c=a(374626),d=a(153234),u=a(30637),m=a(574176),p=a(73279),_=a(939863),f=a(392592),h=a(332034),g=a(256975),E=a(910741),y=a(320063),v=a(531319),b=a(931828),C=a(226055),w=a(456104),T=a(397065),S=a(340514),N=a(746806),x=a(601538),k=a(463546),I=a(304815);function A(){let e=(0,g.U4)(),t=(0,v.R_)(),a=(0,c.md)(I.a),l=(0,c.md)(I.d),{show:i,isShowing:o,complete:s}=(0,w.e)({overlay:k.hQM,priority:T.N.HIGH_PRIORITY_MODAL},[a,l]),d=(0,E.bZ)(),u=(0,r.wA)(),m=(0,n.useCallback)(()=>{e&&!t&&i({canShow:(e,t)=>!!e&&!t})},[e,t,i]);(0,y.h)(()=>{m()});let p=n.useCallback(()=>{s(),u(b.b({dev_mode_seen_paywall_reminder:!0,dev_mode_should_see_paywall_reminder:!1}))},[s,u]);return(0,n.useEffect)(()=>{o&&t&&p()},[o,p,t]),n.createElement(S.rq,{isShowing:o,targetKey:(0,C.GS)()?x.ON:h.e,shouldCenterArrow:N.EL.BEST_EFFORT,trackingContextName:"Dev Mode Paywall Closed Design Mode Reminder Hint",trackingProperties:d,trackingEnabled:d?.gracePeriod!==void 0,description:(0,_.tx)("dev_handoff.paywall.hint_in_design_mode"),onClose:p,emphasized:!0,forceEditorTheme:"dev-handoff"})}var L=a(948517),O=a(16397),R=a(810550),M=a(964881),D=a(738269),P=a(29680),F=a(335682),B=a(860178),U=a(239671),H=a(498606),G=a(402609),V=a(507956),z=a(853079),K=a(939683),W=a(966712),j=a(522739),Z=a(762638),Y=a(984968),X=a(733378),q=a(422237);let J=(0,q.ex)("dev_mode_toggle_disabled_tracked_tooltip",function(){let e=(0,K.U)(),t=(0,B.iZ)(),a=(0,Y.$w)(),r=(0,F.q5)(),l=t?.external_restricted_org_id?(0,_.t)("dev_handoff.paywall.external_content_control_hint"):r?.parentOrgId?(0,_.t)("dev_handoff.paywall.org_not_member_hint"):a?void 0:(0,_.t)("dev_handoff.paywall.team_not_member_hint"),i=t?.external_restricted_org_id?"ecc":r?.parentOrgId?"not_member_org":a?void 0:"not_member_pro_team";return(0,y.h)(()=>{e("Dev Mode Disabled Tooltip Viewed",{reason:i})}),n.createElement("div",{className:Z.cx.cursorDefault.colorTextTooltip.$,style:{textAlign:"center",maxWidth:180}},n.createElement("span",null,l))},()=>({unconstrainWidth:!0})),Q=(0,q.ex)("devmode_toggle_disabled_personal_draft",function({isCurrentUserFileOwner:e}){let t=(0,K.U)(),a=(0,r.wA)(),l=(0,B.iZ)(),i=(0,F.q5)(),o=(0,r.d4)(e=>e.repos),s=(0,X.OG)(i,l);return((0,y.h)(()=>{t("Dev Mode Disabled Tooltip Viewed",{reason:e?"personal_draft_owner":"personal_draft"})}),e)?(0,W.kc)().ps_benchmark?n.createElement("div",{className:Z.cx.cursorDefault.colorTextTooltip.$},n.createElement("span",null,(0,_.tx)("dev_handoff.paywall.toggle_disabled_for_personal_drafts")),n.createElement("div",{className:Z.cx.bl1.hFull.inline.bSolid.colorBorderMenu.ml8.mr8.$}),n.createElement("a",{href:"/files/drafts-to-move",className:Z.cx.cursorPointer.noUnderline.fontBold.colorTextTooltip.$},(0,_.tx)("dev_handoff.paywall.toggle_disabled_go_to_drafts_to_move"))):n.createElement("div",{className:Z.cx.cursorDefault.colorTextTooltip.$},n.createElement("span",null,(0,_.tx)("dev_handoff.paywall.toggle_disabled_for_personal_drafts_pre_ps")),n.createElement("div",{className:Z.cx.bl1.hFull.inline.bSolid.colorBorderMenu.ml8.mr8.$}),n.createElement(j.oj,{onClick:()=>{s&&(0,X.RG)(a,i,o)()},disabled:!s,className:Z.cx.cursorPointer.noUnderline.fontBold.colorTextTooltip.$},(0,_.tx)("dev_handoff.paywall.toggle_disabled_move_link"))):n.createElement("div",{className:Z.cx.cursorDefault.colorTextTooltip.flex.flexColumn.gap4.$,style:{width:"min-content"}},n.createElement("div",{className:Z.cx.noWrap.$},(0,_.tx)("dev_handoff.paywall.toggle_disabled_viewer_title")),n.createElement("div",{className:Z.cx.colorTextTooltipSecondary.$},(0,_.tx)("dev_handoff.paywall.toggle_disabled_viewer_details")))},e=>{let t=e.getAttribute("data-tooltip-is-current-user-file-owner");return{isCurrentUserFileOwner:!!t&&JSON.parse(t),unconstrainWidth:!0}});var $=a(38580),ee=a(286640),et=a(349410),ea=a(915440),en=a(17604),er=a(6949),el=a(720647),ei=a(279453),eo=a(227544);let es=(0,$.eU)(new Set),ec="mode_switcher_toggle--toggled---c0DA";var ed=a(320735);function eu({disabled:e,extraPadding:t,toggled:a,handleOnPointerDown:r,handleOnKeyDown:i}){return n.createElement("div",{className:s()("mode_switcher_toggle--switchWithButtonBase--EtDrb",t&&"mode_switcher_toggle--extraPadding--slSfm",e&&"mode_switcher_toggle--disabled--y1Es8",a&&ec),role:"button","aria-label":(0,_.t)("general.dev_mode"),onPointerDown:r},n.createElement(l.E,{disabled:e,className:s()("mode_switcher_toggle--switchButton--i3ZP2",a&&ec),htmlAttributes:{onKeyDown:i,"data-onboarding-key":h.e,"data-fullscreen-intercept":!0}},n.createElement(m.B,{svg:ed.A})))}function em({disabled:e,extraPadding:t,isDevHandoff:a,recordingKey:r,tooltip:l,tooltipType:o}){let c=(0,E.m3)(),u=(0,C.GS)(),m=(0,z.U)(u?"ui3_toolbelt":"toggle"),f=(0,P.aV)(),h=(0,B.iZ)(),g=(0,F.q5)(),y=(0,d.BV)(d.Pt(r,"switchToDevModeButton"),"pointerdown",t=>{e||0!==t.button||(t.preventDefault(),m(a?"design":"handoff"))}),v=(0,d.v_)(d.Pt(r,"switchToDevModeToggle"),"keydown",e=>{("Enter"===e.code||"Space"===e.code)&&m(a?"design":"handoff")}),b=d.rf(d.Pt("designToolbelt","toggleDevMode"),"click",()=>{e||m(a?"design":"handoff")}),w=!!g&&h?.id===g.creatorId,T={"data-tooltip-type":o??H.Ib.TEXT,"data-tooltip":l??(0,_.t)("general.dev_mode"),"data-tooltip-shortcut-key":l?void 0:a?"enter-design-mode":"enter-inspect-mode","data-tooltip-interactive":o===H.Ib.SPECIAL,"data-tooltip-is-current-user-file-owner":JSON.stringify(w),"data-onboarding-key":x.ON,"data-tooltip-offset-y":u?-4:4};return u?n.createElement("div",{...T,"data-tooltip-show-above":!0},n.createElement(p.k,{checked:a,onClick:b,icon:n.createElement(i,null),disabled:e,recordingKey:"toolbarView.switchToDevModeButton"})):n.createElement(n.Fragment,null,n.createElement("div",{className:s()("mode_switcher_toggle--toggleWrapper--kHykz",a?ec:""),role:"button","aria-pressed":a,...T},n.createElement(eu,{disabled:e,extraPadding:t,toggled:a,handleOnPointerDown:y,handleOnKeyDown:v})),n.createElement(G.p,null,!f&&n.createElement(O.f,null),!f&&n.createElement(R.U,null),!f&&c&&!a&&n.createElement(A,null),!f&&n.createElement(L.A,null)))}function ep({recordingKey:e,extraPadding:t}){let a=(0,V.ks)(),l=(0,r.wA)(),i=(0,F.tS)(),o=(0,F.q5)(),s=(0,r.d4)(e=>e.selectedView),d=(0,g.U4)(),m=!(0,B.iZ)(),p=!!(0,M.hA)(),[h,E]=(0,c.fp)(es),y=a?"handoff":"design";(0,n.useEffect)(()=>{m&&"handoff"===y&&l(D.$T({...s,view:"fullscreen",editorType:U.nT.Design}))},[m,y,l,s]);let v="handoff"===y,b=(0,n.useRef)(v);if((0,n.useEffect)(()=>{if(b.current!==v&&i){let e=v?(0,_.t)("dev_handoff.inspect_mode.switched_to_inspect"):(0,_.t)("dev_handoff.inspect_mode.switched_to_design");h.has(i)?(h.delete(i),E(new Set(h))):(l(f.F.dequeue({matchType:"switched_editor_mode"})),l(f.F.enqueue({type:"switched_editor_mode",message:e,delay:200,timeoutOverride:1200})))}b.current=v},[v,l,E,h,i]),!function(){let e=(0,r.wA)(),t=(0,F.q5)(),a=(0,F.tS)(),l=(0,B.iZ)(),i=function(){let e=(0,er.a9)(),t=(0,en.D)(),a=(0,F.tS)(),n=(0,ea.Rs)(ei.oBY,{key:a??""},{enabled:!!a}),r=n.data?.file?.hasPermission??!1;return!!e&&!!t&&(r||(0,eo.qu)(e,el.G_.DEV_MODE))&&!(0,eo.qu)(e,el.G_.DESIGN)}(),o=(0,V.jS)(),s=(0,V.ks)(),d=(0,r.d4)(e=>e.selectedView),u=(0,et.dE)(),m=(0,M.hA)(),[p,_]=(0,c.fp)(es),f=!l,h=!!m,g=!!t&&!!l&&l.id===t.creatorId,E=!!t&&t.canView&&!t.canEdit,y=o||s,v=!!d.prevSelectedView,b=(0,ee.Q_)();(0,n.useEffect)(()=>{if(!y||f||h||v||null===t||null===a||!E||g||!i)return;let n=`hasAutoDefaultedToDevMode-${a}`;if(b?.getItem(n)!=="true"){if(s){b?.setItem(n,"true");return}u()&&(e(D.$T({...d,view:"fullscreen",editorType:U.nT.DevHandoff})),p.add(a),_(new Set(p))),b?.setItem(n,"true")}},[u,e,g,i,t,d,E,y,s,a,v,b,f,h,_,p])}(),m||p)return null;let C=!v&&!d&&!(0,u.nl)(),w=!!o&&!o.parentOrgId&&!o.teamId;return n.createElement(em,{disabled:!i||C,extraPadding:t,tooltip:C?w?Q:J:void 0,tooltipType:C?H.Ib.SPECIAL:H.Ib.TEXT,isDevHandoff:v,recordingKey:e})}},325621:(e,t,a)=>{a.d(t,{K:()=>m,m:()=>u});var n=a(411855),r=a(188507),l=a(126049),i=a(860601),o=a(939863),s=a(279145),c=a(538411);function d({children:e}){let[t,a]=(0,n.useState)(null),r=(0,l.A)(()=>a(!0),500),o=t?i.lQ:r;return(0,n.useEffect)(o),t&&n.createElement("div",{className:c.Q,role:"status"},e)}function u(){let e=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts),t=(0,s.c1)(e,"present-as-prototype");return n.createElement(d,null,(0,o.tx)("fullscreen.toolbar.screenreader_notice",{shortcut:t}))}function m(){let e=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts);if((0,r.d4)(e=>e.screenreader.enabled))return null;let t=(0,s.c1)(e,"open-shortcuts").replace("?",(0,o.t)("general.question_mark")),a=(0,s.c1)(e,"toggle-menu");return n.createElement(d,null,(0,o.tx)("fullscreen.toolbar.screenreader_notice_figjam",{shortcut:t,quickActionsShortcut:a}))}},704762:(e,t,a)=>{a.d(t,{Ty:()=>W,iG:()=>H,IU:()=>G,C_:()=>V});var n=a(411855),r=a(188507),l=a(598045),i=a(752795),o=a(421757),s=a(89865),c=a.n(s),d=a(935283),u=a(91408),m=a(320063),p=a(153234),_=a(776621),f=a(286640),h=a(946689),g=a(659838),E=a(939863),y=a(175290),v=a(632430),b=a(877953),C=a(662531),w=a(869156),T=a(318812),S=a(173454),N=a(498606),x=a(7959),k=a(538697),I=a(761334),A=a(746806),L=a(894742),O=a(282263),R=a(564092),M=a(15270),D=a(656963),P=a(860168);let F="variable_create_modal--input--d-tVA";var B=a(424148);let U=2*(0,u.jz)(P.dGl),H=304;function G({initialPosition:e,initialValue:t,resolvedType:a,onCreateVariable:r,onClose:l}){(0,I.NF)({resolvedType:a});let{onCreateVariableSubmit:i}=V({onCreateVariable:r,onClose:l});return n.createElement(z,{initialPosition:e,initialValue:t,resolvedType:a,onCreateVariableSubmit:i,onClose:l,recordingKey:"createVariableModal"})}function V({onCreateVariable:e,onClose:t}){return{onCreateVariableSubmit:function({varSetID:a,varName:n,varValue:r}){if(!l.CWU.isValidVariableName(n,a)){(0,_.x1)("variables","Attempted to submit variable name that is invalid",{varName:n,_varSetID:a});return}C.l7.user("create-variable",()=>{let t=a??l.CWU.createVariableSet((0,E.t)("variables.variable_collection"),l.G6k.AUTOMATIC_FIRST_COLLECTION),i=l.CWU.createVariable(n,t,r,l.HS4.VARIABLE_PICKER),o=l.CWU.getLocalVariableInfo(i);(0,d.B1)(o,`variable with id ${i} not found`),e((0,S.kz)(o))}),t()}}}function z({initialPosition:e,initialValue:t,resolvedType:a,recordingKey:r,onCreateVariableSubmit:l,onClose:i}){return n.createElement(A.vx,{title:n.createElement("div",{className:"variable_create_modal--staticTitle--HS1IC"},(0,E.tx)("variables.create_modal.title")),initialPosition:e,initialWidth:H,onClose:i},n.createElement(W,{resolvedType:a,initialValue:t,recordingKey:p.Pt(r,"createVariableForm"),onSubmit:l}))}function K({label:e,input:t}){return n.createElement(y.Y,{spacing:0,horizontalAlignItems:"space-between",height:"hug-contents",padding:{horizontal:U}},n.createElement(x.JU,null,e),t)}function W({resolvedType:e,initialValue:t,recordingKey:a,onSubmit:r}){let i=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=i.current;if(!e)return;let t=e=>e.preventDefault();return e.addEventListener("contextmenu",t),()=>{e.removeEventListener("contextmenu",t)}},[i]);let s=(0,b.C)("fpl_variables_button_migration"),[c,d]=(0,n.useState)({varName:"",varValue:t??(0,M.WI)(e),varSetID:null}),m=n.useMemo(()=>l.CWU.isValidVariableName(c.varName??"",c.varSetID??null),[c]),_=p.of(a,"submit",()=>{m&&r({varName:c.varName,varValue:c.varValue,varSetID:c.varSetID??null})});return n.createElement("form",{onSubmit:_,autoComplete:"no"},n.createElement(y.Y,{direction:"vertical",spacing:0,height:"hug-contents",ref:i},n.createElement(y.Y,{direction:"vertical",spacing:`${(0,u.jz)(P.dGl)}px`,padding:{top:U},height:"hug-contents"},n.createElement(j,{recordingKey:a??"",initialVarValue:t,resolvedType:e,setVariableFormSubmitData:d,variableFormSubmitData:c}))),n.createElement(y.Y,{horizontalAlignItems:"end",verticalAlignItems:"center",padding:16},s?n.createElement(o.$n,{type:"submit",disabled:!m,recordingKey:p.Pt(a,"createButton"),htmlAttributes:{"data-tooltip":(0,E.t)("variables.create_modal.invalid_variable_name"),"data-tooltip-type":m?void 0:N.Ib.TEXT}},(0,E.tx)("variables.create_modal.create_button")):n.createElement(h.$$,{style:{justifySelf:"right"},tabIndex:0,type:"submit",disabled:!m,recordingKey:p.Pt(a,"createButton"),"data-tooltip-type":m?void 0:N.Ib.TEXT,"data-tooltip":(0,E.t)("variables.create_modal.invalid_variable_name")},n.createElement("span",null,(0,E.tx)("variables.create_modal.create_button")))))}function j({recordingKey:e,initialVarValue:t,resolvedType:a,setVariableFormSubmitData:o,variableFormSubmitData:s}){let c=(0,r.wA)(),d=(0,w.yp)(),[u,_]=(0,f.Vc)("last-used-variable-set-bottoms-up",d.length>0?d[0].node_id:null),h=(0,n.useMemo)(()=>{let e=d.find(e=>e.node_id===u);return!e&&d.length>0?d[0]:e},[d,u]),y=(0,w.rW)(h?.node_id??null),b=(0,n.useRef)(null);function C(e,t,a){o({varName:e,varValue:t,varSetID:a})}function T(e){C(s.varName,e,s.varSetID)}(0,m.h)(()=>{b.current?.select(),C((0,M.Wc)(y,a),t??(0,M.WI)(a),h?.node_id??null)});let S=function(e){let t=(0,w.BQ)(e.type===l.Z_n.ALIAS?e.value:void 0);return(0,i.isNotNullish)(t)&&"MIXED"!==t?t:null}(s.varValue);async function k(e){if(e){let t=await c((0,v.Oe)(e));T((0,R.y$)(a,t))}else s.varValue.type===l.Z_n.ALIAS&&T((0,M.WI)(a))}return n.createElement(n.Fragment,null,d.length>0&&!!h&&n.createElement(K,{label:(0,E.tx)("variables.create_modal.collection_label"),input:n.createElement("div",{className:F},n.createElement(Z,{selectedVariableSetID:h.node_id,variableSets:d,onChange:e=>{_(e),C(s.varName,s.varValue,e)}}))}),n.createElement(K,{label:(0,E.tx)("variables.create_modal.name_label"),input:n.createElement(g.L,{className:"variable_create_modal--textInput--234SQ raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",name:"variableName",value:s.varName,onChange:e=>{C(e.target.value,s.varValue,s.varSetID)},ref:b,recordingKey:p.Pt(e,"variableNameInput"),delay:50,"data-1p-ignore":!0,autoFocus:!0})}),n.createElement(K,{label:(0,E.tx)("variables.create_modal.value_label"),input:n.createElement("div",{className:F},n.createElement(O.Cr,{resolvedType:a,variableValue:s.varValue,onVariableValueChange:e=>T(e),onVariableSelected:k},n.createElement(D.g,{variableValue:s.varValue,contextType:L.$.FORM,onChange:e=>T(e),recordingKey:p.Pt(e,"variableValueInput")}),S&&n.createElement(x.K0,{svg:B.A,type:"button","data-tooltip-type":N.Ib.TEXT,"data-tooltip":(0,E.t)("variables.authoring_modal.table.detach_alias"),onClick:()=>T(S),recordingKey:p.Pt(e,"detachVariableButton")})))}))}function Z({selectedVariableSetID:e,variableSets:t,onChange:a}){let l=(0,r.wA)(),i=(0,T.Um)(),o=(0,n.useMemo)(()=>c()(t,e=>e.node_id),[t]);return n.createElement(k.l6,{id:"variable-create-modal-variable-set-select",property:o[e],formatter:{format:e=>e?.name??""},dispatch:l,chevronClassName:"variable_create_modal--variableSetSelectChevron--larcU",inputClassName:"variable_create_modal--variableSetSelectInput--YUE3H",dropdownShown:i,onChange:e=>a(e.node_id)},t.map(function(e){return n.createElement(k.c$,{key:e.node_id,value:e})}))}},205698:(e,t,a)=>{a.d(t,{n:()=>p});var n=a(411855),r=a(188507),l=a(939863),i=a(738269),o=a(318812),s=a(555328),c=a(498606),d=a(933464),u=a(227795),m=a(501191);function p(e){let t=(0,r.wA)(),a=(0,o.Um)(),p=a?.type===d.kt,_=n.useCallback(e=>{p?t(i.oB()):t(i.j7({type:d.kt,data:{targetRect:e.currentTarget?.getBoundingClientRect()}}))},[t,p]);return n.createElement(n.Fragment,null,n.createElement(u.K0,{svg:m.A,"data-tooltip-type":c.Ib.TEXT,"data-tooltip":e.resourceType===s.bD.WIDGET?(0,l.t)("community.plugins.create_new_widget"):(0,l.t)("community.plugins.create_new_plugin"),onClick:_}),p&&n.createElement(d.Pq,{resourceType:e.resourceType}))}},361555:(e,t,a)=>{a.d(t,{W:()=>g});var n=a(411855),r=a(188507),l=a(946689),i=a(574176),o=a(762638),s=a(939863),c=a(738269),d=a(469757);function u(){return n.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.5594 4.51951C27.2967 3.55473 29.3688 3 31.5833 3C33.7979 3 35.87 3.55473 37.6073 4.51951L36.6363 6.26799C35.2024 5.47169 33.4655 5 31.5833 5C29.7012 5 27.9643 5.47169 26.5304 6.26799L25.5594 4.51951ZM40.1279 6.44958C41.6462 8.03598 42.5833 10.0811 42.5833 12.3333C42.5833 13.1443 42.4615 13.9318 42.2328 14.6823L40.3197 14.0993C40.492 13.5337 40.5833 12.9425 40.5833 12.3333C40.5833 10.6589 39.8909 9.09446 38.683 7.83249L40.1279 6.44958ZM20.5833 12.3333C20.5833 10.0811 21.5204 8.03598 23.0388 6.44958L24.4837 7.83249C23.2758 9.09446 22.5833 10.6589 22.5833 12.3333C22.5833 12.9425 22.6746 13.5337 22.847 14.0993L20.9339 14.6823C20.7052 13.9318 20.5833 13.1443 20.5833 12.3333ZM40.5429 17.7548C41.0494 17.1527 41.4763 16.4937 41.8068 15.7886L39.9959 14.9398C39.7426 15.4802 39.4111 15.9939 39.0096 16.4706C38.5701 16.9926 38.4772 17.6483 38.5592 18.1861C39.3313 18.0684 40.5364 17.8847 40.5364 17.8847C40.5289 17.8355 40.5321 17.7961 40.5377 17.7719C40.5397 17.7629 40.5417 17.7575 40.5429 17.7548ZM22.6273 17.7589C22.1192 17.1557 21.6911 16.4953 21.3598 15.7886L23.1708 14.9398C23.4241 15.4802 23.7556 15.9939 24.1571 16.4706C24.5966 16.9926 24.6894 17.6483 24.6075 18.1861C23.8353 18.0684 23.4024 18.0024 22.6303 17.8847C22.6378 17.8355 22.6346 17.7961 22.629 17.7719C22.6238 17.7492 22.619 17.7491 22.6273 17.7589ZM12.7855 18.8279C13.5007 18.3073 14.3826 18 15.3333 18H18.2724V20H15.3333C14.8195 20 14.3471 20.1649 13.9624 20.4449C13.5028 19.8134 13.2451 19.4594 12.7855 18.8279ZM19.7419 18H22.6229H22.681C22.6637 18 22.6432 18.0029 22.6222 18.0095C22.616 18.0115 22.6103 18.0136 22.6051 18.0158C22.6051 18.0158 23.6596 18.6058 24.3353 18.9838C24.047 19.4991 23.4839 20 22.681 20H19.7419V18ZM40.5444 18.0095C40.5235 18.0029 40.5029 18 40.4856 18H40.5438H43.7581V20H40.4856C39.6827 20 39.1196 19.4991 38.8313 18.9838C39.507 18.6058 40.5615 18.0158 40.5615 18.0158C40.5564 18.0136 40.5506 18.0115 40.5444 18.0095ZM45.3943 18H48.6667C51.0599 18 53 19.9401 53 22.3333V26.7778H51V22.3333C51 21.0447 49.9553 20 48.6667 20H45.3943V18ZM11 22.3333C11 21.3826 11.3073 20.5007 11.8279 19.7855C12.4594 20.2451 12.8134 20.5028 13.4449 20.9624C13.1649 21.3471 13 21.8195 13 22.3333V25.4391H11V22.3333ZM11 30.0977V26.9919H13V30.0395V30.0977C13 30.0804 12.9971 30.0598 12.9905 30.0389C12.9885 30.0327 12.9864 30.027 12.9842 30.0218C12.9842 30.0218 12.3942 31.0763 12.0162 31.752C11.5009 31.4637 11 30.9006 11 30.0977ZM18.6667 30C18.0575 30 17.4663 30.0913 16.9007 30.2637L16.3177 28.3505C17.0682 28.1218 17.8557 28 18.6667 28C20.9189 28 22.964 28.9371 24.5504 30.4555L23.1675 31.9003C21.9055 30.6924 20.3411 30 18.6667 30ZM16.0602 30.5874C15.5198 30.8407 15.0061 31.1722 14.5294 31.5737C14.0074 32.0133 13.3517 32.1061 12.8139 32.0241C12.9316 31.252 12.9976 30.8191 13.1153 30.047C13.1645 30.0545 13.2039 30.0512 13.2281 30.0457C13.2371 30.0436 13.2425 30.0416 13.2452 30.0404C13.8473 29.5339 14.5063 29.107 15.2114 28.7765L16.0602 30.5874ZM53 29V37.8889H51V29H53ZM26 39C26 37.1179 25.5283 35.381 24.732 33.9471L26.4805 32.9761C27.4453 34.7134 28 36.7854 28 39C28 41.2146 27.4453 43.2866 26.4805 45.0239L24.732 44.0529C25.5283 42.619 26 40.8821 26 39ZM53 40.1111V49H51V40.1111H53ZM12.8139 45.9759C13.3517 45.8939 14.0074 45.9867 14.5293 46.4263C15.0061 46.8278 15.5198 47.1593 16.0602 47.4126L15.2114 49.2235C14.5063 48.893 13.8473 48.466 13.2452 47.9596C13.2425 47.9584 13.2371 47.9564 13.2281 47.9543C13.2039 47.9487 13.1645 47.9455 13.1153 47.953C13.1153 47.953 12.9316 46.748 12.8139 45.9759ZM18.6667 48C20.3411 48 21.9055 47.3076 23.1675 46.0997L24.5504 47.5445C22.964 49.0629 20.9189 50 18.6667 50C17.8557 50 17.0682 49.8782 16.3177 49.6495L16.9007 47.7363C17.4663 47.9087 18.0575 48 18.6667 48ZM11 47.9023C11 47.0994 11.5009 46.5363 12.0162 46.248C12.3942 46.9237 12.9842 47.9782 12.9842 47.9782C12.9864 47.973 12.9885 47.9673 12.9905 47.9611C12.9971 47.9402 13 47.9196 13 47.9023V47.9605V51.0081H11V47.9023ZM53 51.2222V55.6667C53 58.0599 51.0599 60 48.6667 60H44.2222V58H48.6667C49.9553 58 51 56.9553 51 55.6667V51.2222H53ZM11 55.6667V52.5609H13V55.6667C13 56.1805 13.1649 56.6529 13.4449 57.0376L11.8279 58.2145C11.3073 57.4993 11 56.6174 11 55.6667ZM15.3333 60C14.3826 60 13.5007 59.6927 12.7855 59.1721L13.9624 57.5551C14.3471 57.8351 14.8195 58 15.3333 58H19.7778V60H15.3333ZM30.8889 60H22V58H30.8889V60ZM42 60H33.1111V58H42V60Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{d:"M13.9624 20.4449C13.5028 19.8134 13.2451 19.4594 12.7855 18.8279C12.3424 19.1503 12.1474 19.3465 11.8279 19.7855C12.4594 20.2451 12.8134 20.5028 13.4449 20.9624C13.6139 20.7303 13.7189 20.6222 13.9624 20.4449Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{d:"M13 30.0395V30.0977C13 30.0804 12.9971 30.0598 12.9905 30.0389C12.9885 30.0327 12.9864 30.027 12.9842 30.0218L12.0162 31.752C12.2838 31.9017 12.5 31.9763 12.8139 32.0241C12.8139 32.0241 12.9976 30.8191 13.1153 30.047C13.0703 30.0441 13 30.0395 13 30.0395Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{d:"M13.1153 47.953L12.8139 45.9759C12.6557 46 12.195 46.1479 12.0162 46.248L12.9842 47.9782C12.9864 47.973 12.9885 47.9673 12.9905 47.9611C12.9971 47.9402 13 47.9196 13 47.9023V47.9605L13.1153 47.953Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{d:"M24.6075 18.1861C23.8353 18.0684 23.4024 18.0024 22.6303 17.8847C23.2962 18.3139 23.6695 18.5546 24.3353 18.9838C24.451 18.7772 24.5564 18.5211 24.6075 18.1861Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{d:"M22.6229 18H22.681C22.6637 18 22.6432 18.0029 22.6222 18.0095C22.616 18.0115 22.6103 18.0136 22.6051 18.0158C22.6051 18.0158 23.6596 18.6058 24.3353 18.9838C23.6695 18.5546 23.2962 18.3139 22.6303 17.8847C22.6274 17.9297 22.6229 18 22.6229 18Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{d:"M40.5364 17.8847C40.5364 17.8847 39.3313 18.0684 38.5592 18.1861C38.5768 18.3016 38.6904 18.7319 38.8313 18.9838C39.507 18.6058 40.5615 18.0158 40.5615 18.0158C40.5564 18.0136 40.5506 18.0115 40.5444 18.0095C40.5235 18.0029 40.5029 18 40.4856 18H40.5438L40.5364 17.8847Z",fill:"var(--color-icon-tertiary)"}))}function m(){return n.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.4987 5.63364L31.9998 2.13477L28.501 5.63364L29.9152 7.04785L31.9998 4.96319L34.0845 7.04785L35.4987 5.63364ZM5.63785 28.4967L7.05206 29.911L4.96319 31.9998L7.05206 34.0887L5.63785 35.5029L2.13477 31.9998L5.63785 28.4967ZM28.5009 58.3659L29.9151 56.9517L31.9998 59.0365L34.0846 56.9517L35.4988 58.3659L31.9998 61.8649L28.5009 58.3659ZM58.3702 35.4946L61.8649 31.9998L58.3702 28.5051L56.9559 29.9193L59.0365 31.9998L56.9559 34.0804L58.3702 35.4946ZM37.2481 7.38307L35.8339 8.79729L39.9186 12.8819H45.6994V10.8819H40.747L37.2481 7.38307ZM48.1756 10.8819V12.8819H51.1281V15.8344H53.1281V10.8819H48.1756ZM53.1281 18.3106H51.1281V24.0914L55.2086 28.1719L56.6228 26.7577L53.1281 23.263V18.3106ZM56.6228 37.2419L55.2086 35.8277L51.1281 39.9082V45.689H53.1281V40.7367L56.6228 37.2419ZM53.1281 48.1652H51.1281V51.1175H48.1757V53.1175H53.1281V48.1652ZM45.6995 53.1175V51.1175H39.9188L35.834 55.2023L37.2483 56.6165L40.7472 53.1175H45.6995ZM26.7514 56.6165L28.1656 55.2023L24.0809 51.1175H18.3085V53.1175H23.2525L26.7514 56.6165ZM15.8365 53.1175V51.1175H12.8925V48.1735H10.8925V53.1175H15.8365ZM10.8925 45.7015H12.8925V39.9291L8.80361 35.8402L7.38939 37.2545L10.8925 40.7575V45.7015ZM7.38939 26.7452L8.80361 28.1594L12.8925 24.0705V18.298H10.8925V23.2421L7.38939 26.7452ZM10.8925 15.826H12.8925V12.8819H15.8365V10.8819H10.8925V15.826ZM18.3086 10.8819V12.8819H24.0811L28.1657 8.79729L26.7515 7.38307L23.2527 10.8819H18.3086Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.3956 19.5055L26.4844 29.1128H41.4723L28.9966 45.6671L27.3994 44.4634L37.4607 31.1128H22.582L31.7721 18.3375L33.3956 19.5055Z",fill:"var(--color-icon-tertiary)"}))}var p=a(318812),_=a(933464),f=a(112512),h=a(501191);function g({isWidget:e}){let t=(0,r.wA)(),a=(0,p.Um)(),g=a?.type===_.kt,E=n.useRef(null),y=n.useCallback(e=>{g?t(c.oB()):t(c.j7({type:_.kt,data:{type:"pointing",targetRect:e.currentTarget?.getBoundingClientRect()}}))},[t,g]),{href:v,onClick:b}=(0,d.y)("https://www.figma.com/widget-docs/intro/"),{href:C,onClick:w}=(0,d.y)("https://www.figma.com/plugin-docs");return n.createElement("div",{className:"empty_development_view--developmentPluginEmptyStateContainer--cTeAp"},n.createElement("span",{className:o.cx.m16.$},e?n.createElement(m,null):n.createElement(u,null)),n.createElement("span",{className:o.cx.font11.fontNormal.colorTextSecondary.mb4.$},e?(0,s.tx)("community.plugins.no_widgets_created_yet"):(0,s.tx)("community.plugins.no_plugins_created_yet")),e?n.createElement(l.N_,{href:v,onClick:b,className:o.cx.font11.fontNormal.noUnderline.inline.$,trusted:!0},(0,s.tx)("community.plugins.learn_more_about_widget_development")):n.createElement(l.N_,{href:C,onClick:w,className:o.cx.font11.fontNormal.noUnderline.inline.$,trusted:!0},(0,s.tx)("community.plugins.learn_more_about_plugin_development")),n.createElement(l.u4,{defaultClass:"empty_development_view--buttonWithBorder--zk4QX new_file_dropdown--toolBarButtonWithBorder--VtdKR new_file_dropdown--toolBarButton--i4GMj desktop_tool_bar--toolBarButton--HGPyz text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:y},n.createElement("div",{className:"empty_development_view--buttonContent--kb5Nb new_file_dropdown--button--glhuO"},n.createElement(i.B,{className:"empty_development_view--plusIcon--h23yu",svg:h.A}),n.createElement("div",{className:"empty_development_view--buttonContentDisplayText--bCttl new_file_dropdown--displayText--VPNl9"},(0,s.tx)("community.plugins.new")),n.createElement("div",{ref:E},n.createElement(i.B,{className:"empty_development_view--caretIcon--jjHPA",svg:f.A})))))}},334437:(e,t,a)=>{a.d(t,{H:()=>o});var n=a(411855),r=a(939863);function l(){return n.createElement("svg",{width:"60",height:"70",viewBox:"0 0 60 70",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.747 8.88206L29.9998 0.134888L21.2527 8.88206H8.89248V21.2422L0.134766 30L8.89248 38.7577V51.1176H21.2525L29.9998 59.865L38.7472 51.1176H51.1281V38.7368L59.8649 30L51.1281 21.2631V8.88206H38.747ZM49.1281 10.8821H37.9186L29.9998 2.96331L22.0811 10.8821H10.8925V22.0707L2.96319 30L10.8925 37.9292V49.1176H22.0809L29.9998 57.0366L37.9188 49.1176H49.1281V37.9084L57.0365 30L49.1281 22.0915V10.8821Z",fill:"var(--color-bg-disabled-secondary)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.3956 17.5056L24.4844 27.1129H39.4723L26.9966 43.6672L25.3994 42.4635L35.4607 29.1129H20.582L29.7721 16.3377L31.3956 17.5056Z",fill:"var(--color-bg-disabled-secondary)"}),n.createElement("path",{d:"M40 41.5C40 40.6716 40.6716 40 41.5 40H58.5C59.3284 40 60 40.6716 60 41.5V68.4395C60 69.0684 59.2726 69.418 58.7815 69.0252L50 62L41.2185 69.0252C40.7274 69.418 40 69.0684 40 68.4395V41.5Z",fill:"var(--color-bg-disabled-secondary)"}))}function i(){return n.createElement("svg",{width:"51",height:"69",viewBox:"0 0 51 69",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58333 9.33333C9.58333 4.0157 14.6867 0 20.5833 0C26.48 0 31.5833 4.0157 31.5833 9.33333C31.5833 11.371 30.8158 13.2415 29.5429 14.7548C29.5409 14.7593 29.5365 14.7716 29.5338 14.7946C29.5285 14.8406 29.5344 14.9014 29.5552 14.9594C29.5611 14.9758 29.5672 14.9892 29.5728 15H37.6667C40.0599 15 42 16.9401 42 19.3333V52.6667C42 55.0599 40.0599 57 37.6667 57H4.33333C1.9401 57 0 55.0599 0 52.6667V44.9023C0 43.9176 0.731631 43.317 1.36447 43.0896C1.99657 42.8626 2.86764 42.869 3.52935 43.4263C4.72239 44.431 6.148 45 7.66667 45C11.5538 45 15 41.149 15 36C15 30.851 11.5538 27 7.66667 27C6.148 27 4.72239 27.569 3.52935 28.5737C2.86764 29.131 1.99657 29.1374 1.36447 28.9104C0.731631 28.683 0 28.0824 0 27.0977V19.3333C0 16.9401 1.9401 15 4.33333 15H11.5939C11.5995 14.9892 11.6056 14.9758 11.6115 14.9594C11.6323 14.9014 11.6382 14.8406 11.6328 14.7946C11.6302 14.7716 11.6257 14.7593 11.6237 14.7547C10.3509 13.2415 9.58333 11.371 9.58333 9.33333ZM29.544 14.7526C29.5443 14.7522 29.544 14.7526 29.544 14.7526ZM20.5833 2C15.4343 2 11.5833 5.44622 11.5833 9.33333C11.5833 10.852 12.1524 12.2776 13.1571 13.4706C13.7143 14.1324 13.7208 15.0034 13.4937 15.6355C13.2664 16.2684 12.6657 17 11.681 17H4.33333C3.04467 17 2 18.0447 2 19.3333V27.0106C2.01079 27.0162 2.02423 27.0222 2.04063 27.0281C2.09865 27.049 2.15938 27.0548 2.20535 27.0495C2.22841 27.0468 2.24068 27.0424 2.24526 27.0404C3.75846 25.7676 5.62904 25 7.66667 25C12.9843 25 17 30.1033 17 36C17 41.8967 12.9843 47 7.66667 47C5.62904 47 3.75845 46.2324 2.24526 44.9596C2.24068 44.9576 2.22842 44.9532 2.20535 44.9505C2.15938 44.9452 2.09865 44.951 2.04063 44.9719C2.02423 44.9778 2.01079 44.9838 2 44.9894V52.6667C2 53.9553 3.04467 55 4.33333 55H37.6667C38.9553 55 40 53.9553 40 52.6667V19.3333C40 18.0447 38.9553 17 37.6667 17H29.4856C28.5009 17 27.9003 16.2684 27.673 15.6355C27.4459 15.0034 27.4523 14.1324 28.0096 13.4706C29.0143 12.2776 29.5833 10.852 29.5833 9.33333C29.5833 5.44622 25.7324 2 20.5833 2ZM2.24739 27.0393C2.24784 27.0391 2.24739 27.0394 2.24739 27.0393Z",fill:"var(--color-bg-disabled-secondary)"}),n.createElement("path",{d:"M31 40.5C31 39.6716 31.6716 39 32.5 39H49.5C50.3284 39 51 39.6716 51 40.5V67.4395C51 68.0684 50.2726 68.418 49.7815 68.0252L41 61L32.2185 68.0252C31.7274 68.418 31 68.0684 31 67.4395V40.5Z",fill:"var(--color-bg-disabled-secondary)"}))}function o(e){return n.createElement("div",{className:"saved_view_empty_state--emptyStateContainer--KrviB"},e.isWidget?n.createElement(l,null):n.createElement(i,null),n.createElement("div",{className:"saved_view_empty_state--emptyStateTextContainer--xRmL3"},n.createElement("div",{className:"saved_view_empty_state--emptyStateHeader--t4hjK text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,r.tx)("universal_insert.saved_empty_state")),n.createElement("div",{className:"saved_view_empty_state--emptyStateSubheader--FndRk text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.isWidget?(0,r.tx)("universal_insert.saved_for_quick_access_widgets"):(0,r.tx)("universal_insert.saved_for_quick_access_plugins"))))}},818198:(e,t,a)=>{a.d(t,{C:()=>u});var n=a(411855),r=a(188507),l=a(297666),i=a(358145),o=a(902139),s=a(728325),c=a(813648),d=a(231472);function u(e,t,a,u,m,p){let[_,f]=n.useState(e()),[h,g]=n.useState(!1),[E,y]=n.useState(!1);n.useLayoutEffect(()=>{let t=(0,l.s)(()=>{a===d.t.PINNED_AND_DOCKED_LEFT&&y(!0),f(e())},100);return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e,a]);let v=(0,r.wA)(),b=n.useCallback(()=>{v(o.jy({initialX:u.x,initialY:u.y,pinned:d.t.PINNED_AND_DOCKED_LEFT})),y(!0),t(u),s.VU.get("set-tool-default","toolbar")()},[v,u,t,y]);n.useEffect(()=>{a===d.t.NOT_PINNED&&m&&p&&(v(o.jy({initialX:m.x,initialY:m.y,pinned:d.t.NOT_PINNED})),y(!0),t(m))},[v,t,a,m,p]);let C=(0,r.d4)(e=>e.mirror?.appModel.showUi),w=(0,i.ZC)(C),T=(0,c.LR)();return n.useEffect(()=>{w&&!C?T():!w&&C&&a===d.t.PINNED_AND_DOCKED_LEFT&&b()},[T,a,w,b,C]),n.useEffect(()=>{E&&y(!1)},[E]),{bounds:_,showLeftPinBound:h,setShowLeftPinBound:g,shouldSnapToPosition:E,setPinned:b}}},721950:(e,t,a)=>{let n;a.d(t,{z:()=>tq});var r=a(411855),l=a(188507),i=a(629019),o=a.n(i),s=a(126049),c=a(374626),d=a(498750),u=a(268537),m=a(723325),p=a(827586),_=a(32863),f=a(762638),h=a(939863),g=a(582064),E=a(86538),y=a(256975),v=a(998917),b=a(65112),C=a(956521),w=a(706348);function T(){let e=(0,C.T)("plugins_extensions");return r.createElement(b.k,{title:(0,h.t)("dev_handoff.paywall.plugins.title"),content:(0,h.tx)("dev_handoff.paywall.plugins.description",{learnMoreLink:r.createElement(v.E,{className:w.n$,onClick:e,recordingKey:"dev-mode-plugins-upsell-learn-more","aria-label":(0,h.t)("dev_handoff.paywall.learn_more")},(0,h.tx)("dev_handoff.paywall.learn_more"))}),dataTestId:"dev-mode-panel-upsell-plugins"})}function S({name:e}){let t=(0,C.T)("plugins_extensions");return r.createElement(b.k,{content:(0,h.tx)("dev_handoff.paywall.plugin.description",{plugin:r.createElement("strong",null,e),learnMoreLink:r.createElement(v.E,{className:w.n$,onClick:t,"aria-label":(0,h.t)("dev_handoff.paywall.learn_more")},(0,h.tx)("dev_handoff.paywall.learn_more"))}),tight:!0,dataTestId:"dev-mode-named-plugin-upsell"})}var N=a(738269),x=a(672517),k=a(756085),I=a(779709),A=a(813648),L=a(318812),O=a(694687),R=a(4564),M=a(555328),D=a(498606),P=a(507956),F=a(720488),B=a(227795),U=a(538697),H=a(205698),G=a(459401),V=a(776250),z=a(776621),K=a(304783),W=a(493323),j=a(428322),Z=a(792199),Y=a(42114),X=a(357611),q=a(971120),J=a(941381),Q=a(107877),$=a(984472),ee=a(469757),et=a(946689),ea=a(574176),en=a(737499),er=a(760445),el=a(76158),ei=a(297757),eo=a(270951);function es(){let{activeTab:e}=(0,er.IT)(),t=(0,en.BI)(),a=(0,P.ks)(),{href:n,onClick:l}=(0,ee.y)(`/community/${e===el.s.PLUGIN?"plugins":"widgets/figma_design"}${a?"/devmode":""}`);return t?.shouldOptimizeForIpadApp?null:r.createElement(et.Ph,{className:ei.Qu,href:n,onClick:l,trackingEventName:"Inserts - Browse More From Community",target:"_blank",trusted:!0},r.createElement(ea.B,{svg:eo.A,className:ei.JX}),(0,h.tx)("universal_insert.browse_more_in_community"))}var ec=a(794272),ed=a(886119),eu=a(655215),em=a(335682),ep=a(99506),e_=a(336599),ef=a(215822),eh=a(376485),eg=a(76154),eE=a(163119),ey=a(26096);function ev(e){let t=(0,O.sZ)();return t?r.createElement(eb,{org:t,viewExpandedList:e.viewExpandedList}):r.createElement(W.kt,{className:ei.S})}function eb(e){let{org:t}=e,{activeTab:a}=(0,er.IT)(),n=a===el.s.WIDGET,i=(0,ed.h)("plugin"),o=(0,$.bT)(i),s=(0,ed.h)("widget"),c=n?s:o,d=c.length>0,u=n?t.widgets_whitelist_enforced:t.plugins_whitelist_enforced,m=n?eh.n_:eh.Gb,p=(0,em.tS)(),_=(0,e_.mC)(m(t.id,p)),f=(0,k.ll)(),g=(0,$.bT)(Object.values(f)).map(e=>e.plugin_id),E=(0,k.U6)(),y=r.useMemo(()=>Object.keys(E),[E]),v=(0,k.Be)(),b=(0,k.pR)(v),C=b.orgWidgets,w=b.orgPlugins,T=(0,l.d4)(e=>e.orgUsersByOrgId[t.id][e.user.id]?.permission===ep._D.GUEST),S=(0,ec.R)(e=>T?{}:(0,ef.Qt)((0,ef.i8)(Object.values(e.publishedPlugins)),t.id)),N=r.useMemo(()=>{let e=Object.values(w).filter(e=>!S[e.plugin_id]);return t.plugins_whitelist_enforced&&(e=e.filter(e=>f[e.plugin_id])),e.sort(k.YW)},[f,t.plugins_whitelist_enforced,S,w]),I=(0,$.Ol)(N);I=(0,$.bT)(I);let A=r.useMemo(()=>I.map(e=>e.plugin_id),[I]),L=r.useMemo(()=>g.filter(e=>!w[e]),[g,w]),O=r.useMemo(()=>{let e=Object.values(C).filter(e=>!(0,eu.s7)(e,t.id));return t.widgets_whitelist_enforced&&(e=e.filter(e=>E[e.plugin_id])),e.sort(k.YW)},[C,t.widgets_whitelist_enforced,t.id,E]),R=(0,$.Ol)(O),M=r.useMemo(()=>R.map(e=>e.plugin_id),[R]),P=r.useMemo(()=>y.filter(e=>!C[e]),[y,C]),F=n?P:L,U=n?M:A,H=d?r.createElement(r.Fragment,null,(u?c.slice(0,er.Xo):c).map((e,t)=>r.createElement(eg.ff,{key:e.plugin_id,resourceId:e.plugin_id,type:eg.R7.ORG_PRIVATE,keyboardNavigationPath:[er.B6,t]})),u&&c.length>er.Xo&&r.createElement(eC,{viewExpandedList:()=>{e.viewExpandedList(el.Y.ORG_PRIVATE_EXPANDED_LIST)},ctaText:n?(0,h.t)("universal_insert.all_internal_widgets"):(0,h.t)("universal_insert.all_internal_plugins")})):r.createElement("div",{className:ei.zN},n?(0,h.tx)("universal_insert.no_internal_widgets"):(0,h.tx)("universal_insert.no_internal_plugins")),{href:G,onClick:V}=(0,ee.y)(`/community/${n?"widgets":"plugins"}`),z=u&&r.createElement(r.Fragment,null,r.createElement("div",{className:ei.Uj}),r.createElement("div",{className:ei.sH},(0,h.tx)("universal_insert.approved_from_figma_community"),r.createElement(B.K0,{svg:ey.A,href:G,onClick:V,target:"_blank","data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.go_to_community")})),_&&0===F.length?r.createElement("div",{className:ei.zN},n?(0,h.tx)("universal_insert.organization_has_no_approved_community_widgets"):(0,h.tx)("universal_insert.organization_has_no_approved_community_plugins")):r.createElement(r.Fragment,null,(d?F.slice(0,5):F).map((e,t)=>r.createElement(eg.ff,{key:e,resourceId:e,type:eg.R7.COMMUNITY,keyboardNavigationPath:[er.B6+1,t]})),d&&F.length>5&&r.createElement(eC,{viewExpandedList:()=>{e.viewExpandedList(el.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:n?(0,h.t)("universal_insert.all_approved_widgets"):(0,h.t)("universal_insert.all_approved_plugins")}))),K=U.length>0?r.createElement(r.Fragment,null,r.createElement("div",{className:ei.Wz}),r.createElement("div",{className:ei.sH},(0,h.tx)("universal_insert.saved_from_community"),r.createElement(B.K0,{svg:ey.A,href:G,onClick:V,target:"_blank","data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.go_to_community")})),U.map((e,t)=>r.createElement(eg.ff,{key:e,resourceId:e,type:eg.R7.SAVED,keyboardNavigationPath:[er.B6+2,t]}))):r.createElement(r.Fragment,null,r.createElement("div",{className:ei.Wz}),r.createElement("div",{className:ei.sH},(0,h.tx)("universal_insert.saved_from_community"),r.createElement(B.K0,{svg:ey.A,href:G,onClick:V,target:"_blank","data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.go_to_community")})),r.createElement("div",{className:ei.zN},n?(0,h.tx)("universal_insert.no_saved_widgets"):(0,h.tx)("universal_insert.no_saved_plugins")));return r.createElement(x.fu,{name:"Org"},H,K,z)}function eC(e){return r.createElement("button",{onClick:e.viewExpandedList,className:ei.nZ},r.createElement("span",null,e.ctaText),r.createElement(ea.B,{svg:eE.A}))}function ew({viewExpandedList:e,keyboardNavigationOffset:t,shortDivider:a}){let{activeTab:n}=(0,er.IT)(),i=n===el.s.WIDGET,o=(0,P.ks)(),s=(0,c.md)(E.RB)&&o,[d,u]=r.useState(!1),{allowListIsLoading:m,allowList:p,hasAllowList:_,hasPluginAllowList:f,hasWidgetAllowList:g,publicExtensionsDisallowed:y}=(0,k.jA)(i),v=(0,$.bT)(Object.values(p)).map(e=>e.plugin_id),[b,C]=r.useState(null),[w,T]=r.useState(null),[S,N]=r.useState(!1),[I,A]=r.useState(!1),L=(0,l.wA)();r.useEffect(()=>{let e=d!==s;if(f||y||!e&&null!==b||S)return;N(!0);let t={sort_by:Q.eg.POPULAR};o?(t.editor_type=X.k.Editors.DEV_MODE,s&&(t.capability_type=Y.h.CODEGEN)):t.editor_type=X.k.Editors.FIGMA,(0,Z.nC)().filter(t).browse(q.L.BrowseResourceTypes.PLUGINS).then(e=>{let t=e.data.meta.resources;L(J.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),C((0,G.shuffle)(t)),N(!1),u(s)}).catch(e=>{(0,z.$D)(K.e.COMMUNITY,e),N(!1),C([]),u(s)})},[L,b,S,o,_,f,y,s,d]),r.useEffect(()=>{g||null!==w||I||(A(!0),(0,Z.nC)().filter({sort_by:Q.eg.POPULAR,editor_type:X.k.Editors.FIGMA}).browse(q.L.BrowseResourceTypes.WIDGETS).then(e=>{let t=e.data.meta.resources;L(J.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),T((0,G.shuffle)(t)),A(!1)}).catch(e=>{(0,z.$D)(K.e.COMMUNITY,e),A(!1),T([])}))},[L,w,I,_,g]);let O=i?w:b,R=i?I:S,{href:M,onClick:F}=(0,ee.y)(`/community/${n===el.s.PLUGIN?"plugins":"widgets"}`);return r.useMemo(()=>{if(_?m:R)return r.createElement(W.kt,{className:ei.S});if(!(null!==O)&&!_)return null;let l=_?v:O.map(e=>e.id);return y||0===l.length?null:r.createElement(x.fu,{name:_?"Approved plugins":"From Community"},r.createElement("div",{className:a?ei.Wz:ei.Uj}),r.createElement("div",{className:ei.sH,"data-onboarding-key":"community_feed_header"},_?(0,h.tx)("universal_insert.approved_from_figma_community"):(0,h.tx)("universal_insert.from_community"),r.createElement(B.Me,{svg:ey.A,href:M,onClick:F,target:"_blank","data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.go_to_community"),trackingEventName:"Inserts - Browse More From Community Icon Button"})),l.slice(0,_?5:10).map((e,a)=>r.createElement(eg.ff,{key:e,type:eg.R7.COMMUNITY,resourceId:e,keyboardNavigationPath:[t,a]})),_&&l.length>5?r.createElement(eC,{viewExpandedList:()=>{e(el.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:i?(0,h.t)("universal_insert.all_approved_widgets"):(0,h.t)("universal_insert.all_approved_plugins")}):r.createElement(r.Fragment,null,r.createElement(es,null),r.createElement(j.a,{onIntersectionChange:e=>{e.isIntersecting&&(0,V.sx)("community_feed_bottom_reached",{location:"inserts",resourceType:n})}})))},[_,m,R,O,v,y,M,F,i,e,t,a,n])}function eT(e){return r.createElement(x.fu,{name:"Community"},r.createElement(ew,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:er.B6}))}var eS=a(667167),eN=a(271245),ex=a(632430),ek=a(416095),eI=a(113916),eA=a(664457),eL=a(225373),eO=a(28630);function eR(e){let t=(0,l.wA)(),a=(0,l.Pj)(),n=(0,l.d4)(eO.m),i=(0,l.d4)(e=>(0,eI.Br)(e)),o=r.useRef(null),s=(0,er.NF)(er.gC+er.Kr+er.Ix);r.useEffect(()=>{(async()=>{if(t((0,eN.zK)()),i){await ek.NW;let{fileVersion:e}=a.getState();i&&e&&!(0,ek.hH)(i)&&(0,ex.iG)(a,i)}})()},[t,i,a]);let[c,d]=r.useState(!1);return r.createElement("div",null,e.header,r.createElement("div",{"data-not-draggable":!0},r.createElement(eL.LL,{selectedItems:n?[n]:[],scrollContainerHeight:s,recordingKey:"componentInsert",toggleGridViewButton:r.createElement(eL.Cc,{isSwapPicker:!1}),pickerType:eS.Zl.RESOURCE_INSERT_MODAL,searchBarRef:o,query:e.query,setQuery:e.setQuery,drilldownPickerContextValue:{listItemHeight:48,leafListHeight:48,listItemThumbnailStylesOverride:{height:40,width:40,borderRadius:2}},isSearching:c,setIsSearching:d,entrypointForLogging:null}),r.createElement(eA.Q,null)))}var eM=a(966712),eD=a(812115),eP=a(408552),eF=a(17284),eB=a(760835);a(837324);var eU=a(269167),eH=a(860178);a(239671),a(407844),a(164795);var eG=a(194490),eV=a(471174);function ez({resource:e}){let t=(0,l.d4)(e=>e.authedActiveCommunityProfile),a=(0,eH.iZ)(),n=(0,eU.ej)(e);return r.createElement("div",{className:eG.I4,"data-not-draggable":!0},r.createElement("div",{className:eG.QW},r.createElement(ea.B,{svg:eV.A})),r.createElement("div",{className:eG.hI},(0,h.tx)("community.buyer.payment_for_this_resource_is_moving_over_to_figma")),r.createElement("div",{className:eG.JL},r.createElement("button",{onClick:()=>{(0,eB.mG)(e,M.aL.INSERTS,a.id,t?.id),n()}},(0,h.tx)("community.buyer.update_payment"))))}var eK=a(166521);a(981952),a(988652),a(708071);var eW=a(697551);a(746806),a(488578),a(63666);let ej="rating_stats_data--averageStar--YdqTY";function eZ({isHovered:e}){return r.createElement("span",{className:ej,"aria-label":(0,h.t)("community.detail_view.full_star")},r.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M7.77304 0.492166C7.86239 0.298449 8.13771 0.298448 8.22707 0.492166L10.2571 4.89337L15.0703 5.46405C15.2821 5.48917 15.3672 5.75101 15.2106 5.89585L11.6521 9.18663L12.5967 13.9405C12.6383 14.1498 12.4155 14.3116 12.2294 14.2074L8.00005 11.84L3.77072 14.2074C3.58457 14.3116 3.36183 14.1498 3.4034 13.9405L4.348 9.18663L0.789528 5.89586C0.632903 5.75101 0.717982 5.48917 0.929831 5.46405L5.74296 4.89337L7.77304 0.492166Z",fill:e?"var(--color-text-tooltip-warning, $yellow_400_light)":"var(--color-multiplayeryellow, $multiplayerYellow)"})))}function eY(){return r.createElement("span",{className:ej,"aria-label":(0,h.t)("community.detail_view.empty_star")},r.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58344 5.82031L7.99995 2.38731L6.41646 5.82031L2.66216 6.26545L5.43781 8.83229L4.70102 12.5404L7.99995 10.6938L11.2989 12.5404L10.5621 8.83229L13.3377 6.26545L9.58344 5.82031ZM15.0702 5.46385C15.282 5.48897 15.3671 5.75081 15.2105 5.89566L11.652 9.18643L12.5966 13.9403C12.6382 14.1496 12.4154 14.3114 12.2293 14.2072L7.99995 11.8398L3.77062 14.2072C3.58447 14.3114 3.36173 14.1496 3.4033 13.9403L4.3479 9.18643L0.789429 5.89566C0.632804 5.75081 0.717883 5.48897 0.929731 5.46385L5.74286 4.89318L7.77294 0.491968C7.86229 0.29825 8.13762 0.29825 8.22697 0.491968L10.257 4.89318L15.0702 5.46385Z",fill:"var(--color-text-secondary,$figmaFGBlack5)"})))}let eX="rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd";var eq=a(610253),eJ=a(13033);function eQ({onSelect:e,existingRating:t,showDescriptions:a=!1,useBigStars:n=!0,isOptional:l=!1,disabled:i=!1,disabledTooltip:o}){let[s,c]=(0,r.useState)(0),[d,u]=(0,r.useState)(0),[m,p]=(0,r.useState)(!1),_=[(0,h.t)("community.star_ratings.i_really_dont_like_it"),(0,h.t)("community.star_ratings.i_dont_like_it"),(0,h.t)("community.star_ratings.its_okay"),(0,h.t)("community.star_ratings.i_like_it"),(0,h.t)("community.star_ratings.i_love_it")];(0,r.useEffect)(()=>{void 0===t||s||(c(t),u(t))},[t,s]);let g=n?r.createElement(ea.B,{svg:eq.A,className:"rating_star_selector--emptyStar--P-7A1 rating_star_selector--star--ML342","aria-label":(0,h.t)("community.detail_view.empty_star"),dataTestId:"empty-star-big"}):r.createElement(eY,null),E=n?r.createElement(ea.B,{svg:eJ.A,className:m?"rating_star_selector--fullStarHover--JKgxp rating_star_selector--star--ML342":"rating_star_selector--fullStar--rCWKu rating_star_selector--star--ML342","aria-label":(0,h.t)("community.detail_view.full_star"),dataTestId:"full-star-big"}):r.createElement(eZ,{isHovered:m}),y=e=>{i||(c(e+1),p(!0))},v=t=>{i||(t+1===d&&l?(u(0),e(0)):(u(t+1),e(t+1)))};return r.createElement("div",{className:n?"rating_star_selector--starInfoContainer--aW-rA":"rating_star_selector--starInfoContainerBigStars--y3zus rating_star_selector--starInfoContainer--aW-rA"},r.createElement("div",{className:i?"rating_star_selector--starContainerDisabled--7bMU6 rating_star_selector--starContainer--1y2ZB":"rating_star_selector--starContainer--1y2ZB",onMouseLeave:()=>{i||d===s||c(d)},"data-tooltip-type":i?D.Ib.TEXT:void 0,"data-tooltip":i?o:void 0,"data-tooltip-show-immediately":!0,"data-testid":"rating-tooltip"},(()=>{let e=[];for(let t=0;t<5;t++)e.push(r.createElement("span",{className:f.cx.flex.$,key:`rating-star-${t}}`,onMouseEnter:()=>y(t),onMouseLeave:()=>p(!1),onClick:()=>v(t),role:"button",tabIndex:0},t<s?E:g));return e})()),r.createElement("div",{className:"rating_star_selector--ratingDescriptionVisibility--XvJs2"},r.createElement(r.Fragment,null,a&&r.createElement("div",{className:n?"rating_star_selector--ratingDescriptionBigStars--WKSN3 rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd":eX},_[s-1]),l&&0===s&&r.createElement("div",{className:eX},i?(0,h.tx)("community.rating_review.ratings_not_available"):(0,h.tx)("community.rating_review.optional")))))}function e$({userRating:e,isInsertsModal:t,disabled:a,disabledTooltip:n,openRatingModal:l}){return r.createElement("div",{className:t?"rating_stats_view--ratingSelectorContainerInsertsModal--yPaAm rating_stats_view--ratingSelectorContainer--9lgDS":"rating_stats_view--ratingSelectorContainer--9lgDS"},r.createElement("div",{className:t?"rating_stats_view--ratingCTAInsertsModal--lcpeW text--fontPos11--2LvXf text--_fontBase--QdLsd":"rating_stats_view--ratingCTA--Wa386 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e?r.createElement("div",{onClick:()=>l(e?.ratingValue),className:"rating_stats_view--editRating---V3U6",role:"button",tabIndex:0},(0,h.tx)("community.detail_view.edit_rating")):(0,h.tx)("community.detail_view.leave_a_rating")),r.createElement(eQ,{onSelect:l,existingRating:e?.ratingValue,disabled:a,disabledTooltip:n}))}var e0=a(466636),e1=a(545941),e2=a(970516),e5=a(641638),e3=a(441088),e4=a(154026),e6=a(328570),e7=a(558867),e8=a(350913),e9=a(984226),te=a(927206),tt=a(552993),ta=a(16774),tn=a(647173);function tr({onBack:e,text:t}){let a=(0,P.ks)();return r.createElement("div",{className:"browse_resource_modal_tab_header--header--MQQB5 text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement("div",{className:"browse_resource_modal_tab_header--left--UnLHb"},r.createElement(ea.B,{"data-not-draggable":!0,svg:tn.A,className:"browse_resource_modal_tab_header--backButton--xXsNC fd_browse_resource_modal--backButton--S7dMz",onClick:e}),t),!a&&r.createElement(er.Ex,{containerClassName:"browse_resource_modal_tab_header--close--9Fu6o"}))}var tl=a(632788),ti=a(228302);let to="detail_view--ratingSelectorContainer--zbvCM";var ts=a(362679),tc=a(13556),td=a(949554);function tu(e){let t=(0,l.wA)(),{activeTab:a}=(0,er.IT)(),n=a===el.s.PLUGIN,i=(0,k.cW)(),o=(0,k.ZT)(),s=(n?i:o)[e.resourceId];return(r.useEffect(()=>{s&&s.community_publishers||t(J.af({id:e.resourceId,resourceType:n?M.bD.PLUGIN:M.bD.WIDGET}))},[t,s,e.resourceId,n]),s)?r.createElement(tm,{resourceId:e.resourceId,resource:s}):r.createElement("div",{className:f.cx.flex.wFull.borderBox.justifyCenter.pt32.$},r.createElement(W.kt,{size:"medium"}))}function tm(e){let{resource:t}=e,{activeTab:a}=(0,er.IT)(),n=a===el.s.PLUGIN,i=(0,l.wA)(),s=(0,P.ks)(),c=(0,y._I)(),d=(0,k.JI)(),u=(0,L.Um)(),m=(0,er.NF)((0,e3.T)()?er.gC+64:er.gC),_=(0,l.d4)(e=>e.authedUsers),g=(0,eU.EO)(t),E=(0,eU.lt)(t),v=(0,eU.gn)(t),b=(0,e0.QQ)(E),C=(0,l.d4)(e=>e.authedActiveCommunityProfile),w=(0,ta.b)(),T=(0,O.sZ)(),I=(0,k.ll)(),A=(0,k.U6)(),R=Object.values((0,k.$1)()).find(t=>String(t.plugin_id)===e.resourceId),{dragState:F,onInsertableResourcePointerDown:U}=(0,e6.P)({resource:(0,ef.uF)(t),clickToInsert:!0,afterSuccessfulInsert:w,triggeredFrom:"universal-insert"}),{canRate:H=!1}={},G=r.useCallback(()=>{i(e2.Pv({url:n?(0,e8.ab)(e.resourceId):(0,e8.ox)(e.resourceId),extensionType:n?"plugin":"widget"}))},[i,e.resourceId,n]),V=n&&u?.type===tl.yW&&u.data.pluginId===e.resourceId&&u.data.targetRect,z=r.useCallback(t=>{t.stopPropagation(),n&&(V?i(N.oB()):i(N.j7({type:tl.yW,data:{pluginId:e.resourceId,targetRect:t.currentTarget.getBoundingClientRect()}})))},[n,V,i,e.resourceId]),K=r.useCallback(()=>{i(N.oB())},[i]);if(!t)return null;t.community_resource_payment=E;let W=(0,ef.uF)(t),j=(0,eU.Zk)(C,_,t),Z=(0,ef.og)({canAssociatedUserPurchaseThisResource:j,resource:t}),Y=!R&&(0,e5.XV)({org:T,extension:t,allowlistedExtensions:n?I:A}),X=n?r.createElement(eg.tO,{pluginId:e.resourceId,usePrimaryButtonStyles:!0,dropdownShownType:"DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU_DETAIL_VIEW"}):r.createElement(eg.GJ,{widgetId:e.resourceId});return r.createElement(x.fu,{name:"detail",properties:{resourceId:e.resourceId,resourceType:n?M.bD.PLUGIN:M.bD.WIDGET,isMonetized:(0,M.m3)(t),editorType:"figma"}},r.createElement(tp,null),r.createElement(p.P,{height:m,onScroll:K,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement("div",{className:"detail_view--contentContainer--nSBG8"},r.createElement("div",{className:(0,e3.T)()?"detail_view--contentContainerVsCode--QO3Ls":void 0},r.createElement("div",{className:(0,e3.T)()?"detail_view--coverImageContainerVsCode--4UADZ detail_view--coverImageContainer--2AZZG detail_view--coverImageContainer--2AZZG":"detail_view--coverImageContainer--2AZZG"},r.createElement("img",{className:o()([(0,e3.T)()?"detail_view--coverImageVsCode--ZtGDB":n?"detail_view--coverImageNotDraggable--5PzSB detail_view--coverImage---G-H1":"detail_view--coverImage---G-H1",f.cx.if((0,e3.T)(),f.cx.bRadius5).$]),src:W.redirect_cover_image_url||"",alt:`${W.name}`,onPointerDown:e=>!n&&U(e),role:"presentation"}),r.createElement(e4.E,{dragState:F})),v&&r.createElement(te.cu,null),Z&&!v&&!b&&r.createElement(ez,{resource:t}),r.createElement("div",{className:(0,e3.T)()?"detail_view--infoContainerVsCode--g6DeF detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd":"detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement("div",{className:"detail_view--metadataContainer--GSTfB"},r.createElement("div",{className:"detail_view--name--oJZlL text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement("div",{className:"detail_view--nameString--D7CH4 ellipsis--ellipsis--Tjyfa"},W.name),(0,eP.$3)({resource:t,height:"16",validBadges:[eP.op.PURCHASED],authedActiveCommunityProfile:C})||r.createElement(eF.I,{badges:t.badges,height:"16",hideTooltip:!0})),r.createElement("div",{className:"detail_view--publishers--EXOAA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(t.community_publishers?.accepted||[]).length>0&&r.createElement(r.Fragment,null,r.createElement(e7.Ro,{entity:t.community_publishers?.accepted[0],size:16,className:"detail_view--avatar--trwkE"}),(0,er.kB)(t)))),(!s||d)&&r.createElement("div",{className:"detail_view--actionsRow--sAwdf"},r.createElement("div",{className:"detail_view--ctaContainer--Z5uKT"},g&&!(0,eM.kc)().community_hub_admin_reviewer?r.createElement(eK.I,{resource:t,context:M.aL.INSERTS,payment:E}):Y?r.createElement(ti.s,{version:W,isPlugin:n}):X),r.createElement("div",{className:f.cx.ml8.flex.itemsCenter.$},r.createElement(tt._W,{resourceId:e.resourceId,resourceType:n?M.vt.PLUGIN:M.vt.WIDGET,parentView:tt.nN.DETAIL})),s&&(0,ef.Th)(W,T,I)?r.createElement(r.Fragment,null,r.createElement("div",{className:"detail_view--dotsContainer--JdwCt"},r.createElement(B.K0,{svg:ts.A,fallbackSvg:tc.A,"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.more_options"),onClick:z,className:"detail_view--moreOptionsIcon--najos"})),V&&r.createElement(tl.Gq,{resourceId:e.resourceId,plugin:W,resourceType:n?M.vt.PLUGIN:M.vt.WIDGET})):r.createElement(B.K0,{svg:td.A,"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.copy_link"),onClick:G,className:"detail_view--copyLinkIcon--PFKiL"})),s&&!c&&r.createElement(S,{name:W.name}),r.createElement("div",{className:"detail_view--horizontalDivider--nZbBH"}),r.createElement("div",{className:"detail_view--resourceUsageDetails--dKwea"},r.createElement(e9.f,{resource:t})),r.createElement("div",{className:to},H&&(0,e1.Ul)(t)&&r.createElement("div",{className:to},r.createElement(e$,{openRatingModal:e=>{},isInsertsModal:!0}))),r.createElement(eD.R,{fallback:null,errorFallback:null,value:W.description})))),r.createElement(t_,{resourceId:e.resourceId})))}function tp(){let{closeResource:e,activeTab:t}=(0,er.IT)();return r.createElement(tr,{onBack:e,text:t===el.s.PLUGIN?(0,h.tx)("universal_insert.plugin"):(0,h.tx)("universal_insert.widget")})}function t_(e){let{activeTab:t}=(0,er.IT)(),a=t===el.s.PLUGIN?"plugin":"widget",{href:n,onClick:l}=(0,ee.y)(`/community/${a}/${e.resourceId}`);return r.createElement(r.Fragment,null,r.createElement(et.Ph,{className:"detail_view--communityLink--e-ixL fd_browse_resource_modal--communityLinkBase---qAie text--fontPos11--2LvXf text--_fontBase--QdLsd",href:n,onClick:l,target:"_blank",trackingEventName:"Inserts Detail View - Browse More From Community",trusted:!0},r.createElement(ea.B,{svg:eo.A,className:"detail_view--communityLinkIcon--FPd8D fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd"}),(0,h.tx)("universal_insert.see_more_details_in_community")),r.createElement("div",{className:"detail_view--communityLinkSpacer--2-rRR"}))}var tf=a(175290),th=a(983405),tg=a(553015),tE=a(896474),ty=a(809840),tv=a(933464),tb=a(908341);function tC({isDesktop:e}){return r.createElement(th.Y1,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center"},r.createElement(ea.B,{svg:tb.A,className:f.cx.colorIconSecondary.pb24.$,autosize:!0,height:(0,e3.T)()?"64px":void 0}),r.createElement(tw,{isDesktop:e}))}function tw({isDesktop:e}){let t={learnMoreLink:r.createElement("a",{href:"https://www.figma.com/plugin-docs",target:"_blank",className:f.cx.cursorPointer.font11.colorTextBrand.$},(0,h.tx)("dev_handoff.inspect_panel.learn_more_plugin_development"))};return r.createElement(r.Fragment,null,e?r.createElement(r.Fragment,null,r.createElement("div",{className:f.cx.alignCenter.$},r.createElement(ty.E,{color:"secondary"},(0,h.tx)("dev_handoff.inspect_panel.create_first_here")),r.createElement("br",null),r.createElement(ty.E,null,(0,h.tx)("dev_handoff.inspect_panel.learn_more_link",t))),r.createElement(tT,null)):r.createElement("div",{className:f.cx.alignCenter.$},r.createElement(ty.E,{color:"secondary"},(0,h.tx)("dev_handoff.inspect_panel.inspect_plugins_go_here")),r.createElement("br",null),r.createElement(ty.E,{color:"secondary"},(0,h.tx)("dev_handoff.inspect_panel.use_desktop_to_develop")),r.createElement("br",null),r.createElement(ty.E,null,(0,h.tx)("dev_handoff.inspect_panel.learn_more_link",t))))}function tT(){let e=(0,l.wA)(),t=(0,L.Um)(),a=t?.type===tv.kt,n=r.useCallback(t=>{a?e(N.oB()):e(N.j7({type:tv.kt,data:{targetRect:t.currentTarget?.getBoundingClientRect()}}))},[e,a]);return r.createElement("div",{className:f.cx.pt16.$},r.createElement(tg.$,{onClick:n},r.createElement(th.Y1,{direction:"horizontal",verticalAlignItems:"center"},r.createElement(tE.In,{icon:"plus-32"}),r.createElement(ty.E,null,(0,h.tx)("dev_handoff.inspect_panel.new_plugin")),r.createElement(tE.In,{icon:"chevron-down-32"}))),a&&r.createElement("div",null,r.createElement(tv.Pq,{resourceType:M.bD.PLUGIN})))}var tS=a(361555);function tN(){let{activeTab:e}=(0,er.IT)(),t=(0,P.$A)((0,l.d4)(e=>e.selectedView)),a=(0,k.nl)({allowNonVsCodePluginsInVsCode:!0}),n=(0,k.yQ)(),i=e===el.s.WIDGET,o=i?n:a,s=(0,R.M)(),c=(0,k.sp)(i);return s&&(Object.keys(o).length>0||c.length>0)?r.createElement(x.fu,{name:"Development"},Object.keys(o).map((e,t)=>r.createElement(eg.ff,{resourceId:e,key:e,type:eg.R7.DEVELOPMENT,keyboardNavigationPath:[er.B6,t]})),c.map((e,t)=>r.createElement(eg.ff,{resourceId:e.id,key:e.id,type:eg.R7.DEVELOPMENT_MISSING_LOCAL,keyboardNavigationPath:[er.B6,Object.keys(o).length+t]}))):t?r.createElement(tf.Y,{horizontalAlignItems:"center",verticalAlignItems:(0,e3.T)()?"start":"center"},r.createElement(tC,{isDesktop:!!s})):r.createElement(tS.W,{isWidget:i})}function tx({viewType:e,onBackPress:t}){let a=(0,er.NF)(er.gC);return r.createElement(r.Fragment,null,r.createElement(tk,{viewType:e,onBackPress:t}),r.createElement(p.P,{height:a,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement(tI,{viewType:e}),r.createElement(es,null)))}function tk({viewType:e,onBackPress:t}){let a;let{activeTab:n}=(0,er.IT)(),l=n===el.s.PLUGIN;return a=e===el.Y.ORG_PRIVATE_EXPANDED_LIST?l?(0,h.tx)("universal_insert.all_internal_plugins"):(0,h.tx)("universal_insert.all_internal_widgets"):l?(0,h.tx)("universal_insert.all_approved_plugins"):(0,h.tx)("universal_insert.all_approved_widgets"),r.createElement("div",{className:ei.cB},r.createElement("div",{className:ei.kb},r.createElement(ea.B,{svg:tn.A,className:ei.Gv,onClick:t,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()}),r.createElement("div",{className:ei.A_},a)),r.createElement(er.Ex,{containerClassName:ei.VN}))}function tI({viewType:e}){let t;let{activeTab:a}=(0,er.IT)(),n=(0,ed.h)("plugin"),l=(0,ed.h)("widget"),i=a===el.s.WIDGET,o=(0,k.ll)(),s=(0,$.bT)(Object.values(o)),c=(0,k.U6)(),d=i?Object.keys(c):s.map(e=>e.plugin_id);return t=e===el.Y.ORG_PRIVATE_EXPANDED_LIST?r.createElement(r.Fragment,null,(i?l:n).map((e,t)=>r.createElement(eg.ff,{resourceId:e.plugin_id,type:eg.R7.ORG_PRIVATE,key:e.plugin_id,keyboardNavigationPath:[er.B6,t]}))):r.createElement(r.Fragment,null,d.map((e,t)=>r.createElement(eg.ff,{resourceId:e,type:eg.R7.COMMUNITY,key:e,keyboardNavigationPath:[er.B6,t]}))),r.createElement("div",{className:ei.QF},t)}var tA=a(334437),tL=a(886653);function tO(e){let t=(0,k.Be)(),a=t.widgets,n=Object.values(t.plugins).sort(k.YW).filter(e=>"user"===e.installed_by),l=(0,tL.xx)(()=>n),i=(0,$.Ol)(l()),o=(i=(0,$.bT)(i)).map(e=>e.plugin_id),s=Object.values(a).sort(k.YW).filter(e=>"user"===e.installed_by),c=(0,tL.xx)(()=>s),d=(0,$.Ol)(c()).map(e=>e.plugin_id);return r.useMemo(()=>e?d:o,[o,d,e])}function tR(e){let t=tO(e.isWidget),[a,n]=r.useState(!1),l=r.useMemo(()=>a?t:t.slice(0,40),[t,a]);return 0===t.length?null:r.createElement(x.fu,{name:"saved"},r.createElement("div",{className:ei.VA},(0,h.tx)("universal_insert.saved")),l.map((e,t)=>r.createElement(eg.ff,{key:e,resourceId:e,type:eg.R7.SAVED,keyboardNavigationPath:[er.B6+1,t]})),t.length>40&&!a&&r.createElement("button",{className:ei.AR,onClick:()=>n(!0)},e.isWidget?(0,h.tx)("universal_insert.show_all_saved_widgets"):(0,h.tx)("universal_insert.show_all_saved_plugins")))}function tM(e){let{activeTab:t}=(0,er.IT)(),a=(0,k.op)(),n=(0,k.qr)(),l=(0,k.Be)(),i=t===el.s.WIDGET,{filterByAllowlist:o,filterByPublicResourcesAllowed:s}=(0,k.jA)(i),c=i?n:a;c=s(c=o(c)),c=(0,$.bT)(c);let d=r.useMemo(()=>c.length>0?r.createElement(x.fu,{name:"recents"},r.createElement("div",{className:ei.VA,"data-onboarding-key":"recents_plugin_header"},(0,h.tx)("universal_insert.recents")),c.slice(0,er.Zm).map((e,t)=>r.createElement(eg.ff,{key:e.plugin_id,type:eg.R7.RECENT,resourceId:e.plugin_id,keyboardNavigationPath:[er.B6,t]}))):r.createElement(r.Fragment,null),[c]),u=tO(i);if(!0===l.loaded&&c.length+u.length===0)return r.createElement(x.fu,{name:"Recents and saved"},r.createElement(tA.H,{isWidget:t===el.s.WIDGET}),r.createElement(ew,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:er.B6+2}));let m=r.createElement(tR,{isWidget:t===el.s.WIDGET}),p=c.length>0,_=u.length>0;return r.createElement(x.fu,{name:"Recents and saved"},d,_&&p&&r.createElement("div",{className:ei.Wz}),m,r.createElement(ew,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:er.B6+2}))}var tD=a(44948);function tP(){let e=r.useRef({}),t=r.useCallback((t,a)=>{e.current[t]=a},[]),a=r.useCallback(t=>e.current[t]||[],[]),n=r.useCallback(t=>t in e.current,[]),l=r.useCallback(()=>{e.current={}},[]);return r.useMemo(()=>({setResultsForQuery:t,getResultsForQuery:a,hasQueryResultsCached:n,resetCache:l}),[t,a,n,l])}var tF=a(463592);let tB=new tF.Ef([],{...eW.Pk,keys:eW.Kj}),tU=new tF.Ef([],{...eW.Pk,keys:[{name:"name",weight:1}]}),tH=new tF.Ef([],{...eW.Pk,keys:eW.Kj});function tG(e){let t;let{activeTab:a}=(0,er.IT)(),n=a===el.s.WIDGET,l=(0,P.ks)(),i=e.query.trim(),{pluginServerSideSearch:o,pluginSearchIsLoading:s,pluginSearchHasResolved:c}=(0,k.I5)(X.k.Editors.FIGMA),{widgetServerSideSearch:d,widgetSearchIsLoading:u,widgetSearchHasResolved:m}=(0,k.SG)(X.k.Editors.FIGMA),{getResultsForQuery:_,setResultsForQuery:f,resetCache:g}=tP(),E=_(i),{getResultsForQuery:y,setResultsForQuery:v,resetCache:b}=tP(),C=y(i),{getResultsForQuery:w,setResultsForQuery:T,hasQueryResultsCached:S,resetCache:N}=tP(),A=tV(w(i),[E]),{getResultsForQuery:L,setResultsForQuery:R,hasQueryResultsCached:M,resetCache:D}=tP(),F=tV(L(i),[E,A]),{getResultsForQuery:B,setResultsForQuery:U,resetCache:H}=tP(),G=tV(B(i),[E,A,F]),{getResultsForQuery:V,setResultsForQuery:z,hasQueryResultsCached:K,resetCache:j}=tP(),Z=tV(V(i),[E,A,F,G]);r.useEffect(()=>{g(),b(),N(),D(),j(),H()},[n,H,j,N,b,D,g]);let Y=(0,k.Tg)(),q=(0,k.qr)(),J=(0,k.$1)(),Q=(0,k.yQ)(),$=(0,k.ll)(),ee=(0,k.U6)(),et=(0,k.cW)(),ea=(0,k.ZT)(),en=(0,tD.k9)(()=>Object.keys(n?ee:$).map(e=>(0,ef.uF)((n?ea:et)[e])),[$,ea,et,ee,n]);r.useEffect(()=>{tB.set(Object.values(n?q:Y))},[Y,q,n]),r.useEffect(()=>{tU.set(Object.values(n?Q:J))},[J,Q,n]),r.useEffect(()=>{tH.set(en)},[en]);let eo=(0,O.sZ)(),{serverSideSearch:es,isLoading:ec,hasResolved:ed}=a===el.s.PLUGIN?{serverSideSearch:o,isLoading:s,hasResolved:c}:{serverSideSearch:d,isLoading:u,hasResolved:m};r.useEffect(()=>{""!==i&&(K(i)&&M(i)&&S(i)||es(i,e=>z(i,e),e=>R(i,e),e=>T(i,e)),f(i,tB.search(i).map(e=>e.plugin_id)),v(i,tU.search(i).map(e=>e.localFileId.toString())),U(i,tH.search(i).map(e=>e.plugin_id)))},[i,K,S,M,es,U,z,T,v,R,f]);let eu=I.z4.getIsExtension()?er.gC+er.Ix:l?er.gC+er.Ix+er.ff+8:er.gC+er.Ix,em=(0,er.NF)(eu),ep=l?ei.mH:ei.PP,e_=l?ei.k8:ei.DN,eh=r.useCallback(t=>{let a=e.searchContainerRef.current;a&&(t>0?a.className=e_:a.className=ep)},[e.searchContainerRef,e_,ep]);r.useEffect(()=>()=>{e.searchContainerRef.current&&(e.searchContainerRef.current.className=ep)},[]);let eE=eo&&(n?eo.widgets_whitelist_enforced:eo.plugins_whitelist_enforced),ey=(!eE||(0,e5.Cs)({org:eo,isWidget:n}))&&Z&&Z.length>0&&ed,ev=eE&&G.length>0,eb=eo&&F&&F.length>0&&ed,eC=A.length>0&&ed,ew=E.length>0,eT=C.length>0,eS=ed&&(ey||eb||ew||eC||ev);if(ed&&!(ew||eT||eS))t=r.createElement("div",{className:ei.zN},n?eE?(0,h.tx)("universal_insert.no_widgets_matching_query_for_allowlist",{orgName:eo.name,query:i}):(0,h.tx)("universal_insert.no_widgets_matching_query",{query:i}):eE?(0,h.tx)("universal_insert.no_plugins_matching_query_for_allowlist",{orgName:eo.name,query:i}):(0,h.tx)("universal_insert.no_plugins_matching_query",{query:i}));else{t=[];let e=er.B6;ew&&(t.push(r.createElement(tK,{sectionHeader:(0,h.tx)("universal_insert.recents"),ids:E,type:eg.R7.RECENT,sectionIdx:e,key:eg.R7.RECENT})),e+=1),eT&&(t.push(r.createElement(tK,{sectionHeader:(0,h.tx)("universal_insert.development"),ids:C,type:eg.R7.DEVELOPMENT,key:eg.R7.DEVELOPMENT,sectionIdx:e})),e+=1),ec&&!eS?t.push(r.createElement(W.kt,{className:ei.S,key:"Loading spinner"})):(eC&&(t.push(r.createElement(tK,{sectionHeader:(0,h.tx)("universal_insert.saved"),ids:A,type:eg.R7.SAVED,key:eg.R7.SAVED,sectionIdx:e})),e+=1),eb&&(t.push(r.createElement(tK,{sectionHeader:eo.name,ids:F,type:eg.R7.ORG_PRIVATE,key:eg.R7.ORG_PRIVATE,sectionIdx:e})),e+=1),ev&&(t.push(r.createElement(tK,{sectionHeader:(0,h.tx)("universal_insert.approved_from_figma_community"),ids:G,type:eg.R7.COMMUNITY,key:`ALLOW_LIST_${eg.R7.COMMUNITY}`,sectionIdx:e})),e+=1),ey&&t.push(r.createElement(tK,{sectionHeader:(0,h.tx)("universal_insert.from_community"),ids:Z,type:eg.R7.COMMUNITY,key:eg.R7.COMMUNITY,sectionIdx:e})))}return r.createElement(p.P,{height:em,onScroll:eh,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement(x.fu,{name:"search",properties:{searchQuery:i,resourceType:a}},t))}let tV=(e,t)=>{let a={};return t.forEach(e=>e.forEach(e=>a[e]=!0)),e.filter(e=>!a[e])};function tz(e){return r.createElement("div",{onClick:()=>(0,V.sx)("search result clicked"),role:"none","data-testid":`browse-resource-tile-${e.resourceId}`},r.createElement(eg.ff,{resourceId:e.resourceId,type:e.type,keyboardNavigationPath:e.keyboardNavigationPath,shouldFocusFirstItem:!0}))}function tK(e){return r.createElement(r.Fragment,null,e.sectionIdx>er.B6&&r.createElement("div",{className:ei.Wz}),r.createElement("div",{className:ei.bV},e.sectionHeader),e.ids.map((t,a)=>r.createElement(tz,{key:t,resourceId:t,type:e.type,keyboardNavigationPath:[e.sectionIdx,a]})))}let tW=()=>({[el.s.COMPONENT]:{label:(0,h.t)("universal_insert.components"),tab:el.s.COMPONENT,resourceTypeLabel:(0,h.t)("universal_insert.components_resource_type")},[el.s.PLUGIN]:{label:(0,h.t)("community.view_bar.plugins"),tab:el.s.PLUGIN,resourceTypeLabel:(0,h.t)("community.plugins.plugin")},[el.s.WIDGET]:{label:(0,h.t)("community.view_bar.widgets"),tab:el.s.WIDGET,resourceTypeLabel:(0,h.t)("community.plugins.widget")}});function tj(e){let t=ei.Mf,a=ei.xR;return r.createElement("div",{className:ei.Ng},r.createElement("div",{className:ei.oB},Object.entries(tW()).map(([n,l])=>r.createElement("div",{className:ei.nN,key:n,role:"tab",onClick:()=>e.onClick(l.tab),onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),tabIndex:0},r.createElement("div",{key:n,"data-label":l.label,className:l.tab===e.selectedTab?a:t},l.label)))),r.createElement(er.Ex,{containerClassName:ei.VN}))}var tZ=a(120118),tY=a(115381);let tX="BROWSE_CODEGEN_FILTER_DROPDOWN";function tq(){let e=r.useRef(null),{fdPreviewResource:t,initialFdView:a}=(0,l.d4)(e=>e.universalInsertModal),i=t?.id,{activeTab:o,currentView:s,setCurrentViewOrTab:c}=(0,er.IT)(),u=(0,P.ks)(),p=u?ei.Hd:ei.Kl,[_,f]=r.useState(a?"":n||""),[g,E]=r.useState(el.Y.MAIN),y=r.useCallback(e=>{if(e.keyCode===d.Uz.ENTER){let t=e.target,a=t?.querySelector("button");a?.click()}},[]);r.useEffect(()=>{n=_},[_]);let v=r.useMemo(()=>r.createElement(tj,{onClick:t=>{t!==el.s.COMPONENT&&e.current?.querySelector("input")?.focus(),c({newTab:t})},selectedTab:o}),[o,c]),b=r.useMemo(()=>{let t=u?ei.mH:ei.PP;return o===el.s.COMPONENT?r.createElement(x.fu,{name:o},r.createElement(eR,{header:v,query:_,setQuery:f})):r.createElement(x.fu,{name:o},!u&&v,r.createElement("div",{onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),role:"none"},r.createElement(m.dP,{onKeyDown:y},r.createElement("div",{className:t,ref:e},r.createElement(tJ,{searchQuery:_,placeholder:o===el.s.PLUGIN?(0,h.t)("universal_insert.search_all_plugins"):o===el.s.WIDGET?(0,h.t)("universal_insert.search_all_widgets"):(0,h.t)("universal_insert.search_all_extensions"),setSearchQuery:f})),0===_.length&&r.createElement(tQ,{viewExpandedList:E,currentView:s,setCurrentView:e=>c({newView:e})}),_.length>0&&r.createElement(tG,{query:_,searchContainerRef:e}))))},[o,y,_,u,v,s,c]),C=null;return i?C=r.createElement(tu,{resourceId:i}):(g===el.Y.ORG_PRIVATE_EXPANDED_LIST||g===el.Y.ORG_ALLOWLIST_EXPANDED_LIST)&&(C=r.createElement(m.dP,{onKeyDown:y},r.createElement(tx,{viewType:g,onBackPress:()=>E(el.Y.MAIN)}))),r.createElement("div",{className:p},r.createElement("div",{className:C?ei.Ye:ei.dJ},b),C&&r.createElement("div",{className:ei.dJ},C))}function tJ({searchQuery:e,setSearchQuery:t,placeholder:a}){let n=(0,l.wA)(),{setKeyboardNavigationElement:i}=(0,m.M3)({id:"search",path:[er.np,0]}),d=(0,L.Um)(),p=d?.type===tX,f=r.useRef(null),[y,v]=(0,c.fp)(E.RB),b=y&&!p,C=(0,A.LR)(),w=r.useCallback(a=>"Escape"===a.key&&(e?t(""):C(),!0),[C,e,t]),T=(0,s.A)(e=>{e.length>0?n(g.Dy({entryPoint:"figma:inserts"})):n(g.ky()),t(e)},300);r.useEffect(()=>()=>{n(g.ky())},[n]);let S=r.useCallback(()=>{p?n(N.oB()):n(N.j7({type:tX}))},[n,p]),x=[];x.push(r.createElement(u.MM,{checked:y,onClick:()=>{v(!y),S()},role:"menuitemcheckbox"},(0,h.t)("dev_handoff.inspect_panel.search_bar_filter_codegen_option")));let k=(0,P.ks)(),I=r.createElement(_.IW,{focusOnMount:!0,selectTextOnMount:!k,className:o()(k?ei.FK:ei.ON,{[ei.lX]:""===e}),query:e,placeholder:a,clearSearch:()=>{n(g.ky()),t("")},onChange:T,isKeyDownHandled:w,hideXIcon:!e,ref:e=>i(e?.searchInput??null)});if(!k||e)return I;let O="dev-mode-codegen-filter-menu";return r.createElement("div",{className:ei.Ub},I,r.createElement("div",{className:ei.gP},r.createElement("div",{ref:f},r.createElement(B.YW,{svg:b?tY.A:tZ.A,selected:p,selectedClassName:ei.rq,onClick:S,className:o()({[ei.Pt]:b}),onMouseDown:e=>p&&e.stopPropagation(),"data-tooltip-type":D.Ib.TEXT,"data-tooltip":(0,h.t)("dev_handoff.inspect_panel.search_bar_filter"),"aria-haspopup":"menu","aria-expanded":p,"aria-owns":O}))),p&&f.current&&r.createElement(F.Jz,{id:O,showPoint:!0,targetRect:f.current.getBoundingClientRect(),options:x,hideDropdown:S,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!1,focusContainerOnMount:!0,propagateCloseClick:!0}))}function tQ(e){let t=r.useRef(null),a=(0,P.ks)(),n=(0,y._I)(),i=I.z4.getIsExtension()?er.Ix+er.gC+48:a?er.gC+er.Kr+er.Ix+er.ff:er.gC+er.Kr+er.Ix,{activeTab:s,currentView:c}=(0,er.IT)(),d=(0,er.NF)(i),u=r.useRef(null),m=(0,l.wA)(),_=r.useCallback(e=>{t.current&&(e>0?t.current.className=o()(ei.gD,ei.d3):t.current.className=o()(ei.q_,ei.d3),m(N.oB()))},[t,m]);if(r.useEffect(()=>{u.current?.scrollToTop()},[s,c]),a&&!n)return r.createElement("div",null,r.createElement(p.P,{height:d,onScroll:_,innerClassName:a?f.cx.hFull.$:"",ref:u},r.createElement(r.Fragment,null,r.createElement(T,null),r.createElement(eT,{viewExpandedList:e.viewExpandedList}))));let h=r.createElement(r.Fragment,null,r.createElement(t$,{currentView:e.currentView}),"recents_and_saved"===e.currentView&&r.createElement(tM,{viewExpandedList:e.viewExpandedList}),"development"===e.currentView&&r.createElement(tN,null),"org"===e.currentView&&r.createElement(ev,{viewExpandedList:e.viewExpandedList}));return r.createElement("div",null,r.createElement("div",{className:o()(ei.q_,ei.d3),ref:t,"data-onboarding-key":"recents_and_saved_plugin_header"},r.createElement(t0,{currentView:e.currentView,onChange:e.setCurrentView}),"development"===e.currentView&&r.createElement("div",{className:ei.x0},r.createElement(H.n,{resourceType:s===el.s.WIDGET?M.bD.WIDGET:M.bD.PLUGIN}))),r.createElement(p.P,{height:d,onScroll:_,innerClassName:a?f.cx.hFull.$:"",ref:u},h))}function t$({currentView:e}){let{activeTab:t}=(0,er.IT)(),a=O.sZ()?.id,n=(0,k.f6)(),l=(0,k.wW)(),i=t===el.s.WIDGET?l:n,o="org"===e?i.filter(e=>e.org_id&&e.org_id===a):i;return 0===o.length?null:r.createElement("div",null,o.map((e,t)=>r.createElement(eg.ff,{resourceId:e.id,key:e.id,type:eg.R7.INVITED,keyboardNavigationPath:[er.dQ,t]})),r.createElement("div",{className:ei.Wz}))}function t0(e){let t=(0,l.wA)(),a=(0,L.Um)(),n=(0,O.sZ)(),i=(0,R.M)(),o=r.useCallback(e=>(function(e,t){switch(e){case"recents_and_saved":return(0,h.t)("universal_insert.recents_and_saved");case"development":return(0,h.t)("universal_insert.development");case"org":return t?.name||(0,h.t)("universal_insert.from_your_org")}})(e,n),[n]),s=["recents_and_saved"];return(i&&s.push("development"),1!==s.length||n)?r.createElement(U.l6,{id:"fd-browse-modal-main-view-select",property:e.currentView,formatter:{format:o},onChange:e.onChange,dispatch:t,chevronClassName:ei.bq,inputClassName:ei.yl,className:ei.E3,dropdownShown:a,dropdownWidth:173},s.map(e=>r.createElement(U.c$,{value:e,key:e},o(e))),n&&r.createElement(U.sK,null),n&&r.createElement(U.c$,{value:"org"},o("org"))):r.createElement("div",{className:ei.ZE},r.createElement("div",{className:ei.yl},o(s[0])))}},228302:(e,t,a)=>{a.d(t,{s:()=>h,w:()=>f});var n=a(411855),r=a(188507),l=a(946689),i=a(762638),o=a(939863),s=a(662275),c=a(964197),d=a(641638),u=a(335682),m=a(694687),p=a(239671),_=a(928754),f=(e=>(e.FigJamPluginTile="figjam_plugin_tile",e))(f||{});function h(e){let t=(0,r.wA)(),{version:a,isPlugin:f,variant:h}=e,g=(0,u.q5)(),E=(0,m.sZ)(),y=(0,d.RW)(),v=(0,c.a)(E?.id,a.plugin_id,y.loaded?y.data?.workspaceId:void 0);if(!g||!g.parentOrgId)return null;if(v){let e="figjam_plugin_tile"===h?(0,o.tx)("universal_insert.request"):(0,o.tx)("universal_insert.approval_pending");return n.createElement(l.nR,{disabled:!0,className:i.cx.wFull.$,dataTestId:"request-button-approval-pending"},e)}let b={extension:{pluginId:a.plugin_id,iconUrl:a.redirect_icon_url,name:a.name},isWidget:!f,orgId:g.parentOrgId,workspaceDetails:y.loaded?y.data:void 0,openedFrom:"editor",fullscreenEditorType:(0,p.wN)(g.editorType)},C="figjam_plugin_tile"===h?(0,o.tx)("universal_insert.request"):(0,o.tx)("universal_insert.request_approval");return n.createElement(l.nR,{onClick:()=>{t((0,s.to)({type:_.S,data:b}))},className:i.cx.wFull.$,dataTestId:"request-button"},C)}},766926:(e,t,a)=>{a.d(t,{G:()=>v,y:()=>b});var n=a(411855),r=a(188507),l=a(598045),i=a(775419),o=a(877723),s=a(939863),c=a(662275),d=a(101505),u=a(226055),m=a(457025),p=a(820642),_=a(498606),f=a(209234),h=a(27928),g=a(435898),E=a(861717),y=a(663364);let v="templates_toolbar";function b(){let e=(0,u.GS)(),t=(0,r.wA)(),a=(0,r.d4)(e=>e.modalShown?.type===h.PH.type),b=!(0,o.q8)()&&(0,g.Uy)(),C=(0,s.t)("whiteboard.inserts.templates"),w={isActive:a,onClick:()=>{a?t(c.Ce()):(m.oW.trigger("action",l.KWd.CLEAR),(0,h.KF)(t,{triggeredFrom:"toolbar",templateInsertionLocation:p.RD.CURRENT_FILE}))},trackingProperties:{trackingDescriptor:d.c.TEMPLATES_TOOLBAR_ITEM_CLICKED},onboardingKey:v};return e?n.createElement(E.Z,{tooltip:{type:_.Ib.TEXT,text:C},...w},n.createElement(i.Q,null)):n.createElement(f.P,{icon:y.A,addLeftMargin:!b,tooltipText:C,...w})}},10706:(e,t,a)=>{a.d(t,{s:()=>tg});var n=a(411855),r=a(188507),l=a(891093),i=a(226055),o=a(860178),s=a(902938),c=a(327017),d=a(571232),u=a(636751),m=a(629019),p=a.n(m),_=a(563706),f=a(939863),h=a(29680),g=a(866564),E=a(590695),y=a(498606),v=a(7959),b=a(735208),C=a(842439),w=a(703248);let T="voice_widget--modal--xsQ2A",S="voice_widget--show--O6ORx voice_widget--modal--xsQ2A",N="voice_widget--icon--wW-wb",x="voice_widget--iconContainer--CuKNM",k="voice_widget--muteButtonPosition--J282V",I="voice_widget--topRow--O1wj-",A="voice_widget--voiceModalPanel--KD-J1";function L(e){let{fileKey:t}=e;var{userIdsInCall:a}=(0,d.W5)(t);let r=a.size,l=(0,h.aV)(),i=(0,o.iZ)();n.useEffect(()=>{!_.XN&&i?.id&&!a.has(i.id)&&(0,g.w$)(r)},[r,i?.id,a]);let s=!l&&!_.XN;return((0,E.N)({isVisible:s}),s)?n.createElement("div",{className:p()(T,{[S]:!0})},n.createElement(v.Id,{className:A},n.createElement("div",{className:I},n.createElement("div",{className:"voice_widget--joinModalCountGroup--zxI6Q"},n.createElement(b.A.HeadphonesIcon,{className:w.QH,size:24}),a.size),n.createElement(C.K,{fileKey:e.fileKey,"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,f.t)("collaboration.voice.join_conversation"),isJoinWidget:!0,"data-onboarding-key":"audio-nux-key"},(0,f.tx)("collaboration.voice.join"))))):n.createElement(n.Fragment,null)}var O=a(976404),R=a(139689),M=a(182550),D=a(36381),P=a(27087),F=a(46481),B=a(738269),U=a(662275),H=a(988022),G=a(373205),V=a(338400),z=a(325538),K=a(558867),W=a(752019),j=a(498480),Z=a(574176),Y=a(507877),X=a(318812),q=a(206074),J=a(227795);let Q="captions_dialog--showGradient--ZAHRk";var $=a(727507),ee=a(554653);let et="DROPDOWN_TYPE_CAPTIONS_DIALOG_TYPE_SIZE";function ea({caption:e,user:t}){let a=e.userId+"_"+e.timestamp;return n.createElement("div",{className:"captions_dialog--captionRow--pgS-N",key:a},n.createElement("div",null,n.createElement(K.Ro,{className:"captions_dialog--avatar--ISexR",entity:{...t,id:e.userId},size:24}),n.createElement("div",{className:"captions_dialog--name--SmWv6"},t?t.name:e.userId)),e.text.map((e,t)=>n.createElement("div",{className:"captions_dialog--paragraph--SjDQd",key:a+"_"+t},e.map((e,r)=>n.createElement("div",{className:"captions_dialog--sentence--SJkHn",key:a+"_"+t+"_"+r},`${e} `)))))}let en=()=>({small:{style:"captions_dialog--smallText--aUeBx",label:(0,f.t)("collaboration.voice.small")},medium:{style:"captions_dialog--mediumText--ODxEN",label:(0,f.t)("collaboration.voice.medium")},large:{style:"captions_dialog--largeText---t1d2",label:(0,f.t)("collaboration.voice.large")},x_large:{style:"captions_dialog--xlargeText--C60DA",label:(0,f.t)("collaboration.voice.x_large")}}),er=Date.now();function el({call:e}){let t=en(),[a,l]=n.useState([]),[i,o]=n.useState(t.small.style),[s,c]=n.useState(!1),[u,m]=n.useState(!1),[p,_]=n.useState(!1),h=(0,r.d4)(e=>{if(!e.openFile)throw Error("Open file required");return e.openFile}),g=(0,r.d4)(e=>e.voice.activeCall[h.key]),E=(0,r.wA)(),[v,b]=n.useState(null),C=(0,X.Um)(),w=n.useRef(null),T=!!(C&&C.type===et),S=a.reduce((e,t)=>e.add(t.userId),new Set),N=(0,d.bF)(S,h.key).reduce((e,t)=>(e[t.userID]=t,e),{});n.useEffect(()=>{let t=e=>{e&&l(e)};return e.audioCaptionStream.subscribe(t),()=>e.audioCaptionStream.unsubscribe(t)}),n.useEffect(()=>{v&&v.scrollHeight-v.scrollTop-v.clientHeight<150&&er<Date.now()-150&&v.scrollTo({top:v.scrollHeight-v.clientHeight,behavior:"smooth"})}),n.useEffect(()=>{v&&!p&&(v.scrollTop=v.scrollHeight-v.clientHeight)},[v,p]);let x=!p&&g;return n.createElement("div",{className:["captions_dialog--captionsDialog--gOIvh",i].join(" ")},n.createElement("div",{className:["captions_dialog--topDivider--BlM0x captions_dialog--_divider--m8Skg",s?Q:""].join(" ")}),x&&n.createElement("div",{className:"captions_dialog--scrollContainer--WuVOJ",ref:e=>b(e),onScroll:e=>{v&&(m(0!=v.scrollHeight-v.scrollTop-v.clientHeight),c(0!==v.scrollTop))},onWheel:e=>{e.deltaY<0&&(er=Date.now())}},n.createElement("div",{className:"captions_dialog--scrollContainerInner--db2cV"},a.map(e=>n.createElement(ea,{key:e.timestamp,caption:e,user:N[e.userId]})))),x&&n.createElement("div",{className:["captions_dialog--bottomDivider--WBbo5 captions_dialog--_divider--m8Skg",u?Q:""].join(" ")}),x&&n.createElement("button",{onClick:()=>v.scrollTo({top:v.scrollHeight-v.clientHeight,behavior:"smooth"}),className:`captions_dialog--scrollToBottomButton--SeU-4 ${u?"captions_dialog--show--LLYog":""}`},(0,f.tx)("collaboration.voice.new_transcripts")),n.createElement("div",{className:"captions_dialog--header--SA3Wv",onClick:()=>_(!p)},n.createElement(Z.B,{className:x?"captions_dialog--closedCaptionsIconMaximized--N-lwT":"captions_dialog--closedCaptionsIconMinimized--Ou0WE",svg:$.A}),n.createElement("span",{className:"captions_dialog--label---1DXk"},(0,f.tx)("collaboration.voice.closed_captions")),n.createElement(j.Ex,{text:(0,f.t)("collaboration.voice.beta"),className:"captions_dialog--betaTag--qFyxq",color:j.zE.BRAND}),n.createElement(J.K0,{svg:ee.A,ref:w,className:"captions_dialog--typeSizeIcon--Xhxj-",onClick:e=>{e.stopPropagation(),E(Y.gR({type:et}))},"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,f.t)("collaboration.voice.text_size")}),w.current&&T&&n.createElement(q.j,{dispatch:E,items:Object.keys(t).map(e=>({name:e,displayText:t[e].label,className:[t[e].style,"captions_dialog--dropdownTextOptions--ma0Ue"].join(" "),isChecked:t[e].style===i})),showPoint:!0,parentRect:w.current?.getBoundingClientRect(),onSelectItem:e=>{e.name&&o(t[e.name].style)},minWidth:96}),n.createElement("div",{style:{clear:"both"}})))}var ei=a(325655),eo=a(118786),es=a(517333),ec=a(966712),ed=a(951158),eu=a(247866);let em=[u.$E.WARNING_RECV_AUDIO_DECODE_FAILED,u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW,u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW,u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW];function ep(e){let t;if((0,ed.Im)(e.activeWarnings))return null;for(let a of em)if(e.activeWarnings[a]){t=e.activeWarnings[a];break}return t?n.createElement("div",{className:e.className,"data-tooltip-type":y.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50},n.createElement(Z.B,{className:N,svg:eu.A})):null}function e_(e){if((0,ec.kc)().voice_localization_june_24)switch(e){case u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:return(0,f.t)("collaboration.voice.audio_input_too_low_warning");case u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:return(0,f.t)("collaboration.voice.speaker_volume_too_low_warning");case u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case u.$E.WARNING_RECV_AUDIO_DECODE_FAILED:return(0,f.t)("collaboration.voice.poor_connection_warning");default:return null}switch(e){case u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:return"Mic volume low. Consider switching devices.";case u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:return"Speaker or headphone volume low. Consider switching devices.";case u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case u.$E.WARNING_RECV_AUDIO_DECODE_FAILED:return"Connection is poor. Check your internet or leave and rejoin the conversation.";default:return null}}function ef(e){let{callEvent:t,onClick:a,notificationUserId:l}=e.notification,[o,c]=n.useState(null),[d,m]=n.useState(!1),p=n.useRef(),_=n.useRef(t),[h,g]=n.useState(),E=(0,r.d4)(e=>e.multiplayer.allUsers),y=(0,r.d4)(e=>e.voice.voiceUsersById),b=(0,i.GS)(),C=n.useMemo(()=>{if(l){if(l in y)return y[l].name;let e=E.find(e=>e.userID===l);if(e)return e.name}return"User"},[l,y,E]),w=h?.href,T=n.useMemo(()=>w?"a":"div",[w]);if(n.useEffect(()=>()=>{p?.current&&clearTimeout(p.current)},[]),n.useEffect(()=>{let e=()=>{m(!1),c(null)};h?(m(!0),c(null),h.persist||c(setTimeout(()=>{e()},2e3))):e()},[h]),n.useEffect(()=>()=>{o&&clearTimeout(o)},[o]),n.useEffect(()=>{switch(_.current=t,t){case u.$E.CONNECTED:g({msg:(0,f.t)("collaboration.voice.connected"),type:u.w.SUCCESS,icon:b?n.createElement(eo.g,null):void 0});break;case u.$E.CONNECTED_WITH_MIC_DISABLED:g({msg:(0,f.t)("collaboration.voice.connected_check_your_microphone_permissions_to_start_chatting"),allowMultiLine:!0,type:u.w.SUCCESS});break;case u.$E.CONNECTING:g({msg:(0,f.t)("collaboration.voice.connecting"),type:u.w.PENDING,persist:!0});break;case u.$E.ERROR:g({msg:(0,f.t)("collaboration.voice.something_went_wrong_try_again"),type:u.w.ERROR,persist:!0});break;case u.$E.CALL_INACTIVE:g({msg:(0,f.t)("collaboration.voice.things_got_quiet_for_awhile_so_we_ended_the_conversation"),type:u.w.PENDING,persist:!1,allowMultiLine:!0});break;case u.$E.TOKEN_WILL_EXPIRE:g({msg:(0,f.t)("collaboration.voice.it_s_been_quiet_for_a_while_so_we_ll_end_the_conversation_in_20_seconds_n_click_to_stay_on"),type:u.w.MESSAGE,persist:!0,onClick:a,allowMultiLine:!0});break;case u.$E.TOKEN_EXPIRED:g({msg:(0,f.t)("collaboration.voice.audio_has_timed_out_click_to_rejoin"),type:u.w.ERROR,persist:!0,onClick:a});break;case u.$E.USER_JOINED:g({truncatedPrefix:C,msg:(0,f.t)("collaboration.voice.joined"),type:u.w.MESSAGE});break;case u.$E.USER_LEFT:g({truncatedPrefix:C,msg:(0,f.t)("collaboration.voice.left"),type:u.w.MESSAGE});break;case u.$E.ERROR_MICROPHONE_PERMISSIONS_DENIED:let e=(0,f.t)("collaboration.voice.enable_mic_access_in_your_browser_to_join");es.eD&&(e=(0,f.t)("collaboration.voice.enable_mic_access_for_the_figma_app_to_join")),g({msg:e,type:u.w.ERROR,href:s.AM.TROUBLESHOOT});break;case u.$E.WARNING_MICROPHONE_LEVELS_HIGH_AND_MUTED:g({msg:(0,f.t)("collaboration.voice.want_to_unmute_click_the_mic"),type:u.w.PENDING});break;case u.$E.ERROR_ON_LEAVE:g({msg:(0,f.t)("collaboration.voice.couldn_t_leave_please_try_again"),type:u.w.ERROR});break;case u.$E.SYSTEM_INCOMPATIBLE:g({msg:(0,f.t)("collaboration.voice.figma_audio_won_t_work_on_your_device_learn_why"),type:u.w.ERROR,persist:!0,allowMultiLine:!0,href:s.AM.TROUBLESHOOT});break;case u.$E.DISCONNECTING:case u.$E.RECONNECTING:p.current=setTimeout(()=>{_.current===u.$E.RECONNECTING&&(g({msg:(0,f.t)("collaboration.voice.attempting_to_reconnect"),type:u.w.PENDING,persist:!0}),p.current=void 0)},1500);break;case u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:case u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:case u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case u.$E.WARNING_RECV_AUDIO_DECODE_FAILED:let r=e_(t);if(!r)break;g({msg:r,type:u.w.WARNING,allowMultiLine:!0})}},[t]),void 0===t)return n.createElement(n.Fragment,null);let S=["expanded"===e.widgetState?"voice_flash_notifications--flashExpandedList--NkNnw voice_flash_notifications--flash--8i3SH":"voice_flash_notifications--flash--8i3SH",d?function(){switch(h?.type){case u.w.ERROR:return"voice_flash_notifications--flashError--6fLPW";case u.w.WARNING:return"voice_flash_notifications--flashWarning--tdCit";case u.w.MESSAGE:return"voice_flash_notifications--flashMessage--lt-k-";case u.w.SUCCESS:return"voice_flash_notifications--flashSuccess--hmpUM";case u.w.PENDING:default:return"voice_flash_notifications--flashPending--Hzt7W"}}():"voice_flash_notifications--flashHidden--uYI96"];return n.createElement(v.Id,{onClick:h?.onClick,className:S.join(" ")},n.createElement(T,{className:h?.allowMultiLine||b?"voice_flash_notifications--flashNotificationMessageWrap--eXghM voice_flash_notifications--flashNotificationMessageBase--wxFPN":"voice_flash_notifications--flashNotificationMessageEllipsis--eBEYX voice_flash_notifications--flashNotificationMessageBase--wxFPN ellipsis--ellipsis--Tjyfa",target:"_blank",rel:"noopener",href:h?.href},h?.truncatedPrefix&&n.createElement("span",{className:"voice_flash_notifications--truncatedPrefix---gMQI ellipsis--ellipsis--Tjyfa"},h?.truncatedPrefix),h?.icon,h?.msg))}var eh=a(96328),eg=a(827586),eE=a(70699),ey=a(27947),ev=a(749283);let eb="active_speakers_row--name--LtwVz ellipsis--ellipsis--Tjyfa",eC="active_speakers_row--pos1--88uza active_speakers_row--pos--D59NJ",ew="active_speakers_row--fadeOut--2tZhG",eT="active_speakers_row--willFadeIn--fFCX6",eS="active_speakers_row--activeSpeakerRowAvatar--zKOXb",eN=(e,t)=>e.userID===t.userID,ex=(e,t)=>{let a=e.sort((e,t)=>e.userID>t.userID?-1:1).map(e=>e.userID),n=t.sort((e,t)=>e.userID>t.userID?-1:1).map(e=>e.userID);if(a.length!==n.length)return!0;for(let e=0;e<a.length;e++)if(a[e]!==n[e])return!0;return!1},ek=(e,t)=>{let a=t.filter(t=>!e.find(e=>eN(e,t))),n=e.filter(e=>!t.find(t=>eN(e,t))),r=e.map(e=>n.indexOf(e)>-1?e:void 0),l=e.map(e=>-1===n.indexOf(e)?e:a.shift()).filter(e=>!!e);return a.length>0&&l.push(...a),t.length>1&&1===e.length&&(r[1]=e[0]),{fadeOut:r,active:l}},eI=(0,r.Ng)((e,t)=>({...t,observingSessionID:e.multiplayer.observingSessionID,presenterSessionID:e.multiplayer.presenterSessionID??null}))(function({user:e,classNames:t,observingSessionID:a,presenterSessionID:r,call:l}){let i;let o=(Array.isArray(t)?[...t,eS]:[t,eS]).join(" "),c=(0,s.eo)(),d=n.createElement(K.Ro,{entity:{...e,id:e.userID},className:"active_speakers_row--activeSpeakerRowAvatarWithoutMultiplayer--W-S0A",size:24,key:e.userID}),m=e=>{e.stopPropagation()};return"sessionID"in e&&(i=`active-speaker-row-voice-avatar-session-${e.sessionID}`,d=n.createElement(ey.vQ,{sessionID:e?.sessionID,observingSessionID:a,presenterSessionID:r??null,nominatedSessionID:null,user:e,showColorIndicators:!0,tooltipProxyId:i}),m=t=>{t.stopPropagation(),t.preventDefault(),c(e)}),n.createElement("div",{className:o},n.createElement("div",{className:"active_speakers_row--avatarObserveClickTarget--T1JH- voice_toolbar--avatarObserveClickTarget--QALFw",onClick:m,"data-tooltip-proxy-element-id":i}),d,n.createElement(ev.i,{userId:e.userID,microphoneStyle:u.bU.FULL,call:l,volumeIconMutedState:ev.S.MINI,className:"active_speakers_row--voiceIndicatorPositioning--YqGFz"}))});function eA({user:e,classNames:t}){return n.createElement("div",{className:eb+" "+(Array.isArray(t)?t.join(" "):t)},e.name)}let eL=["active_speakers_row--pos0--Dc1bB active_speakers_row--pos--D59NJ",eC,"active_speakers_row--pos2--b5pkb active_speakers_row--pos--D59NJ","active_speakers_row--pos3--EAAkN active_speakers_row--pos--D59NJ","active_speakers_row--pos4--R5-5y active_speakers_row--pos--D59NJ","active_speakers_row--pos5--FYPvT active_speakers_row--pos--D59NJ","active_speakers_row--pos6--PTsn8 active_speakers_row--pos--D59NJ","active_speakers_row--pos7--DjtPj active_speakers_row--pos--D59NJ"];class eO extends n.Component{constructor(e){super(e),this.displayString="ActiveSpeakersRow",this.node=null,this.state={active:[],fadeOut:[]}}componentWillMount(){this.setState(ek(this.state.active,this.props.users))}shouldComponentUpdate(e,t){return e===this.props||(ex(this.props.users,e.users)&&this.setState(ek(this.state.active,e.users)),!1)}render(){let e=(e,t)=>`${e.name}-${t}`,t=[],a=c.h.getInstance();if(!a)return null;if(1===this.state.fadeOut.length&&this.state.fadeOut[0]){let r=this.state.fadeOut[0];t.push(n.createElement(eI,{call:a,key:e(r,"avatar"),user:r,classNames:[eL[0],ew]}),n.createElement(eA,{key:e(r,"name"),user:r,classNames:[eC,ew,eb]}))}else if(2===this.state.fadeOut.length&&!this.state.fadeOut[0]&&this.state.fadeOut[1]){let a=this.state.fadeOut[1];t.push(n.createElement(eA,{key:e(a,"name"),user:a,classNames:[eC,ew,eb]}))}else t.push.apply(t,this.state.fadeOut.map((t,r)=>t&&n.createElement(eI,{call:a,key:e(t,"avatar"),user:t,classNames:[eL[r],ew]})));if(1===this.state.active.length){let r=this.state.active[0];t.push(n.createElement(eI,{call:a,key:e(r,"avatar"),user:r,classNames:[eL[0],eT]}),n.createElement(eA,{key:e(r,"name"),user:r,classNames:[eC,eT,eb]}))}else t.push.apply(t,this.state.active.map((t,r)=>n.createElement(eI,{call:a,key:e(t,"avatar"),user:t,classNames:[eL[r],eT]})));return t.sort((e,t)=>null===e.key||null===t.key?0:e.key>t.key?-1:1),setTimeout(()=>{this.node?.querySelectorAll("."+eT).forEach(e=>e.classList.remove(eT))},10),n.createElement("div",{ref:e=>this.node=e,className:"active_speakers_row--activeSpeakerRow--l5ylB"},t)}}function eR(e){let{call:t,usersInCall:a}=e,r=(0,o.iZ)(),l=(0,z.mt)(t),i=n.useMemo(()=>l?.filter(e=>e!==r?.id)?.slice(0,6).reduce((e,t)=>{let n=a.find(({userID:e})=>e===t);return n?e.concat([n]):e},[])||[],[l,a,r]);return n.createElement(eO,{users:i})}var eM=a(783423),eD=a(560560);function eP(e){let{children:t,headerText:a,collapsedContent:r,theme:l,onToggle:i,collapseStateOverride:o}=e,[s,c]=n.useState(!1),d=o||s;return n.createElement("span",{"data-editor-theme":l},n.createElement(v.fI,{className:d?"voice_collapsible_dropdown--isCollapsed--SwBvz":""},n.createElement("span",{className:"voice_collapsible_dropdown--dropdownSectionTitle--lpt22",onClick:t=>{t.preventDefault(),t.stopPropagation(),i&&!0!==e.hideToggleOption&&i(!d),c(!d)}},d?r:a,!e.hideToggleOption&&n.createElement(Z.B,{svg:d?eM.A:eD.A,className:"voice_collapsible_dropdown--voiceDropdownChevronIcon--JgQxE"}))),!d&&t&&n.createElement(n.Fragment,null,t))}var eF=a(714786);let eB=(0,r.Ng)(e=>({showWidgetParticipantList:e.voice.showWidgetParticipantList}))(function(e){let{showWidgetParticipantList:t}=e,a=(0,o.iZ)(),i=(0,r.wA)(),{userIdsInCall:c}=(0,d.W5)(e.fileKey),m=(0,d.bF)(c,e.fileKey),p=(0,s.eo)(),{usersInCall:_,callMetadata:f}=n.useMemo(()=>({usersInCall:m.filter(e=>e.userID!==a?.id),callMetadata:{microphoneStyle:u.bU.FULL,call:e.call}}),[m,a,e.call]);return n.createElement(n.Fragment,null,n.createElement(ey.sK,null),_.length>0&&n.createElement("div",{className:eF.ev},n.createElement(eP,{headerText:`${e.currentUserInCall?"You and ":""}`+(0,eh.td)(_.length,"person","people")+" in conversation",collapseStateOverride:!t,collapsedContent:n.createElement(eR,{usersInCall:_,call:e.call}),hideToggleOption:_.length<2,onToggle:e=>i(l.yF(!e))},n.createElement(eg.P,{className:eF.YM},_.map(e=>n.createElement(eE.Q,{key:"sessionID"in e?e.sessionID:e.userID,callMetadata:f,user:e,isOverflow:!0,onUserClick:p}))))))});var eU=a(256296),eH=a(912925),eG=a(173919),eV=a(43604);function ez(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7 7h10a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1ZM5 8a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8Zm4.5 7a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2Zm4.5-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Zm-3.5-.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2Zm2.5 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5ZM7.5 13a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1Z",clipRule:"evenodd"}))}var eK=a(776250),eW=a(91408),ej=a(44948),eZ=a(799569),eY=a(493323),eX=a(392592),eq=a(672517),eJ=a(720488),eQ=a(538697),e$=a(860168);let e0="device_controls--pointingDropdown--hSJ1h",e1="device_controls--containerWithPadding--IlJeH",e2="device_controls--deviceControlRow--kSC19",e5="device_controls--controlLabel--Yp1lV",e3="device_controls--iconContainer--TuXUt",e4="device_controls--dropdownContainer--DfMXW",e6="device_controls--dropdownInput--w72f-",e7="device_controls--dropdownChevron--UBe58",e8="device_controls--divider--Z8rM-";var e9=a(909345);let te="MICROPHONE_CONTROL_DROPDOWN",tt="PLAYBACK_DEVICE_CONTROL_DROPDOWN",ta=(0,eW.jz)(e$.aHA);function tn(e,t,a,l,i,o,s){let c=(0,r.wA)(),[d,u]=(0,n.useState)(null),[m,p]=(0,n.useState)([]),h=(0,r.d4)(e=>e.dropdownShown?.type===l),g=(0,ej.wm)(()=>m.map(e=>e.deviceId),[m]),E=(0,n.useCallback)(async()=>{try{let e=await t(),a=new Set(g);(g.length!==e.length||e.some(e=>!(e.deviceId in a)))&&p(e)}catch{s||c(eX.F.enqueue({message:(0,f.t)("collaboration.voice.error_fetching_devices"),error:!0,type:"voice-device-error"}))}},[g,c,t,s]),y=(0,n.useCallback)(async()=>{try{if(o&&!_.Ay.chrome)return;let t=await e();t.deviceId!==d?.deviceId&&u(t)}catch{}},[o,e,d]),v=(0,n.useCallback)(async e=>{e.deviceId!==d?.deviceId&&u(e);try{await a(e)}catch{c(eX.F.enqueue({message:(0,f.t)("collaboration.voice.error_selecting_device"),error:!0,type:"voice-device-error"})),await y()}},[y,a,c,d]);return(0,n.useEffect)(()=>{(i||h)&&E()},[i,h,E]),(0,n.useEffect)(()=>{y(),E()},[]),[d,m,v]}function tr(e){let[t,a,r]=tn(e.call.currentMicrophone,e.call.getMicrophones,e.call.setMicrophone,te,e.isOpen,!1,e.microphonePermissionDenied),[l,i,o]=tn(e.call.currentPlaybackDevice,e.call.getPlaybackDevices,e.call.setPlaybackDevice,te,e.isOpen,!0,e.microphonePermissionDenied),s=e.targetRef.current?.getBoundingClientRect();return e.isOpen?n.createElement(tl,{targetRect:s,currentMicrophone:t,microphoneDevices:a,setMicrophone:r,currentPlaybackDevice:l,playbackDevices:i,setPlaybackDevice:o}):null}function tl(e){let{targetRect:t,currentMicrophone:a,microphoneDevices:l,setMicrophone:o,currentPlaybackDevice:s,playbackDevices:c,setPlaybackDevice:d}=e,u=(0,r.wA)(),m=(0,i.GS)(),[p,h]=(0,n.useState)({type:""}),g=()=>{h({type:""})},E={format:e=>e?.label||"",isEqual:(e,t)=>e.deviceId===t.deviceId},y=m?n.createElement(F.U,{svg:e9.A},n.createElement(eG.P,null)):void 0,C=m?n.createElement(F.U,{svg:e9.A},n.createElement(eV.L,null)):void 0,w=n.createElement(eQ.l6,{className:e4,inputClassName:e6,chevronClassName:e7,id:te,icon:y,property:a||{deviceId:"not_found",label:(0,f.t)("collaboration.voice.microphone_not_found"),groupId:"not_found",kind:"audioinput",toJSON:()=>null},dispatch:u,dropdownShown:p,onChange:e=>{o(e)},formatter:E,neverConstrain:!0,onHideDropdownOverride:g,onShowDropdownOverride:()=>h({type:te})},l.map(e=>n.createElement(eQ.c$,{key:e.deviceId,value:e},e.label))),T=n.createElement(eQ.l6,{className:e4,inputClassName:e6,chevronClassName:e7,id:tt,property:s||{deviceId:"not_found",label:(0,f.t)("collaboration.voice.playback_device_not_found"),groupId:"not_found",kind:"audiooutput",toJSON:()=>null},icon:C,dispatch:u,dropdownShown:p,onChange:e=>{d(e)},formatter:E,neverConstrain:!0,onHideDropdownOverride:g,onShowDropdownOverride:()=>h({type:tt})},c.map(e=>n.createElement(eQ.c$,{key:e.deviceId,value:e},e.label))),S=n.createElement(n.Fragment,null,n.createElement("div",{className:e8}),!(0,V.WO)()&&n.createElement(to,null),(0,V.WO)()&&n.createElement(ti,null));return m?n.createElement(eJ.Cf,{className:e0,targetRect:t,minWidth:ta,propagateCloseClick:!0,lean:"left",leanPadding:52},n.createElement("div",{onClick:e=>e.stopPropagation()},n.createElement("div",{className:"device_controls--header---h3P-"},(0,f.t)("collaboration.voice.audio_settings"),n.createElement(eZ.Jn,{onClick:()=>u(B.oB())})),n.createElement("div",{className:"device_controls--container--VR8KK"},n.createElement(v.fI,{className:e2},n.createElement("span",{className:e5},(0,f.tx)("collaboration.voice.microphone")),w),_.Ay.chrome&&n.createElement(v.fI,{className:e2},n.createElement("span",{className:e5},(0,f.tx)("collaboration.voice.speakers")),T))),(0,V.X0)()&&S):n.createElement(eJ.Cf,{showPoint:!!t,targetRect:t,className:e0,minWidth:280,propagateCloseClick:!0},n.createElement("div",{onClick:e=>e.stopPropagation()},n.createElement("div",{className:e1},n.createElement(v.fI,{className:e2},n.createElement("span",{className:e3},n.createElement(b.A.Unmuted,{size:24})),n.createElement("span",{className:e5},(0,f.tx)("collaboration.voice.microphone"))),n.createElement(v.fI,{className:e2},w)),_.Ay.chrome&&n.createElement(n.Fragment,null,n.createElement("div",{className:e8}),n.createElement("div",{className:e1},n.createElement(v.fI,{className:e2},n.createElement("span",{className:e3},n.createElement(Z.B,{svg:e9.A})),n.createElement("span",{className:e5},(0,f.tx)("collaboration.voice.speakers"))),n.createElement(v.fI,{className:e2},T))),(0,V.X0)()&&S))}function ti(){let e=(0,r.d4)(e=>e.voice.captionsInstallProgress),t=(0,r.d4)(e=>e.voice.showCaptions),a=(0,r.wA)(),l=n.useId(),i=n.createElement(F.U,{className:e3,svg:$.A},n.createElement(ez,null)),o=(0,f.tx)("collaboration.voice.closed_captioning"),s=n.createElement(j.Ex,{text:(0,f.t)("collaboration.voice.beta"),className:"device_controls--betaTag---VTFI",color:j.zE.BRAND});return t&&(0,V.Mw)(e)&&(o=(0,f.tx)("collaboration.voice.setting_up_closed_captions_install_progress",{installProgress:e}),i=n.createElement(eY.kt,{className:"device_controls--captionsLoadingSpinner--ivdGQ"}),s=n.createElement(n.Fragment,null)),n.createElement(eU.J,{className:"device_controls--closedCaptionRow--OdIHt raw_components--singleRow--W5dYN raw_components--_singleRow--yTGIY raw_components--singleRowHeight--dKM4t raw_components--_row--rHucX raw_components--row--NThzm device_controls--deviceControlRowWithHover--KUbHL device_controls--deviceControlRow--kSC19",htmlFor:l},i,n.createElement("span",{className:"device_controls--captionToggleLabel--MjCYn device_controls--controlLabelFullOpacity--1nEqI device_controls--controlLabel--Yp1lV"},o,s),n.createElement(eH.v,{id:l,checked:t,onChange:(e,{event:t})=>{t.stopPropagation(),(0,eK.sx)("voice_captions_toggle",{value:e,source:"voice_widget"}),(0,V.HJ)(a,e)}}))}function to(){let e=s.AM.ACCESSIBILITY;return n.createElement(eq.L0,{target:"_blank",rel:"noopener",href:e,trackingEventName:"Learn more about captioning"},n.createElement(v.fI,{className:"device_controls--deviceControlRowWithHover--KUbHL device_controls--deviceControlRow--kSC19"},n.createElement(Z.B,{className:e3,svg:$.A}),n.createElement("span",{className:"device_controls--controlLabelFullOpacity--1nEqI device_controls--controlLabel--Yp1lV"},(0,f.tx)("collaboration.voice.learn_how_to_turn_on_closed_captioning"))))}var ts=a(654703),tc=a(776836);let td="DEVICE_CONTROL_DROPDOWN",tu=null,tm=null,tp=null;function t_(e){let{call:t,fileKey:a,user:o,callEvent:s,notificationUserId:c,callEventCallback:m}=e,_=(0,r.Pj)(),[h,g]=(0,n.useState)(null),[b,C]=(0,n.useState)(),[w,L]=(0,n.useState)(!1),[z,K]=(0,n.useState)(!1),[j,Z]=(0,n.useState)(!1),[Y,X]=(0,n.useState)(!1),q=(0,r.d4)(e=>e.voice.snapWidget),[J,Q]=(0,n.useState)(!1),[$,ee]=(0,n.useState)(!1),[et,ea]=(0,n.useState)({}),{userIdsInCall:en}=(0,d.W5)(a);(0,G.W)();let er=(0,r.d4)(e=>e.voice.showCaptions),eo=(0,r.d4)(e=>e.voice.captionsInstallProgress),es=(0,r.d4)(e=>e.dropdownShown?.type===td),ec=(0,r.d4)(e=>e.voice.activeCall[a]||!1),ed=(0,r.d4)(e=>e.voice.showWidgetParticipantList),eu=(0,n.useRef)(null),em=(0,i.GS)(),eh=(0,r.wA)(),eg={in:()=>{Z(!0)},out:()=>(Z(!1),new Promise(e=>setTimeout(e,300)))};n.useEffect(()=>{let e=t.getSystemCompatibility();if(g(e),!e){m(u.$E.SYSTEM_INCOMPATIBLE);return}return tu||tm||(tm=new Audio("https://static.figma.com/uploads/94721b53827c353075273e54a45ea41850ee0284"),(tu=new Audio("https://static.figma.com/uploads/d917bf9964749c47b46d367572a5dd28a559bd2f")).load(),tm.load(),[tm,tu].forEach(e=>e.volume=.5)),()=>{eh(l.Pp(!1))}},[]),n.useEffect(()=>{!ec&&h&&ev(),window.requestAnimationFrame(()=>eg.in())},[h]),n.useEffect(()=>{let e;switch(s){case u.$E.DISCONNECTED:$&&(tm?.play(),ee(!1)),eh(l.oI({fileKey:a}));break;case u.$E.TOKEN_WILL_EXPIRE_DETECT_MIC_INPUT:(function e(a){if(Date.now()>=a){m(u.$E.TOKEN_WILL_EXPIRE);return}if(t.isLocalUserSpeaking()){eC(!1);return}setTimeout(()=>{e(a)},500)})(Date.now()+1e4);break;case u.$E.CONNECTED:case u.$E.CONNECTED_WITH_MIC_DISABLED:J&&(setTimeout(()=>tu?.play(),400),Q(!1)),eh(l.rO({fileKey:a}));break;case u.$E.CALL_INACTIVE:t.leave();break;case u.$E.TOKEN_WILL_EXPIRE:e=()=>eC(!0);break;case u.$E.TOKEN_EXPIRED:e=ev;break;case u.$E.USER_JOINED:case u.$E.USER_LEFT:if(tp)return;break;case u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:case u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:case u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case u.$E.WARNING_RECV_AUDIO_DECODE_FAILED:let n=e_(s);if(!n)break;ea({...et,[s]:n});break;case u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER:case u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER:case u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER:case u.$E.WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER:let r=function(e){switch(e){case u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER:return u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW;case u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER:return u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW;case u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER:return u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW;case u.$E.WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER:return u.$E.WARNING_RECV_AUDIO_DECODE_FAILED;default:return null}}(s);if(!r)break;delete et[r],ea(et)}void 0!==s&&C({callEvent:s,onClick:e,notificationUserId:c})},[s]),n.useEffect(()=>{X(!0)},[q]),n.useEffect(()=>{Y&&X(!1)},[Y]);let[eE,ey]=(0,n.useState)(!0),ev=async()=>{if(ey(!0),!t.getSystemCompatibility()){ey(!1),m(u.$E.SYSTEM_INCOMPATIBLE);return}L(!0),Q(!0),tp=setTimeout(()=>{tp=null},5e3);try{let{data:e}=await P.Ay.post(`/api/voice/${a}/auth`),n=await (0,D.JL)(e.meta.user_encryption_key),r=await (0,D.We)(n,e.meta.call_user_id);if(r!=r)throw Error(`User ID does not match local user ID.
local: ${r}
remote: ${r}`);await t.join({appId:e.meta.app_id,callId:e.meta.call_id,token:e.meta.auth_token,callUserId:e.meta.call_user_id,userId:r,encryptionKey:e.meta.call_encryption_key,userEncryptionKey:n,setParticipantIdsCallback:eb,callEventCallback:m,store:_,fileKey:a})}catch(e){ey(!1),m(u.$E.ERROR)}L(!1),ey(!1)};function eb(e){eh(l.cb(e))}(0,E.N)({isVisible:j});let eC=async e=>{let{data:n}=await P.Ay.post(`/api/voice/${a}/auth`,{call_user_id:t.uid});await t.renewToken(n.meta.auth_token),e?m(u.$E.CONNECTED):m(u.$E.TOKEN_SILENTLY_RENEWED)},ew=async()=>{L(!0),ee(!0);try{await Promise.all([eg.out(),t.leave()]),eh(l.oI({fileKey:a})),tm?.play(),es&&eh(B.oB()),eh(l.Pp(!1))}catch{eg.in(),m(u.$E.ERROR_ON_LEAVE)}L(!1)},eT=async e=>{(0,H.ds)("voice_user_mute_toggle",a,_.getState(),{source:"voice_widget",muted:!e}),e?await t.unmute():await t.mute()},eS=b?b&&en.size>1&&ed?"expanded":"collapsed":null;er&&(0,V.nN)(eo)&&((0,H.ds)("voice_caption_download_error",a,_.getState(),{error_code:eo,source:"voice_widget"}),(0,V.HJ)(eh,!1),eh((0,U.to)({type:W.L,data:{dispatch:eh,installProgress:eo}})));let eN=n.createElement("span",{onClick:()=>{(0,H.ds)("voice_widget_minimized_toggle",a,_.getState(),{minimized:!1}),eh(l.Pp(!1))},className:["voice_widget--dismissButtonPosition--eEXoz",x].join(" "),"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,f.t)("collaboration.voice.minimize")},n.createElement(F.U,{className:N,svg:ts.A,fallbackSvg:ts.A},n.createElement(R.A,null))),ex=(0,O.U1)();return n.createElement("div",{className:p()("voice_widget--hybridModalWrapper--x9-GE"),ref:ex},n.createElement("div",{className:p()(T,{[S]:j})},n.createElement(v.Id,{className:A},n.createElement("div",{className:I},n.createElement("span",{className:ec||z?"voice_widget--currentUser--L7Z6l":"voice_widget--inactiveCurrentUser--yVaZY voice_widget--currentUser--L7Z6l"},n.createElement(tf,{user:o,call:e.call})),n.createElement(ep,{className:"voice_widget--warningIcon--WJPdH",activeWarnings:et}),n.createElement(ei.Y,{userId:o.id,onMuteButtonClickCallback:eT,disabled:t.microphonePermissionDenied,className:[k,x].join(" "),disabledClassName:[k,"voice_widget--muteButtonDisabled--fJzUI"].join(" ")}),n.createElement("span",{className:["voice_widget--controlsButtonPosition--TTGIU",es?"voice_widget--controlsButtonActive--vE2c-":x].join(" "),onMouseDown:()=>{es?eh(B.oB()):((0,H.ds)("voice_widget_open_settings",a,_.getState()),eh(B.j7({type:td})))},onClick:e=>e.stopPropagation(),ref:eu,"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,f.t)("collaboration.voice.settings")},n.createElement(F.U,{className:N,svg:tc.A,fallbackSvg:tc.A},n.createElement(M.I,null))),n.createElement("button",{className:ec?"voice_widget--leaveButton--UUdxH basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd":"voice_widget--joinButton--WvZPr basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:ec?ew:ev,disabled:!h||w,onMouseEnter:()=>K(!0),onMouseLeave:()=>K(!1)},ec||eE?(0,f.tx)("collaboration.voice.leave"):(0,f.tx)("collaboration.voice.join")),!em&&eN),ec&&n.createElement(eB,{fileKey:a,currentUserInCall:ec,call:t}),(0,V.WO)()&&er&&n.createElement(el,{call:t})),!em&&b&&n.createElement(ef,{notification:b,widgetState:eS})),em&&b&&n.createElement(ef,{notification:b,widgetState:eS}),n.createElement(tr,{isOpen:es,call:t,targetRef:eu,microphonePermissionDenied:t.microphonePermissionDenied}))}function tf({user:e,call:t}){return n.createElement(n.Fragment,null,n.createElement(th,{user:e,call:t}),n.createElement(K.Ro,{entity:e,size:24,className:"voice_widget--undraggableImage--muN9g"}))}function th({user:e,call:t}){let a=(0,z.Wl)(e.id,t);return!a||a.isMuted?null:n.createElement(ev.i,{userId:e.id,microphoneStyle:u.bU.FULL,className:"voice_widget--avatarVoiceIndicator--zfWwx",volumeIconMutedState:ev.S.NONE,call:t})}function tg(){let e=(0,r.d4)(e=>e.mirror.appModel.showUi),t=(0,r.d4)(e=>e.openFile?.key||null),a=(0,o.iZ)(),m=(0,r.d4)(e=>e.voice.showWidget),p=(0,r.d4)(e=>t&&t in e.voice.activeCall),_=(0,r.d4)(e=>t&&!!e.voice.activeCall[t]),{userIdsInCall:f}=(0,d.W5)(t,!0),h=(0,d.bF)(f,t).length,g=(0,s.qr)(),E=(0,r.wA)(),[y,v]=(0,n.useState)(),[b,C]=(0,n.useState)(),w=(0,i.GS)(),T=n.useCallback((e,t)=>{u.GA.has(e)&&E(l.Pp(!0)),t&&C(t),v(e)},[E]),S=(0,r.d4)(e=>e.voice.captionsInstallProgress),N=(0,r.d4)(e=>e.voice.showCaptions);return(n.useEffect(()=>{g&&(g.captionsToggleEnabled=N,g.streamAudioForCaptions(N&&100===S))},[N,S,g]),n.useEffect(()=>{m||(C(void 0),v(void 0))},[m]),n.useEffect(()=>{t&&!p&&h>0?E(l.Zq({fileKey:t})):t&&p&&!_&&0===h&&E(l.a6({fileKey:t}))},[h,t,p,_,E]),n.useEffect(()=>()=>{c.h.leave(),t&&E(l.a6({fileKey:t}))},[E,t]),e&&t&&a)?w&&p&&!m?n.createElement(L,{fileKey:t}):g&&m?n.createElement(t_,{fileKey:t,user:a,call:g,notificationUserId:b,callEvent:y,callEventCallback:T}):n.createElement(n.Fragment,null):n.createElement(n.Fragment,null)}},332366:(e,t,a)=>{a.d(t,{n:()=>d});var n=a(411855),r=a(629019),l=a.n(r),i=a(153234),o=a(574176),s=a(498606);let c="file_upload_icon_input--disabledIcon--JLhI1";function d(e){let{svg:t,svgAltText:a,isDisabled:r,acceptedFileTypes:d,inputRef:u,onFileInputChange:m,singleFile:p,recordingKey:_}=e,f=(0,i.AF)(_,"change",e=>{m(u)()});return n.createElement("label",{htmlFor:e.inputId,className:l()("file_upload_icon_input--fileUploadIconLabel--GkBse",{[c]:r}),"data-tooltip-type":s.Ib.TEXT,"data-tooltip-show-immediately":!0,"data-tooltip":r?null:e["data-tooltip"]},n.createElement("input",{type:"file",name:e.inputId,id:e.inputId,accept:d,ref:u,onChange:f,multiple:!p,className:"file_upload_icon_input--fileInput--qwRav",disabled:r}),e.children||t&&n.createElement("div",{className:"file_upload_icon_input--svg--qwaj3"},n.createElement(o.B,{title:a,ariaLabel:a,svg:t,autosize:!0,className:l()({[c]:r})})))}},499574:(e,t,a)=>{a.d(t,{N:()=>l});var n=a(411855),r=a(787978);let l=n.memo(function({toolId:e,tooltipText:t,tooltipShortcut:a,disabled:l=!1,icon:i,activeToolId:o,onActivateTool:s,onboardingKey:c,recordingKey:d=`tool-${e}`}){let u=(0,n.useCallback)(()=>s(e),[s,e]),m=e===o;return n.createElement(r.C,{onMouseDown:u,tooltipText:t,tooltipShortcut:a,onboardingKey:c,disabled:l,isActive:m,recordingKey:d},i)})},490418:(e,t,a)=>{a.d(t,{Iu:()=>S,kS:()=>k});var n=a(411855),r=a(326331),l=a(902008),i=a(629019),o=a.n(i),s=a(935283),c=a(320063),d=a(38580),u=a(374626),m=a(153234),p=a(268537),_=a(638889),f=a(318812),h=a(498606),g=a(720488),E=a(893606),y=a(787978),v=a(478023),b=a(332227),C=a(394302);function w(e){switch(e.type){case v.U.Divider:return!0;case v.U.Tool:return!e.hidden;default:(0,s.xb)(e)}}function T(e){switch(e.type){case v.U.Divider:return!1;case v.U.Tool:return!0;default:(0,s.xb)(e)}}function S(e){let{items:t}=e,a=t.filter(w);return a.some(e=>T(e)&&!e.disabled)?n.createElement(x,{...e,items:a}):null}function N(e,t){return e.find(e=>T(e)&&t===e.toolId)}function x(e){let{activeToolId:t,items:a,tooltipText:l,overlayId:i,onActivateTool:s,onboardingKey:d,recordingKey:u=`tool-group-${i}`,dropdownShown:p,onOpen:_,onClose:f}=e,g=null!=t&&N(a,t)?t:void 0,v=()=>{if(null!=g)return g;let e=a.find(e=>T(e)&&!e.disabled);if(!e)throw Error("Expected to have an enabled tool");return e.toolId},[w,S]=(0,n.useState)(v()),x=N(a,w),k=()=>S(v()),I=(0,E.R)();(0,c.h)(()=>(m.y6(k),()=>m.nS(k))),(0,n.useEffect)(()=>{null!=g&&S(g)},[g]);let A=!!(p&&p.type===(0,b.mb)(i)),L=(0,n.useRef)(null),O=(0,m.rf)(u+".chevron","mousedown",e=>{if(e.stopPropagation(),A)f();else{let e=L.current?.getBoundingClientRect();e&&_({overlayId:i,anchorClientRect:e,items:a,selectedToolId:w,recordingKey:u})}}),R=w===t,M=I?m.Pt(u,`default.${x.recordingKey}`):u;return n.createElement(y.C,{onMouseDown:()=>s(w),isActive:R,simulateHover:A,ref:L,recordingKey:M,isToolGroup:!0},n.createElement("div",{className:o()(C.IN,{[C.Ou]:R}),"data-onboarding-key":d,"data-tooltip-type":h.Ib.TEXT,"data-tooltip":x.text,"data-tooltip-shortcut":x.shortcutText,"data-tooltip-show-above":!0},x.icon||x.text),n.createElement("div",{className:o()("tool_group--chevronContainer--9IyNJ",A?"tool_group--flyoutChevronSelected--aAgNx":""),"data-tooltip-type":h.Ib.TEXT,"data-tooltip":l,"data-tooltip-show-above":!0,onMouseDown:O,onClick:e=>e.stopPropagation(),"data-testid":`${i}-chevron`},n.createElement("div",{className:o()("tool_group--flyoutSvgChevron--zlSh3","tool_group--flyoutChevron--21UP1")},n.createElement(r.r,null))))}function k(e){let{onActivateTool:t,showItemIcons:a,simulatedHoverToolIdAtom:r}=e,l=(0,f.Um)();if(!l||!(0,b.gI)(l.type))return null;let i={...l.data.targetRect,top:l.data.targetRect.top-8,height:l.data.targetRect.height+16};return n.createElement(g.Cf,{targetRect:i,className:"tool_group--pointingDropdown--4V-h3",showPoint:!1,displayAboveTarget:!0,propagateCloseClick:!0},n.createElement("div",{className:"tool_group--flyoutDropdownContainer--RPGg7"},l.data.items.map((e,i)=>n.createElement(A,{key:function(e,t){switch(e.type){case v.U.Divider:return`divider-${t}`;case v.U.Tool:return`tool-${e.toolId}`;default:(0,s.xb)(e)}}(e,i),item:e,showItemIcon:a,hideCheck:!1,onActivateTool:t,recordingKey:l.data.recordingKey,isSelected:T(e)&&l.data.selectedToolId===e.toolId,simulatedHoverToolIdAtom:r}))))}let I=(0,d.eU)(void 0);function A({item:e,showItemIcon:t=!0,hideCheck:a,isSelected:r,onActivateTool:l,recordingKey:i,simulatedHoverToolIdAtom:o=I}){let s=(0,u.md)(o);return e.type===v.U.Divider?n.createElement(p.wv,null):n.createElement(L,{text:e.text,shortcut:e.shortcutText,disabled:e.disabled,isChecked:r,onPointerUp:()=>l(e.toolId),icon:t?e.smallIcon||e.icon:void 0,hideCheck:a,recordingKey:m.Pt(i,"flyout",e.recordingKey),onboardingKey:e.onboardingKey,simulateHover:e.toolId===s})}function L({text:e,shortcut:t,icon:a,disabled:r,onClick:i,onPointerUp:o,recordingKey:s,onboardingKey:c,simulateHover:d,hideCheck:u,isChecked:m}){return n.createElement(p.c$,{disabled:r,onClick:i,onPointerUp:o,recordingKey:s,simulateHover:d,onboardingKey:c},!u&&n.createElement("div",{className:"tool_group--flyoutOptionCheckMarkContainer--c6BQU tool_group--flyoutOptionIconContainerBase--7xLM8"},m&&n.createElement(l.l,null)),a&&n.createElement("div",{className:"tool_group--flyoutOptionIconContainer--ZUv0P tool_group--flyoutOptionIconContainerBase--7xLM8"},a),n.createElement("div",{className:"tool_group--flyoutOptionText--GA6Zv"},e),null!=t&&n.createElement(_.S,{shortcut:t,className:"tool_group--flyoutOptionShortcut--5E1Py"}))}},50366:(e,t,a)=>{a.d(t,{I:()=>s});var n=a(411855),r=a(976404),l=a(629019),i=a.n(l),o=a(259927);function s({children:e}){let t=(0,r.U1)();return n.createElement("div",{ref:t,role:"toolbar",className:i()("toolbelt--root--jwHGa",o.Dm)},e)}},289820:(e,t,a)=>{a.d(t,{a:()=>s});var n=a(411855),r=a(629019),l=a.n(r),i=a(787978),o=a(394302);function s({onAction:e,isActive:t=!1,tooltipText:a,tooltipShortcut:r,disabled:s=!1,icon:c,onboardingKey:d,recordingKey:u="toolbelt-action",elementId:m}){return n.createElement(i.C,{onMouseDown:e,tooltipText:a,tooltipShortcut:r,onboardingKey:d,recordingKey:u,disabled:s,elementId:m,isToolbeltAction:!0},n.createElement("div",{className:l()(o.kJ,{[o.vu]:t})},c))}},362442:(e,t,a)=>{a.d(t,{X:()=>r});var n=a(411855);function r(){return n.createElement("div",{className:"toolbelt_divider--divider--WazDM"})}},628085:(e,t,a)=>{a.d(t,{Q:()=>c,k:()=>s});var n=a(411855),r=a(188507),l=a(913016),i=a(801161),o=a(73279);function s({children:e,editorTheme:t}){return n.createElement("div",{className:"toolbelt_left_side--leftSideRow--yovV-","data-editor-theme":t},e)}function c(e){let t=(0,r.wA)(),a=n.useRef(e.rows.map(e=>n.createRef())),s=a.current[e.activeRowIndex],c=s.current?.getBoundingClientRect(),[d,u]=n.useState(c?.width),[m,p]=n.useState(!1),_=a.current[e.activeRowIndex].current?.getBoundingClientRect()?.width;return(n.useEffect(()=>{t(i.jD())},[t,e.activeRowIndex]),n.useEffect(()=>{if(!_||_===d)return;if(void 0===d){u(_);return}let t=()=>{u(_),setTimeout(()=>{p(!1)},2e3),e.onAnimationCompletion&&setTimeout(e.onAnimationCompletion,.5*l.Vn)},a=document.getElementById(o.L),n=a?.matches(":hover");n&&a?.addEventListener("mouseleave",t),p(!0);let r=setTimeout(t,n?550:200);return()=>{n&&a?.removeEventListener("mouseleave",t),clearTimeout(r)}},[_,d,e.onAnimationCompletion]),d)?n.createElement("div",{className:"toolbelt_left_side--leftSideCarouselContainer--8qu6Z",style:{width:d,willChange:m?"width":"auto",transition:"0.5s"}},n.createElement("div",{className:"toolbelt_left_side--leftSideCarouselRows--SWcpz",style:{transform:`translateY(${-1*(c?.height||0)*e.activeRowIndex}px)`}},e.rows.map((e,t)=>n.createElement("div",{ref:a.current[t],key:t},e)))):n.createElement("div",{ref:a.current[e.activeRowIndex]},e.rows[e.activeRowIndex])}},73279:(e,t,a)=>{a.d(t,{L:()=>o,k:()=>s});var n=a(411855),r=a(552793),l=a(629019),i=a.n(l);let o="toolbelt_toggle_id";function s(e){let{checked:t,onClick:a,icon:l,recordingKey:s,disabled:c}=e;return n.createElement("span",{"data-active":t,className:i()("toolbelt_toggle--container--GCPUG",{"toolbelt_toggle--disabled--c3mYt":c}),id:o},n.createElement("span",{className:"toolbelt_toggle--hiddenCheckbox--aPpTc"},n.createElement(r.F,{checked:t,onChange:a,recordingKey:s,disabled:c})),n.createElement("div",{className:"toolbelt_toggle--knob--naRk5"},l))}},635897:(e,t,a)=>{a.d(t,{$v:()=>f,AE:()=>p,Kh:()=>E,LH:()=>b,O_:()=>m,Q:()=>h,lW:()=>v,uh:()=>_,zr:()=>C});var n=a(411855),r=a(188507),l=a(598045),i=a(38580),o=a(728325),s=a(318812),c=a(529928),d=a(279145),u=a(157147);function m(e){switch(e){case l.NLJ.SELECT:return"set-tool-default";case l.NLJ.HAND:return"set-tool-hand";case l.NLJ.SCALE:return"set-tool-scale";case l.NLJ.LASSO:return"set-tool-lasso";case l.NLJ.MULTISELECT:return"set-tool-multiselect";case l.NLJ.COMMENTS:return"set-tool-comments";case l.NLJ.FRAME:return"set-tool-frame";case l.NLJ.SLICE:return"set-tool-slice";case l.NLJ.SHAPE_STAR:return"set-tool-star";case l.NLJ.SHAPE_LINE:return"set-tool-line";case l.NLJ.SHAPE_ARROW:return"set-tool-arrow";case l.NLJ.SHAPE_ELLIPSE:return"set-tool-ellipse";case l.NLJ.SHAPE_RECTANGLE:return"set-tool-rectangle";case l.NLJ.SHAPE_REGULAR_POLYGON:return"set-tool-regular-polygon";case l.NLJ.VECTOR_PEN:return"set-tool-pen";case l.NLJ.VECTOR_PENCIL:return"set-tool-pencil";case l.NLJ.ERASER:return"set-tool-eraser";case l.NLJ.HIGHLIGHTER:return"set-tool-highlighter";case l.NLJ.VECTOR_BEND:return"set-tool-bend";case l.NLJ.VECTOR_PAINT_BUCKET:return"set-tool-paint-bucket";case l.NLJ.TYPE:return"set-tool-type";case l.NLJ.IMAGE_OR_VIDEO:return"place";case l.NLJ.STICKY:return"set-tool-sticky";case l.NLJ.STAMP:return"set-tool-stamp";case l.NLJ.SECTION:return"set-tool-section";case l.NLJ.TABLE:return"set-tool-table";case l.NLJ.CONNECTOR_ELBOWED:return"set-tool-connector-elbowed";case l.NLJ.CONNECTOR_STRAIGHT:return"set-tool-connector-straight";case l.NLJ.CODE_BLOCK:return"set-tool-code-block";case l.NLJ.WASHI_TAPE:return"set-tool-washi-tape";case l.NLJ.SHAPE_WHITEBOARD_SQUARE:return"set-tool-shape-whiteboard-square";case l.NLJ.SHAPE_WHITEBOARD_ELLIPSE:return"set-tool-shape-whiteboard-ellipse";case l.NLJ.SHAPE_WHITEBOARD_TRIANGLE_UP:return"set-tool-shape-whiteboard-triangle-up";case l.NLJ.SHAPE_WHITEBOARD_TRIANGLE_DOWN:return"set-tool-shape-whiteboard-triangle-down";case l.NLJ.SHAPE_WHITEBOARD_ROUNDED_RECTANGLE:return"set-tool-shape-whiteboard-rounded-rectangle";case l.NLJ.SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT:return"set-tool-shape-whiteboard-parallelogram-right";case l.NLJ.SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT:return"set-tool-shape-whiteboard-parallelogram-left";case l.NLJ.SHAPE_WHITEBOARD_ENG_DATABASE:return"set-tool-shape-whiteboard-eng-database";case l.NLJ.SHAPE_WHITEBOARD_ENG_QUEUE:return"set-tool-shape-whiteboard-eng-queue";case l.NLJ.SHAPE_WHITEBOARD_ENG_FILE:return"set-tool-shape-whiteboard-eng-file";case l.NLJ.SHAPE_WHITEBOARD_ENG_FOLDER:return"set-tool-shape-whiteboard-eng-folder";case l.NLJ.SHAPE_WHITEBOARD_TRAPEZOID:return"set-tool-shape-whiteboard-trapezoid";case l.NLJ.SHAPE_WHITEBOARD_STAR:return"set-tool-shape-whiteboard-star";case l.NLJ.SHAPE_WHITEBOARD_SHIELD:return"set-tool-shape-whiteboard-shield";case l.NLJ.SHAPE_WHITEBOARD_HEXAGON:return"set-tool-shape-whiteboard-hexagon";case l.NLJ.SHAPE_WHITEBOARD_PENTAGON:return"set-tool-shape-whiteboard-pentagon";case l.NLJ.SHAPE_WHITEBOARD_OCTAGON:return"set-tool-shape-whiteboard-octagon";case l.NLJ.SHAPE_WHITEBOARD_PLUS:return"set-tool-shape-whiteboard-plus";case l.NLJ.SHAPE_WHITEBOARD_PREDEFINED_PROCESS:return"set-tool-shape-whiteboard-predefined-process";case l.NLJ.SHAPE_WHITEBOARD_MANUAL_INPUT:return"set-tool-shape-whiteboard-manual-input";case l.NLJ.SHAPE_WHITEBOARD_CHEVRON:return"set-tool-shape-whiteboard-chevron";case l.NLJ.SHAPE_WHITEBOARD_DOCUMENT_SINGLE:return"set-tool-shape-whiteboard-document-single";case l.NLJ.SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE:return"set-tool-shape-whiteboard-document-multiple";case l.NLJ.SHAPE_WHITEBOARD_ARROW_LEFT:return"set-tool-shape-whiteboard-arrow-left";case l.NLJ.SHAPE_WHITEBOARD_ARROW_RIGHT:return"set-tool-shape-whiteboard-arrow-right";case l.NLJ.SHAPE_WHITEBOARD_SUMMING_JUNCTION:return"set-tool-shape-whiteboard-summing-junction";case l.NLJ.SHAPE_WHITEBOARD_OR:return"set-tool-shape-whiteboard-or";case l.NLJ.SHAPE_WHITEBOARD_SPEECH_BUBBLE:return"set-tool-shape-whiteboard-speech-bubble";case l.NLJ.SHAPE_WHITEBOARD_INTERNAL_STORAGE:return"set-tool-shape-whiteboard-internal-storage";case l.NLJ.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS:return"set-tool-mindmap-tree-nucleus";case l.NLJ.ANNOTATE:return"set-tool-annotate";case l.NLJ.MEASURE:return"set-tool-measure";case l.NLJ.SLIDES_POLL:return"set-tool-slides-poll";case l.NLJ.SLIDES_EMBED:return"set-tool-slides-embed";case l.NLJ.SLIDES_FACEPILE:return"set-tool-slides-facepile";case l.NLJ.SLIDES_ALIGNMENT_SCALE:return"set-tool-slides-alignment-scale";case l.NLJ.SLIDES_YOUTUBE:return"set-tool-slides-youtube";case l.NLJ.SITES_RESPONSIVE_SET:return"set-tool-sites-responsive-set";case l.NLJ.SITES_LINK:return"set-tool-sites-link";default:return"set-tool-default"}}function p(){let e=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts);return(0,n.useCallback)(t=>(0,d.c1)(e,t),[e])}function _(e){let t=p();return(0,n.useCallback)(a=>t(e?e(a):m(a)),[t,e])}function f(e){o.VU.get(e,"toolbar")()}let h=(0,c.bt)(e=>e.mirror.appModel.topLevelMode),g=(0,c.bt)(e=>e.mirror.appModel.activeCanvasEditModeType),E=(0,c.bt)(e=>e.mirror.appModel.currentTool),y=(0,i.eU)(e=>e(E),(e,t,a)=>{f(m(a))}),v={readOnlyOverlayInfoAtom:s.xc,activeToolIdAtom:y,readOnlyTopLevelModeAtom:h,readOnlyEditModeTypeAtom:g};function b(e){let[t,a]=(0,n.useState)(e),r=(0,n.useCallback)(()=>{a(e),f("leave-edit-mode")},[e]);return(0,n.useMemo)(()=>({activeSecondaryToolbeltId:t,setActiveSecondaryToolbeltId:a,closeSecondaryToolbelt:r}),[t,a,r])}function C(e){return u.FP.includes(e)}},478023:(e,t,a)=>{a.d(t,{U:()=>n});var n=(e=>(e.Button="Button",e.Tool="Tool",e.Divider="Divider",e))(n||{})},332227:(e,t,a)=>{a.d(t,{XZ:()=>u,gI:()=>d,mb:()=>c,rM:()=>o});var n=a(411855),r=a(188507),l=a(374626),i=a(738269);function o({activeToolIdAtom:e,readOnlyOverlayInfoAtom:t,readOnlyTopLevelModeAtom:a,readOnlyEditModeTypeAtom:r},i){let o=(0,l.md)(t),[s,c]=(0,l.fp)(e),d=(0,l.md)(a),m=(0,l.md)(r),p=o?.type!==null,_=u(),f=i||_,h=(0,n.useCallback)(()=>{f(null)},[f]);return(0,n.useEffect)(()=>{p||h()},[p,h]),{activeToolId:s,dropdownShown:o,openOverlay:e=>{f(e)},closeOpenOverlay:h,activateTool:e=>{c(e),h()},topLevelMode:d,editModeType:m}}let s="TOOLBAR_STATE_OVERLAY_DROPDOWN_TYPE_";function c(e){return`${s}${String(e)}`}function d(e){return e.startsWith(s)}function u(){let e=(0,r.wA)();return(0,n.useCallback)(t=>{if(!t?.overlayId){e(i.oB());return}let a=t.anchorClientRect;e(i.j7({type:c(t.overlayId),data:{targetRect:{top:a.top,left:a.left+74,width:a.width},items:t.items,selectedToolId:t.selectedToolId,recordingKey:t.recordingKey}}))},[e])}},427072:(e,t,a)=>{a.d(t,{OT:()=>n,XS:()=>r,_t:()=>l});let n=function(){return""},r=function(){return null},l=function(){return null}},82963:(e,t,a)=>{a.d(t,{u:()=>v});var n=a(411855),r=a(109388),l=a(598045),i=a(505525),o=a.n(i),s=a(395096),c=a(776250),d=a(662531),u=a(15859),m=a(74505),p=a(341860),_=a(457630),f=a(29680),h=a(335682),g=a(100197),E=a(835510),y=a(170039);function v(){let e=(0,_._X)({subscribeToUpdates_expensive:!0}),t=(0,f.p8)("isReadOnly");return n.createElement(S,{viewportInfo:e,isReadOnly:t})}function b(e){return null!=e&&e.y-e.absoluteBounds.y===e.height&&e.height===e.absoluteBounds.height}function C(e){return null!=e&&e.x-e.absoluteBounds.x===e.width&&e.width===e.absoluteBounds.width}function w(e){return{...e,x:e.x-e.width,angle:0}}function T(e){return{...e,y:e.y-e.height,angle:0}}function S({viewportInfo:e,shouldRenderMobileFlapps:t,isReadOnly:a}){let i=(0,g.J2)(l.Ez5.flappData().nodeIds),[o,s]=(0,n.useState)({}),c=(0,g.J2)(l.Ez5.singleSlideView().focusedSlideId);(0,n.useEffect)(()=>{if(!i.length)return;let{currentNodePosition:e}=(0,m.EE)("Flapps",i,e=>{(0,r.flushSync)(()=>s(t=>{let a=p.q.instance.get(e.nodeId),n=a?.findContainingSlideOrSelf();if(!a||!e.position||!n)return t;let r=e.position;return C(e.position)&&(r=w(r)),b(e.position)&&(r=T(r)),{...t,[e.nodeId]:{guid:e.nodeId,slideId:n,position:r,type:a.interactiveSlideElementType}}}))}),t=Object.entries(e).reduce((e,[t,a])=>{let n=p.q.instance.get(t),r=n?.findContainingSlideOrSelf();if(n&&a?.position&&r){let l=a?.position;C(a.position)&&(l=w(l)),b(a.position)&&(l=T(l)),e[t]={guid:t,slideId:r,position:l,type:n.interactiveSlideElementType}}return e},{});return(0,r.flushSync)(()=>s(t)),()=>(0,m.lB)("Flapps")},[i]);let d=l.Ez5.singleSlideView().isSingleSlideViewFocused(),u=document.getElementById("fullscreen-root");if(!u)return null;let _=u.querySelectorAll(".view.container-view");if(0===_.length)return null;let f=_[_.length-1];return n.createElement(n.Fragment,null,Object.values(o).map(l=>!d||d&&l.slideId===c?(0,r.createPortal)(n.createElement(N,{key:l.guid,element:l,viewportInfo:e,shouldRenderMobileFlapp:t,isReadOnly:a}),f):null))}function N({element:e,viewportInfo:t,shouldRenderMobileFlapp:a,isReadOnly:r}){let i=(0,g.J2)(l.Ez5.flappData().nodeThumbnailEditCount).get(e.guid)??0,[o,s]=(0,n.useState)(null);if(!e||!e.position||!t)return n.createElement(n.Fragment,null);let c=p.q.instance.get(e.guid);if(!c)return null;let d=(0,_.Yb)(t,e.position);return n.createElement("div",{title:c.name,style:{position:"fixed",width:e.position.width,height:e.position.height,transform:`translate(${t.x+d.x}px, ${t.y+d.y}px) rotate(${e.position.angle}deg) scale(${t.zoomScale})`,transformOrigin:"top left",pointerEvents:r?"none":"auto"}},n.createElement("div",{className:y.U,ref:s},n.createElement(x,{element:e,shouldRenderMobileFlapp:a,isReadOnly:r})),o&&e.type!==l.a9h.YOUTUBE&&n.createElement(k,{nodeId:e.guid,editCount:i,flappDomElement:o,isReadOnly:r}))}function x({element:e,shouldRenderMobileFlapp:t,isReadOnly:a}){if(null===e.type)return null;let{EditorFlapp:r}=t?(0,E.v)(e.type):(0,E.Z)(e.type);return n.createElement(r,{nodeId:e.guid,isReadOnly:a})}function k({nodeId:e,editCount:t,flappDomElement:a,isReadOnly:r}){let[l]=(0,s.A)(t,500),i=(0,h.tS)();return n.useEffect(()=>{if(r)return;let t=p.q.instance.get(e);if(t&&"INTERACTIVE_SLIDE_ELEMENT"===t.type){var n;n=()=>{(function(e,t,a){let n=t.interactiveSlideElementType,r=t.guid;o().toBlob(e,{bgcolor:"transparent"}).then(e=>e?.arrayBuffer()).then(e=>{if(!e||0===e.byteLength)throw Error("Cannot decode empty buffer");return(0,u.UD)(new Uint8Array(e),"image/png",`${r}thumbnail`)}).then(e=>{t.isAlive()&&d.l7.system("generate-slide-thumbnail",()=>{0===t.fillPaints.data.length?t.insertImageInFillPaint(e):t.setImageInFillPaint(e)})}).catch(e=>{(0,c.sx)("Failed to generate thumbnail in editor for slide",{error:e,nodeId:r,flappType:n,fileKey:a},{forwardToDatadog:!0})})})(a,t,i||"")},requestAnimationFrame(()=>requestAnimationFrame(n))}},[r,e,l,a,i]),n.createElement(n.Fragment,null)}},191485:(e,t,a)=>{a.d(t,{GV:()=>er,FN:()=>ei});var n=a(411855),r=a(598045),l=a(96796),i=a(927457),o=a(629019),s=a.n(o),c=a(729074),d=a(646240),u=a(374626),m=a(153234),p=a(522739),_=a(192437),f=a(762638),h=a(939863),g=a(259927),E=a(662531),y=a(617453),v=a(341860),b=a(318812),C=a(29680),w=a(575288),T=a(100197),S=a(498606),N=a(492554),x=a(92566),k=a(924430),I=a(953289),A=a(491679),L=a(689980),O=a(776621),R=a(304783);let M=e=>{try{return Array.from(e.componentControls).find(e=>e.isDragging)}catch(e){(0,O.$D)(R.e.SLIDES,e);return}},D=e=>{try{return e.panSession.history[0]}catch(e){(0,O.$D)(R.e.SLIDES,e);return}};var P=a(366501),F=a(434228);function B(e){return(0,F.O)()?n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm1 0a4 4 0 1 1-8 0 4 4 0 0 1 8 0ZM7.5 8.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Zm-2 2a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4Zm0 2a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4Zm2 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Z",clipRule:"evenodd"})):n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 8a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Zm-2 2a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4Zm0 2a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4Zm2 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Zm9.5-2.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm1 0a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z",clipRule:"evenodd"}))}var U=a(859905),H=a(77763),G=a(255942),V=a(864089),z=a(278733),K=a(168039),W=a(792675),j=a(188507),Z=a(574176),Y=a(356390),X=a(372252),q=a(525040),J=a(464560);function Q(e){let{carouselSlide:t}=e,a=(0,u.md)(X.Z7),r=a.get(t.guid),l=(0,j.d4)(e=>e.mirror.appModel.showComments),i=(0,q.Vi)(),o=n.useCallback(()=>{l||Y.Y5.triggerAction("toggle-show-comments",{source:"comments_sidebar_setting"}),i||Y.Y5.triggerAction("set-tool-comments",{source:"comments_sidebar_setting"})},[l,i]);if(!r&&!t.isCollapsed)return null;let s=r?.commentCount||0,c=r?.hasUnread||!1;if(t.isCollapsed){let e=t.children;for(let t=0;t<e.length;t++){let n=e[t],r=a.get(n.guid);n.children&&e.concat(n.children),r&&(s+=r.commentCount,c=c||r.hasUnread)}}return s?n.createElement("div",{className:c?"carousel_comment--carouselComment--X2WAd":"carousel_comment--carouselCommentRead--ecFSn carousel_comment--carouselComment--X2WAd"},n.createElement("div",{className:"carousel_comment--commentCount--8Fpe6"},s),n.createElement(Z.B,{className:"carousel_comment--carouselCommentPin--yBJwH",svg:J.A,onClick:o})):null}var $=a(195601);let ee="carousel--addSlideButton--KLSOp",et=(0,n.forwardRef)(function({carouselSlide:e,isDraggingSlides:t,isHovered:a,isCarouselFocused:l,isSelected:i,firstOfSelection:o,lastOfSelection:d,indentAmount:u,selectedSlideCount:_,guidToDisplayForDebugging:g,onMouseDown:E,onMouseUp:y,onClickCaret:v,onScrollToSlide:b,disabled:C,recordingKey:w,dragControls:T,onDrag:N,onDragStart:x,onDragEnd:k,reorderScrollerRef:I},A){let{guid:L,number:O,isCollapsed:R,children:M}=e,D=(0,n.useRef)(null),F=(0,W.x)(I);(0,n.useEffect)(()=>{D.current&&F&&i&&b(D.current)},[i,F,b,I,_]);let H=t&&a,V=t&&i&&!a,K=i&&!H,j=i?l?"var(--color-text-design)":"var(--color-text)":"var(--color-text-secondary)",Z=0;t&&i&&_>=2?Z=_>=3?2:1:R&&M.length>=1&&(Z=M.length>1?2:1);let Y=M.length&&!H?R?"COLLAPSED":"EXPANDED":void 0,X=r.Ez5.singleSlideView().singleSlideThumbnailNumberWidth(),q=r.Ez5.slideAnimationBindings().getSlideTransition(L),J=q.type!==r.v$l.NONE||q.trigger.type===r.tbx.AFTER_DELAY,[$,ee]=(0,P.go)(e);return n.createElement(n.Fragment,null,H?n.createElement("div",{className:f.cx.colorBgDesign.h0.p1.bRadius3.mr8.$,style:{width:`calc(100% - 24px - ${u}px - ${X}px)`}}):null,n.createElement(c._.Item,{ref:(0,G.A)(A,D),value:L,className:f.cx.wFull.relative.$,style:z.sx.add({scrollMargin:"8px"}).$,transition:{type:"spring",duration:.25,bounce:0},dragConstraints:{left:-50,right:50},dragElastic:.1,drag:!C,"data-testid":"ssv-slide",dragControls:T,onDrag:N,onDragStart:x,onDragEnd:k,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":M.length>0&&R?(0,h.t)("slides.carousel.slide_stack_tooltip",{min:$,max:ee}):void 0},n.createElement(p.GG,{className:f.cx.eventsAuto.bgTransparent.relative.wFull.zIndex0.opacity1.if(H,f.cx.zIndex1).if(V,f.cx.opacity0).$,style:z.sx.relative.if(K,{backgroundColor:l?"var(--color-border-design)":"var(--color-bg-tertiary)"}).if(o,{borderTopLeftRadius:"5px",borderTopRightRadius:"5px"}).if(d,{borderBottomLeftRadius:"5px",borderBottomRightRadius:"5px"}).$,onMouseDown:E,onMouseUp:y,"data-fullscreen-intercept":!0,recordingKey:w},n.createElement("div",{className:f.cx.inlineFlex.bgTransparent.p8.bRadius5.wFull.borderBox.$,style:{paddingBottom:`${8+7.5*Z}px`}},n.createElement("div",{className:f.cx.flex.flexColumn.itemsStart.gap16.$,style:{...z.sx.add({width:`${X}px`,marginRight:`${r.Ez5.singleSlideView().singleSlideThumbnailNumberMargin()}px`,marginLeft:`${u}px`}).$}},n.createElement("span",{className:f.cx.alignLeft.font13.if(H,f.cx.opacity0).$,style:{...z.sx.add({color:j}).if(O&&O>99,{marginLeft:"5px",width:`${X}px`,direction:"rtl"}).$}},O||"-")),n.createElement("div",{className:f.cx.eventsNone.wFull.flex.relative.$},g?n.createElement("div",{className:f.cx.absolute.top0.left0.$},g):null,n.createElement(ea,{guid:L}),n.createElement(en,{layersActive:Z}),J?n.createElement("div",{className:s()(f.cx.absolute.colorBg.b1.bRadius2.$,"carousel--transitionIndicator--JsSwP")},n.createElement("span",null,n.createElement(B,null))):null),n.createElement(Q,{carouselSlide:e}))),Y?n.createElement(p.GG,{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),v()},className:f.cx.bgTransparent.absolute.$,style:{justifySelf:"center",transition:"transform 0.25s",transform:"EXPANDED"===Y?`rotate(0deg) translateX(${O&&O>9?"2px":"0"})`:"rotate(-90deg) translateX(0)",top:"28px",left:"0"},recordingKey:m.Pt(w,"caret")},n.createElement(U.k,{style:{"--color-icon":j}})):null))});function ea({guid:e}){let t=(0,$.p)(e),a=v.q.instance.get(e),r=a?.isSkippedSlide;return n.createElement(n.Fragment,null,r?n.createElement("div",{className:s()(f.cx.wFull.hFull.flex.bRadius5.justifyCenter.itemsCenter.absolute.zIndex1.colorBg.$,"carousel--skippedSlideContainer--jww0f")},n.createElement("div",{className:"carousel--skippedSlideIcon--12vh-"},n.createElement(H.j,null))):null,n.createElement(V.oW,{src:t,alt:"",className:f.cx.wFull.hAuto.bRadius5.$,style:{background:"var(--color-fsCanvasDefaultFill)",outline:"1px solid var(--color-bordertranslucent)",aspectRatio:"16 / 9"}}))}function en({layersActive:e}){let t="dark"===(0,K.DP)(),a=["translate(0, 7px) scale(0.91, 0.83)","translate(0, 15px) scale(0.84, 0.79)"],r=1===e?["var(--elevation-100-canvas)"]:["var(--elevation-200-canvas)","var(--elevation-100-canvas)"],l=t?"#5C5C5C":"var(--color-bg, var(--fallback-color-bg))",i=[`linear-gradient(rgba(0,0,0,0) 0%, rgba(0,0,0,0.12) 89%, rgba(0,0,0,0) 98%) ${l}`,l];return n.createElement(n.Fragment,null,[2,1].map(t=>n.createElement("div",{key:"outlineui"+t,className:f.cx.bRadius3.eventsNone.absolute.zIndexMinus1.elevation100.borderBox.top0.wFull.$,style:z.sx.add({transitionProperty:"transform, opacity",transitionDuration:"0.1s, 0.001s",transitionDelay:"0s, 0.2s",aspectRatio:"16 / 9",transform:"translate(0, 0) scale(0)",transformOrigin:"center bottom",opacity:0}).if(e>=t,{transform:a[t-1],opacity:1,transitionDelay:"0s, 0s",boxShadow:r[t-1],background:i[t-1]}).$})))}let er="carousel-add-slide-button";function el({recordingKey:e}){let t=(0,T.J2)(r.Ez5.slideDeck().slideGrid),a=(0,C.p8)("isReadOnly"),[l,i]=(0,n.useState)(""),o=(0,T.J2)((0,y.UK)().showGuids),{carouselSlidesBySlideId:u,slideGuids:p,toggleCollapsed:_,expandParent:h}=(0,P.WW)(t),{selectedSlideIds:E,onMouseDownSlide:v,onMouseUpSlide:S}=(0,P.A8)(p);(0,n.useLayoutEffect)(()=>{E.forEach(e=>h(e))},[E,h]);let{scrollerRef:k,onScroll:I,dragControls:A,onDrag:O,onDragStart:R,onDragEnd:F}=function(){let e=(0,L.m)(),t=(0,n.useRef)(null),a=(0,n.useRef)(),r=(0,n.useRef)(),l=(0,n.useRef)(),i=(0,n.useRef)(),o=(0,n.useRef)(!1),s=(0,n.useCallback)(e=>{if(o.current||!i.current)return;let t=D(i.current),n=e.target;if(!t||!n||void 0===a.current||void 0===l.current)return;let r=n.scrollTop-a.current;t.y=l.current-r},[]),c=(0,n.useCallback)((e,a)=>{if(o.current)return;let n=t.current;if(!n)return;let l=n.getBoundingClientRect(),i=a.point.y,s=e.target;if(!(s instanceof Element))return;let c=s.closest("[draggable]"),d=c?.parentElement;i<l.top+50&&(c!==d?.firstElementChild||n.scrollTop>0)?n.scrollTop-=5:i>l.bottom-50&&c!==d?.lastElementChild&&n.scrollTop+n.clientHeight<(r.current??n.scrollHeight)&&(n.scrollTop+=5)},[]),d=(0,n.useCallback)(()=>{let n=t.current,s=M(e);if(!n||!s){o.current=!0;return}i.current=s,a.current=n.scrollTop,r.current=n.scrollHeight;let c=D(s);if(!c){o.current=!0;return}l.current=c.y,o.current=!1},[e]);return{scrollerRef:t,onScroll:s,dragControls:e,onDrag:c,onDragStart:d,onDragEnd:(0,n.useCallback)(()=>{a.current=void 0,r.current=void 0,l.current=void 0,i.current=void 0},[])}}(),{onMouseDown:B,onMouseMove:U,onSlideReorder:H,isDraggingSlides:G,isClickingSlides:V,detachedSlideGuids:z,indentSelectionBy:K}=(0,P.EL)(E,p,l,u,t,a),W=(0,T.J2)(r.Ez5.singleSlideView().isCarouselFocused),j=(0,b.BK)(g.U3),Z=e=>{let{clientX:t,clientY:a}=e;j.show({data:{clientX:t,clientY:a}})},Y=e=>{let t=u[e]?.indent||0;return(e===l&&G?K+t:t)<=0?0:1},X=r.Ez5.singleSlideView().singleSlideThumbnailPadding(),q=(0,d.Xr)(x.uY),J=(0,n.useCallback)((e,t)=>{e.isIntersecting?q(e=>e.includes(t)?e:[...e,t]):q(e=>e.filter(e=>e!==t))},[q]),Q=(0,N.B)(p,J,{threshold:.5}),$=(G?z:p).filter(e=>!!u[e]&&!!Q.get(e)),[ee,ea,en]=(0,w.J)(!1),er=(0,n.useRef)(W);er.current=W;let el=(0,n.useCallback)(e=>{if(k.current){if(ee.current&&er.current)e.scrollIntoView({block:"nearest",inline:"nearest"});else{let t=e.getBoundingClientRect(),a=k.current.getBoundingClientRect();(t.top<a.top||t.bottom>a.bottom)&&(k.current.scrollTop=Math.max(e.offsetTop-1.5*t.height,0)),en(!0)}}},[ee,en,k]);return n.createElement(n.Fragment,null,a?null:n.createElement("div",{className:f.cx.wFull.flex.gap8.py8.bb1.colorBorder.bSolid.borderBox.$,style:{paddingLeft:`${X}px`,paddingRight:`${X}px`}},n.createElement(es,{recordingKey:e})),n.createElement(c._.Group,{className:s()(f.cx.overflowYScroll.flexGrow1.flex.flexColumn.justifyStart.itemsEnd.pr2.py8.borderBox.wFull.$,"carousel--hideScrollbar--Y-9SW"),style:{paddingLeft:`${X}px`,paddingRight:`${X}px`,overflowAnchor:"none",scrollBehavior:ea&&!G?"smooth":void 0},values:G?z:p,onContextMenu:e=>{e.stopPropagation(),e.preventDefault(),Z(e)},onMouseUp:e=>{e.ctrlKey&&Z(e)},"data-test-id":"slides-carousel",onMouseMove:U,onReorder:H,ref:k,onScroll:I,layoutScroll:!0,axis:"y"},$.map((t,s)=>u[t]&&n.createElement(et,{key:t,ref:Q.get(t),reorderScrollerRef:k,carouselSlide:u[t],isDraggingSlides:G,isHovered:t===l,isCarouselFocused:W,isSelected:E.includes(t),firstOfSelection:!E.includes($[s-1]),lastOfSelection:!E.includes($[s+1]),indentAmount:20*Y(t),selectedSlideCount:E.length,guidToDisplayForDebugging:o?t:null,onMouseDown:e=>{i(t),v(e,t),B(e)},onMouseUp:e=>S(e,G,V,t),onClickCaret:()=>{r.Ez5.singleSlideView().isCarouselFocused.set(!0),_(t)},onScrollToSlide:el,disabled:a,recordingKey:m.Pt(e,"slide",s),dragControls:A,onDrag:O,onDragStart:R,onDragEnd:F}))))}function ei({retryCount:e=0,recordingKey:t}){return n.createElement(_.tH,{boundaryKey:"SlidesSSVCarousel",fallback:e<3?n.createElement(ei,{retryCount:e+1,recordingKey:t}):n.createElement(eo,null)},n.createElement(el,{recordingKey:t}))}function eo(){return n.createElement("div",{className:f.cx.p16.$},n.createElement("div",{className:f.cx.textBodyMedium.$},(0,h.tx)("slides.carousel.error")),n.createElement("div",{className:f.cx.mt4.$},(0,h.tx)("slides.carousel.error_solution")))}let es=n.forwardRef(function({recordingKey:e},t){let{toggleTemplatePicker:a,closeTemplatePicker:r}=(0,A.uu)(),o=(0,u.md)(I.Ei),c=E.nc.user("ssv-carousel",()=>{r();let e=v.q.instance;(0,P.oY)(e,"carousel_add_slide_button")});return n.createElement("div",{"data-element-target":er,className:f.cx.wFull.h24.flex.justifyCenter.$},n.createElement(p.GG,{forwardedRef:t,className:s()(f.cx.if(o,f.cx.colorBgHover,f.cx.colorBg).flex.justifyCenter.itemsCenter.flexGrow1.borderBox.hFull.eventsAll.colorBorder.b1.pl24.$,ee),style:{borderRadius:"6px 0 0 6px",borderRightWidth:"0"},onClick:a,"data-onboarding-key":k.MB,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,h.t)("slides.carousel.add-slide-from-template"),"data-fullscreen-intercept":!0},n.createElement("p",{className:f.cx.noWrap.$},(0,h.t)("slides.carousel.new_slide")),n.createElement(l.O,null)),n.createElement(p.GG,{className:s()(f.cx.colorBorder.b1.flex.itemsCenter.$,ee),style:{borderRadius:"0 6px 6px 0"},onClick:c,"data-testid":"addSlideButton",recordingKey:(0,m.Pt)(e,"addSlideButton"),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,h.t)("slides.carousel.add-blank-slide"),"data-tooltip-shortcut-key":"create-slide","data-fullscreen-intercept":!0},n.createElement(i.e,null)))})},621925:(e,t,a)=>{a.d(t,{_:()=>B,i:()=>U});var n=a(411855),r=a(188507),l=a(598045),i=a(38329),o=a(320063),s=a(966712),c=a(646240),d=a(374626),u=a(877723),m=a(498480),p=a(946689),_=a(939863),f=a(738269),h=a(931828),g=a(101505),E=a(456104),y=a(594524),v=a(723239),b=a(960884),C=a(356390),w=a(100197),T=a(984968),S=a(397065),N=a(143678),x=a(916108),k=a(394828),I=a(520607),A=a(340514),L=a(493364),O=a(463546),R=a(144119),M=a(786884),D=a(953289),P=a(342753),F=a(924430);function B(){let e=(0,c.Xr)(D.VZ),t=(0,R.jY)(),a=(0,P.A)(),{show:r,isShowing:l,complete:i}=(0,E.e)({overlay:O.Yqi,priority:S.N.DEFAULT_MODAL}),s=(0,n.useMemo)(()=>a?[U,H,G,V,z,K]:[U,H,G,V,K],[a]),{currentStep:d,next:u}=(0,y.A)({numSteps:s.length,onComplete:i}),m=n.useMemo(()=>{let r=()=>{u(),e(!0)},o=s.map((e,o)=>n.createElement(e,{onClickPrimaryCta:t||0!==o?u:r,onClickSecondaryCta:i,isShowing:l,totalSteps:a?5:4,isOnboarding:!0}));return t||o.splice(1,0,n.createElement(M.g,null)),o},[s,t,u,e,i,l,a]);return((0,o.h)(()=>{r()}),l&&m)?n.createElement(x.U,{currentStep:d,isShowing:l,children:m}):null}function U({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:a,isOnboarding:l}){let o=(0,c.Xr)(D.VZ),E=(0,d.md)(v.d2),y=(0,r.wA)(),C=E.data===N.qo.ORG,w=d.zl.get(b.Z),S=d.zl.get(T.Me),x=i.D.getState().openFile,k=!x||!x.canEdit,A=(0,u.lt)(w,S,k),L="/sub-processors/",O="/ssa/",R="ja"===(0,s.mm)()[0]?(0,_.tx)("slides.onboarding.welcome.title.jp"):(0,_.tx)("slides.onboarding.welcome.title"),M=C?A?(0,_.tx)("slides.onboarding.welcome.org.footer.no_ai",{services_agreement:n.createElement(p.CY,{href:O,target:"_blank",trusted:!0},(0,_.tx)("slides.onboarding.services_agreement"))}):(0,_.tx)("slides.onboarding.welcome.org.footer.ai",{subprocessors:n.createElement(p.CY,{href:L,target:"_blank",trusted:!0},(0,_.tx)("slides.onboarding.subprocessors")),services_agreement:n.createElement(p.CY,{href:O,target:"_blank",trusted:!0},(0,_.tx)("slides.onboarding.services_agreement"))}):A?void 0:(0,_.tx)("slides.onboarding.welcome.starter.footer",{subprocessors:n.createElement(p.CY,{href:L,target:"_blank",trusted:!0},(0,_.tx)("slides.onboarding.subprocessors"))});(0,n.useEffect)(()=>{l&&y?.(h.b({seen_slides_onboarding:!1}))});let P=()=>{y?.(f.$T({view:"recentFiles"})),t()};return k?null:n.createElement(I._l,{isShowing:a,title:n.createElement("div",null,R,n.createElement(m.Ex,{text:"Beta",color:m.zE.BRAND,className:"onboard_slides--betaBadge--TpHbJ",subtle:!0})),description:n.createElement("span",{style:{whiteSpace:"pre-line"}},(0,_.tx)("slides.onboarding.welcome.description",{learn_more:n.createElement(p.CY,{href:"https://help.figma.com/hc/articles/4406787442711-What-Figma-features-are-in-beta",target:"_blank",trusted:!0},(0,_.tx)("slides.onboarding.learn_more"))})),primaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.welcome.primary_cta"),onClick:()=>{e(),y?.(h.b({seen_slides_onboarding:!0,agreed_to_slides_ai_terms:!0})),l&&o(!0)},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.welcome.secondary_cta"),onClick:P,ctaTrackingDescriptor:g.c.CLOSE},media:n.createElement("img",{src:"https://static.figma.com/uploads/b5ff672e289f44685a5e04d3de9f17f154fb2455",alt:"Figma Slides carousel",width:332}),onClose:P,clickOutsideToHide:!1,trackingContextName:"Slides Onboarding > Welcome",disclaimerFooter:M,hideCloseButton:!0})}function H({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:a,totalSteps:r}){let i=(0,w.J2)(l.Ez5.singleSlideView().isInSingleSlideView);return n.createElement(A.rq,{isShowing:a,targetKey:F.MB,trackingContextName:"Slides Onboarding > New Slide",onClose:t,arrowPosition:L.F_.BOTTOM,title:(0,_.tx)("slides.onboarding.new_slide.title"),description:(0,_.tx)("slides.onboarding.new_slide.description"),media:n.createElement(k.y,{src:"https://static.figma.com/uploads/2811dcf7f07f10fbc8543106336765058bc83266",alt:"slides template picker",aspectRatio:240/135}),stepCounter:{stepNum:1,totalNumSteps:r},primaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),i&&l.Ez5.singleSlideView().exitSingleSlideView()},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.close"),onClick:t,ctaTrackingDescriptor:g.c.CLOSE},shouldDisableAnimation:!0})}function G({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:a,totalSteps:r}){return n.createElement(A.rq,{isShowing:a,trackingContextName:"Slides Onboarding > Views",onClose:t,targetKey:F.b_,title:(0,_.tx)("slides.onboarding.views.title"),description:(0,_.tx)("slides.onboarding.views.description"),media:n.createElement(k.y,{src:"https://static.figma.com/uploads/8ad8b13cac28f9fb6eaaed9cad7c621684fadd6b",alt:"Grid view in Slides",aspectRatio:240/135}),stepCounter:{stepNum:2,totalNumSteps:r},primaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.next"),onClick:()=>{C.Y5.triggerAction("enter-single-slide-view"),e()},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.close"),onClick:t,ctaTrackingDescriptor:g.c.CLOSE},shouldDisableAnimation:!0})}function V({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:a,totalSteps:r}){let i=(0,P.A)(),o=(0,P.E)(l.EMA.SLIDES);return n.createElement(A.rq,{isShowing:a,trackingContextName:"Slides Onboarding > Tools",onClose:t,targetKey:F.hx,shouldHideArrow:!0,shouldCenterArrow:L.EL.BEST_EFFORT,title:(0,_.tx)("slides.onboarding.nondesigner.tools.title"),description:(0,_.tx)("slides.onboarding.nondesigner.tools.description"),media:n.createElement(k.y,{src:"https://static.figma.com/uploads/aca6af2d36ffc1a4f65a12247f598a7598a530b7",alt:"Apps in Slides",aspectRatio:240/135}),stepCounter:{stepNum:3,totalNumSteps:r},primaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),i&&o()},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.close"),onClick:()=>{t()},ctaTrackingDescriptor:g.c.CLOSE},shouldDisableAnimation:!0})}function z({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:a,totalSteps:r}){let i=(0,P.E)(l.EMA.DESIGN);return n.createElement(A.rq,{isShowing:a,trackingContextName:"Slides Onboarding > Design Mode",onClose:t,targetKey:F.uy,shouldHideArrow:!0,shouldCenterArrow:L.EL.BEST_EFFORT,title:(0,_.tx)("slides.onboarding.designer.tools.title"),description:(0,_.tx)("slides.onboarding.designer.tools.description"),media:n.createElement(k.y,{src:"https://static.figma.com/uploads/5064800f3f60febf8b2ad2ad8ba4efdd6167eeaa",alt:"Design tool toggle",aspectRatio:240/135}),stepCounter:{stepNum:4,totalNumSteps:r},primaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),i()},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.close"),onClick:()=>{t()},ctaTrackingDescriptor:g.c.CLOSE},shouldDisableAnimation:!0})}function K({onClickSecondaryCta:e,isShowing:t,totalSteps:a}){return n.createElement(A.rq,{isShowing:t,trackingContextName:"Slides Onboarding > Present",onClose:e,targetKey:F.J5,title:(0,_.tx)("slides.onboarding.share.title"),description:(0,_.tx)("slides.onboarding.share.description"),media:n.createElement(k.y,{src:"https://static.figma.com/uploads/a3ed241305c3e13d9ec5cab6e9a88db7572695c5",alt:"presenter mode in Slides",aspectRatio:240/135}),stepCounter:{stepNum:a,totalNumSteps:a},primaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.done"),onClick:e,ctaTrackingDescriptor:g.c.DONE},shouldDisableAnimation:!0,onTargetLost:e})}},786884:(e,t,a)=>{a.d(t,{g:()=>a8,h:()=>a7});var n,r=a(411855),l=a(188507),i=a(629019),o=a.n(i),s=a(91408),c=a(966712),d=a(374626),u=a(30637),m=a(384162),p=a(259927),_=a(672517),f=a(385326),h=a(582947),g=a(501972),E=a(617453),y=a(29680),v=a(335682),b=a(694687),C=a(555328),w=a(809073),T=a(369394),S=a(407844),N=a(187882),x=a(92566),k=a(144119),I=a(191485),A=a(924430),L=a(982629),O=a(676938),R=a(646240),M=a(6949),D=a(953289),P=a(827586),F=a(762638),B=a(939863),U=a(965480),H=a(691205),G=a(336599),V=a(976999),z=a(491679),K=a(154483),W=a(598045),j=a(927457),Z=a(860601),Y=a(522739),X=a(572206),q=a(864089),J=a(493323),Q=a(75224),$=a(798099),ee=a(988022),et=a(128765),ea=a(662531),en=a(141123),er=a(232205),el=a(825330),ei=a(555207);let eo="slides_template_ui--searchBar--jlYPZ",es="slides_template_ui--separator--ptcuN",ec="slides_template_ui--startFromOutlineIcon--6u3ms",ed="slides_template_ui--startFromScratchIcon--bKGMJ",eu="slides_template_ui--dashedBorder--a60sO",em="slides_template_ui--footer--4g8kc",ep="slides_template_ui--grid--FCSGf",e_=(0,K.fv)();function ef({module:e}){let t=(0,z.r$)(),a=(0,R.Xr)(D.VZ),n=(0,R.Xr)(D.Ei),i=(0,d.md)(x.v2),s=(0,v.tS)(),c=(0,l.wA)(),u="insert-slide-module",m=ea.nc.user(u,(a,n,r)=>{(0,z.CH)({module:e,viewType:t,getGridCoord:W.Ez5.getInsertGridCoord,dispatch:c})(a,n,r)}),{onInsertableResourcePointerDown:p,dragState:_}=(0,er.j)({resource:e,isList:!1,sourceForTracking:"slides-templates-panel",clickToInsert:!0,insertAsChildOfCanvas:!0,insertModulesCallback:m,afterSuccessfulInsert:()=>{n(!1),a(!1)},selectAfterInsert:!1}),f=ea.nc.user(u,p),h=r.useMemo(()=>i?new X.Mi(W.Ez5.singleSlideView().singleSlideThumbnailWidth(),W.Ez5.singleSlideView().singleSlideThumbnailHeight()):void 0,[i]);return r.createElement("div",{className:o()(F.cx.flex.alignCenter.justifyCenter.gap8.$,{"slides_template_tile--moduleCoverCardPicker--IvByg slides_template_tile--_moduleCoverCard--6hqG0 slides_template_tile--moduleCoverCardPickerSize--AAEPk":t===z.Ji.PICKER,"slides_template_tile--moduleCoverCardModal--llMPw slides_template_tile--_moduleCoverCard--6hqG0 slides_template_tile--moduleCoverCardModalSize--1-jSe":t===z.Ji.OVERLAY_MODAL},{"slides_template_tile--gridViewHover--dEaa-":!i})},r.createElement(en.q,{dragState:t===z.Ji.PICKER?_:null,isList:!1,overrideDragPreviewSize:h}),r.createElement(eh,{key:e.node_id,thumbnailUrl:e.thumbnail_url,onPointerDown:f,onClick:()=>(0,ee.Cu)({moduleId:e.id,moduleFileKey:e_(e),fileKey:s,name:"slide_template_tile",productType:"slides"})}))}function eh({name:e,thumbnailUrl:t,thumbnailWidth:a,thumbnailHeight:n,onPointerDown:l,onClick:i,showLoadingSpinner:s=!1,disabled:c=!1,removeBorder:d=!1}){return r.createElement(Y.D8,{className:F.cx.flex.flexColumn.itemsStart.hFull.wFull.$,onPointerDown:c?void 0:l,onClick:c?void 0:i,"data-testid":"insertableSlideTile"},r.createElement("div",{className:o()(F.cx.relative.overflowHidden.flex.justifyCenter.itemsCenter.$,{[F.cx.borderBox.b1.bRadius5.colorBorder.$]:!d}),style:{width:a??"100%",height:n??"100%"}},s&&r.createElement(J.kt,{className:"slides_template_tile--loadingSpinner--i0gem"}),r.createElement(q.oW,{onDragStart:$.wo,className:"slides_template_tile--tileImage--xQ9Rj",src:t,alt:e,loading:"lazy"})),e&&r.createElement("div",{className:F.cx.font11.fontInter.colorTextSecondary.$},e))}function eg({text:e,dataTestId:t,onPointerDown:a,imageContainerContent:n,additionalClassname:l,showSelectedState:i=!1}){let s=(0,z.r$)();return r.createElement("div",{"data-testid":t,className:o()(F.cx.p8.$,l)},r.createElement(el.sU,{image:r.createElement("div",{role:"presentation",onPointerDown:a},r.createElement(el.WM,{className:o()({"slides_template_tile--templateCoverCardLarge--aUi8S slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardLargeSize--lWeyZ":s===z.Ji.PICKER,"slides_template_tile--templateCoverCardMedium--D1xOJ slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardMediumSize--dZ4FH":s===z.Ji.OVERLAY_MODAL,"slides_template_tile--selectedTemplateTile---grt1":i}),removeBorder:!0,backgroundColor:"none"},n)),bottomRow:r.createElement(el.dY.MetadataContainer,{onClick:a},r.createElement(el.dY.TextMetadataLayout,{primaryText:r.createElement("div",{className:F.cx.font11.colorText.ellipsis.overflowHidden.$},e)})),bottomRowClassName:o()({"slides_template_tile--templateCoverBottomRowLarge--jYVZ6":s===z.Ji.PICKER,"slides_template_tile--templateCoverBottomRowMedium--jnOVs":s===z.Ji.OVERLAY_MODAL})}))}function eE({template:e}){return(0,d.md)(D.bY).type===D.Vf.TEMPLATE_PICKER?r.createElement(ey,{template:e}):r.createElement(ev,{template:e})}function ey({template:e}){let{name:t,imageUrl:a,libraryKey:n}=(0,et.fG)()(e),[l,i]=(0,d.fp)(D.ux);if(!n)return null;let o=()=>i((0,Q.l)(n));return r.createElement(eg,{text:t,dataTestId:"slidesTemplateCoverTile",onPointerDown:o,imageContainerContent:r.createElement(eh,{key:t,thumbnailUrl:a,onPointerDown:o,removeBorder:l===(0,Q.l)(n)}),additionalClassname:"slides_template_tile--hoverableTemplateTile--meERX",showSelectedState:l===(0,Q.l)(n)})}function ev({template:e}){let{name:t,imageUrl:a,libraryKey:n}=(0,et.fG)()(e),l=(0,R.Xr)(D.bY),i=(0,d.md)(D.bY);if(!n)return null;let o=e=>{e.stopPropagation(),n&&((0,ee.Cu)({fileKey:n,name:"template_cover_tile",productType:"slides"}),l({type:D.Vf.TEMPLATE,libraryKey:n,parentView:i}))};return r.createElement(eg,{text:t,dataTestId:"slidesTemplateCoverTile",onPointerDown:o,imageContainerContent:r.createElement(r.Fragment,null,r.createElement(el.Wh.Cover,null,r.createElement("div",{className:"slides_template_tile--hoverOverlay--m7upM"})),r.createElement(el.Wh.Center,null,r.createElement(ei.i,{insertTemplate:Z.lQ,isInsertingTemplate:!1,shouldUseOpaqueBackground:!0},(0,B.tx)("slides.templates.view_template"))),r.createElement(eh,{key:t,thumbnailUrl:a,onPointerDown:o}))})}function eb({title:e,testId:t,onPointerDown:a}){return r.createElement(eg,{text:e,dataTestId:t,onPointerDown:a,imageContainerContent:r.createElement("div",{className:o()(F.cx.flex.itemsCenter.justifyCenter.wFull.hFull.borderBox.bRadius5.$,eu)},r.createElement("span",{className:ed},r.createElement(j.e,null)))})}let eC=(0,K.fv)();function ew({modules:e}){let{onShowSeparatorScroll:t}=(0,z.gH)();if(!e.length)return null;let a=(0,c.kc)().ds_use_lib_keys?e[0].library_key:eC(e[0]);return r.createElement(P.P,{className:F.cx.px16.hFull.$,onScroll:t},r.createElement(eN,{key:a},e.map(e=>r.createElement(ef,{key:e.id,module:e}))))}function eT({children:e}){return r.createElement("div",{className:F.cx.flex.flexWrap.pb8.gap0.$},e)}function eS({title:e,children:t,onSeeAllClick:a}){let n=e||a;return r.createElement(r.Fragment,null,r.createElement("div",{className:o()({[F.cx.flex.justifyBetween.alignCenter.pt16.pb8.px8.$]:n})},e&&r.createElement("div",{className:F.cx.font13.colorText.fontSemiBold.fontInter.$},e),a&&r.createElement("button",{className:o()("slides_template_grid--seeAllButton--sShht",F.cx.font11.fontMedium.fontInter.$),onClick:a},(0,B.tx)("slides.templates.view_type.see_all"))),r.createElement(eT,null,t))}function eN({children:e}){return r.createElement("div",{className:F.cx.flex.flexWrap.pb16.gap8.$},e)}let ex="loading_state--container--ouiBF";function ek(){let e=(0,z.r$)(),t=o()({"slides_template_tile--templateCoverCardMediumSize--dZ4FH":e===z.Ji.OVERLAY_MODAL,"slides_template_tile--templateCoverCardLargeSize--lWeyZ":e===z.Ji.PICKER},F.cx.m8.$);return r.createElement(V.Qp,{className:t,animationType:V.JR.LIGHT_SHIMMER})}function eI(){let e=(0,z.r$)(),t=o()({"slides_template_tile--moduleCoverCardPickerSize--AAEPk":e===z.Ji.PICKER,"slides_template_tile--moduleCoverCardModalSize--1-jSe":e===z.Ji.OVERLAY_MODAL});return r.createElement(V.Qp,{className:t,animationType:V.JR.LIGHT_SHIMMER})}function eA(){return r.createElement(V.Qp,{className:o()("loading_state--title--YIpQO",F.cx.m8.$),animationType:V.JR.LIGHT_SHIMMER})}function eL(){return r.createElement("div",{className:"loading_state--loadingStateContainer--dcv3D"},r.createElement(eA,null),r.createElement(eT,null,r.createElement(ek,null),r.createElement(ek,null),r.createElement(ek,null),r.createElement(ek,null)),r.createElement(eA,null),r.createElement(eT,null,r.createElement(ek,null),r.createElement(ek,null),r.createElement(ek,null),r.createElement(ek,null)),r.createElement(eA,null),r.createElement(eT,null,r.createElement(ek,null),r.createElement(ek,null),r.createElement(ek,null),r.createElement(ek,null)))}function eO(){return r.createElement("div",{className:ex},r.createElement(eT,null,Array.from({length:14}).map((e,t)=>r.createElement(ek,{key:t}))))}function eR(){return r.createElement("div",{className:ex},r.createElement(eN,null,Array.from({length:16}).map((e,t)=>r.createElement(eI,{key:t}))))}function eM(){return r.createElement("div",{className:o()(ep,F.cx.px16.pb16.pt8.gap16.overflowHidden.hFull.$)},r.createElement(eD,null),r.createElement(eD,null),r.createElement(eD,null),r.createElement(eD,null),r.createElement(eD,null),r.createElement(eD,null),r.createElement(eD,null),r.createElement(eD,null),r.createElement(eD,null),r.createElement(eD,null),r.createElement(eD,null))}function eD(){return r.createElement("div",{className:F.cx.flex.flexColumn.gap4.$},r.createElement(V.Qp,{className:"loading_state--file--g4dxg",animationType:V.JR.LIGHT_SHIMMER}),r.createElement(V.Wi,{className:"loading_state--fileTitle--ATrhd",animationType:V.JR.LIGHT_SHIMMER}),r.createElement(V.Wi,{className:"loading_state--fileSubtitle--9Lkb7",animationType:V.JR.LIGHT_SHIMMER}))}function eP({children:e}){return r.createElement("div",{className:F.cx.flex.flexColumn.hFull.$},e)}var eF=a(32863),eB=a(767129),eU=a(13583);function eH({onClick:e}){return r.createElement(eB.K,{"aria-label":(0,B.t)("common.close"),onClick:e},r.createElement(eU.L,null))}function eG({searchQuery:e,setSearchQuery:t,showCloseButton:a,placeholder:n}){let{canDismiss:l,maybeUseLightTemplateOnDismiss:i}=(0,z.vN)();return r.createElement("div",{className:F.cx.flex.flexRow.itemsCenter.pl8.pr12.py8.gap12.$},r.createElement(eF.IW,{className:o()(eo,F.cx.wFull.borderBox.bRadius6.colorBgSecondary.$),query:e,clearSearch:()=>t(""),onChange:t,placeholder:n,focusOnMount:!0,withSmallXIcon:!0}),a&&l&&r.createElement(eH,{onClick:i}))}function eV({searchQuery:e,setSearchQuery:t,onBack:a,showCloseButton:n,placeholder:l}){let{canDismiss:i,maybeUseLightTemplateOnDismiss:s}=(0,z.vN)();return r.createElement("div",{className:o()(F.cx.flex.flexRow.itemsCenter.pl8.pr12.py8.gap12.$)},r.createElement(eF.RE,{className:o()(eo,F.cx.wFull.borderBox.bRadius6.colorBgSecondary.$),query:e,clearSearch:()=>t(""),onChange:t,onBack:a,placeholder:l,focusOnMount:!0,withSmallXIcon:!0}),n&&i&&r.createElement(eH,{onClick:s}))}function ez({icon:e,title:t,subtitle:a}){return r.createElement(r.Fragment,null,r.createElement("div",{className:F.cx.flex.flexRow.gap6.lh24.itemsCenter.$},e,r.createElement("h1",{className:F.cx.colorText.fontInter.font14.fontNormal.fontSemiBold.spacingCompact.$},t)),r.createElement("h2",{className:F.cx.colorTextSecondary.textBodyMedium.$},a))}var eK=a(809511);function eW({closePicker:e}){let t=t=>{ea.l7.user("create-new-slide-with-default-theme",()=>{eK.Ez5.slideThemeLibBindings().insertDefaultLocalTheme(t)}),e()};return r.createElement(eS,{title:(0,B.t)("slides.templates.dev_environment_only")},r.createElement(eh,{key:"light",thumbnailWidth:"184px",thumbnailHeight:"101px",name:(0,B.t)("slides.templates.light"),thumbnailUrl:"https://static.figma.com/uploads/4a01804a5d4ad3a2d38ea604c0d8d63520e9b97b",onPointerDown:()=>t(eK.zMY.LIGHT)}),r.createElement(eh,{key:"dark",thumbnailWidth:"184px",thumbnailHeight:"101px",name:(0,B.t)("slides.templates.dark"),thumbnailUrl:"https://static.figma.com/uploads/01a1fc814ce18d9da3ba738aef79acc82c752ab7",onPointerDown:()=>t(eK.zMY.DARK)}))}var ej=a(274176),eZ=a(775419),eY=a(55360),eX=a(391993);function eq({onStartFromOutline:e}){let t=(0,eX.mp)(),{canDismiss:a,maybeUseLightTemplateOnDismiss:n}=(0,z.vN)(),l=(0,R.Xr)(D.bY),i=(0,r.useMemo)(()=>{let i=[];a&&i.push({id:"start_from_scratch",onClick:n,icon:r.createElement(j.e,null),title:(0,B.t)("slides.templates.start_from.scratch.title"),subtitle:(0,B.t)("slides.templates.start_from.scratch.subtitle"),buttonStyle:eu,iconStyle:ed}),t&&i.push({id:"start_from_outline",onClick:e,icon:r.createElement(ej.m,null),title:(0,B.t)("slides.templates.start_from.outline.title"),subtitle:(0,B.t)("slides.templates.start_from.outline.subtitle"),iconStyle:ec});let o=(0,c.kc)().piper_theme_creation_wizard,s=(0,c.kc)().piper_theme_generation;return o?i.push({id:"start_from_theme_creation_wizard",onClick:()=>{},icon:r.createElement(eZ.Q,null),title:(0,B.t)("slides.templates.wizard.entry_point.title"),subtitle:(0,B.t)("slides.templates.wizard.entry_point.subtitle"),iconStyle:"slides_template_ui--startFromCreationWizard--o0lvO"}):s&&i.push({id:"start_from_fun_theme_generation",onClick:()=>{l({type:D.Vf.GENERATE_THEME})},icon:r.createElement(eY.P,null),title:"Generate a template style",subtitle:"Pick colors and fonts",iconStyle:ec}),i},[t,a,n,e,l]);return r.createElement(eJ,{startFromRowData:i})}function eJ({startFromRowData:e}){let t=o()("slides_template_ui--startFromRowWrapper--4UjYr",e.length>=3?"slides_template_ui--flexButtonWidth--EFD0C":"slides_template_ui--fixedButtonWidth--K2lSD");return r.createElement("div",{className:t},e.map(e=>r.createElement(eQ,{onClick:e.onClick,title:e.title,subtitle:e.subtitle,icon:e.icon,buttonStyle:e.buttonStyle,iconStyle:e.iconStyle,key:e.id})))}function eQ({onClick:e,title:t,subtitle:a,icon:n,buttonStyle:l,iconStyle:i}){return r.createElement("button",{className:o()("slides_template_ui--startFromRowButton--v3qHJ",l),onClick:e},r.createElement("span",{className:i},n),r.createElement("div",{className:F.cx.flex.flexColumn.itemsStart.$},r.createElement("p",{className:F.cx.colorText.textBodyMediumStrong.$},t),r.createElement("p",{className:F.cx.colorTextSecondary.textBodyMedium.$},a)))}var e$=a(677967),e0=a(930860),e1=a(752553),e2=a(777078),e5=a(99506),e3=a(106112);function e4({currentTeam:e}){let t=(0,z.fK)(),a=(0,R.Xr)(D.bY),{templatesByTeam:n}=(0,U.li)({teamId:e.id,editorType:e5._Y.SLIDES,pageSize:t});if(!n||0===n.templates.length)return null;let l=n.templates.map(e=>({type:0,template:{type:e3.n.TeamTemplateLg,template:e}})),i=n.totalTemplatesByTeam>t;return r.createElement(tt,{title:(0,B.tx)("slides.templates.theme_picker.org_template_header",{orgName:e.name}),previewData:l,onSeeAllClick:i?()=>a({type:D.Vf.TEAM,teamId:e.id,displayName:e.name}):void 0})}function e6({currentOrg:e}){var t,a;let n=(0,z.fK)(),[{data:l}]=(0,e1.IT)((0,e$.QK)(e.id)),i=(0,R.Xr)(D.bY),{previewData:o,hasOverflowTemplates:s}=(t=l??[],a=Z.lQ,(0,r.useMemo)(()=>{let e=t.slice(0,n).map(e=>({type:0,template:{type:e3.n.TeamTemplate,template:e}}));return(0,c.kc)().piper_theme_creation_wizard?(e.length===n&&(e=e.slice(0,n-1)),{previewData:[...e,{type:1,startFromScratchProps:{title:(0,B.t)("slides.templates.wizard.entry_point.title"),testId:e7,onPointerDown:a}}],hasOverflowTemplates:t.length>=n}):{previewData:e,hasOverflowTemplates:t.length>=n}},[t,n,a]));if(!l||!l.length||!n)return(0,c.kc)().piper_theme_creation_wizard?r.createElement(e8,{orgName:e.name,onClick:Z.lQ}):null;let d=s?()=>i({type:D.Vf.ORG}):void 0;return r.createElement(tt,{title:(0,B.tx)("slides.templates.theme_picker.org_template_header",{orgName:e.name}),previewData:o,onSeeAllClick:d})}let e7="orgTemplateCreation";function e8({orgName:e,onClick:t}){return r.createElement(eS,{title:(0,B.tx)("slides.templates.theme_picker.org_template_header",{orgName:e})},r.createElement(eb,{title:(0,B.t)("slides.templates.theme_picker.org_new_template_placeholder_name",{orgName:e}),testId:e7,onPointerDown:t}),r.createElement("div",{className:"browse_preview_templates_view--orgNewTemplateCtaBlock--QL8MW"},r.createElement("div",{className:"browse_preview_templates_view--iconAndCtaWrapper--cqH1E"},r.createElement(e0.D,{className:"browse_preview_templates_view--ctaIcon--kaDRM"}),r.createElement("div",null,r.createElement("p",{className:F.cx.textBodyMediumStrong.colorText.$},(0,B.t)("slides.templates.theme_picker.org_new_template_placeholder_primary_cta")),r.createElement("p",{className:F.cx.textBodyMedium.colorTextSecondary.$},(0,B.t)("slides.templates.theme_picker.org_new_template_placeholder_secondary_cta",{orgName:e})))),r.createElement("div",{className:"browse_preview_templates_view--spacerPlaceholder--pRKlv"})))}function e9(){let[{data:e}]=(0,e1.IT)((0,e$._4)()),t=(0,R.Xr)(D.bY),a=(0,z.fK)();return e&&0!==e.length?r.createElement(r.Fragment,null,e.map(e=>{let n=e.shelf_content.map(t=>({type:0,template:{type:e3.n.HubFile,template:t,category:e.id}})),l=n.slice(0,a);return 0===l.length?null:r.createElement(tt,{key:e.id,title:e.title,previewData:l,onSeeAllClick:n.length>a?()=>t({type:D.Vf.HUB_FILE,shelfId:e.id}):void 0})})):null}function te(){let e=(0,eX.mp)(),t=(0,z.r$)(),a=(0,e2.eE)(w.$A.Slides),n=(0,z.fK)(),{maybeUseLightTemplateOnDismiss:l}=(0,z.vN)(),i=(0,r.useMemo)(()=>({type:1,startFromScratchProps:{title:(0,B.t)("slides.templates.start_from.scratch.title"),testId:"startFromScratchCoverTile",onPointerDown:l}}),[l]),o=(0,r.useMemo)(()=>a.map(e=>({type:0,template:e})),[a]),s=(0,r.useMemo)(()=>(e||t===z.Ji.PICKER?o:[i,...o]).slice(0,n),[e,t,o,i,n]);return o.length?r.createElement(tt,{title:(0,B.t)("slides.templates.recents"),previewData:s}):null}function tt({title:e,previewData:t,onSeeAllClick:a}){return r.createElement(eS,{title:e,onSeeAllClick:a},t.map((e,t)=>{let a=`template_tile_${t}`;return 1===e.type?r.createElement(eb,{title:e.startFromScratchProps.title,testId:e.startFromScratchProps.testId,onPointerDown:e.startFromScratchProps.onPointerDown,key:a}):r.createElement(eE,{template:e.template,key:a})}))}var ta=(e=>(e[e.ANY_TEMPLATE=0]="ANY_TEMPLATE",e[e.TEMPLATE_FROM_SCRATCH=1]="TEMPLATE_FROM_SCRATCH",e))(ta||{}),tn=a(428322),tr=a(574176),tl=a(236705);function ti({isSearchQueryLoading:e,trimmedSearchQuery:t,searchQueryResult:a,requestLoadMore:n}){let{onShowSeparatorScroll:l}=(0,z.gH)();return e&&0===a.length?r.createElement("div",{className:F.cx.p8.$},r.createElement(eO,null)):0===a.length?r.createElement("div",{className:F.cx.p10.flex.flexColumn.itemsCenter.alignCenter.textBodyMedium.colorTextDisabled.$},r.createElement(tr.B,{className:F.cx.h200.$,svg:tl.A,useOriginalSrcFills_DEPRECATED:!0}),r.createElement("div",null,(0,B.tx)("slides.templates.search.empty",{searchTerm:r.createElement("span",{className:F.cx.fontBold.$},t)})),r.createElement("div",null,(0,B.tx)("slides.templates.search.empty.tip"))):r.createElement(P.P,{className:F.cx.px8.hFull.$,onScroll:l},r.createElement("div",{className:F.cx.pt8.$},r.createElement(eT,null,a.map(e=>r.createElement(eE,{key:(0,et.NH)(e),template:e}))),r.createElement(tn.a,{onIntersectionChange:({isIntersecting:e})=>{e&&n()}})))}function to({closePicker:e}){let t=(0,eX.mp)(),a=(0,z.r$)(),n=function(){let e=(0,b.sZ)(),[{status:t}]=(0,H.IT)((0,e$.QK)(e?.id)),[{status:a}]=(0,H.IT)((0,e$._4)()),n=!(0,v.q5)(),r=(0,G.oh)(T.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:w.$A.Slides})),l=(0,G.oh)(m.sz.loadingKeyForPayload({shelfType:C.cS.PIPER_TEMPLATE_MODAL}));return r||l||"loading"===a||"loading"===t||n}(),{scrollPosition:l,scrollRef:i,onScroll:o,resetScrollTop:s}=(0,z.d$)(D.Vf.ALL),{onShowSeparatorScroll:u}=(0,z.gH)(),p=(0,d.md)(D.F9),_=(0,v.tS)(),f=(0,U.tS)(),h=(0,R.Xr)(D.bY);return((0,r.useEffect)(()=>()=>s([D.Vf.ALL]),[s]),!n&&(p||_))?r.createElement(P.P,{className:F.cx.px8.hFull.$,scrollContainerRef:i,initialScrollTop:l,onScroll:(e,t)=>{o(e,t),u(e,t)}},(t||(0,c.kc)().piper_theme_generation||(0,c.kc)().piper_theme_creation_wizard)&&a===z.Ji.OVERLAY_MODAL&&r.createElement(eq,{onStartFromOutline:function(){h({type:D.Vf.FILE_PICKER,parentType:D.Vf.ALL})}}),r.createElement(te,null),f?.type==="org"&&r.createElement(e6,{currentOrg:f.entity}),f?.type==="team"&&r.createElement(e4,{currentTeam:f.entity}),r.createElement(e9,null),(0,c.IX)()&&r.createElement(eW,{closePicker:e})):r.createElement("div",{className:F.cx.px8.$},r.createElement(eL,null))}function ts({closePicker:e,showCloseButton:t}){let{trimmedSearchQuery:a,searchQuery:n,setSearchQuery:l,isSearchQueryLoading:i,searchQueryResult:s,requestLoadMore:c}=(0,z.$N)(),{showSeparator:d}=(0,z.gH)();return r.createElement(eP,null,r.createElement("div",{className:o()({[es]:d})},r.createElement(eG,{searchQuery:n,setSearchQuery:l,showCloseButton:!!t,placeholder:(0,B.t)("slides.templates.search_templates")})),a?r.createElement(ti,{isSearchQueryLoading:i,trimmedSearchQuery:a,searchQueryResult:s,requestLoadMore:c}):r.createElement(to,{closePicker:e}))}var tc=a(647173);function td({title:e,onClick:t,children:a,isLoading:l,publisherName:i,showSeparator:s=!0}){return r.createElement("div",{className:o()(F.cx.borderBox.flex.flexRow.itemsCenter.p8.h48.$,{[es]:s})},r.createElement(Y.D8,{className:"slides_template_ui--backIcon--WFPr8","aria-label":(0,B.t)("slides.templates.back"),onClick:t},r.createElement(tr.B,{className:F.cx.colorIcon.$,svg:tc.A,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0})),r.createElement("div",{className:"slides_template_ui--titleTextContainer--cH2zw"},l?r.createElement(eA,null):r.createElement(r.Fragment,null,r.createElement(n.TemplateTitle,{title:e}),i&&r.createElement(n.MetadataPublisher,{publisherName:i})),a))}function tu({shelfId:e}){let[{data:t,status:a}]=(0,H.IT)((0,e$.Qp)(e)),n=(0,R.Xr)(D.bY),{scrollPosition:l,scrollRef:i,onScroll:o}=(0,z.d$)(D.Vf.HUB_FILE),s=()=>n({type:D.Vf.ALL});return"loading"===a?r.createElement(eP,null,r.createElement(td,{isLoading:!0,title:"",onClick:s}),r.createElement("div",{className:F.cx.px8.$},r.createElement(eL,null))):t?r.createElement(eP,null,r.createElement(td,{title:(0,B.Yd)(t.i18n_meta.title,t.title),onClick:s}),r.createElement(P.P,{className:F.cx.px8.pt16.hFull.$,scrollContainerRef:i,initialScrollTop:l,onScroll:o},r.createElement(eT,null,t.shelf_content.map(t=>r.createElement(eE,{key:t.id,template:{type:e3.n.HubFile,category:e,template:t}}))))):null}(e=>{e.TemplateTitle=function({title:e}){return r.createElement("div",{className:"slides_template_ui--templateTitleText--lcuqy text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(0,B.tx)("slides.templates.templates_modal.templates_title"),r.createElement("span",{className:"slides_template_ui--headerSeparator--Q3-mT"}," / "),e)},e.MetadataPublisher=function({publisherName:e}){return r.createElement("div",{className:"slides_template_ui--publisherTitleText--9DQpU text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(0,B.tx)("slides.templates.templates_modal.published_by",{publisherName:e}))}})(n||(n={}));var tm=a(421757),tp=a(776621),t_=a(304783),tf=a(392592),th=a(934533),tg=a(410424),tE=a(632430),ty=a(313516),tv=a(108239),tb=a(434228);function tC(e){return(0,tb.O)()?r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17 7H7a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1ZM7 16h1.68l-.661 2.365a.5.5 0 0 0 .962.27L9.72 16h4.562l.737 2.635a.5.5 0 0 0 .963-.27L15.32 16H17a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2Zm1.515-6.56-.215.86-.86.215c-.505.126-.505.844 0 .97l.86.215.215.86c.126.505.844.505.97 0l.215-.86.86-.215c.505-.126.505-.844 0-.97L9.7 10.3l-.215-.86c-.126-.505-.844-.505-.97 0ZM12 9.498A.5.5 0 0 1 12.502 9l3 .014a.5.5 0 1 1-.004 1l-3-.014A.5.5 0 0 1 12 9.498ZM12.5 12a.5.5 0 0 0 0 1H15a.5.5 0 0 0 0-1h-2.5Z",clipRule:"evenodd"})):r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7 8h9a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1ZM5 9a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-1.409l.39 1.363a.5.5 0 0 1-.962.274L13.551 16H9.45l-.468 1.637a.5.5 0 0 1-.962-.274L8.41 16H7a2 2 0 0 1-2-2V9Zm6 1.498a.5.5 0 0 1 .502-.498l3 .014a.5.5 0 1 1-.004 1l-3-.014a.5.5 0 0 1-.498-.502Zm-3.1.402.115-.46c.126-.505.844-.505.97 0l.115.46.46.115c.505.126.505.844 0 .97l-.46.115-.115.46c-.126.505-.844.505-.97 0L7.9 12.1l-.46-.115c-.505-.126-.505-.844 0-.97l.46-.115Zm3.6 1.114a.5.5 0 1 0 0 1h2a.5.5 0 0 0 0-1h-2Z",clipRule:"evenodd"}))}var tw=a(328849),tT=a(606432),tS=a(693903),tN=a(157663),tx=a(944682),tk=a(55069),tI=a(825871),tA=a(574724),tL=a(378260),tO=a(106757),tR=a(993789),tM=a(477047),tD=a(983499),tP=a(742691);async function tF({slidePresetModules:e,insertPreset:t,isGeneratingRef:a}){let n=[];for(let r of(W.Zdr.createHiddenFrameForPresets(),e)){if(!a.current)return;try{let e=new Promise(e=>{t(r,W.zkO.USER,"use-slides-ai-preset-selection",e)});n.push(e)}catch(e){tN.k.error("Failed to insert preset",e)}}await Promise.allSettled(n),a.current&&W.Zdr.selectPresetsFromTemplate()}async function tB({figjamFileKey:e,fileVersion:t,selectedGuids:a=[],pageGuids:n=[]}){let r=await (0,tD.R)({fileKey:e,fileVersion:t,selectedGuids:a.slice(0,75)});return JSON.parse(W.Zdr.getCanvasDataJsonFromBuffer(r,n))}class tU{constructor(e,t,a){this.currentItem=void 0,this.hasRenamedFile=!1,this.lastSlideGuid="",this.isGeneratingRef=e,this.showPlaceholderOverlay=t,this.getNextItem=a,this.intervalId=this.start()}start(){return setInterval(()=>this.update(),100)}isActive(){return 0!==this.intervalId}update(){if(!this.isGeneratingRef.current||!d.zl.get(v.ze)){this.cancel();return}if(this.currentItem||(this.currentItem=this.getNextItem(),!this.currentItem))return;let e=W.Zdr.generateSlides(this.currentItem.slideItem);if(this.showPlaceholderOverlay(W.Zdr.getPlaceholderNodeId()),e.length>0){e.unshift(this.lastSlideGuid);for(let t=0;t<e.length-1;++t)tV(tG(e[t]));this.lastSlideGuid=e[e.length-1]}this.currentItem.resolve(),this.currentItem=void 0}cancel(){this.isActive()&&(this.cleanUp(),(0,tP.Y)())}completeSuccessfully(){this.cleanUp(),(0,tP.Sk)()}processError(e){this.cleanUp(),(0,tP.D1)(e)}cleanUp(){this.isActive()&&(tV(tG(this.lastSlideGuid)),W.Zdr.finishDeckGeneration(),clearInterval(this.intervalId),this.intervalId=0)}}async function tH({canvasData:e,processTitle:t,showPlaceholderOverlay:a,isGeneratingRef:n}){let r=[],l=new tU(n,a,()=>r.shift());try{let a=await tA.Ay.slides.createSlides({version:"1.1",data:e},{orgId:d.zl.get(tL._s),teamId:d.zl.get(v.As)||null,fileKey:d.zl.get(v.ze)||null,userId:d.zl.get(tO.kS)||null,trackingSessionId:(0,tI.f)()});if(!n.current||!d.zl.get(v.ze)){a.cancel();return}let i=[],o=a.getReader(),s=!1;for(;;){let{done:e,value:a}=await o.read();if(e)break;if(!l.isActive()){o.cancel();return}s||"TITLE"!==a.slideType||(s=!0,t(a.content.find(e=>"h1"===e.type)?.content||"")),i.push(new Promise(e=>{r.push({slideItem:a,resolve:e})}))}await Promise.allSettled(i),l.completeSuccessfully()}catch(e){l.processError(e)}}function tG(e){if(!e)return[];let t=tR.z.instance.get(e);if(!t)return[];let a=[];return t.childrenNodes.forEach(e=>{(function e(t,a){t&&("TEXT"===t.type?a.push(t):t.childrenNodes.forEach(t=>e(t,a)))})(e,a)}),a}function tV(e){ea.l7.user("figjam-to-slide-deck-text-opacity",()=>{e.forEach(e=>{e.opacity>0||e.setOpacityWithAnimation(1,tM._E.forLinear(.5),"slides-ai-animate-slide-text")})}),e.length=0}var tz=a(168039);function tK(){let e="dark"===(0,tz.DP)();return r.createElement("div",{className:o()("slides_ai_shimmer_overlay--shimmer--R2Ru3",e?"slides_ai_shimmer_overlay--shimmerDark--hd6lU":"slides_ai_shimmer_overlay--shimmerLight--PGzix")})}function tW(){let e=(0,d.md)(D.oQ)??void 0,t=(0,l.d4)(e=>e.fileVersion),a=function(){let e=(0,r.useRef)(!1),t=(0,z.Kp)(),{areSlidePresetsLoaded:a,slidePresetModules:n}=function(){let e=function(){let e=(0,d.md)(D.ux),t=(0,z.WS)(),a=t.data||[],n="loaded"===t.status&&a.length>0,r=(0,z.S7)();return e||(n?a[0].library_key:r)}(),t=(0,z.NG)(e),a="loaded"===t.status;return{areSlidePresetsLoaded:a,slidePresetModules:a?t.data:[]}}(),i=function(e){let t=(0,z.yt)(),a=(0,r.useRef)(!1);return(0,r.useCallback)(()=>{if(!d.zl.get(v.ze))return;let n=d.zl.get(x.xB);!a.current&&n?.flat()?.length===0&&e.length>0&&(a.current=!0,t(e[0],{row:0,col:0},W.zkO.SYSTEM,"figjam-board-to-deck-default-slide",z.Ji.BOARD_TO_DECK))},[t,e])}(n),o=(0,v.q5)(),s=(0,l.wA)(),c=(0,R.Xr)(tP.uW),{showPlaceholderOverlay:u,removeAllPlaceholderOverlays:m}=function(){let e=(0,r.useRef)(null),t=(0,r.useRef)(new Set);return{showPlaceholderOverlay:(0,r.useCallback)(a=>{if(a&&a!==tS.invalidGUIDStr&&e.current!==a){for(let e of t.current)(0,tk.ks)(e);e.current=a,t.current.add(a),(0,tk.Vm)(a,r.createElement(tK,null))}},[]),removeAllPlaceholderOverlays:(0,r.useCallback)(()=>{for(let e of t.current)(0,tk.ks)(e);t.current.clear(),e.current=null},[])}}(),p=(0,d.md)(D.V6),_=(()=>{switch(p.type){case D.i6.ALL:return p.allPages;case D.i6.SINGLE:return[p.page];default:return[]}})(),f=(0,r.useCallback)(()=>{e.current&&(e.current=!1,m(),o?.key!==d.zl.get(v.ze)||i(),W.Zdr.finishDeckGeneration())},[i,o,m]);return async({figjamFileData:r,fileVersion:l})=>{let{figjamFileKey:i,selectedGuids:m}=r,p=r.pageGuids||_.map(e=>e.guid),h=!i||!l;if(!e.current&&!h&&a&&o){n?.length||tN.k.warn("No slide preset modules found..."),e.current=!0;try{c(tP.cn.LOADING),W.Ez5.uiState().leftPanelCollapsedUI3.set(!0),(0,tP.tO)(f),W.Zdr.showLoadingState();let a=W.Zdr.getPlaceholderNodeId();u(a);let[r,_]=await Promise.allSettled([tB({figjamFileKey:i,fileVersion:l,selectedGuids:m,pageGuids:p}),tF({slidePresetModules:n,insertPreset:t,isGeneratingRef:e})]);if(!e.current)return;if("rejected"===r.status){tN.k.error("Failed to fetch canvas data from file",r.reason),(0,tP.D0)((0,B.t)("slides.present_summary.visual_bells.error_unknown"));return}if("rejected"===_.status){tN.k.error("Failed to ingest templates",_.reason),(0,tP.D0)((0,B.t)("slides.present_summary.visual_bells.error_unknown"));return}await tH({canvasData:r.value,processTitle:e=>{e&&s(tx.Nw({file:o,name:`${e} ${(0,B.t)("slides.templates.presentation")}`}))},showPlaceholderOverlay:u,isGeneratingRef:e}),d.zl.set(tP.uW,tP.cn.COMPLETE)}catch(e){d.zl.set(tP.uW,tP.cn.ERRORED),(0,tP.D0)((0,B.t)("slides.present_summary.visual_bells.error_unknown")),tN.k.error("Failed to generate slides",e)}finally{f()}}}}(),n=(0,d.md)(D.bY).figjamFileData,i=n?.figjamFileKey||e;return{figjamFileKey:i,fileVersion:t,generateSlides:()=>a({figjamFileData:{...n||{},figjamFileKey:i},fileVersion:t}),hasFigJamEntryData:!!n}}var tj=a(99130),tZ=a(318812),tY=a(538697);function tX(){let e=(0,l.wA)(),t=(0,tZ.Um)(),a=(0,d.md)(D.oQ),[n,i]=r.useState([]),[o,s]=(0,d.fp)(D.V6),c=function(e){let t=(0,l.d4)(e=>e.fileVersion),a=(0,d.md)(D.bY).figjamFileData,n=a?.figjamFileKey||e,i=a?.selectedGuids;return(0,r.useCallback)(()=>{if(!(!n||!t))return(0,tD.R)({fileKey:n,fileVersion:t,selectedGuids:i})},[n,t,i])}(a);return(r.useEffect(()=>{a&&(s({type:D.i6.NONE}),(async()=>{let e=await c();if(!e)return;let t=await W.Zdr.getPagesFromBuffer(e);if(!t.length)return;i(t.map(e=>({guid:e.guid,name:e.name})));let a=t[0];s({type:D.i6.SINGLE,page:{guid:a.guid,name:a.name}})})())},[a,s,c]),a)?o.type===D.i6.NONE?r.createElement(tq,null):r.createElement(r.Fragment,null,r.createElement(tY.l6,{id:"slides-ai-file-picker-page-select",property:o,formatter:{format:e=>{switch(e.type){case D.i6.SINGLE:return e.page.name;case D.i6.ALL:return(0,B.t)("slides.templates.file_picker.page_selector.all_pages");default:return""}},isEqual:(e,t)=>e.type===t.type&&(e.type!==D.i6.SINGLE||t.type!==D.i6.SINGLE||e.page.guid===t.page.guid&&e.page.name===t.page.name)},onChange:e=>{s(e)},dispatch:e,className:"slides_template_page_selector--pageSelector--PuTJR",inputClassName:F.cx.fontMedium.colorText.ellipsis.alignTop.maxW150.$,dropdownShown:t,dropdownWidth:208},r.createElement(tY.c$,{value:{type:D.i6.NONE},disabled:!0,ignoreCheck:!0},(0,B.t)("slides.templates.file_picker.page_selector.label")),n.map(e=>r.createElement(tY.c$,{value:{type:D.i6.SINGLE,page:e},key:e.guid},e.name)),r.createElement(tY.sK,null),r.createElement(tY.c$,{value:{type:D.i6.ALL,allPages:n},key:-1},(0,B.t)("slides.templates.file_picker.page_selector.all_pages")))):null}function tq(){return r.createElement("div",{className:"slides_template_page_selector--pageSelectorLoadingState--oaDQH"},r.createElement("div",{className:F.cx.fontMedium.overflowHidden.colorTextSecondary.$},(0,B.t)("slides.templates.file_picker.page_selector.loading")),r.createElement(J.kt,null))}function tJ({templateSelected:e}){let{figjamFileKey:t,generateSlides:a}=tW();return r.createElement(t2,null,r.createElement(tm.$n,{iconPrefix:r.createElement(tC,null),variant:"primary",onClick:a,disabled:!t},(0,B.tx)(e?"slides.templates.template_picker.submit.button.with_template":"slides.templates.template_picker.submit.button.without_template")))}function tQ({createOutline:e,useTemplate:t,disabled:a}){let n=(0,eX.mp)();return r.createElement("div",{className:o()(F.cx.flex.itemsCenter.justifyEnd.p8.gap16.$,em)},n&&r.createElement(tm.$n,{iconPrefix:r.createElement(tw.V,null),variant:"secondary",onClick:e,disabled:a},(0,B.tx)("slides.templates.outline_with_template.button")),r.createElement(tm.$n,{variant:"primary",onClick:t,disabled:a},(0,c.kc)().piper_templates_add_all?(0,B.tx)("slides.templates.add_all_slides"):(0,B.tx)("slides.templates.use_template")))}function t$({children:e}){return r.createElement(t2,null,r.createElement("div",{className:F.cx.flex.gap8.itemsCenter.$},r.createElement(tX,null),e))}function t0(){let e=(0,d.md)(D.V6),{figjamFileKey:t,generateSlides:a}=tW();return r.createElement(t$,null,r.createElement(tm.$n,{iconPrefix:r.createElement(tC,null),variant:"primary",onClick:a,disabled:!t||e.type===D.i6.NONE},(0,B.tx)("slides.templates.file_picker.submit_button.generate")))}function t1(){let e=(0,d.md)(D.V6),t=(0,R.Xr)(D.bY),a=(0,d.md)(D.oQ);return r.createElement(t$,null,r.createElement(tm.$n,{variant:"primary",onClick:()=>{t({type:D.Vf.TEMPLATE_PICKER,isGeneratedFromFigJamEntryPoint:!1})},disabled:!a||e.type===D.i6.NONE},(0,B.tx)("slides.templates.file_picker.submit_button.pick_template")))}function t2({children:e}){return r.createElement("div",{className:o()(F.cx.flex.itemsCenter.justifyBetween.pl12.pr8.py8.$,em)},r.createElement("div",{className:F.cx.flex.itemsCenter.justifyStart.gap8.$},r.createElement(tT.W,null),r.createElement(tj.f,null)),e)}var t5=a(565831);function t3({libraryKey:e}){let t=(0,z.NG)(e),[a,n]=(0,d.fp)(D.bY),l=null===(0,v.tS)(),i=(0,z.r$)(),o=(0,z.S7)(),s=(0,R.Xr)(D.ux),c=(0,R.Xr)(D.oQ);return((0,r.useEffect)(()=>{l||["loading","loaded"].includes(t.status)||(0,tp.Lo)(t_.e.SLIDES,`Query result status has unexpected value: ${t.status}`)},[l,t.status]),"loading"===t.status||l)?r.createElement(eP,null,r.createElement(td,{title:"",isLoading:!0,onClick:()=>{n(a.type===D.Vf.TEMPLATE?a.parentView:{type:D.Vf.ALL}),s(null),c(null)},showSeparator:!1}),r.createElement("div",{className:F.cx.px16.overflowHidden.$},r.createElement(eR,null)),i===z.Ji.OVERLAY_MODAL&&!o&&r.createElement(tQ,{createOutline:Z.lQ,useTemplate:Z.lQ,disabled:!0})):r.createElement(t4,{libraryKey:e,modules:t.data||[]})}function t4({libraryKey:e,modules:t}){let a=(0,z.r$)(),[n,i]=(0,d.fp)(D.bY),o=(0,R.Xr)(D.ux),s=(0,R.Xr)(D.oQ),{showSeparator:u}=(0,z.gH)(),m=(0,l.wA)(),p=(0,z.m4)(),_=(0,z.yt)(),f=t&&t.length>0,h=(0,t5.FF)();if((0,r.useEffect)(()=>{f||(e?((0,tp.x1)(t_.e.SLIDES,"Expected to find at least one module in slides template",{libraryKey:e},{reportAsSentryError:!0}),m(tf.F.enqueue({type:"slides-template",message:(0,B.t)("slides.templates.toast.no_longer_available"),error:!0,icon:th.zX.EXCLAMATION}))):(0,tp.x1)(t_.e.SLIDES,"No library key found for slides template",{},{reportAsSentryError:!0}),i({type:D.Vf.ALL}))},[m,f,e,t,i]),!f)return null;let g=t[0],E=()=>{let e=W.Ez5.getInsertGridCoord({x:-1/0,y:-1/0});if(h&&(0,ty.fn)(h)){let t=W.Ez5.slideDeck().coordForSlide(h);e={row:t.row,col:t.col+1}}else e={row:W.Ez5.slideDeck().getLastSlideCoord().row+1,col:0};p(),m((0,tE.yy)({modules:t,canvasPosition:new X.Mi,percentageOffset:new X.Mi,insertAsChildOfCanvas:!0})).then(({modules:t,insertedItems:n})=>ea.l7.user("add-all-slides",()=>{t.forEach((t,r)=>{(0,z.M)({module:t,insertedItems:n[r],viewType:a,getGridCoord:()=>({row:e.row,col:e.col+r})})}),(0,tv.fL)(n[0][0])})),ea.l7.user("add-all-slides",()=>{W.Ez5.slideThemeLibBindings().setDocumentTemplateLibraryKey(t[0].library_key)}),g.isHubFile&&m((0,tg.k8)({hubFileId:(0,K.fv)()(g)})),(0,z.qm)(m,g)},y=g.file_name||"",v=g.publisher_name;return r.createElement(eP,null,r.createElement(td,{title:y,publisherName:v,onClick:()=>{i(n.type===D.Vf.TEMPLATE?n.parentView:{type:D.Vf.ALL}),o(null),s(null)},showSeparator:u},(0,c.kc)().piper_templates_add_all&&a===z.Ji.PICKER?r.createElement("div",{className:F.cx.mr8.mlAuto.$},r.createElement(tm.$n,{variant:"secondary",onClick:E},(0,B.tx)("slides.templates.add_all_slides"))):null),r.createElement(ew,{modules:t}),a===z.Ji.OVERLAY_MODAL&&r.createElement(tQ,{createOutline:()=>{o(g.library_key),i({type:D.Vf.FILE_PICKER,parentType:D.Vf.TEMPLATE})},useTemplate:(0,c.kc)().piper_templates_add_all?E:()=>{_(g,{row:0,col:0},W.zkO.USER,"use-slides-template",a)}}))}function t6({title:e,templates:t,onRequestMore:a,onSeeAllClick:n}){return r.createElement(eS,{title:e,onSeeAllClick:n},t.map(e=>r.createElement(eE,{key:e.id,template:{type:e3.n.TeamTemplate,template:e}})),r.createElement(tn.a,{onIntersectionChange:a}))}function t7({currentOrg:e}){let{isLoadingTeamTemplates:t,templatesByTeam:a,requestLoadMore:n,requestLoadMoreForTeam:l}=(0,U.GR)(e,e5._Y.SLIDES),i=(0,c.kc)().pro_templates_lg;i&&a.forEach(e=>{e.templates.length>6&&(e.templates=e.templates.slice(0,6))});let o=(0,R.Xr)(D.bY),s=(0,r.useRef)(null),{scrollPosition:d,scrollRef:u,onScroll:m}=(0,z.d$)(D.Vf.ORG),p=()=>o({type:D.Vf.ALL});return t?r.createElement(eP,null,r.createElement(td,{isLoading:!0,title:"",onClick:p}),r.createElement("div",{className:F.cx.px8.$},r.createElement(eL,null))):r.createElement(eP,null,r.createElement(td,{title:e.name,onClick:p}),r.createElement(P.P,{className:F.cx.px8.hFull.$,scrollContainerRef:u,initialScrollTop:d,onScroll:m},a.map(t=>r.createElement(t6,{key:t.team_id,title:t.team_name??e.name,templates:t.templates,onRequestMore:()=>{i||l(t.team_id)},onSeeAllClick:i&&t.total>6?()=>o({type:D.Vf.TEAM,teamId:t.team_id,displayName:t.team_name??e.name}):void 0})),(0,c.kc)().piper_theme_creation_wizard&&r.createElement(eb,{title:(0,B.t)("slides.templates.wizard.entry_point.title"),testId:e7,onPointerDown:Z.lQ})),r.createElement(tn.a,{rootRef:s,onIntersectionChange:n}))}var t8=a(989329);function t9({templates:e,onRequestMore:t}){return r.createElement(eS,null,e.map(e=>r.createElement(eE,{key:e.id,template:{type:e3.n.TeamTemplateLg,template:e}})),r.createElement(tn.a,{onIntersectionChange:({isIntersecting:e})=>{e&&t()}}))}function ae({teamId:e,displayName:t}){let{requestLoadMoreForTeam:a,templatesByTeam:n}=(0,U.li)({teamId:e,editorType:e5._Y.SLIDES}),l=(0,R.Xr)(D.bY),{scrollPosition:i,scrollRef:o,onScroll:s}=(0,z.d$)(D.Vf.TEAM),c=(0,t8.qm)();return r.createElement(eP,null,r.createElement(td,{title:t,onClick:()=>{c?l({type:D.Vf.ORG}):l({type:D.Vf.ALL})}}),n?r.createElement(P.P,{className:F.cx.p8.hFull.$,scrollContainerRef:o,initialScrollTop:i,onScroll:s},r.createElement(t9,{templates:n.templates,onRequestMore:a})):r.createElement("div",{className:F.cx.p8.$},r.createElement(eO,null)))}var at=a(915440),aa=a(67833),an=a(205054),ar=a(860178),al=a(279453);function ai({showCloseButton:e}){let[t,a]=(0,d.fp)(D.bY),{files:n,searchQuery:l,debouncedSearchQuery:i,setSearchQuery:s,status:c}=(0,z._8)(e5._Y.WHITEBOARD),[u,m]=(0,d.fp)(D.ux),p=(0,R.Xr)(D.oQ),{showSeparator:_}=(0,z.gH)();return t.type!==D.Vf.FILE_PICKER?null:r.createElement(eP,null,r.createElement(eV,{searchQuery:l,setSearchQuery:s,onBack:function(){t.type===D.Vf.FILE_PICKER&&(u&&t.parentType===D.Vf.TEMPLATE?a({type:D.Vf.TEMPLATE,libraryKey:u,parentView:{type:D.Vf.ALL}}):(a({type:D.Vf.ALL}),m(null),p(null)))},showCloseButton:!!e,placeholder:(0,B.t)("slides.templates.file_picker.search_files")}),r.createElement("div",{className:o()(F.cx.pt16.pb24.px16.flex.flexColumn.gap2.$,{[es]:_})},r.createElement(ez,{icon:r.createElement(aa.oS,{type:aa.y1.WHITEBOARD,size:aa.LE.SMALL}),title:(0,B.t)("slides.templates.file_picker.title"),subtitle:(0,B.t)("slides.templates.file_picker.subtitle")})),r.createElement(ao,{status:c,debouncedSearchQuery:i,files:n}),t.parentType===D.Vf.TEMPLATE?r.createElement(t0,null):r.createElement(t1,null))}function ao({status:e,debouncedSearchQuery:t,files:a}){let{scrollPosition:n,scrollRef:i,onScroll:s}=(0,z.d$)(D.Vf.FILE_PICKER),{onShowSeparatorScroll:c}=(0,z.gH)(),d=(0,l.d4)(e=>e.mirror.appModel.multiplayerSessionState===W.kul.JOINED),u=null===(0,v.tS)();return e===z.J_.LOADING||!d||u?r.createElement(eM,null):e!==z.J_.SUCCESS?r.createElement("div",{className:F.cx.flex.itemsCenter.justifyCenter.hFull.wFull.colorText.textBodyLarge.pre.$},r.createElement(ac,{debouncedSearchQuery:t,status:e})):r.createElement(P.P,{className:o()(F.cx.px8.hFull.$),onScroll:(e,t)=>{s(e,t),c(e,t)},scrollContainerRef:i,initialScrollTop:n},r.createElement("div",{className:o()(ep,F.cx.pb12.$)},a.map(e=>r.createElement(as,{file:e,key:e.key}))))}function as({file:e}){let t=(0,ar.iZ)(),[a,n]=(0,d.fp)(D.oQ),{disabled:l,tooltipText:i}=function(e){let t=(0,at.Rs)(al.bgg,{fileKey:e});return"loaded"!==t.status?{disabled:!0,tooltipText:void 0}:t.data.file?.viewerExportRestricted&&t.data.file?.canEdit===!1?{disabled:!0,tooltipText:(0,B.t)("slides.template.file_picker.viewer_export_restricted_disabled")}:t.data.file?.org?.k12GoogleOrg||t.data.file?.org?.aiFeaturesDisabledAt?{disabled:!0,tooltipText:(0,B.t)("slides.template.file_picker.ai_disabled.org")}:t.data.file?.team?.aiFeaturesDisabledAt?{disabled:!0,tooltipText:(0,B.t)("slides.template.file_picker.ai_disabled.team")}:{disabled:!1,tooltipText:void 0}}(e.key);return r.createElement("div",{className:o()(F.cx.pt8.px8.$,"slides_template_ui--fileTile--6wu1g")},r.createElement(an.GQ,{onClick:t=>{t.stopPropagation(),l||n(e.key)},overrideOnClick:!0,file:e,subtitle:r.createElement(an.lJ,{file:e}),activeFileUsers:[],currentUser:t,isSelected:!l&&a===e.key,disabled:l,tooltipText:i,disableIconOverlays:!0,titleFontSize:11}))}function ac({debouncedSearchQuery:e,status:t}){return t===z.J_.NO_QUERY_RESULTS?(0,B.tx)("slides.templates.file_picker.no_files_match",{searchQuery:r.createElement("p",{className:F.cx.colorText.textBodyLargeStrong.$},e)}):t===z.J_.NO_RECENT_FILES?r.createElement("h1",{className:F.cx.colorText.textBodyLarge.$},(0,B.tx)("slides.templates.file_picker.no_recent_files")):null}var ad=a(135317),au=a(568214),am=a(138392),ap=a(38580),a_=a(768137),af=a(799569),ah=a(659838),ag=a(809840),aE=a(428654),ay=a(775664),av=a(774191),ab=a(940596),aC=a(75540),aw=a(846848),aT=a(282647),aS=a(753243),aN=(e=>(e.COMPLEMENTARY="Complementary",e.TRIADIC="Triadic",e.ANALOGOUS="Analogous",e.SPLIT="Split",e.SQUARE="Square",e.MONOCHROMATIC="Monochromatic",e))(aN||{});let ax=ay.z5.parse("#FF70A9"),ak="Complementary",aI=(0,ab.Wh)(()=>(0,ap.eU)("Inter")),aA=(0,ab.Wh)(()=>(0,ap.eU)("Bold")),aL=(0,ab.Wh)(()=>(0,ap.eU)("Inter")),aO=(0,ab.Wh)(()=>(0,ap.eU)("Regular")),aR=(0,ab.Wh)(()=>(0,ap.eU)(ak)),aM=(0,ab.Wh)(()=>(0,ap.eU)(ax)),aD=(0,ab.Wh)(()=>(0,ap.eU)(aK(ak,ax))),aP=(0,ab.Wh)(()=>(0,ap.eU)(au.UE)),aF=(0,ab.Wh)(()=>(0,ap.eU)(""));function aB(){let[e,t]=r.useState(0),a=["font","color","name"],n=a[e],l=(0,d.md)(aR),i=(0,d.md)(aM),o=(0,R.Xr)(aD);return r.useEffect(()=>{o(aK(l,i))},[o,l,i]),r.createElement(r.Fragment,null,r.createElement(aU,null),r.createElement("div",{className:F.cx.flex.$},r.createElement(aG,null),r.createElement("div",{className:F.cx.flex.flexColumn.p16.gap24.$,style:{width:"202px"}},r.createElement(P.P,null,"font"===n&&r.createElement(aV,null),"color"===n&&r.createElement(aW,null),"name"===n&&r.createElement(aj,null),r.createElement("div",{className:F.cx.flex.justifyBetween.itemsCenter.$},r.createElement(ag.E,{color:"tertiary"},`Step ${e+1} of 3`),r.createElement("div",{className:F.cx.flex.gap8.$},e>0&&r.createElement(a_.nR,{onClick:()=>t(e-1)},"Back"),e<a.length-1&&r.createElement(a_.nR,{onClick:()=>t(e+1)},"Next"),e===a.length-1&&r.createElement(aY,null)))))))}function aU(){let e=(0,R.Xr)(D.VZ);return r.createElement("div",{className:o()(F.cx.flex.flexRow.itemsCenter.justifyBetween.pl16.$,F.cx.bb1.bSolid.colorBorder.$)},r.createElement(ag.E,{fontWeight:"semi-bold"},"Create theme \u2728"),r.createElement(af.Jn,{className:F.cx.m8.$,onClick:()=>e(!1)}))}async function aH(){if(W.vXe.fontsAreLoading()){let e=0;await new Promise((t,a)=>{let n=setInterval(()=>{W.vXe.fontsAreLoading()||(t(),clearInterval(n)),e>10&&a(),e++},100)})}}function aG(){let e=(0,d.md)(aI),t=(0,d.md)(aA),a=(0,d.md)(aL),n=(0,d.md)(aO),l=(0,d.md)(aP),[i,o]=r.useState("");return r.useEffect(()=>{(async()=>{if(W.Ez5.slideThemeStylePreview().generateTitleSlideNode(e,t,a,n,(0,av.oU)(l)),await aH(),W.vXe.fontIsLoaded(e,t)){let e=W.Ez5.slideThemeStylePreview().generateTitleSlidePreview();o(e?URL.createObjectURL(new Blob([e])):"")}else console.warn("Failed to generate preview due to missing font")})().catch(()=>console.warn("Failed to generate preview due to missing font"))},[e,t,a,n,l,o]),r.createElement("div",{className:F.cx.flex.flexColumn.justifyCenter.itemsCenter.gap16.$,style:{width:"420px",minHeight:"490px",background:"#F5F5F5"}},r.createElement("img",{src:i,alt:"slide preview",style:{width:"380px",height:"217px"}}))}function aV(){let[e,t]=(0,d.fp)(aI),[a,n]=(0,d.fp)(aL),i=(0,R.Xr)(aA),o=(0,R.Xr)(aO),s=(0,l.d4)(e=>e.fonts),c=r.useMemo(()=>(0,aC.pn)(s),[s]),u=e=>{e&&(t(e),i(function(e){for(let t of["Bold","Semi Bold","Medium","Regular"])if(t in e)return t;return Object.keys(e)[0]}(c[e])))},m=e=>{e&&(n(e),o(function(e){for(let t of["Regular"])if(t in e)return t;return Object.keys(e)[0]}(c[e])))};return r.createElement(aZ,{title:"\u2460  Pick your fonts"},r.createElement(ag.E,{fontWeight:"medium"},"Title"),r.createElement("div",null,r.createElement(aT.ay,{id:"create-slides-theme-title-font-family",fontFamily:e,onChange:u,fonts:s,versionsForStyles:c,editingStyleGuid:void 0,fontPickerId:`${p.J6}-theme-title`})),r.createElement(ag.E,{fontWeight:"medium"},"Body"),r.createElement("div",null,r.createElement(aT.ay,{id:"create-slides-theme-body-font-family",fontFamily:a,onChange:m,fonts:s,versionsForStyles:c,editingStyleGuid:void 0,fontPickerId:`${p.J6}-theme-body`})),r.createElement(a_.nR,{onClick:()=>{let e=Object.keys(s);u(e[Math.floor(Math.random()*e.length)]),m(e[Math.floor(Math.random()*e.length)])}},"Randomize"))}function az(e,t){let a=(0,av.oB)(e),n=360*a.h,r={...a,h:(n+t)%360/360};return(0,av.In)(r)}function aK(e,t){switch(e){case"Complementary":return[t,az(t,180)];case"Triadic":return[t,az(t,120),az(t,240)];case"Analogous":return[t,az(t,-45),az(t,45)];case"Split":return[t,az(t,150),az(t,210)];case"Square":return[t,az(t,90),az(t,180),az(t,270)];case"Monochromatic":return[t,(0,am.Hd)(t,.2),(0,am.Hd)(t,-.2)].filter(e=>null!==e)}}function aW(){let e=(0,y.dH)(),t=(0,l.wA)(),a=(0,tZ.Um)(),[n,i]=(0,d.fp)(aM),[o,s]=(0,d.fp)(aR),c=(0,d.md)(aD),u=(0,R.Xr)(aP),[m,p]=r.useState(1),_=r.useMemo(()=>[au.UE,...c],[c]);return r.useEffect(()=>{u(_[m%_.length])},[_,m,u]),r.createElement(aZ,{title:"\u2461  Pick your colors"},r.createElement("div",{className:F.cx.flex.wFull.radiusMedium.$},c.map((e,t)=>r.createElement("div",{key:t,className:F.cx.flexGrow1.h32.$,style:{background:aE.F.format(e)}}))),r.createElement(aw.S7,{color:n,colorFormat:W.NVY.HEX,onColorChange:i,displayType:aw.sX.SLIDES_THEME,currentTool:e,dispatch:t,dropdownShown:a,canAcceptStyles:!1,canAcceptVariables:!1,hideOpacity:!0,dropperDisabled:!0}),r.createElement("div",{className:F.cx.flex.flexWrap.gap8.$},Object.values(aN).map(e=>r.createElement(tm.$n,{key:e,variant:e===o?"primary":"secondary",iconPrefix:e===o?r.createElement(ad.g,{className:F.cx.colorIcon.$}):void 0,onClick:()=>{s(e),p(0)}},e))),r.createElement(ag.E,{fontWeight:"medium"},"Background color"),r.createElement("div",{className:F.cx.flex.gap2.$},_.map((e,t)=>r.createElement(aS.qm,{key:t,backgroundString:aE.F.format(e),tooltipText:ay.z5.format(e),onClick:()=>p(t),isSelected:m%_.length===t}))),r.createElement(a_.nR,{onClick:()=>{let e=`#${Math.floor(16777215*Math.random()).toString(16)}`,t=Math.floor(600*Math.random())+100,a=(0,am.jA)(ay.z5.parse(e),t);a&&i(a);let n=Object.values(aN);s(n[Math.floor(Math.random()*n.length)]),p(Math.floor(8*Math.random()))}},"Randomize"))}function aj(){let[e,t]=(0,d.fp)(aF);return r.createElement(aZ,{title:"\u2462  Name your theme"},r.createElement("div",{className:"generate_theme_view--nameInput--vnecB"},r.createElement(ah.L,{placeholder:"e.g. Pastel theme",value:e||"",onChange:e=>{t(e.target.value)},maxLength:100,height:24})))}function aZ({title:e,children:t}){return r.createElement("div",{className:F.cx.flex.flexColumn.wFull.gap8.$},r.createElement(ag.E,{fontWeight:"semi-bold"},e),t)}function aY(){let e=(0,d.md)(aI),t=(0,d.md)(aA),a=(0,d.md)(aL),n=(0,d.md)(aO),l=(0,d.md)(aP),i=(0,d.md)(aD),o=(0,d.md)(aF),s=(0,y.eY)(),{canDismiss:c,maybeUseLightTemplateOnDismiss:u}=(0,z.vN)();return r.createElement(a_.$$,{onClick:()=>{u().then(r=>{if(0===r.length)return;let c=s.get(r[0]);c&&ea.l7.user("generate-theme",()=>{W.Ez5.slideThemeLibBindings().updateThemeWithProperties(c.slideThemeId,{titleFontFamily:e,titleFontStyle:t,bodyFontFamily:a,bodyFontStyle:n,bgColor:(0,av.oU)(l),accentColors:i.filter(e=>!(0,au.DA)(e,l)&&!(0,au.DA)(e,au.UE)&&!(0,au.DA)(e,au.Uv)).map(av.oU)}),W.Ez5.slideThemeLibBindings().setThemeName(c.slideThemeId,o??"Theme")})})},disabled:!c},"Create theme")}function aX({showCloseButton:e}){let{searchQuery:t,setSearchQuery:a}=(0,z.$N)(),[n,i]=(0,d.fp)(D.bY),o=n.type===D.Vf.TEMPLATE_PICKER&&n.isGeneratedFromFigJamEntryPoint,s=(0,l.d4)(e=>e.mirror.appModel.multiplayerSessionState===W.kul.JOINED);return r.createElement(eP,null,o?r.createElement(eG,{searchQuery:t,setSearchQuery:a,showCloseButton:!0,placeholder:(0,B.t)("slides.templates.search_templates")}):r.createElement(eV,{searchQuery:t,setSearchQuery:a,onBack:function(){i({type:D.Vf.FILE_PICKER,parentType:D.Vf.TEMPLATE_PICKER})},showCloseButton:!!e,placeholder:(0,B.t)("slides.templates.template_picker.search_templates")}),s?r.createElement(aq,null):r.createElement("div",{className:F.cx.px8.$},r.createElement(eL,null)))}function aq(){let{trimmedSearchQuery:e,isSearchQueryLoading:t,searchQueryResult:a,requestLoadMore:n}=(0,z.$N)(),l=(0,d.md)(D.ux),{showSeparator:i}=(0,z.gH)();return r.createElement(r.Fragment,null,r.createElement("div",{className:o()(F.cx.p16.flex.flexColumn.gap2.$,{[es]:e&&i})},r.createElement(ez,{icon:r.createElement("div",{style:{"--color-icon":"var(--color-icon-menu-onselected)"},className:F.cx.colorBgBrand.h14.w14.bRadius2.flex.alignCenter.itemsCenter.$},r.createElement(eZ.Q,null)),title:(0,B.t)("slides.templates.template_picker.title"),subtitle:(0,B.t)("slides.templates.template_picker.subtitle")})),e?r.createElement(ti,{isSearchQueryLoading:t,trimmedSearchQuery:e,searchQueryResult:a,requestLoadMore:n}):r.createElement(aJ,null),r.createElement(tJ,{templateSelected:!!l}))}function aJ(){let e=(0,b.sZ)(),[t,a]=r.useState([]),[n,l]=r.useState(null),{scrollPosition:i,scrollRef:s,onScroll:c}=(0,z.d$)(D.Vf.TEMPLATE_PICKER),{showSeparator:d,onShowSeparatorScroll:u}=(0,z.gH)(),[{data:m}]=(0,e1.IT)((0,e$._4)()),p=(0,e2.eE)(w.$A.Slides);(0,r.useEffect)(()=>{let t=[];if(p.length>0&&t.push({id:"recents",label:(0,B.t)("slides.templates.recents"),view:r.createElement(a$,null)}),e&&t.push({id:"org",label:(0,B.t)("slides.templates.org_templates"),view:r.createElement(a1,{currentOrg:e})}),m)for(let e of m)t.push({id:`hub-${e.id}`,label:e.title,view:r.createElement(a2,{shelf:e})});a(t),t.length>0&&l(t[0].id)},[p,e,m]);let _=e=>()=>{l(e)};return r.createElement(r.Fragment,null,r.createElement("div",{className:o()(F.cx.flex.flexRow.gap6.alignCenter.itemsCenter.px16.pb16.$,{[es]:d})},t.map(e=>r.createElement("button",{key:e.id,className:o()(F.cx.textBodyMedium.colorText.spacingWide.alignCenter.px8.h24.$,{"slides_template_ui--tabButton--R1hl1":n===e.id,[F.cx.textBodyMediumStrong.$]:n===e.id,[F.cx.colorTextSecondary.$]:n!==e.id}),onClick:_(e.id)},e.label))),r.createElement(P.P,{className:F.cx.px8.hFull.$,scrollContainerRef:s,initialScrollTop:i,onScroll:(e,t)=>{c(e,t),u(e,t)}},r.createElement(aQ,{selectedTabId:n,tabs:t})))}function aQ({selectedTabId:e,tabs:t}){let a=t.find(t=>t.id===e);return a?a.view:null}function a$(){let e=(0,e2.eE)(w.$A.Slides);return 0===e.length?null:r.createElement(eT,null,e.map(e=>r.createElement(eE,{key:(0,et.NH)(e),template:e})))}function a0({teamId:e,displayName:t,onBackClick:a}){let{requestLoadMoreForTeam:n,templatesByTeam:l}=(0,U.li)({teamId:e,editorType:e5._Y.SLIDES});return r.createElement(r.Fragment,null,r.createElement(td,{title:t,onClick:a,showSeparator:!1}),l?r.createElement(t9,{templates:l.templates,onRequestMore:n}):r.createElement(eO,null))}function a1({currentOrg:e}){let{isLoadingTeamTemplates:t,templatesByTeam:a,requestLoadMoreForTeam:n}=(0,U.GR)(e,e5._Y.SLIDES),[l,i]=r.useState(null),o=(0,c.kc)().pro_templates_lg;return(o&&a.forEach(e=>{e.templates.length>8&&(e.templates=e.templates.slice(0,8))}),l)?r.createElement(a0,{teamId:l,displayName:e.name,onBackClick:()=>i(null)}):t?r.createElement(eL,null):r.createElement(r.Fragment,null,a.map(t=>r.createElement(t6,{key:t.team_id,title:t.team_name??e.name,templates:t.templates,onRequestMore:()=>{o||n(t.team_id)},onSeeAllClick:o&&t.total>8?()=>{i(t.team_id)}:void 0})))}function a2({shelf:e}){let[{status:t}]=(0,e1.IT)((0,e$._4)());if("loading"===t)return r.createElement(eL,null);let a=e.id;return r.createElement(eT,null,e.shelf_content.map(e=>{let t={type:e3.n.HubFile,category:a,template:e};return r.createElement(eE,{key:e.id,template:t})}))}function a5({showCloseButton:e}){let t=(0,d.md)(D.bY),a=(0,R.Xr)(D.VZ),n=(0,R.Xr)(D.Ei),l=(0,R.Xr)(D.OR),i=(0,R.Xr)(D.xw),o=(0,M.hC)(),s=(0,b.sZ)();switch((0,r.useEffect)(()=>()=>{l(""),i()},[i,l]),t.type){case D.Vf.ALL:return r.createElement(ts,{showCloseButton:e,closePicker:()=>{n(!1),a(!1)}});case D.Vf.ORG:if(!s)throw Error("Expected current org to be defined when browsing org templates");if(!o)throw Error("User is not allowed to browse org templates");return r.createElement(t7,{currentOrg:s});case D.Vf.TEAM:return r.createElement(ae,{teamId:t.teamId,displayName:t.displayName});case D.Vf.TEMPLATE:return r.createElement(t3,{libraryKey:t.libraryKey});case D.Vf.HUB_FILE:return r.createElement(tu,{shelfId:t.shelfId});case D.Vf.FILE_PICKER:return r.createElement(ai,{showCloseButton:e});case D.Vf.TEMPLATE_PICKER:return r.createElement(aX,{showCloseButton:e});case D.Vf.GENERATE_THEME:return r.createElement(aB,null);default:return null}}var a3=a(488578),a4=a(860168);function a6({children:e}){let{canDismiss:t,maybeUseLightTemplateOnDismiss:a}=(0,z.vN)(),n=(0,d.md)(D.bY).type===D.Vf.GENERATE_THEME?"fitContent":(0,s.hG)(a4.uRR);return r.createElement(a3.aF,{className:"slides_template_modal--templateModal--GmDGm",size:n,onHide:a,tintedModalBackground:!0,disableClickOutsideToHide:!t,enableEscapeToClose:t,"data-testid":"slides-template-modal"},r.createElement("div",{className:F.cx.overflowHidden.$,style:{height:"600px"}},e))}function a7(){let[e,t]=(0,d.fp)(D.Ei),a=(0,E.dP)(),n=(0,N.Ye)(),i=(0,l.wA)(),c=(0,b.sZ)(),u=r.useRef(null);if((0,O.Y)(()=>t(!1),{closeOnEsc:!0,ignore:[u,(0,g.Tc)("slides-template-button"),(0,g.Tc)(I.GV),(0,g.Tc)(L.l)]}),(0,r.useEffect)(()=>{i(T.cd.fetchTemplatesMetadata({key:w.$A.Slides,orgId:c?.id})),i(m.sz({shelfType:C.cS.PIPER_TEMPLATE_MODAL}))},[c?.id,i]),!e)return null;let f=(0,S.J)(),h=n?70+f:(0,s.jz)(a4.M$q)+f;return r.createElement(_.fu,{name:"Slides Template Picker"},r.createElement("div",{className:o()("slides_template_ui--pickerContainer--a3RMS",p.Dm),style:{top:h,left:n?12:a+24,width:408,height:window.innerHeight-h-72},ref:u,"data-testid":"slides-template-picker"},r.createElement(z.Jn.Provider,{value:z.Ji.PICKER},r.createElement(a5,null))))}function a8(){let e=(0,y.p8)("isReadOnly"),t=(0,k.jY)(),a=(0,d.md)(D.R_),n=(0,k.EI)(),l=(0,d.md)(f.D),i=(0,d.md)((0,h.r1)(A.Kt)).data,o=(0,d.md)(D.VZ),s=(0,d.md)(x.Ai),m=(0,v.tS)();return(0,u.Ns)()||(0,u.nl)()||(0,c.kc)().piper_create_with_data_on_load&&(a||s.fileKey&&!a)||e||!i||!n||t||l&&!o?null:r.createElement(_.fu,{name:"Slides Template Overlay Modal",properties:{productType:"slides",fileKey:m}},r.createElement(z.Jn.Provider,{value:z.Ji.OVERLAY_MODAL},r.createElement(a6,null,r.createElement(a5,{showCloseButton:!0}))))}},982629:(e,t,a)=>{a.d(t,{R:()=>p,l:()=>m});var n=a(411855),r=a(421757),l=a(927457),i=a(374626),o=a(939863),s=a(498606),c=a(92566),d=a(924430),u=a(491679);let m="toolbar-add-slide-button";function p(){let e=(0,i.md)(c.o6),{toggleTemplatePicker:t}=(0,u.uu)();return e?null:n.createElement(r.$n,{onClick:t,iconPrefix:n.createElement(l.e,null),variant:"secondary",recordingKey:"toolbar.addSlideButton",htmlAttributes:{"data-testid":"addSlideButton","data-element-target":m,"data-onboarding-key":d.MB,"data-tooltip":(0,o.t)("slides.carousel.add-slide-from-template"),"data-tooltip-type":s.Ib.TEXT,"data-fullscreen-intercept":!0}},(0,o.tx)("slides.carousel.new_slide"))}},342753:(e,t,a)=>{a.d(t,{A:()=>C,E:()=>b});var n=a(188507),r=a(598045),l=a(646240),i=a(374626),o=a(915440),s=a(30637),c=a(635897),d=a(360712),u=a(738269),m=a(293017),p=a(843495),_=a(335682),f=a(99506),h=a(279453),g=a(984968),E=a(36816),y=a(509323),v=a(954049);function b(e){let t=function(){let e=(0,n.wA)(),t=(0,l.Xr)(y.Xw),a=(0,l.Xr)(v.Pk);return()=>{e(u.oB()),e(m.XE()),e(m.Uv()),t(!1),a(!1)}}(),a=C(),o=e===r.EMA.DESIGN?r.EMA.SLIDES:r.EMA.DESIGN;return()=>{(a||o!==r.EMA.DESIGN)&&(t(),function(e){let t=i.zl.get(c.Kh);e===r.EMA.DESIGN&&((0,p.NT)(r.FAf.DESIGN),t===r.NLJ.COMMENTS&&r.glU.triggerAction("set-tool-default",null))}(o),o===r.EMA.DESIGN?r.glU.triggerAction("enter-slides-design-mode",null):r.glU.triggerAction("enter-slides-mode",null))}}function C(){let e=(0,n.d4)(e=>e.currentUserOrgId),t=(0,n.d4)(_.vu),a=(0,d.q)(),r=(0,g.ol)(),l=(0,o.Rs)(h.L1I,{fileKey:t?.key??"",teamId:t?.team_id??null,repoId:t?.file_repo_id??null,projectId:t?.folder_id??null,currentOrgId:e??null});if((0,s.PN)())return!0;if(a)return!1;if(t&&t.team_id&&!t.parent_org_id&&r?.student_team)return!0;let i=l.data?.file?.org?.currentBaseOrgUser;if(i)return i.designPaidStatus===f.El.FULL;{let e=l.data?.file?.roles[0]?.user?.teamUser;return!!e&&e.designPaidStatus===E.Zf.FULL}}},535688:(e,t,a)=>{a.d(t,{V:()=>v});var n=a(411855),r=a(188507),l=a(598045),i=a(293775),o=a(966712),s=a(374626),c=a(646240),d=a(939863),u=a(101505),m=a(226055),p=a(498606),_=a(58994),f=a(209234),h=a(368702),g=a(861717),E=a(583765),y=a(125233);function v(){let e=(0,m.GS)(),t=(0,s.md)(E.zS),a=(0,c.Xr)(E.bJ),v=(0,c.Xr)(E.tz),b=e?"right":"left",C=(0,o.kc)().figjam_generate_handbrake,w=C?(0,d.t)("whiteboard.ai_modal.generate_handbrake"):(0,d.t)("whiteboard.ai_modal.generate"),T=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===l.lyf.LAYOUT);(0,n.useEffect)(()=>{T||v()},[T,v]);let S={isActive:t===E.Wl.TOP_BAR,onClick:()=>{t===E.Wl.TOP_BAR?v():((0,h.W)(b,v),a())},trackingProperties:{trackingDescriptor:u.c.FIGJAM_AI_TOOLBAR_ITEM},onboardingKey:_.bX,innerText:"AI Toolbar Entrypoint",disabled:C,dataTestId:"figjam-ai-toolbar-item",recordingKey:"figjam-ai-toolbar-item"};return e?n.createElement(g.Z,{tooltip:{type:p.Ib.TEXT,text:w},...S},n.createElement(i.C,null)):n.createElement(f.P,{icon:y.A,addLeftMargin:!0,tooltipText:w,...S})}},577023:(e,t,a)=>{a.d(t,{Cw:()=>C,Su:()=>v,v:()=>y});var n=a(411855),r=a(38580),l=a(374626),i=a(860601),o=a(939863),s=a(672517),c=a(456104),d=a(457630),u=a(397065),m=a(143678),p=a(147829),_=a(342720),f=a(493364),h=a(63666),g=a(463546),E=a(492521);let y=(0,r.eU)(!1),v="organize";function b({onClose:e}){let t=(0,E.Cb)(),a=(0,d.LE)({subscribeToUpdates_expensive:t});return n.useEffect(()=>{t||e()},[t,e]),n.createElement("div",{style:{opacity:a?0:1,transition:"ease-in-out 0.1s all"}},n.createElement(h.Dv,{targetType:"dom",targetKey:v,topPadding:-6,isBold:!0,fixedWidth:316,arrowPosition:f.F_.BOTTOM,onTargetLost:i.lQ},n.createElement(_.mI,{bodyText:n.createElement("span",{style:{maxWidth:184}},(0,o.tx)("whiteboard.organize_menu.onboarding_text_base",{boldText:n.createElement("b",null,(0,o.tx)("whiteboard.organize_menu.onboarding_text_bold_text"))})),buttonText:(0,o.tx)("whiteboard.organize_menu.onboarding_dismiss_button_text"),onButtonClick:()=>{e()}})))}function C(){let[e,t]=(0,l.fp)(y),{show:a,isShowing:r,complete:i}=(0,c.e)({overlay:g.YiU,priority:u.N.SECONDARY_MODAL});return n.useEffect(()=>{a({canShow:()=>e})},[e,a]),n.createElement(p.M,{isShowing:r,testId:"FigJamAISummarizationEntrpointPointerOverlay"},n.createElement(s.fu,{name:m.e0.AI_INLINE_MENU_ORGANIZE_SUMMARY_TOOLTIP},n.createElement(b,{onClose:()=>{t(!1),i()}})))}},99130:(e,t,a)=>{a.d(t,{f:()=>u});var n=a(411855),r=a(946689),l=a(762638),i=a(939863),o=a(278733),s=a(896474),c=a(498606),d=a(773912);function u(){return n.createElement("div",{className:l.cx.font11.colorTextSecondary.overflowBreakWord.$},(0,i.tx)("whiteboard.ai_modal.disclaimer"),n.createElement(r.Us,{trusted:!0,href:d.nG,className:l.cx.inlineBlock.cursorDefault.$,style:o.sx.add({verticalAlign:"bottom"}).$,target:"_blank","data-tooltip-type":c.Ib.TEXT,"data-tooltip":(0,i.t)("whiteboard.ai_modal.learn_more"),innerText:"learn more"},n.createElement(s.In,{icon:"info-16",fill:"secondary"})))}},489005:(e,t,a)=>{a.d(t,{s:()=>B});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(752553),s=a(153234),c=a(939863),d=a(801161),u=a(279453),m=a(984968),p=a(498606),_=a(677859),f=a(244307),h=a(684690),g=a(374626),E=a(827586),y=a(662275),v=a(672517),b=a(428654),C=a(775664),w=a(140047),T=a(694241),S=a(143678),N=a(227795),x=a(42173),k=a(948529),I=a(225719),A=a(279290),L=a(557569);let O="color_palette_picker--header__iconButton--rFfgT";var R=a(162502),M=a(98285);function D({customColorPalettes:e,closeColorPalettePicker:t,defaultColorPaletteLength:a}){let l=(0,m.cD)(),o=(0,r.d4)(e=>(0,w._)(l,e)),[s,d]=(0,g.fp)(I.Ze),[u,p]=n.useState(!1),_=(0,h.Z9)(),f=n.useRef(null),y={uuid:T.fJ,name:(0,c.t)("whiteboard.color_palettes.figjam_colors"),baseColors:(0,x.TS)("base").map(e=>C.z5.format(e))};if(!e)return n.createElement("div",null);let b=[y].concat(e).map((e,r)=>n.createElement(P,{index:r,key:e.uuid,palette:e,isSelected:_.uuid===e.uuid,containerRef:f,defaultColorPaletteLength:a,closeColorPalettePicker:t}));return n.createElement(v.fu,{name:S.e0.COLOR_PALETTE_PICKER},n.createElement("div",{className:i()({"color_palette_picker--wrapper--DVGTu":!0,"color_palette_picker--wrapper_onClose--zERit":s})},n.createElement("div",{ref:f,className:i()({"color_palette_picker--container--2HK33 modal--modalShadowFigJam--lkEJ2":!0,"color_palette_picker--container_onClose--NlCEf":s}),onAnimationEnd:()=>{s&&(d(!1),t())}},n.createElement(F,{teamName:o?.name||"",showBottomBorder:u}),n.createElement("div",{className:"color_palette_picker--paletteList--jdLIl"},n.createElement(E.P,{maxHeight:290,innerClassName:"color_palette_picker--scrollContainer__inner--GF0-Z",onScroll:e=>{e>0?p(!0):p(!1)}},b)))))}function P({palette:e,isSelected:t,index:a,containerRef:r,defaultColorPaletteLength:l,closeColorPalettePicker:o}){let s=(0,h.$v)(e.baseColors),c=(0,h.Bw)(),d=n.useRef(0===a?0:2*Math.random()*(a%2?1:-1)),u=r?.current?.offsetHeight||0,m={"--rowRotation":`rotate(${t?0:d.current}deg)`,"--translatePaletteRow":`${Math.max(u-80-32*a,0)}px`};return n.createElement("button",{className:i()({"color_palette_picker--paletteRow--9Pdbd":!0,"color_palette_picker--paletteRow_selected--um2Cd":t}),style:m,onClick:()=>{if(!t){let t=e.uuid===T.fJ?l:e.baseColors.length;c(e.uuid,t)}o(!0)},type:"button","data-tooltip-type":p.Ib.TEXT,"data-tooltip":e.name,"data-tooltip-max-width":200,"data-tooltip-show-above":!0,"data-testid":`color-palette-row-${e.uuid}`},s.map((t,a)=>n.createElement(k.cd,{key:e.uuid+b.F.format(t)+"-"+a,size:"medium",value:t,paletteType:"base",background:"light"})))}function F(e){let t=(0,r.wA)(),a=(0,h.X8)();return n.createElement("div",{className:i()({"color_palette_picker--header--m9FBq":!0,"color_palette_picker--header_bottomBorder--PRGsS":e.showBottomBorder})},e.teamName?(0,c.tx)("whiteboard.color_palettes.color_palette_picker.team_palettes",{teamName:e.teamName}):(0,c.t)("whiteboard.color_palettes.color_palette_picker.team_palettes_no_name"),a&&n.createElement("div",{className:"color_palette_picker--header__rightHand--z-7ux"},n.createElement(N.K0,{className:O,onClick:()=>{t(y.$O({type:A.dV.type}))},svg:M.A,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,c.t)("whiteboard.color_palettes.dropdown.new_palette"),"data-tooltip-show-above":!0,dataTestId:"create-color-palette-button"}),n.createElement(N.K0,{className:O,onClick:()=>{t(y.$O({type:L.j.type,data:{entryPoint:"whiteboard"}}))},svg:R.A,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,c.t)("whiteboard.color_palettes.dropdown.manage_palettes"),"data-tooltip-show-above":!0,dataTestId:"manage-color-palettes-button"})))}function B(e){let t=(0,m.cD)(),a=(0,r.d4)(e=>!!e.user),l=(0,h.WR)(),i=(0,h.VR)(),[s]=(0,o.IT)((0,u.iP2)({teamId:t}),{enabled:!!t}),c=l?s.data?.colorPalettesForTeam||[]:i?[i]:[],d=(0,r.d4)(e=>!!(e.openFile&&!t&&e.openFile.canManage&&e.currentUserOrgId)),p=a&&(d||l||t&&!!i),_=e.isInDltSubmenu?2:16,{closeColorPalettePicker:g,isColorPalettePickerOpen:E}=e.colorPalettePickerState;return p?n.createElement(f.A,{isOpen:E,onClose:g,positionY:(e,t)=>e.y-_-t.height,target:n.createElement(U,{shouldShowMoveToTeamTooltip:d,colorPalettePickerState:e.colorPalettePickerState,disabled:e.disabled,recordingKey:e.recordingKey,isInDltSubmenu:e.isInDltSubmenu}),renderPopoverContents:()=>n.createElement(D,{customColorPalettes:c,closeColorPalettePicker:g,defaultColorPaletteLength:e.defaultColorPaletteLength})}):null}function U({recordingKey:e,colorPalettePickerState:t,shouldShowMoveToTeamTooltip:a,disabled:l,isInDltSubmenu:o}){let u=(0,r.wA)();return n.createElement("div",{key:"caret",className:i()("color_palettes_submenu_picker--submenuPickerContainer--GTTBT",{"color_palettes_submenu_picker--submenuPickerContainerNested--wuRz-":!o,"color_palettes_submenu_picker--disabled--scEBs":l})},n.createElement(_.$n,{buttonStyle:{height:"100%",backgroundColor:"inherit"},caret:"up",animateCaret:o,isNewSubmenu:o,tabIndex:-1,active:"NONE",onClick:a?e=>{let t=e.target.closest("button");t&&u(d.eB({target:{kind:p.Ui.TEXT,text:(0,c.t)("whiteboard.color_palettes.tooltip.move_to_team")},targetRect:t.getBoundingClientRect(),position:p.Zj.ABOVE}))}:()=>{if(!t)return;let{openColorPalettePicker:e,closeColorPalettePicker:a,isColorPalettePickerOpen:n}=t;n?a(!0):e()},testId:"color-palettes-picker-caret",recordingKey:(0,s.Pt)(e,"colorPalettesPickerCaret"),tooltip:a?(0,c.t)("whiteboard.color_palettes.tooltip.move_to_team"):void 0}))}},519048:(e,t,a)=>{a.d(t,{S:()=>g,o:()=>h});var n=a(411855),r=a(598045),l=a(646240),i=a(374626),o=a(939863),s=a(450225),c=a(662531),d=a(848661),u=a(555074),m=a(4051),p=a(32067),_=a(677859),f=a(861713);function h(e){let t=(0,p.uQ)()||"",a=(0,u.kl)("embedData"),i=decodeURIComponent(d.E7(a)?.originalText||""),o=(0,s.tq)(a),_=(0,l.Xr)(m.n);return n.useCallback(()=>{i&&(o(s.yc.CONVERT_TO_TEXT),_({type:"MINIMIZE"}),(0,c.l7)(e,"convert-embed-to-text",()=>r.glU.replaceNodeWithText(t,i)))},[i,o,_,t,e])}function g(e){let t=(0,i.md)(m.n),a=(0,p.uQ)()||"",l=(0,u.kl)("embedData"),s=decodeURIComponent(d.E7(l)?.originalText||""),c=h(r.zkO.USER);return l&&a&&s&&(!t||e.inModal)?n.createElement(_.K0,{svg:f.A,active:"NONE",tooltip:(0,o.t)("whiteboard.embeds.inline_menu.change_back_to_text"),onClick:c,recordingKey:"embedConvertToTextControl"}):null}},929021:(e,t,a)=>{a.d(t,{e:()=>h,f:()=>f});var n=a(411855),r=a(188507),l=a(374626),i=a(939863),o=a(677664),s=a(450225),c=a(848661),d=a(555074),u=a(4051),m=a(677859),p=a(650602);let _=()=>{let e=(0,d.kl)("embedData");return decodeURIComponent(c.E7(e)?.url||c.E7(e)?.srcUrl||"")};function f(){let e=(0,r.wA)(),t=_(),a=(0,d.kl)("embedData"),l=(0,s.tq)(a);return n.useCallback(()=>{t&&(l(s.yc.OPEN_PREVIEW),e((0,o.RK)({rawInput:t})))},[t,e,l])}function h(e){let t=(0,l.md)(u.n),a=_(),r=f();return a&&(e.inModal||!t)?n.createElement(m.K0,{svg:p.A,active:"NONE",tooltip:(0,i.t)("whiteboard.embeds.inline_menu.open_link"),onClick:r,recordingKey:"embedOpenExternalControl"}):null}},94958:(e,t,a)=>{a.d(t,{p:()=>g});var n=a(411855),r=a(188507),l=a(153234),i=a(268537),o=a(493323),s=a(574176),c=a(939863),d=a(318812),u=a(498606),m=a(89586),p=a(677859),_=a(112512),f=a(258376),h=a(951912);function g(e){let{pasteSources:t}=e,a=(0,r.wA)(),{showing:g,toggle:E}=(0,d.BK)("live-object-control-menu"),y=(0,r.d4)(e=>e.fileVersion),[v,b]=n.useState(!1),C=l.Pt(e,"updateLiveObject"),w=l.Pt(e,"liveObjectMenu"),T=n.useCallback(async e=>{b(!0),await (0,m.ex)(a,e,y),b(!1)},[a,y]);return n.createElement(n.Fragment,null,n.createElement("button",{className:"live_object_control--liveObject--kuRDZ",onClick:e=>E()},n.createElement(s.B,{svg:h.A}),(0,c.tx)("fullscreen.live_object_panel.live_object"),n.createElement(s.B,{svg:_.A}),g&&n.createElement(i.ms,{className:"live_object_control--dropdown--2YgVs"},n.createElement(m.jW,{pasteSources:t,liveUpdate:T,recordingKey:w,isLiveUpdating:v}))),n.createElement(p.wv,null),v?n.createElement(o.kt,{className:"live_object_control--spinner--Xrtu-",altIcon:f.A}):n.createElement(p.K0,{onClick:()=>T(t),svg:f.A,"data-tooltip-type":u.Ib.TEXT,"data-tooltip":(0,c.t)("fullscreen.live_object_panel.update_live_object"),recordingKey:C}))}},978346:(e,t,a)=>{a.d(t,{nG:()=>P,tT:()=>H});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(737947),s=a(966712),c=a(374626),d=a(860601),u=a(743282),m=a(712366),p=a(498480),_=a(268537),f=a(210954),h=a(574176),g=a(762638),E=a(939863),y=a(809840),v=a(931828),b=a(672517),C=a(582947),w=a(498606),T=a(538697),S=a(468829),N=a(67048),x=a(230646),k=a(577023),I=a(492521),A=a(677859),L=a(437771),O=a(322027),R=a(420584),M=a(555282);let D=_.wv,P="https://help.figma.com/hc/articles/16822138920343-Use-AI-tools-in-Figma",F="used_figjam_ai_quick_actions",B=(0,C.r1)(F);function U(e){switch(e){case I.Uj.SUMMARIZE:return"summarize";case I.Uj.CLUSTER:return"sort stickies";case I.Uj.CREATE_FIGMA_SLIDES_OUTLINE:return"copy to slides";case I.Uj.CLUSTER_BY_AUTHOR:return"sort by author";case I.Uj.CLUSTER_BY_COLOR:return"sort by color";case I.Uj.CLUSTER_BY_STAMP_COUNT:return"sort by stamp count";case I.Uj.CLUSTER_BY_STAMP_TYPE:return"sort by stamp type";case I.Uj.OPEN_CLUSTER_BY_MORE_MENU:return"sort by more dropdown button";case I.Uj.TIDY_UP:return"tidy up";case I.Uj.WRAP_IN_SECTION:return"wrap in section";default:return"other organize action"}}function H(){let e=(0,I.Yh)(),t=e.filter(e=>!e?.disabled&&!e?.isInClusterSubmenu),a=e.filter(e=>e?.disabled&&!e?.isInClusterSubmenu),r=(0,u.g)(),l=(0,I.PX)(),[i,s]=(0,c.fp)(I.Y),d=(0,I.Wb)(),p=(0,I.Pn)();n.useEffect(()=>d,[d]),n.useEffect(()=>{i||p()},[i,p]);let _=(0,I.z1)(),f=function(){let e=(0,I.Yh)(),t=(0,I.QL)(),a=(0,I.E0)(),n=[...e];for(let e of(a&&(n=[...n,...t]),n))if(e&&I.IW[e.type])return!0;return!1}(),h=(0,E.t)("whiteboard.inline_menu.organize_dropdown_options_aria_label"),y=[...t,...a];return n.createElement(b.fu,{name:"organize_menu_dropdown"},n.createElement(L.Fn,{value:void 0,overrideMenuOpenState:{isOpenOverride:i,setIsOpenOverride:s},onChange:(e,t)=>{t.preventDefault(),t.stopPropagation(),l(e)},renderButton:({onClick:e,onKeyDown:t,ref:a})=>n.createElement(G,{disabled:!1,onClick:e,onKeyDown:e=>_(e,t),buttonRef:a,ariaWrapperId:r,trackingProperties:{text:"organize dropdown button"},dropdownContainsAiOption:f}),options:y,renderOption:K,OptionWrapper:function({children:e}){return n.createElement("div",{className:"organize_actions_control--flexColumn--p-Sra","aria-label":h,id:r,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},e)},positionX:e=>e.x,popoverClassName:"organize_actions_control--popover--l143N",additionalContentsTop:n.createElement("div",{className:g.cx.mt4.$}),additionalContentsBottom:n.createElement("div",{className:g.cx.mt4.$}),additionalOptions:f?z:void 0,additionalOptionOnChange:()=>{(0,m.Lf)(P)||o.Ay.unsafeRedirect(P,"_blank")}}))}let G=(0,b.tf)(function({onClick:e,onKeyDown:t,buttonRef:a,ariaWrapperId:l,disabled:o,dropdownContainsAiOption:s}){let u=(0,r.wA)(),m=(0,c.md)(B).data,_=(0,x.CI)(),[f,g]=n.useState(0),y=(0,E.t)("whiteboard.inline_menu.organize_dropdown_button_aria_label");return n.createElement(A.$n,{tooltip:o?S.w:void 0,tooltipType:o?w.Ib.SPECIAL:void 0,onClick:o?d.lQ:()=>{e(),s&&u(v.b({[F]:!0}))},disabled:o,onKeyDown:t,ariaControls:l,ref:a,recordingKey:"inline_menu_organize_dropdown_button",testId:"inline_menu_organize_dropdown_button",caret:"down",role:"combobox",onboardingKey:k.Su,ariaLabel:y,buttonStyle:{width:"auto",paddingRight:24},buttonChildrenStyle:{justifyContent:"initial",width:"initial"}},n.createElement("div",{className:i()("organize_actions_control--withBadge--2qE6m")},n.createElement("div",{className:"organize_actions_control--buttonIconContainer--7BE5y"},n.createElement(h.B,{svg:M.A,className:i()("organize_actions_control--svgIcon--Y27OU",{"organize_actions_control--svgIconDisabled--siNy6":o})})),(0,E.tx)("whiteboard.inline_menu.organize_button_text"),!m&&_&&n.createElement(b.fu,{name:"organize_actions_onboarding_badge"},n.createElement("div",{style:{paddingLeft:8},ref:e=>{g(e?.offsetWidth||f)}},n.createElement(p.Ex,{text:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge_2"),color:p.zE.FIGJAM,size:p.vj.SMALL,className:"organize_actions_control--onboardingBadge--NG7o-",dataTestId:"figjam_ai_quick_actions_onboarding_badge"})))))});function V({isFocused:e}){let t=(0,x.v1)(),a=(0,I.PX)(),r=(0,I.QL)(),l=(0,c.md)(I.u3),[i,o]=(0,c.fp)(I.UI),[u,m]=(0,c.fp)(I.kw),[p,_]=n.useState(!1);return(n.useEffect(()=>{let e=setTimeout(()=>{_(!0)},200);return()=>{clearTimeout(e)}},[_]),n.useEffect(()=>{e?m(!0):m(!1)},[e,m]),t)?n.createElement("div",{onMouseEnter:()=>{p&&o(!0)},onMouseLeave:()=>{o(!1)},"data-testid":"whiteboard_organize_sort_sub_menu_wrapper"},n.createElement(j,{key:`${I.Uj.OPEN_CLUSTER_BY_MORE_MENU}-menu-option`,id:`${I.Uj.OPEN_CLUSTER_BY_MORE_MENU}-menu-option`,type:I.Uj.OPEN_CLUSTER_BY_MORE_MENU,displayText:(0,s.kc)().figjam_cluster_by_more_copy_2?(0,E.t)("whiteboard.inline_menu.sort_by_dropdown_button_text_2"):(0,E.t)("whiteboard.inline_menu.sort_by_dropdown_button_text"),svgSrc:O.A,isAiOption:!1,disabled:!1,onKeyDown:()=>{o(!i)},onClick:()=>{i||o(!i)},isFocused:e,trackingProperties:{text:U(I.Uj.OPEN_CLUSTER_BY_MORE_MENU)},isSubMenu:!0,ariaLabel:(0,E.t)("whiteboard.inline_menu.arrange_stickies_dropdown_button_aria_label")}),i&&n.createElement(b.fu,{name:"figjam_organize_sort_stickies_sub_menu"},n.createElement("div",{className:"organize_actions_control--submenuPopover--3lKOZ"},n.createElement(A.W1,null,n.createElement("div",{className:g.cx.flex.flexColumn.py6.w200.$,"aria-label":(0,E.t)("whiteboard.inline_menu.arrange_stickies_dropdown_button_aria_label"),role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},r.map((e,t)=>K({value:e,onClick:()=>a(e),onKeyDown:d.lQ,isSelected:!1,isFocused:l===t}))))))):null}function z(e){return n.createElement(n.Fragment,null,n.createElement(D,{key:"menu-separator-token",style:{paddingTop:4,paddingBottom:8}}),n.createElement("div",{className:"organize_actions_control--dropdownFooterContainer--XB0Mw"},n.createElement("span",null,n.createElement("span",{className:"organize_actions_control--dropdownFooterDisclaimer--Z7B2y"},`${(0,E.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer")} `),n.createElement(f.N,{className:i()("organize_actions_control--dropdownFooterCta--vLKEN",{"organize_actions_control--dropdownFooterCtaIsFocused--Jspdm":e}),href:P,target:"_blank",trusted:!0},(0,E.tx)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta")))))}let K=e=>{let{value:t,onClick:a,id:r,isFocused:l,onKeyDown:i}=e;if(!t)return null;let o=(0,I.Ef)(t),{type:c,disabled:d,displayText:u,svgSrc:m,disabledTooltipText:p,tooltipOverrides:_,separator:f="NONE"}=t,h=U(c);return c===I.Uj.OPEN_CLUSTER_BY_MORE_MENU?(0,s.kc)().figjam_cluster_by_more?n.createElement(V,{key:I.Uj.OPEN_CLUSTER_BY_MORE_MENU,isFocused:l}):null:n.createElement(j,{key:`${c}-menu-option`,id:r,type:c,displayText:u,svgSrc:m,disabledTooltipText:p,tooltipOverrides:_,isAiOption:o,disabled:d,onClick:a,onKeyDown:i,isFocused:l,trackingProperties:{text:h},separator:f})};function W(e){return`inline_menu_organize_option-${e}`}let j=(0,b.tf)(function({id:e,type:t,displayText:a,svgSrc:r,disabledTooltipText:l,disabled:o,onClick:s,onKeyDown:c,isFocused:u,tooltipOverrides:m,isAiOption:p,isSubMenu:_,ariaLabel:f,separator:v="NONE"}){let b=m?.tooltip||(o&&l?l:""),C=m?.tooltipType||w.Ib.TEXT;return n.createElement(n.Fragment,null,["TOP","TOP_AND_BOTTOM"].includes(v)?n.createElement(D,{style:{padding:0,paddingTop:4,paddingBottom:4}}):null,n.createElement("div",{id:e,className:i()("organize_actions_control--optionContainer--RtoCw",{"organize_actions_control--optionContainerDisabled--mB76I":o,"organize_actions_control--optionContainerIsFocused--8x27n":u}),"aria-label":f??a,"aria-selected":"false",role:"option",tabIndex:-1,"data-tooltip":b,"data-tooltip-type":C,"data-tooltip-tip-align-left":!0,"data-tooltip-text-left":!0,"data-tooltip-show-right":!0,"data-tooltip-offset-x":6},n.createElement(T.c$,{disabled:o,recordingKey:W(t),"data-testid":W(t),dataTestId:W(t),key:`option-${t}`,value:t,height:32,fullWidth:!0,svg:r,style:{width:"95%",marginBottom:0},children:n.createElement("div",{className:g.cx.flex.justifyBetween.itemsCenter.gap2.$},n.createElement(y.E,{truncate:!0},a),p&&n.createElement(N.G,{location:"INLINE_TOOLBAR",overrideText:(0,E.t)("whiteboard.inline_menu.organize_quick_actions_button_beta_badge_text"),hoverStyleClassName:i()({"organize_actions_control--aiBetaBadge--F1z9L":!o})}),_&&n.createElement("span",{className:g.cx.pl4.mr0.$},n.createElement(h.B,{svg:R.A}))),additionalStylesClassName:void 0,selected:!1,onMouseUp:o?d.lQ:s,onKeyDown:o?d.lQ:c,ignoreCheck:!0})),["BOTTOM","TOP_AND_BOTTOM"].includes(v)?n.createElement(D,{style:{padding:0,paddingTop:4,paddingBottom:4}}):null)})},385754:(e,t,a)=>{a.d(t,{jk:()=>V});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(539321),s=a(126049),c=a(157663),d=a(794272),u=a(886653),m=a(860601),p=a(153234),_=a(210954),f=a(762638),h=a(259927),g=a(775664),E=a(809831),y=a(662531),v=a(113237),b=a(72274),C=a(318812),w=a(239671),T=a(498606),S=a(538697),N=a(300587),x=a(677859),k=a(840023);let I="widget_controls--label--YWqiO text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",A="widget_controls--img--bNdQj",L=(0,u.UJ)(e=>e.includes("xmlns")?"data:image/svg+xml;utf8,"+encodeURIComponent(e.trim()):(c.k.warn("Your widget must include the xmlns property on any SVGs used in the property menu. See https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg for more info"),null),1e3);function O(e){let t=(0,E.E3)(),a=e.icon?L(e.icon):null,r=void 0!==t&&t===w.nT.Design;return a?n.createElement(R,{label:e.label,propertyName:e.propertyName,href:e.href,size:r?"small":"large",tooltip:e.tooltip,icon:a,onClick:e.onClick,active:e.active?e.active:"NONE"}):n.createElement(M,{label:e.label,propertyName:e.propertyName,href:e.href,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE"})}function R(e){let t=e.href?n.createElement(_.N,{href:e.href,className:f.cx.cursorDefault.wFull.hFull.$,target:"_blank",trusted:!1},n.createElement("img",{src:e.icon,className:A,alt:`${e.propertyName}`})):n.createElement("img",{src:e.icon,className:A,alt:`${e.propertyName}`});return n.createElement(x.$n,{buttonStyle:{overflow:"hidden",flexShrink:0},size:e.size,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,p.Pt)("widgetControl",e.propertyName)},t)}function M(e){let t=e.href?n.createElement(_.N,{href:e.href,className:i()([I,f.cx.cursorDefault.wFull.hFull.$]),target:"_blank",trusted:!1},e.label):n.createElement("span",{className:I},e.label);return n.createElement(x.$n,{className:f.cx.flexShrink0.$,tooltip:e.tooltip===e.label?void 0:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,p.Pt)("widgetControl",e.propertyName)},t)}function D({widgetInfo:e,item:t}){let a=(0,E.E3)(),r=y.nc.user("widget-select-color",a=>{let n=(0,o.colorToHex)(a.option);v.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,_[n]??n)}),l=(0,s.A)(r,100),[i,d]=n.useState(!1),u=[t.selectedOption,...t.options.map(e=>e.option)],m={},_={};for(let e of u)try{let t=g.z5.parse(e);m[e]=t,_[(0,o.colorToHex)(t)]=e}catch(t){return c.k.warn(`Cannot render widget color selector. ${e} is an invalid color.`),n.createElement("div",{"data-testid":"emptyColorSelector"})}let f=a===w.nT.Design;return n.createElement(N.qW,{value:{option:m[t.selectedOption]},options:t.options.map(e=>({option:m[e.option],tooltip:e.tooltip})),onColorChange:e=>{l(e)},paletteType:"widget",buttonSize:f?"xsmall":"small",optionSize:"medium",isDesignInlineMenu:f,inlineButtonTooltip:t.tooltip,recordingKey:(0,p.Pt)("widgetControl",t.propertyName),isColorPopoverOpen:i,setIsColorPopoverOpen:d})}function P({widgetInfo:e,item:t}){return n.createElement(O,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,onClick:y.nc.user("widget-action",()=>{v.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}class F extends S.l6{}class B extends S.c${}function U({item:e,widgetInfo:t}){let a=(0,E.E3)(),l=(0,r.wA)(),i=(0,C.Um)(),o=e.options.find(t=>t.option===e.selectedOption),s=(0,p.Pt)("widgetControl",e.propertyName),c=void 0!==a&&a===w.nT.Design;return n.createElement("div",{className:c?void 0:k.kL,"data-tooltip-show-above":!0,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":e.tooltip},n.createElement(F,{property:{option:e.selectedOption,tooltip:o?o.tooltip:e.selectedOption},className:c?"widget_controls--select---Nqnq text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L":k.Lt,chevronClassName:c?"widget_controls--chevron--a3ua2":k.ai,inputClassName:c?"widget_controls--input--Z6nHO":k.hF,dropdownClassName:h.Dm,id:`widgetControl.${e.propertyName}`,formatter:{format:e=>e.tooltip,isEqual:(e,t)=>e.option===t.option},onChange:a=>{v.x.runPropertyMenuCallback(t.pluginID,t.widgetID,e.propertyName,a.option)},blurOnChange:!0,recordingKey:s,dispatch:l,dropdownShown:i,targetDomNode:document.body,dropdownWidth:144,dropdownAlignment:"left"},e.options.map((t,a)=>n.createElement(B,{key:a,value:t,formattedValue:t.tooltip,recordingKey:(0,p.Pt)(s,t.option),selected:e.selectedOption===t.option,truncateInMiddle:!0}))))}function H({widgetInfo:e,item:t}){return n.createElement(O,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,active:t.isToggled?"LOUD":"NONE",onClick:y.nc.user("widget-toggle",()=>{v.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}function G({widgetInfo:e,item:t}){let a;let r="https://www.figma.com/exit?url="+t.href;return null!==t.icon&&(a=t.icon?t.icon:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 12H16V13H13V27H27V24H28V27V28H13H12V27V13V12ZM27.0001 13H26.9913L27.0001 13.0088V13ZM20.0001 13H26.2999L17.0251 22.2747L17.7323 22.9818L27.0001 13.714V20H28.0001V12.5V12H27.5001H20.0001V13Z" fill="white" fill-opacity="0.8"/></svg>'),n.createElement(O,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:a,onClick:m.lQ,href:r})}function V(){let e=function(){let e=(0,d.R)(e=>e.mirror.selectionProperties.selectedWidgetInfo);return n.useMemo(()=>{if(!e)return e;let{pluginID:t}=e;if(!(0,b.Vi)(t))return e;let a=e.propertyMenu.map(e=>"separator"===e.itemType?e:{...e,tooltip:(0,b.kZ)(t,e.propertyName)||e.tooltip});return{...e,propertyMenu:a}},[e])}();return e&&e.propertyMenu.length?n.createElement(n.Fragment,null,e.propertyMenu.map((t,a)=>{switch(t.itemType){case"action":return n.createElement(P,{key:a,item:t,widgetInfo:e});case"separator":return n.createElement(x.wv,{key:a});case"color-selector":return n.createElement(D,{key:a,item:t,widgetInfo:e});case"dropdown":return n.createElement(U,{key:a,item:t,widgetInfo:e});case"toggle":return n.createElement(H,{key:a,item:t,widgetInfo:e});case"link":return n.createElement(G,{key:a,item:t,widgetInfo:e})}})):null}},405070:(e,t,a)=>{a.d(t,{x:()=>I});var n=a(411855),r=a(188507),l=a(636149),i=a.n(l),o=a(181912),s=a(794272),c=a(153234),d=a(522739),u=a(941381),m=a(963067),p=a(215822),_=a(772192),f=a(829632),h=a(555328),g=a(239671),E=a(376485),y=a(498606),v=a(978527);let b=(0,a(422237).ex)("figjam_plugin_relaunch_button_info",function(e){let{name:t,description:a}=e;return n.createElement("div",{className:"figjam_plugin_relaunch_button_info_tooltip--figjamRelaunchButtonInfo--d289K text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("span",{className:"figjam_plugin_relaunch_button_info_tooltip--handle--XUJNp"},t),a&&n.createElement("div",null,a))},e=>({name:e.getAttribute("data-tooltip-name"),description:e.getAttribute("data-tooltip-description")}));var C=a(75888),w=a(677859),T=a(437771),S=a(961803);function N(e){let{tooltipName:t,tooltipDescription:a,plugin:r,onClick:l,caret:i,recordingKey:o}=e,s=(0,C._r)(),c=null;return c=(0,E.ZQ)(r)?n.createElement(w.K0,{caret:i,svg:S.A,onClick:l,recordingKey:o}):n.createElement(w.$n,{caret:i,onClick:l,recordingKey:o},n.createElement(v.V,{className:"plugin_relaunch_content--pluginIcon--dxgZD plugin--pluginIconBase--yAG5F",plugin:r,alt:`${t}: ${String(a)}`})),n.createElement("div",{"data-tooltip":b,"data-tooltip-type":s&&t?y.Ib.SPECIAL:void 0,"data-tooltip-show-above":!0,"data-tooltip-name":t,"data-tooltip-description":a},c)}function x({children:e}){return n.createElement("div",{className:"plugin_relaunch_content--flexColumn--3aDVl"},e)}function k(e){let{relaunchData:t}=e,a=e=>parseInt(e||"0");return n.createElement(T.Fn,{onChange:n=>{let r=t[a(n)];e.onSelect(r)},value:null,renderOption:({value:e,onClick:r})=>{let l=a(e),i=t[l],o=i.relaunchButton.name.length>34||"string"==typeof i.relaunchButton.description&&i.relaunchButton.description.length>34;return n.createElement("div",{key:`${i.pluginTypeAndID}-${e}`,"data-tooltip":b,"data-tooltip-type":i.relaunchButton.name&&o?y.Ib.SPECIAL:void 0,"data-tooltip-show-right":!0,"data-tooltip-name":i.relaunchButton.name,"data-tooltip-description":i.relaunchButton.description},n.createElement(d.D8,{className:"plugin_relaunch_content--menuItem--fZT86",onClick:r,role:"button",recordingKey:(0,c.Pt)("relaunchMenuSelectorOption",i.pluginTypeAndID,i.relaunchButton.command)},n.createElement("div",{className:"plugin_relaunch_content--name--VYXnN text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsis--Tjyfa"},i.relaunchButton.name),i.relaunchButton.description&&n.createElement("div",{className:"plugin_relaunch_content--description--aAoGx text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},String(i.relaunchButton.description))),l!==t.length-1?n.createElement(w.wv,null):null)},renderButton:({onClick:e,value:r})=>{let l=t[a(r)];return n.createElement(N,{caret:"down",onClick:e,plugin:l.plugin,recordingKey:(0,c.Pt)("relaunchMenuSelectorIconButton",l.pluginTypeAndID)})},options:t.map((e,t)=>`${t}`),OptionWrapper:x})}function I(){let e=(0,s.R)(e=>e.mirror.selectionProperties.pluginRelaunchData),t=(0,r.d4)(e=>e.mirror.selectionProperties.numSelected),a=(0,s.R)(e=>e.publishedPlugins),l=(0,s.R)(e=>e.localPlugins),d=(0,m.Yo)(),y=(0,r.d4)(e=>e.openFile?.key),v=(0,n.useRef)(new _.O(o.A.duration(1,"day"))),b=(0,r.wA)(),C=e=>b(u.af({id:e,resourceType:a[e]?.is_widget?h.bD.WIDGET:h.bD.PLUGIN})),T=(0,p.vA)(e,a,l,d,t||0,(e,t)=>v.current.debounceRefresh(e,()=>C(e),t),E.FW.FIGJAM),S=i()(T,e=>e.pluginTypeAndID),x=e=>{if(!y)return;let{canRun:t}=(0,p.JT)({plugin:e.plugin,editorType:g.nT.Whiteboard});t&&f.R.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:e.plugin,openFileKey:y||"",command:e.relaunchButton.command,queryMode:!1,runMode:"default",triggeredFrom:"relaunch",ignoreForRunLastPlugin:!0,isWidget:!1}})};return 0===Object.values(S).length?null:n.createElement(n.Fragment,null,n.createElement(w.wv,null),Object.values(S).map(e=>{if(0===e.length)return;let t=e[0],a=`relaunch-button-${t.pluginTypeAndID}-${e.length}`;return 1===e.length?n.createElement(N,{key:a,caret:"none",tooltipName:t.relaunchButton.name,tooltipDescription:t.relaunchButton.description,plugin:t.plugin,onClick:()=>x(t),recordingKey:(0,c.Pt)("relaunchIconButton",t.pluginTypeAndID,t.relaunchButton.command)}):n.createElement(k,{key:a,relaunchData:e,onSelect:x})}))}},983382:(e,t,a)=>{a.d(t,{$9:()=>_,Ij:()=>f,WQ:()=>v});var n=a(411855),r=a(188507),l=a(91408),i=a(297666),o=a(726864),s=a(231472),c=a(819338),d=a(979686),u=a(860168);let m=(0,l.jz)(u.fh1),p=(0,l.jz)(u.if6);function _(e){let t=(0,o.Yk)(),a=(0,d.Op)(),n=c.C()?.bottomRightToolsNode?.getBoundingClientRect(),r=e?.getBoundingClientRect();return a&&r&&n?a.right+p>n.left?h({dltBottomOffset:t,collidesWithDLT:!0,collidesWithTools:!0}):a.right+p>r.left?h({dltBottomOffset:t,collidesWithDLT:!0,collidesWithTools:!1}):h({dltBottomOffset:t,collidesWithDLT:!1,collidesWithTools:!0}):0}function f(e){let[t,a]=(0,n.useState)(0),r=(0,o.Yk)(),l=(0,d.Op)();return(n.useLayoutEffect(()=>{if(!e.current)return;let t=e.current.getBoundingClientRect(),n=t.left;a(n+t.width);let r=new ResizeObserver(t=>{for(let r of t)if(e.current===r.target){let e=r.borderBoxSize?.[0];a(n+(e?e.inlineSize:r.contentRect.width))}});return r.observe(e.current),()=>r.disconnect()},[e]),l)?t+p>l.left?h({dltBottomOffset:r,collidesWithDLT:!0,collidesWithTools:!1}):h({dltBottomOffset:r,collidesWithDLT:!1,collidesWithTools:!1}):0}function h({dltBottomOffset:e,collidesWithDLT:t,collidesWithTools:a}){let n=p;return t&&(n+=e),a&&(n+=m+p),n}let g=(0,l.jz)(u.Y_2),E=(0,l.jz)(u.Hsg),y=(0,l.jz)(u.fWT);function v(){let e=(0,r.d4)(e=>e.universalInsertModal.pinned===s.t.PINNED_AND_DOCKED_LEFT),t=n.useCallback(()=>{let t=e?E:g;return window.innerWidth<t?14+y+24:14},[e]),[a,l]=n.useState(t);return n.useEffect(()=>{l(t())},[t]),n.useLayoutEffect(()=>{let e=(0,i.s)(()=>{l(t())});return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),e.cancel()}},[t]),a}},82301:(e,t,a)=>{a.d(t,{p:()=>c});var n=a(411855),r=a(629019),l=a.n(r),i=a(799569),o=a(574176),s=a(672517);let c=(0,n.memo)(function(e){let{leftContent:t,content:a,rightContent:r,trackingContext:l="DLT Banner",onClose:o}=e;return n.createElement(s.fu,{name:l},n.createElement("div",{className:"dlt_banner--banner--nGI-J"},n.createElement(d,{leftContent:t}),n.createElement(u,{content:a}),r,o?n.createElement(i.Jn,{className:"dlt_banner--closeButton--aDZdN",onClick:o,trackingEventName:"dlt_banner_closed",recordingKey:"dltBanner"}):null))}),d=(0,n.memo)(function(e){let{icon:t,text:a}=e.leftContent??{},r=t&&n.createElement("div",{className:"dlt_banner--icon--gtxyL"},n.createElement(o.B,{svg:t})),i=a&&n.createElement("b",null,a);return n.createElement("div",{className:l()("dlt_banner--leftContent--5Yk4A text--fontPos12--YsUAh text--_fontBase--QdLsd",a&&t?"dlt_banner--leftContentIconAndText--QjRmB":a?"dlt_banner--leftContentOnlyText--4VC-I":t?"dlt_banner--leftContentOnlyIcon--Nb45Y":"dlt_banner--leftContentEmpty--dXeoN")},r,i)}),u=(0,n.memo)(function(e){let{content:t}=e;return n.createElement("div",{className:"dlt_banner--mainContent--eTkSu text--fontPos12--YsUAh text--_fontBase--QdLsd"},t)})},50772:(e,t,a)=>{a.d(t,{X:()=>q,O:()=>ea});var n=a(411855),r=a(188507),l=a(598045),i=a(629019),o=a.n(i),s=a(320063),c=a(966712),d=a(374626),u=a(860601),m=a(563706),p=a(939863),_=a(931828),f=a(456104),h=a(594524),g=a(723239),E=a(582947),y=a(356390),v=a(617453),b=a(29680),C=a(397065),w=a(916108),T=a(796823),S=a(888699),N=a(554905),x=a(794272),k=a(738269);a(251960);var I=a(373119),A=a(809511),L=a(318812),O=a(279145),R=a(340514),M=a(746806),D=a(601538);a(15839),a(653734);var P=a(463546);function F({dismissModal:e,targetKey:t=D.oi.ZOOM}){let a=(0,r.wA)(),l=(0,x.R)(({mirror:{appModel:e}})=>e.showUi),i=(0,L.Um)(),o=(0,n.useRef)(!1),s=(0,I.q)(),c=(0,n.useCallback)(()=>{e(),a(k.oB())},[e,a]);return(0,n.useEffect)(()=>{o.current&&!(0,O.TY)(i)&&e()},[e,i]),(0,n.useEffect)(()=>{if(s&&!o.current){if((0,O.TY)(i))a(k.ho({type:O.pi,data:{selectionToUpdate:A.m7W.PREFERENCES}}));else{let e=l?42:0;a(k.j7({type:O.pi,data:{targetRect:{top:0,right:e,bottom:e,left:0,width:e,height:e},togglePreferences:!0},hasOwnEscKeyHandler:!0}))}o.current=!0}},[a,i,s,l]),n.createElement(R.rq,{isShowing:!0,trackingContextName:"new_user_pan_zoom_pref_tooltip",onClose:c,targetKey:t,emphasized:!0,title:(0,p.tx)("mouse_controls_modal.new_user.title"),description:(0,p.tx)("mouse_controls_modal.new_user.description"),arrowPosition:M.F_.LEFT_TITLE})}var B=a(82301);function U(){return n.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.80079 15.0786V10.2857H5.80079V15.0786L6.94724 13.9322L7.65434 14.6393L5.30079 16.9928L2.94724 14.6393L3.65434 13.9322L4.80079 15.0786Z",fill:"#8638E5"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.80077 20.2071V25H4.80077V20.2071L3.65433 21.3536L2.94722 20.6464L5.30077 18.2929L7.65433 20.6464L6.94722 21.3536L5.80077 20.2071Z",fill:"#8638E5"}),n.createElement("path",{d:"M8.22183 11.7644C7.44078 10.9834 7.44078 9.71705 8.22183 8.93601C9.00288 8.15496 10.2692 8.15496 11.0503 8.93601L18.8284 16.7142L16 19.5426L8.22183 11.7644Z",fill:"white"}),n.createElement("path",{d:"M8.57538 11.4109C7.9896 10.8251 7.9896 9.87535 8.57538 9.28956C9.16117 8.70377 10.1109 8.70377 10.6967 9.28956L18.1213 16.7142L16 18.8355L8.57538 11.4109Z",stroke:"black",strokeOpacity:"0.9"}),n.createElement("path",{d:"M13.171 12.4716C12.39 11.6905 12.39 10.4242 13.171 9.64316C13.9521 8.86211 15.2184 8.86211 15.9995 9.64316L20.9492 14.5929L18.1208 17.4213L13.171 12.4716Z",fill:"white"}),n.createElement("path",{d:"M13.5246 12.118C12.9388 11.5322 12.9388 10.5825 13.5246 9.99671C14.1104 9.41093 15.0601 9.41093 15.6459 9.99671L20.2421 14.5929L18.1208 16.7142L13.5246 12.118Z",stroke:"black",strokeOpacity:"0.9"}),n.createElement("path",{d:"M15.9992 11.0574C15.2181 10.2764 15.2181 9.01002 15.9992 8.22897C16.7802 7.44793 18.0466 7.44793 18.8276 8.22897L23.0702 12.4716L20.2418 15.3L15.9992 11.0574Z",fill:"white"}),n.createElement("path",{d:"M16.3527 10.7038C15.7669 10.1181 15.7669 9.16831 16.3527 8.58253C16.9385 7.99674 17.8883 7.99674 18.474 8.58253L22.3631 12.4716L20.2418 14.5929L16.3527 10.7038Z",stroke:"black",strokeOpacity:"0.9"}),n.createElement("path",{d:"M19.5353 10.3502C18.7543 9.5692 18.7543 8.30287 19.5353 7.52182C20.3164 6.74077 21.5827 6.74077 22.3637 7.52182L25.1922 10.3502L22.3637 13.1787L19.5353 10.3502Z",fill:"white"}),n.createElement("path",{d:"M19.8889 9.9967C19.3031 9.41091 19.3031 8.46116 19.8889 7.87538C20.4746 7.28959 21.4244 7.28959 22.0102 7.87538L24.4851 10.3502L22.3637 12.4716L19.8889 9.9967Z",stroke:"black",strokeOpacity:"0.9"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0144L25.8992 22.3711C29.0234 19.2469 29.0234 14.1816 25.8992 11.0574L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.462 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897ZM17.3246 19.6318L25.1921 11.7644L27.3134 13.8858C28.8755 15.4479 28.8755 17.9806 27.3134 19.5427L24.7125 22.1436L24.7101 22.1445L24.2113 22.6433C22.0103 24.008 19.3228 24.3498 16.8477 23.5758L10.9742 21.7391C11.4561 20.7767 12.5552 20.2721 13.6117 20.5555L15.8649 21.16C16.8504 21.4244 17.5982 20.4627 17.3246 19.6318Z",fill:"black",fillOpacity:"0.9"}),n.createElement("rect",{x:"15.292",y:"17.4214",width:"2",height:"4",transform:"rotate(-45 15.292 17.4214)",fill:"white"}),n.createElement("path",{d:"M16.2617 18.3853C16.7382 18.8834 17.3334 19.5012 17.3555 19.7388L17.7643 19.562L16.2617 18.3853Z",fill:"white"}),n.createElement("rect",{x:"17.4141",y:"15.3",width:"2",height:"4",transform:"rotate(-45 17.4141 15.3)",fill:"white"}),n.createElement("rect",{x:"19.5352",y:"13.1787",width:"2",height:"4",transform:"rotate(-45 19.5352 13.1787)",fill:"white"}),n.createElement("rect",{x:"23.0703",y:"13.8859",width:"2",height:"4",transform:"rotate(-45 23.0703 13.8859)",fill:"white"}),n.createElement("rect",{x:"21.6562",y:"11.0574",width:"2",height:"4",transform:"rotate(-45 21.6562 11.0574)",fill:"white"}),n.createElement("path",{d:"M20.9492 20.2498L28.0203 13.1787V13.1787C29.9729 15.1313 29.9729 18.2971 28.0203 20.2498L25 23.27L24.5 23.5L20.9492 20.2498Z",fill:"white"}),n.createElement("path",{d:"M27.3137 13.8858C27.509 14.0811 27.8256 14.0811 28.0208 13.8858C28.2161 13.6906 28.2161 13.374 28.0208 13.1787L27.3137 13.8858ZM24.4853 11.0574L27.3137 13.8858L28.0208 13.1787L25.1924 10.3503L24.4853 11.0574Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.8514 23.4906L24.0517 23.882L23.6121 22.9839L24.4118 22.5924L24.8514 23.4906Z",fill:"white"}),n.createElement("path",{d:"M24.8516 23.4907C25.0996 23.3693 25.2022 23.0698 25.0808 22.8218C24.9594 22.5738 24.6599 22.4711 24.4119 22.5926L24.8516 23.4907ZM24.0519 23.8822L24.8516 23.4907L24.4119 22.5926L23.6122 22.984L24.0519 23.8822Z",fill:"black",fillOpacity:"0.9"}))}function H(){return n.createElement("svg",{width:"17",height:"24",viewBox:"0 0 17 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"16.8",height:"24",rx:"8.4",fill:"white"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"15.8",height:"23",rx:"7.9",stroke:"black",strokeOpacity:"0.9"}),n.createElement("rect",{x:"6",y:"4.80005",width:"4.8",height:"8.4",rx:"2.4",fill:"#9747FF"}),n.createElement("rect",{x:"6.5",y:"5.30005",width:"3.8",height:"7.4",rx:"1.9",stroke:"black",strokeOpacity:"0.9"}))}function G(){return n.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"16.8007",height:"24",rx:"8.40036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 25.2197 6.58252)",fill:"white"}),n.createElement("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),n.createElement("path",{d:"M14.0391 15.7617L21.5291 17.7686L23.2014 14.0238L22.377 9.61005L19.7149 6.10149L16.8341 5.32959L14.0391 15.7617Z",fill:"#9747FF"}),n.createElement("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),n.createElement("rect",{width:"4.8002",height:"8.4",rx:"2.4001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 18.1826 9.66602)",fill:"white"}),n.createElement("rect",{x:"-0.61236",y:"0.353557",width:"3.8002",height:"7.4",rx:"1.9001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 17.0703 9.51957)",stroke:"black",strokeOpacity:"0.9"}))}function V(){return n.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3535 6.50001H19V7.50001H21.3535L20.2071 8.64645L20.9142 9.35356L23.2677 7.00001L20.9142 4.64645L20.2071 5.35356L21.3535 6.50001Z",fill:"#8638E5"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64649 6.50001H10V7.50001H7.64649L8.79293 8.64645L8.08583 9.35356L5.73227 7.00001L8.08583 4.64645L8.79293 5.35356L7.64649 6.50001Z",fill:"#8638E5"}),n.createElement("path",{d:"M11 8C11 6.89543 11.8954 6 13 6V6C14.1046 6 15 6.89543 15 8V19H11V8Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 18V8C14 7.44772 13.5523 7 13 7C12.4477 7 12 7.44772 12 8V18H14ZM13 6C11.8954 6 11 6.89543 11 8V19H15V8C15 6.89543 14.1046 6 13 6Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M8 13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 26V16.2C11 15.0524 10.1213 14.11 9 14.009V20.0742C9 21.2192 9.21848 22.3536 9.64371 23.4167L10.677 26H11ZM10 27L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M14 6C14 4.89543 14.8954 4 16 4V4C17.1046 4 18 4.89543 18 6V19H14V6Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 18V6C17 5.44772 16.5523 5 16 5C15.4477 5 15 5.44772 15 6V18H17ZM16 4C14.8954 4 14 4.89543 14 6V19H18V6C18 4.89543 17.1046 4 16 4Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M17 13C17 11.8954 17.8954 11 19 11V11C20.1046 11 21 11.8954 21 13V19H17V13Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H20ZM19 11C17.8954 11 17 11.8954 17 13V19H21V13C21 11.8954 20.1046 11 19 11Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M20 15C20 13.8954 20.8954 13 22 13V13C23.1046 13 24 13.8954 24 15V19H20V15Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 18V15C23 14.4477 22.5523 14 22 14C21.4477 14 21 14.4477 21 15V18H23ZM22 13C20.8954 13 20 13.8954 20 15V19H24V15C24 13.8954 23.1046 13 22 13Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M11 19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27H11V19Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 20H12V26H22.2192L22.7313 23.9518C22.9098 23.2379 23 22.5048 23 21.7689V20ZM23 27H11V19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M11 19H22V27H11V19Z",fill:"white"}),n.createElement("path",{d:"M15 17C15 17.2761 14.7761 17.5 14.5 17.5C14.2239 17.5 14 17.2761 14 17C14 16.7239 14.2239 16.5 14.5 16.5C14.7761 16.5 15 16.7239 15 17Z",fill:"white"}),n.createElement("path",{d:"M12 19C12 19.2761 11.7761 19.5 11.5 19.5C11.2239 19.5 11 19.2761 11 19C11 18.7239 11.2239 18.5 11.5 18.5C11.7761 18.5 12 18.7239 12 19Z",fill:"white"}),n.createElement("path",{d:"M18 17C18 17.2761 17.7761 17.5 17.5 17.5C17.2239 17.5 17 17.2761 17 17C17 16.7239 17.2239 16.5 17.5 16.5C17.7761 16.5 18 16.7239 18 17Z",fill:"white"}),n.createElement("path",{d:"M21 18C21 18.2761 20.7761 18.5 20.5 18.5C20.2239 18.5 20 18.2761 20 18C20 17.7239 20.2239 17.5 20.5 17.5C20.7761 17.5 21 17.7239 21 18Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 17.5C14.7761 17.5 15 17.2761 15 17C15 16.7239 14.7761 16.5 14.5 16.5C14.2239 16.5 14 16.7239 14 17C14 17.2761 14.2239 17.5 14.5 17.5Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 19.5C11.7761 19.5 12 19.2761 12 19C12 18.7239 11.7761 18.5 11.5 18.5C11.2239 18.5 11 18.7239 11 19C11 19.2761 11.2239 19.5 11.5 19.5Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 17.5C17.7761 17.5 18 17.2761 18 17C18 16.7239 17.7761 16.5 17.5 16.5C17.2239 16.5 17 16.7239 17 17C17 17.2761 17.2239 17.5 17.5 17.5Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 18.5C20.7761 18.5 21 18.2761 21 18C21 17.7239 20.7761 17.5 20.5 17.5C20.2239 17.5 20 17.7239 20 18C20 18.2761 20.2239 18.5 20.5 18.5Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M10 26H23V26.6C23 26.8209 22.8209 27 22.6 27H10.4C10.1791 27 10 26.8209 10 26.6V26Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M20 18H23V21H20V18Z",fill:"white"}),n.createElement("path",{d:"M12 17H15V21H12V17Z",fill:"white"}),n.createElement("path",{d:"M16 17H19V21H16V17Z",fill:"white"}),n.createElement("path",{d:"M21 16H23V21H21V16Z",fill:"white"}),n.createElement("path",{d:"M18 16H20V26H18V16Z",fill:"white"}),n.createElement("path",{d:"M15 16H17V26H15V16Z",fill:"white"}),n.createElement("path",{d:"M12 16H14V26H12V16Z",fill:"white"}))}let z="figjam_pan_zoom_onboarding--icon--TaGJG",K="figjam_pan_zoom_onboarding--bannerContainer--CsV0q",W={NEW_USER_PAN:"figjam_seen_new_user_dlt_pan",NEW_USER_ZOOM:"figjam_seen_new_user_dlt_zoom"};function j({children:e}){return n.createElement("span",{className:"figjam_pan_zoom_onboarding--boldedBannerText--Zx-EN"},e)}function Z(e){let{onNext:t,onManualDismiss:a}=e,i=(0,r.wA)(),s=(0,n.useCallback)(()=>{i(_.b({[W.NEW_USER_ZOOM]:!0}))},[i]),c=(0,n.useCallback)(()=>{s(),a()},[s,a]),d=(0,n.useCallback)(()=>{s(),t()},[s,t]);return(0,n.useEffect)(()=>(l.glU.setUsedZoomAction(!1),y.Y5.fromFullscreen.on("zoomActionMessageForOnboarding",d),()=>{y.Y5.fromFullscreen.removeListener("zoomActionMessageForOnboarding",d)}),[i,d]),n.createElement(B.p,{trackingContext:"FigJam New User Zoom Banner",content:n.createElement("div",{className:K},(0,p.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll",{boldTextPinch:n.createElement(n.Fragment,null,n.createElement("span",{className:o()("figjam_pan_zoom_onboarding--zoomIcon--efDh8",z)},n.createElement(U,null)),n.createElement(j,null,(0,p.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_pinch"))),boldTextScroll:n.createElement(n.Fragment,null,n.createElement("span",{className:z},n.createElement(H,null)),n.createElement(j,null,(0,p.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_scroll")))})),rightContent:n.createElement(X,{onChangePreferences:e.onChangePreferences}),onClose:c})}function Y(e){let{onManualDismiss:t}=e,[a,i]=(0,n.useState)(!1),o=(0,r.wA)();(0,s.h)(()=>{setTimeout(()=>{i(!0)},1e3)});let c=(0,n.useCallback)(()=>{o(_.b({[W.NEW_USER_PAN]:!0}))},[o]),d=(0,n.useCallback)(()=>{c(),t()},[c,t]);return((0,n.useEffect)(()=>{if(a)return l.glU.setUsedPanAction(!1),y.Y5.fromFullscreen.on("panActionMessageForOnboarding",d),()=>{y.Y5.fromFullscreen.removeListener("panActionMessageForOnboarding",d)}},[o,a,d]),a)?n.createElement(B.p,{trackingContext:"FigJam New User Pan Banner",content:n.createElement("div",{className:K},(0,p.tx)("rcs.figjam_pan.move_instructions",{boldTextSwipe:n.createElement(n.Fragment,null,n.createElement("span",{className:z},n.createElement(V,null)),n.createElement(j,null,(0,p.tx)("rcs.figjam_pan.move_instructions_bold_text_swipe"))),boldTextRightClick:n.createElement(n.Fragment,null,n.createElement("span",{className:z},n.createElement(G,null)),n.createElement(j,null,(0,p.tx)("rcs.figjam_pan.hold_right_click")))})),rightContent:n.createElement(X,{onChangePreferences:e.onChangePreferences}),onClose:d}):null}function X({onChangePreferences:e}){return n.createElement("button",{onClick:e,className:"figjam_pan_zoom_onboarding--changePreferencesButton--0z5Xs text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,p.tx)("rcs.figjam_pan_zoom_change_prefs"))}function q(){let e=(0,b.aV)(),t=(0,N.Td)(),a=(0,r.d4)(e=>e.isMakeSomethingV2Active);return t||e||a?null:n.createElement(et,null)}let J=(0,E.r1)(W.NEW_USER_PAN),Q=(0,E.r1)(W.NEW_USER_ZOOM),$=(0,E.Fu)("figjam_editor_onboarded"),ee=[function(e){let{isOverlayShowing:t,next:a,complete:r,onChangePreferences:l}=e;return t?n.createElement(Z,{onNext:a,onManualDismiss:r,onChangePreferences:l}):null},function(e){let{isOverlayShowing:t,complete:a,onChangePreferences:r}=e;return t?n.createElement(Y,{onNext:a,onManualDismiss:a,onChangePreferences:r}):null}];function et(){let e=(0,d.md)(J),t=(0,d.md)(Q),a=(0,d.md)($),r=(0,d.md)(g.Fy),l=(0,d.md)(g.g5),i=(0,d.md)(g.NT),o=(0,d.md)(S.w),[s,c]=(0,n.useState)(!1),p=(0,h.A)({numSteps:ee.length,onComplete:u.lQ}),{show:_,complete:E,isShowing:y}=(0,f.e)({overlay:P.eD$,priority:C.N.DEFAULT_MODAL},[e,t,a,r,l,i]);(0,n.useEffect)(()=>{let e=[S.tX.NOT_STARTED,S.tX.COMPLETED].includes(o),t=p.currentStep===ee.length-1;y||!e||t||_({canShow:(e,t,a,n,r,l)=>{let i=!m.Xb&&!m.aR,s=(0,T.d2)({emailValidatedAt:r,jobTitle:l});return![S.tX.USE_CASE_STEPS,S.tX.MODAL_SHOWING].includes(o)&&(!!a||s)&&!n&&!e&&!t&&i}})},[y,o,_,p.currentStep]);let v=(0,n.useCallback)(()=>{c(!0)},[c]),b=(0,n.useCallback)(()=>{c(!1)},[c]);return y?n.createElement(n.Fragment,null,n.createElement(w.U,{currentStep:p.currentStep,children:ee.map((e,t)=>n.createElement(e,{isOverlayShowing:p.currentStep===t,next:p.next,complete:E,onChangePreferences:v})),isShowing:!0}),s?n.createElement(F,{dismissModal:b,targetKey:1===p.currentStep?D.oi.PAN:D.oi.ZOOM}):null):null}function ea(){return(0,c.kc)().figjam_nav_new_user_onboarding&&(0,v.UK)().scrollWheelZoom.getCopy()&&(0,v.UK)().rightClickPan.getCopy()}},963677:(e,t,a)=>{a.d(t,{s:()=>S});var n=a(411855),r=a(188507),l=a(598045),i=a(629019),o=a.n(i),s=a(709103),c=a(323434),d=a(711117),u=a(935283),m=a(966712),p=a(153234),_=a(522739),f=a(801161),h=a(428654),g=a(356390),E=a(774191),y=a(457025),v=a(457630),b=a(202232),C=a(219001),w=a(520325),T=a(158200);let S=n.memo(function({toolType:e,color:t,isSelected:a,onTap:i,onDragEnd:S,onDragStart:N,Icon:x,IconNoRef:k,toolbarIconScale:I,canvasToSvgScale:A,isDrawingSubmenuTool:L,isDragReversing:O,stickyAnimationState:R,isHovered:M,hoverOffsetAmount:D="DEFAULT",shapeStrokeStyleType:P}){let{state:F,dispatch:B}=n.useContext(C.nS),U=(0,r.wA)(),H=F.draggedTool===e,G=F.draggedToolCanCancel,[V,z]=n.useState(!1),[K,W]=n.useState(!1),[j,Z]=n.useState(0),Y=n.useRef(!1);n.useEffect(()=>{let e=e=>{"Escape"===e.key&&H&&(B({type:"end drag"}),Y.current=!0,z(!1),Z(j+1))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[j,H,e,B]),n.useEffect(()=>{let e=()=>{z(!1)};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e)}},[z]),n.useEffect(()=>(H?document.body.classList.add(T.bz):document.body.classList.remove(T.bz),()=>{document.body.classList.remove(T.bz)}),[H]);let X=n.useRef(null),q=(0,v.Pl)({subscribeToUpdates_expensive:H}),J=function(e){switch(e){case"NONE":return 0;case"STICKY":return -20;case"DRAWING":return -22;case"DRAWING_SUBMENU":case"DEFAULT":return -24}}(D),Q=n.useRef(null),$=(0,s.d)(.5),ee=(0,s.d)(.5),[et,ea]=n.useState(),en=H?G?"whileDragShouldCancel":"whileDrag":"pencil"===e&&a?"hiddenPencil":V?"whileTap":L&&a?"selectedSubmenuTool":M?"whileHovering":"initial";if("connector"===e&&!H){let e=(0,E.oB)(h.F.parse(t));e.l>.9&&(t=h.F.formatHSLA({h:e.h,s:e.s,l:.9,a:e.a}))}return n.createElement(_.D8,{recordingKey:(0,b.hx)(`${e}.animatedIcon`),className:o()(T.ke,{[T.zO]:a,[T.bj]:M}),onPointerDown:()=>{if(z(!0),!w.T.RECORD_DETAILED_EVENTS)return p.aH},onPointerUp:()=>{if(z(!1),!w.T.RECORD_DETAILED_EVENTS)return p.aH},onTouchStart:e=>{e.preventDefault()},onTouchEnd:e=>{e.preventDefault(),!K&&F.shouldFinishClick&&i(),W(!1)},onContextMenu:e=>{e.preventDefault()}},n.createElement(c.N,{key:String(j)},n.createElement(d.P.div,{"data-testid":w.T.getMotionDivId(e),"data-test-animate-state":en,style:{originX:$,originY:ee},variants:{initial:{scale:1,y:0},selectedSubmenuTool:{y:J},whileTap:{y:J,scale:.93},whileDragShouldCancel:{y:J,scale:.93},whileDrag:{y:J,scale:q*(A||1)},whileHovering:{y:J},hiddenPencil:{y:72}},className:o()({[T.T6]:!G}),animate:en,transition:{duration:.1,ease:[.12,.23,.5,1]},transformTemplate:(e,t)=>"translate3d(0px, 0px, 0) scale(1, 1)"===t?"none":t,drag:!!S,dragConstraints:{top:0,bottom:0,right:0,left:0},ref:Q,onDragStart:(t,a)=>{B({type:"start drag",tool:e}),Y.current=!1,l.glU.triggerActionInUserEditScope("set-tool-default",{source:b.fK}),y.oW.trigger("action",l.KWd.CLEAR),U(f.jD());let n=Q.current;if(n){let e=n.getBoundingClientRect();$.set((a.point.x-e.x)/e.width),ee.set((a.point.y-e.y)/e.height)}let r=X.current;if(r){let e=r.closest("."+T.kl);(0,u.KF)(e,"Delightful tool can't find containing toolbar!"),ea(e.getBoundingClientRect()),N&&N()}},onDrag:(e,t)=>{var a;et&&((a=t.point).x>=et.x&&a.x<=et.x+et.width&&a.y>=et.y||a.y>et.y+et.height)!==G&&B({type:"toggle drag cancellable"})},onDragEnd:(e,t)=>{if(W(!0),$.set(.5),ee.set(.5),G){B({type:"cancel drag"}),z(!1);return}let a=X.current;if(a){if(Y.current)return;let t=a.getBoundingClientRect(),n=g.Y5.getViewportInfo(),r={x:t.left-n.x,y:t.top-n.y},l=(0,v.$$)(n,r),i=(0,v.$$)(n,{x:e.x-n.x,y:e.y-n.y});S&&S(l,i),B({type:"end drag"}),z(!1),Z(j+1)}else(0,u.KF)(!1,"Delightful tool is missing the toolref!")},dragElastic:1},x?n.createElement(x,{color:t,toolbarIconScale:I,ref:X,shouldAnimate:H,isReversing:O,stickyAnimationState:R,shapeStrokeProps:{isDragging:H,styleType:(0,m.kc)().figjam_dlt_shape_border&&void 0!==P?P:l.xbm.NONE,svgToCanvasScale:A&&I?1/(A*I):1}}):k)))})},178498:(e,t,a)=>{a.d(t,{s:()=>M,i:()=>D});var n=a(411855),r=a(598045),l=a(629019),i=a.n(l),o=a(966712),s=a(374626),c=a(456363),d=a(428654),u=a(662531),m=a(809511),p=a(29680),_=a(498606),f=a(511080),h=a(202232),g=a(219001),E=a(751025),y=a(963677),v=a(949889),b=a(383847),C=a(525040),w=a(42173),T=a(153234),S=a(694241),N=a(684690),x=a(225719),k=a(489005),I=a(948529),A=a(976803),L=a(158200);function O({recordingKey:e,isOpen:t}){let[a,l]=(0,s.fp)(c.qL),[i,o]=n.useState(!1),{openColorPalettePicker:u,closeColorPalettePicker:m}=(0,N.$J)(o),p=d.F.format(a);n.useEffect(()=>{m()},[t,m]);let _=e=>{l(e),r.glU.triggerActionInUserEditScope("set-tool-sticky",{source:h.fK})},f=e=>{_(e),R()},g=(0,N.Z9)(),E=g.type===S.Yv.CUSTOM,y=(0,w.TS)("sticky"),b=E?g.variations.sticky:y,C=(0,s.md)(x.Qv),L=!!C;return n.createElement(n.Fragment,null,n.createElement(v.br,{paddingRight:8,paddingLeft:8},n.createElement(A.V,{loadingPaletteCircleCount:C}),!L&&b.map((t,a)=>{let r=d.F.format(t),l=E?(0,w.AF)(a,"sticky"):(0,w.V_)(t,"sticky");return n.createElement(I.cd,{key:d.F.format(t)+"-"+a,size:"medium",value:t,selectionState:r===p?"selected":"unselected",paletteType:"sticky",background:"light",onClick:()=>f(t),tooltip:l,recordingKey:T.Pt(e,l)})}),n.createElement(k.s,{colorPalettePickerState:{openColorPalettePicker:u,closeColorPalettePicker:m,isColorPalettePickerOpen:i},defaultColorPaletteLength:y.length,recordingKey:T.Pt(e||"color-palettes","sticky")||"sticky",disabled:L,isInDltSubmenu:!0})))}let R=()=>{let e={duration:800,easing:"ease-out"},t={transform:"rotate(0) translate(0, 0)"},a=[t,{transform:"translate(32px, 32px) rotate(5deg) translate(0, -8px) translate(-32px, -32px)",offset:.1},{transform:"translate(32px, 32px) rotate(5deg) translate(0, -10px) translate(-32px, -32px)",offset:.35},t,{transform:"translate(-32px, 32px) rotate(-3deg) translate(32px, -32px) "},t,{transform:"translate(32px, 32px) rotate(1deg) translate(-32px, -32px) "},t];[L.eB,L.gz,L.Sk].forEach((t,n)=>{document.getElementsByClassName(t)[0].parentElement?.animate(a,{...e,...{delay:70*n}})})},M="sticky";function D({toolbarIconScale:e}){let t;let a=(0,C.bu)(),l=(0,C.sT)(),T=(0,s.md)(c.qL),S=(0,p.aV)(),N=(0,o.kc)().figjam_differentiate_stickies,x=(0,o.kc)().figjam_differentiate_stickies_v3,k=N||x,[I,A]=(0,n.useState)(!1),[R,D]=(0,n.useState)(!1),[P,F]=(0,n.useState)(!1),[B,U]=(0,n.useState)(f.kk.DEFAULT);(0,n.useEffect)(()=>{if(!k&&I){let e=setTimeout(()=>A(!1),300);return()=>clearTimeout(e)}},[I]);let H=240/f.rX,G=(0,w.zS)(T,"sticky"),V=d.F.format(T),z=S||!G?"rgba(230, 230, 230, 1)":(0,w.MV)(G,V),{state:K,dispatch:W}=(0,n.useContext)(g.nS),j=(0,n.useCallback)(()=>{l?r.glU.triggerActionInUserEditScope("set-tool-default",{source:h.fK}):(r.glU.triggerActionInUserEditScope("set-tool-sticky",{source:h.fK}),W({type:"open submenu",submenu:"sticky"}))},[l,W]),Z=l||a||"shape"===K.submenu.tool,{isHovered:Y,onMouseEnter:X,onMouseMove:q,onMouseLeave:J,onTouchStart:Q,onTouchEnd:$}=(0,E.W)(j,Z,!1),ee=(0,n.useCallback)((e,t)=>{u.l7.user("drop-sticky-on-canvas",()=>r.glU.delightfulToolbarDropItemOntoCanvas(m.NLJ.STICKY,Math.round(e.x),Math.round(e.y),Math.round(t.x),Math.round(t.y))),k?(D(!1),F(!1),U(f.kk.DEFAULT)):A(!0)},[]),et=(0,n.useCallback)(()=>{k&&D(!0),x&&B===f.kk.DEFAULT&&U(f.kk.INITIAL_DRAG_ON_DLT)},[]);(0,n.useEffect)(()=>{N&&"sticky"===K.draggedTool&&F(e=>{let t=K.draggedToolCanCancel;return!e&&t&&R})},[K,R]),(0,n.useEffect)(()=>{if(x){if("sticky"===K.draggedTool){let e=!K.draggedToolCanCancel;B===f.kk.INITIAL_DRAG_ON_DLT?e&&U(f.kk.DRAG_ON_CANVAS):B===f.kk.DRAG_ON_CANVAS?e||U(f.kk.DRAG_RETURN_TO_DLT):B===f.kk.DRAG_RETURN_TO_DLT&&e&&U(f.kk.DRAG_ON_CANVAS)}else K.draggedTool||U(f.kk.DEFAULT)}},[K,R,x,U,B]),t=x?f.UJ:N?f.N7:f.BV;let ea=k?R:I,en=(0,n.useRef)(null);return n.createElement(v.XN,{alignment:"CENTER",innerRef:en},n.createElement(v.ti,{isSelected:Y||l,noScaleAnimation:!0},n.createElement(b.J7,{toolType:"sticky",recordingKey:(0,h.hx)("sticky"),isSelected:l,className:L.qf,onClick:j,"data-tooltip-type":_.Ib.LOOKUP,"data-tooltip":"set-tool-sticky",tooltipOffset:{offsetY:-26,offsetX:10},onboardingKey:M,isHovered:Y,onMouseEnter:X,onMouseMove:q,onMouseLeave:J,onTouchStart:Q,onTouchEnd:$,hasOpenSubmenu:l},n.createElement("div",{className:i()(L.Sr,L.JQ)},n.createElement(y.s,{toolType:"sticky",color:z,isSelected:l,onTap:j,onDragStart:et,onDragEnd:ee,Icon:t,toolbarIconScale:e,canvasToSvgScale:H,isDragReversing:P,isHovered:Y,stickyAnimationState:B,hoverOffsetAmount:"STICKY"}),n.createElement(t,{toolOrder:2,color:z,toolbarIconScale:e,shouldAnimate:ea,isReversing:P,stickyAnimationState:B}),n.createElement(t,{toolOrder:3,color:z,toolbarIconScale:e,shouldAnimate:ea,isReversing:P,stickyAnimationState:B}),k?n.createElement(t,{toolOrder:4,color:z,toolbarIconScale:e,shouldAnimate:ea,isReversing:P,stickyAnimationState:B}):null))),n.createElement(v.Qw,{isOpen:l,fadedOut:Y},n.createElement(O,{isOpen:l,recordingKey:(0,h.hx)("stickySubmenu")})))}},976803:(e,t,a)=>{a.d(t,{V:()=>o});var n=a(411855),r=a(629019),l=a.n(r),i=a(358145);let o=n.memo(function({loadingPaletteCircleCount:e}){let t=(0,i.ZC)(e),a=t&&!e,r=a?t:e;return n.createElement("div",{className:l()("dlt_submenu_palette_skeleton--skeletonCircleContainer--zJP5v",{"dlt_submenu_palette_skeleton--isFadingOut--X7mcE":a})},[...Array(r)].map((e,t)=>n.createElement("div",{className:"dlt_submenu_palette_skeleton--skeletonCircleWrapper--jqySu",key:"skeleton-palette-"+t},n.createElement("div",{className:l()("dlt_submenu_palette_skeleton--skeletonCircle--S16JP",{"dlt_submenu_palette_skeleton--loading--NXGYD":!a}),style:{animationDelay:`${.1*t}s`}}))))})},278011:(e,t,a)=>{a.d(t,{w:()=>I,Z:()=>k});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(939683),s=a(966712),c=a(574176),d=a(939863),u=a(119198),m=a(672517),p=a(151166),_=a(198371),f=a(369870),h=a(102310),g=a(860178),E=a(99506),y=a(945020),v=a(60088),b=a(79132),C=a(40092),w=a(487392);let T=["meeting","brainstorm","diagram","plan"],S={meeting:{displayName:(0,d.tx)("whiteboard.editor_file_create_button.template.meeting"),templateId:"1131656387097659439"},brainstorm:{displayName:(0,d.tx)("whiteboard.editor_file_create_button.template.brainstorm"),templateId:"1131655445295798316"},diagram:{displayName:(0,d.tx)("whiteboard.editor_file_create_button.template.diagram"),templateId:"1131655783221981229"},plan:{displayName:(0,d.tx)("whiteboard.editor_file_create_button.template.plan"),templateId:"1131656074685986862"}};var N=a(781374),x=a(635858);function k(){let e=(0,_.nF)(!0),t=!(0,p.N)()&&e.enabled,a=null===(0,g.iZ)();return(0,f.eM)()||t&&a||(0,s.kc)().figjam_ui2_overhaul?null:n.createElement(I,null)}function I(){let e=(0,w.$3)(),{Dropdown:t,toggleDropdown:a,dropdownTargetRef:l,isDropdownShown:s}=(0,v.B)("figjam-editor-create-button-dropdown"),p=(0,r.wA)(),_=(0,h.B)(),f=(0,o.U)(),g={brainstorm:(0,b.S)({templateId:S.brainstorm.templateId,source:y.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"brainstorm"}}),meeting:(0,b.S)({templateId:S.meeting.templateId,source:y.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"meeting"}}),diagram:(0,b.S)({templateId:S.diagram.templateId,source:y.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"diagram"}}),plan:(0,b.S)({templateId:S.plan.templateId,source:y.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"plan"}})},k=n.useCallback(()=>{s||f("CTA Clicked",{action:"editor_file_create_button_toggle_dropdown_shown"}),a()},[s,a,f]),I=n.useCallback(()=>{f("CTA Clicked",{action:"editor_file_create_button_create_blank"}),p(u.zE({state:_,from:y.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,editorType:E._Y.WHITEBOARD,team:void 0,openNewFileIn:y.ai.NEW_TAB}))},[p,f,_]),A=T.map(e=>({displayText:function(e){switch(e){case"meeting":return(0,d.t)("whiteboard.editor_file_create_button.template.meeting");case"brainstorm":return(0,d.t)("whiteboard.editor_file_create_button.template.brainstorm");case"diagram":return(0,d.t)("whiteboard.editor_file_create_button.template.diagram");case"plan":return(0,d.t)("whiteboard.editor_file_create_button.template.plan")}}(e),icon:function(e){switch(e){case"meeting":return n.createElement(C.jn,null);case"brainstorm":return n.createElement(C.ZT,null);case"diagram":return n.createElement(C.Pd,null);case"plan":return n.createElement(C.Zs,null)}}(e),className:N.QR,optionHeight:26,callback:()=>{g[e]()}})),L=[{displayText:(0,d.t)("whiteboard.editor_file_create_button.blank_whiteboard"),callback:I,className:N.QR,icon:n.createElement(C.Gc,null),optionHeight:26},{separator:!0,displayText:""},{displayText:(0,d.t)("whiteboard.editor_file_create_button.template.title"),disabled:!0,className:N.QR,optionHeight:24},...A];return n.createElement(m.fu,{name:"Editor File Create Button"},n.createElement("div",{className:N.Ll},n.createElement("div",{className:i()(N.UD,{[N.wH]:s})},n.createElement("button",{className:i()(N.x6,{[N.FU]:!e,[N.wH]:s}),onClick:k,"aria-label":(0,d.t)("whiteboard.editor_file_create_button.create_button_aria_label")},n.createElement("div",{className:N.Xl},(0,d.tx)("sidebar.new_file")),n.createElement("div",{className:N.FH,ref:l},n.createElement(c.B,{className:i()(N.ai,{[N.BG]:s}),svg:x.A}))),n.createElement(t,{items:L,showPoint:!0,lean:"center",minLeftMargin:-4,minWidth:164}))))}},492521:(e,t,a)=>{a.d(t,{Uj:()=>P,IW:()=>F,Ef:()=>K,u3:()=>U,UI:()=>B,Y:()=>G,kw:()=>H,z1:()=>q,PX:()=>X,Yh:()=>j,QL:()=>Z,Wb:()=>V,Pn:()=>z,Cb:()=>Y,E0:()=>W});var n=a(411855),r=a(966712),l=a(38580),i=a(374626),o=a(646240),s=a(498750),c=a(860601),d=a(877723),u=a(939863),m=a(483990),p=a(356390),_=a(662531),f=a(227944),h=a(498606),g=a(468829),E=a(632084),y=a(47750),v=a(188507),b=a(38329),C=a(974105),w=a(177505),T=a(993789),S=a(335682),N=a(984968),x=a(391993),k=a(230646),I=a(477173),A=a(425187),L=a(322027),O=a(62573),R=a(607492),M=a(939206),D=a(754556),P=(e=>(e.SUMMARIZE="summarize",e.CLUSTER="cluster_by_topic",e.TIDY_UP="tidy_up",e.WRAP_IN_SECTION="wrap_in_section",e.CLUSTER_BY_AUTHOR="cluster_by_author",e.CLUSTER_BY_COLOR="cluster_by_color",e.CLUSTER_BY_STAMP_COUNT="cluster_by_stamp_count",e.CLUSTER_BY_STAMP_TYPE="cluster_by_stamp_type",e.OPEN_CLUSTER_BY_MORE_MENU="open_cluster_by_more_menu",e.CREATE_FIGMA_SLIDES_OUTLINE="create_figma_slides_outline",e))(P||{});let F={summarize:!0,cluster_by_topic:!0,create_figma_slides_outline:!0,tidy_up:!1,wrap_in_section:!1,cluster_by_author:!1,cluster_by_color:!1,cluster_by_stamp_count:!1,cluster_by_stamp_type:!1,open_cluster_by_more_menu:!1},B=(0,l.eU)(!1),U=(0,l.eU)(null),H=(0,l.eU)(!1),G=(0,l.eU)(!1);function V(){let e=z(),[t,a]=(0,i.fp)(G),r=(0,o.Xr)(H);return n.useCallback(()=>{e(),a(!1),r(!1)},[e,a,r])}function z(){let[e,t]=(0,i.fp)(U),[a,r]=(0,i.fp)(B);return n.useCallback(()=>{t(null),r(!1)},[t,r])}function K(e){return!!e&&(F[e.type]||!1)}function W(){let e=(0,k.v1)();return!!(0,r.kc)().figjam_cluster_by_more&&e}function j(){let e=(0,d.q8)(),t=(0,r.kc)().figjam_synthesize_handbrake||!1,a=[],n=(0,k.V)()&&!e,l=(0,k.cF)(),i=(0,k.IR)(),o=(0,k.v1)(),s=W(),c=(0,f.Zr)("create-section-from-selection"),p=(0,f.Zr)("tidy-up"),_=(0,f.Zr)("align-top"),E=(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2}),y={tooltip:g.w,tooltipType:h.Ib.SPECIAL},v=!!(0,r.kc)().figjam_cluster_by_more;return s&&a.push({type:"open_cluster_by_more_menu",disabled:!1,isInClusterSubmenu:!1,displayText:"",disabledTooltipText:""}),n&&(v||a.push({type:"cluster_by_topic",disabled:!o||t,displayText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_button"),svgSrc:L.A,disabledTooltipText:E,tooltipOverrides:t?y:void 0,isInClusterSubmenu:!1}),a.push({type:"summarize",disabled:!l||t,displayText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_summarize_button"),svgSrc:O.A,disabledTooltipText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_summarize_disabled_tooltip",{minSelectedStickies:2}),tooltipOverrides:t?y:void 0,isInClusterSubmenu:!1})),(0,r.kc)().figjam_inline_organize_more_tools&&(p&&_&&a.push({type:"tidy_up",disabled:!1,displayText:(0,m.A)("tidy-up"),svgSrc:D.A,tooltipOverrides:{tooltip:"tidy-up",tooltipType:h.Ib.LOOKUP}}),c&&a.push({type:"wrap_in_section",disabled:!1,displayText:(0,m.A)("create-section-from-selection"),svgSrc:M.A,tooltipOverrides:{tooltip:"create-section-from-selection",tooltipType:h.Ib.LOOKUP}})),i&&a.push({type:"create_figma_slides_outline",disabled:t,displayText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_create_slides_outline"),svgSrc:R.A,disabledTooltipText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_create_slides_outline_disabled_tooltip",{minSelectedStickies:2}),tooltipOverrides:t?y:void 0,isInClusterSubmenu:!1,separator:"TOP"}),a}function Z(){return[...function(){let e=(0,d.q8)(),t=(0,k.v1)();if(e)return[];let a=!!(0,r.kc)().figjam_synthesize_handbrake,n=[],l=(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2}),i={tooltip:g.w,tooltipType:h.Ib.SPECIAL};return n.push({type:"cluster_by_topic",disabled:!t||a,displayText:(0,r.kc)().figjam_cluster_by_more_copy_2?(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_topic_2"):(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_topic"),disabledTooltipText:l,tooltipOverrides:a?i:void 0,isInClusterSubmenu:!0}),n}(),...function(){let e=(0,k.v1)(),t=(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2}),a=[];return a.push({type:"cluster_by_color",disabled:!e,isInClusterSubmenu:!0,displayText:(0,r.kc)().figjam_cluster_by_more_copy_2?(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_color_2"):(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_color"),disabledTooltipText:t}),a.push({type:"cluster_by_author",disabled:!e,isInClusterSubmenu:!0,displayText:(0,r.kc)().figjam_cluster_by_more_copy_2?(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_author_2"):(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_author"),disabledTooltipText:t}),a.push({type:"cluster_by_stamp_count",disabled:!e,isInClusterSubmenu:!0,displayText:(0,r.kc)().figjam_cluster_by_more_copy_2?(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_stamp_count_2"):(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_stamp_count"),disabledTooltipText:t}),a.push({type:"cluster_by_stamp_type",disabled:!e,isInClusterSubmenu:!0,displayText:(0,r.kc)().figjam_cluster_by_more_copy_2?(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_stamp_type_2"):(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_stamp_type"),disabledTooltipText:t}),a}()].filter(e=>e?.isInClusterSubmenu&&"open_cluster_by_more_menu"!==e.type)}function Y(){let e=j();return(0,r.kc)().figjam_inline_organize_criteria_2?!!e.find(e=>e?.type==="summarize"||e?.type==="cluster_by_topic"||e?.type==="open_cluster_by_more_menu"):!(e.length<=1)||!!e.find(e=>K(e)||e?.type==="open_cluster_by_more_menu")}function X(){let e=(0,i.md)(A.f).positionRelativeToSelection,{summarizeCanvasSelection:t}=(0,I.ss)(e,void 0,"INLINE_TOOLBAR"),{clusterCanvasSelection:a}=(0,y.f)(),{cluster:r}=(0,y.J)(E.Gq,!1),{cluster:l}=(0,y.J)(E.MS,!1),{cluster:o}=(0,y.J)(E.bM,!0),{cluster:s}=(0,y.J)(E.ON,!1),d=function(){let e=(0,i.md)(S.ze),t=(0,v.wA)(),a=b.D.getState(),r=(0,C.Kl)(a),l=(0,w.dh)(),o=(0,N.ol)()??void 0;return(0,n.useCallback)(()=>{if(!(0,x.zh)())return c.lQ;let a={figjamFileKey:e,selectedGuids:T.z.instance.getDirectlySelectedNodes().slice(0,75).map(e=>e.guid),pageGuids:[l]};(0,x.R9)(a,r,t,o)},[e,l,r,t,o])}(),u=V();return e=>{let n=c.lQ,i="";if(e){switch(e.type){case"cluster_by_author":n=r,i="inline-menu-organize-cluster-by-author";break;case"cluster_by_color":n=l,i="inline-menu-organize-cluster-by-color";break;case"cluster_by_stamp_count":n=o,i="inline-menu-organize-cluster-by-stamp-count";break;case"cluster_by_stamp_type":n=s,i="inline-menu-organize-cluster-by-stamp-type";break;case"summarize":n=t,i="inline-menu-organize-summarize";break;case"create_figma_slides_outline":n=d,i="inline-menu-organize-create-figma-slides-outline";break;case"cluster_by_topic":n=a,i="inline-menu-organize-cluster";break;case"tidy_up":n=()=>p.Y5.triggerActionInUserEditScope("tidy-up"),i="inline-menu-organize-tidy-up";break;case"wrap_in_section":n=()=>p.Y5.triggerActionInUserEditScope("create-section-from-selection"),i="inline-menu-organize-wrap-in-section"}_.l7.user(i,n),"open_cluster_by_more_menu"!==e.type&&u()}}}function q(){let[e,t]=(0,i.fp)(B),[a,n]=(0,i.fp)(U),[r,l]=(0,i.fp)(H),o=Z(),c=X();return(l,i)=>{if(l.shiftKey||l.altKey||l.ctrlKey){i(l);return}if(e)switch(l.keyCode){case s.Uz.ESCAPE:t(!1),n(null);break;case s.Uz.DOWN_ARROW:null===a?n(0):a+1<o.length&&n(a+1);break;case s.Uz.UP_ARROW:null===a?n(o.length-1):a-1>=0&&n(a-1);break;case s.Uz.RIGHT_ARROW:null===a&&n(0);break;case s.Uz.LEFT_ARROW:n(null),t(!1);break;case s.Uz.ENTER:null!==a&&a<o.length&&(l.preventDefault(),l.stopPropagation(),c(o[a]))}else if(r)switch(l.keyCode){case s.Uz.RIGHT_ARROW:t(!0);break;case s.Uz.LEFT_ARROW:t(!1);break;default:i(l)}else i(l)}}},649958:(e,t,a)=>{a.d(t,{XZ:()=>m,fk:()=>_,oc:()=>p,k0:()=>f});var n=a(411855),r=a(188507),l=a(346124),i=a(776621);let o=500,s="audioplayinvoked",c="audioplaysuccess";class d{constructor(e){this.play=({onSuccess:e,onNoInteractionFailure:t})=>{let a=()=>{window.removeEventListener(s,this.audioPlayInvokedHandler),window.removeEventListener(c,this.audioPlaySuccessHandler)};window.dispatchEvent(this.audioPlayInvokedEvent),this.audio.play().then(()=>{if(this.shouldBlockPlay){this.audio.pause(),this.isAttemptingToPlay=!1;return}this.lastPlayedTimestamp=Date.now(),window.dispatchEvent(this.audioPlaySuccessEvent),this.isFadingOut?this.fadeOut({}):(this.internalVolumeMultiplier=0,this.fadeIn({fadeInLength:1e3})),e&&e(),this.isAttemptingToPlay=!1,a()}).catch(e=>{if(this.isAttemptingToPlay=!1,"NotAllowedError"===e.name&&t){t();return}if(e.message.toLowerCase().includes("interrupted by a new load request")){(0,i.ED)("FigJam MusicPlayer","Benign race condition: new track was requested while the promise to play the previous track was resolving (no user impact)");return}throw Error(`Failed to play music in the FigJam timer: ${e}`)})},this.playLoadingAudio=()=>{this.loadingAudio.currentSrc&&this.loadingAudio.play().catch(e=>{if("NotAllowedError"!==e.name)throw Error(`Failed to play loading music in the FigJam timer: ${e}`)})},this.stopLoadingAudio=()=>{this.loadingAudio.currentSrc&&(this.loadingAudio.pause(),this.setTimestamp(0,this.loadingAudio))},this.isPaused=()=>this.audio.paused||this.shouldBlockPlay,this.isPlaying=()=>!this.isPaused(),this.setTimestamp=(e,t)=>{if(t){if(t.seeking||t.readyState<=0){console.warn("Already seeking or audio isn't ready, can't set timestamp.");return}t.fastSeek?t.fastSeek(e):t.currentTime=e}},this.playAtTimestamp=({src:e,timestamp:t,onSuccess:a,onFailure:n})=>{this.isAttemptingToPlay=!1;let r=()=>{this.setTimestamp(t/1e3%this.audio.duration,this.audio),this.play({onSuccess:a,onNoInteractionFailure:n})};window.addEventListener(s,this.audioPlayInvokedHandler),window.addEventListener(c,this.audioPlaySuccessHandler),this.playLoadingAudio(),this.setSource(""),this.shouldBlockPlay=!1,this.audio.oncanplaythrough=()=>{this.audio.oncanplaythrough=null,this.handleVolumeUpdate(),r()},this.setSource(e)},this.playPreview=({src:e,timestampMs:t=0,playLengthMs:a,fadeLengthMs:n=o})=>{let r=this.hasSource();this.playAtTimestamp({src:e,timestamp:t,onSuccess:()=>{this.isPaused()||!r?this.internalVolumeMultiplier=0:this.clearFadeTimeouts(),this.fadeIn({}),this.internalFadeOutTimeoutId=window.setTimeout(()=>{this.internalFadeOutTimeoutId=0,this.fadeOut({fadeOutLength:n,shouldStopWhenFadedOut:!0,targetVolumeMultiplier:0})},a+2*n)}})},this.stopPreview=()=>{this.internalFadeOutTimeoutId&&clearTimeout(this.internalFadeOutTimeoutId),this.internalFadeOutTimeoutId=0,this.stop()},this.clearFadeTimeouts=()=>{this.internalFadeOutTimeoutId&&clearTimeout(this.internalFadeOutTimeoutId),this.internalFadeInTimeoutId&&clearTimeout(this.internalFadeInTimeoutId)},this.resetFades=()=>{this.clearFadeTimeouts(),this.internalVolumeMultiplier=1,this.isFadingOut=!1,this.isFadingIn=!1},this.pause=()=>{this.stopLoadingAudio(),this.audio.paused||this.shouldBlockPlay||this.isAttemptingToPlay||(this.audio.pause(),this.clearFadeTimeouts()),this.shouldBlockPlay=!0},this.stop=()=>{this.stopLoadingAudio(),this.resetFades(),this.shouldBlockPlay=!0,this.audio.pause(),this.audio.removeAttribute("src")},this.hasSource=()=>""!==this.audio.currentSrc,this.setSource=e=>{this.audio.src=e},this.setIsMuted=e=>{this.audio.muted=e,this.loadingAudio.muted=e,this.isMuted=e,this.handleVolumeUpdate()},this.getCurrentVolume=()=>this.isMuted?0:(0,l.clamp)(this.externalVolume*this.internalVolumeMultiplier,0,1),this.handleVolumeUpdate=()=>{this.audio.volume=this.getCurrentVolume()},this.setVolume=e=>{this.externalVolume=e,this.handleVolumeUpdate()},this.fadeOut=({fadeOutLength:e=5e3,shouldStopWhenFadedOut:t=!1,targetVolumeMultiplier:a=0,callbackWhenDoneFading:n,resumeFadingIfInterrupted:r=!0})=>{this.clearFadeTimeouts();let l=1/(e/50),i=()=>{!this.audio.paused&&(this.internalVolumeMultiplier>a?(this.internalVolumeMultiplier-=l,this.handleVolumeUpdate(),this.internalFadeOutTimeoutId=window.setTimeout(i,50)):(this.internalFadeOutTimeoutId=0,t&&this.stop(),this.handleVolumeUpdate(),this.isFadingOut=!1,n&&n()))};r&&(this.isFadingOut=!0),i()},this.fadeIn=({fadeInLength:e=1e3,callbackWhenDoneFading:t})=>{this.clearFadeTimeouts();let a=1/(e/50),n=()=>{!this.audio.paused&&(this.internalVolumeMultiplier<1?(this.internalVolumeMultiplier+=a,this.handleVolumeUpdate(),this.internalFadeInTimeoutId=window.setTimeout(n,50)):(this.internalFadeInTimeoutId=0,this.handleVolumeUpdate(),this.isFadingIn=!1,t&&t()))};this.isFadingIn=!0,n()},this.isAttemptingToPlay=!1,this.audio=new Audio,this.audio.src="",this.audio.loop=!0,this.loadingAudio=new Audio,e&&e.loadingPlaybackUrl&&(this.loadingAudio.src=e.loadingPlaybackUrl),this.loadingAudio.loop=!0,this.audioPlayInvokedEvent=new Event(s),this.audioPlayInvokedHandler=()=>{this.isAttemptingToPlay=!0},this.audioPlaySuccessEvent=new Event(c),this.audioPlaySuccessHandler=()=>{this.loadingAudio.currentSrc&&this.loadingAudio.pause(),this.isAttemptingToPlay=!1},this.externalVolume=.7,this.isMuted=!1,this.isFadingOut=!1,this.isFadingIn=!1,this.shouldBlockPlay=!1,this.internalVolumeMultiplier=1,this.internalFadeOutTimeoutId=0,this.internalFadeInTimeoutId=0,this.lastPlayedTimestamp=null;let t=e?.timeUpdateListener;t&&this.audio.addEventListener("timeupdate",()=>t(this.audio))}}var u=a(318137);let m="unmute-timer-music";function p(e){let[t]=n.useState(()=>e?.previousPlayerInstance||new d(e)),a=(0,r.d4)(t=>"StandaloneMusic"===e.musicSource?t.music.volume:t.timer.volume),l=(0,r.d4)(t=>"StandaloneMusic"===e.musicSource?t.music.isMuted:t.timer.isMuted);return n.useEffect(()=>{t.setVolume(a/100)},[a,t]),n.useEffect(()=>{t.setIsMuted(l)},[l,t]),t}function _(){let e=(0,r.d4)(e=>e.music.music);return!e?.isPaused&&!e?.isStopped}function f(){let e=(0,r.d4)(e=>e.music.music),t=e?.selectedSongID||"",a=(0,u.N)(t),n=_(),l=a&&a.album_art;return!n||!l}},318137:(e,t,a)=>{a.d(t,{N:()=>i});var n=a(188507),r=a(966712),l=a(411189);let i=e=>(0,n.d4)(t=>{let a=((0,r.kc)().figjam_more_tracks_listen?t.music.allSongs:t.music.activeSongs).filter(t=>e===t.song_id);return a.length?a[0]:void 0},l.eB)},669074:(e,t,a)=>{a.d(t,{m:()=>S,U:()=>w});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(574176),s=a(29680),c=a(318137);function d({useLightShadow:e}){return n.createElement("svg",{width:"96",height:"96",viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"100%",width:"100%",filter:e?"drop-shadow(0px 0.325px 0.813px rgba(0, 0, 0, 0.15)) drop-shadow(0px 1.625px 2.6px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 0.081px rgba(0, 0, 0, 0.12))":"drop-shadow(0px 1.625px 4.062500476837158px rgba(0, 0, 0, 0.15)) drop-shadow(0px 8.125000953674316px 13px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 0.40625px rgba(0, 0, 0, 0.12))"}},n.createElement("mask",{id:"mask0_134_226",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"96",height:"96"},n.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"black"}),n.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"url(#paint0_radial_134_226)"}),n.createElement("circle",{cx:"48",cy:"48",r:"47.1875",stroke:"black",strokeOpacity:"0.8",strokeWidth:"1.625"})),n.createElement("g",{mask:"url(#mask0_134_226)"},n.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"black"}),n.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"url(#paint1_radial_134_226)"}),n.createElement("circle",{cx:"48",cy:"48",r:"47.1875",stroke:"black",strokeOpacity:"0.3",strokeWidth:"1.625"}),n.createElement("circle",{cx:"47.9999",cy:"48",r:"48.3438",stroke:"url(#paint2_linear_134_226)",strokeWidth:"0.8125"}),n.createElement("circle",{cx:"47.9999",cy:"48",r:"45.0938",stroke:"url(#paint3_linear_134_226)",strokeWidth:"0.8125"}),n.createElement("circle",{cx:"47.9999",cy:"48",r:"41.8438",stroke:"url(#paint4_linear_134_226)",strokeWidth:"0.8125"}),n.createElement("circle",{cx:"47.9999",cy:"48",r:"38.5938",stroke:"url(#paint5_linear_134_226)",strokeWidth:"0.8125"}),n.createElement("circle",{cx:"47.9999",cy:"48",r:"35.3438",stroke:"url(#paint6_linear_134_226)",strokeWidth:"0.8125"}),n.createElement("circle",{cx:"47.9999",cy:"48",r:"32.0938",stroke:"url(#paint7_linear_134_226)",strokeWidth:"0.8125"}),n.createElement("g",{filter:"url(#filter0_f_134_226)"},n.createElement("path",{d:"M47.6379 42.7921L50.2388 118.707L-34.6776 45.6123L47.6379 42.7921Z",fill:"url(#paint8_linear_134_226)"})),n.createElement("g",{filter:"url(#filter1_f_134_226)"},n.createElement("path",{d:"M56.3805 43.3806L56.3805 -32.5788L138.744 43.3806L56.3805 43.3806Z",fill:"url(#paint9_linear_134_226)"}))),n.createElement("defs",null,n.createElement("filter",{id:"filter0_f_134_226",x:"-42.8026",y:"34.6671",width:"101.166",height:"92.1648",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"4.0625",result:"effect1_foregroundBlur_134_226"})),n.createElement("filter",{id:"filter1_f_134_226",x:"48.2555",y:"-40.7038",width:"98.6138",height:"92.2094",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"4.0625",result:"effect1_foregroundBlur_134_226"})),n.createElement("radialGradient",{id:"paint0_radial_134_226",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(48 48) rotate(135) scale(65.7609 27.1741)"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.63"}),n.createElement("stop",{offset:"0.66129",stopColor:"white",stopOpacity:"0.17"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint1_radial_134_226",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(48 48) rotate(135) scale(65.7609 27.1741)"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.63"}),n.createElement("stop",{offset:"0.66129",stopColor:"white",stopOpacity:"0.17"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint2_linear_134_226",x1:"96.7498",y1:"96.75",x2:"-0.750201",y2:"-0.75003",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),n.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),n.createElement("linearGradient",{id:"paint3_linear_134_226",x1:"93.4998",y1:"93.5",x2:"2.49981",y2:"2.49997",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),n.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),n.createElement("linearGradient",{id:"paint4_linear_134_226",x1:"90.2498",y1:"90.25",x2:"5.74982",y2:"5.74997",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),n.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),n.createElement("linearGradient",{id:"paint5_linear_134_226",x1:"86.9998",y1:"87",x2:"8.99983",y2:"8.99997",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),n.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),n.createElement("linearGradient",{id:"paint6_linear_134_226",x1:"83.7498",y1:"83.75",x2:"12.2498",y2:"12.25",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),n.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),n.createElement("linearGradient",{id:"paint7_linear_134_226",x1:"80.4998",y1:"80.5",x2:"15.4998",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),n.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),n.createElement("linearGradient",{id:"paint8_linear_134_226",x1:"11.6492",y1:"45.2351",x2:"48.238",y2:"80.972",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.452124",stopColor:"white",stopOpacity:"0.1"}),n.createElement("stop",{offset:"0.539969",stopColor:"white",stopOpacity:"0.48"}),n.createElement("stop",{offset:"0.635517",stopColor:"white",stopOpacity:"0.1"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint9_linear_134_226",x1:"92.4318",y1:"42.1712",x2:"57.088",y2:"5.20249",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.452124",stopColor:"white",stopOpacity:"0.1"}),n.createElement("stop",{offset:"0.539969",stopColor:"white",stopOpacity:"0.48"}),n.createElement("stop",{offset:"0.635517",stopColor:"white",stopOpacity:"0.1"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function u(){return n.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("circle",{cx:"9.59963",cy:"5.33317",r:"1.06667",fill:"url(#paint0_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"5.33336",r:"1.06667",fill:"url(#paint1_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"5.33356",r:"1.06667",fill:"url(#paint2_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"5.33317",r:"1.06667",fill:"url(#paint3_linear_1808_68900)"}),n.createElement("circle",{cx:"5.334",cy:"9.6002",r:"1.06667",fill:"url(#paint4_linear_1808_68900)"}),n.createElement("circle",{cx:"5.334",cy:"5.33336",r:"1.06667",fill:"url(#paint5_linear_1808_68900)"}),n.createElement("circle",{cx:"1.06667",cy:"9.6",r:"1.06667",fill:"url(#paint6_linear_1808_68900)"}),n.createElement("circle",{cx:"30.9334",cy:"9.6002",r:"1.06667",fill:"url(#paint7_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"9.6002",r:"1.06667",fill:"url(#paint8_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"9.6",r:"1.06667",fill:"url(#paint9_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"9.6002",r:"1.06667",fill:"url(#paint10_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"9.6002",r:"1.06667",fill:"url(#paint11_linear_1808_68900)"}),n.createElement("circle",{cx:"26.6668",cy:"9.6002",r:"1.06667",fill:"url(#paint12_linear_1808_68900)"}),n.createElement("circle",{cx:"26.6668",cy:"5.33317",r:"1.06667",fill:"url(#paint13_linear_1808_68900)"}),n.createElement("circle",{cx:"5.334",cy:"13.8666",r:"1.06667",fill:"url(#paint14_linear_1808_68900)"}),n.createElement("circle",{cx:"1.06667",cy:"13.8666",r:"1.06667",fill:"url(#paint15_linear_1808_68900)"}),n.createElement("circle",{cx:"30.9334",cy:"13.8666",r:"1.06667",fill:"url(#paint16_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"13.8666",r:"1.06667",fill:"url(#paint17_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"13.8666",r:"1.06667",fill:"url(#paint18_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"13.8666",r:"1.06667",fill:"url(#paint19_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"13.8666",r:"1.06667",fill:"url(#paint20_linear_1808_68900)"}),n.createElement("circle",{cx:"26.6668",cy:"13.8666",r:"1.06667",fill:"url(#paint21_linear_1808_68900)"}),n.createElement("circle",{cx:"5.334",cy:"18.1333",r:"1.06667",fill:"url(#paint22_linear_1808_68900)"}),n.createElement("circle",{cx:"1.06667",cy:"18.1333",r:"1.06667",fill:"url(#paint23_linear_1808_68900)"}),n.createElement("circle",{cx:"30.9334",cy:"18.1333",r:"1.06667",fill:"url(#paint24_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"18.1333",r:"1.06667",fill:"url(#paint25_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"18.1333",r:"1.06667",fill:"url(#paint26_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"18.1333",r:"1.06667",fill:"url(#paint27_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"18.1333",r:"1.06667",fill:"url(#paint28_linear_1808_68900)"}),n.createElement("circle",{cx:"26.6668",cy:"18.1333",r:"1.06667",fill:"url(#paint29_linear_1808_68900)"}),n.createElement("circle",{cx:"5.334",cy:"22.3999",r:"1.06667",fill:"url(#paint30_linear_1808_68900)"}),n.createElement("circle",{cx:"5.334",cy:"26.6668",r:"1.06667",fill:"url(#paint31_linear_1808_68900)"}),n.createElement("circle",{cx:"1.06667",cy:"22.3999",r:"1.06667",fill:"url(#paint32_linear_1808_68900)"}),n.createElement("circle",{cx:"30.9334",cy:"22.4001",r:"1.06667",fill:"url(#paint33_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"22.4001",r:"1.06667",fill:"url(#paint34_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"22.3999",r:"1.06667",fill:"url(#paint35_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"22.3999",r:"1.06667",fill:"url(#paint36_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"22.4001",r:"1.06667",fill:"url(#paint37_linear_1808_68900)"}),n.createElement("circle",{cx:"26.6668",cy:"22.4001",r:"1.06667",fill:"url(#paint38_linear_1808_68900)"}),n.createElement("circle",{cx:"26.6668",cy:"26.6668",r:"1.06667",fill:"url(#paint39_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"26.6668",r:"1.06667",fill:"url(#paint40_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"26.6668",r:"1.06667",fill:"url(#paint41_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"26.6668",r:"1.06667",fill:"url(#paint42_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"26.6668",r:"1.06667",fill:"url(#paint43_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"30.9332",r:"1.06667",fill:"url(#paint44_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"30.9334",r:"1.06667",fill:"url(#paint45_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"30.9336",r:"1.06667",fill:"url(#paint46_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"30.9332",r:"1.06667",fill:"url(#paint47_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"1.06672",r:"1.06667",fill:"url(#paint48_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"1.06672",r:"1.06667",fill:"url(#paint49_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"1.06672",r:"1.06667",fill:"url(#paint50_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"1.06672",r:"1.06667",fill:"url(#paint51_linear_1808_68900)"}),n.createElement("defs",null,n.createElement("linearGradient",{id:"paint0_linear_1808_68900",x1:"9.59963",y1:"4.2665",x2:"9.59963",y2:"6.39984",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint1_linear_1808_68900",x1:"13.8667",y1:"4.26669",x2:"13.8667",y2:"6.40003",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint2_linear_1808_68900",x1:"18.1333",y1:"4.26689",x2:"18.1333",y2:"6.40023",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint3_linear_1808_68900",x1:"22.3997",y1:"4.2665",x2:"22.3997",y2:"6.39984",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint4_linear_1808_68900",x1:"5.334",y1:"8.53353",x2:"5.334",y2:"10.6669",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint5_linear_1808_68900",x1:"5.334",y1:"4.26669",x2:"5.334",y2:"6.40003",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint6_linear_1808_68900",x1:"1.06667",y1:"8.53333",x2:"1.06667",y2:"10.6667",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint7_linear_1808_68900",x1:"30.9334",y1:"8.53353",x2:"30.9334",y2:"10.6669",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint8_linear_1808_68900",x1:"9.59963",y1:"8.53353",x2:"9.59963",y2:"10.6669",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint9_linear_1808_68900",x1:"13.8667",y1:"8.53333",x2:"13.8667",y2:"10.6667",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint10_linear_1808_68900",x1:"18.1333",y1:"8.53353",x2:"18.1333",y2:"10.6669",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint11_linear_1808_68900",x1:"22.3997",y1:"8.53353",x2:"22.3997",y2:"10.6669",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint12_linear_1808_68900",x1:"26.6668",y1:"8.53353",x2:"26.6668",y2:"10.6669",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint13_linear_1808_68900",x1:"26.6668",y1:"4.2665",x2:"26.6668",y2:"6.39984",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint14_linear_1808_68900",x1:"5.334",y1:"12.8",x2:"5.334",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint15_linear_1808_68900",x1:"1.06667",y1:"12.8",x2:"1.06667",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint16_linear_1808_68900",x1:"30.9334",y1:"12.8",x2:"30.9334",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint17_linear_1808_68900",x1:"9.59963",y1:"12.8",x2:"9.59963",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint18_linear_1808_68900",x1:"13.8667",y1:"12.8",x2:"13.8667",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint19_linear_1808_68900",x1:"18.1333",y1:"12.8",x2:"18.1333",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint20_linear_1808_68900",x1:"22.3997",y1:"12.8",x2:"22.3997",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint21_linear_1808_68900",x1:"26.6668",y1:"12.8",x2:"26.6668",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint22_linear_1808_68900",x1:"5.334",y1:"17.0666",x2:"5.334",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint23_linear_1808_68900",x1:"1.06667",y1:"17.0666",x2:"1.06667",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint24_linear_1808_68900",x1:"30.9334",y1:"17.0666",x2:"30.9334",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint25_linear_1808_68900",x1:"9.59963",y1:"17.0666",x2:"9.59963",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint26_linear_1808_68900",x1:"13.8667",y1:"17.0666",x2:"13.8667",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint27_linear_1808_68900",x1:"18.1333",y1:"17.0666",x2:"18.1333",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint28_linear_1808_68900",x1:"22.3997",y1:"17.0666",x2:"22.3997",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint29_linear_1808_68900",x1:"26.6668",y1:"17.0666",x2:"26.6668",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint30_linear_1808_68900",x1:"5.334",y1:"21.3333",x2:"5.334",y2:"23.4666",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint31_linear_1808_68900",x1:"5.334",y1:"25.6001",x2:"5.334",y2:"27.7334",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint32_linear_1808_68900",x1:"1.06667",y1:"21.3333",x2:"1.06667",y2:"23.4666",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint33_linear_1808_68900",x1:"30.9334",y1:"21.3334",x2:"30.9334",y2:"23.4668",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint34_linear_1808_68900",x1:"9.59963",y1:"21.3334",x2:"9.59963",y2:"23.4668",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint35_linear_1808_68900",x1:"13.8667",y1:"21.3333",x2:"13.8667",y2:"23.4666",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint36_linear_1808_68900",x1:"18.1333",y1:"21.3333",x2:"18.1333",y2:"23.4666",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint37_linear_1808_68900",x1:"22.3997",y1:"21.3334",x2:"22.3997",y2:"23.4668",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint38_linear_1808_68900",x1:"26.6668",y1:"21.3334",x2:"26.6668",y2:"23.4668",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint39_linear_1808_68900",x1:"26.6668",y1:"25.6001",x2:"26.6668",y2:"27.7334",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint40_linear_1808_68900",x1:"9.59963",y1:"25.6001",x2:"9.59963",y2:"27.7334",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint41_linear_1808_68900",x1:"13.8667",y1:"25.6001",x2:"13.8667",y2:"27.7334",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint42_linear_1808_68900",x1:"18.1333",y1:"25.6001",x2:"18.1333",y2:"27.7334",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint43_linear_1808_68900",x1:"22.3997",y1:"25.6001",x2:"22.3997",y2:"27.7334",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint44_linear_1808_68900",x1:"9.59963",y1:"29.8665",x2:"9.59963",y2:"31.9999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint45_linear_1808_68900",x1:"13.8667",y1:"29.8667",x2:"13.8667",y2:"32.0001",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint46_linear_1808_68900",x1:"18.1333",y1:"29.8669",x2:"18.1333",y2:"32.0003",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint47_linear_1808_68900",x1:"22.3997",y1:"29.8665",x2:"22.3997",y2:"31.9999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint48_linear_1808_68900",x1:"9.59963",y1:"5.34058e-05",x2:"9.59963",y2:"2.13339",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint49_linear_1808_68900",x1:"13.8667",y1:"5.34058e-05",x2:"13.8667",y2:"2.13339",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint50_linear_1808_68900",x1:"18.1333",y1:"5.34058e-05",x2:"18.1333",y2:"2.13339",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint51_linear_1808_68900",x1:"22.3997",y1:"5.34058e-05",x2:"22.3997",y2:"2.13339",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"}))))}function m(){return n.createElement("svg",{width:"45",height:"46",viewBox:"0 0 45 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("circle",{cx:"13.5002",cy:"8",r:"1.5",fill:"url(#paint0_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"8",r:"1.5",fill:"url(#paint1_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"8",r:"1.5",fill:"url(#paint2_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"8",r:"1.5",fill:"url(#paint3_linear_1414_55682)"}),n.createElement("circle",{cx:"7.50049",cy:"14",r:"1.5",fill:"url(#paint4_linear_1414_55682)"}),n.createElement("circle",{cx:"7.50049",cy:"8",r:"1.5",fill:"url(#paint5_linear_1414_55682)"}),n.createElement("circle",{cx:"1.5",cy:"14",r:"1.5",fill:"url(#paint6_linear_1414_55682)"}),n.createElement("circle",{cx:"43.4999",cy:"14",r:"1.5",fill:"url(#paint7_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"14",r:"1.5",fill:"url(#paint8_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"14",r:"1.5",fill:"url(#paint9_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"14.0002",r:"1.5",fill:"url(#paint10_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"14",r:"1.5",fill:"url(#paint11_linear_1414_55682)"}),n.createElement("circle",{cx:"37.5002",cy:"14",r:"1.5",fill:"url(#paint12_linear_1414_55682)"}),n.createElement("circle",{cx:"37.5002",cy:"8",r:"1.5",fill:"url(#paint13_linear_1414_55682)"}),n.createElement("circle",{cx:"7.50049",cy:"20",r:"1.5",fill:"url(#paint14_linear_1414_55682)"}),n.createElement("circle",{cx:"1.5",cy:"20",r:"1.5",fill:"url(#paint15_linear_1414_55682)"}),n.createElement("circle",{cx:"43.4999",cy:"20",r:"1.5",fill:"url(#paint16_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"20",r:"1.5",fill:"url(#paint17_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"20",r:"1.5",fill:"url(#paint18_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"20",r:"1.5",fill:"url(#paint19_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"20",r:"1.5",fill:"url(#paint20_linear_1414_55682)"}),n.createElement("circle",{cx:"37.5002",cy:"20",r:"1.5",fill:"url(#paint21_linear_1414_55682)"}),n.createElement("circle",{cx:"7.50049",cy:"26",r:"1.5",fill:"url(#paint22_linear_1414_55682)"}),n.createElement("circle",{cx:"1.5",cy:"26",r:"1.5",fill:"url(#paint23_linear_1414_55682)"}),n.createElement("circle",{cx:"43.4999",cy:"26",r:"1.5",fill:"url(#paint24_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"26",r:"1.5",fill:"url(#paint25_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"26",r:"1.5",fill:"url(#paint26_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"25.9998",r:"1.5",fill:"url(#paint27_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"26",r:"1.5",fill:"url(#paint28_linear_1414_55682)"}),n.createElement("circle",{cx:"37.5002",cy:"26",r:"1.5",fill:"url(#paint29_linear_1414_55682)"}),n.createElement("circle",{cx:"7.50049",cy:"32",r:"1.5",fill:"url(#paint30_linear_1414_55682)"}),n.createElement("circle",{cx:"7.50049",cy:"38",r:"1.5",fill:"url(#paint31_linear_1414_55682)"}),n.createElement("circle",{cx:"1.5",cy:"32",r:"1.5",fill:"url(#paint32_linear_1414_55682)"}),n.createElement("circle",{cx:"43.4999",cy:"32",r:"1.5",fill:"url(#paint33_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"32",r:"1.5",fill:"url(#paint34_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"32",r:"1.5",fill:"url(#paint35_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"32",r:"1.5",fill:"url(#paint36_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"32",r:"1.5",fill:"url(#paint37_linear_1414_55682)"}),n.createElement("circle",{cx:"37.5002",cy:"32",r:"1.5",fill:"url(#paint38_linear_1414_55682)"}),n.createElement("circle",{cx:"37.5002",cy:"38",r:"1.5",fill:"url(#paint39_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"38",r:"1.5",fill:"url(#paint40_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"38",r:"1.5",fill:"url(#paint41_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"38",r:"1.5",fill:"url(#paint42_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"38",r:"1.5",fill:"url(#paint43_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"44",r:"1.5",fill:"url(#paint44_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"44",r:"1.5",fill:"url(#paint45_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"44",r:"1.5",fill:"url(#paint46_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"44",r:"1.5",fill:"url(#paint47_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"2",r:"1.5",fill:"url(#paint48_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"2",r:"1.5",fill:"url(#paint49_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"2",r:"1.5",fill:"url(#paint50_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"2",r:"1.5",fill:"url(#paint51_linear_1414_55682)"}),n.createElement("defs",null,n.createElement("linearGradient",{id:"paint0_linear_1414_55682",x1:"13.5002",y1:"6.5",x2:"13.5002",y2:"9.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint1_linear_1414_55682",x1:"19.5001",y1:"6.5",x2:"19.5001",y2:"9.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint2_linear_1414_55682",x1:"25.4994",y1:"6.5",x2:"25.4994",y2:"9.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint3_linear_1414_55682",x1:"31.5001",y1:"6.5",x2:"31.5001",y2:"9.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint4_linear_1414_55682",x1:"7.50049",y1:"12.5",x2:"7.50049",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint5_linear_1414_55682",x1:"7.50049",y1:"6.5",x2:"7.50049",y2:"9.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint6_linear_1414_55682",x1:"1.5",y1:"12.5",x2:"1.5",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint7_linear_1414_55682",x1:"43.4999",y1:"12.5",x2:"43.4999",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint8_linear_1414_55682",x1:"13.5002",y1:"12.5",x2:"13.5002",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint9_linear_1414_55682",x1:"19.5001",y1:"12.5",x2:"19.5001",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint10_linear_1414_55682",x1:"25.4994",y1:"12.5002",x2:"25.4994",y2:"15.5002",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint11_linear_1414_55682",x1:"31.5001",y1:"12.5",x2:"31.5001",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint12_linear_1414_55682",x1:"37.5002",y1:"12.5",x2:"37.5002",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint13_linear_1414_55682",x1:"37.5002",y1:"6.5",x2:"37.5002",y2:"9.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint14_linear_1414_55682",x1:"7.50049",y1:"18.5",x2:"7.50049",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint15_linear_1414_55682",x1:"1.5",y1:"18.5",x2:"1.5",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint16_linear_1414_55682",x1:"43.4999",y1:"18.5",x2:"43.4999",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint17_linear_1414_55682",x1:"13.5002",y1:"18.5",x2:"13.5002",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint18_linear_1414_55682",x1:"19.5001",y1:"18.5",x2:"19.5001",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint19_linear_1414_55682",x1:"25.4994",y1:"18.5",x2:"25.4994",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint20_linear_1414_55682",x1:"31.5001",y1:"18.5",x2:"31.5001",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint21_linear_1414_55682",x1:"37.5002",y1:"18.5",x2:"37.5002",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint22_linear_1414_55682",x1:"7.50049",y1:"24.5",x2:"7.50049",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint23_linear_1414_55682",x1:"1.5",y1:"24.5",x2:"1.5",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint24_linear_1414_55682",x1:"43.4999",y1:"24.5",x2:"43.4999",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint25_linear_1414_55682",x1:"13.5002",y1:"24.5",x2:"13.5002",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint26_linear_1414_55682",x1:"19.5001",y1:"24.5",x2:"19.5001",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint27_linear_1414_55682",x1:"25.4994",y1:"24.4998",x2:"25.4994",y2:"27.4998",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint28_linear_1414_55682",x1:"31.5001",y1:"24.5",x2:"31.5001",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint29_linear_1414_55682",x1:"37.5002",y1:"24.5",x2:"37.5002",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint30_linear_1414_55682",x1:"7.50049",y1:"30.5",x2:"7.50049",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint31_linear_1414_55682",x1:"7.50049",y1:"36.5",x2:"7.50049",y2:"39.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint32_linear_1414_55682",x1:"1.5",y1:"30.5",x2:"1.5",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint33_linear_1414_55682",x1:"43.4999",y1:"30.5",x2:"43.4999",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint34_linear_1414_55682",x1:"13.5002",y1:"30.5",x2:"13.5002",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint35_linear_1414_55682",x1:"19.5001",y1:"30.5",x2:"19.5001",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint36_linear_1414_55682",x1:"25.4994",y1:"30.5",x2:"25.4994",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint37_linear_1414_55682",x1:"31.5001",y1:"30.5",x2:"31.5001",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint38_linear_1414_55682",x1:"37.5002",y1:"30.5",x2:"37.5002",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint39_linear_1414_55682",x1:"37.5002",y1:"36.5",x2:"37.5002",y2:"39.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint40_linear_1414_55682",x1:"13.5002",y1:"36.5",x2:"13.5002",y2:"39.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint41_linear_1414_55682",x1:"19.5001",y1:"36.5",x2:"19.5001",y2:"39.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint42_linear_1414_55682",x1:"25.4994",y1:"36.5",x2:"25.4994",y2:"39.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint43_linear_1414_55682",x1:"31.5001",y1:"36.5",x2:"31.5001",y2:"39.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint44_linear_1414_55682",x1:"13.5002",y1:"42.5",x2:"13.5002",y2:"45.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint45_linear_1414_55682",x1:"19.5001",y1:"42.5",x2:"19.5001",y2:"45.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint46_linear_1414_55682",x1:"25.4994",y1:"42.5",x2:"25.4994",y2:"45.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint47_linear_1414_55682",x1:"31.5001",y1:"42.5",x2:"31.5001",y2:"45.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint48_linear_1414_55682",x1:"13.5002",y1:"0.5",x2:"13.5002",y2:"3.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint49_linear_1414_55682",x1:"19.5001",y1:"0.5",x2:"19.5001",y2:"3.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint50_linear_1414_55682",x1:"25.4994",y1:"0.5",x2:"25.4994",y2:"3.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint51_linear_1414_55682",x1:"31.5001",y1:"0.5",x2:"31.5001",y2:"3.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"}))))}var p=a(346124),_=a(563706),f=a(737499);let h="tonearm-svg--tonearmBottom--3JC--";function g(e){let{onTonearmHeadMouseDown:t}=e;return n.createElement("svg",{width:"27",height:"80",viewBox:"0 0 27 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M18.7042 8.19556C18.7042 8.19556 18.7042 34.7407 18.7042 47.6641C18.7042 60.5876 13.9589 64.9213 13.9589 64.9213",stroke:"black",strokeOpacity:"0.2",strokeWidth:"5.33844",strokeLinecap:"round"}),n.createElement("g",{filter:"url(#filter0_dii_242_919)"},n.createElement("path",{d:"M18.7042 8.19556C18.7042 8.19556 18.7042 34.7407 18.7042 47.6641C18.7042 60.5876 13.9589 64.9213 13.9589 64.9213",stroke:"white",strokeWidth:"4.15212",strokeLinecap:"round"})),n.createElement("g",{filter:"url(#filter1_d_242_919)"},n.createElement("rect",{x:"14",y:"2",width:"9.49057",height:"11.8632",fill:"url(#paint0_linear_242_919)"}),n.createElement("rect",{x:"14.2966",y:"2.29658",width:"8.89741",height:"11.27",stroke:"black",strokeOpacity:"0.2",strokeWidth:"0.59316"})),n.createElement("g",{filter:"url(#filter2_d_242_919)",onMouseDown:t,className:h},n.createElement("g",{filter:"url(#filter3_iii_242_919)"},n.createElement("path",{d:"M9.30333 62.425C9.93167 61.6761 11.0481 61.5785 11.7969 62.2068L16.3554 66.0318C17.1042 66.6601 17.2019 67.7766 16.5735 68.5254L10.4596 75.8116C9.8313 76.5604 8.71489 76.6581 7.96606 76.0298L7.14087 75.3374L4.23279 72.8972L3.40761 72.2048C2.65878 71.5764 2.56111 70.46 3.18945 69.7112L9.30333 62.425Z",fill:"#E9E9E9"})),n.createElement("path",{d:"M16.546 65.8046L11.9876 61.9796C11.1132 61.246 9.80976 61.36 9.07614 62.2343L2.96225 69.5206C2.22863 70.3949 2.34267 71.6984 3.21697 72.432L4.04216 73.1244L6.95024 75.5646L7.77542 76.257C8.64972 76.9906 9.95321 76.8766 10.6868 76.0023L16.8007 68.716C17.5343 67.8417 17.4203 66.5382 16.546 65.8046Z",stroke:"black",strokeOpacity:"0.25",strokeWidth:"0.59316"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_dii_242_919",x:"9.51017",y:"3.74674",width:"13.6427",height:"65.6232",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"1.18632"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"1.18632"}),n.createElement("feGaussianBlur",{stdDeviation:"0.415212"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0.5 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_242_919"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"-1.18632"}),n.createElement("feGaussianBlur",{stdDeviation:"0.415212"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0.5 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_242_919",result:"effect3_innerShadow_242_919"})),n.createElement("filter",{id:"filter1_d_242_919",x:"11.3451",y:"0.672526",width:"14.8005",height:"17.1732",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"1.32747"}),n.createElement("feGaussianBlur",{stdDeviation:"1.32747"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"})),n.createElement("filter",{id:"filter2_d_242_919",x:"0.412163",y:"60.3145",width:"18.9386",height:"19.3776",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"0.884983"}),n.createElement("feGaussianBlur",{stdDeviation:"0.884983"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"})),n.createElement("filter",{id:"filter3_iii_242_919",x:"1.29715",y:"60.3145",width:"16.8768",height:"17.3158",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"2.37264"}),n.createElement("feGaussianBlur",{stdDeviation:"0.29658"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.86 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_242_919"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"1.77948",dy:"1.77948"}),n.createElement("feGaussianBlur",{stdDeviation:"0.29658"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.8 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_innerShadow_242_919",result:"effect2_innerShadow_242_919"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"-0.884983",dy:"-0.884983"}),n.createElement("feGaussianBlur",{stdDeviation:"0.884983"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_242_919",result:"effect3_innerShadow_242_919"})),n.createElement("linearGradient",{id:"paint0_linear_242_919",x1:"14",y1:"7.9316",x2:"23.4906",y2:"7.9316",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#CACACA"}),n.createElement("stop",{offset:"0.253125",stopColor:"#E2E2E2"}),n.createElement("stop",{offset:"0.384375",stopColor:"#F3F3F3"}),n.createElement("stop",{offset:"0.500704",stopColor:"white"}),n.createElement("stop",{offset:"0.625",stopColor:"#F3F3F3"}),n.createElement("stop",{offset:"0.753125",stopColor:"#E2E2E2"}),n.createElement("stop",{offset:"1",stopColor:"#CACACA"}))))}function E(e){let{onTonearmHeadMouseDown:t}=e;return n.createElement("svg",{width:"24",height:"72",viewBox:"0 0 24 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M16.8776 7.53516C16.8776 7.53516 16.8776 31.2514 16.8776 42.7976C16.8776 54.3438 12.6379 58.2157 12.6379 58.2157",stroke:"black",strokeOpacity:"0.2",strokeWidth:"4.76953",strokeLinecap:"round"}),n.createElement("g",{filter:"url(#filter0_dii_254_922)"},n.createElement("path",{d:"M16.8776 7.53516C16.8776 7.53516 16.8776 31.2514 16.8776 42.7976C16.8776 54.3438 12.6379 58.2157 12.6379 58.2157",stroke:"white",strokeWidth:"3.70964",strokeLinecap:"round"})),n.createElement("g",{filter:"url(#filter1_d_254_922)"},n.createElement("rect",{x:"12.675",y:"2",width:"8.47917",height:"10.599",fill:"url(#paint0_linear_254_922)"}),n.createElement("rect",{x:"12.94",y:"2.26497",width:"7.94922",height:"10.069",stroke:"black",strokeOpacity:"0.2",strokeWidth:"0.529948"})),n.createElement("g",{filter:"url(#filter2_d_254_922)",onMouseDown:t,className:h},n.createElement("g",{filter:"url(#filter3_iii_254_922)"},n.createElement("path",{d:"M8.4789 55.9858C9.04027 55.3168 10.0377 55.2295 10.7067 55.7909L14.7794 59.2082C15.4484 59.7696 15.5357 60.7671 14.9743 61.4361L9.51198 67.9459C8.9506 68.6149 7.95316 68.7021 7.28414 68.1408L6.54689 67.5221L3.94872 65.342L3.21147 64.7234C2.54245 64.162 2.45518 63.1646 3.01656 62.4955L8.4789 55.9858Z",fill:"#E9E9E9"})),n.createElement("path",{d:"M14.9497 59.0053L10.8771 55.5879C10.0959 54.9325 8.93136 55.0343 8.27591 55.8155L2.81358 62.3252C2.15814 63.1064 2.26002 64.2709 3.04115 64.9264L3.7784 65.545L6.37657 67.7251L7.11382 68.3437C7.89494 68.9992 9.05952 68.8973 9.71496 68.1162L15.1773 61.6064C15.8327 60.8253 15.7309 59.6607 14.9497 59.0053Z",stroke:"black",strokeOpacity:"0.25",strokeWidth:"0.529948"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_dii_254_922",x:"8.66341",y:"3.56051",width:"12.1888",height:"58.6298",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"1.0599"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_254_922"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_254_922",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"1.0599"}),n.createElement("feGaussianBlur",{stdDeviation:"0.370964"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0.5 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_254_922"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"-1.0599"}),n.createElement("feGaussianBlur",{stdDeviation:"0.370964"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0.5 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_254_922",result:"effect3_innerShadow_254_922"})),n.createElement("filter",{id:"filter1_d_254_922",x:"10.303",y:"0.813993",width:"13.2233",height:"15.343",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"1.18601"}),n.createElement("feGaussianBlur",{stdDeviation:"1.18601"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_254_922"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_254_922",result:"shape"})),n.createElement("filter",{id:"filter2_d_254_922",x:"0.535357",y:"54.1002",width:"16.9203",height:"17.3126",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"0.790671"}),n.createElement("feGaussianBlur",{stdDeviation:"0.790671"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_254_922"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_254_922",result:"shape"})),n.createElement("filter",{id:"filter3_iii_254_922",x:"1.32603",y:"54.1002",width:"15.0782",height:"15.4705",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"2.11979"}),n.createElement("feGaussianBlur",{stdDeviation:"0.264974"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.86 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_254_922"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"1.58984",dy:"1.58984"}),n.createElement("feGaussianBlur",{stdDeviation:"0.264974"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.8 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_innerShadow_254_922",result:"effect2_innerShadow_254_922"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"-0.790671",dy:"-0.790671"}),n.createElement("feGaussianBlur",{stdDeviation:"0.790671"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_254_922",result:"effect3_innerShadow_254_922"})),n.createElement("linearGradient",{id:"paint0_linear_254_922",x1:"12.675",y1:"7.29948",x2:"21.1542",y2:"7.29948",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#CACACA"}),n.createElement("stop",{offset:"0.253125",stopColor:"#E2E2E2"}),n.createElement("stop",{offset:"0.384375",stopColor:"#F3F3F3"}),n.createElement("stop",{offset:"0.500704",stopColor:"white"}),n.createElement("stop",{offset:"0.625",stopColor:"#F3F3F3"}),n.createElement("stop",{offset:"0.753125",stopColor:"#E2E2E2"}),n.createElement("stop",{offset:"1",stopColor:"#CACACA"}))))}function y(e){let{onPause:t,onResume:a}=e,[l,o]=n.useState(null),s=n.useRef(0),c=n.useRef(0),d=(0,r.d4)(e=>e.music?.music?.isPaused),u=(0,f.F4)(),m=u?.shouldOptimizeForIpadApp||_.Ay.isIpad,h=n.useCallback(e=>{if(!1===d){let t=e.clientX;o(22-22*((0,p.clamp)(t-s.current,0,21)/21))}else{let t=e.clientX;o(22*((0,p.clamp)(s.current-t,0,21)/21))}},[d,22,21]),y=n.useCallback(e=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",y);let n=!1===d;if(Date.now()-c.current<100)n?t():a();else if(n){let a=e.clientX;(0,p.clamp)(a-s.current,0,21)>10.5&&t()}else{let t=e.clientX;(0,p.clamp)(s.current-t,0,21)>10.5&&a()}s.current=0,o(null)},[h,d,t,a]),v=e=>{s.current=e.clientX,c.current=Date.now(),document.addEventListener("mousemove",h),document.addEventListener("mouseup",y)},b=null!=l?l:!1===d?22:0;return n.createElement("div",{className:i()({"tonearm--tonearmStandalone--UOmob":"timedjam"===e.tonearmType,"tonearm--tonearmPanel--KyeLs tonearm--tonearmStandalone--UOmob":"panel"===e.tonearmType}),style:{transform:`rotate(${b}deg)`,transition:null!=l?"transform 0.1s linear":"transform 0.3s ease-in-out"}},"panel"===e.tonearmType?n.createElement(E,{onTonearmHeadMouseDown:m?void 0:v}):n.createElement(g,{onTonearmHeadMouseDown:m?void 0:v}))}var v=a(649958);let b="turntable--gray--OY0Du";var C=a(258873);function w(e){let{handlePause:t,handleTonearmResume:a,size:r="large",grayCoverArtWhenPaused:l,withoutBorder:o}=e;return n.createElement("div",{className:i()("turntable--recordPlayerBase--WG5CH",{"turntable--recordBaseSmall--ZpHXz":"small"===r,"turntable--withoutBorder--28x4E":o})},n.createElement(T,{handlePause:t,handleTonearmResume:a,size:e.size,grayCoverArtWhenPaused:l}),n.createElement("div",{className:"turntable--speakerGrill--DXQjl"},"small"===e.size?n.createElement(u,null):n.createElement(m,null)))}function T(e){let{handlePause:t,handleTonearmResume:a,size:r,grayCoverArtWhenPaused:l}=e;return n.createElement("div",{className:i()("turntable--recordPlayer--0aMTu",{"turntable--recordPlayerSmall--tE3FI":"small"===r})},n.createElement(S,{size:r,grayCoverArtWhenPaused:l}),n.createElement(y,{onPause:t,onResume:a,tonearmType:"small"===r?"panel":"timedjam"}))}function S(e){let{size:t,maskAlbumArtWhenPaused:a,maskRef:r,useGrayMask:l,grayCoverArtWhenPaused:o,useLightShadow:s}=e,c=(0,v.k0)()&&!!a;return n.createElement("div",{className:i()("turntable--record--96NxV",{"turntable--xsmall--eqtGp":"xsmall"===t,"turntable--small--b8Qni":"small"===t,"turntable--large--oXtu6":"large"===t})},n.createElement(d,{useLightShadow:s}),n.createElement(N,{size:t,showMask:c,maskRef:r,useGrayMask:l,grayCoverArtWhenPaused:o}))}function N(e){let t=(0,r.d4)(e=>e.music.music),a=t?.selectedSongID||"",l=(0,c.N)(a),d=(0,v.fk)(),u=l&&l.album_art;return(0,s.p8)("showUi")?n.createElement("div",{className:i()("turntable--spinningAlbum--N7jwa",{"turntable--spinningAlbumXSmall--vzhVj":"xsmall"===e.size,"turntable--spinningAlbumSmall--d-AJf":"small"===e.size,"turntable--spinningAlbumLarge--SWUZ2":"large"===e.size})},u&&n.createElement("img",{className:i()("turntable--spinningAlbumImage--H-qwO",{"turntable--spinningAlbumPlaying--UDk-I":t?.isPaused===!1,[b]:e.grayCoverArtWhenPaused&&!d}),src:l.album_art,alt:"spinning album art"}),n.createElement("div",{ref:e.maskRef,className:i()("turntable--spinningAlbumImageMask--PZ7Cr turntable--spinningAlbumImage--H-qwO",{"turntable--noOpacity--ZKZnl":!e.showMask,[b]:e.useGrayMask})},n.createElement(o.B,{className:"turntable--maskIcon--mZo9b",svg:C.A}))):null}},322907:(e,t,a)=>{a.d(t,{k$:()=>w,p0:()=>T,qT:()=>C,ZP:()=>y,sD:()=>v});var n=a(411855),r=a(629019),l=a.n(r),i=a(374626),o=a(563706),s=a(913016),c=a(939863),d=a(728406),u=a(68517),m=a(802174);let p="time_display--xsmall--RksCd",_="time_display--medium--bxQbL",f="time_display--large--nQrfq",h="time_display--xlarge--HRGrX",g="time_display--clockStyleWrapper--TN05b",E="time_display--timeDiv--Y0hTB";var y=(e=>(e.XSMALL="xsmall",e.MEDIUM="medium",e.LARGE="large",e.XLARGE="xlarge",e))(y||{}),v=(e=>(e.DEFAULT="DEFAULT",e.SECONDARY="SECONDARY",e.TERTIARY="TERTIARY",e))(v||{});let b=({minutesRef:e,disabled:t})=>{n.useLayoutEffect(()=>{t||(e.current?.focus(),e.current?.select())},[t,e])};function C({timerActions:e,timerState:t,isStopped:a,withoutUnderline:r,withoutClockDisplay:l,isInUI3Toolbar:i,size:s="medium"}){let c=(0,m.M2)(e,t);return b({minutesRef:c.minutesRef,disabled:o.Ay.isMeetDevice}),n.createElement(n.Fragment,null,a?n.createElement(S,{timerState:t,timerEventHandlers:c,withoutUnderline:r,withoutClockDisplay:l,size:s}):n.createElement(w,{withoutUnderline:r,withoutClockDisplay:l,size:s,isInUI3Toolbar:i}))}function w(e){let{withoutUnderline:t,withoutClockDisplay:a,withoutTimeShadow:r,withoutFlashOnPause:l,size:o,isSelected:s,prominence:c,timeDivRef:m,isInUI3Toolbar:p}=e,_=(0,i.md)(u.jo),f=(0,i.md)(u.Ld);return n.createElement(T,{timeInSeconds:f,withoutUnderline:t,withoutClockDisplay:a,withoutTimeShadow:r,flashing:(0,d.CM)(_.time)&&!l,size:o,isSelected:s,prominence:c,timeDivRef:m,isInUI3Toolbar:p})}function T(e){let{timeInSeconds:t,withoutUnderline:a,withoutClockDisplay:r,withoutTimeShadow:i,flashing:o,size:c,isSelected:u,prominence:m,timeDivRef:y,isInUI3Toolbar:v}=e,{seconds:b,minutes:C}=(0,s._d)(t);return n.createElement("div",{className:l()({[g]:!r})},n.createElement("div",{ref:y,className:l()(E,{[p]:"xsmall"===c,[_]:"medium"===c,[f]:"large"===c,[h]:"xlarge"===c,"time_display--selected--Idl4y":u,"time_display--secondary--r44Yf":"SECONDARY"===m,"time_display--tertiary--oyx7n":"TERTIARY"===m,"time_display--inUI3Toolbar--SFjvm":v})},!r&&!i&&n.createElement(N,{size:c,withoutUnderline:a}),n.createElement("div",{className:l()("time_display--timeDisplay--MuaRS",{"time_display--flashing--1Hw1m":o,[p]:"xsmall"===c,[_]:"medium"===c,[f]:"large"===c,[h]:"xlarge"===c})},n.createElement(x,{isMinute:!0,size:c,value:(0,d.YI)(C),displayOnly:!0}),":",n.createElement(x,{size:c,value:(0,d.YI)(b),displayOnly:!0}))))}function S({timerState:e,timerEventHandlers:t,withoutUnderline:a,withoutClockDisplay:r,size:i}){let{handleMinutesChange:o,handleMinutesKeyDown:s,handleMinutesBlur:c,handleMinutesFocus:d,handleSecondsChange:u,handleSecondsKeyDown:m,handleSecondsBlur:p,handleSecondsFocus:y,secondsRef:v,minutesRef:b}=t;return n.createElement(n.Fragment,null,n.createElement("div",{className:l()({[g]:!r})},n.createElement("div",{className:l()(E,{[_]:"medium"===i,[f]:"large"===i,[h]:"xlarge"===i})},n.createElement(N,{size:i,withoutUnderline:a}),n.createElement("div",null,n.createElement(x,{ref:b,onFocus:d,onChange:o,onKeyDown:s,onBlur:c,value:e.minutes,size:i,isMinute:!0}),":",n.createElement(x,{ref:v,onChange:u,onFocus:y,onKeyDown:m,onBlur:p,value:e.seconds,size:i})))))}function N(e){return n.createElement("div",{className:l()("time_display--timeShadow--dyosl",{[p]:"xsmall"===e.size,[_]:"medium"===e.size,[f]:"large"===e.size,[h]:"xlarge"===e.size})},n.createElement(x,{isMinute:!0,size:e.size,value:88,displayOnly:!0}),":",n.createElement(x,{size:e.size,value:88,displayOnly:!0}),!e.withoutUnderline&&n.createElement("div",{className:"time_display--timeInputUnderline--4Gxkr"}))}let x=n.forwardRef((e,t)=>{let{size:a,isMinute:r,onFocus:i,onChange:o,onKeyDown:s,onBlur:d,value:u,displayOnly:m}=e,g=l()("time_display--timeInput--4Evh3",{"time_display--minute--Q8e3H":r,[p]:"xsmall"===a,[_]:"medium"===a,[f]:"large"===a,[h]:"xlarge"===a});return m?n.createElement("span",{className:g,"data-testid":"stopped-time"},u):n.createElement("input",{maxLength:2,type:"text",inputMode:"numeric",ref:t,onFocus:i,onChange:o,onKeyDown:s,onBlur:d,className:g,value:u,"aria-label":r?(0,c.t)("whiteboard.timer.minutes.aria_label"):(0,c.t)("whiteboard.timer.seconds.aria_label")})});x.displayName="TwoDigitTimeInput"},802174:(e,t,a)=>{a.d(t,{Jg:()=>U,M2:()=>P,OI:()=>N,YO:()=>H,ey:()=>G,rJ:()=>S});var n=a(411855),r=a(188507),l=a(179479),i=a(966712),o=a(374626),s=a(286640),c=a(244673),d=a(974105),u=a(857766),m=a(283942),p=a(335682),_=a(860178),f=a(960628),h=a(247014),g=a(951840),E=a(728406),y=a(68517);let v=null,b=null,C=null,w=()=>(0,r.d4)(e=>e.music.playerInstance),T=()=>1e3;function S(){let[e,t]=n.useState({}),a=(0,r.d4)(e=>e.timer);n.useEffect(()=>{if(!a||!a.time||a?.time?.isPaused)return;let e=setTimeout(()=>t({}),T());return()=>{clearTimeout(e)}},[e,a,a.time?.isPaused])}function N(){let e=(0,r.d4)(e=>e.timer),t=(0,r.d4)(e=>(0,d.d1)(e)),a=(0,r.d4)(e=>t?(0,u.L8)(t,e.repos):null),n=Math.ceil((0,E.P$)(e.time)/1e3);n>0?(0,c.rF)(t,a,n):(0,c.rF)(t,a)}let x=()=>{C&&C.pause(),v&&v.pause(),b&&b.pause(),v=new Audio(L),b=new Audio(A),C=new Audio(I)},k=(e,t,a,n,r,l)=>{if(!a.current||!e)return;let i=(0,E.P$)(a.current.time);if("add-minutes"===e.lastAction.type){if(v&&v.pause(),l.current?.resetFades(),l.current?.fadeIn({}),!a.current.time||0===a.current.time.totalTimeMs)return;let n=6e4*e.lastAction.minutes;a.current.time&&i+n<E.y0&&t(c.VV({timer:a.current.time,deltaMs:n}))}"start-timer"===e.lastAction.type&&((0,s.DN)().set("last-timer-set-time",e.lastUsedTime),t(c.Qv({totalTimeMs:1e3*e.lastUsedTime,musicStartTimeMs:a.current.musicStartTimeMs})),C&&n.current&&!r.current&&e.lastUsedTime>5&&(0,E.PF)(C,n.current)),"pause-timer"===e.lastAction.type&&t(c._1(a.current.time)),"resume-timer"===e.lastAction.type&&t(c.ne(a.current.time)),"stop-timer"===e.lastAction.type&&(x(),t(c.Vk()))},I="https://static.figma.com/uploads/304a1a341a619feb4af7d377c75dd325534e1734",A="https://static.figma.com/uploads/f45e11344ee4f618173695e2405a9a988affc910",L="https://static.figma.com/uploads/54a944bea3fce3ca45c91429993683685bec5782",O=()=>{n.useEffect(()=>{null===C&&(C=new Audio(I)),null===b&&(b=new Audio(A)),null===v&&(v=new Audio(L))},[])},R=e=>{let t=(0,l.F)(e),a=(0,r.wA)(),i=(0,r.d4)(e=>e.timer),o=(0,l.F)(i),s=(0,l.F)((0,r.d4)(e=>e.timer.volume)),c=(0,l.F)((0,r.d4)(e=>e.timer.isMuted)),d=(0,l.F)(w());n.useEffect(()=>{k(e,a,o,s,c,d)},[t,a,c,d,o,e,s])},M=()=>{let e=(0,r.wA)(),t=(0,l.F)((0,r.d4)(e=>e.timer.volume)),a=(0,l.F)((0,r.d4)(e=>e.timer.setBy)),i=(0,l.F)((0,_.iZ)()),o=(0,l.F)((0,r.d4)(e=>e.timer.isMuted)),s=(0,l.F)(w()),d=(0,r.d4)(e=>e.music.music);return{callbackToRunAtFiveSecondsLeft:n.useCallback((a,n)=>{a.current&&v?.paused&&!o.current&&(s.current&&s.current.fadeOut({fadeOutLength:5e3,shouldStopWhenFadedOut:!0,targetVolumeMultiplier:0}),(0,E.PF)(v,t.current)),n.current||e(c.lu({state:"open",userInitiated:!1}))},[e,o,s,t]),callbackToRunWhenTimerFinishes:n.useCallback((a,n)=>{v&&v.pause(),a.current&&b&&!o.current&&(0,E.PF)(b,t.current),f.d1.timerChange("timerdone"),n.current||e(c.lu({state:"open",userInitiated:!1}))},[e,o,t]),callbackToRunAfterAnimationFinishes:n.useCallback(t=>{if(d&&e(c.c$(d)),"visible"===document.visibilityState)e(c.Vk()),t({type:"reset-state"}),a.current!==i.current?.name&&e(c.lu({state:"closed",userInitiated:!1}));else{let t=()=>{e(c.lu({state:"open",userInitiated:!1})),window.removeEventListener("focus",t)};window.addEventListener("focus",t)}x(),s.current?.resetFades()},[i,e,d,a,s])}},D=e=>{let t=(0,r.wA)(),a=(0,r.d4)(e=>e.timer.time),i=(0,l.F)((0,r.d4)(e=>e.timer.audioEnabled)),o=(0,l.F)((0,r.d4)(e=>e.timer&&"open"===e.timer.modalState)),s=(0,l.F)((0,r.d4)(e=>e.timer.volume)),c=(0,l.F)(w()),d=(0,r.d4)(e=>e.timer.isMuted),u=!a||a.isPaused,m=(0,r.d4)(e=>e.music.music?.isPaused),{callbackToRunAtFiveSecondsLeft:p,callbackToRunWhenTimerFinishes:_,callbackToRunAfterAnimationFinishes:f}=M();n.useEffect(()=>{if(u){v&&v.pause(),!1===m&&c.current?.fadeIn({fadeInLength:1e3});return}let t=(0,E.P$)(a);t<5e3&&i.current&&v?.paused&&!d&&(0,E.PF)(v,s.current),v&&(v.muted=d),t>5e3&&v&&(v.pause(),c.current?.resetFades(),c.current?.fadeIn({}));let n=[];return t>5e3&&n.push(window.setTimeout(()=>p(i,o),t-5e3)),n.push(window.setTimeout(()=>_(i,o),t)),n.push(window.setTimeout(()=>f(e),t+E.cu)),()=>{n.forEach(clearTimeout)}},[a,u,t,e,_,f,p,o,s,i,c,d,m])};function P(e,t){let{setMinutes:a,setSeconds:l,startTimer:i,setTime:o,addMinutes:s}=e,d=n.useRef(null),u=n.useRef(null),p=(0,r.wA)(),_=n.useCallback(e=>{if(!e.currentTarget.value.match(/^[0-9]?[0-9]?$/)){e.preventDefault();return}a(e.currentTarget.value),e.currentTarget.value.length>1&&u.current?.select()},[u,a]),f=n.useCallback(e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key)isNaN(parseInt(e.currentTarget.value))||(s(("ArrowUp"===e.key?1:-1)*(e.shiftKey?5:1)),setTimeout(()=>d.current?.select(),0),e.preventDefault());else if("ArrowRight"===e.key&&d.current){if(d.current.selectionStart===d.current.value.length&&u.current){u.current.select(),e.preventDefault();return}}else if("Enter"===e.key)i();else if("Escape"===e.key){p(c.lu({state:"closed",userInitiated:!0,source:"keyboard"}));return}else if(":"===e.key){u.current?.select(),e.preventDefault();return}else(0,m.jr)(e)},[s,p,i]),h=n.useCallback(()=>{if(!d.current)return;let e=d.current.value;0===e.length?a("00"):e.length<2?a(`0${e}`):a(e)},[d,a]),g=n.useCallback(()=>{d.current?.select()},[d]),y=n.useCallback(e=>{if(!e.currentTarget.value.match(/^[0-9]?[0-9]?$/)){e.preventDefault();return}let a=parseInt(e.currentTarget.value);a>59&&"99"!==t.minutes?(a-=60,o((0,E.YI)(parseInt(t.minutes)+1),(0,E.YI)(a))):a>59?l((0,E.YI)(59)):(a<60||isNaN(a))&&l(e.currentTarget.value)},[l,o,t.minutes]);return{handleMinutesChange:_,handleMinutesKeyDown:f,handleMinutesBlur:h,handleMinutesFocus:g,handleSecondsChange:y,handleSecondsKeyDown:n.useCallback(e=>{let n;if("ArrowLeft"===e.key&&u.current){if(0===u.current.selectionEnd&&d.current){d.current.select(),e.preventDefault();return}}else if("Enter"===e.key){""!==t.minutes&&""!==t.seconds&&parseInt(t.minutes)+parseInt(t.seconds)!==0&&i();return}else if("Escape"===e.key){p(c.lu({state:"closed",userInitiated:!0,source:"keyboard"}));return}else if(u.current?.value===""&&"Backspace"===e.key&&d.current?.value){a(d.current.value.substring(0,d.current.value.length-1)||"0"),d.current.focus(),e.preventDefault();return}if((0,m.jr)(e)||"ArrowUp"!==e.key&&"ArrowDown"!==e.key)return;let r=parseInt(t.seconds);if(!isNaN(r)){if("ArrowUp"===e.key){if((r+=e.shiftKey?5:1)>59&&"99"===t.minutes)return;r>=60&&(r-=60,n=1)}else if("ArrowDown"===e.key&&(r-=e.shiftKey?5:1)<0){if(0===parseInt(t.minutes))return;n=-1,r+=60}setTimeout(()=>u.current?.select(),0),e.preventDefault(),n?o((0,E.YI)(parseInt(t.minutes)+n),(0,E.YI)(r)):l((0,E.YI)(r))}},[p,d,u,a,l,o,i,t.minutes,t.seconds]),handleSecondsBlur:n.useCallback(()=>{l((0,E.YI)(parseInt(t.seconds||"00")))},[l,t.seconds]),handleSecondsFocus:n.useCallback(()=>{u.current?.select()},[u]),secondsRef:u,minutesRef:d}}let F=(e,t)=>{n.useEffect(()=>{e.length>0&&e.forEach(e=>{e&&(e.volume=t/100)})},[e,t])},B=e=>{let t=(0,p.q5)(),a=(0,r.d4)(e=>e.multiplayer.allUsers.length),l=n.useRef(a);return l.current=a,n.useCallback(()=>{(0,i.kc)().workspace_activity_write&&t&&t.team&&t.team.workspaceId&&g.i.recordActivity({activityUnitType:h.qj.FILE_COLLABORATION,fileKey:t.key,collaborationType:h.Uz.TIMER_STARTED,numPeopleInFile:l.current}),e({type:"start-timer"})},[e,t,l])};function U(){let[e,t]=(0,o.fp)(y.$),a=(0,r.d4)(e=>e.timer.volume),i=(0,l.F)((0,r.d4)(e=>e.timer.volume)),s=(0,l.F)((0,r.d4)(e=>e.timer.isMuted)),c=n.useRef(e.lastUsedTime),d=B(t);return[e,n.useMemo(()=>({setMinutes:e=>t({type:"set-minutes",minutes:e}),setSeconds:e=>t({type:"set-seconds",seconds:e}),setTime:(e,a)=>t({type:"set-time",minutes:e,seconds:a}),addMinutes:e=>t({type:"add-minutes",minutes:e}),startTimer:d,stopTimer:()=>t({type:"stop-timer"}),pauseTimer:()=>t({type:"pause-timer"}),resumeTimer:()=>t({type:"resume-timer"}),playStartChime:()=>{C&&i.current&&!s.current&&c.current>5&&(0,E.PF)(C,a)}}),[i,s,a,t,d])]}function H(){O();let[e,t]=(0,o.fp)(y.$),a=(0,r.d4)(e=>e.timer.volume);D(t),R(e),F([v,C,b],a)}function G(e){let t=(0,r.wA)(),a=(0,r.d4)(e=>e.timer);n.useEffect(()=>{!1!==a.startChimePlayed||(0,E.IQ)(a.time)||(0,E.CM)(a.time)||(0,E.G8)(a.time)||(e(),t(c.k1(!0)))},[t,e,a.startChimePlayed,a.time])}},136068:(e,t,a)=>{a.d(t,{s1:()=>w,aY:()=>T,nh:()=>b,J:()=>y});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(602126),s=a(860601),c=a(939863),d=a(244673),u=a(498606),m=a(227795),p=a(728406),_=a(304298),f=a(99351),h=a(466811),g=a(311986),E=a(10448),y=(e=>(e.DEFAULT="default",e.ON_FIGJAM="onFigjam",e.FIGJAM="figjam",e))(y||{});let v=(e,t)=>t||0===e?E.A:e<40?h.A:e<80?g.A:f.A;var b=(e=>(e.DEFAULT="default",e.LARGE="large",e))(b||{});function C(e){let{isMinimized:t,withDarkHoverBg:a,muteButtonRef:l,muteOnTouch:o,iconColor:p,blockTooltip:_,size:f}=e,h=(0,r.d4)(e=>e.music.volume),g=(0,r.d4)(e=>e.music.isMuted),E=(0,r.wA)(),y=n.useCallback(()=>{E(d.tk({isMuted:!g,userInitiated:!0}))},[E,g]),b=n.useCallback(e=>{e.preventDefault(),e.stopPropagation(),y()},[y]);return n.createElement("div",{onTouchEnd:o?b:s.lQ},n.createElement(m.K0,{onClick:y,className:i()("volume_control_button--button--6JyR-",{"volume_control_button--minimized--esj8w":t,"volume_control_button--withDarkHoverBg--p-OS1":a,"volume_control_button--defaultSpeakerColor--ZF9o2":"default"===p,"volume_control_button--figjamSpeakerColor--0W5TO":"figjam"===p,"volume_control_button--onFigjamSpeakerColor--KEcX8":"onFigjam"===p,"volume_control_button--large--BF5Mq":"large"===f}),svg:v(h,g),"data-tooltip-type":u.Ib.TEXT,tooltipForScreenReadersOnly:_,"data-tooltip":g?(0,c.t)("whiteboard.timer.timer_unmute_tooltip"):(0,c.t)("whiteboard.timer.timer_mute_tooltip"),"data-tooltip-show-above":!0,ref:l}))}var w=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.ALWAYS=1]="ALWAYS",e[e.NEVER=2]="NEVER",e))(w||{});function T({volumeJustification:e,sliderVisibilitySetting:t,sliderFullWidth:a,buttonGap:l,isMinimized:i,withDarkHoverBg:s,iconColor:c,blockButtonTooltip:d,muteOnTouch:u,size:m}){let f=n.useRef(-1),[h,g]=n.useState(!1),E=n.useCallback(()=>{f.current&&clearTimeout(f.current),f.current=window.setTimeout(()=>{g(!0)},100)},[g]),y=n.useCallback(()=>{f.current&&clearTimeout(f.current),g(!1)},[g]),v=n.useRef(null),b=n.useCallback(()=>{y()},[y]);(0,o.Xq)(v,"touchend",b);let w=n.useRef(null),T=(0,r.d4)(e=>e.timer),S=(0,p.IQ)(T.time);n.useEffect(()=>{S&&g(!1)},[S]),n.useEffect(()=>{g(!1)},[t]);let N=h;switch(t){case 1:N=!0;break;case 2:N=!1}return n.createElement("div",{ref:v,onTouchEnd:e=>{e.preventDefault(),e.stopPropagation(),h?y():E()},onMouseEnter:E,onMouseLeave:y,className:"volume_control_button--volumeButtonAndSliderContainer--HyG-F",style:{gap:l}},n.createElement(C,{muteButtonRef:w,isMinimized:i,withDarkHoverBg:s,iconColor:c,blockTooltip:d,muteOnTouch:u,size:m}),N&&n.createElement(_.S,{muteButtonRef:w,volumeJustification:e,fullWidth:a,isMinimized:i}))}},304298:(e,t,a)=>{a.d(t,{Z:()=>u,S:()=>m});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(244673),s=a(893606);let c="volume_slider--incognito--1BzqQ",d="volume_slider--thick--OwB1Y";var u=(e=>(e.LEFT="LEFT",e.RIGHT="RIGHT",e.CENTER="CENTER",e.INLINE="INLINE",e))(u||{});function m({muteButtonRef:e,volumeJustification:t,fullWidth:a,isMinimized:l}){let u=(0,r.d4)(e=>e.music.isMuted),m=(0,r.d4)(e=>u?0:e.music.volume),p=(0,s.R)(),_=(0,r.wA)(),f=e=>{e.preventDefault(),e.stopPropagation();let t=Number(e.target.value);_(o.pX(t))},h=0,g=0;if("INLINE"!==t){let a=e.current?.getClientRects()[0];if(!a)return n.createElement(n.Fragment,null," ");h=a.x,"CENTER"===t?h+=(a.width-144)/2:"RIGHT"===t&&(h=h+a.width-144),g=(a.y||0)+32+5}let E=m-(m-50)/50*3.8;return n.createElement("div",{className:i()("volume_slider--volumeContainer--jqCRj",{"volume_slider--volumeContainerRelative--2bSYx":"INLINE"===t,[c]:!l,[d]:!l&&p,"volume_slider--fullWidth--jnzDi":a}),style:{left:`${h||0}px`,top:`${g}px`}},n.createElement("input",{className:i()("volume_slider--volumeSliderInput--RHbwq",{"volume_slider--isMuted--cDjt7":u,[c]:!l&&!p,[d]:!l&&p}),style:{background:`linear-gradient(to right,
            var(--active-slider-color) 0%,
            var(--active-slider-color) ${E}%,
            var(--inactive-slider-color) ${E}%,
            var(--inactive-slider-color) 100%
          )`},type:"range",min:0,max:100,step:1,value:m,onChange:f,onMouseUp:e=>{let t=Number(e.target.value);_(o.tk({isMuted:0===t,userInitiated:!0}))},onInput:f,onTouchEnd:e=>{e.preventDefault(),e.stopPropagation()}}),"INLINE"!==t&&n.createElement("div",{className:i()({"volume_slider--additionalHoverDetection--IDArn":!l,"volume_slider--shallowAdditionalHoverDetection---8pNd":l})}))}},194092:(e,t,a)=>{a.d(t,{J:()=>M});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(374626),s=a(153234),c=a(939863),d=a(226055),u=a(369870),m=a(498606),p=a(318137),_=a(669074),f=a(322907),h=a(728406),g=a(802174),E=a(136068),y=a(304298),v=a(140871),b=a(522322),C=a(900073),w=a(487392),T=a(931828),S=a(309798);let N=e=>e.multiplayer.allUsers.filter((e,t,a)=>t===a.findIndex(t=>t.userID===e.userID)).length,x="seen_figjam_meetings_panel_gleam";var k=a(358145);let I={duration:1500,fill:"none"};function A(){return n.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"100%",height:"100%"}},n.createElement("g",{filter:"url(#filter0_d_3305_12330)"},n.createElement("path",{d:"M20.2469 10.6915L20.2471 10.6913C21.1037 9.81654 20.693 8.21534 19.3809 8.01578C19.3809 8.01577 19.3808 8.01576 19.3807 8.01575L14.8346 7.32381L12.7941 2.99403C12.2333 1.80375 10.5666 1.79999 10.0055 2.99476C10.0054 2.99498 10.0053 2.99521 10.0052 2.99543L7.96535 7.32381L3.41928 8.01575C3.41921 8.01576 3.41914 8.01577 3.41908 8.01578C2.107 8.21534 1.69633 9.81654 2.55291 10.6913L2.55308 10.6915L5.86693 14.0741L5.08327 18.8605C5.08326 18.8606 5.08325 18.8606 5.08324 18.8607C4.88746 20.0559 6.12574 21.1809 7.34457 20.5087L11.4 18.2756L15.4554 20.5087C15.4556 20.5088 15.4558 20.5088 15.456 20.5089C16.6746 21.1805 17.9125 20.0557 17.7168 18.8607C17.7167 18.8606 17.7167 18.8606 17.7167 18.8605L16.9331 14.0741L20.2469 10.6915Z",fill:"#FFC700",stroke:"white",strokeWidth:"1.8"}),n.createElement("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",fill:"url(#paint0_linear_3305_12330)"}),n.createElement("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",fill:"url(#paint1_linear_3305_12330)"}),n.createElement("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",stroke:"white",strokeWidth:"1.8"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_3305_12330",x:"-1.5",y:"-1",width:"27",height:"27",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"0.5"}),n.createElement("feGaussianBlur",{stdDeviation:"0.75"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3305_12330"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3305_12330",result:"shape"})),n.createElement("linearGradient",{id:"paint0_linear_3305_12330",x1:"13.5",y1:"12",x2:"21.9",y2:"21.6",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#F7C000"}),n.createElement("stop",{offset:"1",stopColor:"#E8B604"})),n.createElement("linearGradient",{id:"paint1_linear_3305_12330",x1:"21.9",y1:"21.6",x2:"13.5",y2:"12",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),n.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}let L="meeting_tools_toolbar--withHover--r7Sks",O="meeting_tools_toolbar--selected--Lt0iR",R="meeting_tools_toolbar--hide--t1ZI-";function M(){let e=(0,d.GS)(),t=(0,o.md)(C.Qs),a=(0,w.qU)(),l=(0,w.MR)(),_=(0,w.II)(),[A]=(0,g.Jg)(),{renderGleam:M}=function(e){let[t,a]=n.useState(!1),l=(0,r.d4)(N),i=(0,S.f)(x),o=(0,r.wA)(),s=l>1&&!i;return n.useEffect(()=>{if(!s)return;let t=window.setTimeout(()=>{a(!0),o(T.b({[x]:!0}))},e?.delay_ms||1e4);return()=>clearTimeout(t)},[s,e?.delay_ms,o]),{renderGleam:t}}({delay_ms:2e3}),F=n.useCallback(()=>{t.isOpen?a({source:w.OO.MEETINGS_TOOLBAR}):l({source:w.OO.MEETINGS_TOOLBAR})},[t,a,l]),B=function(){let e=(0,d.GS)(),t=(0,w.II)();if(0===t.length)return"ALL";let a=1===t.length&&t.includes(C.sx.TIMER);return 1===t.length&&t.includes(C.sx.VOTING)||2===t.length&&t.includes(C.sx.VOTING)&&t.includes(C.sx.TIMER)?"VOTE":e&&a?"NONE":"MUSIC"}(),U=function(){let e=(0,w.II)(),t=(0,d.GS)();return 0===e.length?t?f.sD.SECONDARY:f.sD.TERTIARY:e.includes(C.sx.TIMER)&&e.includes(C.sx.VOTING)?f.sD.SECONDARY:f.sD.DEFAULT}(),H=_.includes(C.sx.TIMER)||0===_.length,G=_.includes(C.sx.MUSIC),V=function(){let e=(0,w.II)(),t=(0,v.C3)(),a=(0,r.d4)(e=>e.music.music),n=a?.selectedSongID||"",l=(0,p.N)(n);return e.includes(C.sx.VOTING)&&t?(0,b.DG)(t):e.includes(C.sx.MUSIC)&&1===e.length?l?.title:void 0}(),z=n.useRef(null),K=n.useRef(null),W=n.useRef(null),j=n.useRef(null),Z=n.useRef(null);!function(e,t,a,r,l,i,s){let[c,d]=n.useState([]);n.useLayoutEffect(()=>{let n={transform:"scale(1)",boxShadow:"0px 0px 0px 0px var(--color-border)"},i={backgroundColor:"var(--color-bg-figjam)"};s&&(i.borderColor="var(--color-bg-figjam)");let o=new KeyframeEffect(e.current,[{offset:0,...n},{offset:.2,...n},{offset:.4,transform:"scale(1.05)",boxShadow:"0px 2.5px 5px 0px var(--color-border)"},{offset:.5,...n},{offset:.6,transform:"scale(1.025)",boxShadow:"0px 1.25px 2.5px 0px var(--color-border)"},{offset:.8,...n},{offset:1,...n}],I),c=new KeyframeEffect(l.current,[{offset:.4,...i},{offset:.62,...i},{offset:.77,backgroundColor:"var(--color-bg-secondary)"}],I),u=new KeyframeEffect(t.current,[{offset:0,backgroundColor:"#959595"},{offset:.5,backgroundColor:"#959595"},{offset:1,backgroundColor:"var(--color-bg-figjam)"}],I),m=new KeyframeEffect(r.current,[{offset:0,filter:"grayscale(80%)"},{offset:.5,filter:"grayscale(80%)"},{offset:1,filter:"grayscale(0%)"}],I),p=new KeyframeEffect(a.current,s?[{offset:.4,color:"var(--color-text-onfigjam)"},{offset:.62,color:"var(--color-text-onfigjam)"}]:[{offset:.4,color:"var(--color-text-onfigjam-tertiary)"},{offset:.62,color:"var(--color-text-onfigjam-tertiary)"},{offset:.77,color:"var(--color-text-tertiary)"}],I);d([s?void 0:o,u,p,m,c].filter(e=>!!e).map(e=>new Animation(e,document.timeline)))},[e,t,a,r,l,s]),function(e,t,a){let r=(0,k.ZC)(e),l=(0,o.md)(C.Qs),i=(0,w.II)(),s=l.isOpen||i.length>0;n.useEffect(()=>{s||(e&&!r&&t(),!e&&r&&a())},[e,t,a,r,i,s])}(i,n.useCallback(()=>{c.forEach(e=>{e.playbackRate=1,e.play()})},[c]),n.useCallback(()=>{c.forEach(e=>{e.playbackRate=-1,e.play()})},[c]))}(z,W,j,Z,K,M,e);let Y=function(e){let t=(0,o.md)(C.Qs),a=(0,w.II)();return!e&&!t.isOpen&&0===a.length}(M),X=(0,w.$3)(),q=(0,b.Av)(),J=e?t.isOpen||_.length>0:t.isOpen;return n.createElement("div",{ref:z,className:i()("meeting_tools_toolbar--toolbarItemContainer--3HgdD",{"meeting_tools_toolbar--meetDeviceToolbarItemContainer--8R79s":(0,u.eM)(),"meeting_tools_toolbar--hasVolumeControl--jaTZr":G})},n.createElement("button",{ref:K,className:i()("meeting_tools_toolbar--toolbarItemButton--VBNmh",{[O]:J,[L]:!X}),onClick:s.rf("meetingsPanelToolbar","click",F),"data-tooltip-type":m.Ib.TEXT,"data-tooltip":q?(0,c.t)("meetings_panel.toolbar_tooltip"):(0,c.t)("meetings_panel.toolbar_tooltip.no_voting"),"aria-label":q?(0,c.t)("meetings_panel.toolbar.aria_label"):(0,c.t)("meetings_panel.toolbar.aria_label.no_voting"),"aria-pressed":J,"data-onboarding-key":"meeting-panel-button"},n.createElement(D,{icon:B,maskRef:W,starContainerRef:Z,renderAsPreGleam:Y,isUI3:e}),n.createElement("div",{className:i()("meeting_tools_toolbar--textWrapper--eikYA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",{[O]:J})},V),n.createElement(P,{width:V&&H?8:0}),n.createElement("div",{className:i()("meeting_tools_toolbar--minimizedTimerWrapper--adc47",{[R]:!H})},_.includes(C.sx.TIMER)?n.createElement(n.Fragment,null,n.createElement(f.k$,{isSelected:J,prominence:U,size:f.ZP.XSMALL,withoutTimeShadow:!0,withoutFlashOnPause:!0,withoutUnderline:!0,timeDivRef:j,isInUI3Toolbar:e})):n.createElement(n.Fragment,null,n.createElement(f.p0,{isSelected:J,prominence:U,size:f.ZP.XSMALL,withoutTimeShadow:!0,withoutUnderline:!0,timeDivRef:j,timeInSeconds:(0,h.RE)(A),isInUI3Toolbar:e})))),_.includes(C.sx.MUSIC)&&n.createElement("div",{className:i()("meeting_tools_toolbar--volumeControlContainer--gXf-m",{[O]:J,[R]:!_.includes(C.sx.MUSIC),[L]:!X})},n.createElement(E.aY,{volumeJustification:y.Z.CENTER,isMinimized:!0,iconColor:J?e?E.J.FIGJAM:E.J.ON_FIGJAM:E.J.DEFAULT,blockButtonTooltip:!0,sliderVisibilitySetting:t.isOpen||X?E.s1.NEVER:E.s1.DEFAULT,muteOnTouch:X,size:e?E.nh.LARGE:E.nh.DEFAULT})))}function D({icon:e,maskRef:t,starContainerRef:a,renderAsPreGleam:r,isUI3:l}){return"NONE"===e?null:n.createElement("div",{className:i()("meeting_tools_toolbar--iconContainer--n2hs5",{"meeting_tools_toolbar--single--h9cHX":"ALL"!==e})},n.createElement("div",{className:i()("meeting_tools_toolbar--recordIcon--D6vfx meeting_tools_toolbar--icon--EVBBt",{[R]:"MUSIC"!==e&&"ALL"!==e})},n.createElement(_.m,{size:"xsmall",maskAlbumArtWhenPaused:!0,maskRef:t,useGrayMask:r,useLightShadow:l})),n.createElement("div",{className:i()("meeting_tools_toolbar--starIcon--37MdY meeting_tools_toolbar--icon--EVBBt",{"meeting_tools_toolbar--leftAlign--G1Vob":"VOTE"===e,[R]:"VOTE"!==e&&"ALL"!==e})},n.createElement("div",{ref:a,className:i()("meeting_tools_toolbar--starContainer--4lbzy",{"meeting_tools_toolbar--grayedOut--deQf-":r})},n.createElement(A,null))))}function P(e){return n.createElement("div",{style:{width:e.width||0}})}var F=(e=>(e.ALL="ALL",e.MUSIC="MUSIC",e.VOTE="VOTE",e.NONE="NONE",e))(F||{})},488914:(e,t,a)=>{a.d(t,{Cx:()=>s,Tb:()=>o,UT:()=>c});var n=a(38580),r=a(368702);let l=(0,n.eU)({type:"CLOSED"}),i=(0,n.eU)(e=>e(l),(e,t,a)=>{t(l,a)}),o=(0,n.eU)(e=>e(i));(0,n.eU)(null,(e,t,a)=>{if(!a||!a.trim()){t(i,{type:"ALL"});return}t(i,{type:"SEARCH",searchQuery:a})}),(0,n.eU)(null,(e,t)=>{t(i,{type:"ALL"})});let s=(0,n.eU)(null,(e,t)=>{t(i,{type:"CLOSED"})}),c=(0,n.eU)(null,(e,t)=>{(0,r.W)("left",()=>{t(s)}),t(i,{type:"ALL"})})},655515:(e,t,a)=>{a.d(t,{Cx:()=>s,ET:()=>i,UT:()=>o});var n=a(38580),r=a(368702);let l=(0,n.eU)(!1),i=(0,n.eU)(e=>e(l)),o=(0,n.eU)(null,(e,t)=>{(0,r.W)("left",()=>{t(s)}),t(l,!0)}),s=(0,n.eU)(null,(e,t)=>{t(l,!1)})},2342:(e,t,a)=>{a.d(t,{w:()=>c});var n=a(411855),r=a(629019),l=a.n(r),i=a(799569),o=a(762638),s=a(226055);function c({showBottomBorder:e=!0,title:t,onClose:a,badge:r,backButton:c,inputField:d,closeButtonInnerText:u}){return(0,s.GS)()?function({title:e,onClose:t,badge:a,closeButtonInnerText:r}){return n.createElement("div",{className:"figjam_panel_header--headerContainer--fVdY4"},n.createElement("div",{className:"figjam_panel_header--title--n9fHo"},e),n.createElement("div",{className:o.cx.flex.itemsCenter.gap4.$},a,n.createElement(i.Jn,{onClick:t,innerText:r||"close"})))}({title:t,onClose:a,badge:r,closeButtonInnerText:u}):function({showBottomBorder:e,title:t,onClose:a,badge:r,backButton:s,inputField:c,closeButtonInnerText:d}){return n.createElement(n.Fragment,null,n.createElement("div",{className:l()("figjam_panel_header--headerContainerUI2--9ku6y",{[o.cx.pl8.$]:s,[o.cx.pl16.$]:!s,"figjam_panel_header--withBottomBorder--TYv8K":e})},n.createElement("div",{className:o.cx.flex.itemsCenter.gap4.$},s,n.createElement("div",{className:o.cx.font13.fontSemiBold.$},t)),n.createElement("div",{className:o.cx.flex.itemsCenter.gap4.$},r,n.createElement(i.Jn,{onClick:a,innerText:d||"close"}))),c&&n.createElement("div",{className:o.cx.pt12.px16.pb20.$},c))}({showBottomBorder:e,title:t,onClose:a,badge:r,backButton:c,inputField:d,closeButtonInnerText:u})}},861717:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(411855),r=a(629019),l=a.n(r),i=a(522739),o=a(672517),s=a(516398),c=a(498606);let d=(0,n.memo)((0,n.forwardRef)(function({tooltip:e,isActive:t,onClick:a,recordingKey:r,dataElementTarget:o,onboardingKey:d,disabled:u,dataTestId:m,children:p},_){let f=l()("figjam_right_panel_button--button--Ul-Xf",{"figjam_right_panel_button--active--hWdY1":t});return n.createElement(i.GG,{forwardedRef:_,className:f,"data-tooltip-type":e.type,"data-testid":m,"data-tooltip":e.type===c.Ib.TEXT?e.text:e.key,"data-element-target":o,onKeyDown:e=>(0,s.hx)({e,onClickHandler:a}),onClick:a,recordingKey:r,tabIndex:0,"aria-label":e.type===c.Ib.TEXT?e.text:e.ariaLabel,"aria-pressed":t,"data-fullscreen-intercept":!0,"data-onboarding-key":d,disabled:u},p)})),u=(0,o.tf)(d)},222903:(e,t,a)=>{a.d(t,{O:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.18 11.384a.5.5 0 0 0 .704-.064l2.5-3a.5.5 0 0 0 0-.64l-2.5-3a.5.5 0 1 0-.768.64L13.349 8l-2.233 2.68a.5.5 0 0 0 .064.704ZM4.82 4.616a.5.5 0 0 0-.704.064l-2.5 3a.5.5 0 0 0 0 .64l2.5 3a.5.5 0 1 0 .768-.64L2.651 8l2.233-2.68a.5.5 0 0 0-.064-.704Zm4.654.542a.5.5 0 1 0-.948-.316l-2 6a.5.5 0 0 0 .948.316l2-6Z",clipRule:"evenodd"}))}},293775:(e,t,a)=>{a.d(t,{C:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m4.7 4.7.315-1.26c.126-.505.844-.505.97 0L6.3 4.7l1.26.315c.505.126.505.844 0 .97L6.3 6.3l-.315 1.26c-.126.505-.844.505-.97 0L4.7 6.3l-1.26-.315c-.505-.126-.505-.844 0-.97L4.7 4.7Zm4.49 4.491 1.117-3.908c.486-1.702 2.898-1.702 3.384 0L14.81 9.19l3.908 1.117c1.702.486 1.702 2.898 0 3.384L14.81 14.81l-1.117 3.908c-.486 1.702-2.898 1.702-3.384 0L9.19 14.81l-3.908-1.117c-1.702-.486-1.702-2.898 0-3.384L9.19 9.19ZM10 10l1.27-4.442c.21-.735 1.25-.735 1.46 0L14 10l4.442 1.27c.735.21.735 1.25 0 1.46L14 14l-1.27 4.442c-.21.735-1.25.735-1.46 0L10 14l-4.442-1.27c-.735-.21-.735-1.25 0-1.46L10 10Zm8.015 6.44L17.7 17.7l-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0l.315-1.26 1.26-.315c.505-.126.505-.844 0-.97L19.3 17.7l-.315-1.26c-.126-.505-.844-.505-.97 0Z",clipRule:"evenodd"}))}},216980:(e,t,a)=>{a.d(t,{F:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 19.5 15-15m0 0H13m6.5 0V11"}))}},114535:(e,t,a)=>{a.d(t,{X:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M13.359 4.736c.122-.287-.03-.632-.34-.672A8 8 0 0 0 4 12v4.8c.001 1.12.001 1.68.219 2.108a2 2 0 0 0 .874.874C5.52 20 6.08 20 7.2 20H12a8 8 0 0 0 7.936-9.02c-.04-.309-.385-.461-.672-.339a.514.514 0 0 0-.313.528A7 7 0 0 1 12 19H7.2c-.577 0-.949 0-1.232-.024-.272-.022-.373-.06-.422-.085a1 1 0 0 1-.437-.437c-.025-.05-.063-.15-.085-.422C5 17.75 5 17.377 5 16.8V12a7 7 0 0 1 7.831-6.951.515.515 0 0 0 .528-.313Z",clipRule:"evenodd"}),n.createElement("circle",{cx:"17.5",cy:"6.5",r:"2.5",fill:"var(--color-icon-danger)"}))}},518943:(e,t,a)=>{a.d(t,{m:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("circle",{cx:"12",cy:"12",r:"8.5",stroke:"var(--color-icon)"}))}},522632:(e,t,a)=>{a.d(t,{v:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 4a.5.5 0 0 0-.5.5V7H4.5a.5.5 0 0 0 0 1H7v8H4.5a.5.5 0 0 0 0 1H7v2.5a.5.5 0 0 0 1 0V17h8v2.5a.5.5 0 0 0 1 0V17h2.5a.5.5 0 0 0 0-1H17V8h2.5a.5.5 0 0 0 0-1H17V4.5a.5.5 0 0 0-1 0V7H8V4.5a.5.5 0 0 0-.5-.5ZM16 8H8v8h8V8Z",clipRule:"evenodd"}))}},123252:(e,t,a)=>{a.d(t,{t:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.997 8.62H13V10a.5.5 0 0 0 1 0V5.923A1 1 0 0 1 15.997 6v2.62H16V10a.5.5 0 0 0 1 0V8a1 1 0 1 1 2 0v.62h.01v4.743a.954.954 0 0 1-.01.143.97.97 0 0 0-.007.07 6.773 6.773 0 0 1-6.756 6.287c-.162 0-.319-.004-.47-.01-1.535-.07-2.885-.786-4.107-1.92-1.23-1.141-2.28-2.66-3.188-4.219-.289-.495-.486-.88-.555-1.193a.614.614 0 0 1-.016-.263c.007-.029.022-.071.087-.135a.574.574 0 0 1 .517-.173c.224.03.518.165.807.434l.001.002 1 .945A1 1 0 0 0 8 12.604V6a1 1 0 0 1 2 0v4a.5.5 0 0 0 1 0V5a1 1 0 1 1 2 0v.89a2.08 2.08 0 0 0-.003.11v2.62ZM7 8.5V6a2 2 0 0 1 3.112-1.662 2 2 0 0 1 3.775-.002A2 2 0 0 1 16.997 6v.27A2 2 0 0 1 20 8v.5h.01v4.863c0 .096-.007.191-.02.284a7.773 7.773 0 0 1-7.753 7.216c-.177 0-.349-.004-.516-.012-3.682-.167-6.256-3.449-8.113-6.633-.565-.969-1.11-2.043-.316-2.813.793-.769 1.898-.504 2.705.25L6 11.66l1 .945V8.5Z",clipRule:"evenodd"}))}},87671:(e,t,a)=>{a.d(t,{W:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"m4.5 19.5 15-15"}))}},511324:(e,t,a)=>{a.d(t,{H:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("mask",{id:"fpl-icon-24-move-a",width:"17",height:"17",x:"4",y:"4",fill:"#000",maskUnits:"userSpaceOnUse"},n.createElement("path",{fill:"#fff",d:"M4 4h17v17H4z"}),n.createElement("path",{fillRule:"evenodd",d:"M19.294 12.063a1 1 0 0 0 .072-1.887l-13-5.107a1 1 0 0 0-1.297 1.297l5.107 13a1 1 0 0 0 1.887-.072l1.701-5.53 5.53-1.701Z",clipRule:"evenodd"})),n.createElement("path",{fill:"var(--color-icon)",d:"M19.294 12.063 19 11.107l.294.956Zm.072-1.887.365-.93-.365.93Zm-13-5.107.365-.93-.365.93ZM5.069 6.366l-.93.365.93-.365Zm5.107 13-.93.365.93-.365Zm1.887-.072L11.107 19l.956.294Zm1.701-5.53-.294-.955a1 1 0 0 0-.661.661l.955.294ZM19 11.107l.588 1.912a2 2 0 0 0 1.41-1.836L19 11.107Zm0 0 1.999.076a2 2 0 0 0-1.268-1.937L19 11.107ZM6 6l13 5.107.731-1.861-13-5.107L6 6Zm0 0 .731-1.861a2 2 0 0 0-2.145.447L6 6Zm0 0L4.586 4.586a2 2 0 0 0-.448 2.145L6 6Zm5.107 13L6 6l-1.862.731 5.108 13L11.107 19Zm0 0-1.861.731A2 2 0 0 0 11.183 21l-.076-2Zm0 0 .076 1.999a2 2 0 0 0 1.836-1.41L11.107 19Zm1.702-5.53L11.107 19l1.912.588 1.701-5.53-1.911-.588ZM19 11.107l-5.53 1.702.588 1.911 5.53-1.701L19 11.107Z",mask:"url(#fpl-icon-24-move-a)"}))}},610430:(e,t,a)=>{a.d(t,{N:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m18.174 14.902.182-.579c.496-1.58.17-3.383-1.563-5.116-.43-.431-1.11-.87-1.999-1.294-.877-.42-1.904-.8-2.982-1.14-2.027-.636-4.174-1.104-5.734-1.402l4.906 4.905a2 2 0 1 1-.707.708L5.372 6.078c.297 1.56.766 3.707 1.402 5.733.695 2.213 1.532 4.08 2.433 4.982 1.734 1.733 3.537 2.059 5.117 1.562l.579-.181.428.428L16.728 20 20 16.727l-1.397-1.397-.429-.428Zm1.136-.28 1.397 1.398a1 1 0 0 1 0 1.415l-3.272 3.271a1 1 0 0 1-1.414 0l-1.397-1.397c-1.974.62-4.157.158-6.124-1.81-2.184-2.183-3.573-8.342-4.167-11.531a1.39 1.39 0 0 1 1.635-1.636c3.19.595 9.348 1.984 11.532 4.167 1.967 1.967 2.43 4.15 1.81 6.124Zm-6.603-1.915a1 1 0 1 0-1.414-1.415 1 1 0 0 0 1.414 1.415Z",clipRule:"evenodd"}))}},544236:(e,t,a)=>{a.d(t,{L:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M3.008 4.124a1 1 0 0 1 1.116-1.116l4 .5a1 1 0 0 1 .583.285L20.5 15.586a2 2 0 0 1 0 2.828L18.414 20.5a2 2 0 0 1-2.828 0L3.793 8.707a1 1 0 0 1-.285-.583l-.5-4ZM4 4l.128 1.024L4.5 8l9.146 9.146 3.5-3.5L8 4.5l-2.976-.372L4 4Zm13.854 10.354-3.5 3.5 1.939 1.939a1 1 0 0 0 1.414 0l2.086-2.086a1 1 0 0 0 0-1.414l-1.94-1.94Z",clipRule:"evenodd"}))}},197067:(e,t,a)=>{a.d(t,{o:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{stroke:"var(--color-icon)",d:"M11.784 3.875a.25.25 0 0 1 .432 0l8.228 14.25a.25.25 0 0 1-.217.375H3.773a.25.25 0 0 1-.217-.375l8.227-14.25Z"}))}},55360:(e,t,a)=>{a.d(t,{P:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M20 5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM17.5 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm0 9a.5.5 0 0 1 .5.5V18h1.5a.5.5 0 0 1 0 1H18v1.5a.5.5 0 0 1-1 0V19h-1.5a.5.5 0 0 1 0-1H17v-1.5a.5.5 0 0 1 .5-.5ZM8.83 5.26 7.713 9.17 3.787 10.3l.277.962-.277-.961c-1.702.49-1.695 2.905.01 3.385l3.917 1.103 1.116 3.906c.486 1.702 2.898 1.702 3.384 0l1.117-3.908 3.908-1.117c1.702-.486 1.702-2.898 0-3.384l-3.908-1.117-1.117-3.908c-.486-1.702-2.898-1.702-3.384 0Zm-4.761 7.464c-.737-.208-.74-1.25-.005-1.462l4.458-1.284 1.27-4.443c.21-.735 1.25-.735 1.46 0l1.27 4.443 4.442 1.269c.735.21.735 1.252 0 1.462l-4.442 1.269-1.27 4.442c-.21.735-1.25.735-1.46 0l-1.27-4.442-4.453-1.254Z",clipRule:"evenodd"}))}},600432:(e,t,a)=>{a.d(t,{n:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("rect",{width:"15",height:"15",x:"4.5",y:"4.5",stroke:"var(--color-icon)",rx:"1.5"}))}},146751:(e,t,a)=>{a.d(t,{a:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6.5A1.5 1.5 0 0 1 6.5 5h11A1.5 1.5 0 0 1 19 6.5v11a1.5 1.5 0 0 1-1.5 1.5h-2a.5.5 0 0 0 0 1h2a2.5 2.5 0 0 0 2.5-2.5v-11A2.5 2.5 0 0 0 17.5 4h-11A2.5 2.5 0 0 0 4 6.5v2a.5.5 0 0 0 1 0v-2Zm6 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V9.707l-6.146 6.147a.5.5 0 0 1-.708-.708L14.293 9H11.5a.5.5 0 0 1-.5-.5Zm-7 3A1.5 1.5 0 0 1 5.5 10h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-5a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5h-7A1.5 1.5 0 0 1 4 18.5v-7Z",clipRule:"evenodd"}))}},219477:(e,t,a)=>{a.d(t,{e:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{stroke:"var(--color-icon)",d:"m14.526 9.158.114.342h6.2a.5.5 0 0 1 .287.909l-4.831 3.397-.304.214.117.352 1.929 5.81a.5.5 0 0 1-.77.56l-4.972-3.645L12 16.88l-.296.217-4.971 3.646a.5.5 0 0 1-.77-.56l1.928-5.81.117-.353-.304-.214-4.83-3.397A.5.5 0 0 1 3.16 9.5h6.2l.114-.342 2.052-6.154a.5.5 0 0 1 .948 0l2.052 6.154Z"}))}},775419:(e,t,a)=>{a.d(t,{Q:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 6h12a1 1 0 0 1 1 1v3H5V7a1 1 0 0 1 1-1Zm-1 5v6a1 1 0 0 0 1 1h3v-7H5Zm5 7h8a1 1 0 0 0 1-1v-6h-9v7ZM4 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V7Z",clipRule:"evenodd"}))}},55034:(e,t,a)=>{a.d(t,{B:()=>l});var n=a(411855),r=a(434228);function l(e){return(0,r.O)()?n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 7.5v-3H12m7.5 3v-3H12m0 0v15m0 0H9m3 0h3"})):n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 7.5v-3h7m7 3v-3h-7m0 0v14m0 0h-3m3 0h3"}))}}}]);

//# debugId=1d36eac8-a2c1-57d4-a4e5-157215e9acb4

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/34ec6c77b992555fdcf20917306838658fad62c4/4918-964b2379790c5b23.min.js.map